



<!DOCTYPE html>
<html lang="zh" class="no-js" data-version="v19.11" data-single-page="false">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://clickhouse.yandex/docs/zh/query_language/functions/array_functions/">
      
      
      
      <meta name="lang:clipboard.copy" content="复制">
      
      <meta name="lang:clipboard.copied" content="已复制">
      
      <meta name="lang:search.language" content="zh">
      
      <meta name="lang:search.pipeline.stopwords" content="">
      
      <meta name="lang:search.pipeline.trimmer" content="">
      
      <meta name="lang:search.result.none" content="没有找到符合条件的结果">
      
      <meta name="lang:search.result.one" content="找到 1 个符合条件的结果">
      
      <meta name="lang:search.result.other" content="# 个符合条件的结果">
      
      <meta name="lang:search.tokenizer" content="[\uff0c\u3002]+">
      
      <link rel="shortcut icon" href="../../../assets/images/favicon.ico">
    
    
      
        <title>数组函数 - ClickHouse文档 v19.11</title>
      
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
      <link rel="stylesheet" href="../../../assets/stylesheets/application.2a88008a.css">
      
        <link rel="stylesheet" href="../../../assets/stylesheets/application-palette.792431c1.css">
      
    
    
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/custom.css?96b39be?1582217245">
    
    
  </head>
  
  
    
    
    <body dir="ltr" data-md-color-primary="white" data-md-color-accent="white" class="md-lang-zh">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">

  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="/" title="ClickHouse文档 v19.11" class="md-header-nav__button md-logo">
          
            <img src="../../../images/logo.svg" width="40" height="40">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                ClickHouse文档 v19.11
              </span>
              <span class="md-header-nav__topic">
                数组函数
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" id="md-search__input" class="md-search__input" name="query" required placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">&#xE5CD;</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            键入以开始搜索
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div id="md-language-switch" class="md-header-nav__source">
            

  <a class="md-alt-lang"
     href="../../../../en/query_language/functions/array_functions/" class="md-flex__ellipsis md-header-nav__title"
     title="English">
    <svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none" viewBox="0 0 60 30"><clipPath id="t"><path d="M30,15 h30 v15 z v15 h-30 z h-30 v-15 z v-15 h30 z"/></clipPath><path fill="#00247d" d="M0,0 v30 h60 v-30 z"/><path stroke="#fff" stroke-width="6" d="M0,0 L60,30 M60,0 L0,30"/><path stroke="#cf142b" stroke-width="4" d="M0,0 L60,30 M60,0 L0,30" clip-path="url(#t)"/><path stroke="#fff" stroke-width="10" d="M30,0 v30 M0,15 h60"/><path stroke="#cf142b" stroke-width="6" d="M30,0 v30 M0,15 h60"/></svg>
  </a>

  <a class="md-alt-lang"
     href="../../../../ru/query_language/functions/array_functions/" class="md-flex__ellipsis md-header-nav__title"
     title="Russian">
    <svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none" viewBox="0 0 9 6"><rect width="9" height="3" fill="#fff"/><rect width="9" height="3" y="3" fill="#d52b1e"/><rect width="9" height="2" y="2" fill="#0039a6"/></svg>
  </a>

  <a class="md-alt-lang md-current-lang"
     href="../../../../zh/query_language/functions/array_functions/" class="md-flex__ellipsis md-header-nav__title"
     title="Chinese">
    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="none" viewBox="0 0 30 20"><defs><path id="s" fill="#ffde00" d="M0,-1 0.587785,0.809017 -0.951057,-0.309017H0.951057L-0.587785,0.809017z"/></defs><rect width="30" height="20" fill="#de2910"/><use transform="translate(5,5) scale(3)" xlink:href="#s"/><use transform="translate(10,2) rotate(23.036243)" xlink:href="#s"/><use transform="translate(12,4) rotate(45.869898)" xlink:href="#s"/><use transform="translate(12,7) rotate(69.945396)" xlink:href="#s"/><use transform="translate(10,9) rotate(20.659808)" xlink:href="#s"/></svg>
  </a>

  <a class="md-alt-lang"
     href="../../../../ja/query_language/functions/array_functions/" class="md-flex__ellipsis md-header-nav__title"
     title="Japanese">
    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="90" height="60" version="1.1" viewBox="0 0 90 60"><g id="surface1"><rect width="90" height="60" x="0" y="0" fill="#A0A0A0" fill-opacity="1" stroke="none"/><path fill="#FFF" fill-opacity="1" fill-rule="nonzero" stroke="none" d="M 0.601562 0.601562 L 89.398438 0.601562 L 89.398438 59.398438 L 0.601562 59.398438 Z M 0.601562 0.601562"/><path fill="#BE0026" fill-opacity="1" fill-rule="nonzero" stroke="none" d="M 63 30 C 63 39.941406 54.941406 48 45 48 C 35.058594 48 27 39.941406 27 30 C 27 20.058594 35.058594 12 45 12 C 54.941406 12 63 20.058594 63 30 Z M 63 30"/></g></svg>
  </a>

  <a class="md-alt-lang"
     href="../../../../fa/query_language/functions/array_functions/" class="md-flex__ellipsis md-header-nav__title"
     title="Farsi">
    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="none" viewBox="0 0 630 360"><rect width="630" height="360" fill="#da0000"/><rect width="630" height="240" fill="#fff"/><rect width="630" height="120" fill="#239f40"/><g transform="translate(8.4,100.4)"><g id="tb4"><g id="tb1" fill="none" stroke="#fff" stroke-width="2"><path id="tbp1" d="M0,1H26M1,10V5H9V9H17V5H12M4,9H6M26,9H21V5H29M29,0V9H37V0M33,0V9" transform="scale(1.4)"/><path id="tbp2" d="M0,7H9M10,7H19" transform="scale(2.8)"/><use y="120" xlink:href="#tbp2"/><use y="145.2" xlink:href="#tbp1"/></g><g id="tb3"><use x="56" xlink:href="#tb1"/><use x="112" xlink:href="#tb1"/><use x="168" xlink:href="#tb1"/></g></g><use x="168" xlink:href="#tb3"/><use x="392" xlink:href="#tb4"/></g><g fill="#da0000" transform="matrix(45,0,0,45,315,180)"><g id="emblem_half"><path d="M-0.54815,0.83638A0.912046,0.912046 0 0,0 0.328544,-0.722384A1,1 0 0,1 -0.54815,0.83638"/><path d="M0.618339,0.661409A0.763932,0.763932 0 0,0 0.421644,-0.741049A1,1 0 0,1 0.618339,0.661409"/><path d="M0,1 -0.05,0 0,-0.787278A0.309995,0.309995 0 0,0 0.118034,-0.688191V-0.100406L0.077809,0.892905z"/><path d="M-0.02,-0.85 0,-0.831217A0.14431,0.14431 0 0,0 0.252075,-0.967708A0.136408,0.136408 0 0,1 0,-0.924634"/></g><use transform="scale(-1,1)" xlink:href="#emblem_half"/></g></svg>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
                      <nav class="md-nav md-nav--primary" data-md-level="0">
  
  <label class="md-nav__title md-nav__title--site" for="drawer">
    ClickHouse文档 v19.11
  </label>

  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      



  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      介绍
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        介绍
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../../" title="概貌" class="md-nav__link">
      概貌
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../introduction/distinctive_features/" title="ClickHouse的独特功能" class="md-nav__link">
      ClickHouse的独特功能
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../introduction/features_considered_disadvantages/" title="ClickHouse功能可被视为缺点" class="md-nav__link">
      ClickHouse功能可被视为缺点
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../introduction/performance/" title="性能" class="md-nav__link">
      性能
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../introduction/ya_metrika_task/" title="Yandex.Metrica使用案例" class="md-nav__link">
      Yandex.Metrica使用案例
    </a>
  </li>


        
      </ul>
    </nav>
  </li>


    
      
      
      



  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      入门指南
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        入门指南
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../../getting_started/" title="部署运行" class="md-nav__link">
      部署运行
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-2" type="checkbox" id="nav-2-2">
    
    <label class="md-nav__link" for="nav-2-2">
      示例数据集
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-2">
        示例数据集
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../../getting_started/example_datasets/ontime/" title="航班飞行数据" class="md-nav__link">
      航班飞行数据
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../getting_started/example_datasets/nyc_taxi/" title="纽约市出租车数据" class="md-nav__link">
      纽约市出租车数据
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../getting_started/example_datasets/amplab_benchmark/" title="AMPLab大数据基准测试" class="md-nav__link">
      AMPLab大数据基准测试
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../getting_started/example_datasets/wikistat/" title="维基访问数据" class="md-nav__link">
      维基访问数据
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../getting_started/example_datasets/criteo/" title="Criteo TB级别点击日志" class="md-nav__link">
      Criteo TB级别点击日志
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../getting_started/example_datasets/star_schema/" title="Star Schema基准测试" class="md-nav__link">
      Star Schema基准测试
    </a>
  </li>


        
      </ul>
    </nav>
  </li>


        
      </ul>
    </nav>
  </li>


    
      
      
      



  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      客户端
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        客户端
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../../interfaces/" title="介绍" class="md-nav__link">
      介绍
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../interfaces/cli/" title="命令行客户端接口" class="md-nav__link">
      命令行客户端接口
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../interfaces/tcp/" title="原生客户端接口 (TCP)" class="md-nav__link">
      原生客户端接口 (TCP)
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../interfaces/http/" title="HTTP 客户端接口" class="md-nav__link">
      HTTP 客户端接口
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../interfaces/formats/" title="输入输出格式" class="md-nav__link">
      输入输出格式
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../interfaces/jdbc/" title="JDBC 驱动" class="md-nav__link">
      JDBC 驱动
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../interfaces/odbc/" title="ODBC 驱动" class="md-nav__link">
      ODBC 驱动
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-8" type="checkbox" id="nav-3-8">
    
    <label class="md-nav__link" for="nav-3-8">
      第三方
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-8">
        第三方
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../../interfaces/third-party/client_libraries/" title="客户端库" class="md-nav__link">
      客户端库
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../interfaces/third-party/integrations/" title="集成" class="md-nav__link">
      集成
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../interfaces/third-party/gui/" title="可视界面" class="md-nav__link">
      可视界面
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../interfaces/third-party/proxy/" title="代理" class="md-nav__link">
      代理
    </a>
  </li>


        
      </ul>
    </nav>
  </li>


        
      </ul>
    </nav>
  </li>


    
      
      
      



  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      数据类型
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        数据类型
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../../data_types/" title="介绍" class="md-nav__link">
      介绍
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../data_types/int_uint/" title="UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64" class="md-nav__link">
      UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../data_types/float/" title="Float32, Float64" class="md-nav__link">
      Float32, Float64
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../data_types/decimal/" title="Decimal" class="md-nav__link">
      Decimal
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../data_types/boolean/" title="Boolean values" class="md-nav__link">
      Boolean values
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../data_types/string/" title="String" class="md-nav__link">
      String
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../data_types/fixedstring/" title="FixedString(N)" class="md-nav__link">
      FixedString(N)
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../data_types/uuid/" title="UUID" class="md-nav__link">
      UUID
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../data_types/date/" title="Date" class="md-nav__link">
      Date
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../data_types/datetime/" title="DateTime" class="md-nav__link">
      DateTime
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../data_types/enum/" title="Enum" class="md-nav__link">
      Enum
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../data_types/array/" title="Array(T)" class="md-nav__link">
      Array(T)
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../data_types/nested_data_structures/aggregatefunction/" title="AggregateFunction(name, types_of_arguments...)" class="md-nav__link">
      AggregateFunction(name, types_of_arguments...)
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../data_types/tuple/" title="Tuple(T1, T2, ...)" class="md-nav__link">
      Tuple(T1, T2, ...)
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../data_types/nullable/" title="Nullable" class="md-nav__link">
      Nullable
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-16" type="checkbox" id="nav-4-16">
    
    <label class="md-nav__link" for="nav-4-16">
      Nested data structures
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-16">
        Nested data structures
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          
        
          
          
          



  <li class="md-nav__item">
    <a href="../../../data_types/nested_data_structures/nested/" title="Nested(Name1 Type1, Name2 Type2, ...)" class="md-nav__link">
      Nested(Name1 Type1, Name2 Type2, ...)
    </a>
  </li>


        
      </ul>
    </nav>
  </li>


        
          
          
          



  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-17" type="checkbox" id="nav-4-17">
    
    <label class="md-nav__link" for="nav-4-17">
      Special data types
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-17">
        Special data types
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          
        
          
          
          



  <li class="md-nav__item">
    <a href="../../../data_types/special_data_types/expression/" title="Expression" class="md-nav__link">
      Expression
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../data_types/special_data_types/set/" title="Set" class="md-nav__link">
      Set
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../data_types/special_data_types/nothing/" title="Nothing" class="md-nav__link">
      Nothing
    </a>
  </li>


        
      </ul>
    </nav>
  </li>


        
          
          
          



  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-18" type="checkbox" id="nav-4-18">
    
    <label class="md-nav__link" for="nav-4-18">
      Domains
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-18">
        Domains
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../../data_types/domains/overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../data_types/domains/ipv4/" title="IPv4" class="md-nav__link">
      IPv4
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../data_types/domains/ipv6/" title="IPv6" class="md-nav__link">
      IPv6
    </a>
  </li>


        
      </ul>
    </nav>
  </li>


        
      </ul>
    </nav>
  </li>


    
      
      
      



  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Table Engines
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Table Engines
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/table_engines/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-2" type="checkbox" id="nav-5-2">
    
    <label class="md-nav__link" for="nav-5-2">
      MergeTree Family
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-2">
        MergeTree Family
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/table_engines/mergetree/" title="MergeTree" class="md-nav__link">
      MergeTree
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/table_engines/replication/" title="Data Replication" class="md-nav__link">
      Data Replication
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/table_engines/custom_partitioning_key/" title="Custom Partitioning Key" class="md-nav__link">
      Custom Partitioning Key
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/table_engines/replacingmergetree/" title="ReplacingMergeTree" class="md-nav__link">
      ReplacingMergeTree
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/table_engines/summingmergetree/" title="SummingMergeTree" class="md-nav__link">
      SummingMergeTree
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/table_engines/aggregatingmergetree/" title="AggregatingMergeTree" class="md-nav__link">
      AggregatingMergeTree
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/table_engines/collapsingmergetree/" title="CollapsingMergeTree" class="md-nav__link">
      CollapsingMergeTree
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/table_engines/versionedcollapsingmergetree/" title="VersionedCollapsingMergeTree" class="md-nav__link">
      VersionedCollapsingMergeTree
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/table_engines/graphitemergetree/" title="GraphiteMergeTree" class="md-nav__link">
      GraphiteMergeTree
    </a>
  </li>


        
      </ul>
    </nav>
  </li>


        
          
          
          



  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-3" type="checkbox" id="nav-5-3">
    
    <label class="md-nav__link" for="nav-5-3">
      Log Family
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-3">
        Log Family
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/table_engines/log_family/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/table_engines/stripelog/" title="StripeLog" class="md-nav__link">
      StripeLog
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/table_engines/log/" title="Log" class="md-nav__link">
      Log
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/table_engines/tinylog/" title="TinyLog" class="md-nav__link">
      TinyLog
    </a>
  </li>


        
      </ul>
    </nav>
  </li>


        
          
          
          



  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-4" type="checkbox" id="nav-5-4">
    
    <label class="md-nav__link" for="nav-5-4">
      Integrations
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-4">
        Integrations
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/table_engines/kafka/" title="Kafka" class="md-nav__link">
      Kafka
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/table_engines/mysql/" title="MySQL" class="md-nav__link">
      MySQL
    </a>
  </li>


        
      </ul>
    </nav>
  </li>


        
          
          
          



  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-5" type="checkbox" id="nav-5-5">
    
    <label class="md-nav__link" for="nav-5-5">
      Special
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-5">
        Special
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/table_engines/distributed/" title="Distributed" class="md-nav__link">
      Distributed
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/table_engines/external_data/" title="External data" class="md-nav__link">
      External data
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/table_engines/dictionary/" title="Dictionary" class="md-nav__link">
      Dictionary
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/table_engines/merge/" title="Merge" class="md-nav__link">
      Merge
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/table_engines/file/" title="File" class="md-nav__link">
      File
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/table_engines/null/" title="Null" class="md-nav__link">
      Null
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/table_engines/set/" title="Set" class="md-nav__link">
      Set
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/table_engines/join/" title="Join" class="md-nav__link">
      Join
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/table_engines/url/" title="URL" class="md-nav__link">
      URL
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/table_engines/view/" title="View" class="md-nav__link">
      View
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/table_engines/materializedview/" title="MaterializedView" class="md-nav__link">
      MaterializedView
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/table_engines/memory/" title="Memory" class="md-nav__link">
      Memory
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/table_engines/buffer/" title="Buffer" class="md-nav__link">
      Buffer
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/table_engines/jdbc/" title="JDBC" class="md-nav__link">
      JDBC
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/table_engines/odbc/" title="ODBC" class="md-nav__link">
      ODBC
    </a>
  </li>


        
      </ul>
    </nav>
  </li>


        
      </ul>
    </nav>
  </li>


    
      
      
      


  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" checked>
    
    <label class="md-nav__link" for="nav-6">
      SQL语法
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        SQL语法
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          
        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/select/" title="SELECT" class="md-nav__link">
      SELECT
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/insert_into/" title="INSERT INTO" class="md-nav__link">
      INSERT INTO
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/create/" title="CREATE" class="md-nav__link">
      CREATE
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/alter/" title="ALTER" class="md-nav__link">
      ALTER
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/system/" title="SYSTEM" class="md-nav__link">
      SYSTEM
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/misc/" title="Other kinds of queries" class="md-nav__link">
      Other kinds of queries
    </a>
  </li>


        
          
          
          


  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-8" type="checkbox" id="nav-6-8" checked>
    
    <label class="md-nav__link" for="nav-6-8">
      Functions
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-8">
        Functions
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/functions/" title="介绍" class="md-nav__link">
      介绍
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/functions/arithmetic_functions/" title="算术函数" class="md-nav__link">
      算术函数
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/functions/comparison_functions/" title="比较函数" class="md-nav__link">
      比较函数
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/functions/logical_functions/" title="逻辑函数" class="md-nav__link">
      逻辑函数
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/functions/type_conversion_functions/" title="类型转换函数" class="md-nav__link">
      类型转换函数
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/functions/date_time_functions/" title="时间日期函数" class="md-nav__link">
      时间日期函数
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/functions/string_functions/" title="字符串函数" class="md-nav__link">
      字符串函数
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/functions/string_search_functions/" title="字符串搜索函数" class="md-nav__link">
      字符串搜索函数
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/functions/string_replace_functions/" title="字符串替换函数" class="md-nav__link">
      字符串替换函数
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/functions/conditional_functions/" title="条件函数 " class="md-nav__link">
      条件函数 
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/functions/math_functions/" title="数学函数" class="md-nav__link">
      数学函数
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/functions/rounding_functions/" title="取整函数" class="md-nav__link">
      取整函数
    </a>
  </li>


        
          
          
          


  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        数组函数
      </label>
    
    <a href="../../../query_language/functions/array_functions/" title="数组函数" class="md-nav__link md-nav__link--active">
      <strong>数组函数</strong>
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">目录</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#empty" title="empty" class="md-nav__link">
    empty
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#notempty" title="notEmpty" class="md-nav__link">
    notEmpty
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#array_functions-length" title="length" class="md-nav__link">
    length
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#emptyarrayuint8-emptyarrayuint16-emptyarrayuint32-emptyarrayuint64" title="emptyArrayUInt8, emptyArrayUInt16, emptyArrayUInt32, emptyArrayUInt64" class="md-nav__link">
    emptyArrayUInt8, emptyArrayUInt16, emptyArrayUInt32, emptyArrayUInt64
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#emptyarrayint8-emptyarrayint16-emptyarrayint32-emptyarrayint64" title="emptyArrayInt8, emptyArrayInt16, emptyArrayInt32, emptyArrayInt64" class="md-nav__link">
    emptyArrayInt8, emptyArrayInt16, emptyArrayInt32, emptyArrayInt64
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#emptyarrayfloat32-emptyarrayfloat64" title="emptyArrayFloat32, emptyArrayFloat64" class="md-nav__link">
    emptyArrayFloat32, emptyArrayFloat64
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#emptyarraydate-emptyarraydatetime" title="emptyArrayDate, emptyArrayDateTime" class="md-nav__link">
    emptyArrayDate, emptyArrayDateTime
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#emptyarraystring" title="emptyArrayString" class="md-nav__link">
    emptyArrayString
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#emptyarraytosingle" title="emptyArrayToSingle" class="md-nav__link">
    emptyArrayToSingle
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#range-n" title="range(N)" class="md-nav__link">
    range(N)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#array-x1-operator-91-x1-93" title="array(x1, ...), operator [x1, ...]" class="md-nav__link">
    array(x1, ...), operator [x1, ...]
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arrayconcat" title="arrayConcat" class="md-nav__link">
    arrayConcat
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arrayelement-arr-n-operator-arr-n" title="arrayElement(arr, n), operator arr[n]" class="md-nav__link">
    arrayElement(arr, n), operator arr[n]
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#has-arr-elem" title="has(arr, elem)" class="md-nav__link">
    has(arr, elem)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hasall" title="hasAll" class="md-nav__link">
    hasAll
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hasany" title="hasAny" class="md-nav__link">
    hasAny
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#indexof-arr-x" title="indexOf(arr, x)" class="md-nav__link">
    indexOf(arr, x)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#countequal-arr-x" title="countEqual(arr, x)" class="md-nav__link">
    countEqual(arr, x)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#array_functions-arrayenumerate" title="arrayEnumerate(arr)" class="md-nav__link">
    arrayEnumerate(arr)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arrayenumerateuniq-arr" title="arrayEnumerateUniq(arr, ...)" class="md-nav__link">
    arrayEnumerateUniq(arr, ...)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arraypopback" title="arrayPopBack" class="md-nav__link">
    arrayPopBack
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arraypopfront" title="arrayPopFront" class="md-nav__link">
    arrayPopFront
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arraypushback" title="arrayPushBack" class="md-nav__link">
    arrayPushBack
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arraypushfront" title="arrayPushFront" class="md-nav__link">
    arrayPushFront
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arrayresize" title="arrayResize" class="md-nav__link">
    arrayResize
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arrayslice" title="arraySlice" class="md-nav__link">
    arraySlice
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#array_functions-reverse-sort" title="arraySort([func,] arr, ...)" class="md-nav__link">
    arraySort([func,] arr, ...)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#array_functions-reverse-sort" title="arrayReverseSort([func,] arr, ...)" class="md-nav__link">
    arrayReverseSort([func,] arr, ...)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arrayuniq-arr" title="arrayUniq(arr, ...)" class="md-nav__link">
    arrayUniq(arr, ...)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#array_functions-join" title="arrayJoin(arr)" class="md-nav__link">
    arrayJoin(arr)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arraydifference-arr" title="arrayDifference(arr)" class="md-nav__link">
    arrayDifference(arr)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arraydistinct-arr" title="arrayDistinct(arr)" class="md-nav__link">
    arrayDistinct(arr)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arrayenumeratedense-arr" title="arrayEnumerateDense(arr)" class="md-nav__link">
    arrayEnumerateDense(arr)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arrayintersect-arr" title="arrayIntersect(arr)" class="md-nav__link">
    arrayIntersect(arr)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arrayreduce-agg-func-arr1" title="arrayReduce(agg_func, arr1, ...)" class="md-nav__link">
    arrayReduce(agg_func, arr1, ...)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arrayreverse-arr" title="arrayReverse(arr)" class="md-nav__link">
    arrayReverse(arr)
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/functions/splitting_merging_functions/" title="字符串拆分合并函数" class="md-nav__link">
      字符串拆分合并函数
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/functions/bit_functions/" title="位操作函数" class="md-nav__link">
      位操作函数
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/functions/bitmap_functions/" title="位图函数" class="md-nav__link">
      位图函数
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/functions/hash_functions/" title="Hash函数" class="md-nav__link">
      Hash函数
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/functions/random_functions/" title="随机函数" class="md-nav__link">
      随机函数
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/functions/encoding_functions/" title="编码函数" class="md-nav__link">
      编码函数
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/functions/uuid_functions/" title="UUID函数" class="md-nav__link">
      UUID函数
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/functions/url_functions/" title="URL函数" class="md-nav__link">
      URL函数
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/functions/ip_address_functions/" title="IP函数" class="md-nav__link">
      IP函数
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/functions/json_functions/" title="JSON函数" class="md-nav__link">
      JSON函数
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/functions/higher_order_functions/" title="高阶函数" class="md-nav__link">
      高阶函数
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/functions/ext_dict_functions/" title="字典函数" class="md-nav__link">
      字典函数
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/functions/ym_dict_functions/" title="Yandex.Metrica字典函数" class="md-nav__link">
      Yandex.Metrica字典函数
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/functions/in_functions/" title="IN运算符相关函数" class="md-nav__link">
      IN运算符相关函数
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/functions/array_join/" title="arrayJoin函数" class="md-nav__link">
      arrayJoin函数
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/functions/geo/" title="GEO函数" class="md-nav__link">
      GEO函数
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/functions/functions_for_nulls/" title="Nullable处理函数" class="md-nav__link">
      Nullable处理函数
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/functions/machine_learning_functions/" title="机器学习函数" class="md-nav__link">
      机器学习函数
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/functions/other_functions/" title="其他函数" class="md-nav__link">
      其他函数
    </a>
  </li>


        
      </ul>
    </nav>
  </li>


        
          
          
          



  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-9" type="checkbox" id="nav-6-9">
    
    <label class="md-nav__link" for="nav-6-9">
      Aggregate functions
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-9">
        Aggregate functions
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/agg_functions/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/agg_functions/reference/" title="Function reference" class="md-nav__link">
      Function reference
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/agg_functions/combinators/" title="Aggregate function combinators" class="md-nav__link">
      Aggregate function combinators
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/agg_functions/parametric_functions/" title="Parametric aggregate functions" class="md-nav__link">
      Parametric aggregate functions
    </a>
  </li>


        
      </ul>
    </nav>
  </li>


        
          
          
          



  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-10" type="checkbox" id="nav-6-10">
    
    <label class="md-nav__link" for="nav-6-10">
      Table functions
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-10">
        Table functions
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/table_functions/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/table_functions/file/" title="file" class="md-nav__link">
      file
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/table_functions/merge/" title="merge" class="md-nav__link">
      merge
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/table_functions/numbers/" title="numbers" class="md-nav__link">
      numbers
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/table_functions/remote/" title="remote" class="md-nav__link">
      remote
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/table_functions/url/" title="url" class="md-nav__link">
      url
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/table_functions/mysql/" title="mysql" class="md-nav__link">
      mysql
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/table_functions/jdbc/" title="jdbc" class="md-nav__link">
      jdbc
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/table_functions/odbc/" title="odbc" class="md-nav__link">
      odbc
    </a>
  </li>


        
      </ul>
    </nav>
  </li>


        
          
          
          



  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-11" type="checkbox" id="nav-6-11">
    
    <label class="md-nav__link" for="nav-6-11">
      Dictionaries
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-11">
        Dictionaries
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/dicts/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-11-2" type="checkbox" id="nav-6-11-2">
    
    <label class="md-nav__link" for="nav-6-11-2">
      External dictionaries
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-6-11-2">
        External dictionaries
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/dicts/external_dicts/" title="General description" class="md-nav__link">
      General description
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/dicts/external_dicts_dict/" title="Configuring an external dictionary" class="md-nav__link">
      Configuring an external dictionary
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/dicts/external_dicts_dict_layout/" title="Storing dictionaries in memory" class="md-nav__link">
      Storing dictionaries in memory
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/dicts/external_dicts_dict_lifetime/" title="Dictionary updates" class="md-nav__link">
      Dictionary updates
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/dicts/external_dicts_dict_sources/" title="Sources of external dictionaries" class="md-nav__link">
      Sources of external dictionaries
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/dicts/external_dicts_dict_structure/" title="Dictionary key and fields" class="md-nav__link">
      Dictionary key and fields
    </a>
  </li>


        
      </ul>
    </nav>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/dicts/internal_dicts/" title="Internal dictionaries" class="md-nav__link">
      Internal dictionaries
    </a>
  </li>


        
      </ul>
    </nav>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/operators/" title="Operators" class="md-nav__link">
      Operators
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../query_language/syntax/" title="General syntax" class="md-nav__link">
      General syntax
    </a>
  </li>


        
      </ul>
    </nav>
  </li>


    
      
      
      



  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      运维
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        运维
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/requirements/" title="Requirements" class="md-nav__link">
      Requirements
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/monitoring/" title="Monitoring" class="md-nav__link">
      Monitoring
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/troubleshooting/" title="Troubleshooting" class="md-nav__link">
      Troubleshooting
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/tips/" title="Usage recommendations" class="md-nav__link">
      Usage recommendations
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/update/" title="ClickHouse Update" class="md-nav__link">
      ClickHouse Update
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/access_rights/" title="Access rights" class="md-nav__link">
      Access rights
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/backup/" title="Data backup" class="md-nav__link">
      Data backup
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/configuration_files/" title="Configuration files" class="md-nav__link">
      Configuration files
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/quotas/" title="Quotas" class="md-nav__link">
      Quotas
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/system_tables/" title="System tables" class="md-nav__link">
      System tables
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-12" type="checkbox" id="nav-7-12">
    
    <label class="md-nav__link" for="nav-7-12">
      Server configuration parameters
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-12">
        Server configuration parameters
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/server_settings/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/server_settings/settings/" title="Server settings" class="md-nav__link">
      Server settings
    </a>
  </li>


        
      </ul>
    </nav>
  </li>


        
          
          
          



  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-13" type="checkbox" id="nav-7-13">
    
    <label class="md-nav__link" for="nav-7-13">
      Settings
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-13">
        Settings
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/settings/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/settings/permissions_for_queries/" title="Permissions for queries" class="md-nav__link">
      Permissions for queries
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/settings/query_complexity/" title="Restrictions on query complexity" class="md-nav__link">
      Restrictions on query complexity
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/settings/settings/" title="Settings" class="md-nav__link">
      Settings
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/settings/settings_profiles/" title="Settings profiles" class="md-nav__link">
      Settings profiles
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/settings/settings_users/" title="User Settings" class="md-nav__link">
      User Settings
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/settings/constraints_on_settings/" title="Constraints on Settings" class="md-nav__link">
      Constraints on Settings
    </a>
  </li>


        
      </ul>
    </nav>
  </li>


        
          
          
          



  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-14" type="checkbox" id="nav-7-14">
    
    <label class="md-nav__link" for="nav-7-14">
      Utilities
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-14">
        Utilities
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/utils/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/utils/clickhouse-copier/" title="clickhouse-copier" class="md-nav__link">
      clickhouse-copier
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../operations/utils/clickhouse-local/" title="clickhouse-local" class="md-nav__link">
      clickhouse-local
    </a>
  </li>


        
      </ul>
    </nav>
  </li>


        
      </ul>
    </nav>
  </li>


    
      
      
      



  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      常见问题
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        常见问题
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../../faq/general/" title="一般的问题" class="md-nav__link">
      一般的问题
    </a>
  </li>


        
      </ul>
    </nav>
  </li>


    
      
      
      



  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      开发者指南
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        开发者指南
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          
        
          
          
          



  <li class="md-nav__item">
    <a href="../../../development/architecture/" title="ClickHouse架构概述" class="md-nav__link">
      ClickHouse架构概述
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../development/build/" title="如何在Linux中编译ClickHouse" class="md-nav__link">
      如何在Linux中编译ClickHouse
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../development/build_osx/" title="如何在Mac OS X中编译ClickHouse" class="md-nav__link">
      如何在Mac OS X中编译ClickHouse
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../development/style/" title="如何编写C++代码" class="md-nav__link">
      如何编写C++代码
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../development/tests/" title="如何运行ClickHouse测试" class="md-nav__link">
      如何运行ClickHouse测试
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../development/contrib/" title="使用的第三方库" class="md-nav__link">
      使用的第三方库
    </a>
  </li>


        
      </ul>
    </nav>
  </li>


    
      
      
      



  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      新功能特性
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        新功能特性
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          



  <li class="md-nav__item">
    <a href="../../../roadmap/" title="路线图" class="md-nav__link">
      路线图
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../changelog/" title="更新日志" class="md-nav__link">
      更新日志
    </a>
  </li>


        
          
          
          



  <li class="md-nav__item">
    <a href="../../../security_changelog/" title="安全更改日志" class="md-nav__link">
      安全更改日志
    </a>
  </li>


        
      </ul>
    </nav>
  </li>


    
  </ul>
  

  <ul id="md-extra-nav" class="md-nav__list" data-md-scrollfix>
    <li class="md-nav__item md-nav__item--active">
      发布:
      <span class="md-selector">
        <select id="releases-selector">
          <option value="">最新</option>
          
            <option value="v20.1"
              
            >v20.1</option>
          
            <option value="v19.17"
              
            >v19.17</option>
          
            <option value="v19.16"
              
            >v19.16</option>
          
            <option value="v19.15"
              
            >v19.15</option>
          
            <option value="v19.14"
              
            >v19.14</option>
          
            <option value="v19.13"
              
            >v19.13</option>
          
            <option value="v19.11"
              
                selected="selected"
              
            >v19.11</option>
          
            <option value="v19.10"
              
            >v19.10</option>
          
            <option value="v19.9"
              
            >v19.9</option>
          
            <option value="v19.8"
              
            >v19.8</option>
          
            <option value="v19.7"
              
            >v19.7</option>
          
        </select><span id="releases-selector-after">&nbsp;▾</span>
      </span>
    </li>
    <li class="md-nav__item md-nav__item--active">
        
          <a href="../../../single/" class="md-nav__link md-nav__link--active">单页版本</a>
        
    </li>
    <li class="md-nav__item md-nav__item--active">
          <a href="../../../single/clickhouse_zh.pdf" class="md-nav__link md-nav__link--active">PDF版本</a>
    </li>
    
    <li class="md-nav__item md-nav__item--active">
      <a href="https://github.com/ClickHouse/ClickHouse/" rel="external nofollow" target="_blank" class="md-nav__link">
        ClickHouse源代码
      </a>
    </li>
    
    <li class="md-nav__item md-nav__item--active">
        <span id="md-sidebar-flags" class="md-nav__link">
        

  <a class="md-alt-lang"
     href="../../../../en/query_language/functions/array_functions/" class="md-flex__ellipsis md-header-nav__title"
     title="English">
    <svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none" viewBox="0 0 60 30"><clipPath id="t"><path d="M30,15 h30 v15 z v15 h-30 z h-30 v-15 z v-15 h30 z"/></clipPath><path fill="#00247d" d="M0,0 v30 h60 v-30 z"/><path stroke="#fff" stroke-width="6" d="M0,0 L60,30 M60,0 L0,30"/><path stroke="#cf142b" stroke-width="4" d="M0,0 L60,30 M60,0 L0,30" clip-path="url(#t)"/><path stroke="#fff" stroke-width="10" d="M30,0 v30 M0,15 h60"/><path stroke="#cf142b" stroke-width="6" d="M30,0 v30 M0,15 h60"/></svg>
  </a>

  <a class="md-alt-lang"
     href="../../../../ru/query_language/functions/array_functions/" class="md-flex__ellipsis md-header-nav__title"
     title="Russian">
    <svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none" viewBox="0 0 9 6"><rect width="9" height="3" fill="#fff"/><rect width="9" height="3" y="3" fill="#d52b1e"/><rect width="9" height="2" y="2" fill="#0039a6"/></svg>
  </a>

  <a class="md-alt-lang md-current-lang"
     href="../../../../zh/query_language/functions/array_functions/" class="md-flex__ellipsis md-header-nav__title"
     title="Chinese">
    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="none" viewBox="0 0 30 20"><defs><path id="s" fill="#ffde00" d="M0,-1 0.587785,0.809017 -0.951057,-0.309017H0.951057L-0.587785,0.809017z"/></defs><rect width="30" height="20" fill="#de2910"/><use transform="translate(5,5) scale(3)" xlink:href="#s"/><use transform="translate(10,2) rotate(23.036243)" xlink:href="#s"/><use transform="translate(12,4) rotate(45.869898)" xlink:href="#s"/><use transform="translate(12,7) rotate(69.945396)" xlink:href="#s"/><use transform="translate(10,9) rotate(20.659808)" xlink:href="#s"/></svg>
  </a>

  <a class="md-alt-lang"
     href="../../../../ja/query_language/functions/array_functions/" class="md-flex__ellipsis md-header-nav__title"
     title="Japanese">
    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="90" height="60" version="1.1" viewBox="0 0 90 60"><g id="surface1"><rect width="90" height="60" x="0" y="0" fill="#A0A0A0" fill-opacity="1" stroke="none"/><path fill="#FFF" fill-opacity="1" fill-rule="nonzero" stroke="none" d="M 0.601562 0.601562 L 89.398438 0.601562 L 89.398438 59.398438 L 0.601562 59.398438 Z M 0.601562 0.601562"/><path fill="#BE0026" fill-opacity="1" fill-rule="nonzero" stroke="none" d="M 63 30 C 63 39.941406 54.941406 48 45 48 C 35.058594 48 27 39.941406 27 30 C 27 20.058594 35.058594 12 45 12 C 54.941406 12 63 20.058594 63 30 Z M 63 30"/></g></svg>
  </a>

  <a class="md-alt-lang"
     href="../../../../fa/query_language/functions/array_functions/" class="md-flex__ellipsis md-header-nav__title"
     title="Farsi">
    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="none" viewBox="0 0 630 360"><rect width="630" height="360" fill="#da0000"/><rect width="630" height="240" fill="#fff"/><rect width="630" height="120" fill="#239f40"/><g transform="translate(8.4,100.4)"><g id="tb4"><g id="tb1" fill="none" stroke="#fff" stroke-width="2"><path id="tbp1" d="M0,1H26M1,10V5H9V9H17V5H12M4,9H6M26,9H21V5H29M29,0V9H37V0M33,0V9" transform="scale(1.4)"/><path id="tbp2" d="M0,7H9M10,7H19" transform="scale(2.8)"/><use y="120" xlink:href="#tbp2"/><use y="145.2" xlink:href="#tbp1"/></g><g id="tb3"><use x="56" xlink:href="#tb1"/><use x="112" xlink:href="#tb1"/><use x="168" xlink:href="#tb1"/></g></g><use x="168" xlink:href="#tb3"/><use x="392" xlink:href="#tb4"/></g><g fill="#da0000" transform="matrix(45,0,0,45,315,180)"><g id="emblem_half"><path d="M-0.54815,0.83638A0.912046,0.912046 0 0,0 0.328544,-0.722384A1,1 0 0,1 -0.54815,0.83638"/><path d="M0.618339,0.661409A0.763932,0.763932 0 0,0 0.421644,-0.741049A1,1 0 0,1 0.618339,0.661409"/><path d="M0,1 -0.05,0 0,-0.787278A0.309995,0.309995 0 0,0 0.118034,-0.688191V-0.100406L0.077809,0.892905z"/><path d="M-0.02,-0.85 0,-0.831217A0.14431,0.14431 0 0,0 0.252075,-0.967708A0.136408,0.136408 0 0,1 0,-0.924634"/></g><use transform="scale(-1,1)" xlink:href="#emblem_half"/></g></svg>
  </a>

        </span>
    </li>
  </ul>
</nav>
                    
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
                      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">目录</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#empty" title="empty" class="md-nav__link">
    empty
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#notempty" title="notEmpty" class="md-nav__link">
    notEmpty
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#array_functions-length" title="length" class="md-nav__link">
    length
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#emptyarrayuint8-emptyarrayuint16-emptyarrayuint32-emptyarrayuint64" title="emptyArrayUInt8, emptyArrayUInt16, emptyArrayUInt32, emptyArrayUInt64" class="md-nav__link">
    emptyArrayUInt8, emptyArrayUInt16, emptyArrayUInt32, emptyArrayUInt64
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#emptyarrayint8-emptyarrayint16-emptyarrayint32-emptyarrayint64" title="emptyArrayInt8, emptyArrayInt16, emptyArrayInt32, emptyArrayInt64" class="md-nav__link">
    emptyArrayInt8, emptyArrayInt16, emptyArrayInt32, emptyArrayInt64
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#emptyarrayfloat32-emptyarrayfloat64" title="emptyArrayFloat32, emptyArrayFloat64" class="md-nav__link">
    emptyArrayFloat32, emptyArrayFloat64
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#emptyarraydate-emptyarraydatetime" title="emptyArrayDate, emptyArrayDateTime" class="md-nav__link">
    emptyArrayDate, emptyArrayDateTime
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#emptyarraystring" title="emptyArrayString" class="md-nav__link">
    emptyArrayString
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#emptyarraytosingle" title="emptyArrayToSingle" class="md-nav__link">
    emptyArrayToSingle
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#range-n" title="range(N)" class="md-nav__link">
    range(N)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#array-x1-operator-91-x1-93" title="array(x1, ...), operator [x1, ...]" class="md-nav__link">
    array(x1, ...), operator [x1, ...]
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arrayconcat" title="arrayConcat" class="md-nav__link">
    arrayConcat
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arrayelement-arr-n-operator-arr-n" title="arrayElement(arr, n), operator arr[n]" class="md-nav__link">
    arrayElement(arr, n), operator arr[n]
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#has-arr-elem" title="has(arr, elem)" class="md-nav__link">
    has(arr, elem)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hasall" title="hasAll" class="md-nav__link">
    hasAll
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hasany" title="hasAny" class="md-nav__link">
    hasAny
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#indexof-arr-x" title="indexOf(arr, x)" class="md-nav__link">
    indexOf(arr, x)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#countequal-arr-x" title="countEqual(arr, x)" class="md-nav__link">
    countEqual(arr, x)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#array_functions-arrayenumerate" title="arrayEnumerate(arr)" class="md-nav__link">
    arrayEnumerate(arr)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arrayenumerateuniq-arr" title="arrayEnumerateUniq(arr, ...)" class="md-nav__link">
    arrayEnumerateUniq(arr, ...)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arraypopback" title="arrayPopBack" class="md-nav__link">
    arrayPopBack
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arraypopfront" title="arrayPopFront" class="md-nav__link">
    arrayPopFront
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arraypushback" title="arrayPushBack" class="md-nav__link">
    arrayPushBack
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arraypushfront" title="arrayPushFront" class="md-nav__link">
    arrayPushFront
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arrayresize" title="arrayResize" class="md-nav__link">
    arrayResize
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arrayslice" title="arraySlice" class="md-nav__link">
    arraySlice
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#array_functions-reverse-sort" title="arraySort([func,] arr, ...)" class="md-nav__link">
    arraySort([func,] arr, ...)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#array_functions-reverse-sort" title="arrayReverseSort([func,] arr, ...)" class="md-nav__link">
    arrayReverseSort([func,] arr, ...)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arrayuniq-arr" title="arrayUniq(arr, ...)" class="md-nav__link">
    arrayUniq(arr, ...)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#array_functions-join" title="arrayJoin(arr)" class="md-nav__link">
    arrayJoin(arr)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arraydifference-arr" title="arrayDifference(arr)" class="md-nav__link">
    arrayDifference(arr)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arraydistinct-arr" title="arrayDistinct(arr)" class="md-nav__link">
    arrayDistinct(arr)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arrayenumeratedense-arr" title="arrayEnumerateDense(arr)" class="md-nav__link">
    arrayEnumerateDense(arr)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arrayintersect-arr" title="arrayIntersect(arr)" class="md-nav__link">
    arrayIntersect(arr)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arrayreduce-agg-func-arr1" title="arrayReduce(agg_func, arr1, ...)" class="md-nav__link">
    arrayReduce(agg_func, arr1, ...)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arrayreverse-arr" title="arrayReverse(arr)" class="md-nav__link">
    arrayReverse(arr)
  </a>
  
</li>
      
      
      
    </ul>
  
</nav>
                    
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  
                    <a href="https://github.com/ClickHouse/ClickHouse/edit/master/docs/zh/query_language/functions/array_functions.md" title="编辑此页" class="md-icon md-content__icon" rel="external nofollow">&#xE3C9;</a>
                  
                
                
                <div id="content">
                
                  <h1 id="shu-zu-han-shu">数组函数<a class="headerlink" href="#shu-zu-han-shu" title="Permanent link">&para;</a></h1>
<h2 id="empty">empty<a class="headerlink" href="#empty" title="Permanent link">&para;</a></h2>
<p>对于空数组返回1，对于非空数组返回0。
结果类型是UInt8。
该函数也适用于字符串。</p>
<h2 id="notempty">notEmpty<a class="headerlink" href="#notempty" title="Permanent link">&para;</a></h2>
<p>对于空数组返回0，对于非空数组返回1。
结果类型是UInt8。
该函数也适用于字符串。</p>
<h2 id="array_functions-length">length<a class="headerlink" href="#array_functions-length" title="Permanent link">&para;</a></h2>
<p>返回数组中的元素个数。
结果类型是UInt64。
该函数也适用于字符串。</p>
<h2 id="emptyarrayuint8-emptyarrayuint16-emptyarrayuint32-emptyarrayuint64">emptyArrayUInt8, emptyArrayUInt16, emptyArrayUInt32, emptyArrayUInt64<a class="headerlink" href="#emptyarrayuint8-emptyarrayuint16-emptyarrayuint32-emptyarrayuint64" title="Permanent link">&para;</a></h2>
<h2 id="emptyarrayint8-emptyarrayint16-emptyarrayint32-emptyarrayint64">emptyArrayInt8, emptyArrayInt16, emptyArrayInt32, emptyArrayInt64<a class="headerlink" href="#emptyarrayint8-emptyarrayint16-emptyarrayint32-emptyarrayint64" title="Permanent link">&para;</a></h2>
<h2 id="emptyarrayfloat32-emptyarrayfloat64">emptyArrayFloat32, emptyArrayFloat64<a class="headerlink" href="#emptyarrayfloat32-emptyarrayfloat64" title="Permanent link">&para;</a></h2>
<h2 id="emptyarraydate-emptyarraydatetime">emptyArrayDate, emptyArrayDateTime<a class="headerlink" href="#emptyarraydate-emptyarraydatetime" title="Permanent link">&para;</a></h2>
<h2 id="emptyarraystring">emptyArrayString<a class="headerlink" href="#emptyarraystring" title="Permanent link">&para;</a></h2>
<p>不接受任何参数并返回适当类型的空数组。</p>
<h2 id="emptyarraytosingle">emptyArrayToSingle<a class="headerlink" href="#emptyarraytosingle" title="Permanent link">&para;</a></h2>
<p>接受一个空数组并返回一个仅包含一个默认值元素的数组。</p>
<h2 id="range-n">range(N)<a class="headerlink" href="#range-n" title="Permanent link">&para;</a></h2>
<p>返回从0到N-1的数字数组。
以防万一，如果在数据块中创建总长度超过100,000,000个元素的数组，则抛出异常。</p>
<h2 id="array-x1-operator-91-x1-93">array(x1, ...), operator [x1, ...]<a class="headerlink" href="#array-x1-operator-91-x1-93" title="Permanent link">&para;</a></h2>
<p>使用函数的参数作为数组元素创建一个数组。
参数必须是常量，并且具有最小公共类型的类型。必须至少传递一个参数，否则将不清楚要创建哪种类型的数组。也就是说，你不能使用这个函数来创建一个空数组（为此，使用上面描述的'emptyArray \ *'函数）。
返回'Array（T）'类型的结果，其中'T'是传递的参数中最小的公共类型。</p>
<h2 id="arrayconcat">arrayConcat<a class="headerlink" href="#arrayconcat" title="Permanent link">&para;</a></h2>
<p>合并参数中传递的所有数组。</p>
<div class="codehilite"><pre><span></span><span class="err">arrayConcat(arrays)</span>
</pre></div>


<p><strong>参数</strong></p>
<ul>
<li><code>arrays</code> – 任意数量的<a href="../../../data_types/array/">Array</a>类型的参数.
<strong>示例</strong></li>
</ul>
<div class="codehilite"><pre><span></span><span class="k">SELECT</span> <span class="n">arrayConcat</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span> <span class="k">AS</span> <span class="n">res</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="err">┌─res───────────┐</span>
<span class="err">│ [1,2,3,4,5,6] │</span>
<span class="err">└───────────────┘</span>
</pre></div>


<h2 id="arrayelement-arr-n-operator-arr-n">arrayElement(arr, n), operator arr[n]<a class="headerlink" href="#arrayelement-arr-n-operator-arr-n" title="Permanent link">&para;</a></h2>
<p>从数组<code>arr</code>中获取索引为“n”的元素。 <code>n</code>必须是任何整数类型。
数组中的索引从一开始。
支持负索引。在这种情况下，它选择从末尾开始编号的相应元素。例如，<code>arr [-1]</code>是数组中的最后一项。</p>
<p>如果索引超出数组的边界，则返回默认值（数字为0，字符串为空字符串等）。</p>
<h2 id="has-arr-elem">has(arr, elem)<a class="headerlink" href="#has-arr-elem" title="Permanent link">&para;</a></h2>
<p>检查'arr'数组是否具有'elem'元素。
如果元素不在数组中，则返回0;如果在，则返回1。</p>
<p><code>NULL</code> 值的处理。</p>
<div class="codehilite"><pre><span></span><span class="k">SELECT</span> <span class="n">has</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="k">NULL</span><span class="p">],</span> <span class="k">NULL</span><span class="p">)</span>

<span class="err">┌─</span><span class="n">has</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="k">NULL</span><span class="p">],</span> <span class="k">NULL</span><span class="p">)</span><span class="err">─┐</span>
<span class="err">│</span>                       <span class="mi">1</span> <span class="err">│</span>
<span class="err">└─────────────────────────┘</span>
</pre></div>


<h2 id="hasall">hasAll<a class="headerlink" href="#hasall" title="Permanent link">&para;</a></h2>
<p>检查一个数组是否是另一个数组的子集。</p>
<div class="codehilite"><pre><span></span><span class="err">hasAll(set, subset)</span>
</pre></div>


<p><strong>参数</strong></p>
<ul>
<li><code>set</code> – 具有一组元素的任何类型的数组。</li>
<li><code>subset</code> – 任何类型的数组，其元素应该被测试为<code>set</code>的子集。</li>
</ul>
<p><strong>返回值</strong></p>
<ul>
<li><code>1</code>， 如果<code>set</code>包含<code>subset</code>中的所有元素。</li>
<li><code>0</code>， 否则。</li>
</ul>
<p><strong>特殊的定义</strong></p>
<ul>
<li>空数组是任何数组的子集。</li>
<li>“Null”作为数组中的元素值进行处理。</li>
<li>忽略两个数组中的元素值的顺序。</li>
</ul>
<p><strong>示例</strong></p>
<p><code>SELECT hasAll([], [])</code> returns 1.</p>
<p><code>SELECT hasAll([1, Null], [Null])</code> returns 1.</p>
<p><code>SELECT hasAll([1.0, 2, 3, 4], [1, 3])</code> returns 1.</p>
<p><code>SELECT hasAll(['a', 'b'], ['a'])</code> returns 1.</p>
<p><code>SELECT hasAll([1], ['a'])</code> returns 0.</p>
<p><code>SELECT hasAll([[1, 2], [3, 4]], [[1, 2], [3, 5]])</code> returns 0.</p>
<h2 id="hasany">hasAny<a class="headerlink" href="#hasany" title="Permanent link">&para;</a></h2>
<p>检查两个数组是否存在交集。</p>
<div class="codehilite"><pre><span></span><span class="err">hasAny(array1, array2)</span>
</pre></div>


<p><strong>参数</strong></p>
<ul>
<li><code>array1</code> – 具有一组元素的任何类型的数组。</li>
<li><code>array2</code> – 具有一组元素的任何类型的数组。</li>
</ul>
<p><strong>返回值</strong></p>
<ul>
<li><code>1</code>， 如果<code>array1</code>和<code>array2</code>存在交集。</li>
<li><code>0</code>， 否则。</li>
</ul>
<p><strong>特殊的定义</strong></p>
<ul>
<li>“Null”作为数组中的元素值进行处理。</li>
<li>忽略两个数组中的元素值的顺序。</li>
</ul>
<p><strong>示例</strong></p>
<p><code>SELECT hasAny([1], [])</code> returns <code>0</code>.</p>
<p><code>SELECT hasAny([Null], [Null, 1])</code> returns <code>1</code>.</p>
<p><code>SELECT hasAny([-128, 1., 512], [1])</code> returns <code>1</code>.</p>
<p><code>SELECT hasAny([[1, 2], [3, 4]], ['a', 'c'])</code> returns <code>0</code>.</p>
<p><code>SELECT hasAll([[1, 2], [3, 4]], [[1, 2], [1, 2]])</code> returns <code>1</code>.</p>
<h2 id="indexof-arr-x">indexOf(arr, x)<a class="headerlink" href="#indexof-arr-x" title="Permanent link">&para;</a></h2>
<p>返回数组中第一个‘x’元素的索引（从1开始），如果‘x’元素不存在在数组中，则返回0。</p>
<p>示例:</p>
<div class="codehilite"><pre><span></span><span class="p">:)</span> <span class="k">SELECT</span> <span class="n">indexOf</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="k">NULL</span><span class="p">,</span><span class="k">NULL</span><span class="p">],</span><span class="k">NULL</span><span class="p">)</span>

<span class="k">SELECT</span> <span class="n">indexOf</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="k">NULL</span><span class="p">],</span> <span class="k">NULL</span><span class="p">)</span>

<span class="err">┌─</span><span class="n">indexOf</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="k">NULL</span><span class="p">],</span> <span class="k">NULL</span><span class="p">)</span><span class="err">─┐</span>
<span class="err">│</span>                                 <span class="mi">3</span> <span class="err">│</span>
<span class="err">└───────────────────────────────────┘</span>
</pre></div>


<p>设置为“NULL”的元素将作为普通的元素值处理。</p>
<h2 id="countequal-arr-x">countEqual(arr, x)<a class="headerlink" href="#countequal-arr-x" title="Permanent link">&para;</a></h2>
<p>返回数组中等于x的元素的个数。相当于arrayCount（elem  - &gt; elem = x，arr）。</p>
<p><code>NULL</code>值将作为单独的元素值处理。</p>
<p>示例:</p>
<div class="codehilite"><pre><span></span><span class="k">SELECT</span> <span class="n">countEqual</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="k">NULL</span><span class="p">],</span> <span class="k">NULL</span><span class="p">)</span>

<span class="err">┌─</span><span class="n">countEqual</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="k">NULL</span><span class="p">],</span> <span class="k">NULL</span><span class="p">)</span><span class="err">─┐</span>
<span class="err">│</span>                                    <span class="mi">2</span> <span class="err">│</span>
<span class="err">└──────────────────────────────────────┘</span>
</pre></div>


<h2 id="array_functions-arrayenumerate">arrayEnumerate(arr)<a class="headerlink" href="#array_functions-arrayenumerate" title="Permanent link">&para;</a></h2>
<p>返回 Array [1, 2, 3, ..., length (arr) ]</p>
<p>此功能通常与ARRAY JOIN一起使用。它允许在应用ARRAY JOIN后为每个数组计算一次。例如：</p>
<div class="codehilite"><pre><span></span><span class="k">SELECT</span>
    <span class="k">count</span><span class="p">()</span> <span class="k">AS</span> <span class="n">Reaches</span><span class="p">,</span>
    <span class="n">countIf</span><span class="p">(</span><span class="n">num</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="k">AS</span> <span class="n">Hits</span>
<span class="k">FROM</span> <span class="n">test</span><span class="p">.</span><span class="n">hits</span>
<span class="nb">ARRAY</span> <span class="k">JOIN</span>
    <span class="n">GoalsReached</span><span class="p">,</span>
    <span class="n">arrayEnumerate</span><span class="p">(</span><span class="n">GoalsReached</span><span class="p">)</span> <span class="k">AS</span> <span class="n">num</span>
<span class="k">WHERE</span> <span class="n">CounterID</span> <span class="o">=</span> <span class="mi">160656</span>
<span class="k">LIMIT</span> <span class="mi">10</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="err">┌─Reaches─┬──Hits─┐</span>
<span class="err">│   95606 │ 31406 │</span>
<span class="err">└─────────┴───────┘</span>
</pre></div>


<p>在此示例中，Reaches是转换次数（应用ARRAY JOIN后接收的字符串），Hits是浏览量（ARRAY JOIN之前的字符串）。在这种特殊情况下，您可以更轻松地获得相同的结果：</p>
<div class="codehilite"><pre><span></span><span class="k">SELECT</span>
    <span class="k">sum</span><span class="p">(</span><span class="k">length</span><span class="p">(</span><span class="n">GoalsReached</span><span class="p">))</span> <span class="k">AS</span> <span class="n">Reaches</span><span class="p">,</span>
    <span class="k">count</span><span class="p">()</span> <span class="k">AS</span> <span class="n">Hits</span>
<span class="k">FROM</span> <span class="n">test</span><span class="p">.</span><span class="n">hits</span>
<span class="k">WHERE</span> <span class="p">(</span><span class="n">CounterID</span> <span class="o">=</span> <span class="mi">160656</span><span class="p">)</span> <span class="k">AND</span> <span class="n">notEmpty</span><span class="p">(</span><span class="n">GoalsReached</span><span class="p">)</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="err">┌─Reaches─┬──Hits─┐</span>
<span class="err">│   95606 │ 31406 │</span>
<span class="err">└─────────┴───────┘</span>
</pre></div>


<p>此功能也可用于高阶函数。例如，您可以使用它来获取与条件匹配的元素的数组索引。</p>
<h2 id="arrayenumerateuniq-arr">arrayEnumerateUniq(arr, ...)<a class="headerlink" href="#arrayenumerateuniq-arr" title="Permanent link">&para;</a></h2>
<p>返回与源数组大小相同的数组，其中每个元素表示与其下标对应的源数组元素在源数组中出现的次数。
例如：arrayEnumerateUniq（\ [10,20,10,30 ]）= \ [1,1,2,1 ]。</p>
<p>使用ARRAY JOIN和数组元素的聚合时，此函数很有用。</p>
<p>示例:</p>
<div class="codehilite"><pre><span></span><span class="k">SELECT</span>
    <span class="n">Goals</span><span class="p">.</span><span class="n">ID</span> <span class="k">AS</span> <span class="n">GoalID</span><span class="p">,</span>
    <span class="k">sum</span><span class="p">(</span><span class="n">Sign</span><span class="p">)</span> <span class="k">AS</span> <span class="n">Reaches</span><span class="p">,</span>
    <span class="n">sumIf</span><span class="p">(</span><span class="n">Sign</span><span class="p">,</span> <span class="n">num</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> <span class="k">AS</span> <span class="n">Visits</span>
<span class="k">FROM</span> <span class="n">test</span><span class="p">.</span><span class="n">visits</span>
<span class="nb">ARRAY</span> <span class="k">JOIN</span>
    <span class="n">Goals</span><span class="p">,</span>
    <span class="n">arrayEnumerateUniq</span><span class="p">(</span><span class="n">Goals</span><span class="p">.</span><span class="n">ID</span><span class="p">)</span> <span class="k">AS</span> <span class="n">num</span>
<span class="k">WHERE</span> <span class="n">CounterID</span> <span class="o">=</span> <span class="mi">160656</span>
<span class="k">GROUP</span> <span class="k">BY</span> <span class="n">GoalID</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">Reaches</span> <span class="k">DESC</span>
<span class="k">LIMIT</span> <span class="mi">10</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="err">┌──GoalID─┬─Reaches─┬─Visits─┐</span>
<span class="err">│   53225 │    3214 │   1097 │</span>
<span class="err">│ 2825062 │    3188 │   1097 │</span>
<span class="err">│   56600 │    2803 │    488 │</span>
<span class="err">│ 1989037 │    2401 │    365 │</span>
<span class="err">│ 2830064 │    2396 │    910 │</span>
<span class="err">│ 1113562 │    2372 │    373 │</span>
<span class="err">│ 3270895 │    2262 │    812 │</span>
<span class="err">│ 1084657 │    2262 │    345 │</span>
<span class="err">│   56599 │    2260 │    799 │</span>
<span class="err">│ 3271094 │    2256 │    812 │</span>
<span class="err">└─────────┴─────────┴────────┘</span>
</pre></div>


<p>在此示例中，每个GoalID都计算转换次数（目标嵌套数据结构中的每个元素都是达到的目标，我们称之为转换）和会话数。如果没有ARRAY JOIN，我们会将会话数计为总和（Sign）。但在这种特殊情况下，行乘以嵌套的Goals结构，因此为了在此之后计算每个会话一次，我们将一个条件应用于arrayEnumerateUniq（Goals.ID）函数的值。</p>
<p>arrayEnumerateUniq函数可以使用与参数大小相同的多个数组。在这种情况下，对于所有阵列中相同位置的元素元组，考虑唯一性。</p>
<div class="codehilite"><pre><span></span><span class="k">SELECT</span> <span class="n">arrayEnumerateUniq</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span> <span class="k">AS</span> <span class="n">res</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="err">┌─res───────────┐</span>
<span class="err">│ [1,2,1,1,2,1] │</span>
<span class="err">└───────────────┘</span>
</pre></div>


<p>当使用带有嵌套数据结构的ARRAY JOIN并在此结构中跨多个元素进一步聚合时，这是必需的。</p>
<h2 id="arraypopback">arrayPopBack<a class="headerlink" href="#arraypopback" title="Permanent link">&para;</a></h2>
<p>从数组中删除最后一项。</p>
<div class="codehilite"><pre><span></span><span class="err">arrayPopBack(array)</span>
</pre></div>


<p><strong>参数</strong></p>
<ul>
<li><code>array</code> – 数组。</li>
</ul>
<p><strong>示例</strong></p>
<div class="codehilite"><pre><span></span><span class="k">SELECT</span> <span class="n">arrayPopBack</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="k">AS</span> <span class="n">res</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="err">┌─res───┐</span>
<span class="err">│ [1,2] │</span>
<span class="err">└───────┘</span>
</pre></div>


<h2 id="arraypopfront">arrayPopFront<a class="headerlink" href="#arraypopfront" title="Permanent link">&para;</a></h2>
<p>从数组中删除第一项。</p>
<div class="codehilite"><pre><span></span><span class="err">arrayPopFront(array)</span>
</pre></div>


<p><strong>参数</strong></p>
<ul>
<li><code>array</code> – 数组。</li>
</ul>
<p><strong>示例</strong></p>
<div class="codehilite"><pre><span></span><span class="k">SELECT</span> <span class="n">arrayPopFront</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="k">AS</span> <span class="n">res</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="err">┌─res───┐</span>
<span class="err">│ [2,3] │</span>
<span class="err">└───────┘</span>
</pre></div>


<h2 id="arraypushback">arrayPushBack<a class="headerlink" href="#arraypushback" title="Permanent link">&para;</a></h2>
<p>添加一个元素到数组的末尾。</p>
<div class="codehilite"><pre><span></span><span class="err">arrayPushBack(array, single_value)</span>
</pre></div>


<p><strong>参数</strong></p>
<ul>
<li><code>array</code> – 数组。</li>
<li><code>single_value</code> – 单个值。只能将数字添加到带数字的数组中，并且只能将字符串添加到字符串数组中。添加数字时，ClickHouse会自动为数组的数据类型设置<code>single_value</code>类型。有关ClickHouse中数据类型的更多信息，请参阅“<a href="../../../data_types/#data_types">数据类型</a>”。可以是'NULL<code>。该函数向数组添加一个“NULL”元素，数组元素的类型转换为</code>Nullable`。</li>
</ul>
<p><strong>示例</strong></p>
<div class="codehilite"><pre><span></span><span class="k">SELECT</span> <span class="n">arrayPushBack</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">],</span> <span class="s1">&#39;b&#39;</span><span class="p">)</span> <span class="k">AS</span> <span class="n">res</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="err">┌─res───────┐</span>
<span class="err">│ [&#39;a&#39;,&#39;b&#39;] │</span>
<span class="err">└───────────┘</span>
</pre></div>


<h2 id="arraypushfront">arrayPushFront<a class="headerlink" href="#arraypushfront" title="Permanent link">&para;</a></h2>
<p>将一个元素添加到数组的开头。</p>
<div class="codehilite"><pre><span></span><span class="err">arrayPushFront(array, single_value)</span>
</pre></div>


<p><strong>参数</strong></p>
<ul>
<li><code>array</code> – 数组。</li>
<li><code>single_value</code> – 单个值。只能将数字添加到带数字的数组中，并且只能将字符串添加到字符串数组中。添加数字时，ClickHouse会自动为数组的数据类型设置<code>single_value</code>类型。有关ClickHouse中数据类型的更多信息，请参阅“<a href="../../../data_types/#data_types">数据类型</a>”。可以是'NULL<code>。该函数向数组添加一个“NULL”元素，数组元素的类型转换为</code>Nullable`。</li>
</ul>
<p><strong>示例</strong></p>
<div class="codehilite"><pre><span></span><span class="k">SELECT</span> <span class="n">arrayPushBack</span><span class="p">([</span><span class="s1">&#39;b&#39;</span><span class="p">],</span> <span class="s1">&#39;a&#39;</span><span class="p">)</span> <span class="k">AS</span> <span class="n">res</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="err">┌─res───────┐</span>
<span class="err">│ [&#39;a&#39;,&#39;b&#39;] │</span>
<span class="err">└───────────┘</span>
</pre></div>


<h2 id="arrayresize">arrayResize<a class="headerlink" href="#arrayresize" title="Permanent link">&para;</a></h2>
<p>更改数组的长度。</p>
<div class="codehilite"><pre><span></span><span class="err">arrayResize(array, size[, extender])</span>
</pre></div>


<p><strong>参数:</strong></p>
<ul>
<li><code>array</code> — 数组.</li>
<li><code>size</code> — 数组所需的长度。<ul>
<li>如果<code>size</code>小于数组的原始大小，则数组将从右侧截断。</li>
</ul>
</li>
<li>如果<code>size</code>大于数组的初始大小，则使用<code>extender</code>值或数组项的数据类型的默认值将数组扩展到右侧。</li>
<li><code>extender</code> — 扩展数组的值。可以是'NULL`。</li>
</ul>
<p><strong>返回值:</strong></p>
<p>一个<code>size</code>长度的数组。</p>
<p><strong>调用示例</strong></p>
<div class="codehilite"><pre><span></span><span class="k">SELECT</span> <span class="n">arrayResize</span><span class="p">([</span><span class="mi">1</span><span class="p">],</span> <span class="mi">3</span><span class="p">)</span>

<span class="err">┌─</span><span class="n">arrayResize</span><span class="p">([</span><span class="mi">1</span><span class="p">],</span> <span class="mi">3</span><span class="p">)</span><span class="err">─┐</span>
<span class="err">│</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>             <span class="err">│</span>
<span class="err">└─────────────────────┘</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="k">SELECT</span> <span class="n">arrayResize</span><span class="p">([</span><span class="mi">1</span><span class="p">],</span> <span class="mi">3</span><span class="p">,</span> <span class="k">NULL</span><span class="p">)</span>

<span class="err">┌─</span><span class="n">arrayResize</span><span class="p">([</span><span class="mi">1</span><span class="p">],</span> <span class="mi">3</span><span class="p">,</span> <span class="k">NULL</span><span class="p">)</span><span class="err">─┐</span>
<span class="err">│</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="k">NULL</span><span class="p">,</span><span class="k">NULL</span><span class="p">]</span>             <span class="err">│</span>
<span class="err">└───────────────────────────┘</span>
</pre></div>


<h2 id="arrayslice">arraySlice<a class="headerlink" href="#arrayslice" title="Permanent link">&para;</a></h2>
<p>返回一个子数组，包含从指定位置的指定长度的元素。</p>
<div class="codehilite"><pre><span></span><span class="err">arraySlice(array, offset[, length])</span>
</pre></div>


<p><strong>参数</strong></p>
<ul>
<li><code>array</code> –  数组。</li>
<li><code>offset</code> – 数组的偏移。正值表示左侧的偏移量，负值表示右侧的缩进值。数组下标从1开始。</li>
<li><code>length</code> - 子数组的长度。如果指定负值，则该函数返回<code>[offset，array_length  -  length</code>。如果省略该值，则该函数返回<code>[offset，the_end_of_array]</code>。</li>
</ul>
<p><strong>示例</strong></p>
<div class="codehilite"><pre><span></span><span class="k">SELECT</span> <span class="n">arraySlice</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="k">AS</span> <span class="n">res</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="err">┌─res────────┐</span>
<span class="err">│ [2,NULL,4] │</span>
<span class="err">└────────────┘</span>
</pre></div>


<p>设置为“NULL”的数组元素作为普通的数组元素值处理。</p>
<h2 id="array_functions-reverse-sort">arraySort([func,] arr, ...)<a class="headerlink" href="#array_functions-reverse-sort" title="Permanent link">&para;</a></h2>
<p>以升序对<code>arr</code>数组的元素进行排序。如果指定了<code>func</code>函数，则排序顺序由<code>func</code>函数的调用结果决定。如果<code>func</code>接受多个参数，那么<code>arraySort</code>函数也将解析与<code>func</code>函数参数相同数量的数组参数。更详细的示例在<code>arraySort</code>的末尾。</p>
<p>整数排序示例:</p>
<div class="codehilite"><pre><span></span><span class="k">SELECT</span> <span class="n">arraySort</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">]);</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="err">┌─arraySort([1, 3, 3, 0])─┐</span>
<span class="err">│ [0,1,3,3]               │</span>
<span class="err">└─────────────────────────┘</span>
</pre></div>


<p>字符串排序示例:</p>
<div class="codehilite"><pre><span></span><span class="k">SELECT</span> <span class="n">arraySort</span><span class="p">([</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="s1">&#39;world&#39;</span><span class="p">,</span> <span class="s1">&#39;!&#39;</span><span class="p">]);</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="err">┌─arraySort([&#39;hello&#39;, &#39;world&#39;, &#39;!&#39;])─┐</span>
<span class="err">│ [&#39;!&#39;,&#39;hello&#39;,&#39;world&#39;]              │</span>
<span class="err">└────────────────────────────────────┘</span>
</pre></div>


<p><code>NULL</code>，<code>NaN</code>和<code>Inf</code>的排序顺序：</p>
<div class="codehilite"><pre><span></span><span class="k">SELECT</span> <span class="n">arraySort</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="n">inf</span><span class="p">,</span> <span class="o">-</span><span class="n">inf</span><span class="p">]);</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="err">┌─arraySort([1, nan, 2, NULL, 3, nan, -4, NULL, inf, -inf])─┐</span>
<span class="err">│ [-inf,-4,1,2,3,inf,nan,nan,NULL,NULL]                     │</span>
<span class="err">└───────────────────────────────────────────────────────────┘</span>
</pre></div>


<ul>
<li><code>-Inf</code> 是数组中的第一个。</li>
<li><code>NULL</code> 是数组中的最后一个。</li>
<li><code>NaN</code> 在<code>NULL</code>的前面。</li>
<li><code>Inf</code> 在<code>NaN</code>的前面。</li>
</ul>
<p>注意：<code>arraySort</code>是<a href="../higher_order_functions/">高阶函数</a>。您可以将lambda函数作为第一个参数传递给它。在这种情况下，排序顺序由lambda函数的调用结果决定。</p>
<p>让我们来看一下如下示例：</p>
<div class="codehilite"><pre><span></span><span class="k">SELECT</span> <span class="n">arraySort</span><span class="p">((</span><span class="n">x</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="o">-</span><span class="n">x</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="k">as</span> <span class="n">res</span><span class="p">;</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="err">┌─res─────┐</span>
<span class="err">│ [3,2,1] │</span>
<span class="err">└─────────┘</span>
</pre></div>


<p>对于源数组的每个元素，lambda函数返回排序键，即[1 -&gt; -1, 2 -&gt; -2, 3 -&gt; -3]。由于<code>arraySort</code>函数按升序对键进行排序，因此结果为[3,2,1]。因此，<code>(x) -&gt; -x</code> lambda函数将排序设置为<a href="#array_functions-reverse-sort">降序</a>。</p>
<p>lambda函数可以接受多个参数。在这种情况下，您需要为<code>arraySort</code>传递与lambda参数个数相同的数组。函数使用第一个输入的数组中的元素组成返回结果；使用接下来传入的数组作为排序键。例如：</p>
<div class="codehilite"><pre><span></span><span class="k">SELECT</span> <span class="n">arraySort</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">y</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="s1">&#39;world&#39;</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span> <span class="k">as</span> <span class="n">res</span><span class="p">;</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="err">┌─res────────────────┐</span>
<span class="err">│ [&#39;world&#39;, &#39;hello&#39;] │</span>
<span class="err">└────────────────────┘</span>
</pre></div>


<p>这里，在第二个数组（[2, 1]）中定义了第一个数组（['hello'，'world']）的相应元素的排序键，即['hello' -&gt; 2，'world' -&gt; 1]。 由于lambda函数中没有使用<code>x</code>，因此源数组中的实际值不会影响结果的顺序。所以，‘world’将是结果中的第一个元素，‘hello’将是结果中的第二个元素。</p>
<p>其他示例如下所示。</p>
<div class="codehilite"><pre><span></span><span class="k">SELECT</span> <span class="n">arraySort</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">y</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">])</span> <span class="k">as</span> <span class="n">res</span><span class="p">;</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="err">┌─</span><span class="n">res</span><span class="err">─────┐</span>
<span class="err">│</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="err">│</span>
<span class="err">└─────────┘</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="k">SELECT</span> <span class="n">arraySort</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="o">-</span><span class="n">y</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="k">as</span> <span class="n">res</span><span class="p">;</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="err">┌─</span><span class="n">res</span><span class="err">─────┐</span>
<span class="err">│</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="err">│</span>
<span class="err">└─────────┘</span>
</pre></div>


<p>!!! 注意
    为了提高排序效率， 使用了<a href="https://en.wikipedia.org/wiki/Schwartzian_transform" rel="external nofollow">Schwartzian transform</a>。</p>
<h2 id="array_functions-reverse-sort">arrayReverseSort([func,] arr, ...)<a class="headerlink" href="#array_functions-reverse-sort" title="Permanent link">&para;</a></h2>
<p>以降序对<code>arr</code>数组的元素进行排序。如果指定了<code>func</code>函数，则排序顺序由<code>func</code>函数的调用结果决定。如果<code>func</code>接受多个参数，那么<code>arrayReverseSort</code>函数也将解析与<code>func</code>函数参数相同数量的数组作为参数。更详细的示例在<code>arrayReverseSort</code>的末尾。</p>
<p>整数排序示例:</p>
<div class="codehilite"><pre><span></span><span class="k">SELECT</span> <span class="n">arrayReverseSort</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">]);</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="err">┌─arrayReverseSort([1, 3, 3, 0])─┐</span>
<span class="err">│ [3,3,1,0]                      │</span>
<span class="err">└────────────────────────────────┘</span>
</pre></div>


<p>字符串排序示例:</p>
<div class="codehilite"><pre><span></span><span class="k">SELECT</span> <span class="n">arrayReverseSort</span><span class="p">([</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="s1">&#39;world&#39;</span><span class="p">,</span> <span class="s1">&#39;!&#39;</span><span class="p">]);</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="err">┌─arrayReverseSort([&#39;hello&#39;, &#39;world&#39;, &#39;!&#39;])─┐</span>
<span class="err">│ [&#39;world&#39;,&#39;hello&#39;,&#39;!&#39;]                     │</span>
<span class="err">└───────────────────────────────────────────┘</span>
</pre></div>


<p><code>NULL</code>，<code>NaN</code>和<code>Inf</code>的排序顺序：</p>
<div class="codehilite"><pre><span></span><span class="k">SELECT</span> <span class="n">arrayReverseSort</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">nan</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="n">inf</span><span class="p">,</span> <span class="o">-</span><span class="n">inf</span><span class="p">])</span> <span class="k">as</span> <span class="n">res</span><span class="p">;</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="err">┌─</span><span class="n">res</span><span class="err">───────────────────────────────────┐</span>
<span class="err">│</span> <span class="p">[</span><span class="n">inf</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span><span class="o">-</span><span class="n">inf</span><span class="p">,</span><span class="n">nan</span><span class="p">,</span><span class="n">nan</span><span class="p">,</span><span class="k">NULL</span><span class="p">,</span><span class="k">NULL</span><span class="p">]</span> <span class="err">│</span>
<span class="err">└───────────────────────────────────────┘</span>
</pre></div>


<ul>
<li><code>Inf</code> 是数组中的第一个。</li>
<li><code>NULL</code> 是数组中的最后一个。</li>
<li><code>NaN</code> 在<code>NULL</code>的前面。</li>
<li><code>-Inf</code> 在<code>NaN</code>的前面。</li>
</ul>
<p>注意：<code>arraySort</code>是<a href="../higher_order_functions/">高阶函数</a>。您可以将lambda函数作为第一个参数传递给它。如下示例所示。</p>
<div class="codehilite"><pre><span></span><span class="k">SELECT</span> <span class="n">arrayReverseSort</span><span class="p">((</span><span class="n">x</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="o">-</span><span class="n">x</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="k">as</span> <span class="n">res</span><span class="p">;</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="err">┌─res─────┐</span>
<span class="err">│ [1,2,3] │</span>
<span class="err">└─────────┘</span>
</pre></div>


<p>数组按以下方式排序：
The array is sorted in the following way:</p>
<ol>
<li>首先，根据lambda函数的调用结果对源数组（[1, 2, 3]）进行排序。 结果是[3, 2, 1]。</li>
<li>反转上一步获得的数组。 所以，最终的结果是[1, 2, 3]。</li>
</ol>
<p>lambda函数可以接受多个参数。在这种情况下，您需要为<code>arrayReverseSort</code>传递与lambda参数个数相同的数组。函数使用第一个输入的数组中的元素组成返回结果；使用接下来传入的数组作为排序键。例如：</p>
<div class="codehilite"><pre><span></span><span class="k">SELECT</span> <span class="n">arrayReverseSort</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">y</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="s1">&#39;world&#39;</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span> <span class="k">as</span> <span class="n">res</span><span class="p">;</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="err">┌─</span><span class="n">res</span><span class="err">───────────────┐</span>
<span class="err">│</span> <span class="p">[</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span><span class="s1">&#39;world&#39;</span><span class="p">]</span> <span class="err">│</span>
<span class="err">└───────────────────┘</span>
</pre></div>


<p>在这个例子中，数组按以下方式排序：</p>
<ol>
<li>首先，根据lambda函数的调用结果对源数组（['hello'，'world']）进行排序。 其中，在第二个数组（[2,1]）中定义了源数组中相应元素的排序键。 所以，排序结果['world'，'hello']。</li>
<li>反转上一步骤中获得的排序数组。 所以，最终的结果是['hello'，'world']。</li>
</ol>
<p>其他示例如下所示。</p>
<div class="codehilite"><pre><span></span><span class="k">SELECT</span> <span class="n">arrayReverseSort</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">y</span><span class="p">,</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">])</span> <span class="k">AS</span> <span class="n">res</span><span class="p">;</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="err">┌─</span><span class="n">res</span><span class="err">─────┐</span>
<span class="err">│</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]</span> <span class="err">│</span>
<span class="err">└─────────┘</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="k">SELECT</span> <span class="n">arrayReverseSort</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="o">-</span><span class="n">y</span><span class="p">,</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="k">AS</span> <span class="n">res</span><span class="p">;</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="err">┌─</span><span class="n">res</span><span class="err">─────┐</span>
<span class="err">│</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span> <span class="err">│</span>
<span class="err">└─────────┘</span>
</pre></div>


<h2 id="arrayuniq-arr">arrayUniq(arr, ...)<a class="headerlink" href="#arrayuniq-arr" title="Permanent link">&para;</a></h2>
<p>如果传递一个参数，则计算数组中不同元素的数量。
如果传递了多个参数，则它计算多个数组中相应位置的不同元素元组的数量。</p>
<p>如果要获取数组中唯一项的列表，可以使用arrayReduce（'groupUniqArray'，arr）。</p>
<h2 id="array_functions-join">arrayJoin(arr)<a class="headerlink" href="#array_functions-join" title="Permanent link">&para;</a></h2>
<p>一个特殊的功能。请参见<a href="../array_join/#functions_arrayjoin">“ArrayJoin函数”</a>部分。</p>
<h2 id="arraydifference-arr">arrayDifference(arr)<a class="headerlink" href="#arraydifference-arr" title="Permanent link">&para;</a></h2>
<p>返回一个数组，其中包含所有相邻元素对之间的差值。例如：</p>
<div class="codehilite"><pre><span></span><span class="k">SELECT</span> <span class="n">arrayDifference</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="err">┌─arrayDifference([1, 2, 3, 4])─┐</span>
<span class="err">│ [0,1,1,1]                     │</span>
<span class="err">└───────────────────────────────┘</span>
</pre></div>


<h2 id="arraydistinct-arr">arrayDistinct(arr)<a class="headerlink" href="#arraydistinct-arr" title="Permanent link">&para;</a></h2>
<p>返回一个包含所有数组中不同元素的数组。例如：</p>
<div class="codehilite"><pre><span></span><span class="k">SELECT</span> <span class="n">arrayDistinct</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="err">┌─arrayDistinct([1, 2, 2, 3, 1])─┐</span>
<span class="err">│ [1,2,3]                        │</span>
<span class="err">└────────────────────────────────┘</span>
</pre></div>


<h2 id="arrayenumeratedense-arr">arrayEnumerateDense(arr)<a class="headerlink" href="#arrayenumeratedense-arr" title="Permanent link">&para;</a></h2>
<p>返回与源数组大小相同的数组，指示每个元素首次出现在源数组中的位置。例如：arrayEnumerateDense（[10,20,10,30]）= [1,2,1,3]。</p>
<h2 id="arrayintersect-arr">arrayIntersect(arr)<a class="headerlink" href="#arrayintersect-arr" title="Permanent link">&para;</a></h2>
<p>返回所有数组元素的交集。例如：</p>
<div class="codehilite"><pre><span></span><span class="k">SELECT</span>
    <span class="n">arrayIntersect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="k">AS</span> <span class="n">no_intersect</span><span class="p">,</span>
    <span class="n">arrayIntersect</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span> <span class="k">AS</span> <span class="k">intersect</span>
</pre></div>


<div class="codehilite"><pre><span></span><span class="err">┌─no_intersect─┬─intersect─┐</span>
<span class="err">│ []           │ [1]       │</span>
<span class="err">└──────────────┴───────────┘</span>
</pre></div>


<h2 id="arrayreduce-agg-func-arr1">arrayReduce(agg_func, arr1, ...)<a class="headerlink" href="#arrayreduce-agg-func-arr1" title="Permanent link">&para;</a></h2>
<p>将聚合函数应用于数组并返回其结果。如果聚合函数具有多个参数，则此函数可应用于相同大小的多个数组。</p>
<p>arrayReduce（'agg_func'，arr1，...） - 将聚合函数<code>agg_func</code>应用于数组<code>arr1 ...</code>。如果传递了多个数组，则相应位置上的元素将作为多个参数传递给聚合函数。例如：SELECT arrayReduce（'max'，[1,2,3]）= 3</p>
<h2 id="arrayreverse-arr">arrayReverse(arr)<a class="headerlink" href="#arrayreverse-arr" title="Permanent link">&para;</a></h2>
<p>返回与源数组大小相同的数组，包含反转源数组的所有元素的结果。</p>
                
                </div>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
        
          <a href="../../../query_language/functions/rounding_functions/" title="取整函数" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  后退
                </span>
                取整函数
              </span>
            </div>
          </a>
        
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
        
          <a href="../../../query_language/functions/splitting_merging_functions/" title="字符串拆分合并函数" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  前进
                </span>
                字符串拆分合并函数
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            ©2016–2020 Yandex LLC
          </div>
        
      </div>
      
        <div class="md-footer-social">
  <span class="md-footer-copyright__highlight">Built from <a href="https://github.com/ClickHouse/ClickHouse/commit/96b39be564971666bce90de0b25b2540ab03cb18" rel="external nofollow">96b39be</a></span>
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      
        <script src="../../../assets/javascripts/modernizr.js"></script>
      
      <script src="../../../assets/javascripts/application.js"></script>
      
        
        
          
          <script src="../../../assets/javascripts/lunr/lunr.stemmer.support.js"></script>
          
            
              
              <script src="../../../assets/javascripts/lunr/lunr.zh.js"></script>
            
          
          
            <script src="../../../assets/javascripts/lunr/lunr.multi.js"></script>
          
        
      
      
    
    
      
    

    <script type="text/javascript">
      function ready(callback){
          if (document.readyState != 'loading') {
              callback();
          } else if (document.addEventListener) {
              document.addEventListener('DOMContentLoaded', callback);
          } else document.attachEvent('onreadystatechange', function() {
              if (document.readyState == 'complete') {
                  callback();
              }
          });
      }
      ready(function () {
          var i;
          
          app.initialize({
              version: "1.0.4",
              url: {
                  base: "../../.."
              }
          });
          var beforePrint = function() {
            var details = document.getElementsByTagName("details");
            for (i = 0; i < details.length; ++i) {
                details[i].open = 1;
            }
          };
          if (window.matchMedia) {
              window.matchMedia('print').addListener(function(q) {
                  if (q.matches) {
                      beforePrint();
                  }
              });
          }
          window.onbeforeprint = beforePrint;

          var name = window.location.hostname.split('.')[0];
          var feedback_address = name + '-feedback' + '@yandex-team.ru';
          var feedback_email = document.getElementsByClassName('feedback-email');
          for (i = 0; i < feedback_email.length; i++) {
            feedback_email[i].setAttribute('href', 'mailto:' + feedback_address);
            feedback_email[i].innerHTML = feedback_address;
          }

          document.getElementById("releases-selector").addEventListener(
            "change",
            function() {
              var target = window.location.href.split('docs')[0] + 'docs/';
              if (this.value) {
                target = target + this.value + '/';
              }
              window.location = target + 'zh';
            }
          )
      });
    </script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
    <script type="text/javascript"> docsearch({
apiKey: 'e239649803024433599de47a53b2d416',
indexName: 'yandex_clickhouse',
inputSelector: '#md-search__input',
algoliaOptions: {
  advancedSyntax: true,
  clickAnalytics: true,
  hitsPerPage: 25,
  'facetFilters': ["lang:zh"]
},
debug: false
});
</script>

    <!-- Yandex.Metrika counter -->
    <script type="text/javascript">
        (function (d, w, c) {
            (w[c] = w[c] || []).push(function() {
                try {
                    w.yaCounter18343495 = new Ya.Metrika2({
                        id:18343495,
                        clickmap:true,
                        trackLinks:true,
                        accurateTrackBounce:true,
                        webvisor: true
                    });
                } catch(e) { }
            });
            var n = d.getElementsByTagName("script")[0],
                s = d.createElement("script"),
                f = function () { n.parentNode.insertBefore(s, n); };
            s.type = "text/javascript";
            s.async = true;
            s.src = "https://mc.yandex.ru/metrika/tag.js";
            if (w.opera == "[object Opera]") {
                d.addEventListener("DOMContentLoaded", f, false);
            } else { f(); }
        })(document, window, "yandex_metrika_callbacks2");
    </script>
    <noscript>
        <div><img src="https://mc.yandex.ru/watch/18343495" style="position:absolute; left:-9999px;" alt=""/></div>
    </noscript>
    <!-- /Yandex.Metrika counter -->
  </body>
</html>