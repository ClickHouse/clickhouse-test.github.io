<!DOCTYPE html><html lang=zh class=no-js data-version=v19.11 data-single-page=false> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><link href=https://clickhouse.yandex/docs/zh/query_language/functions/date_time_functions/ rel=canonical><meta name=lang:clipboard.copy content=复制><meta name=lang:clipboard.copied content=已复制><meta name=lang:search.language content=zh><meta name=lang:search.pipeline.stopwords content><meta name=lang:search.pipeline.trimmer content><meta name=lang:search.result.none content=没有找到符合条件的结果><meta name=lang:search.result.one content="找到 1 个符合条件的结果"><meta name=lang:search.result.other content="# 个符合条件的结果"><meta name=lang:search.tokenizer content=[\uff0c\u3002]+><link rel="shortcut icon" href=../../../assets/images/favicon.ico><title>时间日期函数 - ClickHouse文档 v19.11</title><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css><link rel=stylesheet href=../../../assets/stylesheets/application.2a88008a.css><link rel=stylesheet href=../../../assets/stylesheets/application-palette.792431c1.css><link rel=stylesheet href="https://fonts.googleapis.com/icon?family=Material+Icons"><link rel=stylesheet href=../../../assets/stylesheets/custom.css?1582324000></head> <body dir=ltr data-md-color-primary=white data-md-color-accent=white class=md-lang-zh> <svg class=md-svg> <defs> <svg xmlns=http://www.w3.org/2000/svg width=416 height=448 viewbox="0 0 416 448" id=github><path fill=currentColor d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg> </defs> </svg> <input class=md-toggle data-md-toggle=drawer type=checkbox id=drawer> <input class=md-toggle data-md-toggle=search type=checkbox id=search> <label class=md-overlay data-md-component=overlay for=drawer></label> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid"> <div class=md-flex> <div class="md-flex__cell md-flex__cell--shrink"> <a href=/ title="ClickHouse文档 v19.11" class="md-header-nav__button md-logo"> <img src=../../../images/logo.svg width=40 height=40> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=drawer></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title> <span class=md-header-nav__topic> ClickHouse文档 v19.11 </span> <span class=md-header-nav__topic> 时间日期函数 </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--search md-header-nav__button" for=search></label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=search></label> <div class=md-search__inner> <form class=md-search__form name=search> <input type=text id=md-search__input class=md-search__input name=query required placeholder=搜索 autocapitalize=off autocorrect=off autocomplete=off spellcheck=false> <label class="md-icon md-search__icon" for=search></label> <button type=reset class="md-icon md-search__icon" data-md-component=reset>&#xE5CD;</button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=result> <div class=md-search-result__meta> 键入以开始搜索 </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <div id=md-language-switch class=md-header-nav__source> <a class=md-alt-lang href=../../../../en/query_language/functions/date_time_functions/ class="md-flex__ellipsis md-header-nav__title" title=English> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 60 30" preserveaspectratio=none> <clippath id=t> <path d="M30,15 h30 v15 z v15 h-30 z h-30 v-15 z v-15 h30 z"/> </clippath> <path fill=#00247d d="M0,0 v30 h60 v-30 z"/> <path stroke=#fff stroke-width=6 d="M0,0 L60,30 M60,0 L0,30"/> <path clip-path=url(#t) stroke=#cf142b stroke-width=4 d="M0,0 L60,30 M60,0 L0,30"/> <path stroke=#fff stroke-width=10 d="M30,0 v30 M0,15 h60"/> <path stroke=#cf142b stroke-width=6 d="M30,0 v30 M0,15 h60"/> </svg> </a> <a class=md-alt-lang href=../../../../ru/query_language/functions/date_time_functions/ class="md-flex__ellipsis md-header-nav__title" title=Russian> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 9 6" preserveaspectratio=none> <rect fill=#fff width=9 height=3 /> <rect fill=#d52b1e y=3 width=9 height=3 /> <rect fill=#0039a6 y=2 width=9 height=2 /> </svg> </a> <a class="md-alt-lang md-current-lang" href=../../../../zh/query_language/functions/date_time_functions/ class="md-flex__ellipsis md-header-nav__title" title=Chinese> <svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink viewbox="0 0 30 20" preserveaspectratio=none> <defs> <path id=s fill=#ffde00 d="M0,-1 0.587785,0.809017 -0.951057,-0.309017H0.951057L-0.587785,0.809017z"/> </defs> <rect width=30 height=20 fill=#de2910 /> <use xlink:href=#s transform="translate(5,5) scale(3)"/> <use xlink:href=#s transform="translate(10,2) rotate(23.036243)"/> <use xlink:href=#s transform="translate(12,4) rotate(45.869898)"/> <use xlink:href=#s transform="translate(12,7) rotate(69.945396)"/> <use xlink:href=#s transform="translate(10,9) rotate(20.659808)"/> </svg> </a> <a class=md-alt-lang href=../../../../ja/query_language/functions/date_time_functions/ class="md-flex__ellipsis md-header-nav__title" title=Japanese> <?xml version="1.0" encoding="UTF-8"?> <svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink width=90px height=60px viewbox="0 0 90 60" version=1.1> <g id=surface1> <rect x=0 y=0 width=90 height=60 style=fill:rgb(62.7451%,62.7451%,62.7451%);fill-opacity:1;stroke:none; /> <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 0.601562 0.601562 L 89.398438 0.601562 L 89.398438 59.398438 L 0.601562 59.398438 Z M 0.601562 0.601562 "/> <path style=" stroke:none;fill-rule:nonzero;fill:rgb(74.509805%,0%,14.901961%);fill-opacity:1;" d="M 63 30 C 63 39.941406 54.941406 48 45 48 C 35.058594 48 27 39.941406 27 30 C 27 20.058594 35.058594 12 45 12 C 54.941406 12 63 20.058594 63 30 Z M 63 30 "/> </g> </svg> </a> <a class=md-alt-lang href=../../../../fa/query_language/functions/date_time_functions/ class="md-flex__ellipsis md-header-nav__title" title=Farsi> <svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink viewbox="0 0 630 360" preserveaspectratio=none> <rect width=630 height=360 fill=#da0000 /> <rect width=630 height=240 fill=#fff /> <rect width=630 height=120 fill=#239f40 /> <g transform=translate(8.4,100.4)> <g id=tb4> <g id=tb1 fill=none stroke=#fff stroke-width=2> <path id=tbp1 d=M0,1H26M1,10V5H9V9H17V5H12M4,9H6M26,9H21V5H29M29,0V9H37V0M33,0V9 transform=scale(1.4) /> <path id=tbp2 d=M0,7H9M10,7H19 transform=scale(2.8) /> <use xlink:href=#tbp2 y=120 /> <use xlink:href=#tbp1 y=145.2 /> </g> <g id=tb3> <use xlink:href=#tb1 x=56 /> <use xlink:href=#tb1 x=112 /> <use xlink:href=#tb1 x=168 /> </g> </g> <use xlink:href=#tb3 x=168 /> <use xlink:href=#tb4 x=392 /> </g> <g fill=#da0000 transform=matrix(45,0,0,45,315,180)> <g id=emblem_half> <path d="M-0.54815,0.83638A0.912046,0.912046 0 0,0 0.328544,-0.722384A1,1 0 0,1 -0.54815,0.83638"/> <path d="M0.618339,0.661409A0.763932,0.763932 0 0,0 0.421644,-0.741049A1,1 0 0,1 0.618339,0.661409"/> <path d="M0,1 -0.05,0 0,-0.787278A0.309995,0.309995 0 0,0 0.118034,-0.688191V-0.100406L0.077809,0.892905z"/> <path d="M-0.02,-0.85 0,-0.831217A0.14431,0.14431 0 0,0 0.252075,-0.967708A0.136408,0.136408 0 0,1 0,-0.924634"/> </g> <use xlink:href=#emblem_half transform=scale(-1,1) /> </g> </svg> </a> </div> </div> </div> </nav> </header> <div class=md-container> <main class=md-main> <div class="md-main__inner md-grid" data-md-component=container> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" data-md-level=0> <label class="md-nav__title md-nav__title--site" for=drawer> ClickHouse文档 v19.11 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-1 type=checkbox id=nav-1> <label class=md-nav__link for=nav-1> 介绍 </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-1> 介绍 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../ title=概貌 class=md-nav__link> 概貌 </a> </li> <li class=md-nav__item> <a href=../../../introduction/distinctive_features/ title=ClickHouse的独特功能 class=md-nav__link> ClickHouse的独特功能 </a> </li> <li class=md-nav__item> <a href=../../../introduction/features_considered_disadvantages/ title=ClickHouse功能可被视为缺点 class=md-nav__link> ClickHouse功能可被视为缺点 </a> </li> <li class=md-nav__item> <a href=../../../introduction/performance/ title=性能 class=md-nav__link> 性能 </a> </li> <li class=md-nav__item> <a href=../../../introduction/ya_metrika_task/ title=Yandex.Metrica使用案例 class=md-nav__link> Yandex.Metrica使用案例 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-2 type=checkbox id=nav-2> <label class=md-nav__link for=nav-2> 入门指南 </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-2> 入门指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../getting_started/ title=部署运行 class=md-nav__link> 部署运行 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-2-2 type=checkbox id=nav-2-2> <label class=md-nav__link for=nav-2-2> 示例数据集 </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-2-2> 示例数据集 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../getting_started/example_datasets/ontime/ title=航班飞行数据 class=md-nav__link> 航班飞行数据 </a> </li> <li class=md-nav__item> <a href=../../../getting_started/example_datasets/nyc_taxi/ title=纽约市出租车数据 class=md-nav__link> 纽约市出租车数据 </a> </li> <li class=md-nav__item> <a href=../../../getting_started/example_datasets/amplab_benchmark/ title=AMPLab大数据基准测试 class=md-nav__link> AMPLab大数据基准测试 </a> </li> <li class=md-nav__item> <a href=../../../getting_started/example_datasets/wikistat/ title=维基访问数据 class=md-nav__link> 维基访问数据 </a> </li> <li class=md-nav__item> <a href=../../../getting_started/example_datasets/criteo/ title="Criteo TB级别点击日志" class=md-nav__link> Criteo TB级别点击日志 </a> </li> <li class=md-nav__item> <a href=../../../getting_started/example_datasets/star_schema/ title="Star Schema基准测试" class=md-nav__link> Star Schema基准测试 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-3 type=checkbox id=nav-3> <label class=md-nav__link for=nav-3> 客户端 </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-3> 客户端 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../interfaces/ title=介绍 class=md-nav__link> 介绍 </a> </li> <li class=md-nav__item> <a href=../../../interfaces/cli/ title=命令行客户端接口 class=md-nav__link> 命令行客户端接口 </a> </li> <li class=md-nav__item> <a href=../../../interfaces/tcp/ title="原生客户端接口 (TCP)" class=md-nav__link> 原生客户端接口 (TCP) </a> </li> <li class=md-nav__item> <a href=../../../interfaces/http/ title="HTTP 客户端接口" class=md-nav__link> HTTP 客户端接口 </a> </li> <li class=md-nav__item> <a href=../../../interfaces/formats/ title=输入输出格式 class=md-nav__link> 输入输出格式 </a> </li> <li class=md-nav__item> <a href=../../../interfaces/jdbc/ title="JDBC 驱动" class=md-nav__link> JDBC 驱动 </a> </li> <li class=md-nav__item> <a href=../../../interfaces/odbc/ title="ODBC 驱动" class=md-nav__link> ODBC 驱动 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-3-8 type=checkbox id=nav-3-8> <label class=md-nav__link for=nav-3-8> 第三方 </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-3-8> 第三方 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../interfaces/third-party/client_libraries/ title=客户端库 class=md-nav__link> 客户端库 </a> </li> <li class=md-nav__item> <a href=../../../interfaces/third-party/integrations/ title=集成 class=md-nav__link> 集成 </a> </li> <li class=md-nav__item> <a href=../../../interfaces/third-party/gui/ title=可视界面 class=md-nav__link> 可视界面 </a> </li> <li class=md-nav__item> <a href=../../../interfaces/third-party/proxy/ title=代理 class=md-nav__link> 代理 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4 type=checkbox id=nav-4> <label class=md-nav__link for=nav-4> 数据类型 </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-4> 数据类型 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../data_types/ title=介绍 class=md-nav__link> 介绍 </a> </li> <li class=md-nav__item> <a href=../../../data_types/int_uint/ title="UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64" class=md-nav__link> UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64 </a> </li> <li class=md-nav__item> <a href=../../../data_types/float/ title="Float32, Float64" class=md-nav__link> Float32, Float64 </a> </li> <li class=md-nav__item> <a href=../../../data_types/decimal/ title=Decimal class=md-nav__link> Decimal </a> </li> <li class=md-nav__item> <a href=../../../data_types/boolean/ title="Boolean values" class=md-nav__link> Boolean values </a> </li> <li class=md-nav__item> <a href=../../../data_types/string/ title=String class=md-nav__link> String </a> </li> <li class=md-nav__item> <a href=../../../data_types/fixedstring/ title=FixedString(N) class=md-nav__link> FixedString(N) </a> </li> <li class=md-nav__item> <a href=../../../data_types/uuid/ title=UUID class=md-nav__link> UUID </a> </li> <li class=md-nav__item> <a href=../../../data_types/date/ title=Date class=md-nav__link> Date </a> </li> <li class=md-nav__item> <a href=../../../data_types/datetime/ title=DateTime class=md-nav__link> DateTime </a> </li> <li class=md-nav__item> <a href=../../../data_types/enum/ title=Enum class=md-nav__link> Enum </a> </li> <li class=md-nav__item> <a href=../../../data_types/array/ title=Array(T) class=md-nav__link> Array(T) </a> </li> <li class=md-nav__item> <a href=../../../data_types/nested_data_structures/aggregatefunction/ title="AggregateFunction(name, types_of_arguments...)" class=md-nav__link> AggregateFunction(name, types_of_arguments...) </a> </li> <li class=md-nav__item> <a href=../../../data_types/tuple/ title="Tuple(T1, T2, ...)" class=md-nav__link> Tuple(T1, T2, ...) </a> </li> <li class=md-nav__item> <a href=../../../data_types/nullable/ title=Nullable class=md-nav__link> Nullable </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4-16 type=checkbox id=nav-4-16> <label class=md-nav__link for=nav-4-16> Nested data structures </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-4-16> Nested data structures </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../data_types/nested_data_structures/nested/ title="Nested(Name1 Type1, Name2 Type2, ...)" class=md-nav__link> Nested(Name1 Type1, Name2 Type2, ...) </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4-17 type=checkbox id=nav-4-17> <label class=md-nav__link for=nav-4-17> Special data types </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-4-17> Special data types </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../data_types/special_data_types/expression/ title=Expression class=md-nav__link> Expression </a> </li> <li class=md-nav__item> <a href=../../../data_types/special_data_types/set/ title=Set class=md-nav__link> Set </a> </li> <li class=md-nav__item> <a href=../../../data_types/special_data_types/nothing/ title=Nothing class=md-nav__link> Nothing </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4-18 type=checkbox id=nav-4-18> <label class=md-nav__link for=nav-4-18> Domains </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-4-18> Domains </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../data_types/domains/overview/ title=Overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../data_types/domains/ipv4/ title=IPv4 class=md-nav__link> IPv4 </a> </li> <li class=md-nav__item> <a href=../../../data_types/domains/ipv6/ title=IPv6 class=md-nav__link> IPv6 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5 type=checkbox id=nav-5> <label class=md-nav__link for=nav-5> Table Engines </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-5> Table Engines </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../operations/table_engines/ title=Introduction class=md-nav__link> Introduction </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5-2 type=checkbox id=nav-5-2> <label class=md-nav__link for=nav-5-2> MergeTree Family </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-5-2> MergeTree Family </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../operations/table_engines/mergetree/ title=MergeTree class=md-nav__link> MergeTree </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/replication/ title="Data Replication" class=md-nav__link> Data Replication </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/custom_partitioning_key/ title="Custom Partitioning Key" class=md-nav__link> Custom Partitioning Key </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/replacingmergetree/ title=ReplacingMergeTree class=md-nav__link> ReplacingMergeTree </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/summingmergetree/ title=SummingMergeTree class=md-nav__link> SummingMergeTree </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/aggregatingmergetree/ title=AggregatingMergeTree class=md-nav__link> AggregatingMergeTree </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/collapsingmergetree/ title=CollapsingMergeTree class=md-nav__link> CollapsingMergeTree </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/versionedcollapsingmergetree/ title=VersionedCollapsingMergeTree class=md-nav__link> VersionedCollapsingMergeTree </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/graphitemergetree/ title=GraphiteMergeTree class=md-nav__link> GraphiteMergeTree </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5-3 type=checkbox id=nav-5-3> <label class=md-nav__link for=nav-5-3> Log Family </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-5-3> Log Family </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../operations/table_engines/log_family/ title=Introduction class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/stripelog/ title=StripeLog class=md-nav__link> StripeLog </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/log/ title=Log class=md-nav__link> Log </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/tinylog/ title=TinyLog class=md-nav__link> TinyLog </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5-4 type=checkbox id=nav-5-4> <label class=md-nav__link for=nav-5-4> Integrations </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-5-4> Integrations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../operations/table_engines/kafka/ title=Kafka class=md-nav__link> Kafka </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/mysql/ title=MySQL class=md-nav__link> MySQL </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5-5 type=checkbox id=nav-5-5> <label class=md-nav__link for=nav-5-5> Special </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-5-5> Special </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../operations/table_engines/distributed/ title=Distributed class=md-nav__link> Distributed </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/external_data/ title="External data" class=md-nav__link> External data </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/dictionary/ title=Dictionary class=md-nav__link> Dictionary </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/merge/ title=Merge class=md-nav__link> Merge </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/file/ title=File class=md-nav__link> File </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/null/ title=Null class=md-nav__link> Null </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/set/ title=Set class=md-nav__link> Set </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/join/ title=Join class=md-nav__link> Join </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/url/ title=URL class=md-nav__link> URL </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/view/ title=View class=md-nav__link> View </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/materializedview/ title=MaterializedView class=md-nav__link> MaterializedView </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/memory/ title=Memory class=md-nav__link> Memory </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/buffer/ title=Buffer class=md-nav__link> Buffer </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/jdbc/ title=JDBC class=md-nav__link> JDBC </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/odbc/ title=ODBC class=md-nav__link> ODBC </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-6 type=checkbox id=nav-6 checked> <label class=md-nav__link for=nav-6> SQL语法 </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-6> SQL语法 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../query_language/select/ title=SELECT class=md-nav__link> SELECT </a> </li> <li class=md-nav__item> <a href=../../../query_language/insert_into/ title="INSERT INTO" class=md-nav__link> INSERT INTO </a> </li> <li class=md-nav__item> <a href=../../../query_language/create/ title=CREATE class=md-nav__link> CREATE </a> </li> <li class=md-nav__item> <a href=../../../query_language/alter/ title=ALTER class=md-nav__link> ALTER </a> </li> <li class=md-nav__item> <a href=../../../query_language/system/ title=SYSTEM class=md-nav__link> SYSTEM </a> </li> <li class=md-nav__item> <a href=../../../query_language/misc/ title="Other kinds of queries" class=md-nav__link> Other kinds of queries </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-6-8 type=checkbox id=nav-6-8 checked> <label class=md-nav__link for=nav-6-8> Functions </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-6-8> Functions </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../query_language/functions/ title=介绍 class=md-nav__link> 介绍 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/arithmetic_functions/ title=算术函数 class=md-nav__link> 算术函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/comparison_functions/ title=比较函数 class=md-nav__link> 比较函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/logical_functions/ title=逻辑函数 class=md-nav__link> 逻辑函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/type_conversion_functions/ title=类型转换函数 class=md-nav__link> 类型转换函数 </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-toggle md-nav__toggle" data-md-toggle=toc type=checkbox id=toc> <label class="md-nav__link md-nav__link--active" for=toc> 时间日期函数 </label> <a href=../../../query_language/functions/date_time_functions/ title=时间日期函数 class="md-nav__link md-nav__link--active"> <strong>时间日期函数</strong> </a> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=toc>目录</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#totimezone title=toTimeZone class=md-nav__link> toTimeZone </a> </li> <li class=md-nav__item> <a href=#toyear title=toYear class=md-nav__link> toYear </a> </li> <li class=md-nav__item> <a href=#toquarter title=toQuarter class=md-nav__link> toQuarter </a> </li> <li class=md-nav__item> <a href=#tomonth title=toMonth class=md-nav__link> toMonth </a> </li> <li class=md-nav__item> <a href=#todayofyear title=toDayOfYear class=md-nav__link> toDayOfYear </a> </li> <li class=md-nav__item> <a href=#todayofmonth title=toDayOfMonth class=md-nav__link> toDayOfMonth </a> </li> <li class=md-nav__item> <a href=#todayofweek title=toDayOfWeek class=md-nav__link> toDayOfWeek </a> </li> <li class=md-nav__item> <a href=#tohour title=toHour class=md-nav__link> toHour </a> </li> <li class=md-nav__item> <a href=#tominute title=toMinute class=md-nav__link> toMinute </a> </li> <li class=md-nav__item> <a href=#tosecond title=toSecond class=md-nav__link> toSecond </a> </li> <li class=md-nav__item> <a href=#tounixtimestamp title=toUnixTimestamp class=md-nav__link> toUnixTimestamp </a> </li> <li class=md-nav__item> <a href=#tostartofyear title=toStartOfYear class=md-nav__link> toStartOfYear </a> </li> <li class=md-nav__item> <a href=#tostartofisoyear title=toStartOfISOYear class=md-nav__link> toStartOfISOYear </a> </li> <li class=md-nav__item> <a href=#tostartofquarter title=toStartOfQuarter class=md-nav__link> toStartOfQuarter </a> </li> <li class=md-nav__item> <a href=#tostartofmonth title=toStartOfMonth class=md-nav__link> toStartOfMonth </a> </li> <li class=md-nav__item> <a href=#tomonday title=toMonday class=md-nav__link> toMonday </a> </li> <li class=md-nav__item> <a href=#tostartofday title=toStartOfDay class=md-nav__link> toStartOfDay </a> </li> <li class=md-nav__item> <a href=#tostartofhour title=toStartOfHour class=md-nav__link> toStartOfHour </a> </li> <li class=md-nav__item> <a href=#tostartofminute title=toStartOfMinute class=md-nav__link> toStartOfMinute </a> </li> <li class=md-nav__item> <a href=#tostartoffiveminute title=toStartOfFiveMinute class=md-nav__link> toStartOfFiveMinute </a> </li> <li class=md-nav__item> <a href=#tostartoftenminutes title=toStartOfTenMinutes class=md-nav__link> toStartOfTenMinutes </a> </li> <li class=md-nav__item> <a href=#tostartoffifteenminutes title=toStartOfFifteenMinutes class=md-nav__link> toStartOfFifteenMinutes </a> </li> <li class=md-nav__item> <a href=#tostartofinterval-time-or-data-interval-x-unit-time-zone title="toStartOfInterval(time_or_data, INTERVAL x unit [, time_zone])" class=md-nav__link> toStartOfInterval(time_or_data, INTERVAL x unit [, time_zone]) </a> </li> <li class=md-nav__item> <a href=#totime title=toTime class=md-nav__link> toTime </a> </li> <li class=md-nav__item> <a href=#torelativeyearnum title=toRelativeYearNum class=md-nav__link> toRelativeYearNum </a> </li> <li class=md-nav__item> <a href=#torelativequarternum title=toRelativeQuarterNum class=md-nav__link> toRelativeQuarterNum </a> </li> <li class=md-nav__item> <a href=#torelativemonthnum title=toRelativeMonthNum class=md-nav__link> toRelativeMonthNum </a> </li> <li class=md-nav__item> <a href=#torelativeweeknum title=toRelativeWeekNum class=md-nav__link> toRelativeWeekNum </a> </li> <li class=md-nav__item> <a href=#torelativedaynum title=toRelativeDayNum class=md-nav__link> toRelativeDayNum </a> </li> <li class=md-nav__item> <a href=#torelativehournum title=toRelativeHourNum class=md-nav__link> toRelativeHourNum </a> </li> <li class=md-nav__item> <a href=#torelativeminutenum title=toRelativeMinuteNum class=md-nav__link> toRelativeMinuteNum </a> </li> <li class=md-nav__item> <a href=#torelativesecondnum title=toRelativeSecondNum class=md-nav__link> toRelativeSecondNum </a> </li> <li class=md-nav__item> <a href=#toisoyear title=toISOYear class=md-nav__link> toISOYear </a> </li> <li class=md-nav__item> <a href=#toisoweek title=toISOWeek class=md-nav__link> toISOWeek </a> </li> <li class=md-nav__item> <a href=#now title=now class=md-nav__link> now </a> </li> <li class=md-nav__item> <a href=#today title=today class=md-nav__link> today </a> </li> <li class=md-nav__item> <a href=#yesterday title=yesterday class=md-nav__link> yesterday </a> </li> <li class=md-nav__item> <a href=#timeslot title=timeSlot class=md-nav__link> timeSlot </a> </li> <li class=md-nav__item> <a href=#toyyyymm title=toYYYYMM class=md-nav__link> toYYYYMM </a> </li> <li class=md-nav__item> <a href=#toyyyymmdd title=toYYYYMMDD class=md-nav__link> toYYYYMMDD </a> </li> <li class=md-nav__item> <a href=#toyyyymmddhhmmss title=toYYYYMMDDhhmmss class=md-nav__link> toYYYYMMDDhhmmss </a> </li> <li class=md-nav__item> <a href=#addyears-addmonths-addweeks-adddays-addhours-addminutes-addseconds-addquarters title="addYears, addMonths, addWeeks, addDays, addHours, addMinutes, addSeconds, addQuarters" class=md-nav__link> addYears, addMonths, addWeeks, addDays, addHours, addMinutes, addSeconds, addQuarters </a> </li> <li class=md-nav__item> <a href=#subtractyears-subtractmonths-subtractweeks-subtractdays-subtracthours-subtractminutes-subtractseconds-subtractquarters title="subtractYears, subtractMonths, subtractWeeks, subtractDays, subtractHours, subtractMinutes, subtractSeconds, subtractQuarters" class=md-nav__link> subtractYears, subtractMonths, subtractWeeks, subtractDays, subtractHours, subtractMinutes, subtractSeconds, subtractQuarters </a> </li> <li class=md-nav__item> <a href=#datediff-unit-t1-t2-91-timezone-93 title="dateDiff('unit', t1, t2, [timezone])" class=md-nav__link> dateDiff('unit', t1, t2, [timezone]) </a> </li> <li class=md-nav__item> <a href=#timeslots-starttime-duration-91-size-93 title="timeSlots(StartTime, Duration,[, Size])" class=md-nav__link> timeSlots(StartTime, Duration,[, Size]) </a> </li> <li class=md-nav__item> <a href=#formatdatetime-time-format-91-timezone-93 title="formatDateTime(Time, Format[, Timezone])" class=md-nav__link> formatDateTime(Time, Format[, Timezone]) </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../query_language/functions/string_functions/ title=字符串函数 class=md-nav__link> 字符串函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/string_search_functions/ title=字符串搜索函数 class=md-nav__link> 字符串搜索函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/string_replace_functions/ title=字符串替换函数 class=md-nav__link> 字符串替换函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/conditional_functions/ title="条件函数 " class=md-nav__link> 条件函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/math_functions/ title=数学函数 class=md-nav__link> 数学函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/rounding_functions/ title=取整函数 class=md-nav__link> 取整函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/array_functions/ title=数组函数 class=md-nav__link> 数组函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/splitting_merging_functions/ title=字符串拆分合并函数 class=md-nav__link> 字符串拆分合并函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/bit_functions/ title=位操作函数 class=md-nav__link> 位操作函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/bitmap_functions/ title=位图函数 class=md-nav__link> 位图函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/hash_functions/ title=Hash函数 class=md-nav__link> Hash函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/random_functions/ title=随机函数 class=md-nav__link> 随机函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/encoding_functions/ title=编码函数 class=md-nav__link> 编码函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/uuid_functions/ title=UUID函数 class=md-nav__link> UUID函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/url_functions/ title=URL函数 class=md-nav__link> URL函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/ip_address_functions/ title=IP函数 class=md-nav__link> IP函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/json_functions/ title=JSON函数 class=md-nav__link> JSON函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/higher_order_functions/ title=高阶函数 class=md-nav__link> 高阶函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/ext_dict_functions/ title=字典函数 class=md-nav__link> 字典函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/ym_dict_functions/ title=Yandex.Metrica字典函数 class=md-nav__link> Yandex.Metrica字典函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/in_functions/ title=IN运算符相关函数 class=md-nav__link> IN运算符相关函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/array_join/ title=arrayJoin函数 class=md-nav__link> arrayJoin函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/geo/ title=GEO函数 class=md-nav__link> GEO函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/functions_for_nulls/ title=Nullable处理函数 class=md-nav__link> Nullable处理函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/machine_learning_functions/ title=机器学习函数 class=md-nav__link> 机器学习函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/other_functions/ title=其他函数 class=md-nav__link> 其他函数 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-6-9 type=checkbox id=nav-6-9> <label class=md-nav__link for=nav-6-9> Aggregate functions </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-6-9> Aggregate functions </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../query_language/agg_functions/ title=Introduction class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../../../query_language/agg_functions/reference/ title="Function reference" class=md-nav__link> Function reference </a> </li> <li class=md-nav__item> <a href=../../../query_language/agg_functions/combinators/ title="Aggregate function combinators" class=md-nav__link> Aggregate function combinators </a> </li> <li class=md-nav__item> <a href=../../../query_language/agg_functions/parametric_functions/ title="Parametric aggregate functions" class=md-nav__link> Parametric aggregate functions </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-6-10 type=checkbox id=nav-6-10> <label class=md-nav__link for=nav-6-10> Table functions </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-6-10> Table functions </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../query_language/table_functions/ title=Introduction class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../../../query_language/table_functions/file/ title=file class=md-nav__link> file </a> </li> <li class=md-nav__item> <a href=../../../query_language/table_functions/merge/ title=merge class=md-nav__link> merge </a> </li> <li class=md-nav__item> <a href=../../../query_language/table_functions/numbers/ title=numbers class=md-nav__link> numbers </a> </li> <li class=md-nav__item> <a href=../../../query_language/table_functions/remote/ title=remote class=md-nav__link> remote </a> </li> <li class=md-nav__item> <a href=../../../query_language/table_functions/url/ title=url class=md-nav__link> url </a> </li> <li class=md-nav__item> <a href=../../../query_language/table_functions/mysql/ title=mysql class=md-nav__link> mysql </a> </li> <li class=md-nav__item> <a href=../../../query_language/table_functions/jdbc/ title=jdbc class=md-nav__link> jdbc </a> </li> <li class=md-nav__item> <a href=../../../query_language/table_functions/odbc/ title=odbc class=md-nav__link> odbc </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-6-11 type=checkbox id=nav-6-11> <label class=md-nav__link for=nav-6-11> Dictionaries </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-6-11> Dictionaries </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../query_language/dicts/ title=Introduction class=md-nav__link> Introduction </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-6-11-2 type=checkbox id=nav-6-11-2> <label class=md-nav__link for=nav-6-11-2> External dictionaries </label> <nav class=md-nav data-md-component=collapsible data-md-level=3> <label class=md-nav__title for=nav-6-11-2> External dictionaries </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../query_language/dicts/external_dicts/ title="General description" class=md-nav__link> General description </a> </li> <li class=md-nav__item> <a href=../../../query_language/dicts/external_dicts_dict/ title="Configuring an external dictionary" class=md-nav__link> Configuring an external dictionary </a> </li> <li class=md-nav__item> <a href=../../../query_language/dicts/external_dicts_dict_layout/ title="Storing dictionaries in memory" class=md-nav__link> Storing dictionaries in memory </a> </li> <li class=md-nav__item> <a href=../../../query_language/dicts/external_dicts_dict_lifetime/ title="Dictionary updates" class=md-nav__link> Dictionary updates </a> </li> <li class=md-nav__item> <a href=../../../query_language/dicts/external_dicts_dict_sources/ title="Sources of external dictionaries" class=md-nav__link> Sources of external dictionaries </a> </li> <li class=md-nav__item> <a href=../../../query_language/dicts/external_dicts_dict_structure/ title="Dictionary key and fields" class=md-nav__link> Dictionary key and fields </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../query_language/dicts/internal_dicts/ title="Internal dictionaries" class=md-nav__link> Internal dictionaries </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../query_language/operators/ title=Operators class=md-nav__link> Operators </a> </li> <li class=md-nav__item> <a href=../../../query_language/syntax/ title="General syntax" class=md-nav__link> General syntax </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7 type=checkbox id=nav-7> <label class=md-nav__link for=nav-7> 运维 </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-7> 运维 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../operations/ title=Introduction class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../../../operations/requirements/ title=Requirements class=md-nav__link> Requirements </a> </li> <li class=md-nav__item> <a href=../../../operations/monitoring/ title=Monitoring class=md-nav__link> Monitoring </a> </li> <li class=md-nav__item> <a href=../../../operations/troubleshooting/ title=Troubleshooting class=md-nav__link> Troubleshooting </a> </li> <li class=md-nav__item> <a href=../../../operations/tips/ title="Usage recommendations" class=md-nav__link> Usage recommendations </a> </li> <li class=md-nav__item> <a href=../../../operations/update/ title="ClickHouse Update" class=md-nav__link> ClickHouse Update </a> </li> <li class=md-nav__item> <a href=../../../operations/access_rights/ title="Access rights" class=md-nav__link> Access rights </a> </li> <li class=md-nav__item> <a href=../../../operations/backup/ title="Data backup" class=md-nav__link> Data backup </a> </li> <li class=md-nav__item> <a href=../../../operations/configuration_files/ title="Configuration files" class=md-nav__link> Configuration files </a> </li> <li class=md-nav__item> <a href=../../../operations/quotas/ title=Quotas class=md-nav__link> Quotas </a> </li> <li class=md-nav__item> <a href=../../../operations/system_tables/ title="System tables" class=md-nav__link> System tables </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7-12 type=checkbox id=nav-7-12> <label class=md-nav__link for=nav-7-12> Server configuration parameters </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-7-12> Server configuration parameters </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../operations/server_settings/ title=Introduction class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../../../operations/server_settings/settings/ title="Server settings" class=md-nav__link> Server settings </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7-13 type=checkbox id=nav-7-13> <label class=md-nav__link for=nav-7-13> Settings </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-7-13> Settings </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../operations/settings/ title=Introduction class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../../../operations/settings/permissions_for_queries/ title="Permissions for queries" class=md-nav__link> Permissions for queries </a> </li> <li class=md-nav__item> <a href=../../../operations/settings/query_complexity/ title="Restrictions on query complexity" class=md-nav__link> Restrictions on query complexity </a> </li> <li class=md-nav__item> <a href=../../../operations/settings/settings/ title=Settings class=md-nav__link> Settings </a> </li> <li class=md-nav__item> <a href=../../../operations/settings/settings_profiles/ title="Settings profiles" class=md-nav__link> Settings profiles </a> </li> <li class=md-nav__item> <a href=../../../operations/settings/settings_users/ title="User Settings" class=md-nav__link> User Settings </a> </li> <li class=md-nav__item> <a href=../../../operations/settings/constraints_on_settings/ title="Constraints on Settings" class=md-nav__link> Constraints on Settings </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7-14 type=checkbox id=nav-7-14> <label class=md-nav__link for=nav-7-14> Utilities </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-7-14> Utilities </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../operations/utils/ title=Overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../operations/utils/clickhouse-copier/ title=clickhouse-copier class=md-nav__link> clickhouse-copier </a> </li> <li class=md-nav__item> <a href=../../../operations/utils/clickhouse-local/ title=clickhouse-local class=md-nav__link> clickhouse-local </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-8 type=checkbox id=nav-8> <label class=md-nav__link for=nav-8> 常见问题 </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-8> 常见问题 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../faq/general/ title=一般的问题 class=md-nav__link> 一般的问题 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-9 type=checkbox id=nav-9> <label class=md-nav__link for=nav-9> 开发者指南 </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-9> 开发者指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../development/architecture/ title=ClickHouse架构概述 class=md-nav__link> ClickHouse架构概述 </a> </li> <li class=md-nav__item> <a href=../../../development/build/ title=如何在Linux中编译ClickHouse class=md-nav__link> 如何在Linux中编译ClickHouse </a> </li> <li class=md-nav__item> <a href=../../../development/build_osx/ title="如何在Mac OS X中编译ClickHouse" class=md-nav__link> 如何在Mac OS X中编译ClickHouse </a> </li> <li class=md-nav__item> <a href=../../../development/style/ title=如何编写C++代码 class=md-nav__link> 如何编写C++代码 </a> </li> <li class=md-nav__item> <a href=../../../development/tests/ title=如何运行ClickHouse测试 class=md-nav__link> 如何运行ClickHouse测试 </a> </li> <li class=md-nav__item> <a href=../../../development/contrib/ title=使用的第三方库 class=md-nav__link> 使用的第三方库 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-10 type=checkbox id=nav-10> <label class=md-nav__link for=nav-10> 新功能特性 </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-10> 新功能特性 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../roadmap/ title=路线图 class=md-nav__link> 路线图 </a> </li> <li class=md-nav__item> <a href=../../../changelog/ title=更新日志 class=md-nav__link> 更新日志 </a> </li> <li class=md-nav__item> <a href=../../../security_changelog/ title=安全更改日志 class=md-nav__link> 安全更改日志 </a> </li> </ul> </nav> </li> </ul> <ul id=md-extra-nav class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> 发布: <span class=md-selector> <select id=releases-selector> <option value>最新</option> <option value=v20.1>v20.1</option> <option value=v19.17>v19.17</option> <option value=v19.16>v19.16</option> <option value=v19.15>v19.15</option> <option value=v19.14>v19.14</option> <option value=v19.13>v19.13</option> <option value=v19.11 selected=selected>v19.11</option> <option value=v19.10>v19.10</option> <option value=v19.9>v19.9</option> <option value=v19.8>v19.8</option> <option value=v19.7>v19.7</option> </select><span id=releases-selector-after>&nbsp;▾</span> </span> </li> <li class="md-nav__item md-nav__item--active"> <a href=../../../single/ class="md-nav__link md-nav__link--active">单页版本</a> </li> <li class="md-nav__item md-nav__item--active"> <a href=../../../single/clickhouse_zh.pdf class="md-nav__link md-nav__link--active">PDF版本</a> </li> <li class="md-nav__item md-nav__item--active"> <a href=https://github.com/ClickHouse/ClickHouse/ rel="external nofollow" target=_blank class=md-nav__link> ClickHouse源代码 </a> </li> <li class="md-nav__item md-nav__item--active"> <span id=md-sidebar-flags class=md-nav__link> <a class=md-alt-lang href=../../../../en/query_language/functions/date_time_functions/ class="md-flex__ellipsis md-header-nav__title" title=English> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 60 30" preserveaspectratio=none> <clippath id=t> <path d="M30,15 h30 v15 z v15 h-30 z h-30 v-15 z v-15 h30 z"/> </clippath> <path fill=#00247d d="M0,0 v30 h60 v-30 z"/> <path stroke=#fff stroke-width=6 d="M0,0 L60,30 M60,0 L0,30"/> <path clip-path=url(#t) stroke=#cf142b stroke-width=4 d="M0,0 L60,30 M60,0 L0,30"/> <path stroke=#fff stroke-width=10 d="M30,0 v30 M0,15 h60"/> <path stroke=#cf142b stroke-width=6 d="M30,0 v30 M0,15 h60"/> </svg> </a> <a class=md-alt-lang href=../../../../ru/query_language/functions/date_time_functions/ class="md-flex__ellipsis md-header-nav__title" title=Russian> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 9 6" preserveaspectratio=none> <rect fill=#fff width=9 height=3 /> <rect fill=#d52b1e y=3 width=9 height=3 /> <rect fill=#0039a6 y=2 width=9 height=2 /> </svg> </a> <a class="md-alt-lang md-current-lang" href=../../../../zh/query_language/functions/date_time_functions/ class="md-flex__ellipsis md-header-nav__title" title=Chinese> <svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink viewbox="0 0 30 20" preserveaspectratio=none> <defs> <path id=s fill=#ffde00 d="M0,-1 0.587785,0.809017 -0.951057,-0.309017H0.951057L-0.587785,0.809017z"/> </defs> <rect width=30 height=20 fill=#de2910 /> <use xlink:href=#s transform="translate(5,5) scale(3)"/> <use xlink:href=#s transform="translate(10,2) rotate(23.036243)"/> <use xlink:href=#s transform="translate(12,4) rotate(45.869898)"/> <use xlink:href=#s transform="translate(12,7) rotate(69.945396)"/> <use xlink:href=#s transform="translate(10,9) rotate(20.659808)"/> </svg> </a> <a class=md-alt-lang href=../../../../ja/query_language/functions/date_time_functions/ class="md-flex__ellipsis md-header-nav__title" title=Japanese> <?xml version="1.0" encoding="UTF-8"?> <svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink width=90px height=60px viewbox="0 0 90 60" version=1.1> <g id=surface1> <rect x=0 y=0 width=90 height=60 style=fill:rgb(62.7451%,62.7451%,62.7451%);fill-opacity:1;stroke:none; /> <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 0.601562 0.601562 L 89.398438 0.601562 L 89.398438 59.398438 L 0.601562 59.398438 Z M 0.601562 0.601562 "/> <path style=" stroke:none;fill-rule:nonzero;fill:rgb(74.509805%,0%,14.901961%);fill-opacity:1;" d="M 63 30 C 63 39.941406 54.941406 48 45 48 C 35.058594 48 27 39.941406 27 30 C 27 20.058594 35.058594 12 45 12 C 54.941406 12 63 20.058594 63 30 Z M 63 30 "/> </g> </svg> </a> <a class=md-alt-lang href=../../../../fa/query_language/functions/date_time_functions/ class="md-flex__ellipsis md-header-nav__title" title=Farsi> <svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink viewbox="0 0 630 360" preserveaspectratio=none> <rect width=630 height=360 fill=#da0000 /> <rect width=630 height=240 fill=#fff /> <rect width=630 height=120 fill=#239f40 /> <g transform=translate(8.4,100.4)> <g id=tb4> <g id=tb1 fill=none stroke=#fff stroke-width=2> <path id=tbp1 d=M0,1H26M1,10V5H9V9H17V5H12M4,9H6M26,9H21V5H29M29,0V9H37V0M33,0V9 transform=scale(1.4) /> <path id=tbp2 d=M0,7H9M10,7H19 transform=scale(2.8) /> <use xlink:href=#tbp2 y=120 /> <use xlink:href=#tbp1 y=145.2 /> </g> <g id=tb3> <use xlink:href=#tb1 x=56 /> <use xlink:href=#tb1 x=112 /> <use xlink:href=#tb1 x=168 /> </g> </g> <use xlink:href=#tb3 x=168 /> <use xlink:href=#tb4 x=392 /> </g> <g fill=#da0000 transform=matrix(45,0,0,45,315,180)> <g id=emblem_half> <path d="M-0.54815,0.83638A0.912046,0.912046 0 0,0 0.328544,-0.722384A1,1 0 0,1 -0.54815,0.83638"/> <path d="M0.618339,0.661409A0.763932,0.763932 0 0,0 0.421644,-0.741049A1,1 0 0,1 0.618339,0.661409"/> <path d="M0,1 -0.05,0 0,-0.787278A0.309995,0.309995 0 0,0 0.118034,-0.688191V-0.100406L0.077809,0.892905z"/> <path d="M-0.02,-0.85 0,-0.831217A0.14431,0.14431 0 0,0 0.252075,-0.967708A0.136408,0.136408 0 0,1 0,-0.924634"/> </g> <use xlink:href=#emblem_half transform=scale(-1,1) /> </g> </svg> </a> </span> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=toc>目录</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#totimezone title=toTimeZone class=md-nav__link> toTimeZone </a> </li> <li class=md-nav__item> <a href=#toyear title=toYear class=md-nav__link> toYear </a> </li> <li class=md-nav__item> <a href=#toquarter title=toQuarter class=md-nav__link> toQuarter </a> </li> <li class=md-nav__item> <a href=#tomonth title=toMonth class=md-nav__link> toMonth </a> </li> <li class=md-nav__item> <a href=#todayofyear title=toDayOfYear class=md-nav__link> toDayOfYear </a> </li> <li class=md-nav__item> <a href=#todayofmonth title=toDayOfMonth class=md-nav__link> toDayOfMonth </a> </li> <li class=md-nav__item> <a href=#todayofweek title=toDayOfWeek class=md-nav__link> toDayOfWeek </a> </li> <li class=md-nav__item> <a href=#tohour title=toHour class=md-nav__link> toHour </a> </li> <li class=md-nav__item> <a href=#tominute title=toMinute class=md-nav__link> toMinute </a> </li> <li class=md-nav__item> <a href=#tosecond title=toSecond class=md-nav__link> toSecond </a> </li> <li class=md-nav__item> <a href=#tounixtimestamp title=toUnixTimestamp class=md-nav__link> toUnixTimestamp </a> </li> <li class=md-nav__item> <a href=#tostartofyear title=toStartOfYear class=md-nav__link> toStartOfYear </a> </li> <li class=md-nav__item> <a href=#tostartofisoyear title=toStartOfISOYear class=md-nav__link> toStartOfISOYear </a> </li> <li class=md-nav__item> <a href=#tostartofquarter title=toStartOfQuarter class=md-nav__link> toStartOfQuarter </a> </li> <li class=md-nav__item> <a href=#tostartofmonth title=toStartOfMonth class=md-nav__link> toStartOfMonth </a> </li> <li class=md-nav__item> <a href=#tomonday title=toMonday class=md-nav__link> toMonday </a> </li> <li class=md-nav__item> <a href=#tostartofday title=toStartOfDay class=md-nav__link> toStartOfDay </a> </li> <li class=md-nav__item> <a href=#tostartofhour title=toStartOfHour class=md-nav__link> toStartOfHour </a> </li> <li class=md-nav__item> <a href=#tostartofminute title=toStartOfMinute class=md-nav__link> toStartOfMinute </a> </li> <li class=md-nav__item> <a href=#tostartoffiveminute title=toStartOfFiveMinute class=md-nav__link> toStartOfFiveMinute </a> </li> <li class=md-nav__item> <a href=#tostartoftenminutes title=toStartOfTenMinutes class=md-nav__link> toStartOfTenMinutes </a> </li> <li class=md-nav__item> <a href=#tostartoffifteenminutes title=toStartOfFifteenMinutes class=md-nav__link> toStartOfFifteenMinutes </a> </li> <li class=md-nav__item> <a href=#tostartofinterval-time-or-data-interval-x-unit-time-zone title="toStartOfInterval(time_or_data, INTERVAL x unit [, time_zone])" class=md-nav__link> toStartOfInterval(time_or_data, INTERVAL x unit [, time_zone]) </a> </li> <li class=md-nav__item> <a href=#totime title=toTime class=md-nav__link> toTime </a> </li> <li class=md-nav__item> <a href=#torelativeyearnum title=toRelativeYearNum class=md-nav__link> toRelativeYearNum </a> </li> <li class=md-nav__item> <a href=#torelativequarternum title=toRelativeQuarterNum class=md-nav__link> toRelativeQuarterNum </a> </li> <li class=md-nav__item> <a href=#torelativemonthnum title=toRelativeMonthNum class=md-nav__link> toRelativeMonthNum </a> </li> <li class=md-nav__item> <a href=#torelativeweeknum title=toRelativeWeekNum class=md-nav__link> toRelativeWeekNum </a> </li> <li class=md-nav__item> <a href=#torelativedaynum title=toRelativeDayNum class=md-nav__link> toRelativeDayNum </a> </li> <li class=md-nav__item> <a href=#torelativehournum title=toRelativeHourNum class=md-nav__link> toRelativeHourNum </a> </li> <li class=md-nav__item> <a href=#torelativeminutenum title=toRelativeMinuteNum class=md-nav__link> toRelativeMinuteNum </a> </li> <li class=md-nav__item> <a href=#torelativesecondnum title=toRelativeSecondNum class=md-nav__link> toRelativeSecondNum </a> </li> <li class=md-nav__item> <a href=#toisoyear title=toISOYear class=md-nav__link> toISOYear </a> </li> <li class=md-nav__item> <a href=#toisoweek title=toISOWeek class=md-nav__link> toISOWeek </a> </li> <li class=md-nav__item> <a href=#now title=now class=md-nav__link> now </a> </li> <li class=md-nav__item> <a href=#today title=today class=md-nav__link> today </a> </li> <li class=md-nav__item> <a href=#yesterday title=yesterday class=md-nav__link> yesterday </a> </li> <li class=md-nav__item> <a href=#timeslot title=timeSlot class=md-nav__link> timeSlot </a> </li> <li class=md-nav__item> <a href=#toyyyymm title=toYYYYMM class=md-nav__link> toYYYYMM </a> </li> <li class=md-nav__item> <a href=#toyyyymmdd title=toYYYYMMDD class=md-nav__link> toYYYYMMDD </a> </li> <li class=md-nav__item> <a href=#toyyyymmddhhmmss title=toYYYYMMDDhhmmss class=md-nav__link> toYYYYMMDDhhmmss </a> </li> <li class=md-nav__item> <a href=#addyears-addmonths-addweeks-adddays-addhours-addminutes-addseconds-addquarters title="addYears, addMonths, addWeeks, addDays, addHours, addMinutes, addSeconds, addQuarters" class=md-nav__link> addYears, addMonths, addWeeks, addDays, addHours, addMinutes, addSeconds, addQuarters </a> </li> <li class=md-nav__item> <a href=#subtractyears-subtractmonths-subtractweeks-subtractdays-subtracthours-subtractminutes-subtractseconds-subtractquarters title="subtractYears, subtractMonths, subtractWeeks, subtractDays, subtractHours, subtractMinutes, subtractSeconds, subtractQuarters" class=md-nav__link> subtractYears, subtractMonths, subtractWeeks, subtractDays, subtractHours, subtractMinutes, subtractSeconds, subtractQuarters </a> </li> <li class=md-nav__item> <a href=#datediff-unit-t1-t2-91-timezone-93 title="dateDiff('unit', t1, t2, [timezone])" class=md-nav__link> dateDiff('unit', t1, t2, [timezone]) </a> </li> <li class=md-nav__item> <a href=#timeslots-starttime-duration-91-size-93 title="timeSlots(StartTime, Duration,[, Size])" class=md-nav__link> timeSlots(StartTime, Duration,[, Size]) </a> </li> <li class=md-nav__item> <a href=#formatdatetime-time-format-91-timezone-93 title="formatDateTime(Time, Format[, Timezone])" class=md-nav__link> formatDateTime(Time, Format[, Timezone]) </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/ClickHouse/ClickHouse/edit/master/docs/zh/query_language/functions/date_time_functions.md title=编辑此页 class="md-icon md-content__icon" rel="external nofollow">&#xE3C9;</a> <div id=content> <h1 id=shi-jian-ri-qi-han-shu>时间日期函数<a class=headerlink href=#shi-jian-ri-qi-han-shu title="Permanent link">&para;</a></h1> <p>支持时区。</p> <p>所有的时间日期函数都可以在第二个可选参数中接受时区参数。示例：Asia / Yekaterinburg。在这种情况下，它们使用指定的时区而不是本地（默认）时区。</p> <div class=codehilite><pre><span></span><span class=k>SELECT</span>
    <span class=n>toDateTime</span><span class=p>(</span><span class=s1>&#39;2016-06-15 23:00:00&#39;</span><span class=p>)</span> <span class=k>AS</span> <span class=n>time</span><span class=p>,</span>
    <span class=n>toDate</span><span class=p>(</span><span class=n>time</span><span class=p>)</span> <span class=k>AS</span> <span class=n>date_local</span><span class=p>,</span>
    <span class=n>toDate</span><span class=p>(</span><span class=n>time</span><span class=p>,</span> <span class=s1>&#39;Asia/Yekaterinburg&#39;</span><span class=p>)</span> <span class=k>AS</span> <span class=n>date_yekat</span><span class=p>,</span>
    <span class=n>toString</span><span class=p>(</span><span class=n>time</span><span class=p>,</span> <span class=s1>&#39;US/Samoa&#39;</span><span class=p>)</span> <span class=k>AS</span> <span class=n>time_samoa</span>
</pre></div> <div class=codehilite><pre><span></span>┌────────────────time─┬─date_local─┬─date_yekat─┬─time_samoa──────────┐
│ 2016-06-15 23:00:00 │ 2016-06-15 │ 2016-06-16 │ 2016-06-15 09:00:00 │
└─────────────────────┴────────────┴────────────┴─────────────────────┘
</pre></div> <p>仅支持与UTC相差一整小时的时区。</p> <h2 id=totimezone>toTimeZone<a class=headerlink href=#totimezone title="Permanent link">&para;</a></h2> <p>将Date或DateTime转换为指定的时区。</p> <h2 id=toyear>toYear<a class=headerlink href=#toyear title="Permanent link">&para;</a></h2> <p>将Date或DateTime转换为包含年份编号（AD）的UInt16类型的数字。</p> <h2 id=toquarter>toQuarter<a class=headerlink href=#toquarter title="Permanent link">&para;</a></h2> <p>将Date或DateTime转换为包含季度编号的UInt8类型的数字。</p> <h2 id=tomonth>toMonth<a class=headerlink href=#tomonth title="Permanent link">&para;</a></h2> <p>将Date或DateTime转换为包含月份编号（1-12）的UInt8类型的数字。</p> <h2 id=todayofyear>toDayOfYear<a class=headerlink href=#todayofyear title="Permanent link">&para;</a></h2> <p>将Date或DateTime转换为包含一年中的某一天的编号的UInt16（1-366）类型的数字。</p> <h2 id=todayofmonth>toDayOfMonth<a class=headerlink href=#todayofmonth title="Permanent link">&para;</a></h2> <p>将Date或DateTime转换为包含一月中的某一天的编号的UInt8（1-31）类型的数字。</p> <h2 id=todayofweek>toDayOfWeek<a class=headerlink href=#todayofweek title="Permanent link">&para;</a></h2> <p>将Date或DateTime转换为包含一周中的某一天的编号的UInt8（周一是1, 周日是7）类型的数字。</p> <h2 id=tohour>toHour<a class=headerlink href=#tohour title="Permanent link">&para;</a></h2> <p>将DateTime转换为包含24小时制（0-23）小时数的UInt8数字。 这个函数假设如果时钟向前移动，它是一个小时，发生在凌晨2点，如果时钟被移回，它是一个小时，发生在凌晨3点（这并非总是如此 - 即使在莫斯科时钟在不同的时间两次改变）。</p> <h2 id=tominute>toMinute<a class=headerlink href=#tominute title="Permanent link">&para;</a></h2> <p>将DateTime转换为包含一小时中分钟数（0-59）的UInt8数字。</p> <h2 id=tosecond>toSecond<a class=headerlink href=#tosecond title="Permanent link">&para;</a></h2> <p>将DateTime转换为包含一分钟中秒数（0-59）的UInt8数字。 闰秒不计算在内。</p> <h2 id=tounixtimestamp>toUnixTimestamp<a class=headerlink href=#tounixtimestamp title="Permanent link">&para;</a></h2> <p>将DateTime转换为unix时间戳。</p> <h2 id=tostartofyear>toStartOfYear<a class=headerlink href=#tostartofyear title="Permanent link">&para;</a></h2> <p>将Date或DateTime向前取整到本年的第一天。 返回Date类型。</p> <h2 id=tostartofisoyear>toStartOfISOYear<a class=headerlink href=#tostartofisoyear title="Permanent link">&para;</a></h2> <p>将Date或DateTime向前取整到ISO本年的第一天。 返回Date类型。</p> <h2 id=tostartofquarter>toStartOfQuarter<a class=headerlink href=#tostartofquarter title="Permanent link">&para;</a></h2> <p>将Date或DateTime向前取整到本季度的第一天。 返回Date类型。</p> <h2 id=tostartofmonth>toStartOfMonth<a class=headerlink href=#tostartofmonth title="Permanent link">&para;</a></h2> <p>将Date或DateTime向前取整到本月的第一天。 返回Date类型。</p> <p>!!! 注意     解析不正确日期的行为是特定于实现的。 ClickHouse可能会返回零日期，抛出异常或执行“natural”溢出。</p> <h2 id=tomonday>toMonday<a class=headerlink href=#tomonday title="Permanent link">&para;</a></h2> <p>将Date或DateTime向前取整到本周的星期一。 返回Date类型。</p> <h2 id=tostartofday>toStartOfDay<a class=headerlink href=#tostartofday title="Permanent link">&para;</a></h2> <p>将DateTime向前取整到当日的开始。</p> <h2 id=tostartofhour>toStartOfHour<a class=headerlink href=#tostartofhour title="Permanent link">&para;</a></h2> <p>将DateTime向前取整到当前小时的开始。</p> <h2 id=tostartofminute>toStartOfMinute<a class=headerlink href=#tostartofminute title="Permanent link">&para;</a></h2> <p>将DateTime向前取整到当前分钟的开始。</p> <h2 id=tostartoffiveminute>toStartOfFiveMinute<a class=headerlink href=#tostartoffiveminute title="Permanent link">&para;</a></h2> <p>将DateTime以五分钟为单位向前取整到最接近的时间点。</p> <h2 id=tostartoftenminutes>toStartOfTenMinutes<a class=headerlink href=#tostartoftenminutes title="Permanent link">&para;</a></h2> <p>将DateTime以十分钟为单位向前取整到最接近的时间点。</p> <h2 id=tostartoffifteenminutes>toStartOfFifteenMinutes<a class=headerlink href=#tostartoffifteenminutes title="Permanent link">&para;</a></h2> <p>将DateTime以十五分钟为单位向前取整到最接近的时间点。</p> <h2 id=tostartofinterval-time-or-data-interval-x-unit-time-zone>toStartOfInterval(time_or_data, INTERVAL x unit [, time_zone])<a class=headerlink href=#tostartofinterval-time-or-data-interval-x-unit-time-zone title="Permanent link">&para;</a></h2> <p>这是名为<code>toStartOf*</code>的所有函数的通用函数。例如， <code>toStartOfInterval（t，INTERVAL 1 year）</code>返回与<code>toStartOfYear（t）</code>相同的结果， <code>toStartOfInterval（t，INTERVAL 1 month）</code>返回与<code>toStartOfMonth（t）</code>相同的结果， <code>toStartOfInterval（t，INTERVAL 1 day）</code>返回与<code>toStartOfDay（t）</code>相同的结果， <code>toStartOfInterval（t，INTERVAL 15 minute）</code>返回与<code>toStartOfFifteenMinutes（t）</code>相同的结果。</p> <h2 id=totime>toTime<a class=headerlink href=#totime title="Permanent link">&para;</a></h2> <p>将DateTime中的日期转换为一个固定的日期，同时保留时间部分。</p> <h2 id=torelativeyearnum>toRelativeYearNum<a class=headerlink href=#torelativeyearnum title="Permanent link">&para;</a></h2> <p>将Date或DateTime转换为年份的编号，从过去的某个固定时间点开始。</p> <h2 id=torelativequarternum>toRelativeQuarterNum<a class=headerlink href=#torelativequarternum title="Permanent link">&para;</a></h2> <p>将Date或DateTime转换为季度的数字，从过去的某个固定时间点开始。</p> <h2 id=torelativemonthnum>toRelativeMonthNum<a class=headerlink href=#torelativemonthnum title="Permanent link">&para;</a></h2> <p>将Date或DateTime转换为月份的编号，从过去的某个固定时间点开始。</p> <h2 id=torelativeweeknum>toRelativeWeekNum<a class=headerlink href=#torelativeweeknum title="Permanent link">&para;</a></h2> <p>将Date或DateTime转换为星期数，从过去的某个固定时间点开始。</p> <h2 id=torelativedaynum>toRelativeDayNum<a class=headerlink href=#torelativedaynum title="Permanent link">&para;</a></h2> <p>将Date或DateTime转换为当天的编号，从过去的某个固定时间点开始。</p> <h2 id=torelativehournum>toRelativeHourNum<a class=headerlink href=#torelativehournum title="Permanent link">&para;</a></h2> <p>将DateTime转换为小时数，从过去的某个固定时间点开始。</p> <h2 id=torelativeminutenum>toRelativeMinuteNum<a class=headerlink href=#torelativeminutenum title="Permanent link">&para;</a></h2> <p>将DateTime转换为分钟数，从过去的某个固定时间点开始。</p> <h2 id=torelativesecondnum>toRelativeSecondNum<a class=headerlink href=#torelativesecondnum title="Permanent link">&para;</a></h2> <p>将DateTime转换为秒数，从过去的某个固定时间点开始。</p> <h2 id=toisoyear>toISOYear<a class=headerlink href=#toisoyear title="Permanent link">&para;</a></h2> <p>将Date或DateTime转换为包含ISO年份的UInt16类型的编号。</p> <h2 id=toisoweek>toISOWeek<a class=headerlink href=#toisoweek title="Permanent link">&para;</a></h2> <p>将Date或DateTime转换为包含ISO周数的UInt8类型的编号。</p> <h2 id=now>now<a class=headerlink href=#now title="Permanent link">&para;</a></h2> <p>不接受任何参数并在请求执行时的某一刻返回当前时间（DateTime）。 此函数返回一个常量，即时请求需要很长时间能够完成。</p> <h2 id=today>today<a class=headerlink href=#today title="Permanent link">&para;</a></h2> <p>不接受任何参数并在请求执行时的某一刻返回当前日期(Date)。 其功能与'toDate（now（））'相同。</p> <h2 id=yesterday>yesterday<a class=headerlink href=#yesterday title="Permanent link">&para;</a></h2> <p>不接受任何参数并在请求执行时的某一刻返回昨天的日期(Date)。 其功能与'today（） - 1'相同。</p> <h2 id=timeslot>timeSlot<a class=headerlink href=#timeslot title="Permanent link">&para;</a></h2> <p>将时间向前取整半小时。 此功能用于Yandex.Metrica，因为如果跟踪标记显示单个用户的连续综合浏览量在时间上严格超过此数量，则半小时是将会话分成两个会话的最短时间。这意味着（tag id，user id，time slot）可用于搜索相应会话中包含的综合浏览量。</p> <h2 id=toyyyymm>toYYYYMM<a class=headerlink href=#toyyyymm title="Permanent link">&para;</a></h2> <p>将Date或DateTime转换为包含年份和月份编号的UInt32类型的数字（YYYY * 100 + MM）。</p> <h2 id=toyyyymmdd>toYYYYMMDD<a class=headerlink href=#toyyyymmdd title="Permanent link">&para;</a></h2> <p>将Date或DateTime转换为包含年份和月份编号的UInt32类型的数字（YYYY * 10000 + MM * 100 + DD）。</p> <h2 id=toyyyymmddhhmmss>toYYYYMMDDhhmmss<a class=headerlink href=#toyyyymmddhhmmss title="Permanent link">&para;</a></h2> <p>将Date或DateTime转换为包含年份和月份编号的UInt64类型的数字（YYYY * 10000000000 + MM * 100000000 + DD * 1000000 + hh * 10000 + mm * 100 + ss）。</p> <h2 id=addyears-addmonths-addweeks-adddays-addhours-addminutes-addseconds-addquarters>addYears, addMonths, addWeeks, addDays, addHours, addMinutes, addSeconds, addQuarters<a class=headerlink href=#addyears-addmonths-addweeks-adddays-addhours-addminutes-addseconds-addquarters title="Permanent link">&para;</a></h2> <p>函数将一段时间间隔添加到Date/DateTime，然后返回Date/DateTime。例如：</p> <div class=codehilite><pre><span></span><span class=k>WITH</span>
    <span class=n>toDate</span><span class=p>(</span><span class=s1>&#39;2018-01-01&#39;</span><span class=p>)</span> <span class=k>AS</span> <span class=nb>date</span><span class=p>,</span>
    <span class=n>toDateTime</span><span class=p>(</span><span class=s1>&#39;2018-01-01 00:00:00&#39;</span><span class=p>)</span> <span class=k>AS</span> <span class=n>date_time</span>
<span class=k>SELECT</span>
    <span class=n>addYears</span><span class=p>(</span><span class=nb>date</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span> <span class=k>AS</span> <span class=n>add_years_with_date</span><span class=p>,</span>
    <span class=n>addYears</span><span class=p>(</span><span class=n>date_time</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span> <span class=k>AS</span> <span class=n>add_years_with_date_time</span>
</pre></div> <div class=codehilite><pre><span></span>┌─add_years_with_date─┬─add_years_with_date_time─┐
│          2019-01-01 │      2019-01-01 00:00:00 │
└─────────────────────┴──────────────────────────┘
</pre></div> <h2 id=subtractyears-subtractmonths-subtractweeks-subtractdays-subtracthours-subtractminutes-subtractseconds-subtractquarters>subtractYears, subtractMonths, subtractWeeks, subtractDays, subtractHours, subtractMinutes, subtractSeconds, subtractQuarters<a class=headerlink href=#subtractyears-subtractmonths-subtractweeks-subtractdays-subtracthours-subtractminutes-subtractseconds-subtractquarters title="Permanent link">&para;</a></h2> <p>函数将Date/DateTime减去一段时间间隔，然后返回Date/DateTime。例如：</p> <div class=codehilite><pre><span></span><span class=k>WITH</span>
    <span class=n>toDate</span><span class=p>(</span><span class=s1>&#39;2019-01-01&#39;</span><span class=p>)</span> <span class=k>AS</span> <span class=nb>date</span><span class=p>,</span>
    <span class=n>toDateTime</span><span class=p>(</span><span class=s1>&#39;2019-01-01 00:00:00&#39;</span><span class=p>)</span> <span class=k>AS</span> <span class=n>date_time</span>
<span class=k>SELECT</span>
    <span class=n>subtractYears</span><span class=p>(</span><span class=nb>date</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span> <span class=k>AS</span> <span class=n>subtract_years_with_date</span><span class=p>,</span>
    <span class=n>subtractYears</span><span class=p>(</span><span class=n>date_time</span><span class=p>,</span> <span class=mi>1</span><span class=p>)</span> <span class=k>AS</span> <span class=n>subtract_years_with_date_time</span>
</pre></div> <div class=codehilite><pre><span></span>┌─subtract_years_with_date─┬─subtract_years_with_date_time─┐
│               2018-01-01 │           2018-01-01 00:00:00 │
└──────────────────────────┴───────────────────────────────┘
</pre></div> <h2 id=datediff-unit-t1-t2-91-timezone-93>dateDiff('unit', t1, t2, [timezone])<a class=headerlink href=#datediff-unit-t1-t2-91-timezone-93 title="Permanent link">&para;</a></h2> <p>返回以'unit'为单位表示的两个时间之间的差异，例如<code>'hours'</code>。 't1'和't2'可以是Date或DateTime，如果指定'timezone'，它将应用于两个参数。如果不是，则使用来自数据类型't1'和't2'的时区。如果时区不相同，则结果将是未定义的。</p> <p>Supported unit values:</p> <table> <thead> <tr> <th>unit</th> </tr> </thead> <tbody> <tr> <td>second</td> </tr> <tr> <td>minute</td> </tr> <tr> <td>hour</td> </tr> <tr> <td>day</td> </tr> <tr> <td>week</td> </tr> <tr> <td>month</td> </tr> <tr> <td>quarter</td> </tr> <tr> <td>year</td> </tr> </tbody> </table> <h2 id=timeslots-starttime-duration-91-size-93>timeSlots(StartTime, Duration,[, Size])<a class=headerlink href=#timeslots-starttime-duration-91-size-93 title="Permanent link">&para;</a></h2> <p>它返回一个时间数组，其中包括从从“StartTime”开始到“StartTime + Duration 秒”内的所有符合“size”（以秒为单位）步长的时间点。其中“size”是一个可选参数，默认为1800。 例如，<code>timeSlots(toDateTime('2012-01-01 12:20:00')，600) = [toDateTime（'2012-01-01 12:00:00'），toDateTime（'2012-01-01 12:30:00' ）]</code>。 这对于搜索在相应会话中综合浏览量是非常有用的。</p> <h2 id=formatdatetime-time-format-91-timezone-93>formatDateTime(Time, Format[, Timezone])<a class=headerlink href=#formatdatetime-time-format-91-timezone-93 title="Permanent link">&para;</a></h2> <p>函数根据给定的格式字符串来格式化时间。请注意：格式字符串必须是常量表达式，例如：单个结果列不能有多种格式字符串。</p> <p>支持的格式修饰符： ("Example" 列是对<code>2018-01-02 22:33:44</code>的格式化结果)</p> <table> <thead> <tr> <th>Modifier</th> <th>Description</th> <th>Example</th> </tr> </thead> <tbody> <tr> <td>%C</td> <td>year divided by 100 and truncated to integer (00-99)</td> <td>20</td> </tr> <tr> <td>%d</td> <td>day of the month, zero-padded (01-31)</td> <td>02</td> </tr> <tr> <td>%D</td> <td>Short MM/DD/YY date, equivalent to %m/%d/%y</td> <td>01/02/2018</td> </tr> <tr> <td>%e</td> <td>day of the month, space-padded ( 1-31)</td> <td>2</td> </tr> <tr> <td>%F</td> <td>short YYYY-MM-DD date, equivalent to %Y-%m-%d</td> <td>2018-01-02</td> </tr> <tr> <td>%H</td> <td>hour in 24h format (00-23)</td> <td>22</td> </tr> <tr> <td>%I</td> <td>hour in 12h format (01-12)</td> <td>10</td> </tr> <tr> <td>%j</td> <td>day of the year (001-366)</td> <td>002</td> </tr> <tr> <td>%m</td> <td>month as a decimal number (01-12)</td> <td>01</td> </tr> <tr> <td>%M</td> <td>minute (00-59)</td> <td>33</td> </tr> <tr> <td>%n</td> <td>new-line character ('\n')</td> <td></td> </tr> <tr> <td>%p</td> <td>AM or PM designation</td> <td>PM</td> </tr> <tr> <td>%R</td> <td>24-hour HH:MM time, equivalent to %H:%M</td> <td>22:33</td> </tr> <tr> <td>%S</td> <td>second (00-59)</td> <td>44</td> </tr> <tr> <td>%t</td> <td>horizontal-tab character ('\t')</td> <td></td> </tr> <tr> <td>%T</td> <td>ISO 8601 time format (HH:MM:SS), equivalent to %H:%M:%S</td> <td>22:33:44</td> </tr> <tr> <td>%u</td> <td>ISO 8601 weekday as number with Monday as 1 (1-7)</td> <td>2</td> </tr> <tr> <td>%V</td> <td>ISO 8601 week number (01-53)</td> <td>01</td> </tr> <tr> <td>%w</td> <td>weekday as a decimal number with Sunday as 0 (0-6)</td> <td>2</td> </tr> <tr> <td>%y</td> <td>Year, last two digits (00-99)</td> <td>18</td> </tr> <tr> <td>%Y</td> <td>Year</td> <td>2018</td> </tr> <tr> <td>%%</td> <td>a % sign</td> <td>%</td> </tr> </tbody> </table> </div> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid"> <a href=../../../query_language/functions/type_conversion_functions/ title=类型转换函数 class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i> </div> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis> <span class=md-footer-nav__direction> 后退 </span> 类型转换函数 </span> </div> </a> <a href=../../../query_language/functions/string_functions/ title=字符串函数 class="md-flex md-footer-nav__link md-footer-nav__link--next" rel=next> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis> <span class=md-footer-nav__direction> 前进 </span> 字符串函数 </span> </div> <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> ©2016–2020 Yandex LLC </div> </div> </div> </div> </footer> </div> <script src=../../../assets/javascripts/modernizr.js></script> <script src=../../../assets/javascripts/application.js></script> <script src=../../../assets/javascripts/lunr/lunr.stemmer.support.js></script> <script src=../../../assets/javascripts/lunr/lunr.zh.js></script> <script src=../../../assets/javascripts/lunr/lunr.multi.js></script> <script type=text/javascript>
      function ready(callback){
          if (document.readyState != 'loading') {
              callback();
          } else if (document.addEventListener) {
              document.addEventListener('DOMContentLoaded', callback);
          } else document.attachEvent('onreadystatechange', function() {
              if (document.readyState == 'complete') {
                  callback();
              }
          });
      }
      ready(function () {
          var i;
          
          app.initialize({
              version: "1.0.4",
              url: {
                  base: "../../.."
              }
          });
          var beforePrint = function() {
            var details = document.getElementsByTagName("details");
            for (i = 0; i < details.length; ++i) {
                details[i].open = 1;
            }
          };
          if (window.matchMedia) {
              window.matchMedia('print').addListener(function(q) {
                  if (q.matches) {
                      beforePrint();
                  }
              });
          }
          window.onbeforeprint = beforePrint;

          var name = window.location.hostname.split('.')[0];
          var feedback_address = name + '-feedback' + '@yandex-team.ru';
          var feedback_email = document.getElementsByClassName('feedback-email');
          for (i = 0; i < feedback_email.length; i++) {
            feedback_email[i].setAttribute('href', 'mailto:' + feedback_address);
            feedback_email[i].innerHTML = feedback_address;
          }

          document.getElementById("releases-selector").addEventListener(
            "change",
            function() {
              var target = window.location.href.split('docs')[0] + 'docs/';
              if (this.value) {
                target = target + this.value + '/';
              }
              window.location = target + 'zh';
            }
          )
      });
    </script> <script type=text/javascript src=https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js></script> <script type=text/javascript> docsearch({
apiKey: 'e239649803024433599de47a53b2d416',
indexName: 'yandex_clickhouse',
inputSelector: '#md-search__input',
algoliaOptions: {
  advancedSyntax: true,
  clickAnalytics: true,
  hitsPerPage: 25,
  'facetFilters': ["lang:zh"]
},
debug: false
});
</script> <!-- Yandex.Metrika counter --> <script type=text/javascript>
        (function (d, w, c) {
            (w[c] = w[c] || []).push(function() {
                try {
                    w.yaCounter18343495 = new Ya.Metrika2({
                        id:18343495,
                        clickmap:true,
                        trackLinks:true,
                        accurateTrackBounce:true,
                        webvisor: true
                    });
                } catch(e) { }
            });
            var n = d.getElementsByTagName("script")[0],
                s = d.createElement("script"),
                f = function () { n.parentNode.insertBefore(s, n); };
            s.type = "text/javascript";
            s.async = true;
            s.src = "https://mc.yandex.ru/metrika/tag.js";
            if (w.opera == "[object Opera]") {
                d.addEventListener("DOMContentLoaded", f, false);
            } else { f(); }
        })(document, window, "yandex_metrika_callbacks2");
    </script> <noscript> <div><img src=https://mc.yandex.ru/watch/18343495 style="position:absolute; left:-9999px;" alt></div> </noscript> <!-- /Yandex.Metrika counter --> </body> </html>