<!DOCTYPE html><html lang=en class=no-js data-version=v19.13 data-single-page=false> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><link href=https://clickhouse.yandex/docs/en/query_language/functions/array_functions/ rel=canonical><meta name=lang:clipboard.copy content="Copy to clipboard"><meta name=lang:clipboard.copied content="Copied to clipboard"><meta name=lang:search.language content=en><meta name=lang:search.pipeline.stopwords content><meta name=lang:search.pipeline.trimmer content><meta name=lang:search.result.none content="No matching documents"><meta name=lang:search.result.one content="1 matching document"><meta name=lang:search.result.other content="# matching documents"><meta name=lang:search.tokenizer content=[\s\-]+><link rel="shortcut icon" href=../../../assets/images/favicon.ico><title>Working with Arrays - ClickHouse v19.13 Documentation</title><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css><link rel=stylesheet href=../../../assets/stylesheets/application.2a88008a.css><link rel=stylesheet href=../../../assets/stylesheets/application-palette.792431c1.css><link rel=stylesheet href="https://fonts.googleapis.com/icon?family=Material+Icons"><link rel=stylesheet href=../../../assets/stylesheets/custom.css?1582323906></head> <body dir=ltr data-md-color-primary=white data-md-color-accent=white class=md-lang-en> <svg class=md-svg> <defs> <svg xmlns=http://www.w3.org/2000/svg width=416 height=448 viewbox="0 0 416 448" id=github><path fill=currentColor d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg> </defs> </svg> <input class=md-toggle data-md-toggle=drawer type=checkbox id=drawer> <input class=md-toggle data-md-toggle=search type=checkbox id=search> <label class=md-overlay data-md-component=overlay for=drawer></label> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid"> <div class=md-flex> <div class="md-flex__cell md-flex__cell--shrink"> <a href=/ title="ClickHouse v19.13 Documentation" class="md-header-nav__button md-logo"> <img src=../../../images/logo.svg width=40 height=40> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=drawer></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title> <span class=md-header-nav__topic> ClickHouse v19.13 Documentation </span> <span class=md-header-nav__topic> Working with Arrays </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--search md-header-nav__button" for=search></label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=search></label> <div class=md-search__inner> <form class=md-search__form name=search> <input type=text id=md-search__input class=md-search__input name=query required placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false> <label class="md-icon md-search__icon" for=search></label> <button type=reset class="md-icon md-search__icon" data-md-component=reset>&#xE5CD;</button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=result> <div class=md-search-result__meta> Type to start searching </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <div id=md-language-switch class=md-header-nav__source> <a class="md-alt-lang md-current-lang" href=../../../../en/query_language/functions/array_functions/ class="md-flex__ellipsis md-header-nav__title" title=English> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 60 30" preserveaspectratio=none> <clippath id=t> <path d="M30,15 h30 v15 z v15 h-30 z h-30 v-15 z v-15 h30 z"/> </clippath> <path fill=#00247d d="M0,0 v30 h60 v-30 z"/> <path stroke=#fff stroke-width=6 d="M0,0 L60,30 M60,0 L0,30"/> <path clip-path=url(#t) stroke=#cf142b stroke-width=4 d="M0,0 L60,30 M60,0 L0,30"/> <path stroke=#fff stroke-width=10 d="M30,0 v30 M0,15 h60"/> <path stroke=#cf142b stroke-width=6 d="M30,0 v30 M0,15 h60"/> </svg> </a> <a class=md-alt-lang href=../../../../ru/query_language/functions/array_functions/ class="md-flex__ellipsis md-header-nav__title" title=Russian> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 9 6" preserveaspectratio=none> <rect fill=#fff width=9 height=3 /> <rect fill=#d52b1e y=3 width=9 height=3 /> <rect fill=#0039a6 y=2 width=9 height=2 /> </svg> </a> <a class=md-alt-lang href=../../../../zh/query_language/functions/array_functions/ class="md-flex__ellipsis md-header-nav__title" title=Chinese> <svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink viewbox="0 0 30 20" preserveaspectratio=none> <defs> <path id=s fill=#ffde00 d="M0,-1 0.587785,0.809017 -0.951057,-0.309017H0.951057L-0.587785,0.809017z"/> </defs> <rect width=30 height=20 fill=#de2910 /> <use xlink:href=#s transform="translate(5,5) scale(3)"/> <use xlink:href=#s transform="translate(10,2) rotate(23.036243)"/> <use xlink:href=#s transform="translate(12,4) rotate(45.869898)"/> <use xlink:href=#s transform="translate(12,7) rotate(69.945396)"/> <use xlink:href=#s transform="translate(10,9) rotate(20.659808)"/> </svg> </a> <a class=md-alt-lang href=../../../../ja/query_language/functions/array_functions/ class="md-flex__ellipsis md-header-nav__title" title=Japanese> <?xml version="1.0" encoding="UTF-8"?> <svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink width=90px height=60px viewbox="0 0 90 60" version=1.1> <g id=surface1> <rect x=0 y=0 width=90 height=60 style=fill:rgb(62.7451%,62.7451%,62.7451%);fill-opacity:1;stroke:none; /> <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 0.601562 0.601562 L 89.398438 0.601562 L 89.398438 59.398438 L 0.601562 59.398438 Z M 0.601562 0.601562 "/> <path style=" stroke:none;fill-rule:nonzero;fill:rgb(74.509805%,0%,14.901961%);fill-opacity:1;" d="M 63 30 C 63 39.941406 54.941406 48 45 48 C 35.058594 48 27 39.941406 27 30 C 27 20.058594 35.058594 12 45 12 C 54.941406 12 63 20.058594 63 30 Z M 63 30 "/> </g> </svg> </a> <a class=md-alt-lang href=../../../../fa/query_language/functions/array_functions/ class="md-flex__ellipsis md-header-nav__title" title=Farsi> <svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink viewbox="0 0 630 360" preserveaspectratio=none> <rect width=630 height=360 fill=#da0000 /> <rect width=630 height=240 fill=#fff /> <rect width=630 height=120 fill=#239f40 /> <g transform=translate(8.4,100.4)> <g id=tb4> <g id=tb1 fill=none stroke=#fff stroke-width=2> <path id=tbp1 d=M0,1H26M1,10V5H9V9H17V5H12M4,9H6M26,9H21V5H29M29,0V9H37V0M33,0V9 transform=scale(1.4) /> <path id=tbp2 d=M0,7H9M10,7H19 transform=scale(2.8) /> <use xlink:href=#tbp2 y=120 /> <use xlink:href=#tbp1 y=145.2 /> </g> <g id=tb3> <use xlink:href=#tb1 x=56 /> <use xlink:href=#tb1 x=112 /> <use xlink:href=#tb1 x=168 /> </g> </g> <use xlink:href=#tb3 x=168 /> <use xlink:href=#tb4 x=392 /> </g> <g fill=#da0000 transform=matrix(45,0,0,45,315,180)> <g id=emblem_half> <path d="M-0.54815,0.83638A0.912046,0.912046 0 0,0 0.328544,-0.722384A1,1 0 0,1 -0.54815,0.83638"/> <path d="M0.618339,0.661409A0.763932,0.763932 0 0,0 0.421644,-0.741049A1,1 0 0,1 0.618339,0.661409"/> <path d="M0,1 -0.05,0 0,-0.787278A0.309995,0.309995 0 0,0 0.118034,-0.688191V-0.100406L0.077809,0.892905z"/> <path d="M-0.02,-0.85 0,-0.831217A0.14431,0.14431 0 0,0 0.252075,-0.967708A0.136408,0.136408 0 0,1 0,-0.924634"/> </g> <use xlink:href=#emblem_half transform=scale(-1,1) /> </g> </svg> </a> </div> </div> </div> </nav> </header> <div class=md-container> <main class=md-main> <div class="md-main__inner md-grid" data-md-component=container> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" data-md-level=0> <label class="md-nav__title md-nav__title--site" for=drawer> ClickHouse v19.13 Documentation </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-1 type=checkbox id=nav-1> <label class=md-nav__link for=nav-1> Introduction </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-1> Introduction </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../ title=Overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../introduction/distinctive_features/ title="Distinctive Features of ClickHouse" class=md-nav__link> Distinctive Features of ClickHouse </a> </li> <li class=md-nav__item> <a href=../../../introduction/features_considered_disadvantages/ title="ClickHouse Features that Can Be Considered Disadvantages" class=md-nav__link> ClickHouse Features that Can Be Considered Disadvantages </a> </li> <li class=md-nav__item> <a href=../../../introduction/performance/ title=Performance class=md-nav__link> Performance </a> </li> <li class=md-nav__item> <a href=../../../introduction/ya_metrika_task/ title="The Yandex.Metrica Task" class=md-nav__link> The Yandex.Metrica Task </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-2 type=checkbox id=nav-2> <label class=md-nav__link for=nav-2> Getting Started </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-2> Getting Started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../getting_started/ title="Deploying and Running" class=md-nav__link> Deploying and Running </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-2-2 type=checkbox id=nav-2-2> <label class=md-nav__link for=nav-2-2> Example Datasets </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-2-2> Example Datasets </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../getting_started/example_datasets/ontime/ title=OnTime class=md-nav__link> OnTime </a> </li> <li class=md-nav__item> <a href=../../../getting_started/example_datasets/nyc_taxi/ title="New York Taxi Data" class=md-nav__link> New York Taxi Data </a> </li> <li class=md-nav__item> <a href=../../../getting_started/example_datasets/amplab_benchmark/ title="AMPLab Big Data Benchmark" class=md-nav__link> AMPLab Big Data Benchmark </a> </li> <li class=md-nav__item> <a href=../../../getting_started/example_datasets/wikistat/ title=WikiStat class=md-nav__link> WikiStat </a> </li> <li class=md-nav__item> <a href=../../../getting_started/example_datasets/criteo/ title="Terabyte Click Logs from Criteo" class=md-nav__link> Terabyte Click Logs from Criteo </a> </li> <li class=md-nav__item> <a href=../../../getting_started/example_datasets/star_schema/ title="Star Schema Benchmark" class=md-nav__link> Star Schema Benchmark </a> </li> <li class=md-nav__item> <a href=../../../getting_started/example_datasets/metrica/ title="Yandex.Metrica Data" class=md-nav__link> Yandex.Metrica Data </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-3 type=checkbox id=nav-3> <label class=md-nav__link for=nav-3> Interfaces </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-3> Interfaces </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../interfaces/ title=Introduction class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../../../interfaces/cli/ title="Command-Line Client" class=md-nav__link> Command-Line Client </a> </li> <li class=md-nav__item> <a href=../../../interfaces/tcp/ title="Native Interface (TCP)" class=md-nav__link> Native Interface (TCP) </a> </li> <li class=md-nav__item> <a href=../../../interfaces/http/ title="HTTP Interface" class=md-nav__link> HTTP Interface </a> </li> <li class=md-nav__item> <a href=../../../interfaces/formats/ title="Input and Output Formats" class=md-nav__link> Input and Output Formats </a> </li> <li class=md-nav__item> <a href=../../../interfaces/jdbc/ title="JDBC Driver" class=md-nav__link> JDBC Driver </a> </li> <li class=md-nav__item> <a href=../../../interfaces/odbc/ title="ODBC Driver" class=md-nav__link> ODBC Driver </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-3-8 type=checkbox id=nav-3-8> <label class=md-nav__link for=nav-3-8> Third-Party </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-3-8> Third-Party </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../interfaces/third-party/client_libraries/ title="Client Libraries" class=md-nav__link> Client Libraries </a> </li> <li class=md-nav__item> <a href=../../../interfaces/third-party/integrations/ title=Integrations class=md-nav__link> Integrations </a> </li> <li class=md-nav__item> <a href=../../../interfaces/third-party/gui/ title="Visual Interfaces" class=md-nav__link> Visual Interfaces </a> </li> <li class=md-nav__item> <a href=../../../interfaces/third-party/proxy/ title=Proxies class=md-nav__link> Proxies </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4 type=checkbox id=nav-4> <label class=md-nav__link for=nav-4> Data Types </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-4> Data Types </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../data_types/ title=Introduction class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../../../data_types/int_uint/ title="UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64" class=md-nav__link> UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64 </a> </li> <li class=md-nav__item> <a href=../../../data_types/float/ title="Float32, Float64" class=md-nav__link> Float32, Float64 </a> </li> <li class=md-nav__item> <a href=../../../data_types/decimal/ title=Decimal class=md-nav__link> Decimal </a> </li> <li class=md-nav__item> <a href=../../../data_types/boolean/ title=Boolean class=md-nav__link> Boolean </a> </li> <li class=md-nav__item> <a href=../../../data_types/string/ title=String class=md-nav__link> String </a> </li> <li class=md-nav__item> <a href=../../../data_types/fixedstring/ title=FixedString(N) class=md-nav__link> FixedString(N) </a> </li> <li class=md-nav__item> <a href=../../../data_types/uuid/ title=UUID class=md-nav__link> UUID </a> </li> <li class=md-nav__item> <a href=../../../data_types/date/ title=Date class=md-nav__link> Date </a> </li> <li class=md-nav__item> <a href=../../../data_types/datetime/ title=DateTime class=md-nav__link> DateTime </a> </li> <li class=md-nav__item> <a href=../../../data_types/enum/ title=Enum class=md-nav__link> Enum </a> </li> <li class=md-nav__item> <a href=../../../data_types/array/ title=Array(T) class=md-nav__link> Array(T) </a> </li> <li class=md-nav__item> <a href=../../../data_types/nested_data_structures/aggregatefunction/ title="AggregateFunction(name, types_of_arguments...)" class=md-nav__link> AggregateFunction(name, types_of_arguments...) </a> </li> <li class=md-nav__item> <a href=../../../data_types/tuple/ title="Tuple(T1, T2, ...)" class=md-nav__link> Tuple(T1, T2, ...) </a> </li> <li class=md-nav__item> <a href=../../../data_types/nullable/ title=Nullable class=md-nav__link> Nullable </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4-16 type=checkbox id=nav-4-16> <label class=md-nav__link for=nav-4-16> Nested Data Structures </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-4-16> Nested Data Structures </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../data_types/nested_data_structures/nested/ title="Nested(Name1 Type1, Name2 Type2, ...)" class=md-nav__link> Nested(Name1 Type1, Name2 Type2, ...) </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4-17 type=checkbox id=nav-4-17> <label class=md-nav__link for=nav-4-17> Special Data Types </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-4-17> Special Data Types </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../data_types/special_data_types/expression/ title=Expression class=md-nav__link> Expression </a> </li> <li class=md-nav__item> <a href=../../../data_types/special_data_types/set/ title=Set class=md-nav__link> Set </a> </li> <li class=md-nav__item> <a href=../../../data_types/special_data_types/nothing/ title=Nothing class=md-nav__link> Nothing </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4-18 type=checkbox id=nav-4-18> <label class=md-nav__link for=nav-4-18> Domains </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-4-18> Domains </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../data_types/domains/overview/ title=Overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../data_types/domains/ipv4/ title=IPv4 class=md-nav__link> IPv4 </a> </li> <li class=md-nav__item> <a href=../../../data_types/domains/ipv6/ title=IPv6 class=md-nav__link> IPv6 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5 type=checkbox id=nav-5> <label class=md-nav__link for=nav-5> Database Engines </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-5> Database Engines </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../database_engines/ title=Introduction class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../../../database_engines/mysql/ title=MySQL class=md-nav__link> MySQL </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-6 type=checkbox id=nav-6> <label class=md-nav__link for=nav-6> Table Engines </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-6> Table Engines </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../operations/table_engines/ title=Introduction class=md-nav__link> Introduction </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-6-2 type=checkbox id=nav-6-2> <label class=md-nav__link for=nav-6-2> MergeTree Family </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-6-2> MergeTree Family </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../operations/table_engines/mergetree/ title=MergeTree class=md-nav__link> MergeTree </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/replication/ title="Data Replication" class=md-nav__link> Data Replication </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/custom_partitioning_key/ title="Custom Partitioning Key" class=md-nav__link> Custom Partitioning Key </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/replacingmergetree/ title=ReplacingMergeTree class=md-nav__link> ReplacingMergeTree </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/summingmergetree/ title=SummingMergeTree class=md-nav__link> SummingMergeTree </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/aggregatingmergetree/ title=AggregatingMergeTree class=md-nav__link> AggregatingMergeTree </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/collapsingmergetree/ title=CollapsingMergeTree class=md-nav__link> CollapsingMergeTree </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/versionedcollapsingmergetree/ title=VersionedCollapsingMergeTree class=md-nav__link> VersionedCollapsingMergeTree </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/graphitemergetree/ title=GraphiteMergeTree class=md-nav__link> GraphiteMergeTree </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-6-3 type=checkbox id=nav-6-3> <label class=md-nav__link for=nav-6-3> Log Family </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-6-3> Log Family </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../operations/table_engines/log_family/ title=Introduction class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/stripelog/ title=StripeLog class=md-nav__link> StripeLog </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/log/ title=Log class=md-nav__link> Log </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/tinylog/ title=TinyLog class=md-nav__link> TinyLog </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-6-4 type=checkbox id=nav-6-4> <label class=md-nav__link for=nav-6-4> Integrations </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-6-4> Integrations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../operations/table_engines/kafka/ title=Kafka class=md-nav__link> Kafka </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/mysql/ title=MySQL class=md-nav__link> MySQL </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-6-5 type=checkbox id=nav-6-5> <label class=md-nav__link for=nav-6-5> Special </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-6-5> Special </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../operations/table_engines/distributed/ title=Distributed class=md-nav__link> Distributed </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/external_data/ title="External data" class=md-nav__link> External data </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/dictionary/ title=Dictionary class=md-nav__link> Dictionary </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/merge/ title=Merge class=md-nav__link> Merge </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/file/ title=File class=md-nav__link> File </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/null/ title=Null class=md-nav__link> Null </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/set/ title=Set class=md-nav__link> Set </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/join/ title=Join class=md-nav__link> Join </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/url/ title=URL class=md-nav__link> URL </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/view/ title=View class=md-nav__link> View </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/materializedview/ title=MaterializedView class=md-nav__link> MaterializedView </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/memory/ title=Memory class=md-nav__link> Memory </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/buffer/ title=Buffer class=md-nav__link> Buffer </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/jdbc/ title=JDBC class=md-nav__link> JDBC </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/odbc/ title=ODBC class=md-nav__link> ODBC </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7 type=checkbox id=nav-7 checked> <label class=md-nav__link for=nav-7> SQL Reference </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-7> SQL Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../query_language/select/ title=SELECT class=md-nav__link> SELECT </a> </li> <li class=md-nav__item> <a href=../../../query_language/insert_into/ title="INSERT INTO" class=md-nav__link> INSERT INTO </a> </li> <li class=md-nav__item> <a href=../../../query_language/create/ title=CREATE class=md-nav__link> CREATE </a> </li> <li class=md-nav__item> <a href=../../../query_language/alter/ title=ALTER class=md-nav__link> ALTER </a> </li> <li class=md-nav__item> <a href=../../../query_language/system/ title=SYSTEM class=md-nav__link> SYSTEM </a> </li> <li class=md-nav__item> <a href=../../../query_language/misc/ title="Other Kinds of Queries" class=md-nav__link> Other Kinds of Queries </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7-8 type=checkbox id=nav-7-8 checked> <label class=md-nav__link for=nav-7-8> Functions </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-7-8> Functions </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../query_language/functions/ title=Introduction class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/arithmetic_functions/ title=Arithmetic class=md-nav__link> Arithmetic </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/comparison_functions/ title=Comparison class=md-nav__link> Comparison </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/logical_functions/ title=Logical class=md-nav__link> Logical </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/type_conversion_functions/ title="Type Conversion" class=md-nav__link> Type Conversion </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/date_time_functions/ title="Working with Dates and Times" class=md-nav__link> Working with Dates and Times </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/string_functions/ title="Working with strings" class=md-nav__link> Working with strings </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/string_search_functions/ title="For Searching Strings" class=md-nav__link> For Searching Strings </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/string_replace_functions/ title="For Replacing in Strings" class=md-nav__link> For Replacing in Strings </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/conditional_functions/ title="Conditional " class=md-nav__link> Conditional </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/math_functions/ title=Mathematical class=md-nav__link> Mathematical </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/rounding_functions/ title=Rounding class=md-nav__link> Rounding </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-toggle md-nav__toggle" data-md-toggle=toc type=checkbox id=toc> <label class="md-nav__link md-nav__link--active" for=toc> Working with Arrays </label> <a href=../../../query_language/functions/array_functions/ title="Working with Arrays" class="md-nav__link md-nav__link--active"> <strong>Working with Arrays</strong> </a> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=toc>Table of contents</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#empty title=empty class=md-nav__link> empty </a> </li> <li class=md-nav__item> <a href=#notempty title=notEmpty class=md-nav__link> notEmpty </a> </li> <li class=md-nav__item> <a href=#array_functions-length title=length class=md-nav__link> length </a> </li> <li class=md-nav__item> <a href=#emptyarrayuint8-emptyarrayuint16-emptyarrayuint32-emptyarrayuint64 title="emptyArrayUInt8, emptyArrayUInt16, emptyArrayUInt32, emptyArrayUInt64" class=md-nav__link> emptyArrayUInt8, emptyArrayUInt16, emptyArrayUInt32, emptyArrayUInt64 </a> </li> <li class=md-nav__item> <a href=#emptyarrayint8-emptyarrayint16-emptyarrayint32-emptyarrayint64 title="emptyArrayInt8, emptyArrayInt16, emptyArrayInt32, emptyArrayInt64" class=md-nav__link> emptyArrayInt8, emptyArrayInt16, emptyArrayInt32, emptyArrayInt64 </a> </li> <li class=md-nav__item> <a href=#emptyarrayfloat32-emptyarrayfloat64 title="emptyArrayFloat32, emptyArrayFloat64" class=md-nav__link> emptyArrayFloat32, emptyArrayFloat64 </a> </li> <li class=md-nav__item> <a href=#emptyarraydate-emptyarraydatetime title="emptyArrayDate, emptyArrayDateTime" class=md-nav__link> emptyArrayDate, emptyArrayDateTime </a> </li> <li class=md-nav__item> <a href=#emptyarraystring title=emptyArrayString class=md-nav__link> emptyArrayString </a> </li> <li class=md-nav__item> <a href=#emptyarraytosingle title=emptyArrayToSingle class=md-nav__link> emptyArrayToSingle </a> </li> <li class=md-nav__item> <a href=#range-n title=range(N) class=md-nav__link> range(N) </a> </li> <li class=md-nav__item> <a href=#array-x1-operator-91-x1-93 title="array(x1, ...), operator [x1, ...]" class=md-nav__link> array(x1, ...), operator [x1, ...] </a> </li> <li class=md-nav__item> <a href=#arrayconcat title=arrayConcat class=md-nav__link> arrayConcat </a> </li> <li class=md-nav__item> <a href=#arrayelement-arr-n-operator-arr-n title="arrayElement(arr, n), operator arr[n]" class=md-nav__link> arrayElement(arr, n), operator arr[n] </a> </li> <li class=md-nav__item> <a href=#has-arr-elem title="has(arr, elem)" class=md-nav__link> has(arr, elem) </a> </li> <li class=md-nav__item> <a href=#hasall title=hasAll class=md-nav__link> hasAll </a> </li> <li class=md-nav__item> <a href=#hasany title=hasAny class=md-nav__link> hasAny </a> </li> <li class=md-nav__item> <a href=#indexof-arr-x title="indexOf(arr, x)" class=md-nav__link> indexOf(arr, x) </a> </li> <li class=md-nav__item> <a href=#countequal-arr-x title="countEqual(arr, x)" class=md-nav__link> countEqual(arr, x) </a> </li> <li class=md-nav__item> <a href=#array_functions-arrayenumerate title=arrayEnumerate(arr) class=md-nav__link> arrayEnumerate(arr) </a> </li> <li class=md-nav__item> <a href=#arrayenumerateuniq-arr title="arrayEnumerateUniq(arr, ...)" class=md-nav__link> arrayEnumerateUniq(arr, ...) </a> </li> <li class=md-nav__item> <a href=#arraypopback title=arrayPopBack class=md-nav__link> arrayPopBack </a> </li> <li class=md-nav__item> <a href=#arraypopfront title=arrayPopFront class=md-nav__link> arrayPopFront </a> </li> <li class=md-nav__item> <a href=#arraypushback title=arrayPushBack class=md-nav__link> arrayPushBack </a> </li> <li class=md-nav__item> <a href=#arraypushfront title=arrayPushFront class=md-nav__link> arrayPushFront </a> </li> <li class=md-nav__item> <a href=#arrayresize title=arrayResize class=md-nav__link> arrayResize </a> </li> <li class=md-nav__item> <a href=#arrayslice title=arraySlice class=md-nav__link> arraySlice </a> </li> <li class=md-nav__item> <a href=#array_functions-sort title="arraySort([func,] arr, ...)" class=md-nav__link> arraySort([func,] arr, ...) </a> </li> <li class=md-nav__item> <a href=#array_functions-reverse-sort title="arrayReverseSort([func,] arr, ...)" class=md-nav__link> arrayReverseSort([func,] arr, ...) </a> </li> <li class=md-nav__item> <a href=#arrayuniq-arr title="arrayUniq(arr, ...)" class=md-nav__link> arrayUniq(arr, ...) </a> </li> <li class=md-nav__item> <a href=#array_functions-join title=arrayJoin(arr) class=md-nav__link> arrayJoin(arr) </a> </li> <li class=md-nav__item> <a href=#arraydifference-arr title=arrayDifference(arr) class=md-nav__link> arrayDifference(arr) </a> </li> <li class=md-nav__item> <a href=#arraydistinct-arr title=arrayDistinct(arr) class=md-nav__link> arrayDistinct(arr) </a> </li> <li class=md-nav__item> <a href=#arrayenumeratedense-arr title=arrayEnumerateDense(arr) class=md-nav__link> arrayEnumerateDense(arr) </a> </li> <li class=md-nav__item> <a href=#arrayintersect-arr title=arrayIntersect(arr) class=md-nav__link> arrayIntersect(arr) </a> </li> <li class=md-nav__item> <a href=#arrayreduce-agg-func-arr1 title="arrayReduce(agg_func, arr1, ...)" class=md-nav__link> arrayReduce(agg_func, arr1, ...) </a> </li> <li class=md-nav__item> <a href=#arrayreverse-arr title=arrayReverse(arr) class=md-nav__link> arrayReverse(arr) </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../query_language/functions/splitting_merging_functions/ title="Splitting and Merging Strings and Arrays" class=md-nav__link> Splitting and Merging Strings and Arrays </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/bit_functions/ title=Bit class=md-nav__link> Bit </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/bitmap_functions/ title=Bitmap class=md-nav__link> Bitmap </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/hash_functions/ title=Hash class=md-nav__link> Hash </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/random_functions/ title="Generating Pseudo-Random Numbers" class=md-nav__link> Generating Pseudo-Random Numbers </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/encoding_functions/ title=Encoding class=md-nav__link> Encoding </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/uuid_functions/ title="Working with UUID" class=md-nav__link> Working with UUID </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/url_functions/ title="Working with URLs" class=md-nav__link> Working with URLs </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/ip_address_functions/ title="Working with IP Addresses" class=md-nav__link> Working with IP Addresses </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/json_functions/ title="Working with JSON." class=md-nav__link> Working with JSON. </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/higher_order_functions/ title=Higher-Order class=md-nav__link> Higher-Order </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/ext_dict_functions/ title="Working with External Dictionaries" class=md-nav__link> Working with External Dictionaries </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/ym_dict_functions/ title="Working with Yandex.Metrica Dictionaries" class=md-nav__link> Working with Yandex.Metrica Dictionaries </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/in_functions/ title="Implementing the IN Operator" class=md-nav__link> Implementing the IN Operator </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/array_join/ title=arrayJoin class=md-nav__link> arrayJoin </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/geo/ title="Working with geographical coordinates" class=md-nav__link> Working with geographical coordinates </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/functions_for_nulls/ title="Working with Nullable arguments" class=md-nav__link> Working with Nullable arguments </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/machine_learning_functions/ title="Machine Learning Functions" class=md-nav__link> Machine Learning Functions </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/other_functions/ title=Other class=md-nav__link> Other </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7-9 type=checkbox id=nav-7-9> <label class=md-nav__link for=nav-7-9> Aggregate Functions </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-7-9> Aggregate Functions </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../query_language/agg_functions/ title=Introduction class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../../../query_language/agg_functions/reference/ title=Reference class=md-nav__link> Reference </a> </li> <li class=md-nav__item> <a href=../../../query_language/agg_functions/combinators/ title="Aggregate function combinators" class=md-nav__link> Aggregate function combinators </a> </li> <li class=md-nav__item> <a href=../../../query_language/agg_functions/parametric_functions/ title="Parametric aggregate functions" class=md-nav__link> Parametric aggregate functions </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7-10 type=checkbox id=nav-7-10> <label class=md-nav__link for=nav-7-10> Table Functions </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-7-10> Table Functions </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../query_language/table_functions/ title=Introduction class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../../../query_language/table_functions/file/ title=file class=md-nav__link> file </a> </li> <li class=md-nav__item> <a href=../../../query_language/table_functions/merge/ title=merge class=md-nav__link> merge </a> </li> <li class=md-nav__item> <a href=../../../query_language/table_functions/numbers/ title=numbers class=md-nav__link> numbers </a> </li> <li class=md-nav__item> <a href=../../../query_language/table_functions/remote/ title=remote class=md-nav__link> remote </a> </li> <li class=md-nav__item> <a href=../../../query_language/table_functions/url/ title=url class=md-nav__link> url </a> </li> <li class=md-nav__item> <a href=../../../query_language/table_functions/mysql/ title=mysql class=md-nav__link> mysql </a> </li> <li class=md-nav__item> <a href=../../../query_language/table_functions/jdbc/ title=jdbc class=md-nav__link> jdbc </a> </li> <li class=md-nav__item> <a href=../../../query_language/table_functions/odbc/ title=odbc class=md-nav__link> odbc </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7-11 type=checkbox id=nav-7-11> <label class=md-nav__link for=nav-7-11> Dictionaries </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-7-11> Dictionaries </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../query_language/dicts/ title=Introduction class=md-nav__link> Introduction </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7-11-2 type=checkbox id=nav-7-11-2> <label class=md-nav__link for=nav-7-11-2> External Dictionaries </label> <nav class=md-nav data-md-component=collapsible data-md-level=3> <label class=md-nav__title for=nav-7-11-2> External Dictionaries </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../query_language/dicts/external_dicts/ title="General Description" class=md-nav__link> General Description </a> </li> <li class=md-nav__item> <a href=../../../query_language/dicts/external_dicts_dict/ title="Configuring an External Dictionary" class=md-nav__link> Configuring an External Dictionary </a> </li> <li class=md-nav__item> <a href=../../../query_language/dicts/external_dicts_dict_layout/ title="Storing Dictionaries in Memory" class=md-nav__link> Storing Dictionaries in Memory </a> </li> <li class=md-nav__item> <a href=../../../query_language/dicts/external_dicts_dict_lifetime/ title="Dictionary Updates" class=md-nav__link> Dictionary Updates </a> </li> <li class=md-nav__item> <a href=../../../query_language/dicts/external_dicts_dict_sources/ title="Sources of External Dictionaries" class=md-nav__link> Sources of External Dictionaries </a> </li> <li class=md-nav__item> <a href=../../../query_language/dicts/external_dicts_dict_structure/ title="Dictionary Key and Fields" class=md-nav__link> Dictionary Key and Fields </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../query_language/dicts/internal_dicts/ title="Internal Dictionaries" class=md-nav__link> Internal Dictionaries </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../query_language/operators/ title=Operators class=md-nav__link> Operators </a> </li> <li class=md-nav__item> <a href=../../../query_language/syntax/ title="General Syntax" class=md-nav__link> General Syntax </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-8 type=checkbox id=nav-8> <label class=md-nav__link for=nav-8> Operations </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-8> Operations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../operations/ title=Introduction class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../../../operations/requirements/ title=Requirements class=md-nav__link> Requirements </a> </li> <li class=md-nav__item> <a href=../../../operations/monitoring/ title=Monitoring class=md-nav__link> Monitoring </a> </li> <li class=md-nav__item> <a href=../../../operations/troubleshooting/ title=Troubleshooting class=md-nav__link> Troubleshooting </a> </li> <li class=md-nav__item> <a href=../../../operations/tips/ title="Usage Recommendations" class=md-nav__link> Usage Recommendations </a> </li> <li class=md-nav__item> <a href=../../../operations/update/ title="ClickHouse Update" class=md-nav__link> ClickHouse Update </a> </li> <li class=md-nav__item> <a href=../../../operations/access_rights/ title="Access Rights" class=md-nav__link> Access Rights </a> </li> <li class=md-nav__item> <a href=../../../operations/backup/ title="Data Backup" class=md-nav__link> Data Backup </a> </li> <li class=md-nav__item> <a href=../../../operations/configuration_files/ title="Configuration Files" class=md-nav__link> Configuration Files </a> </li> <li class=md-nav__item> <a href=../../../operations/quotas/ title=Quotas class=md-nav__link> Quotas </a> </li> <li class=md-nav__item> <a href=../../../operations/system_tables/ title="System Tables" class=md-nav__link> System Tables </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-8-12 type=checkbox id=nav-8-12> <label class=md-nav__link for=nav-8-12> Server Configuration Parameters </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-8-12> Server Configuration Parameters </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../operations/server_settings/ title=Introduction class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../../../operations/server_settings/settings/ title="Server Settings" class=md-nav__link> Server Settings </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-8-13 type=checkbox id=nav-8-13> <label class=md-nav__link for=nav-8-13> Settings </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-8-13> Settings </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../operations/settings/ title=Introduction class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../../../operations/settings/permissions_for_queries/ title="Permissions for Queries" class=md-nav__link> Permissions for Queries </a> </li> <li class=md-nav__item> <a href=../../../operations/settings/query_complexity/ title="Restrictions on Query Complexity" class=md-nav__link> Restrictions on Query Complexity </a> </li> <li class=md-nav__item> <a href=../../../operations/settings/settings/ title=Settings class=md-nav__link> Settings </a> </li> <li class=md-nav__item> <a href=../../../operations/settings/settings_profiles/ title="Settings Profiles" class=md-nav__link> Settings Profiles </a> </li> <li class=md-nav__item> <a href=../../../operations/settings/constraints_on_settings/ title="Constraints on Settings" class=md-nav__link> Constraints on Settings </a> </li> <li class=md-nav__item> <a href=../../../operations/settings/settings_users/ title="User Settings" class=md-nav__link> User Settings </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-8-14 type=checkbox id=nav-8-14> <label class=md-nav__link for=nav-8-14> Utilities </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-8-14> Utilities </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../operations/utils/ title=Overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../operations/utils/clickhouse-copier/ title=clickhouse-copier class=md-nav__link> clickhouse-copier </a> </li> <li class=md-nav__item> <a href=../../../operations/utils/clickhouse-local/ title=clickhouse-local class=md-nav__link> clickhouse-local </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-9 type=checkbox id=nav-9> <label class=md-nav__link for=nav-9> F.A.Q. </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-9> F.A.Q. </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../faq/general/ title="General Questions" class=md-nav__link> General Questions </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-10 type=checkbox id=nav-10> <label class=md-nav__link for=nav-10> Development </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-10> Development </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../development/architecture/ title="Overview of ClickHouse Architecture" class=md-nav__link> Overview of ClickHouse Architecture </a> </li> <li class=md-nav__item> <a href=../../../development/build/ title="How to Build ClickHouse on Linux" class=md-nav__link> How to Build ClickHouse on Linux </a> </li> <li class=md-nav__item> <a href=../../../development/build_osx/ title="How to Build ClickHouse on Mac OS X" class=md-nav__link> How to Build ClickHouse on Mac OS X </a> </li> <li class=md-nav__item> <a href=../../../development/style/ title="How to Write C++ code" class=md-nav__link> How to Write C++ code </a> </li> <li class=md-nav__item> <a href=../../../development/tests/ title="How to Run ClickHouse Tests" class=md-nav__link> How to Run ClickHouse Tests </a> </li> <li class=md-nav__item> <a href=../../../development/contrib/ title="Third-Party Libraries Used" class=md-nav__link> Third-Party Libraries Used </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-11 type=checkbox id=nav-11> <label class=md-nav__link for=nav-11> What's New </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-11> What's New </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../roadmap/ title=Roadmap class=md-nav__link> Roadmap </a> </li> <li class=md-nav__item> <a href=../../../changelog/ title=Changelog class=md-nav__link> Changelog </a> </li> <li class=md-nav__item> <a href=../../../security_changelog/ title="Security Changelog" class=md-nav__link> Security Changelog </a> </li> </ul> </nav> </li> </ul> <ul id=md-extra-nav class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> Release: <span class=md-selector> <select id=releases-selector> <option value>master</option> <option value=v20.1>v20.1</option> <option value=v19.17>v19.17</option> <option value=v19.16>v19.16</option> <option value=v19.15>v19.15</option> <option value=v19.14>v19.14</option> <option value=v19.13 selected=selected>v19.13</option> <option value=v19.11>v19.11</option> <option value=v19.10>v19.10</option> <option value=v19.9>v19.9</option> <option value=v19.8>v19.8</option> <option value=v19.7>v19.7</option> </select><span id=releases-selector-after>&nbsp;▾</span> </span> </li> <li class="md-nav__item md-nav__item--active"> <a href=../../../single/ class="md-nav__link md-nav__link--active">Single page version</a> </li> <li class="md-nav__item md-nav__item--active"> <a href=../../../single/clickhouse_en.pdf class="md-nav__link md-nav__link--active">PDF version</a> </li> <li class="md-nav__item md-nav__item--active"> <a href=https://github.com/ClickHouse/ClickHouse/ rel="external nofollow" target=_blank class=md-nav__link> ClickHouse source code </a> </li> <li class="md-nav__item md-nav__item--active"> <span id=md-sidebar-flags class=md-nav__link> <a class="md-alt-lang md-current-lang" href=../../../../en/query_language/functions/array_functions/ class="md-flex__ellipsis md-header-nav__title" title=English> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 60 30" preserveaspectratio=none> <clippath id=t> <path d="M30,15 h30 v15 z v15 h-30 z h-30 v-15 z v-15 h30 z"/> </clippath> <path fill=#00247d d="M0,0 v30 h60 v-30 z"/> <path stroke=#fff stroke-width=6 d="M0,0 L60,30 M60,0 L0,30"/> <path clip-path=url(#t) stroke=#cf142b stroke-width=4 d="M0,0 L60,30 M60,0 L0,30"/> <path stroke=#fff stroke-width=10 d="M30,0 v30 M0,15 h60"/> <path stroke=#cf142b stroke-width=6 d="M30,0 v30 M0,15 h60"/> </svg> </a> <a class=md-alt-lang href=../../../../ru/query_language/functions/array_functions/ class="md-flex__ellipsis md-header-nav__title" title=Russian> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 9 6" preserveaspectratio=none> <rect fill=#fff width=9 height=3 /> <rect fill=#d52b1e y=3 width=9 height=3 /> <rect fill=#0039a6 y=2 width=9 height=2 /> </svg> </a> <a class=md-alt-lang href=../../../../zh/query_language/functions/array_functions/ class="md-flex__ellipsis md-header-nav__title" title=Chinese> <svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink viewbox="0 0 30 20" preserveaspectratio=none> <defs> <path id=s fill=#ffde00 d="M0,-1 0.587785,0.809017 -0.951057,-0.309017H0.951057L-0.587785,0.809017z"/> </defs> <rect width=30 height=20 fill=#de2910 /> <use xlink:href=#s transform="translate(5,5) scale(3)"/> <use xlink:href=#s transform="translate(10,2) rotate(23.036243)"/> <use xlink:href=#s transform="translate(12,4) rotate(45.869898)"/> <use xlink:href=#s transform="translate(12,7) rotate(69.945396)"/> <use xlink:href=#s transform="translate(10,9) rotate(20.659808)"/> </svg> </a> <a class=md-alt-lang href=../../../../ja/query_language/functions/array_functions/ class="md-flex__ellipsis md-header-nav__title" title=Japanese> <?xml version="1.0" encoding="UTF-8"?> <svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink width=90px height=60px viewbox="0 0 90 60" version=1.1> <g id=surface1> <rect x=0 y=0 width=90 height=60 style=fill:rgb(62.7451%,62.7451%,62.7451%);fill-opacity:1;stroke:none; /> <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 0.601562 0.601562 L 89.398438 0.601562 L 89.398438 59.398438 L 0.601562 59.398438 Z M 0.601562 0.601562 "/> <path style=" stroke:none;fill-rule:nonzero;fill:rgb(74.509805%,0%,14.901961%);fill-opacity:1;" d="M 63 30 C 63 39.941406 54.941406 48 45 48 C 35.058594 48 27 39.941406 27 30 C 27 20.058594 35.058594 12 45 12 C 54.941406 12 63 20.058594 63 30 Z M 63 30 "/> </g> </svg> </a> <a class=md-alt-lang href=../../../../fa/query_language/functions/array_functions/ class="md-flex__ellipsis md-header-nav__title" title=Farsi> <svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink viewbox="0 0 630 360" preserveaspectratio=none> <rect width=630 height=360 fill=#da0000 /> <rect width=630 height=240 fill=#fff /> <rect width=630 height=120 fill=#239f40 /> <g transform=translate(8.4,100.4)> <g id=tb4> <g id=tb1 fill=none stroke=#fff stroke-width=2> <path id=tbp1 d=M0,1H26M1,10V5H9V9H17V5H12M4,9H6M26,9H21V5H29M29,0V9H37V0M33,0V9 transform=scale(1.4) /> <path id=tbp2 d=M0,7H9M10,7H19 transform=scale(2.8) /> <use xlink:href=#tbp2 y=120 /> <use xlink:href=#tbp1 y=145.2 /> </g> <g id=tb3> <use xlink:href=#tb1 x=56 /> <use xlink:href=#tb1 x=112 /> <use xlink:href=#tb1 x=168 /> </g> </g> <use xlink:href=#tb3 x=168 /> <use xlink:href=#tb4 x=392 /> </g> <g fill=#da0000 transform=matrix(45,0,0,45,315,180)> <g id=emblem_half> <path d="M-0.54815,0.83638A0.912046,0.912046 0 0,0 0.328544,-0.722384A1,1 0 0,1 -0.54815,0.83638"/> <path d="M0.618339,0.661409A0.763932,0.763932 0 0,0 0.421644,-0.741049A1,1 0 0,1 0.618339,0.661409"/> <path d="M0,1 -0.05,0 0,-0.787278A0.309995,0.309995 0 0,0 0.118034,-0.688191V-0.100406L0.077809,0.892905z"/> <path d="M-0.02,-0.85 0,-0.831217A0.14431,0.14431 0 0,0 0.252075,-0.967708A0.136408,0.136408 0 0,1 0,-0.924634"/> </g> <use xlink:href=#emblem_half transform=scale(-1,1) /> </g> </svg> </a> </span> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=toc>Table of contents</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#empty title=empty class=md-nav__link> empty </a> </li> <li class=md-nav__item> <a href=#notempty title=notEmpty class=md-nav__link> notEmpty </a> </li> <li class=md-nav__item> <a href=#array_functions-length title=length class=md-nav__link> length </a> </li> <li class=md-nav__item> <a href=#emptyarrayuint8-emptyarrayuint16-emptyarrayuint32-emptyarrayuint64 title="emptyArrayUInt8, emptyArrayUInt16, emptyArrayUInt32, emptyArrayUInt64" class=md-nav__link> emptyArrayUInt8, emptyArrayUInt16, emptyArrayUInt32, emptyArrayUInt64 </a> </li> <li class=md-nav__item> <a href=#emptyarrayint8-emptyarrayint16-emptyarrayint32-emptyarrayint64 title="emptyArrayInt8, emptyArrayInt16, emptyArrayInt32, emptyArrayInt64" class=md-nav__link> emptyArrayInt8, emptyArrayInt16, emptyArrayInt32, emptyArrayInt64 </a> </li> <li class=md-nav__item> <a href=#emptyarrayfloat32-emptyarrayfloat64 title="emptyArrayFloat32, emptyArrayFloat64" class=md-nav__link> emptyArrayFloat32, emptyArrayFloat64 </a> </li> <li class=md-nav__item> <a href=#emptyarraydate-emptyarraydatetime title="emptyArrayDate, emptyArrayDateTime" class=md-nav__link> emptyArrayDate, emptyArrayDateTime </a> </li> <li class=md-nav__item> <a href=#emptyarraystring title=emptyArrayString class=md-nav__link> emptyArrayString </a> </li> <li class=md-nav__item> <a href=#emptyarraytosingle title=emptyArrayToSingle class=md-nav__link> emptyArrayToSingle </a> </li> <li class=md-nav__item> <a href=#range-n title=range(N) class=md-nav__link> range(N) </a> </li> <li class=md-nav__item> <a href=#array-x1-operator-91-x1-93 title="array(x1, ...), operator [x1, ...]" class=md-nav__link> array(x1, ...), operator [x1, ...] </a> </li> <li class=md-nav__item> <a href=#arrayconcat title=arrayConcat class=md-nav__link> arrayConcat </a> </li> <li class=md-nav__item> <a href=#arrayelement-arr-n-operator-arr-n title="arrayElement(arr, n), operator arr[n]" class=md-nav__link> arrayElement(arr, n), operator arr[n] </a> </li> <li class=md-nav__item> <a href=#has-arr-elem title="has(arr, elem)" class=md-nav__link> has(arr, elem) </a> </li> <li class=md-nav__item> <a href=#hasall title=hasAll class=md-nav__link> hasAll </a> </li> <li class=md-nav__item> <a href=#hasany title=hasAny class=md-nav__link> hasAny </a> </li> <li class=md-nav__item> <a href=#indexof-arr-x title="indexOf(arr, x)" class=md-nav__link> indexOf(arr, x) </a> </li> <li class=md-nav__item> <a href=#countequal-arr-x title="countEqual(arr, x)" class=md-nav__link> countEqual(arr, x) </a> </li> <li class=md-nav__item> <a href=#array_functions-arrayenumerate title=arrayEnumerate(arr) class=md-nav__link> arrayEnumerate(arr) </a> </li> <li class=md-nav__item> <a href=#arrayenumerateuniq-arr title="arrayEnumerateUniq(arr, ...)" class=md-nav__link> arrayEnumerateUniq(arr, ...) </a> </li> <li class=md-nav__item> <a href=#arraypopback title=arrayPopBack class=md-nav__link> arrayPopBack </a> </li> <li class=md-nav__item> <a href=#arraypopfront title=arrayPopFront class=md-nav__link> arrayPopFront </a> </li> <li class=md-nav__item> <a href=#arraypushback title=arrayPushBack class=md-nav__link> arrayPushBack </a> </li> <li class=md-nav__item> <a href=#arraypushfront title=arrayPushFront class=md-nav__link> arrayPushFront </a> </li> <li class=md-nav__item> <a href=#arrayresize title=arrayResize class=md-nav__link> arrayResize </a> </li> <li class=md-nav__item> <a href=#arrayslice title=arraySlice class=md-nav__link> arraySlice </a> </li> <li class=md-nav__item> <a href=#array_functions-sort title="arraySort([func,] arr, ...)" class=md-nav__link> arraySort([func,] arr, ...) </a> </li> <li class=md-nav__item> <a href=#array_functions-reverse-sort title="arrayReverseSort([func,] arr, ...)" class=md-nav__link> arrayReverseSort([func,] arr, ...) </a> </li> <li class=md-nav__item> <a href=#arrayuniq-arr title="arrayUniq(arr, ...)" class=md-nav__link> arrayUniq(arr, ...) </a> </li> <li class=md-nav__item> <a href=#array_functions-join title=arrayJoin(arr) class=md-nav__link> arrayJoin(arr) </a> </li> <li class=md-nav__item> <a href=#arraydifference-arr title=arrayDifference(arr) class=md-nav__link> arrayDifference(arr) </a> </li> <li class=md-nav__item> <a href=#arraydistinct-arr title=arrayDistinct(arr) class=md-nav__link> arrayDistinct(arr) </a> </li> <li class=md-nav__item> <a href=#arrayenumeratedense-arr title=arrayEnumerateDense(arr) class=md-nav__link> arrayEnumerateDense(arr) </a> </li> <li class=md-nav__item> <a href=#arrayintersect-arr title=arrayIntersect(arr) class=md-nav__link> arrayIntersect(arr) </a> </li> <li class=md-nav__item> <a href=#arrayreduce-agg-func-arr1 title="arrayReduce(agg_func, arr1, ...)" class=md-nav__link> arrayReduce(agg_func, arr1, ...) </a> </li> <li class=md-nav__item> <a href=#arrayreverse-arr title=arrayReverse(arr) class=md-nav__link> arrayReverse(arr) </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/ClickHouse/ClickHouse/edit/master/docs/en/query_language/functions/array_functions.md title="Edit this page" class="md-icon md-content__icon" rel="external nofollow">&#xE3C9;</a> <div id=content> <h1 id=functions-for-working-with-arrays>Functions for working with arrays<a class=headerlink href=#functions-for-working-with-arrays title="Permanent link">&para;</a></h1> <h2 id=empty>empty<a class=headerlink href=#empty title="Permanent link">&para;</a></h2> <p>Returns 1 for an empty array, or 0 for a non-empty array. The result type is UInt8. The function also works for strings.</p> <h2 id=notempty>notEmpty<a class=headerlink href=#notempty title="Permanent link">&para;</a></h2> <p>Returns 0 for an empty array, or 1 for a non-empty array. The result type is UInt8. The function also works for strings.</p> <h2 id=array_functions-length>length<a class=headerlink href=#array_functions-length title="Permanent link">&para;</a></h2> <p>Returns the number of items in the array. The result type is UInt64. The function also works for strings.</p> <h2 id=emptyarrayuint8-emptyarrayuint16-emptyarrayuint32-emptyarrayuint64>emptyArrayUInt8, emptyArrayUInt16, emptyArrayUInt32, emptyArrayUInt64<a class=headerlink href=#emptyarrayuint8-emptyarrayuint16-emptyarrayuint32-emptyarrayuint64 title="Permanent link">&para;</a></h2> <h2 id=emptyarrayint8-emptyarrayint16-emptyarrayint32-emptyarrayint64>emptyArrayInt8, emptyArrayInt16, emptyArrayInt32, emptyArrayInt64<a class=headerlink href=#emptyarrayint8-emptyarrayint16-emptyarrayint32-emptyarrayint64 title="Permanent link">&para;</a></h2> <h2 id=emptyarrayfloat32-emptyarrayfloat64>emptyArrayFloat32, emptyArrayFloat64<a class=headerlink href=#emptyarrayfloat32-emptyarrayfloat64 title="Permanent link">&para;</a></h2> <h2 id=emptyarraydate-emptyarraydatetime>emptyArrayDate, emptyArrayDateTime<a class=headerlink href=#emptyarraydate-emptyarraydatetime title="Permanent link">&para;</a></h2> <h2 id=emptyarraystring>emptyArrayString<a class=headerlink href=#emptyarraystring title="Permanent link">&para;</a></h2> <p>Accepts zero arguments and returns an empty array of the appropriate type.</p> <h2 id=emptyarraytosingle>emptyArrayToSingle<a class=headerlink href=#emptyarraytosingle title="Permanent link">&para;</a></h2> <p>Accepts an empty array and returns a one-element array that is equal to the default value.</p> <h2 id=range-n>range(N)<a class=headerlink href=#range-n title="Permanent link">&para;</a></h2> <p>Returns an array of numbers from 0 to N-1. Just in case, an exception is thrown if arrays with a total length of more than 100,000,000 elements are created in a data block.</p> <h2 id=array-x1-operator-91-x1-93>array(x1, ...), operator [x1, ...]<a class=headerlink href=#array-x1-operator-91-x1-93 title="Permanent link">&para;</a></h2> <p>Creates an array from the function arguments. The arguments must be constants and have types that have the smallest common type. At least one argument must be passed, because otherwise it isn't clear which type of array to create. That is, you can't use this function to create an empty array (to do that, use the 'emptyArray*' function described above). Returns an 'Array(T)' type result, where 'T' is the smallest common type out of the passed arguments.</p> <h2 id=arrayconcat>arrayConcat<a class=headerlink href=#arrayconcat title="Permanent link">&para;</a></h2> <p>Combines arrays passed as arguments.</p> <div class=codehilite><pre><span></span>arrayConcat(arrays)
</pre></div> <p><strong>Parameters</strong></p> <ul> <li><code>arrays</code> – Arbitrary number of arguments of <a href=../../../data_types/array/ >Array</a> type. <strong>Example</strong></li> </ul> <div class=codehilite><pre><span></span><span class=k>SELECT</span> <span class=n>arrayConcat</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>],</span> <span class=p>[</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>],</span> <span class=p>[</span><span class=mi>5</span><span class=p>,</span> <span class=mi>6</span><span class=p>])</span> <span class=k>AS</span> <span class=n>res</span>
</pre></div> <div class=codehilite><pre><span></span>┌─res───────────┐
│ [1,2,3,4,5,6] │
└───────────────┘
</pre></div> <h2 id=arrayelement-arr-n-operator-arr-n>arrayElement(arr, n), operator arr[n]<a class=headerlink href=#arrayelement-arr-n-operator-arr-n title="Permanent link">&para;</a></h2> <p>Get the element with the index <code>n</code> from the array <code>arr</code>. <code>n</code> must be any integer type. Indexes in an array begin from one. Negative indexes are supported. In this case, it selects the corresponding element numbered from the end. For example, <code>arr[-1]</code> is the last item in the array.</p> <p>If the index falls outside of the bounds of an array, it returns some default value (0 for numbers, an empty string for strings, etc.).</p> <h2 id=has-arr-elem>has(arr, elem)<a class=headerlink href=#has-arr-elem title="Permanent link">&para;</a></h2> <p>Checks whether the 'arr' array has the 'elem' element. Returns 0 if the the element is not in the array, or 1 if it is.</p> <p><code>NULL</code> is processed as a value.</p> <div class=codehilite><pre><span></span>SELECT has([1, 2, NULL], NULL)

┌─has([1, 2, NULL], NULL)─┐
│                       1 │
└─────────────────────────┘
</pre></div> <h2 id=hasall>hasAll<a class=headerlink href=#hasall title="Permanent link">&para;</a></h2> <p>Checks whether one array is a subset of another.</p> <div class=codehilite><pre><span></span>hasAll(set, subset)
</pre></div> <p><strong>Parameters</strong></p> <ul> <li><code>set</code> – Array of any type with a set of elements.</li> <li><code>subset</code> – Array of any type with elements that should be tested to be a subset of <code>set</code>.</li> </ul> <p><strong>Return values</strong></p> <ul> <li><code>1</code>, if <code>set</code> contains all of the elements from <code>subset</code>.</li> <li><code>0</code>, otherwise.</li> </ul> <p><strong>Peculiar properties</strong></p> <ul> <li>An empty array is a subset of any array.</li> <li><code>Null</code> processed as a value.</li> <li>Order of values in both of arrays doesn't matter.</li> </ul> <p><strong>Examples</strong></p> <p><code>SELECT hasAll([], [])</code> returns 1.</p> <p><code>SELECT hasAll([1, Null], [Null])</code> returns 1.</p> <p><code>SELECT hasAll([1.0, 2, 3, 4], [1, 3])</code> returns 1.</p> <p><code>SELECT hasAll(['a', 'b'], ['a'])</code> returns 1.</p> <p><code>SELECT hasAll([1], ['a'])</code> returns 0.</p> <p><code>SELECT hasAll([[1, 2], [3, 4]], [[1, 2], [3, 5]])</code> returns 0.</p> <h2 id=hasany>hasAny<a class=headerlink href=#hasany title="Permanent link">&para;</a></h2> <p>Checks whether two arrays have intersection by some elements.</p> <div class=codehilite><pre><span></span>hasAny(array1, array2)
</pre></div> <p><strong>Parameters</strong></p> <ul> <li><code>array1</code> – Array of any type with a set of elements.</li> <li><code>array2</code> – Array of any type with a set of elements.</li> </ul> <p><strong>Return values</strong></p> <ul> <li><code>1</code>, if <code>array1</code> and <code>array2</code> have one similar element at least.</li> <li><code>0</code>, otherwise.</li> </ul> <p><strong>Peculiar properties</strong></p> <ul> <li><code>Null</code> processed as a value.</li> <li>Order of values in both of arrays doesn't matter.</li> </ul> <p><strong>Examples</strong></p> <p><code>SELECT hasAny([1], [])</code> returns <code>0</code>.</p> <p><code>SELECT hasAny([Null], [Null, 1])</code> returns <code>1</code>.</p> <p><code>SELECT hasAny([-128, 1., 512], [1])</code> returns <code>1</code>.</p> <p><code>SELECT hasAny([[1, 2], [3, 4]], ['a', 'c'])</code> returns <code>0</code>.</p> <p><code>SELECT hasAll([[1, 2], [3, 4]], [[1, 2], [1, 2]])</code> returns <code>1</code>.</p> <h2 id=indexof-arr-x>indexOf(arr, x)<a class=headerlink href=#indexof-arr-x title="Permanent link">&para;</a></h2> <p>Returns the index of the first 'x' element (starting from 1) if it is in the array, or 0 if it is not.</p> <p>Example:</p> <div class=codehilite><pre><span></span>:) SELECT indexOf([1,3,NULL,NULL],NULL)

SELECT indexOf([1, 3, NULL, NULL], NULL)

┌─indexOf([1, 3, NULL, NULL], NULL)─┐
│                                 3 │
└───────────────────────────────────┘
</pre></div> <p>Elements set to <code>NULL</code> are handled as normal values.</p> <h2 id=countequal-arr-x>countEqual(arr, x)<a class=headerlink href=#countequal-arr-x title="Permanent link">&para;</a></h2> <p>Returns the number of elements in the array equal to x. Equivalent to arrayCount (elem -&gt; elem = x, arr).</p> <p><code>NULL</code> elements are handled as separate values.</p> <p>Example:</p> <div class=codehilite><pre><span></span>SELECT countEqual([1, 2, NULL, NULL], NULL)

┌─countEqual([1, 2, NULL, NULL], NULL)─┐
│                                    2 │
└──────────────────────────────────────┘
</pre></div> <h2 id=array_functions-arrayenumerate>arrayEnumerate(arr)<a class=headerlink href=#array_functions-arrayenumerate title="Permanent link">&para;</a></h2> <p>Returns the array [1, 2, 3, ..., length (arr) ]</p> <p>This function is normally used with ARRAY JOIN. It allows counting something just once for each array after applying ARRAY JOIN. Example:</p> <div class=codehilite><pre><span></span><span class=k>SELECT</span>
    <span class=k>count</span><span class=p>()</span> <span class=k>AS</span> <span class=n>Reaches</span><span class=p>,</span>
    <span class=n>countIf</span><span class=p>(</span><span class=n>num</span> <span class=o>=</span> <span class=mi>1</span><span class=p>)</span> <span class=k>AS</span> <span class=n>Hits</span>
<span class=k>FROM</span> <span class=n>test</span><span class=p>.</span><span class=n>hits</span>
<span class=nb>ARRAY</span> <span class=k>JOIN</span>
    <span class=n>GoalsReached</span><span class=p>,</span>
    <span class=n>arrayEnumerate</span><span class=p>(</span><span class=n>GoalsReached</span><span class=p>)</span> <span class=k>AS</span> <span class=n>num</span>
<span class=k>WHERE</span> <span class=n>CounterID</span> <span class=o>=</span> <span class=mi>160656</span>
<span class=k>LIMIT</span> <span class=mi>10</span>
</pre></div> <div class=codehilite><pre><span></span>┌─Reaches─┬──Hits─┐
│   95606 │ 31406 │
└─────────┴───────┘
</pre></div> <p>In this example, Reaches is the number of conversions (the strings received after applying ARRAY JOIN), and Hits is the number of pageviews (strings before ARRAY JOIN). In this particular case, you can get the same result in an easier way:</p> <div class=codehilite><pre><span></span><span class=k>SELECT</span>
    <span class=k>sum</span><span class=p>(</span><span class=k>length</span><span class=p>(</span><span class=n>GoalsReached</span><span class=p>))</span> <span class=k>AS</span> <span class=n>Reaches</span><span class=p>,</span>
    <span class=k>count</span><span class=p>()</span> <span class=k>AS</span> <span class=n>Hits</span>
<span class=k>FROM</span> <span class=n>test</span><span class=p>.</span><span class=n>hits</span>
<span class=k>WHERE</span> <span class=p>(</span><span class=n>CounterID</span> <span class=o>=</span> <span class=mi>160656</span><span class=p>)</span> <span class=k>AND</span> <span class=n>notEmpty</span><span class=p>(</span><span class=n>GoalsReached</span><span class=p>)</span>
</pre></div> <div class=codehilite><pre><span></span>┌─Reaches─┬──Hits─┐
│   95606 │ 31406 │
└─────────┴───────┘
</pre></div> <p>This function can also be used in higher-order functions. For example, you can use it to get array indexes for elements that match a condition.</p> <h2 id=arrayenumerateuniq-arr>arrayEnumerateUniq(arr, ...)<a class=headerlink href=#arrayenumerateuniq-arr title="Permanent link">&para;</a></h2> <p>Returns an array the same size as the source array, indicating for each element what its position is among elements with the same value. For example: arrayEnumerateUniq([10, 20, 10, 30]) = [1, 1, 2, 1].</p> <p>This function is useful when using ARRAY JOIN and aggregation of array elements. Example:</p> <div class=codehilite><pre><span></span><span class=k>SELECT</span>
    <span class=n>Goals</span><span class=p>.</span><span class=n>ID</span> <span class=k>AS</span> <span class=n>GoalID</span><span class=p>,</span>
    <span class=k>sum</span><span class=p>(</span><span class=n>Sign</span><span class=p>)</span> <span class=k>AS</span> <span class=n>Reaches</span><span class=p>,</span>
    <span class=n>sumIf</span><span class=p>(</span><span class=n>Sign</span><span class=p>,</span> <span class=n>num</span> <span class=o>=</span> <span class=mi>1</span><span class=p>)</span> <span class=k>AS</span> <span class=n>Visits</span>
<span class=k>FROM</span> <span class=n>test</span><span class=p>.</span><span class=n>visits</span>
<span class=nb>ARRAY</span> <span class=k>JOIN</span>
    <span class=n>Goals</span><span class=p>,</span>
    <span class=n>arrayEnumerateUniq</span><span class=p>(</span><span class=n>Goals</span><span class=p>.</span><span class=n>ID</span><span class=p>)</span> <span class=k>AS</span> <span class=n>num</span>
<span class=k>WHERE</span> <span class=n>CounterID</span> <span class=o>=</span> <span class=mi>160656</span>
<span class=k>GROUP</span> <span class=k>BY</span> <span class=n>GoalID</span>
<span class=k>ORDER</span> <span class=k>BY</span> <span class=n>Reaches</span> <span class=k>DESC</span>
<span class=k>LIMIT</span> <span class=mi>10</span>
</pre></div> <div class=codehilite><pre><span></span>┌──GoalID─┬─Reaches─┬─Visits─┐
│   53225 │    3214 │   1097 │
│ 2825062 │    3188 │   1097 │
│   56600 │    2803 │    488 │
│ 1989037 │    2401 │    365 │
│ 2830064 │    2396 │    910 │
│ 1113562 │    2372 │    373 │
│ 3270895 │    2262 │    812 │
│ 1084657 │    2262 │    345 │
│   56599 │    2260 │    799 │
│ 3271094 │    2256 │    812 │
└─────────┴─────────┴────────┘
</pre></div> <p>In this example, each goal ID has a calculation of the number of conversions (each element in the Goals nested data structure is a goal that was reached, which we refer to as a conversion) and the number of sessions. Without ARRAY JOIN, we would have counted the number of sessions as sum(Sign). But in this particular case, the rows were multiplied by the nested Goals structure, so in order to count each session one time after this, we apply a condition to the value of the arrayEnumerateUniq(Goals.ID) function.</p> <p>The arrayEnumerateUniq function can take multiple arrays of the same size as arguments. In this case, uniqueness is considered for tuples of elements in the same positions in all the arrays.</p> <div class=codehilite><pre><span></span><span class=k>SELECT</span> <span class=n>arrayEnumerateUniq</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>2</span><span class=p>],</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>])</span> <span class=k>AS</span> <span class=n>res</span>
</pre></div> <div class=codehilite><pre><span></span>┌─res───────────┐
│ [1,2,1,1,2,1] │
└───────────────┘
</pre></div> <p>This is necessary when using ARRAY JOIN with a nested data structure and further aggregation across multiple elements in this structure.</p> <h2 id=arraypopback>arrayPopBack<a class=headerlink href=#arraypopback title="Permanent link">&para;</a></h2> <p>Removes the last item from the array.</p> <div class=codehilite><pre><span></span>arrayPopBack(array)
</pre></div> <p><strong>Parameters</strong></p> <ul> <li><code>array</code> – Array.</li> </ul> <p><strong>Example</strong></p> <div class=codehilite><pre><span></span><span class=k>SELECT</span> <span class=n>arrayPopBack</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>])</span> <span class=k>AS</span> <span class=n>res</span>
</pre></div> <div class=codehilite><pre><span></span>┌─res───┐
│ [1,2] │
└───────┘
</pre></div> <h2 id=arraypopfront>arrayPopFront<a class=headerlink href=#arraypopfront title="Permanent link">&para;</a></h2> <p>Removes the first item from the array.</p> <div class=codehilite><pre><span></span>arrayPopFront(array)
</pre></div> <p><strong>Parameters</strong></p> <ul> <li><code>array</code> – Array.</li> </ul> <p><strong>Example</strong></p> <div class=codehilite><pre><span></span><span class=k>SELECT</span> <span class=n>arrayPopFront</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>])</span> <span class=k>AS</span> <span class=n>res</span>
</pre></div> <div class=codehilite><pre><span></span>┌─res───┐
│ [2,3] │
└───────┘
</pre></div> <h2 id=arraypushback>arrayPushBack<a class=headerlink href=#arraypushback title="Permanent link">&para;</a></h2> <p>Adds one item to the end of the array.</p> <div class=codehilite><pre><span></span>arrayPushBack(array, single_value)
</pre></div> <p><strong>Parameters</strong></p> <ul> <li><code>array</code> – Array.</li> <li><code>single_value</code> – A single value. Only numbers can be added to an array with numbers, and only strings can be added to an array of strings. When adding numbers, ClickHouse automatically sets the <code>single_value</code> type for the data type of the array. For more information about the types of data in ClickHouse, see "<a href=../../../data_types/#data_types>Data types</a>". Can be <code>NULL</code>. The function adds a <code>NULL</code> element to an array, and the type of array elements converts to <code>Nullable</code>.</li> </ul> <p><strong>Example</strong></p> <div class=codehilite><pre><span></span><span class=k>SELECT</span> <span class=n>arrayPushBack</span><span class=p>([</span><span class=s1>&#39;a&#39;</span><span class=p>],</span> <span class=s1>&#39;b&#39;</span><span class=p>)</span> <span class=k>AS</span> <span class=n>res</span>
</pre></div> <div class=codehilite><pre><span></span>┌─res───────┐
│ [&#39;a&#39;,&#39;b&#39;] │
└───────────┘
</pre></div> <h2 id=arraypushfront>arrayPushFront<a class=headerlink href=#arraypushfront title="Permanent link">&para;</a></h2> <p>Adds one element to the beginning of the array.</p> <div class=codehilite><pre><span></span>arrayPushFront(array, single_value)
</pre></div> <p><strong>Parameters</strong></p> <ul> <li><code>array</code> – Array.</li> <li><code>single_value</code> – A single value. Only numbers can be added to an array with numbers, and only strings can be added to an array of strings. When adding numbers, ClickHouse automatically sets the <code>single_value</code> type for the data type of the array. For more information about the types of data in ClickHouse, see "<a href=../../../data_types/#data_types>Data types</a>". Can be <code>NULL</code>. The function adds a <code>NULL</code> element to an array, and the type of array elements converts to <code>Nullable</code>.</li> </ul> <p><strong>Example</strong></p> <div class=codehilite><pre><span></span><span class=k>SELECT</span> <span class=n>arrayPushBack</span><span class=p>([</span><span class=s1>&#39;b&#39;</span><span class=p>],</span> <span class=s1>&#39;a&#39;</span><span class=p>)</span> <span class=k>AS</span> <span class=n>res</span>
</pre></div> <div class=codehilite><pre><span></span>┌─res───────┐
│ [&#39;a&#39;,&#39;b&#39;] │
└───────────┘
</pre></div> <h2 id=arrayresize>arrayResize<a class=headerlink href=#arrayresize title="Permanent link">&para;</a></h2> <p>Changes the length of the array.</p> <div class=codehilite><pre><span></span>arrayResize(array, size[, extender])
</pre></div> <p><strong>Parameters:</strong></p> <ul> <li><code>array</code> — Array.</li> <li><code>size</code> — Required length of the array.<ul> <li>If <code>size</code> is less than the original size of the array, the array is truncated from the right.</li> </ul> </li> <li>If <code>size</code> is larger than the initial size of the array, the array is extended to the right with <code>extender</code> values or default values for the data type of the array items.</li> <li><code>extender</code> — Value for extending an array. Can be <code>NULL</code>.</li> </ul> <p><strong>Returned value:</strong></p> <p>An array of length <code>size</code>.</p> <p><strong>Examples of calls</strong></p> <div class=codehilite><pre><span></span>SELECT arrayResize([1], 3)

┌─arrayResize([1], 3)─┐
│ [1,0,0]             │
└─────────────────────┘
</pre></div> <div class=codehilite><pre><span></span>SELECT arrayResize([1], 3, NULL)

┌─arrayResize([1], 3, NULL)─┐
│ [1,NULL,NULL]             │
└───────────────────────────┘
</pre></div> <h2 id=arrayslice>arraySlice<a class=headerlink href=#arrayslice title="Permanent link">&para;</a></h2> <p>Returns a slice of the array.</p> <div class=codehilite><pre><span></span>arraySlice(array, offset[, length])
</pre></div> <p><strong>Parameters</strong></p> <ul> <li><code>array</code> – Array of data.</li> <li><code>offset</code> – Indent from the edge of the array. A positive value indicates an offset on the left, and a negative value is an indent on the right. Numbering of the array items begins with 1.</li> <li><code>length</code> - The length of the required slice. If you specify a negative value, the function returns an open slice <code>[offset, array_length - length)</code>. If you omit the value, the function returns the slice <code>[offset, the_end_of_array]</code>.</li> </ul> <p><strong>Example</strong></p> <div class=codehilite><pre><span></span><span class=k>SELECT</span> <span class=n>arraySlice</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=k>NULL</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>],</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span> <span class=k>AS</span> <span class=n>res</span>
</pre></div> <div class=codehilite><pre><span></span>┌─res────────┐
│ [2,NULL,4] │
└────────────┘
</pre></div> <p>Array elements set to <code>NULL</code> are handled as normal values.</p> <h2 id=array_functions-sort>arraySort([func,] arr, ...)<a class=headerlink href=#array_functions-sort title="Permanent link">&para;</a></h2> <p>Sorts the elements of the <code>arr</code> array in ascending order. If the <code>func</code> function is specified, sorting order is determined by the result of the <code>func</code> function applied to the elements of the array. If <code>func</code> accepts multiple arguments, the <code>arraySort</code> function is passed several arrays that the arguments of <code>func</code> will correspond to. Detailed examples are shown at the end of <code>arraySort</code> description.</p> <p>Example of integer values sorting:</p> <div class=codehilite><pre><span></span><span class=k>SELECT</span> <span class=n>arraySort</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>0</span><span class=p>]);</span>
</pre></div> <div class=codehilite><pre><span></span>┌─arraySort([1, 3, 3, 0])─┐
│ [0,1,3,3]               │
└─────────────────────────┘
</pre></div> <p>Example of string values sorting:</p> <div class=codehilite><pre><span></span><span class=k>SELECT</span> <span class=n>arraySort</span><span class=p>([</span><span class=s1>&#39;hello&#39;</span><span class=p>,</span> <span class=s1>&#39;world&#39;</span><span class=p>,</span> <span class=s1>&#39;!&#39;</span><span class=p>]);</span>
</pre></div> <div class=codehilite><pre><span></span>┌─arraySort([&#39;hello&#39;, &#39;world&#39;, &#39;!&#39;])─┐
│ [&#39;!&#39;,&#39;hello&#39;,&#39;world&#39;]              │
└────────────────────────────────────┘
</pre></div> <p>Consider the following sorting order for the <code>NULL</code>, <code>NaN</code> and <code>Inf</code> values:</p> <div class=codehilite><pre><span></span><span class=k>SELECT</span> <span class=n>arraySort</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=n>nan</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=k>NULL</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=n>nan</span><span class=p>,</span> <span class=o>-</span><span class=mi>4</span><span class=p>,</span> <span class=k>NULL</span><span class=p>,</span> <span class=n>inf</span><span class=p>,</span> <span class=o>-</span><span class=n>inf</span><span class=p>]);</span>
</pre></div> <div class=codehilite><pre><span></span>┌─arraySort([1, nan, 2, NULL, 3, nan, -4, NULL, inf, -inf])─┐
│ [-inf,-4,1,2,3,inf,nan,nan,NULL,NULL]                     │
└───────────────────────────────────────────────────────────┘
</pre></div> <ul> <li><code>-Inf</code> values are first in the array.</li> <li><code>NULL</code> values are last in the array.</li> <li><code>NaN</code> values are right before <code>NULL</code>.</li> <li><code>Inf</code> values are right before <code>NaN</code>.</li> </ul> <p>Note that <code>arraySort</code> is a <a href=../higher_order_functions/ >higher-order function</a>. You can pass a lambda function to it as the first argument. In this case, sorting order is determined by the result of the lambda function applied to the elements of the array.</p> <p>Let's consider the following example:</p> <div class=codehilite><pre><span></span><span class=k>SELECT</span> <span class=n>arraySort</span><span class=p>((</span><span class=n>x</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=o>-</span><span class=n>x</span><span class=p>,</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>])</span> <span class=k>as</span> <span class=n>res</span><span class=p>;</span>
</pre></div> <div class=codehilite><pre><span></span>┌─res─────┐
│ [3,2,1] │
└─────────┘
</pre></div> <p>For each element of the source array, the lambda function returns the sorting key, that is, [1 –&gt; -1, 2 –&gt; -2, 3 –&gt; -3]. Since the <code>arraySort</code> function sorts the keys in ascending order, the result is [3, 2, 1]. Thus, the <code>(x) –&gt; -x</code> lambda function sets the <a href=#array_functions-reverse-sort>descending order</a> in a sorting.</p> <p>The lambda function can accept multiple arguments. In this case, you need to pass the <code>arraySort</code> function several arrays of identical length that the arguments of lambda function will correspond to. The resulting array will consist of elements from the first input array; elements from the next input array(s) specify the sorting keys. For example:</p> <div class=codehilite><pre><span></span><span class=k>SELECT</span> <span class=n>arraySort</span><span class=p>((</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>y</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;hello&#39;</span><span class=p>,</span> <span class=s1>&#39;world&#39;</span><span class=p>],</span> <span class=p>[</span><span class=mi>2</span><span class=p>,</span> <span class=mi>1</span><span class=p>])</span> <span class=k>as</span> <span class=n>res</span><span class=p>;</span>
</pre></div> <div class=codehilite><pre><span></span>┌─res────────────────┐
│ [&#39;world&#39;, &#39;hello&#39;] │
└────────────────────┘
</pre></div> <p>Here, the elements that are passed in the second array ([2, 1]) define a sorting key for the corresponding element from the source array (['hello', 'world']), that is, ['hello' –&gt; 2, 'world' –&gt; 1]. Since the lambda function doesn't use <code>x</code>, actual values of the source array don't affect the order in the result. So, 'hello' will be the second element in the result, and 'world' will be the first.</p> <p>Other examples are shown below.</p> <div class=codehilite><pre><span></span><span class=k>SELECT</span> <span class=n>arraySort</span><span class=p>((</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>y</span><span class=p>,</span> <span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>],</span> <span class=p>[</span><span class=s1>&#39;c&#39;</span><span class=p>,</span> <span class=s1>&#39;b&#39;</span><span class=p>,</span> <span class=s1>&#39;a&#39;</span><span class=p>])</span> <span class=k>as</span> <span class=n>res</span><span class=p>;</span>
</pre></div> <div class=codehilite><pre><span></span>┌─res─────┐
│ [2,1,0] │
└─────────┘
</pre></div> <div class=codehilite><pre><span></span><span class=k>SELECT</span> <span class=n>arraySort</span><span class=p>((</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=o>-</span><span class=n>y</span><span class=p>,</span> <span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>],</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>])</span> <span class=k>as</span> <span class=n>res</span><span class=p>;</span>
</pre></div> <div class=codehilite><pre><span></span>┌─res─────┐
│ [2,1,0] │
└─────────┘
</pre></div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>To improve sorting efficiency, the <a href=https://en.wikipedia.org/wiki/Schwartzian_transform rel="external nofollow">Schwartzian transform</a> is used.</p> </div> <h2 id=array_functions-reverse-sort>arrayReverseSort([func,] arr, ...)<a class=headerlink href=#array_functions-reverse-sort title="Permanent link">&para;</a></h2> <p>Sorts the elements of the <code>arr</code> array in descending order. If the <code>func</code> function is specified, <code>arr</code> is sorted according to the result of the <code>func</code> function applied to the elements of the array, and then the sorted array is reversed. If <code>func</code> accepts multiple arguments, the <code>arrayReverseSort</code> function is passed several arrays that the arguments of <code>func</code> will correspond to. Detailed examples are shown at the end of <code>arrayReverseSort</code> description.</p> <p>Example of integer values sorting:</p> <div class=codehilite><pre><span></span><span class=k>SELECT</span> <span class=n>arrayReverseSort</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>0</span><span class=p>]);</span>
</pre></div> <div class=codehilite><pre><span></span>┌─arrayReverseSort([1, 3, 3, 0])─┐
│ [3,3,1,0]                      │
└────────────────────────────────┘
</pre></div> <p>Example of string values sorting:</p> <div class=codehilite><pre><span></span><span class=k>SELECT</span> <span class=n>arrayReverseSort</span><span class=p>([</span><span class=s1>&#39;hello&#39;</span><span class=p>,</span> <span class=s1>&#39;world&#39;</span><span class=p>,</span> <span class=s1>&#39;!&#39;</span><span class=p>]);</span>
</pre></div> <div class=codehilite><pre><span></span>┌─arrayReverseSort([&#39;hello&#39;, &#39;world&#39;, &#39;!&#39;])─┐
│ [&#39;world&#39;,&#39;hello&#39;,&#39;!&#39;]                     │
└───────────────────────────────────────────┘
</pre></div> <p>Consider the following sorting order for the <code>NULL</code>, <code>NaN</code> and <code>Inf</code> values:</p> <div class=codehilite><pre><span></span><span class=k>SELECT</span> <span class=n>arrayReverseSort</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=n>nan</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=k>NULL</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=n>nan</span><span class=p>,</span> <span class=o>-</span><span class=mi>4</span><span class=p>,</span> <span class=k>NULL</span><span class=p>,</span> <span class=n>inf</span><span class=p>,</span> <span class=o>-</span><span class=n>inf</span><span class=p>])</span> <span class=k>as</span> <span class=n>res</span><span class=p>;</span>
</pre></div> <div class=codehilite><pre><span></span>┌─res───────────────────────────────────┐
│ [inf,3,2,1,-4,-inf,nan,nan,NULL,NULL] │
└───────────────────────────────────────┘
</pre></div> <ul> <li><code>Inf</code> values are first in the array.</li> <li><code>NULL</code> values are last in the array.</li> <li><code>NaN</code> values are right before <code>NULL</code>.</li> <li><code>-Inf</code> values are right before <code>NaN</code>.</li> </ul> <p>Note that the <code>arrayReverseSort</code> is a <a href=../higher_order_functions/ >higher-order function</a>. You can pass a lambda function to it as the first argument. Example is shown below.</p> <div class=codehilite><pre><span></span><span class=k>SELECT</span> <span class=n>arrayReverseSort</span><span class=p>((</span><span class=n>x</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=o>-</span><span class=n>x</span><span class=p>,</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>])</span> <span class=k>as</span> <span class=n>res</span><span class=p>;</span>
</pre></div> <div class=codehilite><pre><span></span>┌─res─────┐
│ [1,2,3] │
└─────────┘
</pre></div> <p>The array is sorted in the following way:</p> <ol> <li>At first, the source array ([1, 2, 3]) is sorted according to the result of the lambda function applied to the elements of the array. The result is an array [3, 2, 1].</li> <li>Array that is obtained on the previous step, is reversed. So, the final result is [1, 2, 3].</li> </ol> <p>The lambda function can accept multiple arguments. In this case, you need to pass the <code>arrayReverseSort</code> function several arrays of identical length that the arguments of lambda function will correspond to. The resulting array will consist of elements from the first input array; elements from the next input array(s) specify the sorting keys. For example:</p> <div class=codehilite><pre><span></span><span class=k>SELECT</span> <span class=n>arrayReverseSort</span><span class=p>((</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>y</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;hello&#39;</span><span class=p>,</span> <span class=s1>&#39;world&#39;</span><span class=p>],</span> <span class=p>[</span><span class=mi>2</span><span class=p>,</span> <span class=mi>1</span><span class=p>])</span> <span class=k>as</span> <span class=n>res</span><span class=p>;</span>
</pre></div> <div class=codehilite><pre><span></span>┌─res───────────────┐
│ [&#39;hello&#39;,&#39;world&#39;] │
└───────────────────┘
</pre></div> <p>In this example, the array is sorted in the following way:</p> <ol> <li>At first, the source array (['hello', 'world']) is sorted according to the result of the lambda function applied to the elements of the arrays. The elements that are passed in the second array ([2, 1]), define the sorting keys for corresponding elements from the source array. The result is an array ['world', 'hello'].</li> <li>Array that was sorted on the previous step, is reversed. So, the final result is ['hello', 'world'].</li> </ol> <p>Other examples are shown below.</p> <div class=codehilite><pre><span></span><span class=k>SELECT</span> <span class=n>arrayReverseSort</span><span class=p>((</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=n>y</span><span class=p>,</span> <span class=p>[</span><span class=mi>4</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>5</span><span class=p>],</span> <span class=p>[</span><span class=s1>&#39;a&#39;</span><span class=p>,</span> <span class=s1>&#39;b&#39;</span><span class=p>,</span> <span class=s1>&#39;c&#39;</span><span class=p>])</span> <span class=k>AS</span> <span class=n>res</span><span class=p>;</span>
</pre></div> <div class=codehilite><pre><span></span>┌─res─────┐
│ [5,3,4] │
└─────────┘
</pre></div> <div class=codehilite><pre><span></span><span class=k>SELECT</span> <span class=n>arrayReverseSort</span><span class=p>((</span><span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>)</span> <span class=o>-&gt;</span> <span class=o>-</span><span class=n>y</span><span class=p>,</span> <span class=p>[</span><span class=mi>4</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>5</span><span class=p>],</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>])</span> <span class=k>AS</span> <span class=n>res</span><span class=p>;</span>
</pre></div> <div class=codehilite><pre><span></span>┌─res─────┐
│ [4,3,5] │
└─────────┘
</pre></div> <h2 id=arrayuniq-arr>arrayUniq(arr, ...)<a class=headerlink href=#arrayuniq-arr title="Permanent link">&para;</a></h2> <p>If one argument is passed, it counts the number of different elements in the array. If multiple arguments are passed, it counts the number of different tuples of elements at corresponding positions in multiple arrays.</p> <p>If you want to get a list of unique items in an array, you can use arrayReduce('groupUniqArray', arr).</p> <h2 id=array_functions-join>arrayJoin(arr)<a class=headerlink href=#array_functions-join title="Permanent link">&para;</a></h2> <p>A special function. See the section <a href=../array_join/#functions_arrayjoin>"ArrayJoin function"</a>.</p> <h2 id=arraydifference-arr>arrayDifference(arr)<a class=headerlink href=#arraydifference-arr title="Permanent link">&para;</a></h2> <p>Takes an array, returns an array with the difference between all pairs of neighboring elements. For example:</p> <div class=codehilite><pre><span></span><span class=k>SELECT</span> <span class=n>arrayDifference</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>])</span>
</pre></div> <div class=codehilite><pre><span></span>┌─arrayDifference([1, 2, 3, 4])─┐
│ [0,1,1,1]                     │
└───────────────────────────────┘
</pre></div> <h2 id=arraydistinct-arr>arrayDistinct(arr)<a class=headerlink href=#arraydistinct-arr title="Permanent link">&para;</a></h2> <p>Takes an array, returns an array containing the different elements in all the arrays. For example:</p> <div class=codehilite><pre><span></span><span class=k>SELECT</span> <span class=n>arrayDistinct</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>1</span><span class=p>])</span>
</pre></div> <div class=codehilite><pre><span></span>┌─arrayDistinct([1, 2, 2, 3, 1])─┐
│ [1,2,3]                        │
└────────────────────────────────┘
</pre></div> <h2 id=arrayenumeratedense-arr>arrayEnumerateDense(arr)<a class=headerlink href=#arrayenumeratedense-arr title="Permanent link">&para;</a></h2> <p>Returns an array of the same size as the source array, indicating where each element first appears in the source array. For example: arrayEnumerateDense([10,20,10,30]) = [1,2,1,3].</p> <h2 id=arrayintersect-arr>arrayIntersect(arr)<a class=headerlink href=#arrayintersect-arr title="Permanent link">&para;</a></h2> <p>Takes an array, returns the intersection of all array elements. For example:</p> <div class=codehilite><pre><span></span><span class=k>SELECT</span>
    <span class=n>arrayIntersect</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>],</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>3</span><span class=p>],</span> <span class=p>[</span><span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>])</span> <span class=k>AS</span> <span class=n>no_intersect</span><span class=p>,</span>
    <span class=n>arrayIntersect</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>],</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>3</span><span class=p>],</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>4</span><span class=p>])</span> <span class=k>AS</span> <span class=k>intersect</span>
</pre></div> <div class=codehilite><pre><span></span>┌─no_intersect─┬─intersect─┐
│ []           │ [1]       │
└──────────────┴───────────┘
</pre></div> <h2 id=arrayreduce-agg-func-arr1>arrayReduce(agg_func, arr1, ...)<a class=headerlink href=#arrayreduce-agg-func-arr1 title="Permanent link">&para;</a></h2> <p>Applies an aggregate function to array and returns its result.If aggregate function has multiple arguments, then this function can be applied to multiple arrays of the same size.</p> <p>arrayReduce('agg_func', arr1, ...) - apply the aggregate function <code>agg_func</code> to arrays <code>arr1...</code>. If multiple arrays passed, then elements on corresponding positions are passed as multiple arguments to the aggregate function. For example: SELECT arrayReduce('max', [1,2,3]) = 3</p> <h2 id=arrayreverse-arr>arrayReverse(arr)<a class=headerlink href=#arrayreverse-arr title="Permanent link">&para;</a></h2> <p>Returns an array of the same size as the source array, containing the result of inverting all elements of the source array.</p> </div> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid"> <a href=../../../query_language/functions/rounding_functions/ title=Rounding class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i> </div> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis> <span class=md-footer-nav__direction> Previous </span> Rounding </span> </div> </a> <a href=../../../query_language/functions/splitting_merging_functions/ title="Splitting and Merging Strings and Arrays" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel=next> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis> <span class=md-footer-nav__direction> Next </span> Splitting and Merging Strings and Arrays </span> </div> <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> ©2016–2020 Yandex LLC </div> </div> </div> </div> </footer> </div> <script src=../../../assets/javascripts/modernizr.js></script> <script src=../../../assets/javascripts/application.js></script> <script type=text/javascript>
      function ready(callback){
          if (document.readyState != 'loading') {
              callback();
          } else if (document.addEventListener) {
              document.addEventListener('DOMContentLoaded', callback);
          } else document.attachEvent('onreadystatechange', function() {
              if (document.readyState == 'complete') {
                  callback();
              }
          });
      }
      ready(function () {
          var i;
          
          app.initialize({
              version: "1.0.4",
              url: {
                  base: "../../.."
              }
          });
          var beforePrint = function() {
            var details = document.getElementsByTagName("details");
            for (i = 0; i < details.length; ++i) {
                details[i].open = 1;
            }
          };
          if (window.matchMedia) {
              window.matchMedia('print').addListener(function(q) {
                  if (q.matches) {
                      beforePrint();
                  }
              });
          }
          window.onbeforeprint = beforePrint;

          var name = window.location.hostname.split('.')[0];
          var feedback_address = name + '-feedback' + '@yandex-team.ru';
          var feedback_email = document.getElementsByClassName('feedback-email');
          for (i = 0; i < feedback_email.length; i++) {
            feedback_email[i].setAttribute('href', 'mailto:' + feedback_address);
            feedback_email[i].innerHTML = feedback_address;
          }

          document.getElementById("releases-selector").addEventListener(
            "change",
            function() {
              var target = window.location.href.split('docs')[0] + 'docs/';
              if (this.value) {
                target = target + this.value + '/';
              }
              window.location = target + 'en';
            }
          )
      });
    </script> <script type=text/javascript src=https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js></script> <script type=text/javascript> docsearch({
apiKey: 'e239649803024433599de47a53b2d416',
indexName: 'yandex_clickhouse',
inputSelector: '#md-search__input',
algoliaOptions: {
  advancedSyntax: true,
  clickAnalytics: true,
  hitsPerPage: 25,
  'facetFilters': ["lang:en"]
},
debug: false
});
</script> <!-- Yandex.Metrika counter --> <script type=text/javascript>
        (function (d, w, c) {
            (w[c] = w[c] || []).push(function() {
                try {
                    w.yaCounter18343495 = new Ya.Metrika2({
                        id:18343495,
                        clickmap:true,
                        trackLinks:true,
                        accurateTrackBounce:true,
                        webvisor: true
                    });
                } catch(e) { }
            });
            var n = d.getElementsByTagName("script")[0],
                s = d.createElement("script"),
                f = function () { n.parentNode.insertBefore(s, n); };
            s.type = "text/javascript";
            s.async = true;
            s.src = "https://mc.yandex.ru/metrika/tag.js";
            if (w.opera == "[object Opera]") {
                d.addEventListener("DOMContentLoaded", f, false);
            } else { f(); }
        })(document, window, "yandex_metrika_callbacks2");
    </script> <noscript> <div><img src=https://mc.yandex.ru/watch/18343495 style="position:absolute; left:-9999px;" alt></div> </noscript> <!-- /Yandex.Metrika counter --> </body> </html>