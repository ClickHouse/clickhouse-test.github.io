



<!DOCTYPE html>
<html lang="fa" class="no-js" data-version="master" data-single-page="true">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://clickhouse.yandex/docs/fa/single/">
      
      
      
      <meta name="lang:clipboard.copy" content="کپی کردن">
      
      <meta name="lang:clipboard.copied" content="کپی شد">
      
      <meta name="lang:search.language" content="fa">
      
      <meta name="lang:search.pipeline.stopwords" content="False">
      
      <meta name="lang:search.pipeline.trimmer" content="False">
      
      <meta name="lang:search.result.none" content="سندی یافت نشد">
      
      <meta name="lang:search.result.one" content="1 سند یافت شد">
      
      <meta name="lang:search.result.other" content="# سند یافت شد">
      
      <meta name="lang:search.tokenizer" content="">
      
      <link rel="shortcut icon" href="../assets/images/favicon.ico">
    
    
      
        <title>مستندات  v19.7ClickHouse - مستندات  v19.7ClickHouse</title>
      
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
      <link rel="stylesheet" href="../assets/stylesheets/application.2a88008a.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.792431c1.css">
      
    
    
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../assets/stylesheets/custom.css?96b39be?1582217468">
    
    
  </head>
  
  
    
    
    <body dir="rtl" data-md-color-primary="white" data-md-color-accent="white" class="md-lang-fa">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">

  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="/" title="مستندات  v19.7ClickHouse" class="md-header-nav__button md-logo">
          
            <img src="../images/logo.svg" width="40" height="40">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              مستندات  v19.7ClickHouse
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" id="md-search__input" class="md-search__input" name="query" required placeholder="جستجو" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">&#xE5CD;</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            برای شروع جستجو تایپ کنید
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div id="md-language-switch" class="md-header-nav__source">
            

  <a class="md-alt-lang"
     href="../../en/single/" class="md-flex__ellipsis md-header-nav__title"
     title="English">
    <svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none" viewBox="0 0 60 30"><clipPath id="t"><path d="M30,15 h30 v15 z v15 h-30 z h-30 v-15 z v-15 h30 z"/></clipPath><path fill="#00247d" d="M0,0 v30 h60 v-30 z"/><path stroke="#fff" stroke-width="6" d="M0,0 L60,30 M60,0 L0,30"/><path stroke="#cf142b" stroke-width="4" d="M0,0 L60,30 M60,0 L0,30" clip-path="url(#t)"/><path stroke="#fff" stroke-width="10" d="M30,0 v30 M0,15 h60"/><path stroke="#cf142b" stroke-width="6" d="M30,0 v30 M0,15 h60"/></svg>
  </a>

  <a class="md-alt-lang"
     href="../../ru/single/" class="md-flex__ellipsis md-header-nav__title"
     title="Russian">
    <svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none" viewBox="0 0 9 6"><rect width="9" height="3" fill="#fff"/><rect width="9" height="3" y="3" fill="#d52b1e"/><rect width="9" height="2" y="2" fill="#0039a6"/></svg>
  </a>

  <a class="md-alt-lang"
     href="../../zh/single/" class="md-flex__ellipsis md-header-nav__title"
     title="Chinese">
    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="none" viewBox="0 0 30 20"><defs><path id="s" fill="#ffde00" d="M0,-1 0.587785,0.809017 -0.951057,-0.309017H0.951057L-0.587785,0.809017z"/></defs><rect width="30" height="20" fill="#de2910"/><use transform="translate(5,5) scale(3)" xlink:href="#s"/><use transform="translate(10,2) rotate(23.036243)" xlink:href="#s"/><use transform="translate(12,4) rotate(45.869898)" xlink:href="#s"/><use transform="translate(12,7) rotate(69.945396)" xlink:href="#s"/><use transform="translate(10,9) rotate(20.659808)" xlink:href="#s"/></svg>
  </a>

  <a class="md-alt-lang"
     href="../../ja/single/" class="md-flex__ellipsis md-header-nav__title"
     title="Japanese">
    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="90" height="60" version="1.1" viewBox="0 0 90 60"><g id="surface1"><rect width="90" height="60" x="0" y="0" fill="#A0A0A0" fill-opacity="1" stroke="none"/><path fill="#FFF" fill-opacity="1" fill-rule="nonzero" stroke="none" d="M 0.601562 0.601562 L 89.398438 0.601562 L 89.398438 59.398438 L 0.601562 59.398438 Z M 0.601562 0.601562"/><path fill="#BE0026" fill-opacity="1" fill-rule="nonzero" stroke="none" d="M 63 30 C 63 39.941406 54.941406 48 45 48 C 35.058594 48 27 39.941406 27 30 C 27 20.058594 35.058594 12 45 12 C 54.941406 12 63 20.058594 63 30 Z M 63 30"/></g></svg>
  </a>

  <a class="md-alt-lang md-current-lang"
     href="../../fa/single/" class="md-flex__ellipsis md-header-nav__title"
     title="Farsi">
    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="none" viewBox="0 0 630 360"><rect width="630" height="360" fill="#da0000"/><rect width="630" height="240" fill="#fff"/><rect width="630" height="120" fill="#239f40"/><g transform="translate(8.4,100.4)"><g id="tb4"><g id="tb1" fill="none" stroke="#fff" stroke-width="2"><path id="tbp1" d="M0,1H26M1,10V5H9V9H17V5H12M4,9H6M26,9H21V5H29M29,0V9H37V0M33,0V9" transform="scale(1.4)"/><path id="tbp2" d="M0,7H9M10,7H19" transform="scale(2.8)"/><use y="120" xlink:href="#tbp2"/><use y="145.2" xlink:href="#tbp1"/></g><g id="tb3"><use x="56" xlink:href="#tb1"/><use x="112" xlink:href="#tb1"/><use x="168" xlink:href="#tb1"/></g></g><use x="168" xlink:href="#tb3"/><use x="392" xlink:href="#tb4"/></g><g fill="#da0000" transform="matrix(45,0,0,45,315,180)"><g id="emblem_half"><path d="M-0.54815,0.83638A0.912046,0.912046 0 0,0 0.328544,-0.722384A1,1 0 0,1 -0.54815,0.83638"/><path d="M0.618339,0.661409A0.763932,0.763932 0 0,0 0.421644,-0.741049A1,1 0 0,1 0.618339,0.661409"/><path d="M0,1 -0.05,0 0,-0.787278A0.309995,0.309995 0 0,0 0.118034,-0.688191V-0.100406L0.077809,0.892905z"/><path d="M-0.02,-0.85 0,-0.831217A0.14431,0.14431 0 0,0 0.252075,-0.967708A0.136408,0.136408 0 0,1 0,-0.924634"/></g><use transform="scale(-1,1)" xlink:href="#emblem_half"/></g></svg>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
                      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="toc">فهرست موضوعات</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#clickhouse-chyst" title="ClickHouse چیست؟" class="md-nav__link">
    ClickHouse چیست؟
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#wyjgy-hy-khlydy-ykh-snryw-olap" title="ویژگی های کلیدی یک سناریو OLAP" class="md-nav__link">
    ویژگی های کلیدی یک سناریو OLAP
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dlyl-brtry-dytbys-hy-stwn-gr-bry-snryw-hy-olap" title="دلایل برتری دیتابیس های ستون گرا برای سناریو های OLAP" class="md-nav__link">
    دلایل برتری دیتابیس های ستون گرا برای سناریو های OLAP
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#input-output" title="Input/output" class="md-nav__link">
    Input/output
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cpu" title="CPU" class="md-nav__link">
    CPU
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wyjgy-hy-brjsth-clickhouse" title="ویژگی های برجسته ClickHouse" class="md-nav__link">
    ویژگی های برجسته ClickHouse
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mdyryt-dytbys-stwn-gry-wq-y" title="مدیریت دیتابیس ستون گرای واقعی" class="md-nav__link">
    مدیریت دیتابیس ستون گرای واقعی
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fshrdh-szy-ddh-h" title="فشرده سازی داده ها" class="md-nav__link">
    فشرده سازی داده ها
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#disk-storage-of-data" title="Disk storage of data" class="md-nav__link">
    Disk storage of data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prdzsh-mwzy-rwy-chndyn-hsth" title="پردازش موازی روی چندین هسته" class="md-nav__link">
    پردازش موازی روی چندین هسته
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prdzsh-twzy-shdh-br-rwy-chndyn-srwr" title="پردازش توزیع شده بر روی چندین سرور" class="md-nav__link">
    پردازش توزیع شده بر روی چندین سرور
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pshtybny-sql" title="پشتیبانی SQL" class="md-nav__link">
    پشتیبانی SQL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mwtwr-brdrd" title="موتور بردارد" class="md-nav__link">
    موتور بردارد
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#brwzrsny-ddh-h-bh-swrt-real-time" title="بروزرسانی داده ها به صورت Real-Time" class="md-nav__link">
    بروزرسانی داده ها به صورت Real-Time
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#index" title="Index" class="md-nav__link">
    Index
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mnsb-bry-query-hy-anlyn" title="مناسب برای query های آنلاین" class="md-nav__link">
    مناسب برای query های آنلاین
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pshtybny-z-mhsbt-tqryby" title="پشتیبانی از محاسبات تقریبی" class="md-nav__link">
    پشتیبانی از محاسبات تقریبی
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#replication-ddh-h-w-integrity" title="Replication داده ها و integrity" class="md-nav__link">
    Replication داده ها و integrity
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wyjgy-hy-z-clickhouse-khh-my-twnd-m-yby-bshd" title="ویژگی های از ClickHouse که می تواند معایبی باشد." class="md-nav__link">
    ویژگی های از ClickHouse که می تواند معایبی باشد.
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#performance" title="Performance" class="md-nav__link">
    Performance
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#twn-mlyty-bry-ykh-query-bzrg" title="توان عملیاتی برای یک query بزرگ" class="md-nav__link">
    توان عملیاتی برای یک query بزرگ
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#latency-dr-zmn-prdzsh-query-hy-khwth" title="Latency در زمان پردازش query های کوتاه" class="md-nav__link">
    Latency در زمان پردازش query های کوتاه
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#twn-mlyty-dr-hngm-prdzsh-t-dd-zydy-z-query-hy-khwth" title="توان عملیاتی در هنگام پردازش تعداد زیادی از query های کوتاه" class="md-nav__link">
    توان عملیاتی در هنگام پردازش تعداد زیادی از query های کوتاه
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#performance-dr-hngm-drj-ddh-h" title="Performance در هنگام درج داده ها" class="md-nav__link">
    Performance در هنگام درج داده ها
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#yandex-metrica-use-case" title="Yandex.Metrica use case" class="md-nav__link">
    Yandex.Metrica use case
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stfdh-dr-yandex-metrica-w-dygr-srwys-hy-yandex" title="استفاده در Yandex.Metrica و دیگر سرویس های Yandex" class="md-nav__link">
    استفاده در Yandex.Metrica و دیگر سرویس های Yandex
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ddh-hy-aggregate-non-aggregate" title="داده های Aggregate , Non-Aggregate" class="md-nav__link">
    داده های Aggregate , Non-Aggregate
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shrw-bh-khr" title="شروع به کار" class="md-nav__link">
    شروع به کار
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nyzmndy-hy-systm" title="نیازمندی های سیستم" class="md-nav__link">
    نیازمندی های سیستم
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nsb" title="نصب" class="md-nav__link">
    نصب
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nsb-z-tryq-pkhyj-hy-debian-ubuntu" title="نصب از طریق پکیج های Debian/Ubuntu" class="md-nav__link">
    نصب از طریق پکیج های Debian/Ubuntu
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nsb-z-tryq-source" title="نصب از طریق Source" class="md-nav__link">
    نصب از طریق Source
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rwsh-hy-dygr-nsb" title="روش های دیگر نصب" class="md-nav__link">
    روش های دیگر نصب
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rh-ndzy" title="راه اندازی" class="md-nav__link">
    راه اندازی
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ontime" title="OnTime" class="md-nav__link">
    OnTime
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ddh-hy-tkhsy-new-york" title="داده های تاکسی New York" class="md-nav__link">
    داده های تاکسی New York
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#chtwr-ddh-hy-raw-r-import-khnym" title="چطور داده های raw را import کنیم" class="md-nav__link">
    چطور داده های raw را import کنیم
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ntyj-br-rwy-ykh-srwr" title="نتایج بر روی یک سرور" class="md-nav__link">
    نتایج بر روی یک سرور
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ntyj" title="نتایج" class="md-nav__link">
    نتایج
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bnchmrkh-amplab-big-data" title="بنچمارک AMPLab Big Data" class="md-nav__link">
    بنچمارک AMPLab Big Data
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wikistat" title="WikiStat" class="md-nav__link">
    WikiStat
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#trbyt-z-lg-hy-khlykh-z-srwys-criteo" title="ترابایت از لاگ های کلیک از سرویس Criteo" class="md-nav__link">
    ترابایت از لاگ های کلیک از سرویس Criteo
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bnchmrkh-star-schema" title="بنچمارک Star Schema" class="md-nav__link">
    بنچمارک Star Schema
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#anonymized-yandex-metrica-data" title="Anonymized Yandex.Metrica Data" class="md-nav__link">
    Anonymized Yandex.Metrica Data
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#obtaining-tables-from-prepared-partitions" title="Obtaining Tables from Prepared Partitions" class="md-nav__link">
    Obtaining Tables from Prepared Partitions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#obtaining-tables-from-compressed-tsv-file" title="Obtaining Tables from Compressed tsv-file" class="md-nav__link">
    Obtaining Tables from Compressed tsv-file
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#queries" title="Queries" class="md-nav__link">
    Queries
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interfaces" title="رابط ها" class="md-nav__link">
    رابط ها
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#khlynt-command-line" title="کلاینت Command-line" class="md-nav__link">
    کلاینت Command-line
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stfdh" title="استفاده" class="md-nav__link">
    استفاده
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interfaces_cli_configuration" title="پیکربندی" class="md-nav__link">
    پیکربندی
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gzynh-hy-command-line" title="گزینه های Command line" class="md-nav__link">
    گزینه های Command line
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fyl-hy-pykhrbndy" title="فایل های پیکربندی" class="md-nav__link">
    فایل های پیکربندی
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rbt-bwmy-tcp" title="رابط بومی (TCP)" class="md-nav__link">
    رابط بومی (TCP)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#http-interface" title="HTTP interface" class="md-nav__link">
    HTTP interface
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bfryng-response" title="بافرینگ Response" class="md-nav__link">
    بافرینگ Response
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#formats" title="فرمت های Input و Output" class="md-nav__link">
    فرمت های Input و Output
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tabseparated" title="TabSeparated" class="md-nav__link">
    TabSeparated
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tabseparatedraw" title="TabSeparatedRaw" class="md-nav__link">
    TabSeparatedRaw
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tabseparatedwithnames" title="TabSeparatedWithNames" class="md-nav__link">
    TabSeparatedWithNames
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tabseparatedwithnamesandtypes" title="TabSeparatedWithNamesAndTypes" class="md-nav__link">
    TabSeparatedWithNamesAndTypes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tskv" title="TSKV" class="md-nav__link">
    TSKV
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#csv" title="CSV" class="md-nav__link">
    CSV
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#csvwithnames" title="CSVWithNames" class="md-nav__link">
    CSVWithNames
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json" title="JSON" class="md-nav__link">
    JSON
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jsoncompact" title="JSONCompact" class="md-nav__link">
    JSONCompact
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jsoneachrow" title="JSONEachRow" class="md-nav__link">
    JSONEachRow
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#native" title="Native" class="md-nav__link">
    Native
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#null" title="Null" class="md-nav__link">
    Null
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pretty" title="Pretty" class="md-nav__link">
    Pretty
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prettycompact" title="PrettyCompact" class="md-nav__link">
    PrettyCompact
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prettycompactmonoblock" title="PrettyCompactMonoBlock" class="md-nav__link">
    PrettyCompactMonoBlock
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prettynoescapes" title="PrettyNoEscapes" class="md-nav__link">
    PrettyNoEscapes
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prettycompactnoescapes" title="PrettyCompactNoEscapes" class="md-nav__link">
    PrettyCompactNoEscapes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prettyspacenoescapes" title="PrettySpaceNoEscapes" class="md-nav__link">
    PrettySpaceNoEscapes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prettyspace" title="PrettySpace" class="md-nav__link">
    PrettySpace
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rowbinary" title="RowBinary" class="md-nav__link">
    RowBinary
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-format-values" title="Values" class="md-nav__link">
    Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vertical" title="Vertical" class="md-nav__link">
    Vertical
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verticalraw" title="VerticalRaw" class="md-nav__link">
    VerticalRaw
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#xml" title="XML" class="md-nav__link">
    XML
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#capnproto" title="CapnProto" class="md-nav__link">
    CapnProto
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#drywr-jdbc" title="درایور JDBC" class="md-nav__link">
    درایور JDBC
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#odbc-drywr" title="ODBC درایور" class="md-nav__link">
    ODBC درایور
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#khtbkhnh-hy-mshtry-shkhs-thlth" title="کتابخانه های مشتری شخص ثالث" class="md-nav__link">
    کتابخانه های مشتری شخص ثالث
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#khtbkhnh-dgm-thlth" title="کتابخانه ادغام ثالث" class="md-nav__link">
    کتابخانه ادغام ثالث
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mhswlt-zyrbnyy" title="محصولات زیربنایی" class="md-nav__link">
    محصولات زیربنایی
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#khwsystm-zbn-brnmh-nwysy" title="اکوسیستم زبان برنامه نویسی" class="md-nav__link">
    اکوسیستم زبان برنامه نویسی
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interface-hy-visual-tws-h-dhndgn-third-party" title="interface های visual توسعه دهندگان third-party" class="md-nav__link">
    interface های visual توسعه دهندگان third-party
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mtn-bz" title="متن باز" class="md-nav__link">
    متن باز
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tabix" title="Tabix" class="md-nav__link">
    Tabix
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#houseops" title="HouseOps" class="md-nav__link">
    HouseOps
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lighthouse" title="LightHouse" class="md-nav__link">
    LightHouse
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-cli" title="clickhouse-cli" class="md-nav__link">
    clickhouse-cli
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tjry" title="تجاری" class="md-nav__link">
    تجاری
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dbeaver" title="DBeaver" class="md-nav__link">
    DBeaver
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#datagrip" title="DataGrip" class="md-nav__link">
    DataGrip
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#srwrhy-prwkhsy-z-tws-h-dhndgn-shkhs-thlth" title="سرورهای پروکسی از توسعه دهندگان شخص ثالث" class="md-nav__link">
    سرورهای پروکسی از توسعه دهندگان شخص ثالث
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#kittenhouse" title="KittenHouse" class="md-nav__link">
    KittenHouse
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-bulk" title="ClickHouse-Bulk" class="md-nav__link">
    ClickHouse-Bulk
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data_types" title="Data types" class="md-nav__link">
    Data types
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#uint8-uint16-uint32-uint64-int8-int16-int32-int64" title="UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64" class="md-nav__link">
    UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mhdwdh-y-int" title="محدوده ی Int" class="md-nav__link">
    محدوده ی Int
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mhdwdh-y-uint" title="محدوده ی Uint" class="md-nav__link">
    محدوده ی Uint
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#float32-float64" title="Float32, Float64" class="md-nav__link">
    Float32, Float64
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stfdh-z-dd-float" title="استفاده از اعداد Float" class="md-nav__link">
    استفاده از اعداد Float
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nan-w-inf" title="NaN و Inf" class="md-nav__link">
    NaN و Inf
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#decimal-p-s-decimal32-s-decimal64-s-decimal128-s" title="Decimal(P, S), Decimal32(S), Decimal64(S), Decimal128(S)" class="md-nav__link">
    Decimal(P, S), Decimal32(S), Decimal64(S), Decimal128(S)
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters" title="Parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decimal-value-ranges" title="Decimal value ranges" class="md-nav__link">
    Decimal value ranges
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#internal-representation" title="Internal representation" class="md-nav__link">
    Internal representation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#operations-and-result-type" title="Operations and result type" class="md-nav__link">
    Operations and result type
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#overflow-checks" title="Overflow checks" class="md-nav__link">
    Overflow checks
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mqdyr-boolean" title="مقادیر Boolean" class="md-nav__link">
    مقادیر Boolean
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#string" title="String" class="md-nav__link">
    String
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#encodings" title="Encodings" class="md-nav__link">
    Encodings
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fixedstring-n" title="FixedString(N)" class="md-nav__link">
    FixedString(N)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#uuid-data-type" title="UUID" class="md-nav__link">
    UUID
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-to-generate" title="How to generate" class="md-nav__link">
    How to generate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage-example" title="Usage example" class="md-nav__link">
    Usage example
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restrictions" title="Restrictions" class="md-nav__link">
    Restrictions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#date" title="Date" class="md-nav__link">
    Date
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#datetime" title="DateTime" class="md-nav__link">
    DateTime
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#time-zones" title="Time zones" class="md-nav__link">
    Time zones
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#enum" title="Enum" class="md-nav__link">
    Enum
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#array-t" title="Array(T)" class="md-nav__link">
    Array(T)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aggregatefunction-name-types-of-arguments" title="AggregateFunction(name, types_of_arguments...)" class="md-nav__link">
    AggregateFunction(name, types_of_arguments...)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tuple-t1-t2" title="Tuple(T1, T2, ...)" class="md-nav__link">
    Tuple(T1, T2, ...)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data_type-nullable" title="Nullable(TypeName)" class="md-nav__link">
    Nullable(TypeName)
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#storage-features" title="Storage features" class="md-nav__link">
    Storage features
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage-example_1" title="Usage example" class="md-nav__link">
    Usage example
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nested-data-structures" title="Nested data structures" class="md-nav__link">
    Nested data structures
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nested-name1-type1-name2-type2" title="Nested(Name1 Type1, Name2 Type2, ...)" class="md-nav__link">
    Nested(Name1 Type1, Name2 Type2, ...)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#special-data-types" title="Special data types" class="md-nav__link">
    Special data types
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#expression" title="Expression" class="md-nav__link">
    Expression
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#set" title="Set" class="md-nav__link">
    Set
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#nothing" title="Nothing" class="md-nav__link">
    Nothing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#table_engines" title="Table engines" class="md-nav__link">
    Table engines
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#table_engines-mergetree" title="MergeTree" class="md-nav__link">
    MergeTree
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#table_engine-mergetree-creating-a-table" title="Creating a Table" class="md-nav__link">
    Creating a Table
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-storage" title="Data Storage" class="md-nav__link">
    Data Storage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#primary-keys-and-indexes-in-queries" title="Primary Keys and Indexes in Queries" class="md-nav__link">
    Primary Keys and Indexes in Queries
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#selecting-the-primary-key" title="Selecting the Primary Key" class="md-nav__link">
    Selecting the Primary Key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#choosing-the-primary-key-that-differs-from-the-sorting-key" title="Choosing the Primary Key that differs from the Sorting Key" class="md-nav__link">
    Choosing the Primary Key that differs from the Sorting Key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-of-indexes-and-partitions-in-queries" title="Use of Indexes and Partitions in Queries" class="md-nav__link">
    Use of Indexes and Partitions in Queries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-skipping-indices-experimental" title="Data Skipping Indices (Experimental)" class="md-nav__link">
    Data Skipping Indices (Experimental)
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#available-types-of-indices" title="Available Types of Indices" class="md-nav__link">
    Available Types of Indices
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#concurrent-data-access" title="Concurrent Data Access" class="md-nav__link">
    Concurrent Data Access
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ttl-for-columns-and-tables" title="TTL for columns and tables" class="md-nav__link">
    TTL for columns and tables
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#table_engines-replication" title="Data Replication" class="md-nav__link">
    Data Replication
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-replicated-tables" title="Creating Replicated Tables" class="md-nav__link">
    Creating Replicated Tables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recovery-after-failures" title="Recovery After Failures" class="md-nav__link">
    Recovery After Failures
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recovery-after-complete-data-loss" title="Recovery After Complete Data Loss" class="md-nav__link">
    Recovery After Complete Data Loss
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#converting-from-mergetree-to-replicatedmergetree" title="Converting from MergeTree to ReplicatedMergeTree" class="md-nav__link">
    Converting from MergeTree to ReplicatedMergeTree
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#converting-from-replicatedmergetree-to-mergetree" title="Converting from ReplicatedMergeTree to MergeTree" class="md-nav__link">
    Converting from ReplicatedMergeTree to MergeTree
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#recovery-when-metadata-in-the-zookeeper-cluster-is-lost-or-damaged" title="Recovery When Metadata in The ZooKeeper Cluster is Lost or Damaged" class="md-nav__link">
    Recovery When Metadata in The ZooKeeper Cluster is Lost or Damaged
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#custom-partitioning-key" title="Custom Partitioning Key" class="md-nav__link">
    Custom Partitioning Key
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#replacingmergetree" title="ReplacingMergeTree" class="md-nav__link">
    ReplacingMergeTree
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-a-table" title="Creating a Table" class="md-nav__link">
    Creating a Table
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summingmergetree" title="SummingMergeTree" class="md-nav__link">
    SummingMergeTree
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-a-table_1" title="Creating a Table" class="md-nav__link">
    Creating a Table
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage-example_2" title="Usage Example" class="md-nav__link">
    Usage Example
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-processing" title="Data Processing" class="md-nav__link">
    Data Processing
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#common-rules-for-summation" title="Common rules for summation" class="md-nav__link">
    Common rules for summation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-summation-in-the-aggregatefunction-columns" title="The Summation in the AggregateFunction Columns" class="md-nav__link">
    The Summation in the AggregateFunction Columns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nested-structures" title="Nested Structures" class="md-nav__link">
    Nested Structures
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aggregatingmergetree" title="AggregatingMergeTree" class="md-nav__link">
    AggregatingMergeTree
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-a-table_2" title="Creating a Table" class="md-nav__link">
    Creating a Table
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#select-and-insert" title="SELECT and INSERT" class="md-nav__link">
    SELECT and INSERT
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-of-an-aggregated-materialized-view" title="Example of an Aggregated Materialized View" class="md-nav__link">
    Example of an Aggregated Materialized View
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#table_engine-collapsingmergetree" title="CollapsingMergeTree" class="md-nav__link">
    CollapsingMergeTree
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-a-table_3" title="Creating a Table" class="md-nav__link">
    Creating a Table
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table_engine-collapsingmergetree-collapsing" title="Collapsing" class="md-nav__link">
    Collapsing
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data" title="Data" class="md-nav__link">
    Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table_engine-collapsingmergetree-collapsing-algorithm" title="Algorithm" class="md-nav__link">
    Algorithm
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-of-use" title="Example of use" class="md-nav__link">
    Example of use
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#versionedcollapsingmergetree" title="VersionedCollapsingMergeTree" class="md-nav__link">
    VersionedCollapsingMergeTree
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-a-table_4" title="Creating a Table" class="md-nav__link">
    Creating a Table
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table_engines_versionedcollapsingmergetree" title="Collapsing" class="md-nav__link">
    Collapsing
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data_1" title="Data" class="md-nav__link">
    Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table_engines-versionedcollapsingmergetree-algorithm" title="Algorithm" class="md-nav__link">
    Algorithm
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#selecting-data" title="Selecting Data" class="md-nav__link">
    Selecting Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-of-use_1" title="Example of Use" class="md-nav__link">
    Example of Use
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#graphitemergetree" title="GraphiteMergeTree" class="md-nav__link">
    GraphiteMergeTree
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#creating-a-table_5" title="Creating a Table" class="md-nav__link">
    Creating a Table
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rollup-configuration" title="Rollup configuration" class="md-nav__link">
    Rollup configuration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#log-engine-family" title="Log Engine Family" class="md-nav__link">
    Log Engine Family
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#common-properties" title="Common properties" class="md-nav__link">
    Common properties
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#differences" title="Differences" class="md-nav__link">
    Differences
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stripelog" title="StripeLog" class="md-nav__link">
    StripeLog
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#table_engines-stripelog-creating-a-table" title="Creating a Table" class="md-nav__link">
    Creating a Table
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table_engines-stripelog-writing-the-data" title="Writing the Data" class="md-nav__link">
    Writing the Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table_engines-stripelog-reading-the-data" title="Reading the Data" class="md-nav__link">
    Reading the Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#table_engines-stripelog-example-of-use" title="Example of Use" class="md-nav__link">
    Example of Use
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#log" title="Log" class="md-nav__link">
    Log
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tinylog" title="TinyLog" class="md-nav__link">
    TinyLog
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#kafka" title="Kafka" class="md-nav__link">
    Kafka
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#table_engine-kafka-creating-a-table" title="Creating a Table" class="md-nav__link">
    Creating a Table
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#description" title="Description" class="md-nav__link">
    Description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration" title="Configuration" class="md-nav__link">
    Configuration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mysql" title="MySQL" class="md-nav__link">
    MySQL
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#distributed" title="Distributed" class="md-nav__link">
    Distributed
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#external-data-for-query-processing" title="External Data for Query Processing" class="md-nav__link">
    External Data for Query Processing
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dictionary" title="Dictionary" class="md-nav__link">
    Dictionary
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#merge" title="Merge" class="md-nav__link">
    Merge
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#virtual-columns" title="Virtual Columns" class="md-nav__link">
    Virtual Columns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#table_engines-file" title="File(InputFormat)" class="md-nav__link">
    File(InputFormat)
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#usage-in-clickhouse-server" title="Usage in ClickHouse Server" class="md-nav__link">
    Usage in ClickHouse Server
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage-in-clickhouse-local" title="Usage in Clickhouse-local" class="md-nav__link">
    Usage in Clickhouse-local
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#details-of-implementation" title="Details of Implementation" class="md-nav__link">
    Details of Implementation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#null_1" title="Null" class="md-nav__link">
    Null
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#set_1" title="Set" class="md-nav__link">
    Set
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#join" title="Join" class="md-nav__link">
    Join
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#table_engines-url" title="URL(URL, Format)" class="md-nav__link">
    URL(URL, Format)
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-the-engine-in-the-clickhouse-server" title="Using the engine in the ClickHouse server" class="md-nav__link">
    Using the engine in the ClickHouse server
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#details-of-implementation_1" title="Details of Implementation" class="md-nav__link">
    Details of Implementation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#table_engines-view" title="View" class="md-nav__link">
    View
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#materializedview" title="MaterializedView" class="md-nav__link">
    MaterializedView
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#memory" title="Memory" class="md-nav__link">
    Memory
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#buffer" title="Buffer" class="md-nav__link">
    Buffer
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sql-reference" title="SQL Reference" class="md-nav__link">
    SQL Reference
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#select-queries-syntax" title="SELECT Queries Syntax" class="md-nav__link">
    SELECT Queries Syntax
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#from-clause" title="FROM Clause" class="md-nav__link">
    FROM Clause
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#select-sample-clause" title="SAMPLE Clause" class="md-nav__link">
    SAMPLE Clause
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#select-sample-k" title="SAMPLE k" class="md-nav__link">
    SAMPLE k
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#select-sample-n" title="SAMPLE n" class="md-nav__link">
    SAMPLE n
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#select-sample-offset" title="SAMPLE k OFFSET m" class="md-nav__link">
    SAMPLE k OFFSET m
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#select-array-join-clause" title="ARRAY JOIN Clause" class="md-nav__link">
    ARRAY JOIN Clause
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-aliases" title="Using Aliases" class="md-nav__link">
    Using Aliases
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#array-join-with-nested-data-structure" title="ARRAY JOIN With Nested Data Structure" class="md-nav__link">
    ARRAY JOIN With Nested Data Structure
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#select-join" title="JOIN Clause" class="md-nav__link">
    JOIN Clause
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#supported-types-of-join" title="Supported Types of JOIN" class="md-nav__link">
    Supported Types of JOIN
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple-join" title="Multiple JOIN" class="md-nav__link">
    Multiple JOIN
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#any-or-all-strictness" title="ANY or ALL Strictness" class="md-nav__link">
    ANY or ALL Strictness
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#global-join" title="GLOBAL JOIN" class="md-nav__link">
    GLOBAL JOIN
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#usage-recommendations" title="Usage Recommendations" class="md-nav__link">
    Usage Recommendations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#processing-of-empty-or-null-cells" title="Processing of Empty or NULL Cells" class="md-nav__link">
    Processing of Empty or NULL Cells
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#where-clause" title="WHERE Clause" class="md-nav__link">
    WHERE Clause
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#prewhere-clause" title="PREWHERE Clause" class="md-nav__link">
    PREWHERE Clause
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#select-group-by-clause" title="GROUP BY Clause" class="md-nav__link">
    GROUP BY Clause
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#null-processing" title="NULL processing" class="md-nav__link">
    NULL processing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#with-totals-modifier" title="WITH TOTALS Modifier" class="md-nav__link">
    WITH TOTALS Modifier
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#select-group-by-in-external-memory" title="GROUP BY in External Memory" class="md-nav__link">
    GROUP BY in External Memory
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#limit-n-by-clause" title="LIMIT N BY Clause" class="md-nav__link">
    LIMIT N BY Clause
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#having-clause" title="HAVING Clause" class="md-nav__link">
    HAVING Clause
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#order-by-clause" title="ORDER BY Clause" class="md-nav__link">
    ORDER BY Clause
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#select-clause" title="SELECT Clause" class="md-nav__link">
    SELECT Clause
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#select-distinct" title="DISTINCT Clause" class="md-nav__link">
    DISTINCT Clause
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#limit-clause" title="LIMIT Clause" class="md-nav__link">
    LIMIT Clause
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#union-all-clause" title="UNION ALL Clause" class="md-nav__link">
    UNION ALL Clause
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#into-outfile-clause" title="INTO OUTFILE Clause" class="md-nav__link">
    INTO OUTFILE Clause
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#format-clause" title="FORMAT Clause" class="md-nav__link">
    FORMAT Clause
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#select-in-operators" title="IN Operators" class="md-nav__link">
    IN Operators
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#null-processing_1" title="NULL processing" class="md-nav__link">
    NULL processing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#select-distributed-subqueries" title="Distributed Subqueries" class="md-nav__link">
    Distributed Subqueries
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extreme-values" title="Extreme Values" class="md-nav__link">
    Extreme Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notes" title="Notes" class="md-nav__link">
    Notes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#insert" title="INSERT" class="md-nav__link">
    INSERT
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#insert_query_insert-select" title="Inserting The Results of SELECT" class="md-nav__link">
    Inserting The Results of SELECT
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#performance-considerations" title="Performance Considerations" class="md-nav__link">
    Performance Considerations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-database" title="CREATE DATABASE" class="md-nav__link">
    CREATE DATABASE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-table-query" title="CREATE TABLE" class="md-nav__link">
    CREATE TABLE
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-default-values" title="Default Values" class="md-nav__link">
    Default Values
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ttl-expression" title="TTL expression" class="md-nav__link">
    TTL expression
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#column-compression-codecs" title="Column Compression Codecs" class="md-nav__link">
    Column Compression Codecs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#temporary-tables" title="Temporary Tables" class="md-nav__link">
    Temporary Tables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#distributed-ddl-queries-on-cluster-clause" title="Distributed DDL queries (ON CLUSTER clause)" class="md-nav__link">
    Distributed DDL queries (ON CLUSTER clause)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-view" title="CREATE VIEW" class="md-nav__link">
    CREATE VIEW
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#query_language_queries_alter" title="ALTER" class="md-nav__link">
    ALTER
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#column-manipulations" title="Column Manipulations" class="md-nav__link">
    Column Manipulations
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#alter_add-column" title="ADD COLUMN" class="md-nav__link">
    ADD COLUMN
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#alter_drop-column" title="DROP COLUMN" class="md-nav__link">
    DROP COLUMN
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#alter_clear-column" title="CLEAR COLUMN" class="md-nav__link">
    CLEAR COLUMN
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#alter_comment-column" title="COMMENT COLUMN" class="md-nav__link">
    COMMENT COLUMN
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#alter_modify-column" title="MODIFY COLUMN" class="md-nav__link">
    MODIFY COLUMN
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#alter-query-limitations" title="ALTER Query Limitations" class="md-nav__link">
    ALTER Query Limitations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manipulations-with-key-expressions" title="Manipulations With Key Expressions" class="md-nav__link">
    Manipulations With Key Expressions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manipulations-with-data-skipping-indices" title="Manipulations With Data Skipping Indices" class="md-nav__link">
    Manipulations With Data Skipping Indices
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#alter_manipulations-with-partitions" title="Manipulations With Partitions and Parts" class="md-nav__link">
    Manipulations With Partitions and Parts
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#alter_detach-partition" title="DETACH PARTITION" class="md-nav__link">
    DETACH PARTITION
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#alter_drop-partition" title="DROP PARTITION" class="md-nav__link">
    DROP PARTITION
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#alter_attach-partition" title="ATTACH PARTITION|PART" class="md-nav__link">
    ATTACH PARTITION|PART
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#alter_replace-partition" title="REPLACE PARTITION" class="md-nav__link">
    REPLACE PARTITION
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#alter_clear-column-partition" title="CLEAR COLUMN IN PARTITION" class="md-nav__link">
    CLEAR COLUMN IN PARTITION
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#alter_freeze-partition" title="FREEZE PARTITION" class="md-nav__link">
    FREEZE PARTITION
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#alter_fetch-partition" title="FETCH PARTITION" class="md-nav__link">
    FETCH PARTITION
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#alter-how-to-specify-part-expr" title="How To Set Partition Expression" class="md-nav__link">
    How To Set Partition Expression
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#synchronicity-of-alter-queries" title="Synchronicity of ALTER Queries" class="md-nav__link">
    Synchronicity of ALTER Queries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#alter-mutations" title="Mutations" class="md-nav__link">
    Mutations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#miscellaneous-queries" title="Miscellaneous Queries" class="md-nav__link">
    Miscellaneous Queries
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#attach" title="ATTACH" class="md-nav__link">
    ATTACH
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-table" title="CHECK TABLE" class="md-nav__link">
    CHECK TABLE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#misc-describe-table" title="DESCRIBE TABLE" class="md-nav__link">
    DESCRIBE TABLE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#detach" title="DETACH" class="md-nav__link">
    DETACH
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#drop" title="DROP" class="md-nav__link">
    DROP
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exists" title="EXISTS" class="md-nav__link">
    EXISTS
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kill-query" title="KILL QUERY" class="md-nav__link">
    KILL QUERY
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kill-mutation" title="KILL MUTATION" class="md-nav__link">
    KILL MUTATION
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#misc_operations-optimize" title="OPTIMIZE" class="md-nav__link">
    OPTIMIZE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#misc_operations-rename" title="RENAME" class="md-nav__link">
    RENAME
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set_2" title="SET" class="md-nav__link">
    SET
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#show-create-table" title="SHOW CREATE TABLE" class="md-nav__link">
    SHOW CREATE TABLE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#show-databases" title="SHOW DATABASES" class="md-nav__link">
    SHOW DATABASES
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#show-processlist" title="SHOW PROCESSLIST" class="md-nav__link">
    SHOW PROCESSLIST
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#show-tables" title="SHOW TABLES" class="md-nav__link">
    SHOW TABLES
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#truncate" title="TRUNCATE" class="md-nav__link">
    TRUNCATE
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use" title="USE" class="md-nav__link">
    USE
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functions" title="Functions" class="md-nav__link">
    Functions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#strong-typing" title="Strong typing" class="md-nav__link">
    Strong typing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#common-subexpression-elimination" title="Common subexpression elimination" class="md-nav__link">
    Common subexpression elimination
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#types-of-results" title="Types of results" class="md-nav__link">
    Types of results
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#constants" title="Constants" class="md-nav__link">
    Constants
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#null-processing_2" title="NULL processing" class="md-nav__link">
    NULL processing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#constancy" title="Constancy" class="md-nav__link">
    Constancy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#error-handling" title="Error handling" class="md-nav__link">
    Error handling
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#evaluation-of-argument-expressions" title="Evaluation of argument expressions" class="md-nav__link">
    Evaluation of argument expressions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#performing-functions-for-distributed-query-processing" title="Performing functions for distributed query processing" class="md-nav__link">
    Performing functions for distributed query processing
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arithmetic-functions" title="Arithmetic functions" class="md-nav__link">
    Arithmetic functions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#plus-a-b-a-b-operator" title="plus(a, b), a + b operator" class="md-nav__link">
    plus(a, b), a + b operator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#minus-a-b-a-b-operator" title="minus(a, b), a - b operator" class="md-nav__link">
    minus(a, b), a - b operator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiply-a-b-a-42-b-operator" title="multiply(a, b), a * b operator" class="md-nav__link">
    multiply(a, b), a * b operator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#divide-a-b-a-b-operator" title="divide(a, b), a / b operator" class="md-nav__link">
    divide(a, b), a / b operator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#intdiv-a-b" title="intDiv(a, b)" class="md-nav__link">
    intDiv(a, b)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#intdivorzero-a-b" title="intDivOrZero(a, b)" class="md-nav__link">
    intDivOrZero(a, b)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modulo-a-b-a-b-operator" title="modulo(a, b), a % b operator" class="md-nav__link">
    modulo(a, b), a % b operator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#negate-a-a-operator" title="negate(a), -a operator" class="md-nav__link">
    negate(a), -a operator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arithm_func-abs" title="abs(a)" class="md-nav__link">
    abs(a)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#gcd-a-b" title="gcd(a, b)" class="md-nav__link">
    gcd(a, b)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lcm-a-b" title="lcm(a, b)" class="md-nav__link">
    lcm(a, b)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comparison-functions" title="Comparison functions" class="md-nav__link">
    Comparison functions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#equals-a-b-and-a-b-operator" title="equals, a = b and a == b operator" class="md-nav__link">
    equals, a = b and a == b operator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notequals-a-operator-b-and-a-b" title="notEquals, a ! operator= b and a &lt;&gt; b" class="md-nav__link">
    notEquals, a ! operator= b and a &lt;&gt; b
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#less-operator" title="less, &lt; operator" class="md-nav__link">
    less, &lt; operator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#greater-operator" title="greater, &gt; operator" class="md-nav__link">
    greater, &gt; operator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lessorequals-operator" title="lessOrEquals, &lt;= operator" class="md-nav__link">
    lessOrEquals, &lt;= operator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#greaterorequals-operator" title="greaterOrEquals, &gt;= operator" class="md-nav__link">
    greaterOrEquals, &gt;= operator
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#logical-functions" title="Logical functions" class="md-nav__link">
    Logical functions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#and-and-operator" title="and, AND operator" class="md-nav__link">
    and, AND operator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#or-or-operator" title="or, OR operator" class="md-nav__link">
    or, OR operator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#not-not-operator" title="not, NOT operator" class="md-nav__link">
    not, NOT operator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#xor" title="xor" class="md-nav__link">
    xor
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#type-conversion-functions" title="Type conversion functions" class="md-nav__link">
    Type conversion functions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#touint8-touint16-touint32-touint64" title="toUInt8, toUInt16, toUInt32, toUInt64" class="md-nav__link">
    toUInt8, toUInt16, toUInt32, toUInt64
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#toint8-toint16-toint32-toint64" title="toInt8, toInt16, toInt32, toInt64" class="md-nav__link">
    toInt8, toInt16, toInt32, toInt64
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tofloat32-tofloat64" title="toFloat32, toFloat64" class="md-nav__link">
    toFloat32, toFloat64
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#todate-todatetime" title="toDate, toDateTime" class="md-nav__link">
    toDate, toDateTime
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#touint8orzero-touint16orzero-touint32orzero-touint64orzero-toint8orzero-toint16orzero-toint32orzero-toint64orzero-tofloat32orzero-tofloat64orzero-todateorzero-todatetimeorzero" title="toUInt8OrZero, toUInt16OrZero, toUInt32OrZero, toUInt64OrZero, toInt8OrZero, toInt16OrZero, toInt32OrZero, toInt64OrZero, toFloat32OrZero, toFloat64OrZero, toDateOrZero, toDateTimeOrZero" class="md-nav__link">
    toUInt8OrZero, toUInt16OrZero, toUInt32OrZero, toUInt64OrZero, toInt8OrZero, toInt16OrZero, toInt32OrZero, toInt64OrZero, toFloat32OrZero, toFloat64OrZero, toDateOrZero, toDateTimeOrZero
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#touint8ornull-touint16ornull-touint32ornull-touint64ornull-toint8ornull-toint16ornull-toint32ornull-toint64ornull-tofloat32ornull-tofloat64ornull-todateornull-todatetimeornull" title="toUInt8OrNull, toUInt16OrNull, toUInt32OrNull, toUInt64OrNull, toInt8OrNull, toInt16OrNull, toInt32OrNull, toInt64OrNull, toFloat32OrNull, toFloat64OrNull, toDateOrNull, toDateTimeOrNull" class="md-nav__link">
    toUInt8OrNull, toUInt16OrNull, toUInt32OrNull, toUInt64OrNull, toInt8OrNull, toInt16OrNull, toInt32OrNull, toInt64OrNull, toFloat32OrNull, toFloat64OrNull, toDateOrNull, toDateTimeOrNull
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#todecimal32-value-s-todecimal64-value-s-todecimal128-value-s" title="toDecimal32(value, S), toDecimal64(value, S), toDecimal128(value, S)" class="md-nav__link">
    toDecimal32(value, S), toDecimal64(value, S), toDecimal128(value, S)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tostring" title="toString" class="md-nav__link">
    toString
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tofixedstring-s-n" title="toFixedString(s, N)" class="md-nav__link">
    toFixedString(s, N)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tostringcuttozero-s" title="toStringCutToZero(s)" class="md-nav__link">
    toStringCutToZero(s)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reinterpretasuint8-reinterpretasuint16-reinterpretasuint32-reinterpretasuint64" title="reinterpretAsUInt8, reinterpretAsUInt16, reinterpretAsUInt32, reinterpretAsUInt64" class="md-nav__link">
    reinterpretAsUInt8, reinterpretAsUInt16, reinterpretAsUInt32, reinterpretAsUInt64
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reinterpretasint8-reinterpretasint16-reinterpretasint32-reinterpretasint64" title="reinterpretAsInt8, reinterpretAsInt16, reinterpretAsInt32, reinterpretAsInt64" class="md-nav__link">
    reinterpretAsInt8, reinterpretAsInt16, reinterpretAsInt32, reinterpretAsInt64
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reinterpretasfloat32-reinterpretasfloat64" title="reinterpretAsFloat32, reinterpretAsFloat64" class="md-nav__link">
    reinterpretAsFloat32, reinterpretAsFloat64
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reinterpretasdate-reinterpretasdatetime" title="reinterpretAsDate, reinterpretAsDateTime" class="md-nav__link">
    reinterpretAsDate, reinterpretAsDateTime
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#type_conversion_functions-reinterpretAsString" title="reinterpretAsString" class="md-nav__link">
    reinterpretAsString
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reinterpretasfixedstring" title="reinterpretAsFixedString" class="md-nav__link">
    reinterpretAsFixedString
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#type_conversion_function-cast" title="CAST(x, t)" class="md-nav__link">
    CAST(x, t)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tointervalyear-tointervalquarter-tointervalmonth-tointervalweek-tointervalday-tointervalhour-tointervalminute-tointervalsecond" title="toIntervalYear, toIntervalQuarter, toIntervalMonth, toIntervalWeek, toIntervalDay, toIntervalHour, toIntervalMinute, toIntervalSecond" class="md-nav__link">
    toIntervalYear, toIntervalQuarter, toIntervalMonth, toIntervalWeek, toIntervalDay, toIntervalHour, toIntervalMinute, toIntervalSecond
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#type_conversion_functions-parsedatetimebesteffort" title="parseDateTimeBestEffort" class="md-nav__link">
    parseDateTimeBestEffort
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parsedatetimebesteffortornull" title="parseDateTimeBestEffortOrNull" class="md-nav__link">
    parseDateTimeBestEffortOrNull
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parsedatetimebesteffortorzero" title="parseDateTimeBestEffortOrZero" class="md-nav__link">
    parseDateTimeBestEffortOrZero
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functions-for-working-with-dates-and-times" title="Functions for working with dates and times" class="md-nav__link">
    Functions for working with dates and times
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#totimezone" title="toTimeZone" class="md-nav__link">
    toTimeZone
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#toyear" title="toYear" class="md-nav__link">
    toYear
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#toquarter" title="toQuarter" class="md-nav__link">
    toQuarter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tomonth" title="toMonth" class="md-nav__link">
    toMonth
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#todayofyear" title="toDayOfYear" class="md-nav__link">
    toDayOfYear
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#todayofmonth" title="toDayOfMonth" class="md-nav__link">
    toDayOfMonth
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#todayofweek" title="toDayOfWeek" class="md-nav__link">
    toDayOfWeek
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tohour" title="toHour" class="md-nav__link">
    toHour
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tominute" title="toMinute" class="md-nav__link">
    toMinute
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tosecond" title="toSecond" class="md-nav__link">
    toSecond
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tounixtimestamp" title="toUnixTimestamp" class="md-nav__link">
    toUnixTimestamp
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tostartofyear" title="toStartOfYear" class="md-nav__link">
    toStartOfYear
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tostartofisoyear" title="toStartOfISOYear" class="md-nav__link">
    toStartOfISOYear
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tostartofquarter" title="toStartOfQuarter" class="md-nav__link">
    toStartOfQuarter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tostartofmonth" title="toStartOfMonth" class="md-nav__link">
    toStartOfMonth
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tomonday" title="toMonday" class="md-nav__link">
    toMonday
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tostartofday" title="toStartOfDay" class="md-nav__link">
    toStartOfDay
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tostartofhour" title="toStartOfHour" class="md-nav__link">
    toStartOfHour
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tostartofminute" title="toStartOfMinute" class="md-nav__link">
    toStartOfMinute
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tostartoffiveminute" title="toStartOfFiveMinute" class="md-nav__link">
    toStartOfFiveMinute
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tostartoftenminutes" title="toStartOfTenMinutes" class="md-nav__link">
    toStartOfTenMinutes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tostartoffifteenminutes" title="toStartOfFifteenMinutes" class="md-nav__link">
    toStartOfFifteenMinutes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tostartofinterval-time-or-data-interval-x-unit-time-zone" title="toStartOfInterval(time_or_data, INTERVAL x unit [, time_zone])" class="md-nav__link">
    toStartOfInterval(time_or_data, INTERVAL x unit [, time_zone])
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#totime" title="toTime" class="md-nav__link">
    toTime
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#torelativeyearnum" title="toRelativeYearNum" class="md-nav__link">
    toRelativeYearNum
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#torelativequarternum" title="toRelativeQuarterNum" class="md-nav__link">
    toRelativeQuarterNum
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#torelativemonthnum" title="toRelativeMonthNum" class="md-nav__link">
    toRelativeMonthNum
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#torelativeweeknum" title="toRelativeWeekNum" class="md-nav__link">
    toRelativeWeekNum
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#torelativedaynum" title="toRelativeDayNum" class="md-nav__link">
    toRelativeDayNum
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#torelativehournum" title="toRelativeHourNum" class="md-nav__link">
    toRelativeHourNum
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#torelativeminutenum" title="toRelativeMinuteNum" class="md-nav__link">
    toRelativeMinuteNum
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#torelativesecondnum" title="toRelativeSecondNum" class="md-nav__link">
    toRelativeSecondNum
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#toisoyear" title="toISOYear" class="md-nav__link">
    toISOYear
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#toisoweek" title="toISOWeek" class="md-nav__link">
    toISOWeek
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#now" title="now" class="md-nav__link">
    now
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#today" title="today" class="md-nav__link">
    today
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#yesterday" title="yesterday" class="md-nav__link">
    yesterday
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#timeslot" title="timeSlot" class="md-nav__link">
    timeSlot
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#toyyyymm" title="toYYYYMM" class="md-nav__link">
    toYYYYMM
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#toyyyymmdd" title="toYYYYMMDD" class="md-nav__link">
    toYYYYMMDD
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#toyyyymmddhhmmss" title="toYYYYMMDDhhmmss" class="md-nav__link">
    toYYYYMMDDhhmmss
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addyears-addmonths-addweeks-adddays-addhours-addminutes-addseconds-addquarters" title="addYears, addMonths, addWeeks, addDays, addHours, addMinutes, addSeconds, addQuarters" class="md-nav__link">
    addYears, addMonths, addWeeks, addDays, addHours, addMinutes, addSeconds, addQuarters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subtractyears-subtractmonths-subtractweeks-subtractdays-subtracthours-subtractminutes-subtractseconds-subtractquarters" title="subtractYears, subtractMonths, subtractWeeks, subtractDays, subtractHours, subtractMinutes, subtractSeconds, subtractQuarters" class="md-nav__link">
    subtractYears, subtractMonths, subtractWeeks, subtractDays, subtractHours, subtractMinutes, subtractSeconds, subtractQuarters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#datediff-unit-t1-t2-91-timezone-93" title="dateDiff('unit', t1, t2, [timezone])" class="md-nav__link">
    dateDiff('unit', t1, t2, [timezone])
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#timeslots-starttime-duration-91-size-93" title="timeSlots(StartTime, Duration,[, Size])" class="md-nav__link">
    timeSlots(StartTime, Duration,[, Size])
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#formatdatetime-time-format-91-timezone-93" title="formatDateTime(Time, Format[, Timezone])" class="md-nav__link">
    formatDateTime(Time, Format[, Timezone])
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functions-for-working-with-strings" title="Functions for working with strings" class="md-nav__link">
    Functions for working with strings
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#string_functions-empty" title="empty" class="md-nav__link">
    empty
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notempty" title="notEmpty" class="md-nav__link">
    notEmpty
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#length" title="length" class="md-nav__link">
    length
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lengthutf8" title="lengthUTF8" class="md-nav__link">
    lengthUTF8
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#char-length-char-length" title="char_length, CHAR_LENGTH" class="md-nav__link">
    char_length, CHAR_LENGTH
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#character-length-character-length" title="character_length, CHARACTER_LENGTH" class="md-nav__link">
    character_length, CHARACTER_LENGTH
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lower-lcase" title="lower, lcase" class="md-nav__link">
    lower, lcase
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upper-ucase" title="upper, ucase" class="md-nav__link">
    upper, ucase
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lowerutf8" title="lowerUTF8" class="md-nav__link">
    lowerUTF8
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upperutf8" title="upperUTF8" class="md-nav__link">
    upperUTF8
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#isvalidutf8" title="isValidUTF8" class="md-nav__link">
    isValidUTF8
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reverse" title="reverse" class="md-nav__link">
    reverse
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reverseutf8" title="reverseUTF8" class="md-nav__link">
    reverseUTF8
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#concat-s1-s2" title="concat(s1, s2, ...)" class="md-nav__link">
    concat(s1, s2, ...)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#concatassumeinjective-s1-s2" title="concatAssumeInjective(s1, s2, ...)" class="md-nav__link">
    concatAssumeInjective(s1, s2, ...)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#substring-s-offset-length-mid-s-offset-length-substr-s-offset-length" title="substring(s, offset, length), mid(s, offset, length), substr(s, offset, length)" class="md-nav__link">
    substring(s, offset, length), mid(s, offset, length), substr(s, offset, length)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#substringutf8-s-offset-length" title="substringUTF8(s, offset, length)" class="md-nav__link">
    substringUTF8(s, offset, length)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#appendtrailingcharifabsent-s-c" title="appendTrailingCharIfAbsent(s, c)" class="md-nav__link">
    appendTrailingCharIfAbsent(s, c)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#convertcharset-s-from-to" title="convertCharset(s, from, to)" class="md-nav__link">
    convertCharset(s, from, to)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#base64encode-s" title="base64Encode(s)" class="md-nav__link">
    base64Encode(s)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#base64decode-s" title="base64Decode(s)" class="md-nav__link">
    base64Decode(s)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trybase64decode-s" title="tryBase64Decode(s)" class="md-nav__link">
    tryBase64Decode(s)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#endswith-s-suffix" title="endsWith(s, suffix)" class="md-nav__link">
    endsWith(s, suffix)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#startswith-s-prefix" title="startsWith(s, prefix)" class="md-nav__link">
    startsWith(s, prefix)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trimleft-s" title="trimLeft(s)" class="md-nav__link">
    trimLeft(s)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trimright-s" title="trimRight(s)" class="md-nav__link">
    trimRight(s)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trimboth-s" title="trimBoth(s)" class="md-nav__link">
    trimBoth(s)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functions-for-searching-strings" title="Functions for Searching Strings" class="md-nav__link">
    Functions for Searching Strings
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#position-haystack-needle-locate-haystack-needle" title="position(haystack, needle), locate(haystack, needle)" class="md-nav__link">
    position(haystack, needle), locate(haystack, needle)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#positionutf8-haystack-needle" title="positionUTF8(haystack, needle)" class="md-nav__link">
    positionUTF8(haystack, needle)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multisearchallpositions-haystack-needle1-needle2-needlen" title="multiSearchAllPositions(haystack, [needle1, needle2, ..., needlen])" class="md-nav__link">
    multiSearchAllPositions(haystack, [needle1, needle2, ..., needlen])
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multisearchfirstposition-haystack-needle1-needle2-needlen" title="multiSearchFirstPosition(haystack, [needle1, needle2, ..., needlen])" class="md-nav__link">
    multiSearchFirstPosition(haystack, [needle1, needle2, ..., needlen])
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multisearchfirstindex-haystack-needle1-needle2-needlen" title="multiSearchFirstIndex(haystack, [needle1, needle2, ..., needlen])" class="md-nav__link">
    multiSearchFirstIndex(haystack, [needle1, needle2, ..., needlen])
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multisearchany-haystack-needle1-needle2-needlen" title="multiSearchAny(haystack, [needle1, needle2, ..., needlen])" class="md-nav__link">
    multiSearchAny(haystack, [needle1, needle2, ..., needlen])
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#match-haystack-pattern" title="match(haystack, pattern)" class="md-nav__link">
    match(haystack, pattern)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multimatchany-haystack-pattern1-pattern2-patternn" title="multiMatchAny(haystack, [pattern1, pattern2, ..., patternn])" class="md-nav__link">
    multiMatchAny(haystack, [pattern1, pattern2, ..., patternn])
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multimatchanyindex-haystack-pattern1-pattern2-patternn" title="multiMatchAnyIndex(haystack, [pattern1, pattern2, ..., patternn])" class="md-nav__link">
    multiMatchAnyIndex(haystack, [pattern1, pattern2, ..., patternn])
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multifuzzymatchany-haystack-distance-pattern1-pattern2-patternn" title="multiFuzzyMatchAny(haystack, distance, [pattern1, pattern2, ..., patternn])" class="md-nav__link">
    multiFuzzyMatchAny(haystack, distance, [pattern1, pattern2, ..., patternn])
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multifuzzymatchanyindex-haystack-distance-pattern1-pattern2-patternn" title="multiFuzzyMatchAnyIndex(haystack, distance, [pattern1, pattern2, ..., patternn])" class="md-nav__link">
    multiFuzzyMatchAnyIndex(haystack, distance, [pattern1, pattern2, ..., patternn])
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extract-haystack-pattern" title="extract(haystack, pattern)" class="md-nav__link">
    extract(haystack, pattern)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extractall-haystack-pattern" title="extractAll(haystack, pattern)" class="md-nav__link">
    extractAll(haystack, pattern)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#like-haystack-pattern-haystack-like-pattern-operator" title="like(haystack, pattern), haystack LIKE pattern operator" class="md-nav__link">
    like(haystack, pattern), haystack LIKE pattern operator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notlike-haystack-pattern-haystack-not-like-pattern-operator" title="notLike(haystack, pattern), haystack NOT LIKE pattern operator" class="md-nav__link">
    notLike(haystack, pattern), haystack NOT LIKE pattern operator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ngramdistance-haystack-needle" title="ngramDistance(haystack, needle)" class="md-nav__link">
    ngramDistance(haystack, needle)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functions-for-searching-and-replacing-in-strings" title="Functions for searching and replacing in strings" class="md-nav__link">
    Functions for searching and replacing in strings
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#replaceone-haystack-pattern-replacement" title="replaceOne(haystack, pattern, replacement)" class="md-nav__link">
    replaceOne(haystack, pattern, replacement)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#replaceall-haystack-pattern-replacement-replace-haystack-pattern-replacement" title="replaceAll(haystack, pattern, replacement), replace(haystack, pattern, replacement)" class="md-nav__link">
    replaceAll(haystack, pattern, replacement), replace(haystack, pattern, replacement)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#replaceregexpone-haystack-pattern-replacement" title="replaceRegexpOne(haystack, pattern, replacement)" class="md-nav__link">
    replaceRegexpOne(haystack, pattern, replacement)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#replaceregexpall-haystack-pattern-replacement" title="replaceRegexpAll(haystack, pattern, replacement)" class="md-nav__link">
    replaceRegexpAll(haystack, pattern, replacement)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#regexpquotemeta-s" title="regexpQuoteMeta(s)" class="md-nav__link">
    regexpQuoteMeta(s)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conditional-functions" title="Conditional functions" class="md-nav__link">
    Conditional functions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#if-cond-then-else-cond-operator-then-else" title="if(cond, then, else), cond ? operator then : else" class="md-nav__link">
    if(cond, then, else), cond ? operator then : else
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiif" title="multiIf" class="md-nav__link">
    multiIf
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mathematical-functions" title="Mathematical functions" class="md-nav__link">
    Mathematical functions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#e" title="e()" class="md-nav__link">
    e()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pi" title="pi()" class="md-nav__link">
    pi()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exp-x" title="exp(x)" class="md-nav__link">
    exp(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#log-x-ln-x" title="log(x), ln(x)" class="md-nav__link">
    log(x), ln(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exp2-x" title="exp2(x)" class="md-nav__link">
    exp2(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#log2-x" title="log2(x)" class="md-nav__link">
    log2(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#exp10-x" title="exp10(x)" class="md-nav__link">
    exp10(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#log10-x" title="log10(x)" class="md-nav__link">
    log10(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sqrt-x" title="sqrt(x)" class="md-nav__link">
    sqrt(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cbrt-x" title="cbrt(x)" class="md-nav__link">
    cbrt(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#erf-x" title="erf(x)" class="md-nav__link">
    erf(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#erfc-x" title="erfc(x)" class="md-nav__link">
    erfc(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lgamma-x" title="lgamma(x)" class="md-nav__link">
    lgamma(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tgamma-x" title="tgamma(x)" class="md-nav__link">
    tgamma(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sin-x" title="sin(x)" class="md-nav__link">
    sin(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cos-x" title="cos(x)" class="md-nav__link">
    cos(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tan-x" title="tan(x)" class="md-nav__link">
    tan(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asin-x" title="asin(x)" class="md-nav__link">
    asin(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#acos-x" title="acos(x)" class="md-nav__link">
    acos(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#atan-x" title="atan(x)" class="md-nav__link">
    atan(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pow-x-y-power-x-y" title="pow(x, y), power(x, y)" class="md-nav__link">
    pow(x, y), power(x, y)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#intexp2" title="intExp2" class="md-nav__link">
    intExp2
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#intexp10" title="intExp10" class="md-nav__link">
    intExp10
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rounding-functions" title="Rounding functions" class="md-nav__link">
    Rounding functions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#floor-x-91-n-93" title="floor(x[, N])" class="md-nav__link">
    floor(x[, N])
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ceil-x-91-n-93-ceiling-x-91-n-93" title="ceil(x[, N]), ceiling(x[, N])" class="md-nav__link">
    ceil(x[, N]), ceiling(x[, N])
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rounding_functions-round" title="round(x[, N])" class="md-nav__link">
    round(x[, N])
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#examples" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roundtoexp2-num" title="roundToExp2(num)" class="md-nav__link">
    roundToExp2(num)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roundduration-num" title="roundDuration(num)" class="md-nav__link">
    roundDuration(num)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roundage-num" title="roundAge(num)" class="md-nav__link">
    roundAge(num)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rounddown-num-arr" title="roundDown(num, arr)" class="md-nav__link">
    roundDown(num, arr)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functions-for-working-with-arrays" title="Functions for working with arrays" class="md-nav__link">
    Functions for working with arrays
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#empty" title="empty" class="md-nav__link">
    empty
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notempty_1" title="notEmpty" class="md-nav__link">
    notEmpty
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#array_functions-length" title="length" class="md-nav__link">
    length
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#emptyarrayuint8-emptyarrayuint16-emptyarrayuint32-emptyarrayuint64" title="emptyArrayUInt8, emptyArrayUInt16, emptyArrayUInt32, emptyArrayUInt64" class="md-nav__link">
    emptyArrayUInt8, emptyArrayUInt16, emptyArrayUInt32, emptyArrayUInt64
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#emptyarrayint8-emptyarrayint16-emptyarrayint32-emptyarrayint64" title="emptyArrayInt8, emptyArrayInt16, emptyArrayInt32, emptyArrayInt64" class="md-nav__link">
    emptyArrayInt8, emptyArrayInt16, emptyArrayInt32, emptyArrayInt64
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#emptyarrayfloat32-emptyarrayfloat64" title="emptyArrayFloat32, emptyArrayFloat64" class="md-nav__link">
    emptyArrayFloat32, emptyArrayFloat64
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#emptyarraydate-emptyarraydatetime" title="emptyArrayDate, emptyArrayDateTime" class="md-nav__link">
    emptyArrayDate, emptyArrayDateTime
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#emptyarraystring" title="emptyArrayString" class="md-nav__link">
    emptyArrayString
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#emptyarraytosingle" title="emptyArrayToSingle" class="md-nav__link">
    emptyArrayToSingle
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#range-n" title="range(N)" class="md-nav__link">
    range(N)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#array-x1-operator-91-x1-93" title="array(x1, ...), operator [x1, ...]" class="md-nav__link">
    array(x1, ...), operator [x1, ...]
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arrayconcat" title="arrayConcat" class="md-nav__link">
    arrayConcat
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arrayelement-arr-n-operator-arr-n" title="arrayElement(arr, n), operator arr[n]" class="md-nav__link">
    arrayElement(arr, n), operator arr[n]
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#has-arr-elem" title="has(arr, elem)" class="md-nav__link">
    has(arr, elem)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hasall" title="hasAll" class="md-nav__link">
    hasAll
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hasany" title="hasAny" class="md-nav__link">
    hasAny
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#indexof-arr-x" title="indexOf(arr, x)" class="md-nav__link">
    indexOf(arr, x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#countequal-arr-x" title="countEqual(arr, x)" class="md-nav__link">
    countEqual(arr, x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#array_functions-arrayenumerate" title="arrayEnumerate(arr)" class="md-nav__link">
    arrayEnumerate(arr)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arrayenumerateuniq-arr" title="arrayEnumerateUniq(arr, ...)" class="md-nav__link">
    arrayEnumerateUniq(arr, ...)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arraypopback" title="arrayPopBack" class="md-nav__link">
    arrayPopBack
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arraypopfront" title="arrayPopFront" class="md-nav__link">
    arrayPopFront
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arraypushback" title="arrayPushBack" class="md-nav__link">
    arrayPushBack
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arraypushfront" title="arrayPushFront" class="md-nav__link">
    arrayPushFront
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arrayresize" title="arrayResize" class="md-nav__link">
    arrayResize
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arrayslice" title="arraySlice" class="md-nav__link">
    arraySlice
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arrayuniq-arr" title="arrayUniq(arr, ...)" class="md-nav__link">
    arrayUniq(arr, ...)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#array_functions-join" title="arrayJoin(arr)" class="md-nav__link">
    arrayJoin(arr)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arraydifference-arr" title="arrayDifference(arr)" class="md-nav__link">
    arrayDifference(arr)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arraydistinct-arr" title="arrayDistinct(arr)" class="md-nav__link">
    arrayDistinct(arr)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arrayenumeratedense-arr" title="arrayEnumerateDense(arr)" class="md-nav__link">
    arrayEnumerateDense(arr)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arrayintersect-arr" title="arrayIntersect(arr)" class="md-nav__link">
    arrayIntersect(arr)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arrayreduce-agg-func-arr1" title="arrayReduce(agg_func, arr1, ...)" class="md-nav__link">
    arrayReduce(agg_func, arr1, ...)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arrayreverse-arr" title="arrayReverse(arr)" class="md-nav__link">
    arrayReverse(arr)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functions-for-splitting-and-merging-strings-and-arrays" title="Functions for splitting and merging strings and arrays" class="md-nav__link">
    Functions for splitting and merging strings and arrays
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#splitbychar-separator-s" title="splitByChar(separator, s)" class="md-nav__link">
    splitByChar(separator, s)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#splitbystring-separator-s" title="splitByString(separator, s)" class="md-nav__link">
    splitByString(separator, s)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arraystringconcat-arr-91-separator-93" title="arrayStringConcat(arr[, separator])" class="md-nav__link">
    arrayStringConcat(arr[, separator])
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#alphatokens-s" title="alphaTokens(s)" class="md-nav__link">
    alphaTokens(s)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bit-functions" title="Bit functions" class="md-nav__link">
    Bit functions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bitand-a-b" title="bitAnd(a, b)" class="md-nav__link">
    bitAnd(a, b)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bitor-a-b" title="bitOr(a, b)" class="md-nav__link">
    bitOr(a, b)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bitxor-a-b" title="bitXor(a, b)" class="md-nav__link">
    bitXor(a, b)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bitnot-a" title="bitNot(a)" class="md-nav__link">
    bitNot(a)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bitshiftleft-a-b" title="bitShiftLeft(a, b)" class="md-nav__link">
    bitShiftLeft(a, b)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bitshiftright-a-b" title="bitShiftRight(a, b)" class="md-nav__link">
    bitShiftRight(a, b)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bitrotateleft-a-b" title="bitRotateLeft(a, b)" class="md-nav__link">
    bitRotateLeft(a, b)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bitrotateright-a-b" title="bitRotateRight(a, b)" class="md-nav__link">
    bitRotateRight(a, b)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bittest-a-b" title="bitTest(a, b)" class="md-nav__link">
    bitTest(a, b)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bittestall-a-b" title="bitTestAll(a, b)" class="md-nav__link">
    bitTestAll(a, b)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bittestany-a-b" title="bitTestAny(a, b)" class="md-nav__link">
    bitTestAny(a, b)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bitmap-functions" title="Bitmap functions" class="md-nav__link">
    Bitmap functions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bitmapbuild" title="bitmapBuild" class="md-nav__link">
    bitmapBuild
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bitmaptoarray" title="bitmapToArray" class="md-nav__link">
    bitmapToArray
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bitmaphasany" title="bitmapHasAny" class="md-nav__link">
    bitmapHasAny
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bitmaphasall" title="bitmapHasAll" class="md-nav__link">
    bitmapHasAll
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bitmapand" title="bitmapAnd" class="md-nav__link">
    bitmapAnd
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bitmapor" title="bitmapOr" class="md-nav__link">
    bitmapOr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bitmapxor" title="bitmapXor" class="md-nav__link">
    bitmapXor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bitmapandnot" title="bitmapAndnot" class="md-nav__link">
    bitmapAndnot
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bitmapcardinality" title="bitmapCardinality" class="md-nav__link">
    bitmapCardinality
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bitmapandcardinality" title="bitmapAndCardinality" class="md-nav__link">
    bitmapAndCardinality
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bitmaporcardinality" title="bitmapOrCardinality" class="md-nav__link">
    bitmapOrCardinality
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bitmapxorcardinality" title="bitmapXorCardinality" class="md-nav__link">
    bitmapXorCardinality
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bitmapandnotcardinality" title="bitmapAndnotCardinality" class="md-nav__link">
    bitmapAndnotCardinality
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hash-functions" title="Hash functions" class="md-nav__link">
    Hash functions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hash_functions-halfmd5" title="halfMD5" class="md-nav__link">
    halfMD5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hash_functions-md5" title="MD5" class="md-nav__link">
    MD5
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hash_functions-siphash64" title="sipHash64" class="md-nav__link">
    sipHash64
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#siphash128" title="sipHash128" class="md-nav__link">
    sipHash128
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cityhash64" title="cityHash64" class="md-nav__link">
    cityHash64
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inthash32" title="intHash32" class="md-nav__link">
    intHash32
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inthash64" title="intHash64" class="md-nav__link">
    intHash64
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sha1" title="SHA1" class="md-nav__link">
    SHA1
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sha224" title="SHA224" class="md-nav__link">
    SHA224
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sha256" title="SHA256" class="md-nav__link">
    SHA256
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urlhash-url-91-n-93" title="URLHash(url[, N])" class="md-nav__link">
    URLHash(url[, N])
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#farmhash64" title="farmHash64" class="md-nav__link">
    farmHash64
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hash_functions-javahash" title="javaHash" class="md-nav__link">
    javaHash
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hivehash" title="hiveHash" class="md-nav__link">
    hiveHash
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metrohash64" title="metroHash64" class="md-nav__link">
    metroHash64
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#jumpconsistenthash" title="jumpConsistentHash" class="md-nav__link">
    jumpConsistentHash
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#murmurhash2-32-murmurhash2-64" title="murmurHash2_32, murmurHash2_64" class="md-nav__link">
    murmurHash2_32, murmurHash2_64
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#murmurhash3-32-murmurhash3-64" title="murmurHash3_32, murmurHash3_64" class="md-nav__link">
    murmurHash3_32, murmurHash3_64
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#murmurhash3-128" title="murmurHash3_128" class="md-nav__link">
    murmurHash3_128
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#xxhash32-xxhash64" title="xxHash32, xxHash64" class="md-nav__link">
    xxHash32, xxHash64
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functions-for-generating-pseudo-random-numbers" title="Functions for generating pseudo-random numbers" class="md-nav__link">
    Functions for generating pseudo-random numbers
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rand" title="rand" class="md-nav__link">
    rand
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rand64" title="rand64" class="md-nav__link">
    rand64
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#randconstant" title="randConstant" class="md-nav__link">
    randConstant
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#encoding-functions" title="Encoding functions" class="md-nav__link">
    Encoding functions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hex" title="hex" class="md-nav__link">
    hex
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unhex-str" title="unhex(str)" class="md-nav__link">
    unhex(str)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uuidstringtonum-str" title="UUIDStringToNum(str)" class="md-nav__link">
    UUIDStringToNum(str)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uuidnumtostring-str" title="UUIDNumToString(str)" class="md-nav__link">
    UUIDNumToString(str)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bitmasktolist-num" title="bitmaskToList(num)" class="md-nav__link">
    bitmaskToList(num)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bitmasktoarray-num" title="bitmaskToArray(num)" class="md-nav__link">
    bitmaskToArray(num)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functions-for-working-with-uuid" title="Functions for working with UUID" class="md-nav__link">
    Functions for working with UUID
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uuid_function-generate" title="generateUUIDv4" class="md-nav__link">
    generateUUIDv4
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#touuid-x" title="toUUID (x)" class="md-nav__link">
    toUUID (x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uuidstringtonum" title="UUIDStringToNum" class="md-nav__link">
    UUIDStringToNum
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uuidnumtostring" title="UUIDNumToString" class="md-nav__link">
    UUIDNumToString
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#see-also" title="See also" class="md-nav__link">
    See also
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functions-for-working-with-urls" title="Functions for working with URLs" class="md-nav__link">
    Functions for working with URLs
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#functions-that-extract-part-of-a-url" title="Functions that extract part of a URL" class="md-nav__link">
    Functions that extract part of a URL
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#protocol" title="protocol" class="md-nav__link">
    protocol
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#domain" title="domain" class="md-nav__link">
    domain
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#domainwithoutwww" title="domainWithoutWWW" class="md-nav__link">
    domainWithoutWWW
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#topleveldomain" title="topLevelDomain" class="md-nav__link">
    topLevelDomain
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#firstsignificantsubdomain" title="firstSignificantSubdomain" class="md-nav__link">
    firstSignificantSubdomain
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cuttofirstsignificantsubdomain" title="cutToFirstSignificantSubdomain" class="md-nav__link">
    cutToFirstSignificantSubdomain
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#path" title="path" class="md-nav__link">
    path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pathfull" title="pathFull" class="md-nav__link">
    pathFull
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#querystring" title="queryString" class="md-nav__link">
    queryString
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fragment" title="fragment" class="md-nav__link">
    fragment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#querystringandfragment" title="queryStringAndFragment" class="md-nav__link">
    queryStringAndFragment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extracturlparameter-url-name" title="extractURLParameter(URL, name)" class="md-nav__link">
    extractURLParameter(URL, name)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extracturlparameters-url" title="extractURLParameters(URL)" class="md-nav__link">
    extractURLParameters(URL)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extracturlparameternames-url" title="extractURLParameterNames(URL)" class="md-nav__link">
    extractURLParameterNames(URL)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urlhierarchy-url" title="URLHierarchy(URL)" class="md-nav__link">
    URLHierarchy(URL)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#urlpathhierarchy-url" title="URLPathHierarchy(URL)" class="md-nav__link">
    URLPathHierarchy(URL)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#decodeurlcomponent-url" title="decodeURLComponent(URL)" class="md-nav__link">
    decodeURLComponent(URL)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#functions-that-remove-part-of-a-url" title="Functions that remove part of a URL." class="md-nav__link">
    Functions that remove part of a URL.
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cutwww" title="cutWWW" class="md-nav__link">
    cutWWW
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cutquerystring" title="cutQueryString" class="md-nav__link">
    cutQueryString
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cutfragment" title="cutFragment" class="md-nav__link">
    cutFragment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cutquerystringandfragment" title="cutQueryStringAndFragment" class="md-nav__link">
    cutQueryStringAndFragment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cuturlparameter-url-name" title="cutURLParameter(URL, name)" class="md-nav__link">
    cutURLParameter(URL, name)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functions-for-working-with-ip-addresses" title="Functions for working with IP addresses" class="md-nav__link">
    Functions for working with IP addresses
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ipv4numtostring-num" title="IPv4NumToString(num)" class="md-nav__link">
    IPv4NumToString(num)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ipv4stringtonum-s" title="IPv4StringToNum(s)" class="md-nav__link">
    IPv4StringToNum(s)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ipv4numtostringclassc-num" title="IPv4NumToStringClassC(num)" class="md-nav__link">
    IPv4NumToStringClassC(num)
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ipv6numtostring-x" title="IPv6NumToString(x)" class="md-nav__link">
    IPv6NumToString(x)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ipv6stringtonum-s" title="IPv6StringToNum(s)" class="md-nav__link">
    IPv6StringToNum(s)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ipv4toipv6-x" title="IPv4ToIPv6(x)" class="md-nav__link">
    IPv4ToIPv6(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cutipv6-x-bitstocutforipv6-bitstocutforipv4" title="cutIPv6(x, bitsToCutForIPv6, bitsToCutForIPv4)" class="md-nav__link">
    cutIPv6(x, bitsToCutForIPv6, bitsToCutForIPv4)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functions-for-working-with-json" title="Functions for working with JSON" class="md-nav__link">
    Functions for working with JSON
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#visitparamhas-params-name" title="visitParamHas(params, name)" class="md-nav__link">
    visitParamHas(params, name)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visitparamextractuint-params-name" title="visitParamExtractUInt(params, name)" class="md-nav__link">
    visitParamExtractUInt(params, name)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visitparamextractint-params-name" title="visitParamExtractInt(params, name)" class="md-nav__link">
    visitParamExtractInt(params, name)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visitparamextractfloat-params-name" title="visitParamExtractFloat(params, name)" class="md-nav__link">
    visitParamExtractFloat(params, name)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visitparamextractbool-params-name" title="visitParamExtractBool(params, name)" class="md-nav__link">
    visitParamExtractBool(params, name)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visitparamextractraw-params-name" title="visitParamExtractRaw(params, name)" class="md-nav__link">
    visitParamExtractRaw(params, name)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visitparamextractstring-params-name" title="visitParamExtractString(params, name)" class="md-nav__link">
    visitParamExtractString(params, name)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#higher-order-functions" title="Higher-order functions" class="md-nav__link">
    Higher-order functions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operator-lambda-params-expr-function" title="-&gt; operator, lambda(params, expr) function" class="md-nav__link">
    -&gt; operator, lambda(params, expr) function
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#arraymap-func-arr1" title="arrayMap(func, arr1, ...)" class="md-nav__link">
    arrayMap(func, arr1, ...)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arrayfilter-func-arr1" title="arrayFilter(func, arr1, ...)" class="md-nav__link">
    arrayFilter(func, arr1, ...)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arraycount-91-func-93-arr1" title="arrayCount([func,] arr1, ...)" class="md-nav__link">
    arrayCount([func,] arr1, ...)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arrayexists-91-func-93-arr1" title="arrayExists([func,] arr1, ...)" class="md-nav__link">
    arrayExists([func,] arr1, ...)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arrayall-91-func-93-arr1" title="arrayAll([func,] arr1, ...)" class="md-nav__link">
    arrayAll([func,] arr1, ...)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arraysum-91-func-93-arr1" title="arraySum([func,] arr1, ...)" class="md-nav__link">
    arraySum([func,] arr1, ...)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arrayfirst-func-arr1" title="arrayFirst(func, arr1, ...)" class="md-nav__link">
    arrayFirst(func, arr1, ...)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arrayfirstindex-func-arr1" title="arrayFirstIndex(func, arr1, ...)" class="md-nav__link">
    arrayFirstIndex(func, arr1, ...)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arraycumsum-91-func-93-arr1" title="arrayCumSum([func,] arr1, ...)" class="md-nav__link">
    arrayCumSum([func,] arr1, ...)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arraycumsumnonnegative-arr" title="arrayCumSumNonNegative(arr)" class="md-nav__link">
    arrayCumSumNonNegative(arr)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arraysort-91-func-93-arr1" title="arraySort([func,] arr1, ...)" class="md-nav__link">
    arraySort([func,] arr1, ...)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#arrayreversesort-91-func-93-arr1" title="arrayReverseSort([func,] arr1, ...)" class="md-nav__link">
    arrayReverseSort([func,] arr1, ...)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ext_dict_functions" title="Functions for working with external dictionaries" class="md-nav__link">
    Functions for working with external dictionaries
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dictgetuint8-dictgetuint16-dictgetuint32-dictgetuint64" title="dictGetUInt8, dictGetUInt16, dictGetUInt32, dictGetUInt64" class="md-nav__link">
    dictGetUInt8, dictGetUInt16, dictGetUInt32, dictGetUInt64
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dictgetint8-dictgetint16-dictgetint32-dictgetint64" title="dictGetInt8, dictGetInt16, dictGetInt32, dictGetInt64" class="md-nav__link">
    dictGetInt8, dictGetInt16, dictGetInt32, dictGetInt64
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dictgetfloat32-dictgetfloat64" title="dictGetFloat32, dictGetFloat64" class="md-nav__link">
    dictGetFloat32, dictGetFloat64
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dictgetdate-dictgetdatetime" title="dictGetDate, dictGetDateTime" class="md-nav__link">
    dictGetDate, dictGetDateTime
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dictgetuuid" title="dictGetUUID" class="md-nav__link">
    dictGetUUID
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dictgetstring" title="dictGetString" class="md-nav__link">
    dictGetString
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ext_dict_functions_dictGetTOrDefault" title="dictGetTOrDefault" class="md-nav__link">
    dictGetTOrDefault
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dictisin" title="dictIsIn" class="md-nav__link">
    dictIsIn
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dictgethierarchy" title="dictGetHierarchy" class="md-nav__link">
    dictGetHierarchy
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dicthas" title="dictHas" class="md-nav__link">
    dictHas
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functions-for-working-with-yandex-metrica-dictionaries" title="Functions for working with Yandex.Metrica dictionaries" class="md-nav__link">
    Functions for working with Yandex.Metrica dictionaries
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#multiple-geobases" title="Multiple geobases" class="md-nav__link">
    Multiple geobases
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#regiontocity-id-geobase" title="regionToCity(id[, geobase])" class="md-nav__link">
    regionToCity(id[, geobase])
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#regiontoarea-id-91-geobase-93" title="regionToArea(id[, geobase])" class="md-nav__link">
    regionToArea(id[, geobase])
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#regiontodistrict-id-geobase" title="regionToDistrict(id[, geobase])" class="md-nav__link">
    regionToDistrict(id[, geobase])
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#regiontocountry-id-geobase" title="regionToCountry(id[, geobase])" class="md-nav__link">
    regionToCountry(id[, geobase])
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#regiontocontinent-id-geobase" title="regionToContinent(id[, geobase])" class="md-nav__link">
    regionToContinent(id[, geobase])
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#regiontopopulation-id-geobase" title="regionToPopulation(id[, geobase])" class="md-nav__link">
    regionToPopulation(id[, geobase])
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#regionin-lhs-rhs-geobase" title="regionIn(lhs, rhs[, geobase])" class="md-nav__link">
    regionIn(lhs, rhs[, geobase])
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#regionhierarchy-id-91-geobase-93" title="regionHierarchy(id[, geobase])" class="md-nav__link">
    regionHierarchy(id[, geobase])
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#regiontoname-id-91-lang-93" title="regionToName(id[, lang])" class="md-nav__link">
    regionToName(id[, lang])
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functions-for-implementing-the-in-operator" title="Functions for implementing the IN operator" class="md-nav__link">
    Functions for implementing the IN operator
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#in-notin-globalin-globalnotin" title="in, notIn, globalIn, globalNotIn" class="md-nav__link">
    in, notIn, globalIn, globalNotIn
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tuple-x-y-operator-x-y" title="tuple(x, y, ...), operator (x, y, ...)" class="md-nav__link">
    tuple(x, y, ...), operator (x, y, ...)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tupleelement-tuple-n-operator-x-n" title="tupleElement(tuple, n), operator x.N" class="md-nav__link">
    tupleElement(tuple, n), operator x.N
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functions_arrayjoin" title="arrayJoin function" class="md-nav__link">
    arrayJoin function
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functions-for-working-with-geographical-coordinates" title="Functions for working with geographical coordinates" class="md-nav__link">
    Functions for working with geographical coordinates
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#greatcircledistance" title="greatCircleDistance" class="md-nav__link">
    greatCircleDistance
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pointinellipses" title="pointInEllipses" class="md-nav__link">
    pointInEllipses
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pointinpolygon" title="pointInPolygon" class="md-nav__link">
    pointInPolygon
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#functions-for-working-with-nullable-aggregates" title="Functions for working with Nullable aggregates" class="md-nav__link">
    Functions for working with Nullable aggregates
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#isnull" title="isNull" class="md-nav__link">
    isNull
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#isnotnull" title="isNotNull" class="md-nav__link">
    isNotNull
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#coalesce" title="coalesce" class="md-nav__link">
    coalesce
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ifnull" title="ifNull" class="md-nav__link">
    ifNull
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nullif" title="nullIf" class="md-nav__link">
    nullIf
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#assumenotnull" title="assumeNotNull" class="md-nav__link">
    assumeNotNull
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tonullable" title="toNullable" class="md-nav__link">
    toNullable
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#other-functions" title="Other functions" class="md-nav__link">
    Other functions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hostname" title="hostName()" class="md-nav__link">
    hostName()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#visiblewidth-x" title="visibleWidth(x)" class="md-nav__link">
    visibleWidth(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#totypename-x" title="toTypeName(x)" class="md-nav__link">
    toTypeName(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#blocksize" title="blockSize()" class="md-nav__link">
    blockSize()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#materialize-x" title="materialize(x)" class="md-nav__link">
    materialize(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ignore" title="ignore(...)" class="md-nav__link">
    ignore(...)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sleep-seconds" title="sleep(seconds)" class="md-nav__link">
    sleep(seconds)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sleepeachrow-seconds" title="sleepEachRow(seconds)" class="md-nav__link">
    sleepEachRow(seconds)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#currentdatabase" title="currentDatabase()" class="md-nav__link">
    currentDatabase()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#isfinite-x" title="isFinite(x)" class="md-nav__link">
    isFinite(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#isinfinite-x" title="isInfinite(x)" class="md-nav__link">
    isInfinite(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#isnan-x" title="isNaN(x)" class="md-nav__link">
    isNaN(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hascolumnintable-91-hostname-91-username-91-password-93-93-93-database-table-column" title="hasColumnInTable(['hostname'[, 'username'[, 'password']],] 'database', 'table', 'column')" class="md-nav__link">
    hasColumnInTable(['hostname'[, 'username'[, 'password']],] 'database', 'table', 'column')
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bar" title="bar" class="md-nav__link">
    bar
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transform" title="transform" class="md-nav__link">
    transform
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#formatreadablesize-x" title="formatReadableSize(x)" class="md-nav__link">
    formatReadableSize(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#least-a-b" title="least(a, b)" class="md-nav__link">
    least(a, b)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#greatest-a-b" title="greatest(a, b)" class="md-nav__link">
    greatest(a, b)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uptime" title="uptime()" class="md-nav__link">
    uptime()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#version" title="version()" class="md-nav__link">
    version()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#timezone" title="timezone()" class="md-nav__link">
    timezone()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#blocknumber" title="blockNumber" class="md-nav__link">
    blockNumber
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rownumberinblock" title="rowNumberInBlock" class="md-nav__link">
    rowNumberInBlock
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rownumberinallblocks" title="rowNumberInAllBlocks()" class="md-nav__link">
    rowNumberInAllBlocks()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#other_functions-runningdifference" title="runningDifference(x)" class="md-nav__link">
    runningDifference(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#runningdifferencestartingwithfirstvalue" title="runningDifferenceStartingWithFirstValue" class="md-nav__link">
    runningDifferenceStartingWithFirstValue
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#macnumtostring-num" title="MACNumToString(num)" class="md-nav__link">
    MACNumToString(num)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#macstringtonum-s" title="MACStringToNum(s)" class="md-nav__link">
    MACStringToNum(s)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#macstringtooui-s" title="MACStringToOUI(s)" class="md-nav__link">
    MACStringToOUI(s)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getsizeofenumtype" title="getSizeOfEnumType" class="md-nav__link">
    getSizeOfEnumType
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tocolumntypename" title="toColumnTypeName" class="md-nav__link">
    toColumnTypeName
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dumpcolumnstructure" title="dumpColumnStructure" class="md-nav__link">
    dumpColumnStructure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#defaultvalueofargumenttype" title="defaultValueOfArgumentType" class="md-nav__link">
    defaultValueOfArgumentType
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#indexhint" title="indexHint" class="md-nav__link">
    indexHint
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#replicate" title="replicate" class="md-nav__link">
    replicate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#filesystemavailable" title="filesystemAvailable" class="md-nav__link">
    filesystemAvailable
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#filesystemcapacity" title="filesystemCapacity" class="md-nav__link">
    filesystemCapacity
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#finalizeaggregation" title="finalizeAggregation" class="md-nav__link">
    finalizeAggregation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#runningaccumulate" title="runningAccumulate" class="md-nav__link">
    runningAccumulate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#joinget-join-storage-table-name-get-column-join-key" title="joinGet('join_storage_table_name', 'get_column', join_key)" class="md-nav__link">
    joinGet('join_storage_table_name', 'get_column', join_key)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#modelevaluate-model-name" title="modelEvaluate(model_name, ...)" class="md-nav__link">
    modelEvaluate(model_name, ...)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#throwif-x" title="throwIf(x)" class="md-nav__link">
    throwIf(x)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aggregate_functions" title="Aggregate functions" class="md-nav__link">
    Aggregate functions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#null-processing_3" title="NULL processing" class="md-nav__link">
    NULL processing
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#function-reference" title="Function reference" class="md-nav__link">
    Function reference
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#agg_function-count" title="count()" class="md-nav__link">
    count()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agg_function-any" title="any(x)" class="md-nav__link">
    any(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anyheavy-x" title="anyHeavy(x)" class="md-nav__link">
    anyHeavy(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anylast-x" title="anyLast(x)" class="md-nav__link">
    anyLast(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#groupbitand" title="groupBitAnd" class="md-nav__link">
    groupBitAnd
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#groupbitor" title="groupBitOr" class="md-nav__link">
    groupBitOr
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#groupbitxor" title="groupBitXor" class="md-nav__link">
    groupBitXor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#groupbitmap" title="groupBitmap" class="md-nav__link">
    groupBitmap
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agg_function-min" title="min(x)" class="md-nav__link">
    min(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agg_function-max" title="max(x)" class="md-nav__link">
    max(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agg_function-argMin" title="argMin(arg, val)" class="md-nav__link">
    argMin(arg, val)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agg_function-argMax" title="argMax(arg, val)" class="md-nav__link">
    argMax(arg, val)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agg_function-sum" title="sum(x)" class="md-nav__link">
    sum(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sumwithoverflow-x" title="sumWithOverflow(x)" class="md-nav__link">
    sumWithOverflow(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agg_functions-summap" title="sumMap(key, value)" class="md-nav__link">
    sumMap(key, value)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agg_function-avg" title="avg(x)" class="md-nav__link">
    avg(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agg_function-uniq" title="uniq(x)" class="md-nav__link">
    uniq(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uniqcombined-hll-precision-x" title="uniqCombined(HLL_precision)(x)" class="md-nav__link">
    uniqCombined(HLL_precision)(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uniqhll12-x" title="uniqHLL12(x)" class="md-nav__link">
    uniqHLL12(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uniqexact-x" title="uniqExact(x)" class="md-nav__link">
    uniqExact(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#grouparray-x-grouparray-max-size-x" title="groupArray(x), groupArray(max_size)(x)" class="md-nav__link">
    groupArray(x), groupArray(max_size)(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#grouparrayinsertat-x" title="groupArrayInsertAt(x)" class="md-nav__link">
    groupArrayInsertAt(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#groupuniqarray-x-groupuniqarray-max-size-x" title="groupUniqArray(x), groupUniqArray(max_size)(x)" class="md-nav__link">
    groupUniqArray(x), groupUniqArray(max_size)(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quantile-level-x" title="quantile(level)(x)" class="md-nav__link">
    quantile(level)(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quantiledeterministic-level-x-determinator" title="quantileDeterministic(level)(x, determinator)" class="md-nav__link">
    quantileDeterministic(level)(x, determinator)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quantiletiming-level-x" title="quantileTiming(level)(x)" class="md-nav__link">
    quantileTiming(level)(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quantiletimingweighted-level-x-weight" title="quantileTimingWeighted(level)(x, weight)" class="md-nav__link">
    quantileTimingWeighted(level)(x, weight)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quantileexact-level-x" title="quantileExact(level)(x)" class="md-nav__link">
    quantileExact(level)(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quantileexactweighted-level-x-weight" title="quantileExactWeighted(level)(x, weight)" class="md-nav__link">
    quantileExactWeighted(level)(x, weight)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quantiletdigest-level-x" title="quantileTDigest(level)(x)" class="md-nav__link">
    quantileTDigest(level)(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#median-x" title="median(x)" class="md-nav__link">
    median(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#quantiles-level1-level2-x" title="quantiles(level1, level2, ...)(x)" class="md-nav__link">
    quantiles(level1, level2, ...)(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#varsamp-x" title="varSamp(x)" class="md-nav__link">
    varSamp(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#varpop-x" title="varPop(x)" class="md-nav__link">
    varPop(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stddevsamp-x" title="stddevSamp(x)" class="md-nav__link">
    stddevSamp(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stddevpop-x" title="stddevPop(x)" class="md-nav__link">
    stddevPop(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#topk-n-column" title="topK(N)(column)" class="md-nav__link">
    topK(N)(column)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#covarsamp-x-y" title="covarSamp(x, y)" class="md-nav__link">
    covarSamp(x, y)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#covarpop-x-y" title="covarPop(x, y)" class="md-nav__link">
    covarPop(x, y)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#corr-x-y" title="corr(x, y)" class="md-nav__link">
    corr(x, y)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#simplelinearregression" title="simpleLinearRegression" class="md-nav__link">
    simpleLinearRegression
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aggregate_functions_combinators" title="Aggregate function combinators" class="md-nav__link">
    Aggregate function combinators
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#agg-functions-combinator-if" title="-If" class="md-nav__link">
    -If
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#array" title="-Array" class="md-nav__link">
    -Array
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#state" title="-State" class="md-nav__link">
    -State
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#merge_1" title="-Merge" class="md-nav__link">
    -Merge
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mergestate" title="-MergeState." class="md-nav__link">
    -MergeState.
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#foreach" title="-ForEach" class="md-nav__link">
    -ForEach
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aggregate_functions_parametric" title="Parametric aggregate functions" class="md-nav__link">
    Parametric aggregate functions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sequencematch-pattern-time-cond1-cond2" title="sequenceMatch(pattern)(time, cond1, cond2, ...)" class="md-nav__link">
    sequenceMatch(pattern)(time, cond1, cond2, ...)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sequencecount-pattern-time-cond1-cond2" title="sequenceCount(pattern)(time, cond1, cond2, ...)" class="md-nav__link">
    sequenceCount(pattern)(time, cond1, cond2, ...)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#windowfunnel-window-timestamp-cond1-cond2-cond3" title="windowFunnel(window)(timestamp, cond1, cond2, cond3, ...)" class="md-nav__link">
    windowFunnel(window)(timestamp, cond1, cond2, cond3, ...)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#retention-cond1-cond2" title="retention(cond1, cond2, ...)" class="md-nav__link">
    retention(cond1, cond2, ...)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uniqupto-n-x" title="uniqUpTo(N)(x)" class="md-nav__link">
    uniqUpTo(N)(x)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#summapfiltered-keys-to-keep-keys-values" title="sumMapFiltered(keys_to_keep)(keys, values)" class="md-nav__link">
    sumMapFiltered(keys_to_keep)(keys, values)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#table-functions" title="Table functions" class="md-nav__link">
    Table functions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#file" title="file" class="md-nav__link">
    file
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#merge_2" title="merge" class="md-nav__link">
    merge
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#numbers" title="numbers" class="md-nav__link">
    numbers
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#remote-remotesecure" title="remote, remoteSecure" class="md-nav__link">
    remote, remoteSecure
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#url" title="url" class="md-nav__link">
    url
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#jdbc" title="jdbc" class="md-nav__link">
    jdbc
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dictionaries" title="Dictionaries" class="md-nav__link">
    Dictionaries
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dicts-external_dicts" title="External Dictionaries" class="md-nav__link">
    External Dictionaries
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dicts-external_dicts_dict" title="Configuring an External Dictionary" class="md-nav__link">
    Configuring an External Dictionary
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dicts-external_dicts_dict_layout" title="Storing Dictionaries in Memory" class="md-nav__link">
    Storing Dictionaries in Memory
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ways-to-store-dictionaries-in-memory" title="Ways to Store Dictionaries in Memory" class="md-nav__link">
    Ways to Store Dictionaries in Memory
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#flat" title="flat" class="md-nav__link">
    flat
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dicts-external_dicts_dict_layout-hashed" title="hashed" class="md-nav__link">
    hashed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#complex-key-hashed" title="complex_key_hashed" class="md-nav__link">
    complex_key_hashed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#range-hashed" title="range_hashed" class="md-nav__link">
    range_hashed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cache" title="cache" class="md-nav__link">
    cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#complex-key-cache" title="complex_key_cache" class="md-nav__link">
    complex_key_cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ip-trie" title="ip_trie" class="md-nav__link">
    ip_trie
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dictionary-updates" title="Dictionary Updates" class="md-nav__link">
    Dictionary Updates
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dicts-external_dicts_dict_sources" title="Sources of External Dictionaries" class="md-nav__link">
    Sources of External Dictionaries
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dicts-external_dicts_dict_sources-local_file" title="Local File" class="md-nav__link">
    Local File
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dicts-external_dicts_dict_sources-executable" title="Executable File" class="md-nav__link">
    Executable File
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dicts-external_dicts_dict_sources-http" title="HTTP(s)" class="md-nav__link">
    HTTP(s)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dicts-external_dicts_dict_sources-odbc" title="ODBC" class="md-nav__link">
    ODBC
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#known-vulnerability-of-the-odbc-dictionary-functionality" title="Known vulnerability of the ODBC dictionary functionality" class="md-nav__link">
    Known vulnerability of the ODBC dictionary functionality
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-of-connecting-postgresql" title="Example of Connecting PostgreSQL" class="md-nav__link">
    Example of Connecting PostgreSQL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example-of-connecting-ms-sql-server" title="Example of Connecting MS SQL Server" class="md-nav__link">
    Example of Connecting MS SQL Server
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dbms" title="DBMS" class="md-nav__link">
    DBMS
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dicts-external_dicts_dict_sources-mysql" title="MySQL" class="md-nav__link">
    MySQL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dicts-external_dicts_dict_sources-clickhouse" title="ClickHouse" class="md-nav__link">
    ClickHouse
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dicts-external_dicts_dict_sources-mongodb" title="MongoDB" class="md-nav__link">
    MongoDB
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dictionary-key-and-fields" title="Dictionary Key and Fields" class="md-nav__link">
    Dictionary Key and Fields
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#key" title="Key" class="md-nav__link">
    Key
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#numeric-key" title="Numeric Key" class="md-nav__link">
    Numeric Key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#composite-key" title="Composite Key" class="md-nav__link">
    Composite Key
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#attributes" title="Attributes" class="md-nav__link">
    Attributes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#internal_dicts" title="Internal dictionaries" class="md-nav__link">
    Internal dictionaries
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#operators" title="Operators" class="md-nav__link">
    Operators
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#access-operators" title="Access Operators" class="md-nav__link">
    Access Operators
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#numeric-negation-operator" title="Numeric Negation Operator" class="md-nav__link">
    Numeric Negation Operator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiplication-and-division-operators" title="Multiplication and Division Operators" class="md-nav__link">
    Multiplication and Division Operators
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addition-and-subtraction-operators" title="Addition and Subtraction Operators" class="md-nav__link">
    Addition and Subtraction Operators
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comparison-operators" title="Comparison Operators" class="md-nav__link">
    Comparison Operators
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#operators-for-working-with-data-sets" title="Operators for Working With Data Sets" class="md-nav__link">
    Operators for Working With Data Sets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#operator-for-working-with-dates-and-times" title="Operator for Working With Dates and Times" class="md-nav__link">
    Operator for Working With Dates and Times
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logical-negation-operator" title="Logical Negation Operator" class="md-nav__link">
    Logical Negation Operator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logical-and-operator" title="Logical AND Operator" class="md-nav__link">
    Logical AND Operator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#logical-or-operator" title="Logical OR Operator" class="md-nav__link">
    Logical OR Operator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conditional-operator" title="Conditional Operator" class="md-nav__link">
    Conditional Operator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#operator_case" title="Conditional Expression" class="md-nav__link">
    Conditional Expression
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#concatenation-operator" title="Concatenation Operator" class="md-nav__link">
    Concatenation Operator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lambda-creation-operator" title="Lambda Creation Operator" class="md-nav__link">
    Lambda Creation Operator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#array-creation-operator" title="Array Creation Operator" class="md-nav__link">
    Array Creation Operator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tuple-creation-operator" title="Tuple Creation Operator" class="md-nav__link">
    Tuple Creation Operator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#associativity" title="Associativity" class="md-nav__link">
    Associativity
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#checking-for-null" title="Checking for NULL" class="md-nav__link">
    Checking for NULL
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#operator-is-null" title="IS NULL" class="md-nav__link">
    IS NULL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#is-not-null" title="IS NOT NULL" class="md-nav__link">
    IS NOT NULL
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#syntax" title="Syntax" class="md-nav__link">
    Syntax
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#spaces" title="Spaces" class="md-nav__link">
    Spaces
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comments" title="Comments" class="md-nav__link">
    Comments
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#syntax-keywords" title="Keywords" class="md-nav__link">
    Keywords
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#syntax-identifiers" title="Identifiers" class="md-nav__link">
    Identifiers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#literals" title="Literals" class="md-nav__link">
    Literals
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#numeric" title="Numeric" class="md-nav__link">
    Numeric
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#string_1" title="String" class="md-nav__link">
    String
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compound" title="Compound" class="md-nav__link">
    Compound
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#null-literal" title="NULL" class="md-nav__link">
    NULL
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#functions_1" title="Functions" class="md-nav__link">
    Functions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#operators_1" title="Operators" class="md-nav__link">
    Operators
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-types-and-database-table-engines" title="Data Types and Database Table Engines" class="md-nav__link">
    Data Types and Database Table Engines
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#syntax-expression_aliases" title="Expression Aliases" class="md-nav__link">
    Expression Aliases
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#notes-on-usage" title="Notes on Usage" class="md-nav__link">
    Notes on Usage
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#asterisk" title="Asterisk" class="md-nav__link">
    Asterisk
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#syntax-expressions" title="Expressions" class="md-nav__link">
    Expressions
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#settings" title="Settings" class="md-nav__link">
    Settings
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#requirements" title="Requirements" class="md-nav__link">
    Requirements
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cpu_1" title="CPU" class="md-nav__link">
    CPU
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ram" title="RAM" class="md-nav__link">
    RAM
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#swap-file" title="Swap File" class="md-nav__link">
    Swap File
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storage-subsystem" title="Storage Subsystem" class="md-nav__link">
    Storage Subsystem
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network" title="Network" class="md-nav__link">
    Network
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#software" title="Software" class="md-nav__link">
    Software
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#monitoring" title="Monitoring" class="md-nav__link">
    Monitoring
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#resource-utilization" title="Resource Utilization" class="md-nav__link">
    Resource Utilization
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-server-metrics" title="ClickHouse Server Metrics" class="md-nav__link">
    ClickHouse Server Metrics
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" title="Troubleshooting" class="md-nav__link">
    Troubleshooting
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#troubleshooting-installation-errors" title="Installation" class="md-nav__link">
    Installation
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#you-cannot-get-deb-packages-from-clickhouse-repository-with-apt-get" title="You Cannot Get Deb Packages from ClickHouse Repository With apt-get" class="md-nav__link">
    You Cannot Get Deb Packages from ClickHouse Repository With apt-get
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#troubleshooting-accepts-no-connections" title="Connecting to the Server" class="md-nav__link">
    Connecting to the Server
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#server-is-not-running" title="Server Is Not Running" class="md-nav__link">
    Server Is Not Running
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration-parameters" title="Configuration Parameters" class="md-nav__link">
    Configuration Parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#troubleshooting-does-not-process-queries" title="Query Processing" class="md-nav__link">
    Query Processing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#troubleshooting-too-slow" title="Efficiency of Query Processing" class="md-nav__link">
    Efficiency of Query Processing
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usage-recommendations_1" title="Usage Recommendations" class="md-nav__link">
    Usage Recommendations
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cpu-scaling-governor" title="CPU Scaling Governor" class="md-nav__link">
    CPU Scaling Governor
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cpu-limitations" title="CPU Limitations" class="md-nav__link">
    CPU Limitations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ram_1" title="RAM" class="md-nav__link">
    RAM
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#huge-pages" title="Huge Pages" class="md-nav__link">
    Huge Pages
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#storage-subsystem_1" title="Storage Subsystem" class="md-nav__link">
    Storage Subsystem
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#raid" title="RAID" class="md-nav__link">
    RAID
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#file-system" title="File System" class="md-nav__link">
    File System
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#linux-kernel" title="Linux Kernel" class="md-nav__link">
    Linux Kernel
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#network_1" title="Network" class="md-nav__link">
    Network
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zookeeper" title="ZooKeeper" class="md-nav__link">
    ZooKeeper
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clickhouse-update" title="ClickHouse Update" class="md-nav__link">
    ClickHouse Update
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#access-rights" title="Access Rights" class="md-nav__link">
    Access Rights
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-backup" title="Data Backup" class="md-nav__link">
    Data Backup
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#duplicating-source-data-somewhere-else" title="Duplicating Source Data Somewhere Else" class="md-nav__link">
    Duplicating Source Data Somewhere Else
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#filesystem-snapshots" title="Filesystem Snapshots" class="md-nav__link">
    Filesystem Snapshots
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-copier" title="clickhouse-copier" class="md-nav__link">
    clickhouse-copier
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manipulations-with-parts" title="Manipulations with Parts" class="md-nav__link">
    Manipulations with Parts
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration_files" title="Configuration Files" class="md-nav__link">
    Configuration Files
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#quotas" title="Quotas" class="md-nav__link">
    Quotas
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#system-tables" title="System tables" class="md-nav__link">
    System tables
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#system_tables-asynchronous_metrics" title="system.asynchronous_metrics" class="md-nav__link">
    system.asynchronous_metrics
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system-clusters" title="system.clusters" class="md-nav__link">
    system.clusters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system-columns" title="system.columns" class="md-nav__link">
    system.columns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system-databases" title="system.databases" class="md-nav__link">
    system.databases
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system-dictionaries" title="system.dictionaries" class="md-nav__link">
    system.dictionaries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system_tables-events" title="system.events" class="md-nav__link">
    system.events
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system-functions" title="system.functions" class="md-nav__link">
    system.functions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system-graphite-retentions" title="system.graphite_retentions" class="md-nav__link">
    system.graphite_retentions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system-merges" title="system.merges" class="md-nav__link">
    system.merges
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system_tables-metrics" title="system.metrics" class="md-nav__link">
    system.metrics
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system-numbers" title="system.numbers" class="md-nav__link">
    system.numbers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system-numbers-mt" title="system.numbers_mt" class="md-nav__link">
    system.numbers_mt
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system-one" title="system.one" class="md-nav__link">
    system.one
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system_tables-parts" title="system.parts" class="md-nav__link">
    system.parts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system_tables-part-log" title="system.part_log" class="md-nav__link">
    system.part_log
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system-processes" title="system.processes" class="md-nav__link">
    system.processes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system_tables-query-log" title="system.query_log" class="md-nav__link">
    system.query_log
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system_tables-replicas" title="system.replicas" class="md-nav__link">
    system.replicas
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system-settings" title="system.settings" class="md-nav__link">
    system.settings
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system-tables_1" title="system.tables" class="md-nav__link">
    system.tables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system-zookeeper" title="system.zookeeper" class="md-nav__link">
    system.zookeeper
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#system_tables-mutations" title="system.mutations" class="md-nav__link">
    system.mutations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#server_settings" title="Server configuration parameters" class="md-nav__link">
    Server configuration parameters
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#server-settings" title="Server settings" class="md-nav__link">
    Server settings
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#builtin-dictionaries-reload-interval" title="builtin_dictionaries_reload_interval" class="md-nav__link">
    builtin_dictionaries_reload_interval
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compression" title="compression" class="md-nav__link">
    compression
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#default-database" title="default_database" class="md-nav__link">
    default_database
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#default-profile" title="default_profile" class="md-nav__link">
    default_profile
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dictionaries-config" title="dictionaries_config" class="md-nav__link">
    dictionaries_config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dictionaries-lazy-load" title="dictionaries_lazy_load" class="md-nav__link">
    dictionaries_lazy_load
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#server_settings-format_schema_path" title="format_schema_path" class="md-nav__link">
    format_schema_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#server_settings-graphite" title="graphite" class="md-nav__link">
    graphite
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#server_settings-graphite_rollup" title="graphite_rollup" class="md-nav__link">
    graphite_rollup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http-port-https-port" title="http_port/https_port" class="md-nav__link">
    http_port/https_port
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#http-server-default-response" title="http_server_default_response" class="md-nav__link">
    http_server_default_response
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#server_settings-include_from" title="include_from" class="md-nav__link">
    include_from
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interserver-http-port" title="interserver_http_port" class="md-nav__link">
    interserver_http_port
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interserver-http-host" title="interserver_http_host" class="md-nav__link">
    interserver_http_host
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#keep-alive-timeout" title="keep_alive_timeout" class="md-nav__link">
    keep_alive_timeout
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#server_settings-listen_host" title="listen_host" class="md-nav__link">
    listen_host
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#server_settings-logger" title="logger" class="md-nav__link">
    logger
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#macros" title="macros" class="md-nav__link">
    macros
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mark-cache-size" title="mark_cache_size" class="md-nav__link">
    mark_cache_size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max-concurrent-queries" title="max_concurrent_queries" class="md-nav__link">
    max_concurrent_queries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max-connections" title="max_connections" class="md-nav__link">
    max_connections
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max-open-files" title="max_open_files" class="md-nav__link">
    max_open_files
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max-table-size-to-drop" title="max_table_size_to_drop" class="md-nav__link">
    max_table_size_to_drop
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#server_settings-merge_tree" title="merge_tree" class="md-nav__link">
    merge_tree
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#server_settings-openssl" title="openSSL" class="md-nav__link">
    openSSL
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#server_settings-part-log" title="part_log" class="md-nav__link">
    part_log
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#path_1" title="path" class="md-nav__link">
    path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#server_settings-query-log" title="query_log" class="md-nav__link">
    query_log
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#remote-servers" title="remote_servers" class="md-nav__link">
    remote_servers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#timezone_1" title="timezone" class="md-nav__link">
    timezone
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#server_settings-tcp_port" title="tcp_port" class="md-nav__link">
    tcp_port
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#server_settings-tcp_port_secure" title="tcp_port_secure" class="md-nav__link">
    tcp_port_secure
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tmp-path" title="tmp_path" class="md-nav__link">
    tmp_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#server-settings-uncompressed_cache_size" title="uncompressed_cache_size" class="md-nav__link">
    uncompressed_cache_size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#server_settings-user_files_path" title="user_files_path" class="md-nav__link">
    user_files_path
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#users-config" title="users_config" class="md-nav__link">
    users_config
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#zookeeper_1" title="zookeeper" class="md-nav__link">
    zookeeper
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#server-settings-use_minimalistic_part_header_in_zookeeper" title="use_minimalistic_part_header_in_zookeeper" class="md-nav__link">
    use_minimalistic_part_header_in_zookeeper
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#settings" title="Settings" class="md-nav__link">
    Settings
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#permissions_for_queries" title="Permissions for queries" class="md-nav__link">
    Permissions for queries
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#settings_readonly" title="readonly" class="md-nav__link">
    readonly
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settings_allow_ddl" title="allow_ddl" class="md-nav__link">
    allow_ddl
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#restrictions-on-query-complexity" title="Restrictions on query complexity" class="md-nav__link">
    Restrictions on query complexity
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#settings_max_memory_usage" title="max_memory_usage" class="md-nav__link">
    max_memory_usage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max-memory-usage-for-user" title="max_memory_usage_for_user" class="md-nav__link">
    max_memory_usage_for_user
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max-memory-usage-for-all-queries" title="max_memory_usage_for_all_queries" class="md-nav__link">
    max_memory_usage_for_all_queries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max-rows-to-read" title="max_rows_to_read" class="md-nav__link">
    max_rows_to_read
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max-bytes-to-read" title="max_bytes_to_read" class="md-nav__link">
    max_bytes_to_read
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#read-overflow-mode" title="read_overflow_mode" class="md-nav__link">
    read_overflow_mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max-rows-to-group-by" title="max_rows_to_group_by" class="md-nav__link">
    max_rows_to_group_by
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#group-by-overflow-mode" title="group_by_overflow_mode" class="md-nav__link">
    group_by_overflow_mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max-rows-to-sort" title="max_rows_to_sort" class="md-nav__link">
    max_rows_to_sort
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max-bytes-to-sort" title="max_bytes_to_sort" class="md-nav__link">
    max_bytes_to_sort
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sort-overflow-mode" title="sort_overflow_mode" class="md-nav__link">
    sort_overflow_mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max-result-rows" title="max_result_rows" class="md-nav__link">
    max_result_rows
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max-result-bytes" title="max_result_bytes" class="md-nav__link">
    max_result_bytes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#result-overflow-mode" title="result_overflow_mode" class="md-nav__link">
    result_overflow_mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max-execution-time" title="max_execution_time" class="md-nav__link">
    max_execution_time
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#timeout-overflow-mode" title="timeout_overflow_mode" class="md-nav__link">
    timeout_overflow_mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#min-execution-speed" title="min_execution_speed" class="md-nav__link">
    min_execution_speed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#min-execution-speed-bytes" title="min_execution_speed_bytes" class="md-nav__link">
    min_execution_speed_bytes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max-execution-speed" title="max_execution_speed" class="md-nav__link">
    max_execution_speed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max-execution-speed-bytes" title="max_execution_speed_bytes" class="md-nav__link">
    max_execution_speed_bytes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#timeout-before-checking-execution-speed" title="timeout_before_checking_execution_speed" class="md-nav__link">
    timeout_before_checking_execution_speed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max-columns-to-read" title="max_columns_to_read" class="md-nav__link">
    max_columns_to_read
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max-temporary-columns" title="max_temporary_columns" class="md-nav__link">
    max_temporary_columns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max-temporary-non-const-columns" title="max_temporary_non_const_columns" class="md-nav__link">
    max_temporary_non_const_columns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max-subquery-depth" title="max_subquery_depth" class="md-nav__link">
    max_subquery_depth
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max-pipeline-depth" title="max_pipeline_depth" class="md-nav__link">
    max_pipeline_depth
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max-ast-depth" title="max_ast_depth" class="md-nav__link">
    max_ast_depth
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max-ast-elements" title="max_ast_elements" class="md-nav__link">
    max_ast_elements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max-rows-in-set" title="max_rows_in_set" class="md-nav__link">
    max_rows_in_set
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max-bytes-in-set" title="max_bytes_in_set" class="md-nav__link">
    max_bytes_in_set
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-overflow-mode" title="set_overflow_mode" class="md-nav__link">
    set_overflow_mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max-rows-in-distinct" title="max_rows_in_distinct" class="md-nav__link">
    max_rows_in_distinct
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max-bytes-in-distinct" title="max_bytes_in_distinct" class="md-nav__link">
    max_bytes_in_distinct
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#distinct-overflow-mode" title="distinct_overflow_mode" class="md-nav__link">
    distinct_overflow_mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max-rows-to-transfer" title="max_rows_to_transfer" class="md-nav__link">
    max_rows_to_transfer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max-bytes-to-transfer" title="max_bytes_to_transfer" class="md-nav__link">
    max_bytes_to_transfer
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transfer-overflow-mode" title="transfer_overflow_mode" class="md-nav__link">
    transfer_overflow_mode
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#settings_1" title="Settings" class="md-nav__link">
    Settings
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#distributed-product-mode" title="distributed_product_mode" class="md-nav__link">
    distributed_product_mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enable-optimize-predicate-expression" title="enable_optimize_predicate_expression" class="md-nav__link">
    enable_optimize_predicate_expression
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settings-fallback_to_stale_replicas_for_distributed_queries" title="fallback_to_stale_replicas_for_distributed_queries" class="md-nav__link">
    fallback_to_stale_replicas_for_distributed_queries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settings-force_index_by_date" title="force_index_by_date" class="md-nav__link">
    force_index_by_date
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#force-primary-key" title="force_primary_key" class="md-nav__link">
    force_primary_key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fsync-metadata" title="fsync_metadata" class="md-nav__link">
    fsync_metadata
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settings-enable_http_compression" title="enable_http_compression" class="md-nav__link">
    enable_http_compression
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settings-http_zlib_compression_level" title="http_zlib_compression_level" class="md-nav__link">
    http_zlib_compression_level
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settings-http_native_compression_disable_checksumming_on_decompress" title="http_native_compression_disable_checksumming_on_decompress" class="md-nav__link">
    http_native_compression_disable_checksumming_on_decompress
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#input-format-allow-errors-num" title="input_format_allow_errors_num" class="md-nav__link">
    input_format_allow_errors_num
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#input-format-allow-errors-ratio" title="input_format_allow_errors_ratio" class="md-nav__link">
    input_format_allow_errors_ratio
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settings-input_format_values_interpret_expressions" title="input_format_values_interpret_expressions" class="md-nav__link">
    input_format_values_interpret_expressions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#session_settings-input_format_defaults_for_omitted_fields" title="input_format_defaults_for_omitted_fields" class="md-nav__link">
    input_format_defaults_for_omitted_fields
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settings-join_default_strictness" title="join_default_strictness" class="md-nav__link">
    join_default_strictness
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settings-join_use_nulls" title="join_use_nulls" class="md-nav__link">
    join_use_nulls
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max-block-size" title="max_block_size" class="md-nav__link">
    max_block_size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#preferred-block-size-bytes" title="preferred_block_size_bytes" class="md-nav__link">
    preferred_block_size_bytes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-merge_tree_uniform_read_distribution" title="merge_tree_uniform_read_distribution" class="md-nav__link">
    merge_tree_uniform_read_distribution
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-merge_tree_min_rows_for_concurrent_read" title="merge_tree_min_rows_for_concurrent_read" class="md-nav__link">
    merge_tree_min_rows_for_concurrent_read
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-merge_tree_min_rows_for_seek" title="merge_tree_min_rows_for_seek" class="md-nav__link">
    merge_tree_min_rows_for_seek
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-merge_tree_coarse_index_granularity" title="merge_tree_coarse_index_granularity" class="md-nav__link">
    merge_tree_coarse_index_granularity
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-merge_tree_max_rows_to_use_cache" title="merge_tree_max_rows_to_use_cache" class="md-nav__link">
    merge_tree_max_rows_to_use_cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settings-min_bytes_to_use_direct_io" title="min_bytes_to_use_direct_io" class="md-nav__link">
    min_bytes_to_use_direct_io
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settings-log-queries" title="log_queries" class="md-nav__link">
    log_queries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settings-max_insert_block_size" title="max_insert_block_size" class="md-nav__link">
    max_insert_block_size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settings-max_replica_delay_for_distributed_queries" title="max_replica_delay_for_distributed_queries" class="md-nav__link">
    max_replica_delay_for_distributed_queries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settings-max_threads" title="max_threads" class="md-nav__link">
    max_threads
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max-compress-block-size" title="max_compress_block_size" class="md-nav__link">
    max_compress_block_size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#min-compress-block-size" title="min_compress_block_size" class="md-nav__link">
    min_compress_block_size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settings-max_query_size" title="max_query_size" class="md-nav__link">
    max_query_size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interactive-delay" title="interactive_delay" class="md-nav__link">
    interactive_delay
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#connect-timeout-receive-timeout-send-timeout" title="connect_timeout, receive_timeout, send_timeout" class="md-nav__link">
    connect_timeout, receive_timeout, send_timeout
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#poll-interval" title="poll_interval" class="md-nav__link">
    poll_interval
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max-distributed-connections" title="max_distributed_connections" class="md-nav__link">
    max_distributed_connections
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#distributed-connections-pool-size" title="distributed_connections_pool_size" class="md-nav__link">
    distributed_connections_pool_size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#connect-timeout-with-failover-ms" title="connect_timeout_with_failover_ms" class="md-nav__link">
    connect_timeout_with_failover_ms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#connections-with-failover-max-tries" title="connections_with_failover_max_tries" class="md-nav__link">
    connections_with_failover_max_tries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extremes" title="extremes" class="md-nav__link">
    extremes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-use_uncompressed_cache" title="use_uncompressed_cache" class="md-nav__link">
    use_uncompressed_cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#replace-running-query" title="replace_running_query" class="md-nav__link">
    replace_running_query
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#schema" title="schema" class="md-nav__link">
    schema
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stream-flush-interval-ms" title="stream_flush_interval_ms" class="md-nav__link">
    stream_flush_interval_ms
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settings-load_balancing" title="load_balancing" class="md-nav__link">
    load_balancing
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#load_balancing-random" title="Random (by default)" class="md-nav__link">
    Random (by default)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#load_balancing-nearest_hostname" title="Nearest Hostname" class="md-nav__link">
    Nearest Hostname
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#load_balancing-in_order" title="In Order" class="md-nav__link">
    In Order
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#load_balancing-first_or_random" title="First or Random" class="md-nav__link">
    First or Random
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settings-prefer_localhost_replica" title="prefer_localhost_replica" class="md-nav__link">
    prefer_localhost_replica
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#totals-mode" title="totals_mode" class="md-nav__link">
    totals_mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#totals-auto-threshold" title="totals_auto_threshold" class="md-nav__link">
    totals_auto_threshold
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#max-parallel-replicas" title="max_parallel_replicas" class="md-nav__link">
    max_parallel_replicas
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compile" title="compile" class="md-nav__link">
    compile
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#min-count-to-compile" title="min_count_to_compile" class="md-nav__link">
    min_count_to_compile
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#input-format-skip-unknown-fields" title="input_format_skip_unknown_fields" class="md-nav__link">
    input_format_skip_unknown_fields
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#session_settings-output_format_json_quote_64bit_integers" title="output_format_json_quote_64bit_integers" class="md-nav__link">
    output_format_json_quote_64bit_integers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settings-format_csv_delimiter" title="format_csv_delimiter" class="md-nav__link">
    format_csv_delimiter
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settings-insert_quorum" title="insert_quorum" class="md-nav__link">
    insert_quorum
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settings-insert_quorum_timeout" title="insert_quorum_timeout" class="md-nav__link">
    insert_quorum_timeout
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settings-select_sequential_consistency" title="select_sequential_consistency" class="md-nav__link">
    select_sequential_consistency
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#settings-allow_experimental_cross_to_join_conversion" title="allow_experimental_cross_to_join_conversion" class="md-nav__link">
    allow_experimental_cross_to_join_conversion
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#settings-profiles" title="Settings profiles" class="md-nav__link">
    Settings profiles
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clickhouse-utility" title="ClickHouse Utility" class="md-nav__link">
    ClickHouse Utility
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clickhouse-copier_1" title="clickhouse-copier" class="md-nav__link">
    clickhouse-copier
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#running-clickhouse-copier" title="Running clickhouse-copier" class="md-nav__link">
    Running clickhouse-copier
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#format-of-zookeeper-xml" title="Format of zookeeper.xml" class="md-nav__link">
    Format of zookeeper.xml
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuration-of-copying-tasks" title="Configuration of copying tasks" class="md-nav__link">
    Configuration of copying tasks
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clickhouse-local" title="clickhouse-local" class="md-nav__link">
    clickhouse-local
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#usage" title="Usage" class="md-nav__link">
    Usage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples_1" title="Examples" class="md-nav__link">
    Examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#general-questions" title="General Questions" class="md-nav__link">
    General Questions
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#why-not-use-something-like-mapreduce" title="Why Not Use Something Like MapReduce?" class="md-nav__link">
    Why Not Use Something Like MapReduce?
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clickhouse-development" title="ClickHouse Development" class="md-nav__link">
    ClickHouse Development
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#overview-of-clickhouse-architecture" title="Overview of ClickHouse Architecture" class="md-nav__link">
    Overview of ClickHouse Architecture
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#columns" title="Columns" class="md-nav__link">
    Columns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#field" title="Field" class="md-nav__link">
    Field
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leaky-abstractions" title="Leaky Abstractions" class="md-nav__link">
    Leaky Abstractions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-types" title="Data Types" class="md-nav__link">
    Data Types
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#block" title="Block" class="md-nav__link">
    Block
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#block-streams" title="Block Streams" class="md-nav__link">
    Block Streams
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#formats_1" title="Formats" class="md-nav__link">
    Formats
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#i-o" title="I/O" class="md-nav__link">
    I/O
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tables" title="Tables" class="md-nav__link">
    Tables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parsers" title="Parsers" class="md-nav__link">
    Parsers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interpreters" title="Interpreters" class="md-nav__link">
    Interpreters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#functions_2" title="Functions" class="md-nav__link">
    Functions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aggregate-functions" title="Aggregate Functions" class="md-nav__link">
    Aggregate Functions
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#server" title="Server" class="md-nav__link">
    Server
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#distributed-query-execution" title="Distributed Query Execution" class="md-nav__link">
    Distributed Query Execution
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#merge-tree" title="Merge Tree" class="md-nav__link">
    Merge Tree
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#replication" title="Replication" class="md-nav__link">
    Replication
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-build-clickhouse-release-package" title="How to Build ClickHouse Release Package" class="md-nav__link">
    How to Build ClickHouse Release Package
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install-git-and-pbuilder" title="Install Git and Pbuilder" class="md-nav__link">
    Install Git and Pbuilder
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#checkout-clickhouse-sources" title="Checkout ClickHouse Sources" class="md-nav__link">
    Checkout ClickHouse Sources
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-release-script" title="Run Release Script" class="md-nav__link">
    Run Release Script
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-build-clickhouse-for-development" title="How to Build ClickHouse for Development" class="md-nav__link">
    How to Build ClickHouse for Development
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install-git-and-cmake" title="Install Git and CMake" class="md-nav__link">
    Install Git and CMake
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-gcc-7" title="Install GCC 7" class="md-nav__link">
    Install GCC 7
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install-from-a-ppa-package" title="Install from a PPA Package" class="md-nav__link">
    Install from a PPA Package
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-from-sources" title="Install from Sources" class="md-nav__link">
    Install from Sources
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-gcc-7-for-builds" title="Use GCC 7 for Builds" class="md-nav__link">
    Use GCC 7 for Builds
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-required-libraries-from-packages" title="Install Required Libraries from Packages" class="md-nav__link">
    Install Required Libraries from Packages
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#checkout-clickhouse-sources_1" title="Checkout ClickHouse Sources" class="md-nav__link">
    Checkout ClickHouse Sources
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-clickhouse" title="Build ClickHouse" class="md-nav__link">
    Build ClickHouse
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-build-clickhouse-on-mac-os-x" title="How to Build ClickHouse on Mac OS X" class="md-nav__link">
    How to Build ClickHouse on Mac OS X
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#install-homebrew" title="Install Homebrew" class="md-nav__link">
    Install Homebrew
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-required-compilers-tools-and-libraries" title="Install Required Compilers, Tools, and Libraries" class="md-nav__link">
    Install Required Compilers, Tools, and Libraries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#checkout-clickhouse-sources_2" title="Checkout ClickHouse Sources" class="md-nav__link">
    Checkout ClickHouse Sources
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-clickhouse_1" title="Build ClickHouse" class="md-nav__link">
    Build ClickHouse
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#caveats" title="Caveats" class="md-nav__link">
    Caveats
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-write-c-code" title="How to Write C++ Code" class="md-nav__link">
    How to Write C++ Code
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#general-recommendations" title="General Recommendations" class="md-nav__link">
    General Recommendations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#formatting" title="Formatting" class="md-nav__link">
    Formatting
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#comments_1" title="Comments" class="md-nav__link">
    Comments
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#names" title="Names" class="md-nav__link">
    Names
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#how-to-write-code" title="How to Write Code" class="md-nav__link">
    How to Write Code
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unused-features-of-c" title="Unused Features of C++" class="md-nav__link">
    Unused Features of C++
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#platform" title="Platform" class="md-nav__link">
    Platform
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tools" title="Tools" class="md-nav__link">
    Tools
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#libraries" title="Libraries" class="md-nav__link">
    Libraries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#general-recommendations_1" title="General Recommendations" class="md-nav__link">
    General Recommendations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#additional-recommendations" title="Additional Recommendations" class="md-nav__link">
    Additional Recommendations
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#clickhouse-testing" title="ClickHouse Testing" class="md-nav__link">
    ClickHouse Testing
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#functional-tests" title="Functional Tests" class="md-nav__link">
    Functional Tests
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#known-bugs" title="Known bugs" class="md-nav__link">
    Known bugs
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integration-tests" title="Integration Tests" class="md-nav__link">
    Integration Tests
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unit-tests" title="Unit Tests" class="md-nav__link">
    Unit Tests
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#performance-tests" title="Performance Tests" class="md-nav__link">
    Performance Tests
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-tools-and-scripts" title="Test Tools And Scripts" class="md-nav__link">
    Test Tools And Scripts
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#miscellanous-tests" title="Miscellanous Tests" class="md-nav__link">
    Miscellanous Tests
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manual-testing" title="Manual Testing" class="md-nav__link">
    Manual Testing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing-environment" title="Testing Environment" class="md-nav__link">
    Testing Environment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#load-testing" title="Load Testing" class="md-nav__link">
    Load Testing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#build-tests" title="Build Tests" class="md-nav__link">
    Build Tests
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing-for-protocol-compatibility" title="Testing For Protocol Compatibility" class="md-nav__link">
    Testing For Protocol Compatibility
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#help-from-the-compiler" title="Help From The Compiler" class="md-nav__link">
    Help From The Compiler
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sanitizers" title="Sanitizers" class="md-nav__link">
    Sanitizers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fuzzing" title="Fuzzing" class="md-nav__link">
    Fuzzing
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#security-audit" title="Security Audit" class="md-nav__link">
    Security Audit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#static-analyzers" title="Static Analyzers" class="md-nav__link">
    Static Analyzers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hardening" title="Hardening" class="md-nav__link">
    Hardening
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#code-style" title="Code Style" class="md-nav__link">
    Code Style
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metrica-b2b-tests" title="Metrica B2B Tests" class="md-nav__link">
    Metrica B2B Tests
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-coverage" title="Test Coverage" class="md-nav__link">
    Test Coverage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#test-automation" title="Test Automation" class="md-nav__link">
    Test Automation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#third-party-libraries-used" title="Third-Party Libraries Used" class="md-nav__link">
    Third-Party Libraries Used
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#roadmap" title="Roadmap" class="md-nav__link">
    Roadmap
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#q2-2019" title="Q2 2019" class="md-nav__link">
    Q2 2019
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#q3-2019" title="Q3 2019" class="md-nav__link">
    Q3 2019
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-19-5-3-8-2019-04-18" title="ClickHouse release 19.5.3.8, 2019-04-18" class="md-nav__link">
    ClickHouse release 19.5.3.8, 2019-04-18
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ispravleniia-oshibok" title="Исправления ошибок" class="md-nav__link">
    Исправления ошибок
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-19-5-2-6-2019-04-15" title="ClickHouse release 19.5.2.6, 2019-04-15" class="md-nav__link">
    ClickHouse release 19.5.2.6, 2019-04-15
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#novye-vozmozhnosti" title="Новые возможности" class="md-nav__link">
    Новые возможности
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uluchsheniia" title="Улучшения" class="md-nav__link">
    Улучшения
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ispravleniia-oshibok_1" title="Исправления ошибок" class="md-nav__link">
    Исправления ошибок
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#obratno-nesovmestimye-izmeneniia" title="Обратно несовместимые изменения" class="md-nav__link">
    Обратно несовместимые изменения
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uluchshenie-proizvoditelnosti" title="Улучшение производительности" class="md-nav__link">
    Улучшение производительности
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uluchsheniia-sborki-testirovaniia-paketirovaniia" title="Улучшения сборки/тестирования/пакетирования" class="md-nav__link">
    Улучшения сборки/тестирования/пакетирования
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-19-4-4-33-2019-04-17" title="ClickHouse release 19.4.4.33, 2019-04-17" class="md-nav__link">
    ClickHouse release 19.4.4.33, 2019-04-17
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ispravlenie-oshibok" title="Исправление ошибок" class="md-nav__link">
    Исправление ошибок
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uluchsheniia_1" title="Улучшения" class="md-nav__link">
    Улучшения
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-19-4-3-11-2019-04-02" title="ClickHouse release 19.4.3.11, 2019-04-02" class="md-nav__link">
    ClickHouse release 19.4.3.11, 2019-04-02
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ispravlenie-oshibok_1" title="Исправление ошибок" class="md-nav__link">
    Исправление ошибок
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uluchsheniia-sborki-testirovaniia-paketirovaniia_1" title="Улучшения сборки/тестирования/пакетирования" class="md-nav__link">
    Улучшения сборки/тестирования/пакетирования
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-19-4-2-7-2019-03-30" title="ClickHouse release 19.4.2.7, 2019-03-30" class="md-nav__link">
    ClickHouse release 19.4.2.7, 2019-03-30
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ispravlenie-oshibok_2" title="Исправление ошибок" class="md-nav__link">
    Исправление ошибок
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-19-4-1-3-2019-03-19" title="ClickHouse release 19.4.1.3, 2019-03-19" class="md-nav__link">
    ClickHouse release 19.4.1.3, 2019-03-19
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ispravlenie-oshibok_3" title="Исправление ошибок" class="md-nav__link">
    Исправление ошибок
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-19-4-0-49-2019-03-09" title="ClickHouse release 19.4.0.49, 2019-03-09" class="md-nav__link">
    ClickHouse release 19.4.0.49, 2019-03-09
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#novye-vozmozhnosti_1" title="Новые возможности" class="md-nav__link">
    Новые возможности
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ispravleniia-oshibok_2" title="Исправления ошибок" class="md-nav__link">
    Исправления ошибок
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uluchsheniia_2" title="Улучшения" class="md-nav__link">
    Улучшения
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uluchsheniia-proizvoditelnosti" title="Улучшения производительности" class="md-nav__link">
    Улучшения производительности
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uluchsheniia-sborki-testirovaniia-paketirovaniia_2" title="Улучшения сборки/тестирования/пакетирования" class="md-nav__link">
    Улучшения сборки/тестирования/пакетирования
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-19-3-7-2019-03-12" title="ClickHouse release 19.3.7, 2019-03-12" class="md-nav__link">
    ClickHouse release 19.3.7, 2019-03-12
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ispravleniia-oshibok_3" title="Исправления ошибок" class="md-nav__link">
    Исправления ошибок
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-19-3-6-2019-03-02" title="ClickHouse release 19.3.6, 2019-03-02" class="md-nav__link">
    ClickHouse release 19.3.6, 2019-03-02
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ispravleniia-oshibok_4" title="Исправления ошибок" class="md-nav__link">
    Исправления ошибок
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uluchsheniia-sborki-testirovaniia-paketirovaniia_3" title="Улучшения сборки/тестирования/пакетирования" class="md-nav__link">
    Улучшения сборки/тестирования/пакетирования
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-19-3-5-2019-02-21" title="ClickHouse release 19.3.5, 2019-02-21" class="md-nav__link">
    ClickHouse release 19.3.5, 2019-02-21
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ispravleniia-oshibok_5" title="Исправления ошибок:" class="md-nav__link">
    Исправления ошибок:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-19-3-4-2019-02-16" title="ClickHouse release 19.3.4, 2019-02-16" class="md-nav__link">
    ClickHouse release 19.3.4, 2019-02-16
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uluchsheniia_3" title="Улучшения:" class="md-nav__link">
    Улучшения:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ispravleniia-oshibok_6" title="Исправления ошибок:" class="md-nav__link">
    Исправления ошибок:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uluchsheniia-sborki-testirovaniia-paketirovaniia_4" title="Улучшения сборки/тестирования/пакетирования:" class="md-nav__link">
    Улучшения сборки/тестирования/пакетирования:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-19-3-3-2019-02-13" title="ClickHouse release 19.3.3, 2019-02-13" class="md-nav__link">
    ClickHouse release 19.3.3, 2019-02-13
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#novye-vozmozhnosti_2" title="Новые возможности:" class="md-nav__link">
    Новые возможности:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#eksperimentalnye-vozmozhnosti" title="Экспериментальные возможности:" class="md-nav__link">
    Экспериментальные возможности:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ispravleniia-oshibok_7" title="Исправления ошибок:" class="md-nav__link">
    Исправления ошибок:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uluchsheniia-sborki-testirovaniia-paketirovaniia_5" title="Улучшения сборки/тестирования/пакетирования:" class="md-nav__link">
    Улучшения сборки/тестирования/пакетирования:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#obratno-nesovmestimye-izmeneniia_1" title="Обратно несовместимые изменения:" class="md-nav__link">
    Обратно несовместимые изменения:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uluchsheniia-proizvoditelnosti_1" title="Улучшения производительности:" class="md-nav__link">
    Улучшения производительности:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uluchsheniia_4" title="Улучшения:" class="md-nav__link">
    Улучшения:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-19-1-14-2019-03-14" title="ClickHouse release 19.1.14, 2019-03-14" class="md-nav__link">
    ClickHouse release 19.1.14, 2019-03-14
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-19-1-13-2019-03-12" title="ClickHouse release 19.1.13, 2019-03-12" class="md-nav__link">
    ClickHouse release 19.1.13, 2019-03-12
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-19-1-10-2019-03-03" title="ClickHouse release 19.1.10, 2019-03-03" class="md-nav__link">
    ClickHouse release 19.1.10, 2019-03-03
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-19-1-9-2019-02-21" title="ClickHouse release 19.1.9, 2019-02-21" class="md-nav__link">
    ClickHouse release 19.1.9, 2019-02-21
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ispravleniia-oshibok_8" title="Исправления ошибок:" class="md-nav__link">
    Исправления ошибок:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-19-1-8-2019-02-16" title="ClickHouse release 19.1.8, 2019-02-16" class="md-nav__link">
    ClickHouse release 19.1.8, 2019-02-16
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ispravleniia-oshibok_9" title="Исправления ошибок:" class="md-nav__link">
    Исправления ошибок:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-19-1-7-2019-02-15" title="ClickHouse release 19.1.7, 2019-02-15" class="md-nav__link">
    ClickHouse release 19.1.7, 2019-02-15
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ispravleniia-oshibok_10" title="Исправления ошибок:" class="md-nav__link">
    Исправления ошибок:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-19-1-6-2019-01-24" title="ClickHouse release 19.1.6, 2019-01-24" class="md-nav__link">
    ClickHouse release 19.1.6, 2019-01-24
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#novye-vozmozhnosti_3" title="Новые возможности:" class="md-nav__link">
    Новые возможности:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#eksperimentalnye-vozmozhnosti_1" title="Экспериментальные возможности:" class="md-nav__link">
    Экспериментальные возможности:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ispravleniia-oshibok_11" title="Исправления ошибок:" class="md-nav__link">
    Исправления ошибок:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uluchsheniia_5" title="Улучшения:" class="md-nav__link">
    Улучшения:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uluchsheniia-proizvoditelnosti_2" title="Улучшения производительности:" class="md-nav__link">
    Улучшения производительности:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#obratno-nesovmestimye-izmeneniia_2" title="Обратно несовместимые изменения:" class="md-nav__link">
    Обратно несовместимые изменения:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uluchsheniia-sborki-testirovaniia-paketirovaniia_6" title="Улучшения сборки/тестирования/пакетирования:" class="md-nav__link">
    Улучшения сборки/тестирования/пакетирования:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-18-16-1-2018-12-21" title="ClickHouse release 18.16.1, 2018-12-21" class="md-nav__link">
    ClickHouse release 18.16.1, 2018-12-21
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ispravleniia-oshibok_12" title="Исправления ошибок:" class="md-nav__link">
    Исправления ошибок:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uluchsheniia_6" title="Улучшения:" class="md-nav__link">
    Улучшения:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uluchsheniia-sborki" title="Улучшения сборки:" class="md-nav__link">
    Улучшения сборки:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-18-16-0-2018-12-14" title="ClickHouse release 18.16.0, 2018-12-14" class="md-nav__link">
    ClickHouse release 18.16.0, 2018-12-14
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#novye-vozmozhnosti_4" title="Новые возможности:" class="md-nav__link">
    Новые возможности:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ispravleniia-oshibok_13" title="Исправления ошибок:" class="md-nav__link">
    Исправления ошибок:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uluchsheniia_7" title="Улучшения:" class="md-nav__link">
    Улучшения:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uluchshenie-sborki" title="Улучшение сборки:" class="md-nav__link">
    Улучшение сборки:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#obratno-nesovmestimye-izmeneniia_3" title="Обратно несовместимые изменения:" class="md-nav__link">
    Обратно несовместимые изменения:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-18-14-19-2018-12-19" title="ClickHouse release 18.14.19, 2018-12-19" class="md-nav__link">
    ClickHouse release 18.14.19, 2018-12-19
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ispravleniia-oshibok_14" title="Исправления ошибок:" class="md-nav__link">
    Исправления ошибок:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uluchsheniia-sborki_1" title="Улучшения сборки:" class="md-nav__link">
    Улучшения сборки:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-18-14-18-2018-12-04" title="ClickHouse release 18.14.18, 2018-12-04" class="md-nav__link">
    ClickHouse release 18.14.18, 2018-12-04
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ispravleniia-oshibok_15" title="Исправления ошибок:" class="md-nav__link">
    Исправления ошибок:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uluchsheniia-protsessa-sborki-clickhouse" title="Улучшения процесса сборки ClickHouse:" class="md-nav__link">
    Улучшения процесса сборки ClickHouse:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-18-14-17-2018-11-30" title="ClickHouse release 18.14.17, 2018-11-30" class="md-nav__link">
    ClickHouse release 18.14.17, 2018-11-30
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ispravleniia-oshibok_16" title="Исправления ошибок:" class="md-nav__link">
    Исправления ошибок:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-18-14-15-2018-11-21" title="ClickHouse release 18.14.15, 2018-11-21" class="md-nav__link">
    ClickHouse release 18.14.15, 2018-11-21
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ispravleniia-oshibok_17" title="Исправления ошибок:" class="md-nav__link">
    Исправления ошибок:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-18-14-14-2018-11-20" title="ClickHouse release 18.14.14, 2018-11-20" class="md-nav__link">
    ClickHouse release 18.14.14, 2018-11-20
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ispravleniia-oshibok_18" title="Исправления ошибок:" class="md-nav__link">
    Исправления ошибок:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uluchsheniia-protsessa-sborki-clickhouse_1" title="Улучшения процесса сборки ClickHouse:" class="md-nav__link">
    Улучшения процесса сборки ClickHouse:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-18-14-13-2018-11-08" title="ClickHouse release 18.14.13, 2018-11-08" class="md-nav__link">
    ClickHouse release 18.14.13, 2018-11-08
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ispravleniia-oshibok_19" title="Исправления ошибок:" class="md-nav__link">
    Исправления ошибок:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uluchsheniia-proizvoditelnosti_3" title="Улучшения производительности:" class="md-nav__link">
    Улучшения производительности:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uluchsheniia-protsessa-sborki-clickhouse_2" title="Улучшения процесса сборки ClickHouse:" class="md-nav__link">
    Улучшения процесса сборки ClickHouse:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-18-14-12-2018-11-02" title="ClickHouse release 18.14.12, 2018-11-02" class="md-nav__link">
    ClickHouse release 18.14.12, 2018-11-02
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ispravleniia-oshibok_20" title="Исправления ошибок:" class="md-nav__link">
    Исправления ошибок:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-18-14-11-2018-10-29" title="ClickHouse release 18.14.11, 2018-10-29" class="md-nav__link">
    ClickHouse release 18.14.11, 2018-10-29
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ispravleniia-oshibok_21" title="Исправления ошибок:" class="md-nav__link">
    Исправления ошибок:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-18-14-10-2018-10-23" title="ClickHouse release 18.14.10, 2018-10-23" class="md-nav__link">
    ClickHouse release 18.14.10, 2018-10-23
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-18-14-9-2018-10-16" title="ClickHouse release 18.14.9, 2018-10-16" class="md-nav__link">
    ClickHouse release 18.14.9, 2018-10-16
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#novye-vozmozhnosti_5" title="Новые возможности:" class="md-nav__link">
    Новые возможности:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#eksperimentalnye-vozmozhnosti_2" title="Экспериментальные возможности:" class="md-nav__link">
    Экспериментальные возможности:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uluchsheniia_8" title="Улучшения:" class="md-nav__link">
    Улучшения:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ispravlenie-oshibok_4" title="Исправление ошибок:" class="md-nav__link">
    Исправление ошибок:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#obratno-nesovmestimye-izmeneniia_4" title="Обратно несовместимые изменения:" class="md-nav__link">
    Обратно несовместимые изменения:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-18-12-17-2018-09-16" title="ClickHouse release 18.12.17, 2018-09-16" class="md-nav__link">
    ClickHouse release 18.12.17, 2018-09-16
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#novye-vozmozhnosti_6" title="Новые возможности:" class="md-nav__link">
    Новые возможности:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ispravlenie-oshibok_5" title="Исправление ошибок:" class="md-nav__link">
    Исправление ошибок:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#obratno-nesovmestimye-izmeneniia_5" title="Обратно несовместимые изменения:" class="md-nav__link">
    Обратно несовместимые изменения:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-18-12-14-2018-09-13" title="ClickHouse release 18.12.14, 2018-09-13" class="md-nav__link">
    ClickHouse release 18.12.14, 2018-09-13
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#novye-vozmozhnosti_7" title="Новые возможности:" class="md-nav__link">
    Новые возможности:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uluchsheniia_9" title="Улучшения" class="md-nav__link">
    Улучшения
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ispravlenie-oshibok_6" title="Исправление ошибок" class="md-nav__link">
    Исправление ошибок
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-18-12-13-2018-09-10" title="ClickHouse release 18.12.13, 2018-09-10" class="md-nav__link">
    ClickHouse release 18.12.13, 2018-09-10
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#novye-vozmozhnosti_8" title="Новые возможности:" class="md-nav__link">
    Новые возможности:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#eksperimentalnye-vozmozhnosti_3" title="Экспериментальные возможности:" class="md-nav__link">
    Экспериментальные возможности:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uluchsheniia_10" title="Улучшения:" class="md-nav__link">
    Улучшения:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ispravlenie-oshibok_7" title="Исправление ошибок:" class="md-nav__link">
    Исправление ошибок:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ispravleniia-bezopasnosti" title="Исправления безопасности:" class="md-nav__link">
    Исправления безопасности:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#obratno-nesovmestimye-izmeneniia_6" title="Обратно несовместимые изменения:" class="md-nav__link">
    Обратно несовместимые изменения:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#izmeneniia-sborki" title="Изменения сборки:" class="md-nav__link">
    Изменения сборки:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-18-10-3-2018-08-13" title="ClickHouse release 18.10.3, 2018-08-13" class="md-nav__link">
    ClickHouse release 18.10.3, 2018-08-13
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#novye-vozmozhnosti_9" title="Новые возможности:" class="md-nav__link">
    Новые возможности:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uluchsheniia_11" title="Улучшения:" class="md-nav__link">
    Улучшения:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ispravlenie-oshibok_8" title="Исправление ошибок:" class="md-nav__link">
    Исправление ошибок:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#obratno-nesovmestimye-izmeneniia_7" title="Обратно несовместимые изменения" class="md-nav__link">
    Обратно несовместимые изменения
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#izmeneniia-sborki_1" title="Изменения сборки:" class="md-nav__link">
    Изменения сборки:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-18-6-0-2018-08-02" title="ClickHouse release 18.6.0, 2018-08-02" class="md-nav__link">
    ClickHouse release 18.6.0, 2018-08-02
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#novye-vozmozhnosti_10" title="Новые возможности:" class="md-nav__link">
    Новые возможности:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uluchsheniia_12" title="Улучшения:" class="md-nav__link">
    Улучшения:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-18-5-1-2018-07-31" title="ClickHouse release 18.5.1, 2018-07-31" class="md-nav__link">
    ClickHouse release 18.5.1, 2018-07-31
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#novye-vozmozhnosti_11" title="Новые возможности:" class="md-nav__link">
    Новые возможности:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uluchsheniia_13" title="Улучшения:" class="md-nav__link">
    Улучшения:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ispravlenie-oshibok_9" title="Исправление ошибок:" class="md-nav__link">
    Исправление ошибок:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-18-4-0-2018-07-28" title="ClickHouse release 18.4.0, 2018-07-28" class="md-nav__link">
    ClickHouse release 18.4.0, 2018-07-28
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#novye-vozmozhnosti_12" title="Новые возможности:" class="md-nav__link">
    Новые возможности:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uluchsheniia_14" title="Улучшения:" class="md-nav__link">
    Улучшения:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ispravlenie-oshibok_10" title="Исправление ошибок:" class="md-nav__link">
    Исправление ошибок:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#obratno-nesovmestimye-izmeneniia_8" title="Обратно несовместимые изменения:" class="md-nav__link">
    Обратно несовместимые изменения:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-18-1-0-2018-07-23" title="ClickHouse release 18.1.0, 2018-07-23" class="md-nav__link">
    ClickHouse release 18.1.0, 2018-07-23
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#novye-vozmozhnosti_13" title="Новые возможности:" class="md-nav__link">
    Новые возможности:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uluchsheniia_15" title="Улучшения:" class="md-nav__link">
    Улучшения:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ispravlenie-oshibok_11" title="Исправление ошибок:" class="md-nav__link">
    Исправление ошибок:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#obratno-nesovmestimye-izmeneniia_9" title="Обратно несовместимые изменения:" class="md-nav__link">
    Обратно несовместимые изменения:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-1-1-54394-2018-07-12" title="ClickHouse release 1.1.54394, 2018-07-12" class="md-nav__link">
    ClickHouse release 1.1.54394, 2018-07-12
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#novye-vozmozhnosti_14" title="Новые возможности:" class="md-nav__link">
    Новые возможности:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ispravlenie-oshibok_12" title="Исправление ошибок:" class="md-nav__link">
    Исправление ошибок:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-1-1-54390-2018-07-06" title="ClickHouse release 1.1.54390, 2018-07-06" class="md-nav__link">
    ClickHouse release 1.1.54390, 2018-07-06
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#novye-vozmozhnosti_15" title="Новые возможности:" class="md-nav__link">
    Новые возможности:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uluchsheniia_16" title="Улучшения:" class="md-nav__link">
    Улучшения:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ispravlenie-oshibok_13" title="Исправление ошибок:" class="md-nav__link">
    Исправление ошибок:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ispravleniia-bezopasnosti_1" title="Исправления безопасности:" class="md-nav__link">
    Исправления безопасности:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-1-1-54388-2018-06-28" title="ClickHouse release 1.1.54388, 2018-06-28" class="md-nav__link">
    ClickHouse release 1.1.54388, 2018-06-28
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#novye-vozmozhnosti_16" title="Новые возможности:" class="md-nav__link">
    Новые возможности:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#eksperimentalnye-vozmozhnosti_4" title="Экспериментальные возможности:" class="md-nav__link">
    Экспериментальные возможности:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ispravlenie-oshibok_14" title="Исправление ошибок:" class="md-nav__link">
    Исправление ошибок:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uluchsheniia_17" title="Улучшения:" class="md-nav__link">
    Улучшения:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#izmeneniia-sborki_2" title="Изменения сборки:" class="md-nav__link">
    Изменения сборки:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#obratno-nesovmestimye-izmeneniia_10" title="Обратно несовместимые изменения:" class="md-nav__link">
    Обратно несовместимые изменения:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-1-1-54385-2018-06-01" title="ClickHouse release 1.1.54385, 2018-06-01" class="md-nav__link">
    ClickHouse release 1.1.54385, 2018-06-01
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ispravlenie-oshibok_15" title="Исправление ошибок:" class="md-nav__link">
    Исправление ошибок:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-1-1-54383-2018-05-22" title="ClickHouse release 1.1.54383, 2018-05-22" class="md-nav__link">
    ClickHouse release 1.1.54383, 2018-05-22
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ispravlenie-oshibok_16" title="Исправление ошибок:" class="md-nav__link">
    Исправление ошибок:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-1-1-54381-2018-05-14" title="ClickHouse release 1.1.54381, 2018-05-14" class="md-nav__link">
    ClickHouse release 1.1.54381, 2018-05-14
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ispravlenie-oshibok_17" title="Исправление ошибок:" class="md-nav__link">
    Исправление ошибок:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-1-1-54380-2018-04-21" title="ClickHouse release 1.1.54380, 2018-04-21" class="md-nav__link">
    ClickHouse release 1.1.54380, 2018-04-21
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#novye-vozmozhnosti_17" title="Новые возможности:" class="md-nav__link">
    Новые возможности:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uluchsheniia_18" title="Улучшения:" class="md-nav__link">
    Улучшения:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ispravlenie-oshibok_18" title="Исправление ошибок:" class="md-nav__link">
    Исправление ошибок:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#obratno-nesovmestimye-izmeneniia_11" title="Обратно несовместимые изменения:" class="md-nav__link">
    Обратно несовместимые изменения:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-1-1-54378-2018-04-16" title="ClickHouse release 1.1.54378, 2018-04-16" class="md-nav__link">
    ClickHouse release 1.1.54378, 2018-04-16
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#novye-vozmozhnosti_18" title="Новые возможности:" class="md-nav__link">
    Новые возможности:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uluchsheniia_19" title="Улучшения:" class="md-nav__link">
    Улучшения:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ispravlenie-oshibok_19" title="Исправление ошибок:" class="md-nav__link">
    Исправление ошибок:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#izmeneniia-sborki_3" title="Изменения сборки:" class="md-nav__link">
    Изменения сборки:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#obratno-nesovmestimye-izmeneniia_12" title="Обратно несовместимые изменения:" class="md-nav__link">
    Обратно несовместимые изменения:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clickhouse-release-1-1-54370-2018-03-16" title="ClickHouse release 1.1.54370, 2018-03-16" class="md-nav__link">
    ClickHouse release 1.1.54370, 2018-03-16
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#novye-vozmozhnosti_19" title="Новые возможности:" class="md-nav__link">
    Новые возможности:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uluchsheniia_20" title="Улучшения:" class="md-nav__link">
    Улучшения:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ispravlenie-oshibok_20" title="Исправление ошибок:" class="md-nav__link">
    Исправление ошибок:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reliz-clickhouse-1-1-54362-2018-03-11" title="Релиз ClickHouse 1.1.54362, 2018-03-11" class="md-nav__link">
    Релиз ClickHouse 1.1.54362, 2018-03-11
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#novye-vozmozhnosti_20" title="Новые возможности:" class="md-nav__link">
    Новые возможности:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uluchsheniia_21" title="Улучшения:" class="md-nav__link">
    Улучшения:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ispravlenie-oshibok_21" title="Исправление ошибок:" class="md-nav__link">
    Исправление ошибок:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#obratno-nesovmestimye-izmeneniia_13" title="Обратно несовместимые изменения:" class="md-nav__link">
    Обратно несовместимые изменения:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reliz-clickhouse-1-1-54343-2018-02-05" title="Релиз ClickHouse 1.1.54343, 2018-02-05" class="md-nav__link">
    Релиз ClickHouse 1.1.54343, 2018-02-05
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reliz-clickhouse-1-1-54342-2018-01-22" title="Релиз ClickHouse 1.1.54342, 2018-01-22" class="md-nav__link">
    Релиз ClickHouse 1.1.54342, 2018-01-22
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reliz-clickhouse-1-1-54337-2018-01-18" title="Релиз ClickHouse 1.1.54337, 2018-01-18" class="md-nav__link">
    Релиз ClickHouse 1.1.54337, 2018-01-18
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#novye-vozmozhnosti_21" title="Новые возможности:" class="md-nav__link">
    Новые возможности:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uvelichenie-proizvoditelnosti" title="Увеличение производительности:" class="md-nav__link">
    Увеличение производительности:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ispravleniia-oshibok_22" title="Исправления ошибок:" class="md-nav__link">
    Исправления ошибок:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uluchsheniia-sborki_2" title="Улучшения сборки:" class="md-nav__link">
    Улучшения сборки:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#obratno-nesovmestimye-izmeneniia_14" title="Обратно несовместимые изменения:" class="md-nav__link">
    Обратно несовместимые изменения:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#na-chto-obratit-vnimanie-pri-obnovlenii" title="На что обратить внимание при обновлении:" class="md-nav__link">
    На что обратить внимание при обновлении:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reliz-clickhouse-1-1-54327-2017-12-21" title="Релиз ClickHouse 1.1.54327, 2017-12-21" class="md-nav__link">
    Релиз ClickHouse 1.1.54327, 2017-12-21
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reliz-clickhouse-1-1-54318-2017-11-30" title="Релиз ClickHouse 1.1.54318, 2017-11-30" class="md-nav__link">
    Релиз ClickHouse 1.1.54318, 2017-11-30
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reliz-clickhouse-1-1-54310-2017-11-01" title="Релиз ClickHouse 1.1.54310, 2017-11-01" class="md-nav__link">
    Релиз ClickHouse 1.1.54310, 2017-11-01
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#novye-vozmozhnosti_22" title="Новые возможности:" class="md-nav__link">
    Новые возможности:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#obratno-nesovmestimye-izmeneniia_15" title="Обратно несовместимые изменения:" class="md-nav__link">
    Обратно несовместимые изменения:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ispravleniia-oshibok_23" title="Исправления ошибок:" class="md-nav__link">
    Исправления ошибок:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uluchsheniia-sborki_3" title="Улучшения сборки:" class="md-nav__link">
    Улучшения сборки:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reliz-clickhouse-1-1-54304-2017-10-19" title="Релиз ClickHouse 1.1.54304, 2017-10-19" class="md-nav__link">
    Релиз ClickHouse 1.1.54304, 2017-10-19
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#novye-vozmozhnosti_23" title="Новые возможности:" class="md-nav__link">
    Новые возможности:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ispravleniia-oshibok_24" title="Исправления ошибок:" class="md-nav__link">
    Исправления ошибок:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reliz-clickhouse-1-1-54292-2017-09-20" title="Релиз ClickHouse 1.1.54292, 2017-09-20" class="md-nav__link">
    Релиз ClickHouse 1.1.54292, 2017-09-20
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#novye-vozmozhnosti_24" title="Новые возможности:" class="md-nav__link">
    Новые возможности:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ispravleniia-oshibok_25" title="Исправления ошибок:" class="md-nav__link">
    Исправления ошибок:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reliz-clickhouse-1-1-54289-2017-09-13" title="Релиз ClickHouse 1.1.54289, 2017-09-13" class="md-nav__link">
    Релиз ClickHouse 1.1.54289, 2017-09-13
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#novye-vozmozhnosti_25" title="Новые возможности:" class="md-nav__link">
    Новые возможности:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ispravleniia-oshibok_26" title="Исправления ошибок:" class="md-nav__link">
    Исправления ошибок:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uluchsheniia-protsessa-razrabotki-i-sborki-clickhouse" title="Улучшения процесса разработки и сборки ClickHouse:" class="md-nav__link">
    Улучшения процесса разработки и сборки ClickHouse:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#na-chto-obratit-vnimanie-pri-obnovlenii_1" title="На что обратить внимание при обновлении:" class="md-nav__link">
    На что обратить внимание при обновлении:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reliz-clickhouse-1-1-54284-2017-08-29" title="Релиз ClickHouse 1.1.54284, 2017-08-29" class="md-nav__link">
    Релиз ClickHouse 1.1.54284, 2017-08-29
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reliz-clickhouse-1-1-54282-2017-08-23" title="Релиз ClickHouse 1.1.54282, 2017-08-23" class="md-nav__link">
    Релиз ClickHouse 1.1.54282, 2017-08-23
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reliz-clickhouse-1-1-54276-2017-08-16" title="Релиз ClickHouse 1.1.54276, 2017-08-16" class="md-nav__link">
    Релиз ClickHouse 1.1.54276, 2017-08-16
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#novye-vozmozhnosti_26" title="Новые возможности:" class="md-nav__link">
    Новые возможности:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osnovnye-izmeneniia" title="Основные изменения:" class="md-nav__link">
    Основные изменения:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#obratno-nesovmestimye-izmeneniia_16" title="Обратно несовместимые изменения:" class="md-nav__link">
    Обратно несовместимые изменения:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#polnyi-spisok-izmenenii" title="Полный список изменений:" class="md-nav__link">
    Полный список изменений:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ispravleniia-bagov" title="Исправления багов:" class="md-nav__link">
    Исправления багов:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uluchsheniia-protsessa-razrabotki-i-sborki-clickhouse_1" title="Улучшения процесса разработки и сборки ClickHouse:" class="md-nav__link">
    Улучшения процесса разработки и сборки ClickHouse:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reliz-clickhouse-1-1-54245-2017-07-04" title="Релиз ClickHouse 1.1.54245, 2017-07-04" class="md-nav__link">
    Релиз ClickHouse 1.1.54245, 2017-07-04
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#novye-vozmozhnosti_27" title="Новые возможности:" class="md-nav__link">
    Новые возможности:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#obratno-nesovmestimye-izmeneniia_17" title="Обратно несовместимые изменения:" class="md-nav__link">
    Обратно несовместимые изменения:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#melkie-izmeneniia" title="Мелкие изменения:" class="md-nav__link">
    Мелкие изменения:
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ispravleniia-bagov_1" title="Исправления багов:" class="md-nav__link">
    Исправления багов:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed-in-clickhouse-release-18-12-13-2018-09-10" title="Fixed in ClickHouse Release 18.12.13, 2018-09-10" class="md-nav__link">
    Fixed in ClickHouse Release 18.12.13, 2018-09-10
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cve-2018-14672" title="CVE-2018-14672" class="md-nav__link">
    CVE-2018-14672
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed-in-clickhouse-release-18-10-3-2018-08-13" title="Fixed in ClickHouse Release 18.10.3, 2018-08-13" class="md-nav__link">
    Fixed in ClickHouse Release 18.10.3, 2018-08-13
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cve-2018-14671" title="CVE-2018-14671" class="md-nav__link">
    CVE-2018-14671
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed-in-clickhouse-release-1-1-54388-2018-06-28" title="Fixed in ClickHouse Release 1.1.54388, 2018-06-28" class="md-nav__link">
    Fixed in ClickHouse Release 1.1.54388, 2018-06-28
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cve-2018-14668" title="CVE-2018-14668" class="md-nav__link">
    CVE-2018-14668
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed-in-clickhouse-release-1-1-54390-2018-07-06" title="Fixed in ClickHouse Release 1.1.54390, 2018-07-06" class="md-nav__link">
    Fixed in ClickHouse Release 1.1.54390, 2018-07-06
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cve-2018-14669" title="CVE-2018-14669" class="md-nav__link">
    CVE-2018-14669
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fixed-in-clickhouse-release-1-1-54131-2017-01-10" title="Fixed in ClickHouse Release 1.1.54131, 2017-01-10" class="md-nav__link">
    Fixed in ClickHouse Release 1.1.54131, 2017-01-10
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cve-2018-14670" title="CVE-2018-14670" class="md-nav__link">
    CVE-2018-14670
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
    </ul>
  
</nav>
                    
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
                      <nav class="md-nav md-nav--primary" data-md-level="0">
  

  <ul id="md-extra-nav" class="md-nav__list" data-md-scrollfix>
    <li class="md-nav__item md-nav__item--active">
      رهایی:
      <span class="md-selector">
        <select id="releases-selector">
          <option value="">آخرین</option>
          
        </select><span id="releases-selector-after">&nbsp;▾</span>
      </span>
    </li>
    <li class="md-nav__item md-nav__item--active">
        
          <a href=".." class="md-nav__link md-nav__link--active">نسخه چند صفحه ای</a>
        
    </li>
    <li class="md-nav__item md-nav__item--active">
          <a href="../single/clickhouse_fa.pdf" class="md-nav__link md-nav__link--active">نسخه PDF</a>
    </li>
    
    <li class="md-nav__item md-nav__item--active">
      <a href="https://github.com/ClickHouse/ClickHouse/" rel="external nofollow" target="_blank" class="md-nav__link">
        کد منبع کلیک
      </a>
    </li>
    
    <li class="md-nav__item md-nav__item--active">
        <span id="md-sidebar-flags" class="md-nav__link">
        

  <a class="md-alt-lang"
     href="../../en/single/" class="md-flex__ellipsis md-header-nav__title"
     title="English">
    <svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none" viewBox="0 0 60 30"><clipPath id="t"><path d="M30,15 h30 v15 z v15 h-30 z h-30 v-15 z v-15 h30 z"/></clipPath><path fill="#00247d" d="M0,0 v30 h60 v-30 z"/><path stroke="#fff" stroke-width="6" d="M0,0 L60,30 M60,0 L0,30"/><path stroke="#cf142b" stroke-width="4" d="M0,0 L60,30 M60,0 L0,30" clip-path="url(#t)"/><path stroke="#fff" stroke-width="10" d="M30,0 v30 M0,15 h60"/><path stroke="#cf142b" stroke-width="6" d="M30,0 v30 M0,15 h60"/></svg>
  </a>

  <a class="md-alt-lang"
     href="../../ru/single/" class="md-flex__ellipsis md-header-nav__title"
     title="Russian">
    <svg xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none" viewBox="0 0 9 6"><rect width="9" height="3" fill="#fff"/><rect width="9" height="3" y="3" fill="#d52b1e"/><rect width="9" height="2" y="2" fill="#0039a6"/></svg>
  </a>

  <a class="md-alt-lang"
     href="../../zh/single/" class="md-flex__ellipsis md-header-nav__title"
     title="Chinese">
    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="none" viewBox="0 0 30 20"><defs><path id="s" fill="#ffde00" d="M0,-1 0.587785,0.809017 -0.951057,-0.309017H0.951057L-0.587785,0.809017z"/></defs><rect width="30" height="20" fill="#de2910"/><use transform="translate(5,5) scale(3)" xlink:href="#s"/><use transform="translate(10,2) rotate(23.036243)" xlink:href="#s"/><use transform="translate(12,4) rotate(45.869898)" xlink:href="#s"/><use transform="translate(12,7) rotate(69.945396)" xlink:href="#s"/><use transform="translate(10,9) rotate(20.659808)" xlink:href="#s"/></svg>
  </a>

  <a class="md-alt-lang"
     href="../../ja/single/" class="md-flex__ellipsis md-header-nav__title"
     title="Japanese">
    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="90" height="60" version="1.1" viewBox="0 0 90 60"><g id="surface1"><rect width="90" height="60" x="0" y="0" fill="#A0A0A0" fill-opacity="1" stroke="none"/><path fill="#FFF" fill-opacity="1" fill-rule="nonzero" stroke="none" d="M 0.601562 0.601562 L 89.398438 0.601562 L 89.398438 59.398438 L 0.601562 59.398438 Z M 0.601562 0.601562"/><path fill="#BE0026" fill-opacity="1" fill-rule="nonzero" stroke="none" d="M 63 30 C 63 39.941406 54.941406 48 45 48 C 35.058594 48 27 39.941406 27 30 C 27 20.058594 35.058594 12 45 12 C 54.941406 12 63 20.058594 63 30 Z M 63 30"/></g></svg>
  </a>

  <a class="md-alt-lang md-current-lang"
     href="../../fa/single/" class="md-flex__ellipsis md-header-nav__title"
     title="Farsi">
    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" preserveAspectRatio="none" viewBox="0 0 630 360"><rect width="630" height="360" fill="#da0000"/><rect width="630" height="240" fill="#fff"/><rect width="630" height="120" fill="#239f40"/><g transform="translate(8.4,100.4)"><g id="tb4"><g id="tb1" fill="none" stroke="#fff" stroke-width="2"><path id="tbp1" d="M0,1H26M1,10V5H9V9H17V5H12M4,9H6M26,9H21V5H29M29,0V9H37V0M33,0V9" transform="scale(1.4)"/><path id="tbp2" d="M0,7H9M10,7H19" transform="scale(2.8)"/><use y="120" xlink:href="#tbp2"/><use y="145.2" xlink:href="#tbp1"/></g><g id="tb3"><use x="56" xlink:href="#tb1"/><use x="112" xlink:href="#tb1"/><use x="168" xlink:href="#tb1"/></g></g><use x="168" xlink:href="#tb3"/><use x="392" xlink:href="#tb4"/></g><g fill="#da0000" transform="matrix(45,0,0,45,315,180)"><g id="emblem_half"><path d="M-0.54815,0.83638A0.912046,0.912046 0 0,0 0.328544,-0.722384A1,1 0 0,1 -0.54815,0.83638"/><path d="M0.618339,0.661409A0.763932,0.763932 0 0,0 0.421644,-0.741049A1,1 0 0,1 0.618339,0.661409"/><path d="M0,1 -0.05,0 0,-0.787278A0.309995,0.309995 0 0,0 0.118034,-0.688191V-0.100406L0.077809,0.892905z"/><path d="M-0.02,-0.85 0,-0.831217A0.14431,0.14431 0 0,0 0.252075,-0.967708A0.136408,0.136408 0 0,1 0,-0.924634"/></g><use transform="scale(-1,1)" xlink:href="#emblem_half"/></g></svg>
  </a>

        </span>
    </li>
  </ul>
</nav>
                    
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                    <a href="https://github.com/ClickHouse/ClickHouse/tree/master/docs" title="این صفحه را ویرایش کنید" class="md-icon md-content__icon" rel="external nofollow">&#xE3C9;</a>
                
                
                  <h1>مستندات  v19.7ClickHouse</h1>
                
                <div id="content">
                
                </div>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer md-hide">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            ©2016–2020 Yandex LLC
          </div>
        
      </div>
      
        <div class="md-footer-social">
  <span class="md-footer-copyright__highlight">Built from <a href="" rel="external nofollow"></a></span>
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      
        <script src="../assets/javascripts/modernizr.js"></script>
      
      <script src="../assets/javascripts/application.js"></script>
      
        
        
          
          <script src="../assets/javascripts/lunr/lunr.stemmer.support.js"></script>
          
            
              
              <script src="../assets/javascripts/lunr/lunr.fa.js"></script>
            
          
          
            <script src="../assets/javascripts/lunr/lunr.multi.js"></script>
          
        
      
      
    
    
      
    

    <script type="text/javascript">
      function ready(callback){
          if (document.readyState != 'loading') {
              callback();
          } else if (document.addEventListener) {
              document.addEventListener('DOMContentLoaded', callback);
          } else document.attachEvent('onreadystatechange', function() {
              if (document.readyState == 'complete') {
                  callback();
              }
          });
      }
      ready(function () {
          var i;
          
          document.getElementById("content").innerHTML = "<p><a name=\"../../../index/\"></a>\n<a name=\"index/\"></a>\n<a name=\"../../../../index/\"></a>\n<a name=\"../../../../../index/\"></a>\n<a name=\"../index/\"></a>\n<a name=\"../../index/\"></a></p>\n<div dir=\"rtl\">\n<h2 id=\"clickhouse-chyst\">ClickHouse \u0686\u06cc\u0633\u062a\u061f<a class=\"headerlink\" href=\"#clickhouse-chyst\" title=\"Permanent link\">&para;</a></h2>\n<p>ClickHouse \u06cc\u06a9 \u0645\u062f\u06cc\u0631\u06cc\u062a \u062f\u06cc\u062a\u0627\u0628\u06cc\u0633 (DBMS) \u0633\u062a\u0648\u0646 \u06af\u0631\u0627 \u0628\u0631\u0627\u06cc \u067e\u0631\u062f\u0627\u0632\u0634 \u062a\u062d\u0644\u06cc\u0644\u06cc \u0622\u0646\u0644\u0627\u06cc\u0646 (OLAP) \u0645\u06cc \u0628\u0627\u0634\u062f.</p>\n<p>\u062f\u0631 \u06cc\u06a9 \u0645\u062f\u06cc\u0631\u06cc\u062a \u062f\u06cc\u062a\u0627\u0628\u06cc\u0633 \u0631\u062f\u06cc\u0641 \u06af\u0631\u0627\u060c \u062f\u0627\u062f\u0647 \u0647\u0627 \u0628\u0647 \u0641\u0631\u0645 \u0632\u06cc\u0631 \u0630\u062e\u06cc\u0631\u0647 \u0633\u0627\u0632\u06cc \u0645\u06cc \u0634\u0648\u0646\u062f:</p>\n<table>\n<thead>\n<tr>\n<th>Row</th>\n<th>WatchID</th>\n<th>JavaEnable</th>\n<th>Title</th>\n<th>GoodEvent</th>\n<th>EventTime</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>#0</td>\n<td>5385521489354350662</td>\n<td>1</td>\n<td>Investor Relations</td>\n<td>1</td>\n<td>2016-05-18 05:19:20</td>\n</tr>\n<tr>\n<td>#1</td>\n<td>5385521490329509958</td>\n<td>0</td>\n<td>Contact us</td>\n<td>1</td>\n<td>2016-05-18 08:10:20</td>\n</tr>\n<tr>\n<td>#2</td>\n<td>5385521489953706054</td>\n<td>1</td>\n<td>Mission</td>\n<td>1</td>\n<td>2016-05-18 07:38:00</td>\n</tr>\n<tr>\n<td>#N</td>\n<td>...</td>\n<td>...</td>\n<td>...</td>\n<td>...</td>\n<td>...</td>\n</tr>\n</tbody>\n</table>\n<p>\u0628\u0647 \u0627\u06cc\u0646 \u0635\u0648\u0631\u062a\u060c \u062a\u0645\u0627\u0645 \u0645\u0642\u0627\u062f\u06cc\u0631 \u0645\u0631\u0628\u0648\u0637 \u0628\u0647 \u06cc\u06a9 \u0633\u0637\u0631 (\u0631\u06a9\u0648\u0631\u062f) \u0628\u0647 \u0635\u0648\u0631\u062a \u0641\u06cc\u0632\u06cc\u06a9\u06cc \u0648 \u062f\u0631 \u06a9\u0646\u0627\u0631 \u06cc\u06a9\u062f\u06af\u06cc\u0631 \u0630\u062e\u06cc\u0631\u0647 \u0633\u0627\u0632\u06cc \u0645\u06cc \u0634\u0648\u0646\u062f.</p>\n<p class=\"grey\">\u062f\u06cc\u062a\u0627\u0628\u06cc\u0633 \u0647\u0627\u06cc MySQL, Postgres \u0648 MS SQL Server \u0627\u0632 \u0627\u0646\u0648\u0627\u0639 \u062f\u06cc\u062a\u0627\u0628\u06cc\u0633 \u0647\u0627\u06cc \u0631\u062f\u06cc\u0641 \u06af\u0631\u0627 \u0645\u06cc \u0628\u0627\u0634\u0646\u062f.</p>\n<p>\u062f\u0631 \u06cc\u06a9 \u062f\u06cc\u062a\u0627\u0628\u06cc\u0633 \u0633\u062a\u0648\u0646 \u06af\u0631\u0627\u060c \u062f\u0627\u062f\u0647 \u0647\u0627 \u0628\u0647 \u0634\u06a9\u0644 \u0632\u06cc\u0631 \u0630\u062e\u06cc\u0631\u0647 \u0633\u0627\u0632\u06cc \u0645\u06cc \u0634\u0648\u0646\u062f:</p>\n<table>\n<thead>\n<tr>\n<th>Row:</th>\n<th>#0</th>\n<th>#1</th>\n<th>#2</th>\n<th>#N</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>WatchID:</td>\n<td>5385521489354350662</td>\n<td>5385521490329509958</td>\n<td>5385521489953706054</td>\n<td>...</td>\n</tr>\n<tr>\n<td>JavaEnable:</td>\n<td>1</td>\n<td>0</td>\n<td>1</td>\n<td>...</td>\n</tr>\n<tr>\n<td>Title:</td>\n<td>Investor Relations</td>\n<td>Contact us</td>\n<td>Mission</td>\n<td>...</td>\n</tr>\n<tr>\n<td>GoodEvent:</td>\n<td>1</td>\n<td>1</td>\n<td>1</td>\n<td>...</td>\n</tr>\n<tr>\n<td>EventTime:</td>\n<td>2016-05-18 05:19:20</td>\n<td>2016-05-18 08:10:20</td>\n<td>2016-05-18 07:38:00</td>\n<td>...</td>\n</tr>\n</tbody>\n</table>\n<p>\u0627\u06cc\u0646 \u0645\u062b\u0627\u0644 \u0647\u0627 \u062a\u0646\u0647\u0627 \u0646\u0634\u0627\u0646 \u0645\u06cc \u062f\u0647\u0646\u062f \u06a9\u0647 \u062f\u0627\u062f\u0647 \u0647\u0627 \u0645\u0646\u0638\u0645 \u0634\u062f\u0647 \u0627\u0646\u062f.\n\u0645\u0642\u0627\u062f\u06cc\u0631 \u0633\u062a\u0648\u0646 \u0647\u0627\u06cc \u0645\u062e\u062a\u0644\u0641 \u0628\u0647 \u0635\u0648\u0631\u062a \u062c\u062f\u0627\u060c \u0648 \u062f\u0627\u062f\u0647 \u0647\u0627\u06cc \u0645\u0631\u0628\u0648\u0637 \u0628\u0647 \u06cc\u06a9 \u0633\u062a\u0648\u0646 \u062f\u0631 \u06a9\u0646\u0627\u0631 \u06cc\u06a9\u062f\u06cc\u06af\u0631 \u0630\u062e\u06cc\u0631\u0647 \u0645\u06cc \u0634\u0648\u0646\u062f.</p>\n<p class=\"grey\">\u0645\u062b\u0627\u0644 \u0647\u0627\u06cc \u0627\u0632 \u062f\u06cc\u062a\u0627\u0628\u06cc\u0633 \u0647\u0627\u06cc \u0633\u062a\u0648\u0646 \u06af\u0631\u0627: Vertica, Paraccel (Actian Matrix, Amazon Redshift), Sybase IQ, Exasol, Infobright, InfiniDB, MonetDB (VectorWise, Actian Vector), LucidDB, SAP HANA, Google Dremel, Google PowerDrill, Druid, kdb+.</p>\n<p>\u062a\u0631\u062a\u06cc\u0628 \u0647\u0627\u06cc \u0645\u062e\u062a\u0644\u0641 \u0628\u0631\u0627\u06cc \u0630\u062e\u06cc\u0631\u0647 \u0633\u0627\u0632\u06cc \u062f\u0627\u062f\u0647 \u0647\u0627\u060c \u0645\u0646\u0627\u0633\u0628 \u0633\u0646\u0627\u0631\u06cc\u0648 \u0647\u0627\u06cc \u0645\u062e\u062a\u0644\u0641 \u0647\u0633\u062a\u0646\u062f. \u0633\u0646\u0627\u0631\u06cc\u0648 \u062f\u0633\u062a\u0631\u0633\u06cc \u0628\u0647 \u062f\u0627\u062f\u0647 \u0627\u0634\u0627\u0631\u0647 \u062f\u0627\u0631\u062f \u0628\u0647\u060c \u0686\u0647 query \u0647\u0627\u06cc\u06cc \u0633\u0627\u062e\u062a\u0647 \u0634\u062f\u0647 \u0627\u0646\u062f\u060c \u0686\u0646\u062f \u0648\u0642\u062a \u0628\u0647 \u0686\u0646\u062f \u0648\u0642\u062a\u060c \u062f\u0631 \u0686\u0647 \u0645\u0642\u062f\u0627\u0631\u06cc\u060c \u0686\u0642\u062f\u0631 \u062f\u0627\u062f\u0647 \u062f\u0631 \u0647\u0646\u06af\u0627\u0645 \u0627\u062c\u0631\u0627\u06cc \u0647\u0631 query \u062e\u0648\u0627\u0646\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f\u060c \u0686\u0646\u062f \u0631\u06a9\u0648\u0631\u062f\u060c \u0686\u0646\u062f \u0633\u062a\u0648\u0646 \u0648 \u0686\u0646\u062f \u0628\u0627\u06cc\u062a\u061b \u0631\u0627\u0628\u0637\u0647 \u06cc \u0628\u06cc\u0646 \u062e\u0648\u0627\u0646\u062f\u0647 \u0648 \u0646\u0648\u0634\u062a\u0646 \u062f\u0627\u062f\u0647\u061b \u0633\u0627\u06cc\u0632 \u062f\u06cc\u062a\u0627\u0633\u06cc \u0641\u0639\u0627\u0644 \u0645\u0648\u0631\u062f \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0648 \u0646\u062d\u0648\u0647 \u06cc \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0622\u0646 \u0628\u0647 \u0635\u0648\u0631\u062a \u0645\u062d\u0644\u06cc\u061b \u0622\u06cc\u0627 \u0627\u0632 \u062a\u0631\u0627\u06a9\u0646\u0634 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f\u061b \u0686\u06af\u0648\u0646\u0647 \u062f\u0627\u062f\u0647 \u0647\u0627 \u062c\u062f\u0627 \u0645\u06cc \u0634\u0648\u0646\u062f\u061b \u0646\u06cc\u0627\u0632\u0645\u0646\u062f\u06cc \u0647\u0627 \u0628\u0631\u0627\u06cc replication \u062f\u0627\u062f\u0647 \u0647\u0627 \u0648 \u06cc\u06a9\u067e\u0627\u0631\u0686\u06af\u06cc \u0645\u0646\u0637\u0642\u06cc \u062f\u0627\u062f\u0647 \u0647\u0627\u061b \u0646\u06cc\u0627\u0632\u0645\u0646\u062f\u06cc \u0647\u0627 \u0628\u0631\u0627\u06cc latency \u0648 throughput \u0628\u0631\u0627\u06cc \u0647\u0631 \u0646\u0648\u0639 \u0627\u0632 query\u060c \u0648...</p>\n<p>\u0645\u0647\u0645\u062a\u0631 \u0627\u0632 \u0628\u0627\u0644\u0627 \u0628\u0648\u062f\u0646 \u0644\u0648\u062f \u0633\u06cc\u0633\u062a\u0645\u060c \u0633\u0641\u0627\u0631\u0634\u06cc \u06a9\u0631\u062f\u0646 \u0633\u06cc\u0633\u062a\u0645 \u0645\u0637\u0627\u0628\u0642 \u0628\u0627 \u0646\u06cc\u0627\u0632\u0645\u0646\u062f\u06cc \u0647\u0627\u06cc \u0633\u0646\u0627\u0631\u06cc\u0648 \u0645\u06cc \u0628\u0627\u0634\u062f\u060c \u0648 \u0627\u06cc\u0646 \u0633\u0641\u0627\u0631\u0634\u06cc \u0633\u0627\u0632\u06cc \u062f\u0631 \u0627\u062f\u0627\u0645\u0647 \u062f\u0642\u06cc\u0642 \u062a\u0631 \u0645\u06cc \u0634\u0648\u062f. \u0647\u06cc\u062c \u0633\u06cc\u0633\u062a\u0645\u06cc \u0648\u062c\u0648\u062f \u0646\u062f\u0627\u0631\u062f \u06a9\u0647 \u0645\u0646\u0627\u0633\u0628 \u0627\u0646\u062c\u0627\u0645 \u0633\u0646\u0627\u0631\u06cc\u0648 \u0647\u0627\u06cc \u0645\u062a\u0641\u0627\u0648\u062a(\u0628\u0633\u06cc\u0627\u0631 \u0645\u062a\u0641\u0627\u0648\u062a) \u0628\u0627\u0634\u062f. \u0627\u06af\u0631 \u06cc\u06a9 \u0633\u06cc\u0633\u062a\u0645 \u0628\u0631\u0627\u06cc \u0627\u062c\u0631\u0627\u06cc \u0633\u0646\u0627\u0631\u06cc\u0648 \u0647\u0627\u06cc \u0645\u062e\u062a\u0644\u0641 \u0622\u062f\u0627\u067e\u062a\u0647 \u0634\u062f\u0647 \u0628\u0627\u0634\u062f\u060c \u062f\u0631 \u0632\u0645\u0627\u0646 \u0628\u0627\u0644\u0627 \u0628\u0648\u062f\u0646 \u0644\u0648\u062f\u060c \u0633\u06cc\u0633\u062a\u0645 \u062a\u0645\u0627\u0645 \u0633\u0646\u0627\u0631\u06cc\u0648\u0647\u0627 \u0631\u0627 \u0628\u0647 \u0635\u0648\u0631\u062a \u0636\u0639\u06cc\u0641 handle \u0645\u06cc \u06a9\u0646\u062f.</p>\n<h3 id=\"wyjgy-hy-khlydy-ykh-snryw-olap\">\u0648\u06cc\u0698\u06af\u06cc \u0647\u0627\u06cc \u06a9\u0644\u06cc\u062f\u06cc \u06cc\u06a9 \u0633\u0646\u0627\u0631\u06cc\u0648 OLAP<a class=\"headerlink\" href=\"#wyjgy-hy-khlydy-ykh-snryw-olap\" title=\"Permanent link\">&para;</a></h3>\n<ul>\n<li>\u0627\u06a9\u062b\u0631\u06cc\u062a \u062f\u0631\u062e\u0648\u0627\u0633\u062a \u0647\u0627\u06cc \u0628\u0631\u0627\u06cc \u062e\u0648\u0627\u0646\u062f\u0646 \u0645\u06cc \u0628\u0627\u0634\u062f.</li>\n<li>\u062f\u0627\u062f\u0647 \u0647\u0627 \u0628\u0647 \u0635\u0648\u0631\u062a batch \u0647\u0627\u06cc \u0628\u0632\u0631\u06af (&lt; 1000 \u0631\u06a9\u0648\u0631\u062f) \u0648\u0627\u0631\u062f \u0645\u06cc \u0634\u0648\u0646\u062f\u060c \u0646\u0647 \u0628\u0647 \u0635\u0648\u0631\u062a \u062a\u06a9\u06cc\u061b \u06cc\u0627 \u0627\u06cc\u0646\u06a9\u0647 \u0627\u0635\u0644\u0627 \u0628\u0631\u0648\u0632 \u0646\u0645\u06cc \u0634\u0648\u0646\u062f.</li>\n<li>\u062f\u0627\u062f\u0647 \u0647\u0627 \u0628\u0647 \u062f\u06cc\u062a\u0627\u0628\u06cc\u0633 \u0627\u0636\u0627\u0641\u0647 \u0645\u06cc \u0634\u0648\u0646\u062f \u0648 \u062a\u063a\u06cc\u06cc\u0631 \u067e\u06cc\u062f\u0627 \u0646\u0645\u06cc \u06a9\u0646\u0646\u062f.</li>\n<li>\u0628\u0631\u0627\u06cc \u062e\u0648\u0627\u0646\u062f\u0646\u060c \u062a\u0639\u062f\u0627\u062f \u0632\u06cc\u0627\u062f\u06cc \u0627\u0632 \u0631\u06a9\u0648\u0631\u062f \u0647\u0627 \u0627\u0632 \u062f\u06cc\u062a\u0627\u0628\u06cc\u0633 \u0627\u0633\u062a\u062e\u0631\u0627\u062c \u0645\u06cc \u0634\u0648\u0646\u062f\u060c \u0627\u0645\u0627 \u0641\u0642\u0637 \u0686\u0646\u062f \u0633\u062a\u0648\u0646 \u0627\u0632 \u0631\u06a9\u0648\u0631\u062f \u0647\u0627.</li>\n<li>\u062c\u062f\u0627\u0648\u0644 \"wide\" \u0647\u0633\u062a\u0646\u062f\u060c \u0628\u0647 \u0627\u06cc\u0646 \u0645\u0639\u0646\u06cc \u062a\u0639\u062f\u0627\u062f \u0632\u06cc\u0627\u062f\u06cc \u0633\u062a\u0648\u0646 \u062f\u0627\u0631\u0646\u062f.</li>\n<li>query \u0647\u0627 \u0646\u0633\u0628\u062a\u0627 \u06a9\u0645 \u0647\u0633\u062a\u0646\u062f (\u0645\u0639\u0645\u0648\u0644\u0627 \u0635\u062f\u0647\u0627 query \u062f\u0631 \u062b\u0627\u0646\u06cc\u0647 \u0628\u0647 \u0627\u0632\u0627\u06cc \u0647\u0631 \u0633\u0631\u0648\u0631 \u06cc\u0627 \u06a9\u0645\u062a\u0631)</li>\n<li>\u0628\u0631\u0627\u06cc query \u0647\u0627\u06cc \u0633\u0627\u062f\u0647\u060c \u0632\u0645\u0627\u0646 \u062a\u0627\u062e\u06cc\u0631 50 \u0645\u06cc\u0644\u06cc \u062b\u0627\u0646\u06cc\u0647 \u0645\u062c\u0627\u0632 \u0628\u0627\u0634\u062f.</li>\n<li>\u0645\u0642\u0627\u062f\u06cc\u0631 \u0633\u062a\u0648\u0646 \u0647\u0627 \u06a9\u0648\u0686\u06a9 \u0628\u0627\u0634\u062f: \u0627\u0639\u062f\u0627\u062f \u0648 \u0631\u0634\u062a\u0647 \u0647\u0627\u06cc \u06a9\u0648\u062a\u0627\u0647 (\u0628\u0631\u0627\u06cc \u0645\u062b\u0627\u0644 60 \u0628\u0627\u06cc\u062a \u0628\u0647 \u0627\u0632\u0627\u06cc \u0647\u0631 url)</li>\n<li>\u0646\u06cc\u0627\u0632\u0645\u0646\u062f throughput \u0628\u0627\u0644\u0627 \u062f\u0631 \u0647\u0646\u06af\u0627\u0645 \u0627\u062c\u0631\u0627\u06cc \u06cc\u06a9 query (\u0628\u0627\u0644\u0627\u06cc \u06cc\u06a9 \u0645\u06cc\u0644\u06cc\u0627\u0631\u062f \u0631\u06a9\u0648\u0631\u062f \u062f\u0631 \u0647\u0631 \u062b\u0627\u0646\u06cc\u0647 \u0628\u0647 \u0627\u0632\u0627\u06cc \u0647\u0631 \u0633\u0631\u0648\u0631)</li>\n<li>\u062a\u0631\u0627\u06a9\u0646\u0634 \u0648\u0627\u062c\u0628 \u0646\u06cc\u0633\u062a.</li>\n<li>\u0646\u06cc\u0627\u0632\u0645\u0646\u062f\u06cc \u06a9\u0645 \u0628\u0631\u0627\u06cc consistency \u0628\u0648\u062f\u0646 \u062f\u0627\u062f\u0647 \u0647\u0627.</li>\n<li>\u0641\u0642\u0637 \u06cc\u06a9 \u062c\u062f\u0648\u0644 \u0628\u0632\u0631\u06af \u0628\u0647 \u0627\u0632\u0627\u06cc \u0647\u0631 query \u0648\u062c\u0648\u062f \u062f\u0627\u0631\u062f. \u062a\u0645\u0627\u0645 \u062c\u062f\u0627\u0648\u0644 \u06a9\u0648\u0686\u06a9 \u0647\u0633\u062a\u0646\u062f\u060c \u0628\u0647 \u062c\u0632 \u06cc\u06a9\u06cc.</li>\n<li>\u0646\u062a\u06cc\u062c\u0647 query \u0628\u0647 \u0637\u0648\u0644 \u0642\u0627\u0628\u0644 \u062a\u0648\u062c\u0647\u06cc \u06a9\u0648\u0686\u06a9\u062a\u0631 \u0627\u0632 source \u062f\u0627\u062f\u0647 \u0647\u0627 \u0645\u06cc \u0628\u0627\u0634\u062f. \u0628\u0647 \u0639\u0628\u0627\u0631\u062a\u06cc \u062f\u06cc\u06af\u0631 \u062f\u0631 \u06cc\u06a9 query\u060c \u062f\u0627\u062f\u0647 \u0647\u0627 \u0641\u06cc\u0644\u062a\u0631 \u06cc\u0627 \u062a\u062c\u0645\u06cc\u0639 \u0645\u06cc \u0634\u0648\u0646\u062f\u060c \u067e\u0633 \u0646\u062a\u0627\u06cc\u062c \u062f\u0631 RAM \u06cc\u06a9 \u0633\u0631\u0648\u0631 \u0641\u06cc\u062a \u0645\u06cc \u0634\u0648\u0646\u062f.</li>\n</ul>\n<p>\u062e\u0648\u0628 \u062e\u06cc\u0644\u06cc \u0633\u0627\u062f\u0647 \u0645\u06cc \u062a\u0648\u0627\u0646 \u062f\u06cc\u062f \u06a9\u0647 \u0633\u0646\u0627\u0631\u06cc\u0648 \u0647\u0627\u06cc OLAP \u062e\u06cc\u0644\u06cc \u0645\u062a\u0641\u0627\u0648\u062a \u062a\u0631 \u0627\u0632 \u062f\u06cc\u06af\u0631 \u0633\u0646\u0627\u0631\u06cc\u0648 \u0647\u0627\u06cc \u0645\u062d\u0628\u0648\u0628 \u0647\u0633\u062a\u0646\u062f (\u0645\u062b\u0644 OLTP \u06cc\u0627 Key-Value). \u067e\u0633 \u0627\u06af\u0631 \u0645\u06cc\u062e\u0648\u0627\u0647\u06cc\u062f performance \u0645\u0646\u0627\u0633\u0628 \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u06cc\u062f\u060c \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 \u062f\u06cc\u062a\u0627\u0628\u06cc\u0633 \u0647\u0627\u06cc OLTP \u06cc\u0627 Key-Value \u0628\u0631\u0627\u06cc \u0627\u062c\u0631\u0627\u06cc query \u0647\u0627\u06cc OLAP \u0645\u0639\u0646\u06cc \u0646\u062f\u0627\u0631\u062f. \u0628\u0631\u0627\u06cc \u0645\u062b\u0627\u0644\u060c \u0627\u06af\u0631 \u0634\u0645\u0627 \u0627\u0632 \u062f\u06cc\u062a\u0627\u0628\u06cc\u0633 MongoDB \u06cc\u0627 Redis \u0628\u0631\u0627\u06cc \u0622\u0646\u0627\u0644\u06cc\u0632 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u062f\u060c \u0642\u0637\u0639\u0627 performance \u0628\u0633\u06cc\u0627\u0631 \u0636\u0639\u06cc\u0641 \u062a\u0631\u06cc \u0646\u0633\u0628\u062a \u0628\u0647 \u062f\u06cc\u062a\u0627\u0628\u06cc\u0633 \u0647\u0627\u06cc OLAP \u062e\u0648\u0627\u0647\u06cc\u062f \u062f\u0627\u0634\u062a.</p>\n<h3 id=\"dlyl-brtry-dytbys-hy-stwn-gr-bry-snryw-hy-olap\">\u062f\u0644\u0627\u06cc\u0644 \u0628\u0631\u062a\u0631\u06cc \u062f\u06cc\u062a\u0627\u0628\u06cc\u0633 \u0647\u0627\u06cc \u0633\u062a\u0648\u0646 \u06af\u0631\u0627 \u0628\u0631\u0627\u06cc \u0633\u0646\u0627\u0631\u06cc\u0648 \u0647\u0627\u06cc OLAP<a class=\"headerlink\" href=\"#dlyl-brtry-dytbys-hy-stwn-gr-bry-snryw-hy-olap\" title=\"Permanent link\">&para;</a></h3>\n<p>\u062f\u06cc\u062a\u0627\u0628\u06cc\u0633 \u0647\u0627\u06cc \u0633\u062a\u0648\u0646 \u06af\u0631\u0627 \u0645\u0646\u0627\u0633\u0628 \u0633\u0646\u0627\u0631\u06cc\u0648 \u0647\u0627\u06cc OLAP \u0647\u0633\u062a\u0646\u062f\n (\u062d\u062f\u0627\u0642\u0644 100 \u0628\u0631\u0627\u0628\u0631 \u062f\u0631 \u0628\u06cc\u0634\u062a\u0631 query \u0647\u0627 \u0633\u0631\u0639\u062a \u067e\u0631\u062f\u0627\u0632\u0634 \u0622\u0646\u0647\u0627 \u0628\u0647\u062a\u0631 \u0627\u0633\u062a). \u062f\u0644\u0627\u06cc\u0644 \u0627\u06cc\u0646 \u0628\u0631\u062a\u0631\u06cc \u062f\u0631 \u067e\u0627\u06cc\u06cc\u0646 \u0634\u0631\u062d \u062f\u0627\u062f\u0647 \u0634\u062f\u0647 \u0627\u0633\u062a\u060c \u0627\u0645\u0627 \u0622\u0633\u0627\u0646\u062a\u0631\u0634 \u0627\u06cc\u0646 \u0647\u0633\u062a \u06a9\u0647 \u0628\u0647 \u0635\u0648\u0631\u062a visually \u0627\u06cc\u0646 \u062a\u0641\u0627\u0648\u062a \u0631\u0627 \u0628\u0628\u06cc\u0646\u06cc\u0645:</p>\n<p><strong>\u0631\u062f\u06cc\u0641 \u06af\u0631\u0627</strong></p>\n<p><img alt=\"Row oriented\" src=\"../images/row_oriented.gif\" /></p>\n<p><strong>\u0633\u062a\u0648\u0646 \u06af\u0631\u0627</strong></p>\n<p><img alt=\"Column oriented\" src=\"../images/column_oriented.gif\" /></p>\n<p>\u062a\u0641\u0627\u0648\u062a \u0631\u0627 \u062f\u06cc\u062f\u06cc\u062f\u061f \u0628\u06cc\u0634\u062a\u0631 \u0628\u062e\u0648\u0627\u0646\u06cc\u062f \u062a\u0627 \u06cc\u0627\u062f \u0628\u06af\u06cc\u0631\u06cc\u062f \u0686\u0631\u0627 \u0627\u06cc\u0646 \u0627\u062a\u0641\u0627\u0642 \u0631\u062e \u0645\u06cc\u062f\u0647\u062f.</p>\n<h4 id=\"input-output\">Input/output<a class=\"headerlink\" href=\"#input-output\" title=\"Permanent link\">&para;</a></h4>\n<ol>\n<li>\u0628\u0631\u0627\u06cc query \u0647\u0627\u06cc \u062a\u062d\u0644\u06cc\u0644\u06cc\u060c \u062a\u0646\u0647\u0627 \u0686\u0646\u062f \u0633\u062a\u0648\u0646 \u0627\u0632 \u062a\u0645\u0627\u0645 \u0633\u062a\u0648\u0646 \u0647\u0627\u06cc \u062c\u062f\u0648\u0644 \u0646\u06cc\u0627\u0632 \u0628\u0647 \u062e\u0648\u0627\u0646\u062f\u0646 \u062f\u0627\u0631\u062f. \u062f\u0631 \u06cc\u06a9 \u062f\u06cc\u062a\u0627\u0628\u06cc\u0633 \u0633\u062a\u0648\u0646 \u06af\u0631\u0627\u060c \u0634\u0645\u0627 \u0641\u0642\u0637 \u062f\u0627\u062f\u0647 \u06cc \u0645\u0648\u0631\u062f \u0646\u06cc\u0627\u0632 \u0631\u0627 \u0645\u06cc \u062e\u0648\u0627\u0646\u06cc\u062f. \u0628\u0631\u0627\u06cc \u0645\u062b\u0627\u0644\u060c \u0627\u06af\u0631 \u0634\u0645\u0627 \u0646\u06cc\u0627\u0632 \u0628\u0647 5 \u0633\u062a\u0648\u0646 \u0627\u0632 100 \u0633\u062a\u0648\u0646 \u0631\u0627 \u062f\u0627\u0631\u06cc\u062f\u060c \u0634\u0645\u0627 \u0645\u06cc \u062a\u0648\u0627\u0646\u06cc\u062f \u0627\u0646\u062a\u0638\u0627\u0631 20 \u0628\u0631\u0627\u0628\u0631 \u06a9\u0627\u0647\u0634 I/O \u0631\u0627 \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u06cc\u062f.</li>\n<li>\u0627\u0632 \u0622\u0646\u062c\u0627\u06cc\u06cc \u06a9\u0647 \u062f\u0627\u062f\u0647 \u062f\u0631 \u0628\u0633\u062a\u0647 \u0647\u0627 \u062e\u0648\u0627\u0646\u062f\u0647 \u0645\u06cc \u0634\u0648\u0646\u062f\u060c \u0641\u0634\u0631\u062f\u0647 \u0633\u0627\u0632\u06cc \u0633\u0627\u062f\u0647 \u0645\u06cc \u0628\u0627\u0634\u062f. \u0647\u0645\u0686\u0646\u06cc\u0646 \u062f\u0627\u062f\u0647 \u0647\u0627\u06cc \u0633\u062a\u0648\u0646 \u0647\u0627 \u0628\u0631\u0627\u06cc \u0641\u0634\u0631\u062f\u0647 \u0633\u0627\u0632\u06cc \u0633\u0627\u062f\u0647 \u0645\u06cc \u0628\u0627\u0634\u0646\u062f. \u0627\u06cc\u0646 \u0628\u0627\u0639\u062b \u06a9\u0627\u0647\u0634 \u0646\u0631\u062e I/O \u062f\u0631 \u0627\u062f\u0627\u0645\u0647 \u0645\u06cc \u0634\u0648\u062f.</li>\n<li>\u0628\u0627 \u062a\u0648\u062c\u0647 \u0628\u0647 \u06a9\u0627\u0647\u0634 I/O\u060c \u062f\u0627\u062f\u0647 \u0647\u0627\u06cc \u0628\u06cc\u0634\u062a\u0631\u06cc \u062f\u0631 system cache \u0642\u0631\u0627\u0631 \u0645\u06cc \u06af\u06cc\u0631\u0646\u062f.</li>\n</ol>\n<p>\u0628\u0631\u0627\u06cc \u0645\u062b\u0627\u0644\u060c query \"\u062a\u0639\u062f\u0627\u062f \u0631\u06a9\u0648\u0631\u062f\u0647\u0627 \u0628\u0647 \u0627\u0632\u0627\u06cc \u0647\u0631 \u0628\u0633\u062a\u0631 \u0646\u06cc\u0627\u0632\u0645\u0646\u062f\u06cc\" \u0646\u06cc\u0627\u0632\u0645\u0646\u062f \u062e\u0648\u0627\u0646\u062f\u0646 \u0633\u062a\u0648\u0646 \"\u0622\u06cc\u062f\u06cc \u0628\u0633\u062a\u0631 \u0622\u06af\u0647\u06cc\"\u060c \u06a9\u0647 1 \u0628\u0627\u06cc\u062a \u0628\u062f\u0648\u0646 \u0641\u0634\u0631\u062f\u0647 \u0637\u0648\u0644 \u0645\u06cc \u06a9\u0634\u062f\u060c \u062e\u0648\u0627\u0647\u062f \u0628\u0648\u062f. \u0627\u06af\u0631 \u0628\u06cc\u0634\u062a\u0631 \u062a\u0631\u0627\u0641\u06cc\u06a9 \u0645\u0631\u0628\u0648\u0637 \u0628\u0647 \u0628\u0633\u062a\u0631 \u0647\u0627\u06cc \u0646\u06cc\u0627\u0632\u0645\u0646\u062f\u06cc \u0646\u0628\u0648\u062f\u060c \u0634\u0645\u0627 \u0645\u06cc \u062a\u0648\u0627\u0646\u06cc\u062f \u0627\u0646\u062a\u0638\u0627\u0631 \u062d\u062f\u0627\u0642\u0644 10 \u0628\u0631\u0627\u0628\u0631 \u0641\u0634\u0631\u062f\u0647 \u0633\u0627\u0632\u06cc \u0627\u06cc\u0646 \u0633\u062a\u0648\u0646 \u0631\u0627 \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u06cc\u062f. \u0632\u0645\u0627\u0646\u06cc \u06a9\u0647 \u0627\u0632 \u0627\u0644\u06af\u0648\u0631\u06cc\u062a\u0645 \u0641\u0634\u0631\u062f\u0647 \u0633\u0627\u0632\u06cc quick \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u06a9\u0646\u06cc\u062f\u060c \u0639\u0645\u0644\u06cc\u0627\u062a decompression \u062f\u0627\u062f\u0647 \u0647\u0627 \u0628\u0627 \u0633\u0631\u0639\u062a \u062d\u062f\u0627\u0642\u0644 \u0686\u0646\u062f\u06cc\u0646 \u06af\u06cc\u06af\u0627\u0628\u0627\u06cc\u062a \u062f\u0631 \u062b\u0627\u0646\u06cc\u0647 \u0627\u0646\u062c\u0627\u0645 \u0645\u06cc \u0634\u0648\u062f. \u0628\u0647 \u0639\u0628\u0627\u0631\u062a \u062f\u06cc\u06af\u0631\u060c \u0627\u06cc\u0646 query \u062a\u0648\u0627\u0646\u0627\u06cc\u06cc \u067e\u0631\u062f\u0627\u0632\u0634 \u062a\u0642\u0631\u06cc\u0628\u0627 \u0686\u0646\u062f\u06cc\u0646 \u0645\u06cc\u0644\u06cc\u0627\u0631\u062f \u0631\u06a9\u0648\u0631\u062f \u062f\u0631 \u062b\u0627\u0646\u06cc\u0647 \u0628\u0647 \u0627\u0632\u0627\u06cc \u06cc\u06a9 \u0633\u0631\u0648\u0631 \u0631\u0627 \u062f\u0627\u0631\u062f. \u0627\u06cc\u0646 \u0633\u0631\u0639\u062a \u062f\u0631 \u0639\u0645\u0644 \u0648\u0627\u0642\u0639\u06cc \u0648 \u062f\u0633\u062a \u06cc\u0627\u0641\u062a\u0646\u06cc \u0627\u0633\u062a.</p>\n<details><p><summary>\u0645\u062b\u0627\u0644</summary></p><div class=\"codehilite\"><pre><span></span>$ clickhouse-client\nClickHouse client version <span class=\"m\">0</span>.0.52053.\nConnecting to localhost:9000.\nConnected to ClickHouse server version <span class=\"m\">0</span>.0.52053.\n\n:<span class=\"o\">)</span> SELECT CounterID, count<span class=\"o\">()</span> FROM hits GROUP BY CounterID ORDER BY count<span class=\"o\">()</span> DESC LIMIT <span class=\"m\">20</span>\n\nSELECT\n    CounterID,\n    count<span class=\"o\">()</span>\nFROM hits\nGROUP BY CounterID\nORDER BY count<span class=\"o\">()</span> DESC\nLIMIT <span class=\"m\">20</span>\n\n\u250c\u2500CounterID\u2500\u252c\u2500\u2500count<span class=\"o\">()</span>\u2500\u2510\n\u2502    <span class=\"m\">114208</span> \u2502 <span class=\"m\">56057344</span> \u2502\n\u2502    <span class=\"m\">115080</span> \u2502 <span class=\"m\">51619590</span> \u2502\n\u2502      <span class=\"m\">3228</span> \u2502 <span class=\"m\">44658301</span> \u2502\n\u2502     <span class=\"m\">38230</span> \u2502 <span class=\"m\">42045932</span> \u2502\n\u2502    <span class=\"m\">145263</span> \u2502 <span class=\"m\">42042158</span> \u2502\n\u2502     <span class=\"m\">91244</span> \u2502 <span class=\"m\">38297270</span> \u2502\n\u2502    <span class=\"m\">154139</span> \u2502 <span class=\"m\">26647572</span> \u2502\n\u2502    <span class=\"m\">150748</span> \u2502 <span class=\"m\">24112755</span> \u2502\n\u2502    <span class=\"m\">242232</span> \u2502 <span class=\"m\">21302571</span> \u2502\n\u2502    <span class=\"m\">338158</span> \u2502 <span class=\"m\">13507087</span> \u2502\n\u2502     <span class=\"m\">62180</span> \u2502 <span class=\"m\">12229491</span> \u2502\n\u2502     <span class=\"m\">82264</span> \u2502 <span class=\"m\">12187441</span> \u2502\n\u2502    <span class=\"m\">232261</span> \u2502 <span class=\"m\">12148031</span> \u2502\n\u2502    <span class=\"m\">146272</span> \u2502 <span class=\"m\">11438516</span> \u2502\n\u2502    <span class=\"m\">168777</span> \u2502 <span class=\"m\">11403636</span> \u2502\n\u2502   <span class=\"m\">4120072</span> \u2502 <span class=\"m\">11227824</span> \u2502\n\u2502  <span class=\"m\">10938808</span> \u2502 <span class=\"m\">10519739</span> \u2502\n\u2502     <span class=\"m\">74088</span> \u2502  <span class=\"m\">9047015</span> \u2502\n\u2502    <span class=\"m\">115079</span> \u2502  <span class=\"m\">8837972</span> \u2502\n\u2502    <span class=\"m\">337234</span> \u2502  <span class=\"m\">8205961</span> \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n<span class=\"m\">20</span> rows in set. Elapsed: <span class=\"m\">0</span>.153 sec. Processed <span class=\"m\">1</span>.00 billion rows, <span class=\"m\">4</span>.00 GB <span class=\"o\">(</span><span class=\"m\">6</span>.53 billion rows/s., <span class=\"m\">26</span>.10 GB/s.<span class=\"o\">)</span>\n\n:<span class=\"o\">)</span>\n</pre></div>\n\n</details><h4 id=\"cpu\">CPU<a class=\"headerlink\" href=\"#cpu\" title=\"Permanent link\">&para;</a></h4>\n<p>\u0627\u0632 \u0622\u0646\u062c\u0627\u06cc\u06cc \u06a9\u0647 \u0627\u062c\u0631\u0627\u06cc \u06cc\u06a9 query \u0646\u06cc\u0627\u0632\u0645\u0646\u062f \u067e\u0631\u062f\u0627\u0632\u0634 \u062a\u0639\u062f\u0627\u062f \u0632\u06cc\u0627\u062f\u06cc \u0633\u0637\u0631 \u0645\u06cc \u0628\u0627\u0634\u062f\u060c \u0627\u06cc\u0646 \u06a9\u0645\u06a9 \u0645\u06cc \u06a9\u0646\u062f \u062a\u0627 \u062a\u0645\u0627\u0645 \u0639\u0645\u0644\u06cc\u0627\u062a \u0647\u0627 \u0628\u0647 \u062c\u0627\u06cc \u0627\u0631\u0633\u0627\u0644 \u0628\u0647 \u0633\u0637\u0631\u0647\u0627\u06cc \u062c\u062f\u0627\u06af\u0627\u0646\u0647\u060c \u0628\u0631\u0627\u06cc \u06a9\u0644 \u0628\u0631\u062f\u0627\u0631 \u0627\u0631\u0633\u0627\u0644 \u0634\u0648\u062f\u060c \u06cc\u0627 \u0628\u0631\u0627\u06cc \u062a\u0631\u06a9\u06cc\u0628 query engine \u0628\u0647 \u0637\u0648\u0631\u06cc \u06a9\u0647 \u0647\u06cc\u0686 \u0647\u0632\u06cc\u0646\u0647 \u06cc \u0627\u0631\u0633\u0627\u0644\u06cc \u0648\u062c\u0648\u062f \u0646\u062f\u0627\u0631\u062f. \u0627\u06af\u0631 \u0627\u06cc\u0646 \u06a9\u0627\u0631 \u0631\u0648 \u0646\u06a9\u0646\u06cc\u062f\u060c \u0628\u0627 \u0647\u0631 half-decent disk subsystem\u060c \u062a\u0641\u0633\u06cc\u0631\u06af\u0631 query \u0646\u0627\u06af\u0632\u06cc\u0631 \u0627\u0633\u062a \u06a9\u0647 CPU \u0631\u0627 \u0645\u062a\u0648\u0642\u0641 \u06a9\u0646\u062f. \u0627\u06cc\u0646 \u0645\u0646\u0637\u0642\u06cc \u0627\u0633\u062a \u06a9\u0647 \u06a9\u0647 \u062f\u0631 \u0635\u0648\u0631\u062a \u0627\u0645\u06a9\u0627\u0646 \u0647\u0631 \u062f\u0648 \u06a9\u0627\u0631 \u0630\u062e\u06cc\u0631\u0647 \u0633\u0627\u0632\u06cc \u062f\u0627\u062f\u0647 \u062f\u0631 \u0633\u062a\u0648\u0646 \u0647\u0627 \u0648 \u067e\u0631\u062f\u0627\u0632\u0634 \u0633\u062a\u0648\u0646 \u0647\u0627 \u0628\u0627 \u0647\u0645 \u0627\u0646\u062c\u0627\u0645 \u0634\u0648\u062f.</p>\n<p>\u062f\u0648 \u0631\u0627\u0647 \u0628\u0631\u0627\u06cc \u0627\u0646\u062c\u0627\u0645 \u0627\u06cc\u0646 \u06a9\u0627\u0631 \u0648\u062c\u0648\u062f \u062f\u0627\u0631\u062f:</p>\n<ol>\n<li>\n<p>\u06cc\u06a9 \u0645\u0648\u062a\u0648\u0631 \u0628\u0631\u062f\u0627\u0631. \u062a\u0645\u0627\u0645 \u0639\u0645\u0644\u06cc\u0627\u062a \u0647\u0627 \u0628\u0647 \u062c\u0627\u06cc \u0645\u0642\u0627\u062f\u06cc\u0631 \u062c\u062f\u0627\u06af\u0627\u0646\u0647\u060c \u0628\u0631\u0627\u06cc \u0628\u0631\u062f\u0627\u0631\u0647\u0627 \u0646\u0648\u0634\u062a\u0647 \u0634\u0648\u0646\u062f. \u0627\u06cc\u0646 \u0628\u0647 \u0627\u06cc\u0646 \u0645\u0639\u0646\u06cc\u0633\u062a \u06a9\u0647 \u0634\u0645\u0627 \u062e\u06cc\u0644\u06cc \u0627\u0632 \u0645\u0648\u0627\u0642\u0639 \u0646\u06cc\u0627\u0632\u06cc \u0628\u0647 \u0635\u062f\u0627 \u06a9\u0631\u062f\u0646 \u0639\u0645\u0644\u06cc\u0627\u062a \u0647\u0627 \u0646\u062f\u0627\u0631\u06cc\u062f\u060c \u0648 \u0647\u0632\u06cc\u0646\u0647 \u0627\u0646\u062a\u0642\u0627\u0644 \u0646\u0627\u0686\u06cc\u0632 \u0627\u0633\u062a. \u06a9\u062f \u0639\u0645\u0644\u06cc\u0627\u062a\u06cc \u0634\u0627\u0645\u0644 \u06cc\u06a9 \u0686\u0631\u062e\u0647 \u062f\u0627\u062e\u0644\u06cc \u0628\u0647\u06cc\u0646\u0647 \u0634\u062f\u0647 \u0627\u0633\u062a.</p>\n</li>\n<li>\n<p>Code generation. \u06a9\u062f \u062a\u0648\u0644\u06cc\u062f \u0634\u062f\u0647 \u0628\u0631\u0627\u06cc query \u062f\u0627\u0631\u0627\u06cc \u062a\u0645\u0627\u0645 \u062a\u0645\u0627\u0633 \u0647\u0627\u06cc \u063a\u06cc\u0631\u0645\u0633\u062a\u0642\u06cc\u0645 \u062f\u0631 \u0622\u0646 \u0627\u0633\u062a.</p>\n</li>\n</ol>\n<p>\u0627\u06cc\u0646 \u062f\u0631 \u06cc\u06a9 \u062f\u06cc\u062a\u0627\u0628\u06cc\u0633 \u0646\u0631\u0645\u0627\u0644 \u0627\u0646\u062c\u0627\u0645 \u0646\u0645\u06cc \u0634\u0648\u062f\u060c \u0686\u0631\u0627 \u06a9\u0647 \u0628\u0631\u0627\u06cc \u0627\u062c\u0631\u0627\u06cc query \u0647\u0627\u06cc \u0633\u0627\u062f\u0647 \u0627\u06cc\u0646 \u06a9\u0627\u0631\u0647\u0627 \u0645\u0646\u0637\u0642\u06cc \u0646\u06cc\u0633\u062a. \u0647\u0631\u0686\u0646\u062f\u060c \u0627\u0633\u062a\u062b\u0646\u0627\u0647\u0627\u062a\u06cc \u0647\u0645 \u0648\u062c\u0648\u062f \u062f\u0627\u0631\u062f. \u0628\u0631\u0627\u06cc \u0645\u062b\u0627\u0644\u060c MemSQL \u0627\u0632 code generation \u0628\u0631\u0627\u06cc \u06a9\u0627\u0647\u0634 latency \u062f\u0631 \u0647\u0646\u06af\u0627\u0645 \u067e\u0631\u062f\u0627\u0632\u0634 query \u0647\u0627\u06cc SQL \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u06a9\u0646\u062f. (\u0628\u0631\u0627\u06cc \u0645\u0642\u0627\u06cc\u0633\u0647\u060c \u0645\u062f\u06cc\u0631\u06cc\u062a \u062f\u06cc\u062a\u0627\u0628\u06cc\u0633 \u0647\u0627\u06cc \u0622\u0646\u0627\u0644\u06cc\u0632\u06cc \u0646\u06cc\u0627\u0632\u0645\u0646\u062f \u0628\u0647\u06cc\u0646\u0647 \u0633\u0627\u0632\u06cc \u062a\u0648\u0627\u0646 \u0639\u0645\u0644\u06cc\u0627\u062a\u06cc (throughput) \u0647\u0633\u062a\u0646\u062f \u0646\u0647 latency.)</p>\n<p>\u062a\u0648\u062c\u0647 \u06a9\u0646\u06cc\u062f \u06a9\u0647 \u0628\u0631\u0627\u06cc \u06a9\u0627\u0631\u0627\u06cc\u06cc CPU\u060c query language \u0628\u0627\u06cc\u062f SQL \u06cc\u0627 MDX \u0628\u0627\u0634\u062f\u060c \u06cc\u0627 \u062d\u062f\u0627\u0642\u0644 \u06cc\u06a9 \u0628\u0631\u062f\u0627\u0631\u062f (J, K) \u0628\u0627\u0634\u062f. query \u0628\u0631\u0627\u06cc \u0628\u0647\u06cc\u0646\u0647 \u0633\u0627\u0632\u06cc \u0628\u0627\u06cc\u062f \u0641\u0642\u0637 \u062f\u0627\u0631\u0627\u06cc \u062d\u0644\u0642\u0647 \u0647\u0627\u06cc implicit \u0628\u0627\u0634\u062f.</p>\n</div>\n<p><a name=\"../introduction/distinctive_features/\"></a>\n<a name=\"introduction/distinctive_features/\"></a>\n<a name=\"../../../introduction/distinctive_features/\"></a>\n<a name=\"../../../../../introduction/distinctive_features/\"></a>\n<a name=\"../../../../introduction/distinctive_features/\"></a>\n<a name=\"../../introduction/distinctive_features/\"></a>\n<a name=\"distinctive_features/\"></a></p>\n<div dir=\"rtl\">\n<h2 id=\"wyjgy-hy-brjsth-clickhouse\">\u0648\u06cc\u0698\u06af\u06cc \u0647\u0627\u06cc \u0628\u0631\u062c\u0633\u062a\u0647 ClickHouse<a class=\"headerlink\" href=\"#wyjgy-hy-brjsth-clickhouse\" title=\"Permanent link\">&para;</a></h2>\n<h3 id=\"mdyryt-dytbys-stwn-gry-wq-y\">\u0645\u062f\u06cc\u0631\u06cc\u062a \u062f\u06cc\u062a\u0627\u0628\u06cc\u0633 \u0633\u062a\u0648\u0646 \u06af\u0631\u0627\u06cc \u0648\u0627\u0642\u0639\u06cc<a class=\"headerlink\" href=\"#mdyryt-dytbys-stwn-gry-wq-y\" title=\"Permanent link\">&para;</a></h3>\n<p>\u062f\u0631 \u06cc\u06a9 \u0645\u062f\u06cc\u0631\u06cc\u062a \u062f\u06cc\u062a\u0627\u0628\u06cc\u0633 \u0633\u062a\u0648\u0646 \u06af\u0631\u0627\u06cc \u0648\u0627\u0642\u0639\u06cc\u060c \u0647\u06cc\u0686 \u0645\u0642\u062f\u0627\u0631\u06cc \u0641\u0636\u0627\u06cc \u0627\u0636\u0627\u0641\u06cc \u0628\u0631\u0627\u06cc \u0630\u062e\u06cc\u0631\u0647 \u0633\u0627\u0632\u06cc \u0646\u062f\u0627\u0631\u062f. \u0628\u0631\u0627\u06cc \u0645\u062b\u0627\u0644\u060c \u0627\u06cc\u0646 \u0628\u0647 \u0627\u06cc\u0646 \u0645\u0639\u0646\u06cc\u0633\u062a \u06a9\u0647 \u0628\u0631\u0627\u06cc \u0645\u0642\u0627\u062f\u06cc\u0631\u060c constant-length \u0628\u0627\u06cc\u062f \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u0634\u0648\u0646\u062f \u062a\u0627 \u0627\u0632 \u0630\u062e\u06cc\u0631\u0647 \u0633\u0627\u0632\u06cc \u0637\u0648\u0644 \u0645\u0642\u062f\u0627\u0631 \u0628\u0647 \u0639\u0646\u0648\u0627\u0646 \u06cc\u0647 \u0639\u062f\u062f integer \u06a9\u0646\u0627\u0631 \u0645\u0642\u062f\u0627\u0631 \u062c\u0644\u0648\u06af\u06cc\u0631\u06cc \u0634\u0648\u062f. \u062f\u0631 \u0627\u06cc\u0646 \u0645\u0648\u0631\u062f\u060c \u06cc\u06a9 \u0645\u06cc\u0644\u06cc\u0627\u0631\u062f \u0645\u0642\u062f\u0627\u0631 Uint8 \u0628\u0627\u06cc\u062f \u062f\u0631 \u0648\u0627\u0642\u0639 \u062f\u0631 \u062d\u0627\u0644\u062a \u063a\u06cc\u0631\u0641\u0634\u0631\u062f\u0647 1 \u06af\u06cc\u06af\u0627\u0628\u0627\u06cc\u062a \u0641\u0636\u0627 \u0627\u0634\u063a\u0627\u0644 \u06a9\u0646\u062f\u060c \u062f\u0631 \u063a\u06cc\u0631\u0627\u06cc\u0646 \u0635\u0648\u0631\u062a \u0628\u0647 \u0634\u062f\u062a \u0628\u0631 \u0639\u0645\u0644\u06a9\u0631\u062f CPU \u062a\u0627\u062b\u06cc\u0631 \u0645\u06cc\u06af\u0630\u0627\u0631\u062f. \u0627\u06cc\u0646 \u062e\u06cc\u0644\u06cc \u0645\u0647\u0645 \u0647\u0633\u062a \u06a9\u0647 \u062f\u0627\u062f\u0647 \u0647\u0627 \u0628\u0647 \u0635\u0648\u0631\u062a compact \u0630\u062e\u06cc\u0631\u0647 \u0633\u0627\u0632\u06cc \u0634\u0648\u0646\u062f \u062d\u062a\u06cc \u0632\u0645\u0627\u0646\u06cc \u06a9\u0647 uncompressed \u0647\u0633\u062a\u0646\u062f\u060c \u0627\u0632 \u0622\u0646\u062c\u0627 \u06a9\u0647 \u0633\u0631\u0639\u062a \u0633\u0631\u0639\u062a decompress (CPU Usage) \u0639\u0645\u062f\u062a\u0627 \u0628\u0647 \u062d\u062c\u0645 \u062f\u0627\u062f\u0647 \u0647\u0627\u06cc uncompress \u0628\u0633\u062a\u06af\u06cc \u062f\u0627\u0631\u062f.</p>\n<p>\u0627\u06cc\u0646 \u0628\u0633\u06cc\u0627\u0631 \u0642\u0627\u0628\u0644 \u062a\u0648\u062c\u0647 \u0627\u0633\u062a \u0686\u0648\u0646 \u0633\u06cc\u0633\u062a\u0645 \u0647\u0627\u06cc\u06cc \u0648\u062c\u0648\u062f \u062f\u0627\u0631\u0646\u062f \u06a9\u0647 \u062a\u0648\u0627\u0646\u0627\u06cc\u06cc \u0630\u062e\u06cc\u0631\u0647 \u0633\u0627\u0632\u06cc \u0645\u0642\u0627\u062f\u06cc\u0631 \u0633\u062a\u0648\u0646 \u0647\u0627 \u0631\u0627 \u0628\u0647 \u0635\u0648\u0631\u062a \u062c\u062f\u0627\u06af\u0627\u0646\u0647 \u062f\u0627\u0631\u0646\u062f\u060c \u0627\u0645\u0627 \u0628\u0647 \u062f\u0644\u06cc\u0644 \u0628\u0647\u06cc\u0646\u0647 \u0633\u0627\u0632\u06cc \u0622\u0646\u0647\u0627 \u0628\u0631\u0627\u06cc \u062f\u06cc\u06af\u0631 \u0633\u0646\u0627\u0631\u06cc\u0648 \u0647\u0627\u060c \u0646\u0645\u06cc\u062a\u0648\u0627\u0646\u0646\u062f \u0628\u0647 \u0637\u0648\u0631 \u0645\u0648\u062b\u0631 \u067e\u0631\u062f\u0627\u0632\u0634 \u0647\u0627\u06cc \u062a\u062d\u06cc\u0644\u06cc \u0627\u0646\u062c\u0627\u0645 \u062f\u0647\u0646\u062f. \u0628\u0631\u0627\u06cc \u0645\u062b\u0627\u0644 HBase\u060c BigTable\u060c Cassandra \u0648 HyperTable. \u062f\u0631 \u0627\u06cc\u0646 \u0633\u06cc\u0633\u062a\u0645 \u0647\u0627\u060c \u0634\u0645\u0627 \u062a\u0648\u0627\u0646 \u0639\u0645\u0644\u06cc\u0627\u062a\u06cc \u062d\u062f\u0648\u062f \u0635\u062f\u0647\u0627 \u0647\u0632\u0627\u0631 \u0633\u0637\u0631 \u062f\u0631 \u062b\u0627\u0646\u06cc\u0647 \u0631\u0627 \u062f\u0627\u0631\u06cc\u062f\u060c \u0627\u0645\u0627 \u0646\u0647 \u0635\u062f\u0647\u0627 \u0645\u06cc\u0644\u06cc\u0648\u0646 \u0633\u0637\u0631 \u062f\u0631 \u062b\u0627\u0646\u06cc\u0647.</p>\n<p>\u0647\u0645\u0686\u0646\u06cc\u0646 \u062a\u0648\u062c\u0647 \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u06cc\u062f \u06a9\u0647 ClickHouse \u06cc\u06a9 \u0645\u062f\u06cc\u0631\u06cc\u062a \u062f\u06cc\u062a\u0627\u0628\u06cc\u0633 \u0627\u0633\u062a \u0646\u0647 \u0641\u0642\u0637 \u06cc\u06a9 \u062f\u06cc\u062a\u0627\u0628\u06cc\u0633. ClickHouse \u0627\u062c\u0627\u0632\u0647 \u0645\u06cc\u062f\u0647\u062f \u06a9\u0647 \u062f\u0631 \u0632\u0645\u0627\u0646 \u0627\u062c\u0631\u0627 \u0627\u0642\u062f\u0627\u0645 \u0628\u0647 \u0633\u0627\u062e\u062a \u062c\u062f\u0648\u0644\u060c \u062f\u06cc\u062a\u0627\u0628\u06cc\u0633 \u06a9\u0646\u06cc\u062f\u060c \u062f\u0627\u062f\u0647 load \u06a9\u0646\u06cc\u062f \u0648 query \u0647\u0627\u06cc \u062e\u0648\u062f \u0631\u0627 \u0628\u062f\u0648\u0646 restart \u0648 \u06cc\u0627 reconfigure \u0645\u062c\u062f\u062f \u0633\u0631\u0648\u0631\u060c \u0627\u062c\u0631\u0627 \u06a9\u0646\u06cc\u062f</p>\n<h3 id=\"fshrdh-szy-ddh-h\">\u0641\u0634\u0631\u062f\u0647 \u0633\u0627\u0632\u06cc \u062f\u0627\u062f\u0647 \u0647\u0627<a class=\"headerlink\" href=\"#fshrdh-szy-ddh-h\" title=\"Permanent link\">&para;</a></h3>\n<p>\u0628\u0639\u0636\u06cc \u062f\u06cc\u062a\u0627\u0628\u06cc\u0633 \u0647\u0627\u06cc \u0633\u062a\u0648\u0646 \u06af\u0631\u0627 (InfiniDB CE \u06cc\u0627 MonetDB) \u0627\u0632 \u0641\u0634\u0631\u062f\u0647 \u0633\u0627\u0632\u06cc \u062f\u0627\u062f\u0647 \u0647\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0646\u0645\u06cc \u06a9\u0646\u0646\u062f. \u0628\u0627 \u0627\u06cc\u0646 \u062d\u0627\u0644\u060c \u0641\u0634\u0631\u062f\u0647 \u0633\u0627\u0632\u06cc \u062f\u0627\u062f\u0647 \u0647\u0627 \u0628\u0631\u0627\u06cc \u0631\u0633\u06cc\u062f\u0646 \u0628\u0647 \u0639\u0645\u0644\u06a9\u0631\u062f \u0639\u0627\u0644\u06cc \u0636\u0631\u0648\u0631\u06cc \u0627\u0633\u062a.</p>\n<h3 id=\"disk-storage-of-data\">Disk storage of data<a class=\"headerlink\" href=\"#disk-storage-of-data\" title=\"Permanent link\">&para;</a></h3>\n<p>\u062e\u06cc\u0644\u06cc \u0627\u0632 \u0645\u062f\u06cc\u0631\u06cc\u062a \u062f\u06cc\u062a\u0627\u0628\u06cc\u0633 \u0647\u0627\u06cc \u0633\u062a\u0648\u0646 \u06af\u0631\u0627 (\u0645\u062b\u0644 SAP HANA \u0648 Google PowerDrill) \u0641\u0642\u0637 \u062f\u0627\u062e\u0644 RAM \u06a9\u0627\u0631 \u0645\u06cc \u06a9\u0646\u0646\u062f. \u0627\u06cc\u0646 \u0631\u0648\u06cc\u06a9\u0631\u062f \u0645\u0646\u062c\u0631 \u0628\u0647 \u062a\u062e\u0635\u06cc\u0635 \u0628\u0648\u062f\u062c\u0647 \u0633\u062e\u062a \u0627\u0641\u0632\u0627\u0631\u06cc \u0628\u0627\u0644\u0627 \u0628\u0631\u0627\u06cc \u062a\u062d\u0642\u0642 \u0622\u0646\u0627\u0644\u06cc\u0632 \u0647\u0627\u06cc real-time \u0645\u06cc \u0634\u0648\u062f. ClickHouse \u0628\u0631\u0627\u06cc \u06a9\u0627\u0631 \u0628\u0631 \u0631\u0648\u06cc \u0647\u0627\u0631\u062f \u062f\u06cc\u0633\u06a9 \u0647\u0627\u06cc \u0645\u0639\u0645\u0648\u0644\u06cc \u0637\u0631\u0627\u062d\u06cc \u0634\u062f\u0647 \u0627\u0633\u062a\u060c \u06a9\u0647 \u0647\u0632\u06cc\u0646\u0647 \u06cc \u0628\u0631\u0627\u06cc \u0647\u0631 \u06af\u06cc\u06af\u0627\u0628\u0627\u06cc\u062a \u062f\u0627\u062f\u0647 \u0631\u0627 \u062a\u0636\u0645\u06cc\u0646 \u0645\u06cc \u06a9\u0646\u062f\u060c \u0627\u0645\u0627 \u0627\u06af\u0631 SSD \u0648 RAM \u0645\u0648\u062c\u0648\u062f \u0628\u0627\u0634\u062f \u0628\u0647 \u0637\u0648\u0631 \u06a9\u0627\u0645\u0644 \u0645\u0648\u0631\u062f \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0642\u0631\u0627\u0631 \u0645\u06cc \u06af\u06cc\u0631\u062f.</p>\n<h3 id=\"prdzsh-mwzy-rwy-chndyn-hsth\">\u067e\u0631\u062f\u0627\u0632\u0634 \u0645\u0648\u0627\u0632\u06cc \u0631\u0648\u06cc \u0686\u0646\u062f\u06cc\u0646 \u0647\u0633\u062a\u0647<a class=\"headerlink\" href=\"#prdzsh-mwzy-rwy-chndyn-hsth\" title=\"Permanent link\">&para;</a></h3>\n<p>query \u0647\u0627\u06cc \u0628\u0632\u0631\u06af \u0628\u0647 \u0637\u0648\u0631 \u0637\u0628\u06cc\u0639\u06cc \u0628\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 \u062a\u0645\u0627\u0645 \u0645\u0646\u0627\u0628\u0639 \u0645\u0648\u062c\u0648\u062f \u062f\u0631 \u0631\u0648\u06cc \u0633\u0631\u0648\u0631 \u0641\u0639\u0644\u06cc\u060c \u0645\u0648\u0627\u0632\u06cc \u0633\u0627\u0632\u06cc \u0645\u06cc \u0634\u0648\u0646\u062f.</p>\n<h3 id=\"prdzsh-twzy-shdh-br-rwy-chndyn-srwr\">\u067e\u0631\u062f\u0627\u0632\u0634 \u062a\u0648\u0632\u06cc\u0639 \u0634\u062f\u0647 \u0628\u0631 \u0631\u0648\u06cc \u0686\u0646\u062f\u06cc\u0646 \u0633\u0631\u0648\u0631<a class=\"headerlink\" href=\"#prdzsh-twzy-shdh-br-rwy-chndyn-srwr\" title=\"Permanent link\">&para;</a></h3>\n<p>\u062a\u0642\u0631\u06cc\u0628\u0627 \u0647\u06cc\u0686 \u06a9\u062f\u0627\u0645 \u0627\u0632 DBMS \u0647\u0627\u06cc\u06cc \u06a9\u0647 \u0628\u0627\u0644\u0627\u062a\u0631 \u0630\u06a9\u0631 \u0634\u062f\u060c \u0627\u0632 \u0627\u062c\u0631\u0627\u06cc query \u0647\u0627 \u0628\u0647 \u0635\u0648\u0631\u062a \u062a\u0648\u0632\u06cc\u0639 \u0634\u062f\u0647 \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u0646\u0645\u06cc \u06a9\u0646\u0646\u062f. \u062f\u0631 ClickHouse\u060c \u062f\u0627\u062f\u0647 \u0647\u0627 \u0645\u06cc \u062a\u0648\u0627\u0646\u0646 \u062f\u0631 shard \u0647\u0627\u06cc \u0645\u062e\u062a\u0644\u0641 \u0645\u0633\u062a\u0642\u0631 \u0634\u0648\u0646\u062f. \u0647\u0631 shard \u0645\u06cc\u062a\u0648\u0627\u0645\u0646\u062f \u06af\u0631\u0648\u0647\u06cc \u0627\u0632 replica \u0647\u0627 \u0628\u0631\u0627\u06cc \u0628\u0627\u0644\u0627 \u0628\u0631\u062f\u0646 \u062a\u062d\u0645\u0644 \u067e\u0630\u06cc\u0631\u06cc \u062f\u0631 \u0628\u0631\u0627\u0628\u0631 \u062e\u0637\u0627 (fault tolerance) \u0631\u0627 \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u062f. \u06cc\u06a9 query \u0628\u0647 \u0635\u0648\u0631\u062a \u0645\u0648\u0627\u0632\u06cc \u0628\u0631 \u0631\u0648\u06cc \u062a\u0645\u0627\u0645\u06cc shard \u0647\u0627\u06cc \u0627\u062c\u0631\u0627 \u0645\u06cc \u0634\u0648\u062f. \u0627\u06cc\u0646 \u0628\u0631\u0627\u06cc \u06a9\u0627\u0631\u0628\u0631 \u0634\u0641\u0627\u0641 \u0627\u0633\u062a.</p>\n<h3 id=\"pshtybny-sql\">\u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc SQL<a class=\"headerlink\" href=\"#pshtybny-sql\" title=\"Permanent link\">&para;</a></h3>\n<p>\u0627\u06af\u0631 \u0634\u0645\u0627 \u0628\u0627 SQL \u0622\u0634\u0646\u0627 \u0628\u0627\u0634\u06cc\u062f\u060c \u0645\u0627 \u0648\u0627\u0642\u0639\u0627 \u0646\u0645\u06cc\u062a\u0648\u0646\u06cc\u0645 \u062f\u0631 \u0645\u0648\u0631\u062f \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u0627\u0632 SQL \u0635\u062d\u0628\u062a \u06a9\u0646\u06cc\u0645. \u062a\u0645\u0627\u0645 \u062a\u0648\u0627\u0628\u0639 \u0627\u0633\u0645 \u0647\u0627\u06cc \u0645\u062e\u062a\u0644\u0641\u06cc \u062f\u0627\u0631\u0646\u062f. \u0628\u0627 \u0627\u06cc\u0646 \u062d\u0627\u0644\u060c \u0627\u06cc\u0646 \u06cc\u06a9 \u0632\u0628\u0627\u0646 \u0628\u0631 \u067e\u0627\u06cc\u0647 SQL \u0647\u0633\u062a \u06a9\u0647 \u0646\u0645\u06cc\u062a\u0648\u0627\u0646\u062f \u062f\u0631 \u0628\u0633\u06cc\u0627\u0631\u06cc \u0627\u0632 \u0645\u0648\u0627\u0631\u062f \u0628\u0627 SQL \u0645\u062a\u0641\u0627\u0648\u062a \u0628\u0627\u0634\u062f. JOIN \u0647\u0627 \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u0645\u06cc \u0634\u0648\u062f. subquery \u0647\u0627 \u062f\u0631 FROM\u060c IN \u0648 JOIN \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u0645\u06cc \u0634\u0648\u062f. Dependent subquery \u0647\u0627 \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u0646\u0645\u06cc \u0634\u0648\u062f.</p>\n<p>ClickHouse \u0632\u0628\u0627\u0646 \u0628\u0631 \u067e\u0627\u06cc\u0647 SQL \u0627\u0633\u062a \u06a9\u0647 \u062f\u0631 \u0628\u0633\u06cc\u0627\u0631\u06cc \u0627\u0632 \u0645\u0648\u0627\u0631\u062f \u0627\u0632 \u0627\u0633\u062a\u0627\u0646\u062f\u0627\u0631\u062f SQL \u067e\u06cc\u0631\u0648\u06cc \u0645\u06cc \u06a9\u0646\u062f. GROUP BY\u060c ORDER BY\u060c scalar subquery \u0647\u0627 \u062f\u0631 FROM\u060c IN \u0648 JOIN \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u0645\u06cc \u0634\u0648\u062f. subquery \u0647\u0627\u06cc \u0645\u0631\u062a\u0628\u0637 \u0648 window function \u0647\u0627 \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u0646\u0645\u06cc \u0634\u0648\u062f.</p>\n<h3 id=\"mwtwr-brdrd\">\u0645\u0648\u062a\u0648\u0631 \u0628\u0631\u062f\u0627\u0631\u062f<a class=\"headerlink\" href=\"#mwtwr-brdrd\" title=\"Permanent link\">&para;</a></h3>\n<p>\u062f\u0627\u062f\u0647 \u0647\u0627 \u0646\u0647 \u0641\u0642\u0637 \u0628\u0631\u0627\u0633\u0627\u0633 \u0633\u062a\u0648\u0646 \u0647\u0627 \u0630\u062e\u06cc\u0631\u0647 \u0645\u06cc \u0634\u0648\u0646\u062f\u060c \u0628\u0644\u06a9\u0647 \u0628\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 \u0628\u0631\u062f\u0627\u0631\u062f\u0647\u0627 (\u0628\u062e\u0634\u06cc \u0627\u0632 \u0633\u062a\u0648\u0646 \u0647\u0627) \u067e\u0631\u062f\u0627\u0632\u0634 \u0645\u06cc \u0634\u0648\u0646\u062f. \u0627\u06cc\u0646 \u0642\u0627\u0628\u0644\u06cc\u062a \u0628\u0627\u0639\u062b \u0631\u0633\u06cc\u062f\u0646 \u0628\u0647 \u0628\u0647\u0631\u0647 \u0648\u0631\u06cc \u0628\u0627\u0644\u0627\u06cc CPU \u0645\u06cc \u0634\u0648\u062f.</p>\n<h3 id=\"brwzrsny-ddh-h-bh-swrt-real-time\">\u0628\u0631\u0648\u0632\u0631\u0633\u0627\u0646\u06cc \u062f\u0627\u062f\u0647 \u0647\u0627 \u0628\u0647 \u0635\u0648\u0631\u062a Real-Time<a class=\"headerlink\" href=\"#brwzrsny-ddh-h-bh-swrt-real-time\" title=\"Permanent link\">&para;</a></h3>\n<p>ClickHouse \u0627\u0632 \u062c\u062f\u0627\u0648\u0644 \u062f\u0627\u0631\u0627\u06cc Primary Key \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u0645\u06cc \u06a9\u0646\u062f. \u0628\u0647 \u0645\u0646\u0638\u0648\u0631 \u0627\u062c\u0631\u0627\u06cc query \u0647\u0627\u06cc range \u0628\u0631 \u0631\u0648\u06cc Primary Key\u060c \u062f\u0627\u062f\u0647 \u0647\u0627 \u0628\u0647 \u0635\u0648\u0631\u062a \u0627\u0641\u0632\u0627\u06cc\u0634\u06cc (\u0645\u0631\u062a\u0628 \u0634\u062f\u0647) \u0628\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 merge tree \u0630\u062e\u06cc\u0631\u0647 \u0633\u0627\u0632\u06cc \u0645\u06cc \u0634\u0648\u0646\u062f. \u0628\u0627 \u062a\u0648\u062c\u0647 \u0628\u0647 \u0627\u06cc\u0646\u060c \u062f\u0627\u062f\u0647 \u0647\u0627 \u0645\u06cc \u062a\u0648\u0627\u0646\u0646\u062f \u0628\u0647 \u0637\u0648\u0631 \u067e\u06cc\u0648\u0633\u062a\u0647 \u0628\u0647 \u062c\u062f\u0648\u0644 \u0627\u0636\u0627\u0641\u0647 \u0634\u0648\u0646\u062f. \u0647\u06cc\u0686 \u0646\u0648\u0639 lock \u062f\u0631 \u0647\u0646\u06af\u0627\u0645 \u0645\u0635\u0631\u0641 \u062f\u0627\u062f\u0647 \u0647\u0627 \u0648\u062c\u0648\u062f \u0646\u062f\u0627\u0631\u062f.</p>\n<h3 id=\"index\">Index<a class=\"headerlink\" href=\"#index\" title=\"Permanent link\">&para;</a></h3>\n<p>\u062f\u0627\u0634\u062a\u0646 \u062f\u0627\u062f\u0647 \u0647\u0627 \u0628\u0647 \u0635\u0648\u0631\u062a \u0641\u06cc\u0632\u06cc\u06a9\u06cc \u0648 \u0645\u0631\u062a\u0628 \u0634\u062f\u0647 \u0628\u0631\u0627\u0633\u0627\u0633 Primary Key \u0627\u06cc\u0646 \u0642\u0627\u0628\u0644\u06cc\u062a \u0631\u0627 \u0645\u06cc \u062f\u0647\u062f \u06a9\u0647 \u0627\u0633\u062a\u062e\u0631\u0627\u062c \u06a9\u0631\u062f\u0646 \u062f\u0627\u062f\u0647 \u0628\u0631\u0627\u06cc \u0645\u0642\u062f\u0627\u0631 \u062e\u0627\u0635 \u0648 \u06cc\u0627 \u0645\u0642\u0627\u062f\u06cc\u0631 range \u0628\u0627 \u06a9\u0645\u062a\u0631\u06cc\u0646 latencey\u060c \u06cc\u0639\u0646\u06cc \u06a9\u0645\u062a\u0631 \u0627\u0632 \u0686\u0646\u062f \u0647\u0632\u0627\u0631 \u0645\u06cc\u0644\u06cc \u062b\u0627\u0646\u06cc\u0647 \u0645\u0645\u06a9\u0646 \u0634\u0648\u062f.</p>\n<h3 id=\"mnsb-bry-query-hy-anlyn\">\u0645\u0646\u0627\u0633\u0628 \u0628\u0631\u0627\u06cc query \u0647\u0627\u06cc \u0622\u0646\u0644\u0627\u06cc\u0646<a class=\"headerlink\" href=\"#mnsb-bry-query-hy-anlyn\" title=\"Permanent link\">&para;</a></h3>\n<p>latency \u067e\u0627\u06cc\u06cc\u0646 \u0628\u0647 \u0627\u06cc\u0646 \u0645\u0639\u0646\u06cc \u0627\u0633\u062a \u06a9\u0647 query \u0647\u0627 \u0628\u062a\u0648\u0646\u0646 \u0628\u062f\u0648\u0646 delay \u0648 \u0628\u062f\u0648\u0646 \u062a\u0644\u0627\u0634 \u0628\u0631\u0627\u06cc \u0631\u0633\u06cc\u062f\u0646 \u0628\u0647 \u067e\u06cc\u0634 \u067e\u0627\u0633\u062e(\u0627\u0632 \u0642\u0628\u0644 \u0645\u062d\u0627\u0633\u0628\u0647 \u0634\u062f\u0647) \u062f\u0642\u06cc\u0642\u0627 \u062f\u0631 \u0647\u0645\u0627\u0646 \u0644\u062d\u0638\u0647 \u06a9\u0647 \u06a9\u0627\u0631\u0628\u0631 \u062f\u0631 \u062d\u0627\u0644 load \u0635\u0641\u062d\u0647 \u0627\u0633\u062a \u067e\u0631\u062f\u0627\u0632\u0634 \u0634\u0648\u0646\u062f. \u0628\u0647 \u0639\u0628\u0627\u0631\u062a\u06cc \u062f\u06cc\u06af\u0631\u060c \u0622\u0646\u0644\u0627\u06cc\u0646</p>\n<h3 id=\"pshtybny-z-mhsbt-tqryby\">\u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u0627\u0632 \u0645\u062d\u0627\u0633\u0628\u0627\u062a \u062a\u0642\u0631\u06cc\u0628\u06cc<a class=\"headerlink\" href=\"#pshtybny-z-mhsbt-tqryby\" title=\"Permanent link\">&para;</a></h3>\n<p>ClickHouse \u0631\u0648\u0634 \u0647\u0627\u06cc \u0645\u062e\u062a\u0644\u0641\u06cc \u0628\u0631\u0627\u06cc \u06a9\u0633\u0628 \u062f\u0642\u06cc\u0642 performance \u0627\u0631\u0627\u0626\u0647 \u0645\u06cc \u062f\u0647\u062f:</p>\n<ol>\n<li>\u062a\u0648\u0627\u0628\u0639 Aggregate \u0628\u0631\u0627\u06cc \u0645\u062d\u0627\u0633\u0628\u0627\u062a \u062a\u0642\u0631\u06cc\u0628\u06cc \u062a\u0639\u062f\u0627\u062f \u0645\u0642\u0627\u062f\u06cc\u0631 \u0645\u062a\u0645\u0627\u06cc\u0632 (distinct)\u060c median \u0648 quantity \u0647\u0627</li>\n<li>\u0627\u062c\u0631\u0627\u06cc \u06cc\u06a9 query \u0628\u0631 \u067e\u0627\u06cc\u0647 \u0628\u062e\u0634\u06cc \u0627\u0632 \u062f\u0627\u062f\u0647 \u0647\u0627 (\u062f\u0627\u062f\u0647 \u06cc sample) \u0648 \u062f\u0631\u06cc\u0627\u0641\u062a \u062e\u0631\u0648\u062c\u06cc \u062a\u0642\u0631\u06cc\u0628\u06cc. \u062f\u0631 \u0627\u06cc\u0646 \u0645\u0648\u0631\u062f \u062f\u0627\u062f\u0647 \u06cc \u0646\u0633\u0628\u062a\u0627 \u06a9\u0645\u062a\u0631\u06cc \u0627\u0632 \u062f\u06cc\u0633\u06a9 \u0628\u0627\u0632\u06cc\u0627\u0628\u06cc \u0645\u06cc \u0634\u0648\u062f.</li>\n<li>\u0627\u062c\u0631\u0627\u06cc \u06cc\u06a9 Aggregation \u0628\u0631\u0627\u06cc \u062a\u0639\u062f\u0627\u062f \u0645\u062d\u062f\u0648\u062f\u06cc \u0627\u0632 \u06a9\u0644\u06cc\u062f \u0647\u0627\u06cc \u062a\u0635\u0627\u0641\u06cc\u060c \u0628\u0647 \u062c\u0627\u06cc \u062a\u0645\u0627\u0645 \u06a9\u0644\u06cc\u062f \u0647\u0627. \u062f\u0631 \u0634\u0631\u0627\u06cc\u0637 \u062e\u0627\u0635 \u0628\u0631\u0627\u06cc \u062a\u0648\u0632\u06cc\u0639 \u06a9\u0644\u06cc\u062f \u062f\u0631 \u062f\u0627\u062f\u0647 \u0647\u0627\u060c \u0627\u06cc\u0646 \u0631\u0648\u0634 \u06a9\u0645\u06a9 \u0645\u06cc \u06a9\u0646\u062f \u0628\u0647 \u0646\u062a\u0627\u06cc\u062c \u0645\u0646\u0637\u0642\u06cc \u0628\u0631\u0633\u06cc\u0645 \u0628\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 \u0645\u0646\u0627\u0628\u0639 \u06a9\u0645\u062a\u0631.</li>\n</ol>\n<h3 id=\"replication-ddh-h-w-integrity\">Replication \u062f\u0627\u062f\u0647 \u0647\u0627 \u0648 integrity<a class=\"headerlink\" href=\"#replication-ddh-h-w-integrity\" title=\"Permanent link\">&para;</a></h3>\n<p>ClickHouse \u0627\u0632 \u0631\u0648\u0634 asynchronous multimaster replication \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u06a9\u0646\u062f. \u0628\u0639\u062f \u0627\u0632 \u0646\u0648\u0634\u062a\u0646 \u062f\u0627\u062f\u0647 \u062f\u0631 \u06cc\u06a9\u06cc \u0627\u0632 replica \u0647\u0627\u06cc \u0645\u0648\u062c\u0648\u062f\u060c \u062f\u0627\u062f\u0647 \u0628\u0647 \u0635\u0648\u0631\u062a \u062a\u0648\u0632\u06cc\u0639 \u0634\u062f\u0647 \u0628\u0647 \u0628\u0642\u06cc\u0647 replica \u0647\u0627 \u0645\u0646\u062a\u0642\u0644 \u0645\u06cc \u0634\u0648\u062f. \u0627\u06cc\u0646 \u0633\u06cc\u0633\u062a\u0645 \u062f\u0627\u062f\u0647 \u0647\u0627\u06cc \u0645\u0634\u0627\u0628\u0647 \u0631\u0627 \u062f\u0631 replica \u0647\u0627\u06cc \u0645\u062e\u062a\u0644\u0641 \u0646\u06af\u0647 \u062f\u0627\u0631\u06cc \u0645\u06cc \u06a9\u0646\u062f. \u062f\u0631 \u0627\u06a9\u062b\u0631 \u0645\u0648\u0627\u0631\u062f \u06a9\u0647 \u0633\u06cc\u0633\u062a\u0645 fail \u0645\u06cc \u0634\u0648\u0646\u062f\u060c \u062f\u0627\u062f\u0647 \u0647\u0627 \u0628\u0647 \u0635\u0648\u0631\u062a \u0627\u062a\u0648\u0645\u0627\u062a\u06cc\u06a9 restore \u0645\u06cc \u0634\u0648\u0646\u062f \u0648 \u06cc\u0627 \u062f\u0631 \u0645\u0648\u0627\u0631\u062f \u067e\u06cc\u0686\u06cc\u062f\u0647 \u0628\u0647 \u0635\u0648\u0631\u062a \u0646\u06cc\u0645\u0647 \u0627\u062a\u0648\u0645\u0627\u062a\u06cc\u06a9 restore \u0645\u06cc \u0634\u0648\u0646\u062f.</p>\n<p>\u0628\u0631\u0627\u06cc \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0628\u06cc\u0634\u062a\u0631\u060c \u0628\u0647 \u0628\u062e\u0634 <a href=\"#../operations/table_engines/replication/\">replication \u062f\u0627\u062f\u0647 \u0647\u0627</a> \u0645\u0631\u0627\u062c\u0639\u0647 \u06a9\u0646\u06cc\u062f.</p>\n</div>\n<p><a name=\"introduction/features_considered_disadvantages/\"></a>\n<a name=\"../../../introduction/features_considered_disadvantages/\"></a>\n<a name=\"../../introduction/features_considered_disadvantages/\"></a>\n<a name=\"../introduction/features_considered_disadvantages/\"></a>\n<a name=\"features_considered_disadvantages/\"></a>\n<a name=\"../../../../introduction/features_considered_disadvantages/\"></a>\n<a name=\"../../../../../introduction/features_considered_disadvantages/\"></a></p>\n<div dir=\"rtl\">\n<h2 id=\"wyjgy-hy-z-clickhouse-khh-my-twnd-m-yby-bshd\">\u0648\u06cc\u0698\u06af\u06cc \u0647\u0627\u06cc \u0627\u0632 ClickHouse \u06a9\u0647 \u0645\u06cc \u062a\u0648\u0627\u0646\u062f \u0645\u0639\u0627\u06cc\u0628\u06cc \u0628\u0627\u0634\u062f.<a class=\"headerlink\" href=\"#wyjgy-hy-z-clickhouse-khh-my-twnd-m-yby-bshd\" title=\"Permanent link\">&para;</a></h2>\n<ol>\n<li>\u0628\u062f\u0648\u0646 \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u06a9\u0627\u0645\u0644 \u0627\u0632 \u062a\u0631\u0627\u06a9\u0646\u0634</li>\n<li>\u0639\u062f\u0645 \u062a\u0648\u0627\u0646\u0627\u06cc\u06cc \u0628\u0631\u0627\u06cc \u062a\u063a\u06cc\u06cc\u0631 \u0648 \u06cc\u0627 \u062d\u0630\u0641 \u062f\u0627\u062f\u0647 \u0647\u0627\u06cc \u062f\u0631 \u062d\u0627\u0644 \u062d\u0627\u0636\u0631 \u0648\u0627\u0631\u062f \u0634\u062f\u0647 \u0628\u0627 \u0633\u0631\u0639\u062a \u0628\u0627\u0644\u0627 \u0648 \u062a\u0627\u062e\u06cc\u0631 \u06a9\u0645. \u0628\u0631\u0627\u06cc \u067e\u0627\u06a9 \u06a9\u0631\u062f\u0646 \u0648 \u06cc\u0627 \u0627\u0635\u0644\u0627\u062d \u062f\u0627\u062f\u0647 \u0647\u0627\u060c \u0628\u0647 \u0639\u0646\u0648\u0627\u0646 \u0645\u062b\u0627\u0644 \u0628\u0631\u0627\u06cc \u067e\u06cc\u0631\u0648\u06cc \u0627\u0632 <a href=\"https://gdpr-info.eu\" rel=\"external nofollow\">GDPR</a>\u060c \u062f\u0633\u062a\u0647 \u0627\u06cc \u067e\u0627\u06a9 \u0648 \u0628\u0647 \u0631\u0648\u0632\u0631\u0633\u0627\u0646\u06cc \u0648\u062c\u0648\u062f \u062f\u0627\u0631\u062f.\u062d\u0627\u0644 \u062a\u0648\u0633\u0639\u0647 \u0645\u06cc \u0628\u0627\u0634\u062f.</li>\n<li>Sparse index \u0628\u0627\u0639\u062b \u0645\u06cc \u0634\u0648\u062f ClickHouse \u0686\u0646\u062f\u0627\u0646 \u0645\u0646\u0627\u0633\u0628 \u0627\u062c\u0631\u0627\u06cc \u067e\u0631\u0633\u0645\u0627\u0646 \u0647\u0627\u06cc point query \u0628\u0631\u0627\u06cc \u062f\u0631\u06cc\u0627\u0641\u062a \u06cc\u06a9 \u0631\u062f\u06cc\u0641 \u0627\u0632 \u062f\u0627\u062f\u0647 \u0647\u0627 \u0628\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 \u06a9\u0644\u06cc\u062f \u0622\u0646\u0647\u0627 \u0646\u0628\u0627\u0634\u062f.</li>\n</ol>\n</div>\n<p><a name=\"../introduction/performance/\"></a>\n<a name=\"../../introduction/performance/\"></a>\n<a name=\"introduction/performance/\"></a>\n<a name=\"../../../../../introduction/performance/\"></a>\n<a name=\"../../../introduction/performance/\"></a>\n<a name=\"performance/\"></a>\n<a name=\"../../../../introduction/performance/\"></a></p>\n<div dir=\"rtl\">\n<h2 id=\"performance\">Performance<a class=\"headerlink\" href=\"#performance\" title=\"Permanent link\">&para;</a></h2>\n<p>\u0628\u0627 \u062a\u0648\u062c\u0647 \u0628\u0647 \u0646\u062a\u0627\u06cc\u062c \u062a\u0633\u062a \u0647\u0627\u06cc Yandex\u060c ClickHouse \u0628\u0647\u062a\u0631\u06cc\u0646 \u0639\u0645\u0644\u06a9\u0631\u062f \u0631\u0627 \u0628\u0631\u0627\u06cc \u0633\u0646\u0627\u0631\u06cc\u0648\u0647\u0627\u06cc \u0639\u0645\u0644\u06cc\u0627\u062a\u06cc \u0642\u0627\u0628\u0644 \u0645\u0642\u0627\u06cc\u0633\u0647 \u0628\u0627 \u062f\u06cc\u06af\u0631 \u0633\u06cc\u0633\u062a\u0645 \u0647\u0627\u06cc \u062f\u0631 \u06a9\u0644\u0627\u0633 \u062e\u0648\u062f \u0631\u0627 \u0627\u0632 \u062e\u0648\u062f \u0646\u0634\u0627\u0646 \u062f\u0627\u062f. \u0627\u06cc\u0646 \u062a\u0633\u062a \u0647\u0627 \u0634\u0627\u0645\u0644 \u0628\u0627\u0644\u0627\u062a\u0631\u06cc\u0646 \u062a\u0648\u0627\u0646 \u0639\u0645\u0644\u06cc\u0627\u062a\u06cc \u0628\u0631\u0627\u06cc query \u0647\u0627\u06cc \u0637\u0648\u0644\u0627\u0646\u06cc\u060c \u0648 \u06a9\u0645\u062a\u0631\u06cc\u0646 latency \u0628\u0631\u0627\u06cc query \u0647\u0627\u06cc \u06a9\u0648\u062a\u0627\u0647 \u0628\u0648\u062f. \u0646\u062a\u0627\u06cc\u062c \u0627\u06cc\u0646 \u062a\u0633\u062a \u0647\u0627\u06cc \u062f\u0631 <a href=\"https://clickhouse.yandex/benchmark.html\">\u0635\u0641\u062d\u0647 \u06cc \u062c\u062f\u0627</a> \u0645\u0648\u062c\u0648\u062f \u0627\u0633\u062a.</p>\n<p>benchmark \u0647\u0627\u06cc \u0632\u06cc\u0627\u062f\u06cc \u0648\u062c\u0648\u062f \u062f\u0627\u0631\u0646\u062f \u06a9\u0647 \u0627\u06cc\u0646 \u0646\u062a\u0627\u06cc\u062c \u0631\u0627 \u062a\u0627\u06cc\u06cc\u062f \u0645\u06cc \u06a9\u0646\u0646\u062f. \u0645\u06cc\u062a\u0648\u0627\u0646\u06cc\u062f \u0627\u06cc\u0646 \u0646\u062a\u0627\u06cc\u062c \u0631\u0627 \u062c\u0633\u062a\u062c\u0648 \u06a9\u0646\u06cc\u062f \u0648 \u06cc\u0627 <a href=\"https://clickhouse.yandex/#independent-benchmarks\">\u0627\u06cc\u0646 \u0644\u06cc\u0646\u06a9 \u0647\u0627\u06cc benchmark</a>. \u0645\u0633\u062a\u0642\u0644 \u0631\u0627 \u0628\u0628\u06cc\u0646\u06cc\u062f.</p>\n<h3 id=\"twn-mlyty-bry-ykh-query-bzrg\">\u062a\u0648\u0627\u0646 \u0639\u0645\u0644\u06cc\u0627\u062a\u06cc \u0628\u0631\u0627\u06cc \u06cc\u06a9 query \u0628\u0632\u0631\u06af<a class=\"headerlink\" href=\"#twn-mlyty-bry-ykh-query-bzrg\" title=\"Permanent link\">&para;</a></h3>\n<p>\u062a\u0648\u0627\u0646 \u0639\u0645\u0644\u06cc\u0627\u062a\u06cc \u0645\u06cc \u062a\u0648\u0627\u0646\u062f \u0628\u0647 \u0635\u0648\u0631\u062a \u062a\u0639\u062f\u0627\u062f \u0633\u0637\u0631 \u062f\u0631 \u062b\u0627\u0646\u06cc\u0647 \u0648 \u06cc\u0627 \u062a\u0639\u062f\u0627\u062f \u0645\u06af\u0627\u0628\u0627\u06cc\u062a \u062f\u0631 \u062b\u0627\u0646\u06cc\u0647 \u0627\u0646\u062f\u0627\u0632\u0647 \u06af\u06cc\u0631\u06cc \u0634\u0648\u062f. \u0627\u06af\u0631 \u062f\u0627\u062f\u0647 \u0647\u0627 \u062f\u0631 page cache \u0642\u0631\u0627\u0631 \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u0646\u062f\u060c \u06cc\u06a9 query \u0628\u0631\u0627\u06cc \u0627\u062c\u0631\u0627 \u0634\u062f\u0646 \u0628\u0631 \u0631\u0648\u06cc \u0633\u062e\u062a \u0627\u0641\u0632\u0627\u0631\u0647\u0627\u06cc \u0645\u062f\u0631\u0646 \u0686\u0646\u062f\u0627\u0646 \u067e\u06cc\u0686\u06cc\u062f\u0647 \u0646\u062e\u0648\u0627\u0647\u062f \u0628\u0648\u062f \u0648 \u0628\u0627 \u0633\u0631\u0639\u062a \u062a\u0642\u0631\u06cc\u0628\u0627 2 \u062a\u0627 10 \u06af\u06cc\u06af\u0627\u0628\u0627\u06cc\u062a \u062f\u0631 \u062b\u0627\u0646\u06cc\u0647 \u0628\u0631\u0627\u06cc \u062f\u0627\u062f\u0647 \u0647\u0627\u06cc \u063a\u06cc\u0631\u0641\u0634\u0631\u062f\u0647 \u0648 \u062f\u0631 \u06cc\u06a9 \u0633\u0631\u0648\u0631 \u067e\u0631\u062f\u0627\u0632\u0634 \u062e\u0648\u0627\u0647\u062f \u0634\u062f (\u0628\u0631\u0627\u06cc \u0633\u0627\u062f\u0647 \u062a\u0631\u06cc\u0646 \u0645\u0648\u0627\u0631\u062f\u060c \u0633\u0631\u0639\u062a \u0645\u0645\u06a9\u0646 \u0627\u0633\u062a \u0628\u0647 30 \u06af\u06cc\u06af\u0627\u0628\u0627\u06cc\u062a \u062f\u0631 \u062b\u0627\u0646\u06cc\u0647 \u0628\u0631\u0633\u062f). \u0627\u06af\u0631 \u062f\u0627\u062f\u0647 \u0647\u0627 \u062f\u0631 page cache \u0642\u0631\u0627\u0631 \u0646\u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u0646\u062f\u060c \u0633\u0631\u0639\u062a \u0645\u062d\u062f\u0648\u062f \u0628\u0647 \u062f\u06cc\u0633\u06a9 \u0648 \u0647\u0645\u0686\u0646\u06cc\u0646 \u0686\u06af\u0648\u0646\u06af\u06cc \u0641\u0634\u0631\u062f\u0647 \u0633\u0627\u0632\u06cc \u062f\u0627\u062f\u0647 \u0647\u0627 \u0628\u0631 \u0631\u0648\u06cc \u062f\u06cc\u0633\u06a9 \u0645\u06cc \u0628\u0627\u0634\u062f. \u0628\u0631\u0627\u06cc \u0645\u062b\u0627\u0644 \u0627\u06af\u0631 \u06cc\u06a9 \u062f\u06cc\u0633\u06a9 \u0627\u062c\u0627\u0632\u0647 \u06cc \u062e\u0648\u0627\u0646\u062f\u0646 \u062f\u0627\u062f\u0647 \u0647\u0627 \u0628\u0627 \u0633\u0631\u0639\u062a 400 \u0645\u06af\u0627\u0628\u0627\u06cc\u062a \u062f\u0631 \u062b\u0627\u0646\u06cc\u0647 \u0631\u0627 \u0628\u062f\u0647\u062f\u060c \u0648 \u062f\u0627\u062f\u0647 \u0647\u0627 \u0628\u0627 \u0646\u0631\u062e 3 \u0641\u0634\u0631\u062f\u0647 \u0633\u0627\u0632\u06cc \u0634\u062f\u0647 \u0628\u0627\u0634\u0646\u062f\u060c \u0633\u0631\u0639\u062a \u062f\u0631 \u062d\u062f\u0648\u062f 1.2 \u06af\u06cc\u06af\u0627\u0628\u0627\u06cc\u062a \u062f\u0631 \u062b\u0627\u0646\u06cc\u0647 \u062e\u0648\u0627\u0647\u062f \u0628\u0648\u062f. \u0628\u0631\u0627\u06cc \u06af\u0631\u0641\u062a\u0646 \u062a\u0639\u062f\u0627\u062f \u0631\u06a9\u0648\u0631\u062f \u062f\u0631 \u062b\u0627\u0646\u06cc\u0647\u060c \u0633\u0631\u0639\u062a \u0628\u0627\u06cc\u062a \u062f\u0631 \u062b\u0627\u0646\u06cc\u0647 \u0631\u0627 \u062a\u0642\u0633\u06cc\u0645 \u0628\u0631 \u06a9\u0644 \u0633\u0627\u06cc\u0632 \u0633\u062a\u0648\u0646 \u0647\u0627 \u0645\u0648\u0631\u062f \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u062f\u0631 query \u0645\u06cc \u06a9\u0646\u06cc\u0645. \u0628\u0631\u0627\u06cc \u0645\u062b\u0627\u0644 \u0627\u06af\u0631 10 \u0628\u0627\u06cc\u062a \u0627\u0632 \u0633\u062a\u0648\u0647 \u0647\u0627 \u0627\u0633\u062a\u062e\u0631\u0627\u062c \u0645\u06cc \u0634\u0648\u062f\u060c \u0633\u0631\u0639\u062a \u062f\u0631 \u062d\u062f\u0648\u062f 100 \u062a\u0627 200 \u0645\u06cc\u0644\u06cc\u0648\u0646 \u0633\u0637\u0631 \u062f\u0631 \u062b\u0627\u0646\u06cc\u0647 \u0645\u06cc \u0628\u0627\u0634\u062f.</p>\n<p>\u0633\u0631\u0639\u062a \u067e\u0631\u062f\u0627\u0632\u0634 \u062f\u0631 \u0633\u0631\u0648\u06cc\u0633 \u062a\u0648\u0632\u06cc\u0639 \u0634\u062f\u0647 \u062a\u0642\u0631\u06cc\u0628\u0627 \u0628\u0647 \u0635\u0648\u0631\u062a \u062e\u0637\u06cc \u0627\u0641\u0632\u0627\u06cc\u0634 \u067e\u06cc\u062f\u0627 \u0645\u06cc \u06a9\u0646\u062f\u060c \u0627\u0645\u0627 \u0641\u0642\u0637 \u0648\u0642\u062a\u06cc \u06a9\u0647 \u0646\u062a\u0627\u06cc\u062c \u0633\u0637\u0631\u0647\u0627\u06cc \u0628\u0647 \u062f\u0633\u062a \u0622\u0645\u062f\u0647 \u0627\u0632 aggeration \u06cc\u0627 \u0645\u0631\u062a\u0628 \u0633\u0627\u0632\u06cc \u0632\u06cc\u0627\u062f \u0628\u0632\u0631\u06af \u0646\u0628\u0627\u0634\u0646\u062f.</p>\n<h3 id=\"latency-dr-zmn-prdzsh-query-hy-khwth\">Latency \u062f\u0631 \u0632\u0645\u0627\u0646 \u067e\u0631\u062f\u0627\u0632\u0634 query \u0647\u0627\u06cc \u06a9\u0648\u062a\u0627\u0647<a class=\"headerlink\" href=\"#latency-dr-zmn-prdzsh-query-hy-khwth\" title=\"Permanent link\">&para;</a></h3>\n<p>\u0627\u06af\u0631 \u06cc\u06a9 query \u0627\u0632 Primary Key \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u062f \u0648 \u062a\u0639\u062f\u0627\u062f \u0632\u06cc\u0627\u062f\u06cc \u0627\u0632 \u0633\u0637\u0631 \u0647\u0627 \u0631\u0627 \u0628\u0631\u0627\u06cc \u067e\u0631\u062f\u0627\u0632\u0634 select \u0646\u06a9\u0646\u062f (\u0635\u062f\u0647\u0627 \u0647\u0632\u0627\u0631)\u060c \u0648 \u0627\u0632 \u062a\u0639\u062f\u0627\u062f \u0632\u06cc\u0627\u062f\u06cc \u0633\u062a\u0648\u0646 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0646\u06a9\u0646\u062f\u060c\u0627\u06af\u0631 \u062f\u0627\u062f\u0647 \u0647\u0627 \u062f\u0631 page cache \u0642\u0631\u0627\u0631 \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u0646\u062f\u060c \u0645\u0627 \u0645\u06cc\u062a\u0648\u0627\u0646\u06cc\u0645 \u0627\u0646\u062a\u0638\u0627\u0631 latency \u06a9\u0645\u062a\u0631 \u0627\u0632 50 \u0645\u06cc\u0644\u06cc \u062b\u0627\u0646\u06cc\u0647 \u0631\u0627 \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u06cc\u0645. \u062f\u0631 \u063a\u06cc\u0631 \u0627\u06cc\u0646 \u0635\u0648\u0631\u062a \u0645\u062d\u0627\u0633\u0628\u0647 \u0632\u0645\u0627\u0646 \u0628\u0631\u0627\u0633\u0627\u0633 \u062a\u0639\u062f\u0627\u062f seek \u0647\u0627 \u0627\u0646\u062c\u0627\u0645 \u062e\u0648\u0627\u0647\u062f \u06af\u0631\u0641\u062a. \u0627\u06af\u0631 \u0634\u0645\u0627 \u0627\u0632 \u0647\u0627\u0631\u062f \u0647\u0627\u06cc \u062f\u06cc\u0633\u06a9\u06cc \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u06a9\u0646\u06cc\u062f\u060c \u0628\u0631\u0627\u06cc \u0633\u06cc\u0633\u062a\u0645\u06cc \u06a9\u0647 overload \u0646\u062f\u0627\u0631\u062f\u060c \u0645\u062d\u0627\u0633\u0628\u0647 \u062a\u0642\u0631\u06cc\u0628\u06cc latency \u0628\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 \u0627\u06cc\u0646 \u0641\u0631\u0645\u0648\u0644 \u0645\u0645\u06a9\u0646 \u0627\u0633\u062a: \u0632\u0645\u0627\u0646 seek (10 ms) * \u062a\u0639\u062f\u0627\u062f \u0633\u062a\u0648\u0646 \u0647\u0627\u06cc \u0645\u0648\u0631\u062f \u0646\u06cc\u0627\u0632 \u062f\u0631 query * \u062a\u0639\u062f\u0627\u062f \u0642\u0637\u0639\u0627\u062a \u062f\u0627\u062f\u0647</p>\n<h3 id=\"twn-mlyty-dr-hngm-prdzsh-t-dd-zydy-z-query-hy-khwth\">\u062a\u0648\u0627\u0646 \u0639\u0645\u0644\u06cc\u0627\u062a\u06cc \u062f\u0631 \u0647\u0646\u06af\u0627\u0645 \u067e\u0631\u062f\u0627\u0632\u0634 \u062a\u0639\u062f\u0627\u062f \u0632\u06cc\u0627\u062f\u06cc \u0627\u0632 query \u0647\u0627\u06cc \u06a9\u0648\u062a\u0627\u0647<a class=\"headerlink\" href=\"#twn-mlyty-dr-hngm-prdzsh-t-dd-zydy-z-query-hy-khwth\" title=\"Permanent link\">&para;</a></h3>\n<p>\u062a\u062d\u062a \u0634\u0631\u0627\u06cc\u0637 \u0645\u0634\u0627\u0628\u0647\u060c ClickHouse \u062a\u0648\u0627\u0646\u0627\u06cc\u06cc \u0631\u0633\u06cc\u062f\u06af\u06cc \u0628\u0647 \u0686\u0646\u062f \u0635\u062f query \u062f\u0631 \u062b\u0627\u0646\u06cc\u0647 \u0628\u0647 \u0627\u0632\u0627\u06cc \u06cc\u06a9 \u0633\u0631\u0648\u0631 \u0631\u0627 \u062f\u0627\u0631\u062f ( \u0628\u0627\u0644\u0627\u06cc \u0686\u0646\u062f \u0647\u0632\u0627\u0631 \u062f\u0631 \u062b\u0627\u0646\u06cc\u0647 \u062f\u0631 \u0628\u0647\u062a\u0631\u06cc\u0646 \u0645\u0648\u0631\u062f). \u0627\u0632 \u0622\u0646\u062c\u0627\u06cc\u06cc \u06a9\u0647 \u0627\u06cc\u0646 \u0633\u0646\u0627\u0631\u06cc\u0648 \u062f\u0631 \u0645\u062f\u06cc\u0631\u06cc\u062a \u062f\u06cc\u062a\u0627\u0628\u06cc\u0633 \u0647\u0627\u06cc \u0622\u0646\u0627\u0644\u06cc\u0632\u06cc \u0645\u0639\u0645\u0648\u0644 \u0646\u06cc\u0633\u062a\u060c \u0628\u0647\u062a\u0631 \u0627\u0633\u062a \u0646\u0647\u0627\u06cc\u062a\u0627 \u0627\u0646\u062a\u0638\u0627\u0631 \u0686\u0646\u062f \u0635\u062f query \u062f\u0631 \u062b\u0627\u0646\u06cc\u0647 \u0631\u0627 \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u06cc\u062f.</p>\n<h3 id=\"performance-dr-hngm-drj-ddh-h\">Performance \u062f\u0631 \u0647\u0646\u06af\u0627\u0645 \u062f\u0631\u062c \u062f\u0627\u062f\u0647 \u0647\u0627<a class=\"headerlink\" href=\"#performance-dr-hngm-drj-ddh-h\" title=\"Permanent link\">&para;</a></h3>\n<p>\u067e\u06cc\u0634\u0646\u0647\u0627\u062f \u0645\u06cc \u06a9\u0646\u06cc\u0645 \u062f\u0631\u062c \u062f\u0627\u062f\u0647 \u0647\u0627 \u0631\u0627 \u0628\u0647 \u0635\u0648\u0631\u062a \u062f\u0633\u062a\u0647 \u0627\u06cc \u0648 \u062d\u062f\u0627\u0642\u0644 100 \u0633\u0637\u0631 \u062f\u0631 \u0647\u0631 \u062f\u0633\u062a\u0647 \u0627\u0646\u062c\u0627\u0645 \u062f\u0647\u06cc\u062f \u0648 \u06cc\u0627 \u0628\u06cc\u0634 \u0627\u0632 \u06cc\u06a9 \u062f\u0631\u062e\u0648\u0627\u0633\u062a insert \u062f\u0631 \u062b\u0627\u0646\u06cc\u0647 \u0631\u0627 \u0646\u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u06cc\u062f. \u062f\u0631 \u0647\u0646\u06af\u0627\u0645 \u062f\u0631\u062c \u062f\u0627\u062f\u0647 \u062f\u0631 \u062c\u062f\u0648\u0644 MergeTree \u0627\u0632 \u06cc\u06a9 dump \u062c\u062f\u0627 \u0634\u062f\u0647 \u0628\u0627 tab\u060c \u0633\u0631\u0639\u062a \u062f\u0631\u062c \u062f\u0627\u062f\u0647 \u0627\u0632 50 \u062a\u0627 200 \u0645\u06af\u0627\u0628\u0627\u06cc\u062a \u062f\u0631 \u062b\u0627\u0646\u06cc\u0647 \u0645\u06cc \u0628\u0627\u0634\u062f. \u0627\u06af\u0631 \u0633\u0637\u0631 \u0647\u0627\u06cc \u062f\u0631\u062c \u0634\u062f\u0647 \u062d\u062f\u0648\u062f 1 \u06a9\u06cc\u0644\u0648\u0628\u0627\u06cc\u062a \u0628\u0627\u0634\u0646\u062f\u060c \u0633\u0631\u0639\u062a \u062d\u062f\u0648\u062f 50 \u0647\u0632\u0627\u0631 \u062a\u0627 200 \u0647\u0632\u0627\u0631 \u0633\u0637\u0631 \u062f\u0631 \u062b\u0627\u0646\u06cc\u0647 \u0645\u06cc \u0628\u0627\u0634\u062f. \u0627\u06af\u0631 \u0633\u0637\u0631 \u0647\u0627 \u06a9\u0648\u0686\u06a9 \u0628\u0627\u0634\u0646\u062f \u0628\u0627\u0632\u062f\u0647\u06cc \u0628\u0627\u0644\u0627\u06cc\u06cc \u062f\u0631 \u062a\u0639\u062f\u0627\u062f \u0633\u0637\u0631 \u062f\u0631 \u062b\u0627\u0646\u06cc\u0647 \u062e\u0648\u0627\u0647\u06cc\u0645 \u062f\u0627\u0634\u062a. \u062f\u0631 Banner System Data -<code>&gt;</code> 500 \u0647\u0632\u0627\u0631 \u0633\u0637\u0631 \u062f\u0631 \u062b\u0627\u0646\u06cc\u0647\u060c \u062f\u0631 Graphite data -<code>&gt;</code> 1 \u0645\u06cc\u0644\u06cc\u0648\u0646 \u0633\u0637\u0631 \u062f\u0631 \u062b\u0627\u0646\u06cc\u0647). \u0628\u0631\u0627\u06cc \u0628\u0647\u0628\u0648\u062f \u06a9\u0627\u0631\u0627\u06cc\u06cc\u060c \u0634\u0645\u0627 \u0645\u06cc \u062a\u0648\u0627\u0646\u06cc\u062f \u0686\u0646\u062f\u06cc\u0646 insert \u0631\u0627 \u0628\u0647 \u0635\u0648\u0631\u062a \u0645\u0648\u0627\u0632\u06cc \u0627\u062c\u0631\u0627 \u06a9\u0646\u06cc\u062f\u060c \u06a9\u0647 \u062f\u0631 \u0627\u06cc\u0646 \u062d\u0627\u0644\u062a \u06a9\u0627\u0631\u0627\u06cc\u06cc \u0633\u06cc\u0633\u062a\u0645 \u0628\u0647 \u0635\u0648\u0631\u062a \u062e\u0637\u06cc \u0627\u0641\u0632\u0627\u06cc\u0634 \u0645\u06cc \u06cc\u0627\u0628\u062f.</p>\n</div>\n<p><a name=\"../../../../introduction/ya_metrika_task/\"></a>\n<a name=\"../../../introduction/ya_metrika_task/\"></a>\n<a name=\"../introduction/ya_metrika_task/\"></a>\n<a name=\"ya_metrika_task/\"></a>\n<a name=\"../../introduction/ya_metrika_task/\"></a>\n<a name=\"introduction/ya_metrika_task/\"></a>\n<a name=\"../../../../../introduction/ya_metrika_task/\"></a></p>\n<div dir=\"rtl\">\n<h2 id=\"yandex-metrica-use-case\">Yandex.Metrica use case<a class=\"headerlink\" href=\"#yandex-metrica-use-case\" title=\"Permanent link\">&para;</a></h2>\n<p>ClickHouse \u062f\u0631 \u0627\u0628\u062a\u062f\u0627 \u0628\u0631\u0627\u06cc \u0642\u062f\u0631\u062a \u0628\u0647 Yandex.Metrica \u062f\u0648\u0645\u06cc\u0646 \u0628\u0633\u062a\u0631 \u0622\u0646\u0627\u0644\u06cc\u0632 \u0648\u0628 \u062f\u0631 \u062f\u0646\u06cc\u0627 \u062a\u0648\u0633\u0639\u0647 \u062f\u0627\u062f\u0647 \u0634\u062f\u060c \u0648 \u0647\u0645\u0686\u0646\u0627\u0646 \u062c\u0632 \u0627\u0635\u0644\u06cc \u0622\u0646 \u0627\u0633\u062a. ClickHouse \u0627\u062c\u0627\u0632\u0647 \u0645\u06cc \u062f\u0647\u0646\u062f \u06a9\u0647 \u0628\u0627 \u0628\u06cc\u0634 \u0627\u0632 13 \u062a\u0631\u06cc\u0644\u06cc\u0648\u0646 \u0631\u06a9\u0648\u0631\u062f \u062f\u0631 \u062f\u06cc\u062a\u0627\u0628\u06cc\u0633 \u0648 \u0628\u06cc\u0634 \u0627\u0632 20 \u0645\u06cc\u0644\u06cc\u0627\u0631\u062f event \u062f\u0631 \u0631\u0648\u0632\u060c \u06af\u0632\u0627\u0631\u0634 \u0647\u0627\u06cc \u0645\u0633\u062a\u0642\u06cc\u0645 (On the fly) \u0627\u0632 \u062f\u0627\u062f\u0647 \u0647\u0627\u06cc non-aggregate \u062a\u0647\u06cc\u0647 \u06a9\u0646\u06cc\u0645. \u0627\u06cc\u0646 \u0645\u0642\u0627\u0644\u0647 \u067e\u06cc\u0634\u0646\u06cc\u0647 \u06cc \u062a\u0627\u0631\u06cc\u062e\u06cc \u062f\u0631 \u0627\u0631\u062a\u0628\u0627\u0637 \u0628\u0627 \u0627\u0647\u062f\u0627\u0641 \u0627\u0635\u0644\u06cc ClickHouse \u0642\u0628\u0644 \u0627\u0632 \u0622\u0646\u06a9\u0647 \u0628\u0647 \u06cc\u06a9 \u0645\u062d\u0635\u0648\u0644 open source \u062a\u0628\u062f\u06cc\u0644 \u0634\u0648\u062f\u060c \u0645\u06cc \u062f\u0647\u062f.</p>\n<p>Yandex.Metrica \u062a\u0648\u0644\u06cc\u062f \u06af\u0632\u0627\u0631\u0634 \u0647\u0627\u06cc \u0628\u0631\u067e\u0627\u06cc\u0647 \u0628\u0627\u0632\u062f\u06cc\u062f \u0648 session \u0647\u0627 \u0628\u0647 \u0635\u0648\u0631\u062a on the fly \u0648 \u0628\u0627 \u0627\u0633\u062a\u0641\u062f\u0647 \u0627\u0632 \u0628\u062e\u0634 \u0647\u0627\u06cc \u062f\u0644\u062e\u0648\u0627\u0647 \u0648 \u062f\u0648\u0631\u0647 \u06cc \u0632\u0645\u0627\u0646\u06cc \u06a9\u0647 \u062a\u0648\u0633\u0637 \u06a9\u0627\u0631\u0628\u0631 \u0627\u0646\u062a\u062e\u0627\u0628 \u0645\u06cc \u0634\u0648\u062f \u0631\u0627 \u0627\u0646\u062c\u0627\u0645 \u0645\u06cc \u062f\u0647\u062f. aggregate \u0647\u0627\u06cc \u067e\u06cc\u0686\u06cc\u062f\u0647 \u0645\u0639\u0645\u0648\u0644\u0627 \u0645\u0648\u0631\u062f \u0646\u06cc\u0627\u0632 \u0647\u0633\u062a\u0646\u062f\u060c \u0645\u0627\u0646\u0646\u062f \u062a\u0639\u062f\u0627\u062f \u0628\u0627\u0632\u062f\u06cc\u062f\u06a9\u0646\u0646\u062f\u06af\u0627\u0646 unique. \u062f\u0627\u062f\u0647 \u0647\u0627\u06cc \u062c\u062f\u06cc\u062f \u0628\u0631\u0627\u06cc \u062a\u0647\u06cc\u0647 \u06af\u0632\u0627\u0631\u0634 \u06af\u06cc\u0631\u06cc \u0628\u0647 \u0635\u0648\u0631\u062a real-time \u0645\u06cc \u0631\u0633\u0646\u062f.</p>\n<p>\u0627\u0632 \u0622\u0648\u0631\u06cc\u0644 2014\u060c Yandex.Metrica \u062a\u0642\u0631\u06cc\u0628\u0627 12 \u0645\u06cc\u0644\u06cc\u0627\u0631\u062f event \u0634\u0627\u0645\u0644 page view \u0648 click \u062f\u0631 \u0631\u0648\u0632 \u062f\u0631\u06cc\u0627\u0641\u062a \u06a9\u0631\u062f. \u062a\u0645\u0627\u0645 \u0627\u06cc\u0646 event \u0647\u0627 \u0628\u0627\u06cc\u062f \u0628\u0647 \u062a\u0631\u062a\u06cc\u0628 \u0628\u0631\u0627\u06cc \u0633\u0627\u062e\u062a \u06af\u0632\u0627\u0631\u0634 \u0647\u0627\u06cc \u0633\u0641\u0627\u0631\u0634\u06cc \u0630\u062e\u06cc\u0631\u0647 \u0633\u0627\u0632\u06cc \u0645\u06cc \u0634\u062f\u0646\u062f. \u06cc\u06a9 query \u0645\u0645\u06a9\u0646 \u0627\u0633\u062a \u0646\u06cc\u0627\u0632 \u0628\u0647 \u0627\u0633\u06a9\u0646 \u06a9\u0631\u062f\u0646 \u0645\u06cc\u0644\u06cc\u0648\u0646 \u0647\u0627 \u0633\u0637\u0631 \u0628\u0627 \u0632\u0645\u0627\u0646 \u06a9\u0645\u062a\u0631 \u0627\u0632 \u0686\u0646\u062f \u0635\u062f \u0645\u06cc\u0644\u06cc \u062b\u0627\u0646\u06cc\u0647\u060c \u06cc\u0627 \u0686\u0646\u062f \u0635\u062f \u0645\u06cc\u0644\u06cc\u0648\u0646 \u0633\u0637\u0631 \u062f\u0631 \u0639\u0631\u0636 \u0686\u0646\u062f \u062b\u0627\u0646\u06cc\u0647 \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u062f.</p>\n<h3 id=\"stfdh-dr-yandex-metrica-w-dygr-srwys-hy-yandex\">\u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u062f\u0631 Yandex.Metrica \u0648 \u062f\u06cc\u06af\u0631 \u0633\u0631\u0648\u06cc\u0633 \u0647\u0627\u06cc Yandex<a class=\"headerlink\" href=\"#stfdh-dr-yandex-metrica-w-dygr-srwys-hy-yandex\" title=\"Permanent link\">&para;</a></h3>\n<p>ClickHouse \u0628\u0627 \u0686\u0646\u062f\u06cc\u0646 \u0627\u0647\u062f\u0627\u0641 \u062f\u0631 Yandex.Metrica \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f. \u0648\u0638\u06cc\u0641\u0647 \u0627\u0635\u0644\u06cc \u0622\u0646 \u0633\u0627\u062e\u062a \u06af\u0632\u0627\u0631\u0634 \u0647\u0627\u06cc \u0622\u0646\u0644\u0627\u06cc\u0646 \u0627\u0632 \u062f\u0627\u062f\u0647 \u0647\u0627\u06cc non-aggregate \u0645\u06cc \u0628\u0627\u0634\u062f. ClickHouse \u062f\u0631 \u06cc\u06a9 \u06a9\u0644\u0627\u0633\u062a\u0631 \u0628\u0627 \u0633\u0627\u06cc\u0632 374 \u0633\u0631\u0648\u0631\u060c \u06a9\u0647 \u0628\u06cc\u0634 \u0627\u0632 20.3 \u062a\u0631\u06cc\u0644\u06cc\u0648\u0646 \u0633\u0637\u0631 \u062f\u0631 \u062f\u06cc\u062a\u0627\u0628\u06cc\u0633 \u0631\u0627 \u062f\u0627\u0631\u062f \u0645\u0648\u0631\u062f \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0642\u0631\u0627\u0631 \u0645\u06cc \u06af\u06cc\u0631\u062f. \u0627\u0646\u062f\u0627\u0632\u0647 \u0641\u0634\u0631\u062f\u0647 \u062f\u0627\u062f\u0647 \u0647\u0627\u060c \u0628\u062f\u0648\u0646 \u0634\u0645\u0627\u0631\u0634 \u062f\u0627\u062f\u0647 \u0647\u0627\u06cc \u062a\u06a9\u0631\u0627\u0631\u06cc \u0648 replication\u060c \u062d\u062f\u0648\u062f 2 \u067e\u062a\u0627\u0628\u0627\u06cc\u062a \u0645\u06cc \u0628\u0627\u0634\u062f. \u0627\u0646\u062f\u0627\u0632\u0647 \u06cc \u063a\u06cc\u0631\u0641\u0634\u0631\u062f\u0647 \u062f\u0627\u062f\u0647 \u0647\u0627 (\u062f\u0631 \u0641\u0631\u0645\u062a TSV) \u062d\u062f\u0648\u062f\u0627 17 \u067e\u062a\u0627\u0628\u0627\u06cc\u062a \u0645\u06cc \u0628\u0627\u0634\u062f.</p>\n<p>ClickHouse \u0647\u0645\u0686\u0646\u06cc\u0646 \u062f\u0631 \u0645\u0648\u0627\u0631\u062f \u0632\u06cc\u0631\u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f:</p>\n<ul>\n<li>\u0630\u062e\u06cc\u0631\u0647 \u0633\u0627\u0632\u06cc \u062f\u0627\u062f\u0647 \u0647\u0627 \u0628\u0631\u0627\u06cc Session replay \u0627\u0632 Yandex.Metrica.</li>\n<li>\u067e\u0631\u062f\u0627\u0632\u0634 \u062f\u0627\u062f\u0647 \u0647\u0627\u06cc Intermediate.</li>\n<li>\u0633\u0627\u062e\u062a \u06af\u0632\u0627\u0631\u0634 \u0647\u0627\u06cc \u0633\u0631\u0627\u0633\u0631\u06cc \u0627\u0632 \u0622\u0646\u0627\u0644\u06cc\u0632 \u0647\u0627.</li>\n<li>\u0627\u062c\u0631\u0627\u06cc query \u0647\u0627 \u0628\u0631\u0627\u06cc debug \u06a9\u0631\u062f\u0646 \u0645\u0648\u062a\u0648\u0631 Yandex.Metrica.</li>\n<li>\u0622\u0646\u0627\u0644\u06cc\u0632 \u0644\u0627\u06af \u0647\u0627\u06cc \u0628\u0647 \u062f\u0633\u062a \u0622\u0645\u062f\u0647 \u0627\u0632 API \u0647\u0627 \u0648 user interface.</li>\n</ul>\n<p>ClickHouse \u062d\u062f\u0627\u0642\u0644 \u062f\u0631 \u062f\u0648\u0627\u0632\u062f\u0647 \u062c\u0627\u06cc \u062f\u06cc\u06af\u0631 \u0633\u0631\u0648\u06cc\u0633 Yandex \u0646\u0635\u0628 \u0634\u062f\u0647 \u0627\u0633\u062a: \u062f\u0631 search verticals\u060c Market\u060c Direct\u060c Business Analytics\u060c Mobile Development\u060c AdFox\u060c \u0633\u0631\u0648\u06cc\u0633 \u0647\u0627\u06cc \u0634\u062e\u0635\u06cc \u0648..</p>\n<h3 id=\"ddh-hy-aggregate-non-aggregate\">\u062f\u0627\u062f\u0647 \u0647\u0627\u06cc Aggregate , Non-Aggregate<a class=\"headerlink\" href=\"#ddh-hy-aggregate-non-aggregate\" title=\"Permanent link\">&para;</a></h3>\n<p>\u06cc\u06a9 \u062f\u06cc\u062f\u06af\u0627\u0647 \u0645\u062d\u0628\u0648\u0628 \u0648\u062c\u0648\u062f \u062f\u0627\u0631\u062f \u06a9\u0647 \u0634\u0645\u0627 \u0628\u0627\u06cc\u062f\u060c \u062f\u0627\u062f\u0647 \u0647\u0627\u06cc \u062e\u0648\u062f \u0631\u0627 \u0628\u0647 \u0645\u0646\u0638\u0648\u0631 \u06a9\u0627\u0647\u0634 \u0627\u0646\u062f\u0627\u0632\u0647 \u062f\u0627\u062f\u0647 \u0647\u0627 Aggregate \u06a9\u0646\u06cc\u062f.</p>\n<p>\u0627\u0645\u0627 \u0628\u0647 \u062f\u0644\u0627\u06cc\u0644 \u0632\u06cc\u0631\u060c aggregate \u06a9\u0631\u062f\u0646 \u062f\u0627\u062f\u0647 \u0647\u0627 \u0631\u0627\u0647 \u062d\u0644 \u0628\u0633\u06cc\u0627\u0631 \u0645\u062d\u062f\u0648\u062f\u06cc \u0627\u0633\u062a:</p>\n<ul>\n<li>\u0634\u0645\u0627 \u0628\u0627\u06cc\u062f \u0644\u06cc\u0633\u062a \u06af\u0632\u0627\u0631\u0634 \u0647\u0627\u06cc \u0627\u0632 \u0642\u0628\u0644 \u062a\u0639\u0631\u06cc\u0641 \u0634\u062f\u0647 \u062a\u0648\u0633\u0637 \u06a9\u0627\u0631\u0628\u0631 \u06a9\u0647 \u0646\u06cc\u0627\u0632 \u0628\u0647 \u062a\u0647\u06cc\u0647 \u06af\u0632\u0627\u0631\u0634 \u0622\u0646\u0647\u0627 \u0631\u0627 \u062f\u0627\u0631\u06cc\u062f\u060c \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u06cc\u062f.</li>\n<li>\u06a9\u0627\u0631\u0628\u0631 \u0646\u0645\u06cc\u062a\u0648\u0627\u0646\u062f \u06af\u0632\u0627\u0631\u0634 \u0647\u0627\u06cc \u0633\u0641\u0627\u0631\u0634\u06cc \u062a\u0647\u06cc\u0647 \u06a9\u0646\u062f.</li>\n<li>\u062f\u0631 \u0647\u0646\u06af\u0627\u0645 aggregate \u06a9\u0631\u062f\u0646 \u062a\u0639\u062f\u0627\u062f \u0628\u0633\u06cc\u0627\u0631 \u0632\u06cc\u0627\u062f key\u060c \u0627\u0646\u062f\u0627\u0632\u0647 \u06cc \u062f\u0627\u062f\u0647 \u0647\u0627 \u06a9\u0645 \u0646\u0645\u06cc \u0634\u0648\u062f \u0648 aggregate \u0628\u06cc \u0641\u0627\u06cc\u062f\u0647 \u0627\u0633\u062a.</li>\n<li>\u0628\u0631\u0627\u06cc \u062a\u0639\u062f\u0627\u062f \u0632\u06cc\u0627\u062f\u06cc \u0627\u0632 \u06af\u0632\u0627\u0631\u0634 \u0647\u0627\u060c aggregate \u0647\u0627\u06cc \u0645\u062a\u0646\u0648\u0639 \u0648 \u062a\u063a\u06cc\u06cc\u0631\u067e\u0630\u06cc\u0631 \u0632\u06cc\u0627\u062f\u06cc \u0648\u062c\u0648\u062f \u062f\u0627\u0631\u062f. (\u0627\u0646\u0641\u062c\u0627\u0631 \u062a\u0631\u06a9\u06cc\u0628\u06cc).</li>\n<li>\u0647\u0646\u06af\u0627\u0645 aggregate \u06a9\u0631\u062f\u0646 key \u0647\u0627 \u0628\u0627 cardinality \u0628\u0627\u0644\u0627 (\u0645\u062b\u0644 URL \u0647\u0627)\u060c \u0627\u0646\u062f\u0627\u0632\u0647 \u062f\u0627\u062f\u0647 \u0647\u0627 \u0628\u0647 \u0627\u0646\u062f\u0627\u0632\u0647 \u06a9\u0627\u0641\u06cc \u06a9\u0627\u0647\u0634 \u067e\u06cc\u062f\u0627 \u0646\u0645\u06cc \u06a9\u0646\u062f (\u06a9\u0645\u062a\u0631 \u0627\u0632 \u062f\u0648 \u0628\u0631\u0627\u0628\u0631).</li>\n<li>\u0628\u0647 \u0627\u06cc\u0646 \u062f\u0644\u06cc\u0644 \u0627\u0646\u062f\u0627\u0632\u0647 \u06cc \u062f\u0627\u062f\u0647 \u0647\u0627 \u0628\u0627 aggregate \u06a9\u0631\u062f\u0646 \u0645\u0645\u06a9\u0646 \u0627\u0633\u062a \u0628\u0647 \u062c\u0627\u06cc \u0634\u06a9\u0633\u062a\u0646\u060c \u0631\u0634\u062f \u0647\u0645 \u0628\u06a9\u0646\u062f.</li>\n<li>\u06a9\u0627\u0631\u0628\u0631 \u062a\u0645\u0627\u0645 \u06af\u0632\u0627\u0631\u0634 \u0647\u0627\u06cc\u06cc \u06a9\u0647 \u0645\u0627 \u062a\u0648\u0644\u06cc\u062f \u06a9\u0631\u062f\u06cc\u0645 \u0631\u0627 \u0646\u06af\u0627\u0647 \u0646\u0645\u06cc \u06a9\u0646\u062f. \u0628\u062e\u0634 \u0628\u0632\u0631\u06af\u06cc \u0627\u0632 \u0645\u062d\u0627\u0633\u0628\u0627\u062a \u0628\u06cc \u0641\u0627\u06cc\u062f\u0647 \u0627\u0633\u062a.</li>\n<li>\u06cc\u06a9\u067e\u0627\u0631\u0686\u06af\u06cc \u0645\u0646\u0637\u0642\u06cc \u062f\u0627\u062f\u0647 \u0647\u0627 \u0645\u0645\u06a9\u0646 \u0627\u0633\u062a \u0628\u0631\u0627\u06cc aggregate \u0647\u0627\u06cc \u0645\u062e\u062a\u0644\u0641 \u0646\u0642\u0636 \u0634\u0648\u062f.</li>\n</ul>\n<p>\u0627\u06af\u0631 \u0645\u0627 \u0647\u06cc\u0686 \u0686\u06cc\u0632\u06cc \u0631\u0627 aggregate \u0646\u06a9\u0646\u06cc\u0645 \u0648 \u0628\u0627 \u062f\u0627\u062f\u0647 \u0647\u0627\u06cc non-aggregate \u06a9\u0627\u0631 \u06a9\u0646\u06cc\u0645\u060c \u062f\u0631 \u0648\u0627\u0642\u0639 \u0627\u06cc\u0646 \u0645\u0645\u06a9\u0646 \u0627\u0633\u062a \u0628\u0627\u0639\u062b \u06a9\u0627\u0647\u0634 \u0627\u0646\u062f\u0627\u0632\u0647 \u06cc \u0645\u062d\u0627\u0633\u0628\u0627\u062a \u0634\u0648\u062f.</p>\n<p>\u0628\u0627 \u0627\u06cc\u0646 \u062d\u0627\u0644\u060c \u0628\u0627 aggregate \u06a9\u0631\u062f\u0646\u060c \u0628\u062e\u0634 \u0642\u0627\u0628\u0644 \u062a\u0648\u062c\u0647\u06cc \u0627\u0632 \u06a9\u0627\u0631 \u0628\u0647 \u0635\u0648\u0631\u062a \u0622\u0641\u0644\u0627\u06cc\u0646 \u0627\u0646\u062c\u0627\u0645 \u0645\u06cc \u0634\u0648\u062f \u0648 \u0646\u0633\u0628\u062a\u0627 \u0622\u0631\u0627\u0645 \u0628\u0647 \u067e\u0627\u06cc\u0627\u0646 \u0645\u06cc \u0631\u0633\u062f. \u062f\u0631 \u0645\u0642\u0627\u0628\u0644\u060c \u0645\u062d\u0627\u0633\u0628\u0627\u062a \u0622\u0646\u0644\u0627\u06cc\u0646 \u0628\u0647 \u062f\u0644\u06cc\u0644 \u0627\u06cc\u0646\u06a9\u0647 \u06a9\u0627\u0631\u0628\u0631 \u0645\u0646\u062a\u0638\u0631 \u0646\u0645\u0627\u06cc\u0634 \u0646\u062a\u0627\u06cc\u062c \u0645\u06cc \u0628\u0627\u0634\u062f\u060c \u0646\u06cc\u0627\u0632\u0645\u0646\u062f \u0645\u062d\u0627\u0633\u0628\u0647 \u0633\u0631\u06cc\u0639 \u062a\u0627 \u062c\u0627\u06cc\u06cc \u06a9\u0647 \u0645\u0645\u06a9\u0646 \u0627\u0633\u062a \u0645\u06cc \u0628\u0627\u0634\u062f.</p>\n<p>Yandex.Metrica \u062f\u0627\u0631\u0627\u06cc \u06cc\u06a9 \u0633\u06cc\u0633\u062a\u0645 \u062a\u062e\u0635\u0635\u06cc \u0628\u0631\u0627\u06cc aggregate \u06a9\u0631\u062f\u0646 \u062f\u0627\u062f\u0647 \u0647\u0627 \u0628\u0647 \u0627\u0633\u0645 Metrage \u0645\u06cc \u0628\u0627\u0634\u062f\u060c \u06a9\u0647 \u0628\u0631\u0627\u06cc \u0627\u06a9\u062b\u0631\u06cc\u062a \u06af\u0632\u0627\u0631\u0634 \u0647\u0627\u06cc \u0645\u0648\u0631\u062f \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0642\u0631\u0627\u0631 \u0645\u06cc \u06af\u06cc\u0631\u062f. \u0634\u0631\u0648\u0639 \u0633\u0627\u0644 2009\u060c Yandex.Metrica \u0647\u0645\u0686\u0646\u06cc\u0646 \u0627\u0632 \u06cc\u06a9 \u062f\u06cc\u062a\u0627\u0628\u06cc\u0633 \u062a\u062e\u0635\u0635\u06cc OLAP \u0628\u0631\u0627\u06cc \u062f\u0627\u062f\u0647 \u0647\u0627\u06cc non-aggregate \u0628\u0647 \u0646\u0627\u0645 OLAPServer\u060c \u06a9\u0647 \u0642\u0628\u0644\u0627 \u0628\u0631\u0627\u06cc \u0633\u0627\u062e\u062a \u06af\u0632\u0627\u0631\u0634 \u0647\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u0634\u062f\u060c \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u06a9\u0631\u062f. OLAPServer \u0628\u0647 \u062e\u0648\u0628\u06cc \u0631\u0648\u06cc \u062f\u0627\u062f\u0647 \u0647\u0627\u06cc Non-Aggregate \u06a9\u0627\u0631 \u0645\u06cc \u06a9\u0631\u062f\u060c \u0627\u0645\u0627 \u0645\u062d\u062f\u0648\u062f\u06cc\u062a \u0647\u0627\u06cc \u0628\u0633\u06cc\u0627\u0631 \u0632\u06cc\u0627\u062f\u06cc \u062f\u0627\u0634\u062a \u06a9\u0647 \u0627\u062c\u0627\u0632\u0647 \u06cc \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u062f\u0631 \u062a\u0645\u0627\u0645 \u06af\u0632\u0627\u0631\u0634 \u0647\u0627\u06cc \u062f\u0644\u062e\u0648\u0627\u0647 \u0631\u0627 \u0646\u0645\u06cc \u062f\u0627\u062f. \u0645\u0648\u0627\u0631\u062f\u06cc \u0627\u0632 \u0642\u0628\u06cc\u0644 \u0639\u062f\u0645 \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u0627\u0632 data type \u0647\u0627 (\u0641\u0642\u0637 \u0639\u062f\u062f)\u060c \u0648 \u0639\u062f\u0645 \u062a\u0648\u0627\u0646\u0627\u06cc\u06cc \u062f\u0631 \u0628\u0631\u0648\u0632\u0631\u0633\u0627\u0646\u06cc \u0627\u0641\u0632\u0627\u06cc\u0634\u06cc \u062f\u0627\u062f\u0647 \u0647\u0627 \u0628\u0647 \u0635\u0648\u0631\u062a real-time (\u0627\u06cc\u0646 \u06a9\u0627\u0631 \u0641\u0642\u0637 \u0628\u0647 rewrite \u06a9\u0631\u062f\u0646 \u062f\u0627\u062f\u0647 \u0647\u0627 \u0628\u0647 \u0635\u0648\u0631\u062a \u0631\u0648\u0632\u0627\u0646\u0647 \u0627\u0645\u06a9\u0627\u0645 \u067e\u0630\u06cc\u0631 \u0628\u0648\u062f). OLAPServer \u06cc\u06a9 \u0645\u062f\u06cc\u0631\u06cc\u062a \u062f\u06cc\u062a\u0627\u0628\u06cc\u0633 \u0646\u0628\u0648\u062f \u0627\u0645\u0627 \u06cc\u06a9 \u062f\u06cc\u062a\u0627\u0628\u06cc\u0633 \u062a\u062e\u0635\u0635\u06cc \u0628\u0648\u062f.</p>\n<p>\u0628\u0631\u0627\u06cc \u062d\u0630\u0641 \u0645\u062d\u062f\u0648\u062f\u06cc\u062a \u0647\u0627\u06cc OLAPServer \u0648 \u062d\u0644 \u0645\u0634\u06a9\u0644\u0627\u062a \u06a9\u0627\u0631 \u0628\u0627 \u062f\u0627\u062f\u0647 \u0647\u0627\u06cc Non-Aggregate \u0628\u0631\u0627\u06cc \u062a\u0645\u0627\u0645 \u06af\u0632\u0627\u0631\u0634 \u0647\u0627\u060c \u0645\u0627 \u0645\u062f\u06cc\u0631\u06cc\u062a \u062f\u06cc\u062a\u0627\u0628\u06cc\u0633 ClicHouse \u0631\u0627 \u062a\u0648\u0633\u0639\u0647 \u062f\u0627\u062f\u06cc\u0645..</p>\n</div>\n<p><a name=\"../../getting_started/\"></a>\n<a name=\"getting_started/\"></a>\n<a name=\"../../../../../getting_started/\"></a>\n<a name=\"../getting_started/\"></a>\n<a name=\"../../../getting_started/\"></a>\n<a name=\"../../../../getting_started/\"></a></p>\n<div dir=\"rtl\">\n<h2 id=\"shrw-bh-khr\">\u0634\u0631\u0648\u0639 \u0628\u0647 \u06a9\u0627\u0631<a class=\"headerlink\" href=\"#shrw-bh-khr\" title=\"Permanent link\">&para;</a></h2>\n<h3 id=\"nyzmndy-hy-systm\">\u0646\u06cc\u0627\u0632\u0645\u0646\u062f\u06cc \u0647\u0627\u06cc \u0633\u06cc\u0633\u062a\u0645<a class=\"headerlink\" href=\"#nyzmndy-hy-systm\" title=\"Permanent link\">&para;</a></h3>\n<p>\u0627\u06cc\u0646 \u06cc\u06a9 \u0633\u06cc\u0633\u062a\u0645 \u0686\u0646\u062f \u0633\u06a9\u0648\u06cc\u06cc (Cross-Platform) \u0646\u0645\u06cc \u0628\u0627\u0634\u062f. \u0627\u06cc\u0646 \u0627\u0628\u0632\u0627\u0631 \u0646\u06cc\u0627\u0632 \u0628\u0647 Linux Ubuntu Precise (12.04) \u06cc\u0627 \u062c\u062f\u06cc\u062f\u062a\u0631\u060c \u0628\u0627 \u0645\u0639\u0645\u0627\u0631\u06cc x86_64 \u0648 \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u0627\u0632 SSE 4.2 \u0645\u06cc \u0628\u0627\u0634\u062f. \u0628\u0631\u0627\u06cc \u0686\u06a9 \u06a9\u0631\u062f\u0646 SSE 4.2 \u062e\u0631\u0648\u062c\u06cc \u062f\u0633\u062a\u0648\u0631 \u0632\u06cc\u0631 \u0631\u0627 \u0628\u0631\u0631\u0633\u06cc \u06a9\u0646\u06cc\u062f:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span>grep -q sse4_2 /proc/cpuinfo <span class=\"o\">&amp;&amp;</span> <span class=\"nb\">echo</span> <span class=\"s2\">&quot;SSE 4.2 supported&quot;</span> <span class=\"o\">||</span> <span class=\"nb\">echo</span> <span class=\"s2\">&quot;SSE 4.2 not supported&quot;</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u067e\u06cc\u0634\u0646\u0647\u0627\u062f \u0645\u06cc \u06a9\u0646\u06cc\u0645 \u0627\u0632 Ubuntu TrustyT\u060c Ubuntu Xenial \u06cc\u0627 Ubuntu Precise \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u062f. \u062a\u0631\u0645\u06cc\u0646\u0627\u0644 \u0628\u0627\u06cc\u062f \u0627\u0632 UTF-8 \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u06a9\u0646\u062f. (\u0628\u0647 \u0635\u0648\u0631\u062a \u067e\u06cc\u0634 \u0641\u0631\u0636 \u062f\u0631 Ubuntu \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u0645\u06cc \u0634\u0648\u062f).</p>\n<h3 id=\"nsb\">\u0646\u0635\u0628<a class=\"headerlink\" href=\"#nsb\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"nsb-z-tryq-pkhyj-hy-debian-ubuntu\">\u0646\u0635\u0628 \u0627\u0632 \u0637\u0631\u06cc\u0642 \u067e\u06a9\u06cc\u062c \u0647\u0627\u06cc Debian/Ubuntu<a class=\"headerlink\" href=\"#nsb-z-tryq-pkhyj-hy-debian-ubuntu\" title=\"Permanent link\">&para;</a></h4>\n<p>\u062f\u0631 \u0641\u0627\u06cc\u0644 <code>/etc/apt/sources.list</code> (\u06cc\u0627 \u062f\u0631 \u06cc\u06a9 \u0641\u0627\u06cc\u0644 \u062c\u062f\u0627 <code>/etc/apt/sources.list.d/clickhouse.list</code>)\u060c Repo \u0632\u06cc\u0631 \u0631\u0627 \u0627\u0636\u0627\u0641\u0647 \u06a9\u0646\u06cc\u062f:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">deb</span> <span class=\"s\">http://repo.yandex.ru/clickhouse/deb/stable/</span> <span class=\"kp\">main/</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u0627\u06af\u0631 \u0634\u0645\u0627 \u0645\u06cc\u062e\u0648\u0627\u06cc\u06cc\u062f \u062c\u062f\u06cc\u062f\u062a\u0631\u06cc\u0646 \u0646\u0633\u062e\u0647 \u06cc \u062a\u0633\u062a \u0631\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u062f\u060c 'stable' \u0631\u0648 \u0628\u0647 'testing' \u062a\u063a\u06cc\u06cc\u0631 \u0628\u062f\u06cc\u062f.</p>\n<p>\u0633\u067e\u0633 \u062f\u0633\u062a\u0648\u0631\u0627\u062a \u0632\u06cc\u0631 \u0631\u0627 \u0627\u062c\u0631\u0627 \u06a9\u0646\u06cc\u062f:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span>sudo apt-get install dirmngr    <span class=\"c1\"># optional</span>\nsudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv E0C56BD4    <span class=\"c1\"># optional</span>\nsudo apt-get update\nsudo apt-get install clickhouse-client clickhouse-server\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u0634\u0645\u0627 \u0647\u0645\u0686\u0646\u06cc\u0646 \u0645\u06cc \u062a\u0648\u0627\u0646\u06cc\u062f \u0627\u0632 \u0637\u0631\u06cc\u0642 \u0644\u06cc\u0646\u06a9 \u0632\u06cc\u0631 \u067e\u06a9\u06cc\u062c ClickHouse \u0631\u0627 \u0628\u0647 \u0635\u0648\u0631\u062a \u062f\u0633\u062a\u06cc \u062f\u0627\u0646\u0644\u0648\u062f \u0648 \u0646\u0635\u0628 \u06a9\u0646\u06cc\u062f: <a href=\"https://repo.yandex.ru/clickhouse/deb/stable/main/\" rel=\"external nofollow\">https://repo.yandex.ru/clickhouse/deb/stable/main/</a>.</p>\n<p>ClickHouse \u062f\u0627\u0631\u0627\u06cc \u062a\u0646\u0638\u06cc\u0645\u0627\u062a \u0645\u062d\u062f\u0648\u062f\u06cc\u062a \u062f\u0633\u062a\u0631\u0633\u06cc \u0645\u06cc \u0628\u0627\u0634\u062f. \u0627\u06cc\u0646 \u062a\u0646\u0638\u06cc\u0645\u0627\u062a \u062f\u0631 \u0641\u0627\u06cc\u0644 'users.xml' (\u06a9\u0646\u0627\u0631 'config.xml') \u0645\u06cc \u0628\u0627\u0634\u062f. \u0628\u0647 \u0635\u0648\u0631\u062a \u067e\u06cc\u0634 \u0641\u0631\u0636 \u062f\u0633\u062a\u0631\u0633\u06cc \u0628\u0631\u0627\u06cc \u06a9\u0627\u0631\u0628\u0631 'default' \u0627\u0632 \u0647\u0645\u0647 \u062c\u0627 \u0628\u062f\u0648\u0646 \u0646\u06cc\u0627\u0632 \u0628\u0647 \u067e\u0633\u0648\u0631\u062f \u0648\u062c\u0648\u062f \u062f\u0627\u0631\u062f. 'user/default/networks' \u0631\u0627 \u0645\u0634\u0627\u0647\u062f\u0647 \u06a9\u0646\u06cc\u062f. \u0628\u0631\u0627\u06cc \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0628\u06cc\u0634\u062a\u0631 \u0642\u0633\u0645\u062a \"\u062a\u0646\u0638\u06cc\u0645\u0627\u062a \u0641\u0627\u06cc\u0644 \u0647\u0627\" \u0631\u0627 \u0645\u0634\u0627\u0647\u062f\u0647 \u06a9\u0646\u06cc\u062f.</p>\n<h4 id=\"nsb-z-tryq-source\">\u0646\u0635\u0628 \u0627\u0632 \u0637\u0631\u06cc\u0642 Source<a class=\"headerlink\" href=\"#nsb-z-tryq-source\" title=\"Permanent link\">&para;</a></h4>\n<p>\u0628\u0631\u0627\u06cc Compile\u060c \u062f\u0633\u062a\u0648\u0631\u0627\u0644\u0639\u0645\u0644 \u0647\u0627\u06cc \u0641\u0627\u06cc\u0644 build.md \u0631\u0627 \u062f\u0646\u0628\u0627\u0644 \u06a9\u0646\u06cc\u062f:</p>\n<p>\u0634\u0645\u0627 \u0645\u06cc\u062a\u0648\u0627\u0646\u06cc\u062f \u067e\u06a9\u06cc\u062c \u0631\u0627 compile \u0648 \u0646\u0635\u0628 \u06a9\u0646\u06cc\u062f. \u0634\u0645\u0627 \u0647\u0645\u0686\u0646\u06cc\u0646 \u0645\u06cc \u062a\u0648\u0627\u0646\u06cc\u062f \u0628\u062f\u0648\u0646 \u0646\u0635\u0628 \u067e\u06a9\u06cc\u062c \u0627\u0632 \u0628\u0631\u0646\u0627\u0645\u0647 \u0647\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u062f.</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">Client</span><span class=\"o\">:</span> <span class=\"n\">dbms</span><span class=\"sr\">/programs/</span><span class=\"n\">clickhouse</span><span class=\"o\">-</span><span class=\"n\">client</span>\n<span class=\"n\">Server</span><span class=\"o\">:</span> <span class=\"n\">dbms</span><span class=\"sr\">/programs/</span><span class=\"n\">clickhouse</span><span class=\"o\">-</span><span class=\"n\">server</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u0628\u0631\u0627\u06cc \u0633\u0631\u0648\u0631\u060c \u06cc\u06a9 \u06a9\u0627\u062a\u0627\u0644\u0648\u06af \u0628\u0627 \u062f\u06cc\u062a\u0627 \u0628\u0633\u0627\u0632\u06cc\u062f\u060c \u0645\u0627\u0646\u0646\u062f</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">/opt/clickhouse/data/default/</span>\n<span class=\"err\">/opt/clickhouse/metadata/default/</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>(\u0642\u0627\u0628\u0644 \u062a\u0646\u0638\u06cc\u0645 \u062f\u0631 \u062a\u0646\u0638\u06cc\u0645\u0627\u062a \u0633\u0631\u0648\u0631). 'chown' \u0631\u0627 \u0628\u0631\u0627\u06cc \u06a9\u0627\u0631\u0628\u0631 \u062f\u0644\u062e\u0648\u0627\u0647 \u0627\u062c\u0631\u0627 \u06a9\u0646\u06cc\u062f.</p>\n<p>\u0628\u0647 \u0645\u0633\u06cc\u0631 \u0644\u0627\u06af \u0647\u0627 \u062f\u0631 \u062a\u0646\u0638\u06cc\u0645\u0627\u062a \u0633\u0631\u0648\u0631 \u062a\u0648\u062c\u0647 \u06a9\u0646\u06cc\u062f (src/dbms/programs/config.xml).</p>\n<h4 id=\"rwsh-hy-dygr-nsb\">\u0631\u0648\u0634 \u0647\u0627\u06cc \u062f\u06cc\u06af\u0631 \u0646\u0635\u0628<a class=\"headerlink\" href=\"#rwsh-hy-dygr-nsb\" title=\"Permanent link\">&para;</a></h4>\n<p>Docker image: <a href=\"https://hub.docker.com/r/yandex/clickhouse-server/\" rel=\"external nofollow\">https://hub.docker.com/r/yandex/clickhouse-server/</a></p>\n<p>\u067e\u06a9\u06cc\u062c RPM \u0628\u0631\u0627\u06cc CentOS \u06cc\u0627 RHEL: <a href=\"https://github.com/Altinity/clickhouse-rpm-install\" rel=\"external nofollow\">https://github.com/Altinity/clickhouse-rpm-install</a></p>\n<p>Gentoo: <code>emerge clickhouse</code></p>\n<h3 id=\"rh-ndzy\">\u0631\u0627\u0647 \u0627\u0646\u062f\u0627\u0632\u06cc<a class=\"headerlink\" href=\"#rh-ndzy\" title=\"Permanent link\">&para;</a></h3>\n<p>\u0628\u0631\u0627\u06cc \u0627\u0633\u062a\u0627\u0631\u062a \u0633\u0631\u0648\u0631 (\u0628\u0647 \u0635\u0648\u0631\u062a daemon)\u060c \u062f\u0633\u062a\u0648\u0631 \u0632\u06cc\u0631 \u0631\u0627 \u0627\u062c\u0631\u0627 \u06a9\u0646\u06cc\u062f:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span>sudo service clickhouse-server start\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u0644\u0627\u06af \u0647\u0627\u06cc \u062f\u0627\u06cc\u0631\u06a9\u062a\u0648\u0631\u06cc <code>/var/log/clickhouse-server/</code> directory. \u0631\u0627 \u0645\u0634\u0627\u0647\u062f\u0647 \u06a9\u0646\u06cc\u062f.</p>\n<p>\u0627\u06af\u0631 \u0633\u0631\u0648\u0631 \u0627\u0633\u062a\u0627\u0631\u062a \u0646\u0634\u062f\u060c \u0641\u0627\u06cc\u0644 \u062a\u0646\u0638\u06cc\u0645\u0627\u062a \u0631\u0627 \u0628\u0631\u0631\u0633\u06cc \u06a9\u0646\u06cc\u062f <code>/etc/clickhouse-server/config.xml.</code></p>\n<p>\u0634\u0645\u0627 \u0647\u0645\u0686\u0646\u06cc\u0646 \u0645\u06cc \u062a\u0648\u0627\u0646\u06cc\u062f \u0633\u0631\u0648\u0631 \u0631\u0627 \u0627\u0632 \u0637\u0631\u06cc\u0642 \u06a9\u0646\u0633\u0648\u0644 \u0631\u0627\u0647 \u0627\u0646\u062f\u0627\u0632\u06cc \u06a9\u0646\u06cc\u062f:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span>clickhouse-server --config-file<span class=\"o\">=</span>/etc/clickhouse-server/config.xml\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u062f\u0631 \u0627\u06cc\u0646 \u0645\u0648\u0631\u062f \u06a9\u0647 \u0645\u0646\u0627\u0633\u0628 \u0632\u0645\u0627\u0646 \u062a\u0648\u0633\u0639\u0647 \u0645\u06cc \u0628\u0627\u0634\u062f\u060c \u0644\u0627\u06af \u0647\u0627 \u062f\u0631 \u06a9\u0646\u0633\u0648\u0644 \u067e\u0631\u06cc\u0646\u062a \u0645\u06cc \u0634\u0648\u0646\u062f. \u0627\u06af\u0631 \u0641\u0627\u06cc\u0644 \u062a\u0646\u0638\u06cc\u0645\u0627\u062a \u062f\u0631 \u062f\u0627\u06cc\u0631\u06a9\u062a\u0648\u0631\u06cc \u062c\u0627\u0631\u06cc \u0628\u0627\u0634\u062f\u060c \u0646\u06cc\u0627\u0632\u06cc \u0628\u0647 \u0645\u0634\u062e\u0635 \u06a9\u0631\u062f\u0646 '--config-file' \u0646\u0645\u06cc \u0628\u0627\u0634\u062f. \u0628\u0647 \u0635\u0648\u0631\u062a \u067e\u06cc\u0634 \u0641\u0631\u0636 \u0627\u0632 './config.xml' \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f.</p>\n<p>\u0634\u0645\u0627 \u0645\u06cc \u062a\u0648\u0627\u0646\u06cc\u062f \u0627\u0632 \u06a9\u0644\u0627\u06cc\u0646\u062a command-line \u0628\u0631\u0627\u06cc \u0627\u062a\u0635\u0627\u0644 \u0628\u0647 \u0633\u0631\u0648\u0631 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u062f:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span>clickhouse-client\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u067e\u0627\u0631\u0627\u0645\u062a\u0631\u0647\u0627\u06cc \u067e\u06cc\u0634 \u0641\u0631\u0636\u060c \u0646\u0634\u0627\u0646 \u0627\u0632 \u0627\u062a\u0635\u0627\u0644 \u0628\u0647 localhost:9000 \u0627\u0632 \u0637\u0631\u0641 \u06a9\u0627\u0631\u0628\u0631 'default' \u0628\u062f\u0648\u0646 \u067e\u0633\u0648\u0631\u062f \u0631\u0627 \u0645\u06cc \u062f\u0647\u062f. \u0627\u0632 \u06a9\u0644\u0627\u06cc\u0646\u062a \u0645\u06cc\u062a\u0648\u0627\u0646 \u0628\u0631\u0627\u06cc \u0627\u062a\u0635\u0627\u0644 \u0628\u0647 \u06cc\u06a9 \u0633\u0631\u0648\u0631 remote \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0631\u062f. \u0645\u062b\u0627\u0644:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span>clickhouse-client --host<span class=\"o\">=</span>example.com\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u0628\u0631\u0627\u06cc \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0628\u06cc\u0634\u062a\u0631\u060c \u0628\u062e\u0634 \"\u06a9\u0644\u0627\u06cc\u0646\u062a Command-line\" \u0631\u0627 \u0645\u0634\u0627\u0647\u062f\u0647 \u06a9\u0646\u06cc\u062f.</p>\n<p>\u0686\u06a9 \u06a9\u0631\u062f\u0646 \u0633\u06cc\u0633\u062a\u0645:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span>milovidov@hostname:~/work/metrica/src/dbms/src/Client$ ./clickhouse-client\nClickHouse client version <span class=\"m\">0</span>.0.18749.\nConnecting to localhost:9000.\nConnected to ClickHouse server version <span class=\"m\">0</span>.0.18749.\n\n:<span class=\"o\">)</span> SELECT <span class=\"m\">1</span>\n\nSELECT <span class=\"m\">1</span>\n\n\u250c\u25001\u2500\u2510\n\u2502 <span class=\"m\">1</span> \u2502\n\u2514\u2500\u2500\u2500\u2518\n\n<span class=\"m\">1</span> rows in set. Elapsed: <span class=\"m\">0</span>.003 sec.\n\n:<span class=\"o\">)</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p><strong>\u062a\u0628\u0631\u06cc\u06a9 \u0645\u06cc\u06af\u0645\u060c \u0633\u06cc\u0633\u062a\u0645 \u06a9\u0627\u0631 \u0645\u06cc \u06a9\u0646\u0647!</strong></p>\n<p>\u0628\u0631\u0627\u06cc \u0627\u062f\u0627\u0645\u0647 \u0622\u0632\u0645\u0627\u06cc\u0634\u0627\u062a\u060c \u0634\u0645\u0627 \u0645\u06cc\u062a\u0648\u0627\u0646\u06cc\u062f \u062f\u06cc\u062a\u0627\u0633\u062a \u0647\u0627\u06cc \u062a\u0633\u062a\u06cc \u0631\u0627 \u062f\u0631\u06cc\u0627\u0641\u062a \u0648 \u0627\u0645\u062a\u062d\u0627\u0646 \u06a9\u0646\u06cc\u062f.</p>\n</div>\n<p><a name=\"example_datasets/ontime/\"></a>\n<a name=\"../../../example_datasets/ontime/\"></a>\n<a name=\"ontime/\"></a>\n<a name=\"../../../getting_started/example_datasets/ontime/\"></a>\n<a name=\"../../../../getting_started/example_datasets/ontime/\"></a>\n<a name=\"../../../../../../example_datasets/ontime/\"></a>\n<a name=\"getting_started/example_datasets/ontime/\"></a>\n<a name=\"../../../../example_datasets/ontime/\"></a>\n<a name=\"../../example_datasets/ontime/\"></a>\n<a name=\"../../../../../example_datasets/ontime/\"></a>\n<a name=\"../../getting_started/example_datasets/ontime/\"></a>\n<a name=\"../../../../../getting_started/example_datasets/ontime/\"></a>\n<a name=\"../getting_started/example_datasets/ontime/\"></a>\n<a name=\"../example_datasets/ontime/\"></a></p>\n<div dir=\"rtl\">\n<h2 id=\"ontime\">OnTime<a class=\"headerlink\" href=\"#ontime\" title=\"Permanent link\">&para;</a></h2>\n<p>\u062f\u0627\u0646\u0644\u0648\u062f \u062f\u0627\u062f\u0647 \u0647\u0627:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">for</span> s in <span class=\"sb\">`</span>seq <span class=\"m\">1987</span> <span class=\"m\">2018</span><span class=\"sb\">`</span>\n<span class=\"k\">do</span>\n<span class=\"k\">for</span> m in <span class=\"sb\">`</span>seq <span class=\"m\">1</span> <span class=\"m\">12</span><span class=\"sb\">`</span>\n<span class=\"k\">do</span>\nwget https://transtats.bts.gov/PREZIP/On_Time_Reporting_Carrier_On_Time_Performance_1987_present_<span class=\"si\">${</span><span class=\"nv\">s</span><span class=\"si\">}</span>_<span class=\"si\">${</span><span class=\"nv\">m</span><span class=\"si\">}</span>.zip\n<span class=\"k\">done</span>\n<span class=\"k\">done</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>(\u0627\u0632 <a href=\"https://github.com/Percona-Lab/ontime-airline-performance/blob/master/download.sh\" rel=\"external nofollow\">https://github.com/Percona-Lab/ontime-airline-performance/blob/master/download.sh</a> )</p>\n<p>\u0633\u0627\u062e\u062a \u062c\u062f\u0648\u0644:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"o\">`</span><span class=\"n\">ontime</span><span class=\"o\">`</span> <span class=\"p\">(</span>\n  <span class=\"o\">`</span><span class=\"k\">Year</span><span class=\"o\">`</span> <span class=\"n\">UInt16</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Quarter</span><span class=\"o\">`</span> <span class=\"n\">UInt8</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"k\">Month</span><span class=\"o\">`</span> <span class=\"n\">UInt8</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">DayofMonth</span><span class=\"o\">`</span> <span class=\"n\">UInt8</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">DayOfWeek</span><span class=\"o\">`</span> <span class=\"n\">UInt8</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">FlightDate</span><span class=\"o\">`</span> <span class=\"nb\">Date</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">UniqueCarrier</span><span class=\"o\">`</span> <span class=\"n\">FixedString</span><span class=\"p\">(</span><span class=\"mi\">7</span><span class=\"p\">),</span>\n  <span class=\"o\">`</span><span class=\"n\">AirlineID</span><span class=\"o\">`</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Carrier</span><span class=\"o\">`</span> <span class=\"n\">FixedString</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">),</span>\n  <span class=\"o\">`</span><span class=\"n\">TailNum</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">FlightNum</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">OriginAirportID</span><span class=\"o\">`</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">OriginAirportSeqID</span><span class=\"o\">`</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">OriginCityMarketID</span><span class=\"o\">`</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Origin</span><span class=\"o\">`</span> <span class=\"n\">FixedString</span><span class=\"p\">(</span><span class=\"mi\">5</span><span class=\"p\">),</span>\n  <span class=\"o\">`</span><span class=\"n\">OriginCityName</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">OriginState</span><span class=\"o\">`</span> <span class=\"n\">FixedString</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">),</span>\n  <span class=\"o\">`</span><span class=\"n\">OriginStateFips</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">OriginStateName</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">OriginWac</span><span class=\"o\">`</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">DestAirportID</span><span class=\"o\">`</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">DestAirportSeqID</span><span class=\"o\">`</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">DestCityMarketID</span><span class=\"o\">`</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Dest</span><span class=\"o\">`</span> <span class=\"n\">FixedString</span><span class=\"p\">(</span><span class=\"mi\">5</span><span class=\"p\">),</span>\n  <span class=\"o\">`</span><span class=\"n\">DestCityName</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">DestState</span><span class=\"o\">`</span> <span class=\"n\">FixedString</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">),</span>\n  <span class=\"o\">`</span><span class=\"n\">DestStateFips</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">DestStateName</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">DestWac</span><span class=\"o\">`</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">CRSDepTime</span><span class=\"o\">`</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">DepTime</span><span class=\"o\">`</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">DepDelay</span><span class=\"o\">`</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">DepDelayMinutes</span><span class=\"o\">`</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">DepDel15</span><span class=\"o\">`</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">DepartureDelayGroups</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">DepTimeBlk</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">TaxiOut</span><span class=\"o\">`</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">WheelsOff</span><span class=\"o\">`</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">WheelsOn</span><span class=\"o\">`</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">TaxiIn</span><span class=\"o\">`</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">CRSArrTime</span><span class=\"o\">`</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">ArrTime</span><span class=\"o\">`</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">ArrDelay</span><span class=\"o\">`</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">ArrDelayMinutes</span><span class=\"o\">`</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">ArrDel15</span><span class=\"o\">`</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">ArrivalDelayGroups</span><span class=\"o\">`</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">ArrTimeBlk</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Cancelled</span><span class=\"o\">`</span> <span class=\"n\">UInt8</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">CancellationCode</span><span class=\"o\">`</span> <span class=\"n\">FixedString</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">),</span>\n  <span class=\"o\">`</span><span class=\"n\">Diverted</span><span class=\"o\">`</span> <span class=\"n\">UInt8</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">CRSElapsedTime</span><span class=\"o\">`</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">ActualElapsedTime</span><span class=\"o\">`</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">AirTime</span><span class=\"o\">`</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Flights</span><span class=\"o\">`</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Distance</span><span class=\"o\">`</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">DistanceGroup</span><span class=\"o\">`</span> <span class=\"n\">UInt8</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">CarrierDelay</span><span class=\"o\">`</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">WeatherDelay</span><span class=\"o\">`</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">NASDelay</span><span class=\"o\">`</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">SecurityDelay</span><span class=\"o\">`</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">LateAircraftDelay</span><span class=\"o\">`</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">FirstDepTime</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">TotalAddGTime</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">LongestAddGTime</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">DivAirportLandings</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">DivReachedDest</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">DivActualElapsedTime</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">DivArrDelay</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">DivDistance</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Div1Airport</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Div1AirportID</span><span class=\"o\">`</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Div1AirportSeqID</span><span class=\"o\">`</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Div1WheelsOn</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Div1TotalGTime</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Div1LongestGTime</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Div1WheelsOff</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Div1TailNum</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Div2Airport</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Div2AirportID</span><span class=\"o\">`</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Div2AirportSeqID</span><span class=\"o\">`</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Div2WheelsOn</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Div2TotalGTime</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Div2LongestGTime</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Div2WheelsOff</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Div2TailNum</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Div3Airport</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Div3AirportID</span><span class=\"o\">`</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Div3AirportSeqID</span><span class=\"o\">`</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Div3WheelsOn</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Div3TotalGTime</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Div3LongestGTime</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Div3WheelsOff</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Div3TailNum</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Div4Airport</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Div4AirportID</span><span class=\"o\">`</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Div4AirportSeqID</span><span class=\"o\">`</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Div4WheelsOn</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Div4TotalGTime</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Div4LongestGTime</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Div4WheelsOff</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Div4TailNum</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Div5Airport</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Div5AirportID</span><span class=\"o\">`</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Div5AirportSeqID</span><span class=\"o\">`</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Div5WheelsOn</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Div5TotalGTime</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Div5LongestGTime</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Div5WheelsOff</span><span class=\"o\">`</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n  <span class=\"o\">`</span><span class=\"n\">Div5TailNum</span><span class=\"o\">`</span> <span class=\"n\">String</span>\n<span class=\"p\">)</span> <span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">MergeTree</span><span class=\"p\">(</span><span class=\"n\">FlightDate</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"k\">Year</span><span class=\"p\">,</span> <span class=\"n\">FlightDate</span><span class=\"p\">),</span> <span class=\"mi\">8192</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>Load \u062f\u0627\u062f\u0647 \u0647\u0627:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">for</span> i in *.zip<span class=\"p\">;</span> <span class=\"k\">do</span> <span class=\"nb\">echo</span> <span class=\"nv\">$i</span><span class=\"p\">;</span> unzip -cq <span class=\"nv\">$i</span> <span class=\"s1\">&#39;*.csv&#39;</span> <span class=\"p\">|</span> sed <span class=\"s1\">&#39;s/\\.00//g&#39;</span> <span class=\"p\">|</span> clickhouse-client --host<span class=\"o\">=</span>example-perftest01j --query<span class=\"o\">=</span><span class=\"s2\">&quot;INSERT INTO ontime FORMAT CSVWithNames&quot;</span><span class=\"p\">;</span> <span class=\"k\">done</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>query \u0647\u0627:</p>\n<p>Q0.</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">select</span> <span class=\"k\">avg</span><span class=\"p\">(</span><span class=\"n\">c1</span><span class=\"p\">)</span> <span class=\"k\">from</span> <span class=\"p\">(</span><span class=\"k\">select</span> <span class=\"k\">Year</span><span class=\"p\">,</span> <span class=\"k\">Month</span><span class=\"p\">,</span> <span class=\"k\">count</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">c1</span> <span class=\"k\">from</span> <span class=\"n\">ontime</span> <span class=\"k\">group</span> <span class=\"k\">by</span> <span class=\"k\">Year</span><span class=\"p\">,</span> <span class=\"k\">Month</span><span class=\"p\">);</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>Q1. \u062a\u0639\u062f\u0627\u062f \u067e\u0631\u0648\u0627\u0632\u0647\u0627\u06cc \u0628\u0647 \u062a\u0641\u06a9\u06cc\u06a9 \u0631\u0648\u0632 \u0627\u0632 \u062a\u0627\u0631\u06cc\u062e 2000 \u062a\u0627 2008</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">DayOfWeek</span><span class=\"p\">,</span> <span class=\"k\">count</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"k\">c</span> <span class=\"k\">FROM</span> <span class=\"n\">ontime</span> <span class=\"k\">WHERE</span> <span class=\"k\">Year</span> <span class=\"o\">&gt;=</span> <span class=\"mi\">2000</span> <span class=\"k\">AND</span> <span class=\"k\">Year</span> <span class=\"o\">&lt;=</span> <span class=\"mi\">2008</span> <span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">DayOfWeek</span> <span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"k\">c</span> <span class=\"k\">DESC</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>Q2. \u062a\u0639\u062f\u0627\u062f \u067e\u0631\u0648\u0627\u0632\u0647\u0627\u06cc \u0628\u06cc\u0634 \u0627\u0632 10 \u062f\u0642\u06cc\u0642\u0647 \u062a\u0627\u062e\u06cc\u0631 \u062e\u0648\u0631\u062f\u0647\u060c \u06af\u0631\u0648\u0647 \u0628\u0646\u062f\u06cc \u0628\u0631\u0627\u0633\u0627\u0633 \u0631\u0648\u0632\u0647\u0627\u06cc \u0647\u0641\u062a\u0647 \u0627\u0632 \u0633\u0627\u0644 2000 \u062a\u0627 2008</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">DayOfWeek</span><span class=\"p\">,</span> <span class=\"k\">count</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"k\">c</span> <span class=\"k\">FROM</span> <span class=\"n\">ontime</span> <span class=\"k\">WHERE</span> <span class=\"n\">DepDelay</span><span class=\"o\">&gt;</span><span class=\"mi\">10</span> <span class=\"k\">AND</span> <span class=\"k\">Year</span> <span class=\"o\">&gt;=</span> <span class=\"mi\">2000</span> <span class=\"k\">AND</span> <span class=\"k\">Year</span> <span class=\"o\">&lt;=</span> <span class=\"mi\">2008</span> <span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">DayOfWeek</span> <span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"k\">c</span> <span class=\"k\">DESC</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>Q3. \u062a\u0639\u062f\u0627\u062f \u062a\u0627\u062e\u06cc\u0631\u0647\u0627 \u0628\u0631\u0627\u0633\u0627\u0633 airport \u0627\u0632 \u0633\u0627\u0644 2000 \u062a\u0627 2008</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">Origin</span><span class=\"p\">,</span> <span class=\"k\">count</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"k\">c</span> <span class=\"k\">FROM</span> <span class=\"n\">ontime</span> <span class=\"k\">WHERE</span> <span class=\"n\">DepDelay</span><span class=\"o\">&gt;</span><span class=\"mi\">10</span> <span class=\"k\">AND</span> <span class=\"k\">Year</span> <span class=\"o\">&gt;=</span> <span class=\"mi\">2000</span> <span class=\"k\">AND</span> <span class=\"k\">Year</span> <span class=\"o\">&lt;=</span> <span class=\"mi\">2008</span> <span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">Origin</span> <span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"k\">c</span> <span class=\"k\">DESC</span> <span class=\"k\">LIMIT</span> <span class=\"mi\">10</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>Q4. \u062a\u0639\u062f\u0627\u062f \u062a\u0627\u062e\u06cc\u0631\u0647\u0627 \u0628\u0631\u0627\u0633\u0627\u0633 carrier \u062f\u0631 \u0633\u0627\u0644 78</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">Carrier</span><span class=\"p\">,</span> <span class=\"k\">count</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"p\">)</span> <span class=\"k\">FROM</span> <span class=\"n\">ontime</span> <span class=\"k\">WHERE</span> <span class=\"n\">DepDelay</span><span class=\"o\">&gt;</span><span class=\"mi\">10</span> <span class=\"k\">AND</span> <span class=\"k\">Year</span> <span class=\"o\">=</span> <span class=\"mi\">2007</span> <span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">Carrier</span> <span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"k\">count</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"p\">)</span> <span class=\"k\">DESC</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>Q5. \u062f\u0631\u0635\u062f \u062a\u0627\u062e\u06cc\u0631 \u0647\u0627 \u0628\u0631\u0627\u0633\u0627\u0633 carrier \u062f\u0631 \u0633\u0627\u0644 2007</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">Carrier</span><span class=\"p\">,</span> <span class=\"k\">c</span><span class=\"p\">,</span> <span class=\"n\">c2</span><span class=\"p\">,</span> <span class=\"k\">c</span><span class=\"o\">*</span><span class=\"mi\">1000</span><span class=\"o\">/</span><span class=\"n\">c2</span> <span class=\"k\">as</span> <span class=\"n\">c3</span>\n<span class=\"k\">FROM</span>\n<span class=\"p\">(</span>\n    <span class=\"k\">SELECT</span>\n        <span class=\"n\">Carrier</span><span class=\"p\">,</span>\n        <span class=\"k\">count</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"k\">c</span>\n    <span class=\"k\">FROM</span> <span class=\"n\">ontime</span>\n    <span class=\"k\">WHERE</span> <span class=\"n\">DepDelay</span><span class=\"o\">&gt;</span><span class=\"mi\">10</span>\n        <span class=\"k\">AND</span> <span class=\"k\">Year</span><span class=\"o\">=</span><span class=\"mi\">2007</span>\n    <span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">Carrier</span>\n<span class=\"p\">)</span>\n<span class=\"k\">ANY</span> <span class=\"k\">INNER</span> <span class=\"k\">JOIN</span>\n<span class=\"p\">(</span>\n    <span class=\"k\">SELECT</span>\n        <span class=\"n\">Carrier</span><span class=\"p\">,</span>\n        <span class=\"k\">count</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">c2</span>\n    <span class=\"k\">FROM</span> <span class=\"n\">ontime</span>\n    <span class=\"k\">WHERE</span> <span class=\"k\">Year</span><span class=\"o\">=</span><span class=\"mi\">2007</span>\n    <span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">Carrier</span>\n<span class=\"p\">)</span> <span class=\"k\">USING</span> <span class=\"n\">Carrier</span>\n<span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"n\">c3</span> <span class=\"k\">DESC</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u0646\u0633\u062e\u0647 \u06cc \u0628\u0647\u062a\u0631 query</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">Carrier</span><span class=\"p\">,</span> <span class=\"k\">avg</span><span class=\"p\">(</span><span class=\"n\">DepDelay</span> <span class=\"o\">&gt;</span> <span class=\"mi\">10</span><span class=\"p\">)</span> <span class=\"o\">*</span> <span class=\"mi\">1000</span> <span class=\"k\">AS</span> <span class=\"n\">c3</span> <span class=\"k\">FROM</span> <span class=\"n\">ontime</span> <span class=\"k\">WHERE</span> <span class=\"k\">Year</span> <span class=\"o\">=</span> <span class=\"mi\">2007</span> <span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">Carrier</span> <span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"n\">Carrier</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>Q6. \u0645\u0627\u0646\u0646\u062f query \u0642\u0628\u0644\u06cc \u0627\u0645\u0627 \u0628\u0631\u0627\u06cc \u0637\u06cc\u0641 \u0648\u0633\u06cc\u0639\u06cc \u0627\u0632 \u0633\u0627\u0644 \u0647\u0627\u06cc 2000 \u062a\u0627 2008</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">Carrier</span><span class=\"p\">,</span> <span class=\"k\">c</span><span class=\"p\">,</span> <span class=\"n\">c2</span><span class=\"p\">,</span> <span class=\"k\">c</span><span class=\"o\">*</span><span class=\"mi\">1000</span><span class=\"o\">/</span><span class=\"n\">c2</span> <span class=\"k\">as</span> <span class=\"n\">c3</span>\n<span class=\"k\">FROM</span>\n<span class=\"p\">(</span>\n    <span class=\"k\">SELECT</span>\n        <span class=\"n\">Carrier</span><span class=\"p\">,</span>\n        <span class=\"k\">count</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"k\">c</span>\n    <span class=\"k\">FROM</span> <span class=\"n\">ontime</span>\n    <span class=\"k\">WHERE</span> <span class=\"n\">DepDelay</span><span class=\"o\">&gt;</span><span class=\"mi\">10</span>\n        <span class=\"k\">AND</span> <span class=\"k\">Year</span> <span class=\"o\">&gt;=</span> <span class=\"mi\">2000</span> <span class=\"k\">AND</span> <span class=\"k\">Year</span> <span class=\"o\">&lt;=</span> <span class=\"mi\">2008</span>\n    <span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">Carrier</span>\n<span class=\"p\">)</span>\n<span class=\"k\">ANY</span> <span class=\"k\">INNER</span> <span class=\"k\">JOIN</span>\n<span class=\"p\">(</span>\n    <span class=\"k\">SELECT</span>\n        <span class=\"n\">Carrier</span><span class=\"p\">,</span>\n        <span class=\"k\">count</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">c2</span>\n    <span class=\"k\">FROM</span> <span class=\"n\">ontime</span>\n    <span class=\"k\">WHERE</span> <span class=\"k\">Year</span> <span class=\"o\">&gt;=</span> <span class=\"mi\">2000</span> <span class=\"k\">AND</span> <span class=\"k\">Year</span> <span class=\"o\">&lt;=</span> <span class=\"mi\">2008</span>\n    <span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">Carrier</span>\n<span class=\"p\">)</span> <span class=\"k\">USING</span> <span class=\"n\">Carrier</span>\n<span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"n\">c3</span> <span class=\"k\">DESC</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u0646\u0633\u062e\u0647 \u06cc \u0628\u0647\u062a\u0631 query</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">Carrier</span><span class=\"p\">,</span> <span class=\"k\">avg</span><span class=\"p\">(</span><span class=\"n\">DepDelay</span> <span class=\"o\">&gt;</span> <span class=\"mi\">10</span><span class=\"p\">)</span> <span class=\"o\">*</span> <span class=\"mi\">1000</span> <span class=\"k\">AS</span> <span class=\"n\">c3</span> <span class=\"k\">FROM</span> <span class=\"n\">ontime</span> <span class=\"k\">WHERE</span> <span class=\"k\">Year</span> <span class=\"o\">&gt;=</span> <span class=\"mi\">2000</span> <span class=\"k\">AND</span> <span class=\"k\">Year</span> <span class=\"o\">&lt;=</span> <span class=\"mi\">2008</span> <span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">Carrier</span> <span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"n\">Carrier</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>Q7. \u062f\u0631\u0635\u062f \u062a\u0627\u062e\u06cc\u0631 \u0628\u06cc\u0634 \u0627\u0632 10 \u062f\u0642\u06cc\u0642\u0647 \u067e\u0631\u0648\u0627\u0632\u0647\u0627 \u0628\u0647 \u062a\u0641\u06a9\u06cc\u06a9 \u0633\u0627\u0644</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"k\">Year</span><span class=\"p\">,</span> <span class=\"n\">c1</span><span class=\"o\">/</span><span class=\"n\">c2</span>\n<span class=\"k\">FROM</span>\n<span class=\"p\">(</span>\n    <span class=\"k\">select</span>\n        <span class=\"k\">Year</span><span class=\"p\">,</span>\n        <span class=\"k\">count</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"p\">)</span><span class=\"o\">*</span><span class=\"mi\">1000</span> <span class=\"k\">as</span> <span class=\"n\">c1</span>\n    <span class=\"k\">from</span> <span class=\"n\">ontime</span>\n    <span class=\"k\">WHERE</span> <span class=\"n\">DepDelay</span><span class=\"o\">&gt;</span><span class=\"mi\">10</span>\n    <span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"k\">Year</span>\n<span class=\"p\">)</span>\n<span class=\"k\">ANY</span> <span class=\"k\">INNER</span> <span class=\"k\">JOIN</span>\n<span class=\"p\">(</span>\n    <span class=\"k\">select</span>\n        <span class=\"k\">Year</span><span class=\"p\">,</span>\n        <span class=\"k\">count</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">c2</span>\n    <span class=\"k\">from</span> <span class=\"n\">ontime</span>\n    <span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"k\">Year</span>\n<span class=\"p\">)</span> <span class=\"k\">USING</span> <span class=\"p\">(</span><span class=\"k\">Year</span><span class=\"p\">)</span>\n<span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"k\">Year</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u0646\u0633\u062e\u0647 \u06cc \u0628\u0647\u062a\u0631 query</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"k\">Year</span><span class=\"p\">,</span> <span class=\"k\">avg</span><span class=\"p\">(</span><span class=\"n\">DepDelay</span> <span class=\"o\">&gt;</span> <span class=\"mi\">10</span><span class=\"p\">)</span> <span class=\"k\">FROM</span> <span class=\"n\">ontime</span> <span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"k\">Year</span> <span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"k\">Year</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>Q8. \u0645\u0642\u0635\u062f\u0647\u0627\u06cc \u067e\u0631\u0637\u0631\u0641\u062f\u0627\u0631 \u0628\u0631\u0627\u0633\u0627\u0633 \u062a\u0639\u062f\u0627\u062f \u0627\u062a\u0635\u0627\u0644 \u0647\u0627\u06cc \u0645\u0633\u062a\u0642\u06cc\u0645 \u0634\u0647\u0631\u0647\u0627 \u0628\u0631\u0627\u06cc \u0633\u0627\u0644 2000 \u062a\u0627 2010</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">DestCityName</span><span class=\"p\">,</span> <span class=\"n\">uniqExact</span><span class=\"p\">(</span><span class=\"n\">OriginCityName</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">u</span> <span class=\"k\">FROM</span> <span class=\"n\">ontime</span> <span class=\"k\">WHERE</span> <span class=\"k\">Year</span> <span class=\"o\">&gt;=</span> <span class=\"mi\">2000</span> <span class=\"k\">and</span> <span class=\"k\">Year</span> <span class=\"o\">&lt;=</span> <span class=\"mi\">2010</span> <span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">DestCityName</span> <span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"n\">u</span> <span class=\"k\">DESC</span> <span class=\"k\">LIMIT</span> <span class=\"mi\">10</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>Q9.</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">select</span> <span class=\"k\">Year</span><span class=\"p\">,</span> <span class=\"k\">count</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">c1</span> <span class=\"k\">from</span> <span class=\"n\">ontime</span> <span class=\"k\">group</span> <span class=\"k\">by</span> <span class=\"k\">Year</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>Q10.</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">select</span>\n   <span class=\"k\">min</span><span class=\"p\">(</span><span class=\"k\">Year</span><span class=\"p\">),</span> <span class=\"k\">max</span><span class=\"p\">(</span><span class=\"k\">Year</span><span class=\"p\">),</span> <span class=\"n\">Carrier</span><span class=\"p\">,</span> <span class=\"k\">count</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">cnt</span><span class=\"p\">,</span>\n   <span class=\"k\">sum</span><span class=\"p\">(</span><span class=\"n\">ArrDelayMinutes</span><span class=\"o\">&gt;</span><span class=\"mi\">30</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">flights_delayed</span><span class=\"p\">,</span>\n   <span class=\"n\">round</span><span class=\"p\">(</span><span class=\"k\">sum</span><span class=\"p\">(</span><span class=\"n\">ArrDelayMinutes</span><span class=\"o\">&gt;</span><span class=\"mi\">30</span><span class=\"p\">)</span><span class=\"o\">/</span><span class=\"k\">count</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"p\">),</span><span class=\"mi\">2</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">rate</span>\n<span class=\"k\">FROM</span> <span class=\"n\">ontime</span>\n<span class=\"k\">WHERE</span>\n   <span class=\"n\">DayOfWeek</span> <span class=\"k\">not</span> <span class=\"k\">in</span> <span class=\"p\">(</span><span class=\"mi\">6</span><span class=\"p\">,</span><span class=\"mi\">7</span><span class=\"p\">)</span> <span class=\"k\">and</span> <span class=\"n\">OriginState</span> <span class=\"k\">not</span> <span class=\"k\">in</span> <span class=\"p\">(</span><span class=\"s1\">&#39;AK&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;HI&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;PR&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;VI&#39;</span><span class=\"p\">)</span>\n   <span class=\"k\">and</span> <span class=\"n\">DestState</span> <span class=\"k\">not</span> <span class=\"k\">in</span> <span class=\"p\">(</span><span class=\"s1\">&#39;AK&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;HI&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;PR&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;VI&#39;</span><span class=\"p\">)</span>\n   <span class=\"k\">and</span> <span class=\"n\">FlightDate</span> <span class=\"o\">&lt;</span> <span class=\"s1\">&#39;2010-01-01&#39;</span>\n<span class=\"k\">GROUP</span> <span class=\"k\">by</span> <span class=\"n\">Carrier</span>\n<span class=\"k\">HAVING</span> <span class=\"n\">cnt</span> <span class=\"o\">&gt;</span> <span class=\"mi\">100000</span> <span class=\"k\">and</span> <span class=\"k\">max</span><span class=\"p\">(</span><span class=\"k\">Year</span><span class=\"p\">)</span> <span class=\"o\">&gt;</span> <span class=\"mi\">1990</span>\n<span class=\"k\">ORDER</span> <span class=\"k\">by</span> <span class=\"n\">rate</span> <span class=\"k\">DESC</span>\n<span class=\"k\">LIMIT</span> <span class=\"mi\">1000</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>query \u0647\u0627\u06cc \u0628\u06cc\u0634\u062a\u0631:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"k\">avg</span><span class=\"p\">(</span><span class=\"n\">cnt</span><span class=\"p\">)</span> <span class=\"k\">FROM</span> <span class=\"p\">(</span><span class=\"k\">SELECT</span> <span class=\"k\">Year</span><span class=\"p\">,</span><span class=\"k\">Month</span><span class=\"p\">,</span><span class=\"k\">count</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">cnt</span> <span class=\"k\">FROM</span> <span class=\"n\">ontime</span> <span class=\"k\">WHERE</span> <span class=\"n\">DepDel15</span><span class=\"o\">=</span><span class=\"mi\">1</span> <span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"k\">Year</span><span class=\"p\">,</span><span class=\"k\">Month</span><span class=\"p\">)</span>\n\n<span class=\"k\">select</span> <span class=\"k\">avg</span><span class=\"p\">(</span><span class=\"n\">c1</span><span class=\"p\">)</span> <span class=\"k\">from</span> <span class=\"p\">(</span><span class=\"k\">select</span> <span class=\"k\">Year</span><span class=\"p\">,</span><span class=\"k\">Month</span><span class=\"p\">,</span><span class=\"k\">count</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"p\">)</span> <span class=\"k\">as</span> <span class=\"n\">c1</span> <span class=\"k\">from</span> <span class=\"n\">ontime</span> <span class=\"k\">group</span> <span class=\"k\">by</span> <span class=\"k\">Year</span><span class=\"p\">,</span><span class=\"k\">Month</span><span class=\"p\">)</span>\n\n<span class=\"k\">SELECT</span> <span class=\"n\">DestCityName</span><span class=\"p\">,</span> <span class=\"n\">uniqExact</span><span class=\"p\">(</span><span class=\"n\">OriginCityName</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">u</span> <span class=\"k\">FROM</span> <span class=\"n\">ontime</span> <span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">DestCityName</span> <span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"n\">u</span> <span class=\"k\">DESC</span> <span class=\"k\">LIMIT</span> <span class=\"mi\">10</span><span class=\"p\">;</span>\n\n<span class=\"k\">SELECT</span> <span class=\"n\">OriginCityName</span><span class=\"p\">,</span> <span class=\"n\">DestCityName</span><span class=\"p\">,</span> <span class=\"k\">count</span><span class=\"p\">()</span> <span class=\"k\">AS</span> <span class=\"k\">c</span> <span class=\"k\">FROM</span> <span class=\"n\">ontime</span> <span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">OriginCityName</span><span class=\"p\">,</span> <span class=\"n\">DestCityName</span> <span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"k\">c</span> <span class=\"k\">DESC</span> <span class=\"k\">LIMIT</span> <span class=\"mi\">10</span><span class=\"p\">;</span>\n\n<span class=\"k\">SELECT</span> <span class=\"n\">OriginCityName</span><span class=\"p\">,</span> <span class=\"k\">count</span><span class=\"p\">()</span> <span class=\"k\">AS</span> <span class=\"k\">c</span> <span class=\"k\">FROM</span> <span class=\"n\">ontime</span> <span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">OriginCityName</span> <span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"k\">c</span> <span class=\"k\">DESC</span> <span class=\"k\">LIMIT</span> <span class=\"mi\">10</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u0627\u06cc\u0646 \u062a\u0633\u062a \u0647\u0627\u06cc performance \u062a\u0648\u0633\u0637 Vadim Tkachenko \u0627\u0646\u062c\u0627\u0645 \u0634\u062f\u0647 \u0627\u0633\u062a. \u0628\u0631\u0627\u06cc \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0628\u06cc\u0634\u062a\u0631 \u0628\u0647 \u0644\u06cc\u0646\u06a9 \u0647\u0627\u06cc \u0632\u06cc\u0631 \u0645\u0631\u0627\u062c\u0639\u0647 \u06a9\u0646\u06cc\u062f:</p>\n<ul>\n<li><a href=\"https://www.percona.com/blog/2009/10/02/analyzing-air-traffic-performance-with-infobright-and-monetdb/\" rel=\"external nofollow\">https://www.percona.com/blog/2009/10/02/analyzing-air-traffic-performance-with-infobright-and-monetdb/</a></li>\n<li><a href=\"https://www.percona.com/blog/2009/10/26/air-traffic-queries-in-luciddb/\" rel=\"external nofollow\">https://www.percona.com/blog/2009/10/26/air-traffic-queries-in-luciddb/</a></li>\n<li><a href=\"https://www.percona.com/blog/2009/11/02/air-traffic-queries-in-infinidb-early-alpha/\" rel=\"external nofollow\">https://www.percona.com/blog/2009/11/02/air-traffic-queries-in-infinidb-early-alpha/</a></li>\n<li><a href=\"https://www.percona.com/blog/2014/04/21/using-apache-hadoop-and-impala-together-with-mysql-for-data-analysis/\" rel=\"external nofollow\">https://www.percona.com/blog/2014/04/21/using-apache-hadoop-and-impala-together-with-mysql-for-data-analysis/</a></li>\n<li><a href=\"https://www.percona.com/blog/2016/01/07/apache-spark-with-air-ontime-performance-data/\" rel=\"external nofollow\">https://www.percona.com/blog/2016/01/07/apache-spark-with-air-ontime-performance-data/</a></li>\n<li><a href=\"http://nickmakos.blogspot.ru/2012/08/analyzing-air-traffic-performance-with.html\" rel=\"external nofollow\">http://nickmakos.blogspot.ru/2012/08/analyzing-air-traffic-performance-with.html</a></li>\n</ul>\n</div>\n<p><a name=\"getting_started/example_datasets/nyc_taxi/\"></a>\n<a name=\"example_datasets/nyc_taxi/\"></a>\n<a name=\"../getting_started/example_datasets/nyc_taxi/\"></a>\n<a name=\"nyc_taxi/\"></a>\n<a name=\"../../../getting_started/example_datasets/nyc_taxi/\"></a>\n<a name=\"../../example_datasets/nyc_taxi/\"></a>\n<a name=\"../../../example_datasets/nyc_taxi/\"></a>\n<a name=\"../../getting_started/example_datasets/nyc_taxi/\"></a>\n<a name=\"../example_datasets/nyc_taxi/\"></a>\n<a name=\"../../../../getting_started/example_datasets/nyc_taxi/\"></a>\n<a name=\"../../../../../getting_started/example_datasets/nyc_taxi/\"></a>\n<a name=\"../../../../../example_datasets/nyc_taxi/\"></a>\n<a name=\"../../../../example_datasets/nyc_taxi/\"></a>\n<a name=\"../../../../../../example_datasets/nyc_taxi/\"></a></p>\n<div dir=\"rtl\">\n<h2 id=\"ddh-hy-tkhsy-new-york\">\u062f\u0627\u062f\u0647 \u0647\u0627\u06cc \u062a\u0627\u06a9\u0633\u06cc New York<a class=\"headerlink\" href=\"#ddh-hy-tkhsy-new-york\" title=\"Permanent link\">&para;</a></h2>\n<h3 id=\"chtwr-ddh-hy-raw-r-import-khnym\">\u0686\u0637\u0648\u0631 \u062f\u0627\u062f\u0647 \u0647\u0627\u06cc raw \u0631\u0627 import \u06a9\u0646\u06cc\u0645<a class=\"headerlink\" href=\"#chtwr-ddh-hy-raw-r-import-khnym\" title=\"Permanent link\">&para;</a></h3>\n<p>\u0628\u0631\u0627\u06cc \u062a\u0648\u0636\u06cc\u062d\u0627\u062a \u0628\u06cc\u0634\u062a\u0631 \u062f\u0631 \u0627\u0631\u062a\u0628\u0627\u0637 \u0628\u0627 \u062f\u06cc\u062a\u0627\u0633\u062a \u0648 \u0645\u0648\u0627\u0631\u062f \u0645\u0631\u0628\u0648\u0637 \u0628\u0647 \u062f\u0627\u0646\u0644\u0648\u062f \u0628\u0647 \u062f\u0648 \u0644\u06cc\u0646\u06a9 <a href=\"https://github.com/toddwschneider/nyc-taxi-data\" rel=\"external nofollow\">https://github.com/toddwschneider/nyc-taxi-data</a> \u0648 <a href=\"http://tech.marksblogg.com/billion-nyc-taxi-rides-redshift.html\" rel=\"external nofollow\">http://tech.marksblogg.com/billion-nyc-taxi-rides-redshift.html</a> \u0645\u0631\u0627\u062c\u0639\u0647 \u06a9\u0646\u06cc\u062f.</p>\n<p>\u062f\u0627\u0646\u0644\u0648\u062f \u0641\u0627\u06cc\u0644 \u0647\u0627 \u062d\u062f\u0648\u062f 277 \u06af\u06cc\u06af\u0627\u0628\u0627\u06cc\u062a \u062f\u0627\u062f\u0647 \u06cc \u063a\u06cc\u0631\u0641\u0634\u0631\u062f\u0647 \u062f\u0631 \u0642\u0627\u0644\u0628 \u0641\u0627\u06cc\u0644 \u0647\u0627\u06cc CSV \u0645\u06cc \u0628\u0627\u0634\u062f. \u062f\u0627\u0646\u0644\u0648\u062f \u0628\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632\u0628\u06cc\u0634 \u0627\u0632 \u06cc\u06a9 \u06a9\u0627\u0646\u06a9\u0634\u0646 1 Gbit \u0646\u0632\u062f\u06cc\u06a9 1 \u0633\u0627\u0639\u062a \u0637\u0648\u0644 \u0645\u06cc \u06a9\u0634\u062f (\u062f\u0627\u0646\u0644\u0648\u062f \u0645\u0648\u0627\u0632\u06cc \u0627\u0632 s3.amazonaws.com \u062d\u062f\u0627\u0642\u0644 \u0646\u0635\u0641 \u06a9\u0627\u0646\u0627\u0644 1 Gbit \u0631\u0648 \u062c\u0628\u0631\u0627\u0646 \u0645\u06cc \u06a9\u0646\u062f). \u0628\u0639\u0636\u06cc \u0627\u0632 \u0641\u0627\u06cc\u0644 \u0647\u0627 \u0645\u0645\u06a9\u0646 \u0627\u0633\u062a \u0628\u0647 \u0637\u0648\u0644 \u06a9\u0627\u0645\u0644 \u062f\u0627\u0646\u0644\u0648\u062f \u0646\u0634\u0648\u0646\u062f. \u0627\u0646\u062f\u0627\u0632\u0647 \u0641\u0627\u06cc\u0644 \u0647\u0627 \u0631\u0627 \u0628\u0631\u0631\u0633\u06cc \u06a9\u0646\u06cc\u062f \u0648 \u0627\u06af\u0631 \u0641\u0627\u06cc\u0644\u06cc \u0645\u0634\u06a9\u0648\u06a9 \u0628\u0648\u062f\u060c \u0645\u062c\u062f\u062f\u0627 \u062f\u0627\u0646\u0644\u0648\u062f \u06a9\u0646\u06cc\u062f.</p>\n<p>\u0628\u0639\u0636\u06cc \u0627\u0632 \u0641\u0627\u06cc\u0644 \u0647\u0627 \u0645\u0645\u06a9\u0646 \u0627\u0633\u062a \u062f\u0627\u0631\u0627\u06cc \u0633\u0637\u0631\u0647\u0627\u06cc \u0646\u0627\u0645\u0639\u062a\u0628\u0631 \u0628\u0627\u0634\u0647. \u0628\u0627 \u0627\u062c\u0631\u0627\u06cc \u062f\u0633\u062a\u0648\u0631\u0627\u062a \u0632\u06cc\u0631 \u0627\u06cc\u0646 \u0645\u0648\u0627\u0631\u062f \u0628\u0631\u0637\u0631\u0641 \u0645\u06cc \u0634\u0648\u062f:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span>sed -E <span class=\"s1\">&#39;/(.*,){18,}/d&#39;</span> data/yellow_tripdata_2010-02.csv &gt; data/yellow_tripdata_2010-02.csv_\nsed -E <span class=\"s1\">&#39;/(.*,){18,}/d&#39;</span> data/yellow_tripdata_2010-03.csv &gt; data/yellow_tripdata_2010-03.csv_\nmv data/yellow_tripdata_2010-02.csv_ data/yellow_tripdata_2010-02.csv\nmv data/yellow_tripdata_2010-03.csv_ data/yellow_tripdata_2010-03.csv\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u0633\u067e\u0633 \u062f\u0627\u062f\u0647 \u0647\u0627 \u0628\u0627\u06cc\u062f \u062f\u0631 PostgreSQL \u067e\u06cc\u0634 \u067e\u0631\u062f\u0627\u0632\u0634 \u0634\u0648\u0646\u062f. \u0627\u06cc\u0646 \u06a9\u0627\u0631 \u0646\u0642\u0627\u0637 \u0627\u0646\u062a\u062e\u0627\u0628\u06cc \u0686\u0646\u062f \u0636\u0644\u0639\u06cc \u0631\u0627 \u0627\u06cc\u062c\u0627\u062f \u0645\u06cc \u06a9\u0646\u062f (\u0628\u0631\u0627\u06cc \u0645\u0637\u0627\u0628\u0642\u062a \u0628\u0627 \u0646\u0642\u0627\u0637 \u0628\u0631 \u0631\u0648\u06cc \u0646\u0642\u0634\u0647 \u0628\u0627 \u0645\u0646\u0627\u0637\u0642 \u0634\u0647\u0631 \u0646\u06cc\u0648\u06cc\u0648\u0631\u06a9) \u0648 \u062a\u0645\u0627\u0645 \u062f\u0627\u062f\u0647 \u0647\u0627 \u0631\u0627 \u0628\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 JOIN \u062f\u0631 \u06cc\u06a9 \u062c\u062f\u0648\u0644 flat \u0648 denormal \u062a\u0631\u06a9\u06cc\u0628 \u0645\u06cc \u06a9\u0646\u062f. \u0628\u0631\u0627\u06cc \u0627\u06cc\u0646 \u06a9\u0627\u0631 \u0634\u0645\u0627 \u0646\u06cc\u0627\u0632 \u0628\u0647 \u0646\u0635\u0628 PostgreSQL \u0628\u0627 \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u0627\u0632 PostGIS \u062f\u0627\u0631\u06cc\u062f.</p>\n<p>\u062f\u0631 \u0647\u0646\u06af\u0627\u0645 \u0627\u062c\u0631\u0627\u06cc <code>initialize_database.sh</code> \u0645\u0631\u0627\u0642\u0628 \u0628\u0627\u0634\u06cc\u062f \u0648 \u0628\u0647 \u0635\u0648\u0631\u062a \u062f\u0633\u062a\u06cc \u0645\u062c\u062f\u062f\u0627 \u062a\u0645\u0627\u0645 \u062c\u062f\u0627\u0648\u0644 \u0631\u0627 \u0686\u06a9 \u06a9\u0646\u06cc\u062f.</p>\n<p>PostgreSQL \u062a\u0642\u0631\u06cc\u0628\u0627 20 \u062a\u0627 30 \u062f\u0642\u06cc\u0642\u0647 \u0628\u0631\u0627\u06cc \u067e\u0631\u062f\u0627\u0632\u0634 \u0647\u0631 \u0645\u0627\u0647 \u0632\u0645\u0627\u0646 \u0646\u06cc\u0627\u0632 \u0645\u06cc\u06af\u06cc\u0631\u062f\u060c \u062f\u0631 \u0645\u062c\u0645\u0648\u0639 \u062d\u062f\u0648\u062f 48 \u0633\u0627\u0639\u062a \u0627\u06cc\u0646 \u0639\u0645\u0644\u06cc\u0627\u062a \u0637\u0648\u0644 \u0645\u06cc \u06a9\u0634\u062f.</p>\n<p>\u0627\u0632 \u0637\u0631\u06cc\u0642 \u062f\u0633\u062a\u0648\u0631 \u0632\u06cc\u0631 \u0634\u0645\u0627 \u0645\u06cc \u062a\u0648\u0627\u0646\u06cc\u062f \u062a\u0639\u062f\u0627\u062f \u0633\u0637\u0631\u0647\u0627\u06cc \u062f\u0627\u0646\u0644\u0648\u062f \u0634\u062f\u0647 \u0631\u0627 \u062f\u0631\u06cc\u0627\u0641\u062a \u06a9\u0646\u06cc\u062f:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">time</span> <span class=\"n\">psql</span> <span class=\"n\">nyc</span><span class=\"o\">-</span><span class=\"n\">taxi</span><span class=\"o\">-</span><span class=\"k\">data</span> <span class=\"o\">-</span><span class=\"k\">c</span> <span class=\"ss\">&quot;SELECT count(*) FROM trips;&quot;</span>\n<span class=\"o\">###</span>    <span class=\"k\">count</span>\n <span class=\"mi\">1298979494</span>\n<span class=\"p\">(</span><span class=\"mi\">1</span> <span class=\"k\">row</span><span class=\"p\">)</span>\n\n<span class=\"nb\">real</span>    <span class=\"mi\">7</span><span class=\"n\">m9</span><span class=\"p\">.</span><span class=\"mi\">164</span><span class=\"n\">s</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>(\u062f\u0631 \u06cc\u06a9\u06cc \u0627\u0632 \u067e\u0633\u062a \u0647\u0627\u06cc \u0645\u0642\u0627\u0644\u0627\u062a Mark Litwintschik \u0627\u06cc\u0646 \u06a9\u0645\u06cc \u0628\u06cc\u0634\u062a\u0631 \u0627\u0632 1.1 \u0645\u06cc\u0644\u06cc\u0627\u0631\u062f \u0633\u0637\u0631 \u06af\u0632\u0627\u0631\u0634 \u0634\u062f\u0647 \u0627\u0633\u062a.)</p>\n<p>\u062d\u062c\u0645 \u062f\u0627\u062f\u0647 \u0647\u0627 \u062f\u0631 PostgreSQL 370 \u06af\u06cc\u06af\u0627\u0628\u0627\u06cc\u062a \u0645\u06cc \u0628\u0627\u0634\u062f.</p>\n<p>Export \u06af\u06cc\u0631\u06cc \u062f\u0627\u062f\u0647 \u0647\u0627 \u0627\u0632 PostgreSQL:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">COPY</span>\n<span class=\"p\">(</span>\n    <span class=\"k\">SELECT</span> <span class=\"n\">trips</span><span class=\"p\">.</span><span class=\"n\">id</span><span class=\"p\">,</span>\n           <span class=\"n\">trips</span><span class=\"p\">.</span><span class=\"n\">vendor_id</span><span class=\"p\">,</span>\n           <span class=\"n\">trips</span><span class=\"p\">.</span><span class=\"n\">pickup_datetime</span><span class=\"p\">,</span>\n           <span class=\"n\">trips</span><span class=\"p\">.</span><span class=\"n\">dropoff_datetime</span><span class=\"p\">,</span>\n           <span class=\"n\">trips</span><span class=\"p\">.</span><span class=\"n\">store_and_fwd_flag</span><span class=\"p\">,</span>\n           <span class=\"n\">trips</span><span class=\"p\">.</span><span class=\"n\">rate_code_id</span><span class=\"p\">,</span>\n           <span class=\"n\">trips</span><span class=\"p\">.</span><span class=\"n\">pickup_longitude</span><span class=\"p\">,</span>\n           <span class=\"n\">trips</span><span class=\"p\">.</span><span class=\"n\">pickup_latitude</span><span class=\"p\">,</span>\n           <span class=\"n\">trips</span><span class=\"p\">.</span><span class=\"n\">dropoff_longitude</span><span class=\"p\">,</span>\n           <span class=\"n\">trips</span><span class=\"p\">.</span><span class=\"n\">dropoff_latitude</span><span class=\"p\">,</span>\n           <span class=\"n\">trips</span><span class=\"p\">.</span><span class=\"n\">passenger_count</span><span class=\"p\">,</span>\n           <span class=\"n\">trips</span><span class=\"p\">.</span><span class=\"n\">trip_distance</span><span class=\"p\">,</span>\n           <span class=\"n\">trips</span><span class=\"p\">.</span><span class=\"n\">fare_amount</span><span class=\"p\">,</span>\n           <span class=\"n\">trips</span><span class=\"p\">.</span><span class=\"n\">extra</span><span class=\"p\">,</span>\n           <span class=\"n\">trips</span><span class=\"p\">.</span><span class=\"n\">mta_tax</span><span class=\"p\">,</span>\n           <span class=\"n\">trips</span><span class=\"p\">.</span><span class=\"n\">tip_amount</span><span class=\"p\">,</span>\n           <span class=\"n\">trips</span><span class=\"p\">.</span><span class=\"n\">tolls_amount</span><span class=\"p\">,</span>\n           <span class=\"n\">trips</span><span class=\"p\">.</span><span class=\"n\">ehail_fee</span><span class=\"p\">,</span>\n           <span class=\"n\">trips</span><span class=\"p\">.</span><span class=\"n\">improvement_surcharge</span><span class=\"p\">,</span>\n           <span class=\"n\">trips</span><span class=\"p\">.</span><span class=\"n\">total_amount</span><span class=\"p\">,</span>\n           <span class=\"n\">trips</span><span class=\"p\">.</span><span class=\"n\">payment_type</span><span class=\"p\">,</span>\n           <span class=\"n\">trips</span><span class=\"p\">.</span><span class=\"n\">trip_type</span><span class=\"p\">,</span>\n           <span class=\"n\">trips</span><span class=\"p\">.</span><span class=\"n\">pickup</span><span class=\"p\">,</span>\n           <span class=\"n\">trips</span><span class=\"p\">.</span><span class=\"n\">dropoff</span><span class=\"p\">,</span>\n\n           <span class=\"n\">cab_types</span><span class=\"p\">.</span><span class=\"k\">type</span> <span class=\"n\">cab_type</span><span class=\"p\">,</span>\n\n           <span class=\"n\">weather</span><span class=\"p\">.</span><span class=\"n\">precipitation_tenths_of_mm</span> <span class=\"n\">rain</span><span class=\"p\">,</span>\n           <span class=\"n\">weather</span><span class=\"p\">.</span><span class=\"n\">snow_depth_mm</span><span class=\"p\">,</span>\n           <span class=\"n\">weather</span><span class=\"p\">.</span><span class=\"n\">snowfall_mm</span><span class=\"p\">,</span>\n           <span class=\"n\">weather</span><span class=\"p\">.</span><span class=\"n\">max_temperature_tenths_degrees_celsius</span> <span class=\"n\">max_temp</span><span class=\"p\">,</span>\n           <span class=\"n\">weather</span><span class=\"p\">.</span><span class=\"n\">min_temperature_tenths_degrees_celsius</span> <span class=\"n\">min_temp</span><span class=\"p\">,</span>\n           <span class=\"n\">weather</span><span class=\"p\">.</span><span class=\"n\">average_wind_speed_tenths_of_meters_per_second</span> <span class=\"n\">wind</span><span class=\"p\">,</span>\n\n           <span class=\"n\">pick_up</span><span class=\"p\">.</span><span class=\"n\">gid</span> <span class=\"n\">pickup_nyct2010_gid</span><span class=\"p\">,</span>\n           <span class=\"n\">pick_up</span><span class=\"p\">.</span><span class=\"n\">ctlabel</span> <span class=\"n\">pickup_ctlabel</span><span class=\"p\">,</span>\n           <span class=\"n\">pick_up</span><span class=\"p\">.</span><span class=\"n\">borocode</span> <span class=\"n\">pickup_borocode</span><span class=\"p\">,</span>\n           <span class=\"n\">pick_up</span><span class=\"p\">.</span><span class=\"n\">boroname</span> <span class=\"n\">pickup_boroname</span><span class=\"p\">,</span>\n           <span class=\"n\">pick_up</span><span class=\"p\">.</span><span class=\"n\">ct2010</span> <span class=\"n\">pickup_ct2010</span><span class=\"p\">,</span>\n           <span class=\"n\">pick_up</span><span class=\"p\">.</span><span class=\"n\">boroct2010</span> <span class=\"n\">pickup_boroct2010</span><span class=\"p\">,</span>\n           <span class=\"n\">pick_up</span><span class=\"p\">.</span><span class=\"n\">cdeligibil</span> <span class=\"n\">pickup_cdeligibil</span><span class=\"p\">,</span>\n           <span class=\"n\">pick_up</span><span class=\"p\">.</span><span class=\"n\">ntacode</span> <span class=\"n\">pickup_ntacode</span><span class=\"p\">,</span>\n           <span class=\"n\">pick_up</span><span class=\"p\">.</span><span class=\"n\">ntaname</span> <span class=\"n\">pickup_ntaname</span><span class=\"p\">,</span>\n           <span class=\"n\">pick_up</span><span class=\"p\">.</span><span class=\"n\">puma</span> <span class=\"n\">pickup_puma</span><span class=\"p\">,</span>\n\n           <span class=\"n\">drop_off</span><span class=\"p\">.</span><span class=\"n\">gid</span> <span class=\"n\">dropoff_nyct2010_gid</span><span class=\"p\">,</span>\n           <span class=\"n\">drop_off</span><span class=\"p\">.</span><span class=\"n\">ctlabel</span> <span class=\"n\">dropoff_ctlabel</span><span class=\"p\">,</span>\n           <span class=\"n\">drop_off</span><span class=\"p\">.</span><span class=\"n\">borocode</span> <span class=\"n\">dropoff_borocode</span><span class=\"p\">,</span>\n           <span class=\"n\">drop_off</span><span class=\"p\">.</span><span class=\"n\">boroname</span> <span class=\"n\">dropoff_boroname</span><span class=\"p\">,</span>\n           <span class=\"n\">drop_off</span><span class=\"p\">.</span><span class=\"n\">ct2010</span> <span class=\"n\">dropoff_ct2010</span><span class=\"p\">,</span>\n           <span class=\"n\">drop_off</span><span class=\"p\">.</span><span class=\"n\">boroct2010</span> <span class=\"n\">dropoff_boroct2010</span><span class=\"p\">,</span>\n           <span class=\"n\">drop_off</span><span class=\"p\">.</span><span class=\"n\">cdeligibil</span> <span class=\"n\">dropoff_cdeligibil</span><span class=\"p\">,</span>\n           <span class=\"n\">drop_off</span><span class=\"p\">.</span><span class=\"n\">ntacode</span> <span class=\"n\">dropoff_ntacode</span><span class=\"p\">,</span>\n           <span class=\"n\">drop_off</span><span class=\"p\">.</span><span class=\"n\">ntaname</span> <span class=\"n\">dropoff_ntaname</span><span class=\"p\">,</span>\n           <span class=\"n\">drop_off</span><span class=\"p\">.</span><span class=\"n\">puma</span> <span class=\"n\">dropoff_puma</span>\n    <span class=\"k\">FROM</span> <span class=\"n\">trips</span>\n    <span class=\"k\">LEFT</span> <span class=\"k\">JOIN</span> <span class=\"n\">cab_types</span>\n        <span class=\"k\">ON</span> <span class=\"n\">trips</span><span class=\"p\">.</span><span class=\"n\">cab_type_id</span> <span class=\"o\">=</span> <span class=\"n\">cab_types</span><span class=\"p\">.</span><span class=\"n\">id</span>\n    <span class=\"k\">LEFT</span> <span class=\"k\">JOIN</span> <span class=\"n\">central_park_weather_observations_raw</span> <span class=\"n\">weather</span>\n        <span class=\"k\">ON</span> <span class=\"n\">weather</span><span class=\"p\">.</span><span class=\"nb\">date</span> <span class=\"o\">=</span> <span class=\"n\">trips</span><span class=\"p\">.</span><span class=\"n\">pickup_datetime</span><span class=\"p\">::</span><span class=\"nb\">date</span>\n    <span class=\"k\">LEFT</span> <span class=\"k\">JOIN</span> <span class=\"n\">nyct2010</span> <span class=\"n\">pick_up</span>\n        <span class=\"k\">ON</span> <span class=\"n\">pick_up</span><span class=\"p\">.</span><span class=\"n\">gid</span> <span class=\"o\">=</span> <span class=\"n\">trips</span><span class=\"p\">.</span><span class=\"n\">pickup_nyct2010_gid</span>\n    <span class=\"k\">LEFT</span> <span class=\"k\">JOIN</span> <span class=\"n\">nyct2010</span> <span class=\"n\">drop_off</span>\n        <span class=\"k\">ON</span> <span class=\"n\">drop_off</span><span class=\"p\">.</span><span class=\"n\">gid</span> <span class=\"o\">=</span> <span class=\"n\">trips</span><span class=\"p\">.</span><span class=\"n\">dropoff_nyct2010_gid</span>\n<span class=\"p\">)</span> <span class=\"k\">TO</span> <span class=\"s1\">&#39;/opt/milovidov/nyc-taxi-data/trips.tsv&#39;</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>snapshot \u0627\u0632 \u062f\u0627\u062f\u0647 \u0647\u0627 \u0628\u0627 \u0633\u0631\u0639\u062a 50 \u0645\u06af\u0627\u0628\u0627\u06cc\u062a \u062f\u0631 \u062b\u0627\u0646\u06cc\u0647 \u0627\u0646\u062c\u0627\u0645 \u0645\u06cc \u0634\u0648\u062f. \u062f\u0631 \u0647\u0646\u06af\u0627\u0645 \u0627\u06cc\u062c\u0627\u062f snapshot\u060c PostgreSQL \u062f\u0627\u062f\u0647 \u0647\u0627 \u0631\u0627 \u0628\u0627 \u0633\u0631\u0639\u062a 28 \u0645\u06af\u0627\u0628\u0627\u06cc\u062a \u062f\u0631 \u062b\u0627\u0646\u06cc\u0647 \u0627\u0632 \u0631\u0648\u06cc \u0645\u06cc \u062e\u0648\u0627\u0646\u062f. \u0627\u06cc\u0646 \u06a9\u0627\u0631 \u062d\u062f\u0648\u062f 5 \u0633\u0627\u0639\u062a \u0632\u0645\u0627\u0646 \u0645\u06cc\u0628\u0631\u062f. \u0646\u062a\u06cc\u062c\u0647 \u06a9\u0627\u0631 \u0641\u0627\u06cc\u0644 TSV \u0628\u0627 \u062d\u062c\u0645 590612904969 \u0628\u0627\u06cc\u062a \u0645\u06cc \u0628\u0627\u0634\u062f.</p>\n<p>\u0633\u0627\u062e\u062a \u062c\u062f\u0648\u0644 temporary \u062f\u0631 ClickHouse:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">trips</span>\n<span class=\"p\">(</span>\n<span class=\"n\">trip_id</span>                 <span class=\"n\">UInt32</span><span class=\"p\">,</span>\n<span class=\"n\">vendor_id</span>               <span class=\"n\">String</span><span class=\"p\">,</span>\n<span class=\"n\">pickup_datetime</span>         <span class=\"n\">DateTime</span><span class=\"p\">,</span>\n<span class=\"n\">dropoff_datetime</span>        <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">DateTime</span><span class=\"p\">),</span>\n<span class=\"n\">store_and_fwd_flag</span>      <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">FixedString</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">)),</span>\n<span class=\"n\">rate_code_id</span>            <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">UInt8</span><span class=\"p\">),</span>\n<span class=\"n\">pickup_longitude</span>        <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">Float64</span><span class=\"p\">),</span>\n<span class=\"n\">pickup_latitude</span>         <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">Float64</span><span class=\"p\">),</span>\n<span class=\"n\">dropoff_longitude</span>       <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">Float64</span><span class=\"p\">),</span>\n<span class=\"n\">dropoff_latitude</span>        <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">Float64</span><span class=\"p\">),</span>\n<span class=\"n\">passenger_count</span>         <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">UInt8</span><span class=\"p\">),</span>\n<span class=\"n\">trip_distance</span>           <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">Float64</span><span class=\"p\">),</span>\n<span class=\"n\">fare_amount</span>             <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">Float32</span><span class=\"p\">),</span>\n<span class=\"n\">extra</span>                   <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">Float32</span><span class=\"p\">),</span>\n<span class=\"n\">mta_tax</span>                 <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">Float32</span><span class=\"p\">),</span>\n<span class=\"n\">tip_amount</span>              <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">Float32</span><span class=\"p\">),</span>\n<span class=\"n\">tolls_amount</span>            <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">Float32</span><span class=\"p\">),</span>\n<span class=\"n\">ehail_fee</span>               <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">Float32</span><span class=\"p\">),</span>\n<span class=\"n\">improvement_surcharge</span>   <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">Float32</span><span class=\"p\">),</span>\n<span class=\"n\">total_amount</span>            <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">Float32</span><span class=\"p\">),</span>\n<span class=\"n\">payment_type</span>            <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">String</span><span class=\"p\">),</span>\n<span class=\"n\">trip_type</span>               <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">UInt8</span><span class=\"p\">),</span>\n<span class=\"n\">pickup</span>                  <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">String</span><span class=\"p\">),</span>\n<span class=\"n\">dropoff</span>                 <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">String</span><span class=\"p\">),</span>\n<span class=\"n\">cab_type</span>                <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">String</span><span class=\"p\">),</span>\n<span class=\"n\">precipitation</span>           <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">UInt8</span><span class=\"p\">),</span>\n<span class=\"n\">snow_depth</span>              <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">UInt8</span><span class=\"p\">),</span>\n<span class=\"n\">snowfall</span>                <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">UInt8</span><span class=\"p\">),</span>\n<span class=\"n\">max_temperature</span>         <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">UInt8</span><span class=\"p\">),</span>\n<span class=\"n\">min_temperature</span>         <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">UInt8</span><span class=\"p\">),</span>\n<span class=\"n\">average_wind_speed</span>      <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">UInt8</span><span class=\"p\">),</span>\n<span class=\"n\">pickup_nyct2010_gid</span>     <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">UInt8</span><span class=\"p\">),</span>\n<span class=\"n\">pickup_ctlabel</span>          <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">String</span><span class=\"p\">),</span>\n<span class=\"n\">pickup_borocode</span>         <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">UInt8</span><span class=\"p\">),</span>\n<span class=\"n\">pickup_boroname</span>         <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">String</span><span class=\"p\">),</span>\n<span class=\"n\">pickup_ct2010</span>           <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">String</span><span class=\"p\">),</span>\n<span class=\"n\">pickup_boroct2010</span>       <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">String</span><span class=\"p\">),</span>\n<span class=\"n\">pickup_cdeligibil</span>       <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">FixedString</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">)),</span>\n<span class=\"n\">pickup_ntacode</span>          <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">String</span><span class=\"p\">),</span>\n<span class=\"n\">pickup_ntaname</span>          <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">String</span><span class=\"p\">),</span>\n<span class=\"n\">pickup_puma</span>             <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">String</span><span class=\"p\">),</span>\n<span class=\"n\">dropoff_nyct2010_gid</span>    <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">UInt8</span><span class=\"p\">),</span>\n<span class=\"n\">dropoff_ctlabel</span>         <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">String</span><span class=\"p\">),</span>\n<span class=\"n\">dropoff_borocode</span>        <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">UInt8</span><span class=\"p\">),</span>\n<span class=\"n\">dropoff_boroname</span>        <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">String</span><span class=\"p\">),</span>\n<span class=\"n\">dropoff_ct2010</span>          <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">String</span><span class=\"p\">),</span>\n<span class=\"n\">dropoff_boroct2010</span>      <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">String</span><span class=\"p\">),</span>\n<span class=\"n\">dropoff_cdeligibil</span>      <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">String</span><span class=\"p\">),</span>\n<span class=\"n\">dropoff_ntacode</span>         <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">String</span><span class=\"p\">),</span>\n<span class=\"n\">dropoff_ntaname</span>         <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">String</span><span class=\"p\">),</span>\n<span class=\"n\">dropoff_puma</span>            <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">String</span><span class=\"p\">)</span>\n<span class=\"p\">)</span> <span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">Log</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u0628\u0631\u0627\u06cc \u062a\u0628\u062f\u06cc\u0644 \u0641\u06cc\u0644\u062f \u0647\u0627 \u0628\u0647 data type \u0647\u0627\u06cc \u0635\u062d\u06cc\u062d \u062a\u0631 \u0648 \u062f\u0631 \u0635\u0648\u0631\u062a \u0627\u0645\u06a9\u0627\u0646\u060c \u062d\u0630\u0641 NULL \u0647\u0627 \u0644\u0627\u0632\u0645 \u0627\u0633\u062a.</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">time</span> <span class=\"n\">clickhouse</span><span class=\"o\">-</span><span class=\"n\">client</span> <span class=\"c1\">--query=&quot;INSERT INTO trips FORMAT TabSeparated&quot; &lt; trips.tsv</span>\n\n<span class=\"nb\">real</span>    <span class=\"mi\">75</span><span class=\"n\">m56</span><span class=\"p\">.</span><span class=\"mi\">214</span><span class=\"n\">s</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u062f\u0627\u062f\u0647 \u0647\u0627 \u0628\u0627 \u0633\u0631\u0639\u062a 112 \u062a\u0627 140 \u0645\u06af\u0627\u0628\u06cc\u062a \u062f\u0631 \u062b\u0627\u0646\u06cc\u0647 \u062e\u0648\u0627\u0646\u062f\u0647 \u0645\u06cc \u0634\u0648\u0646\u062f. load \u06a9\u0631\u062f\u0646 \u062f\u0627\u062f\u0647 \u0647\u0627 \u062f\u0631 \u062c\u062f\u0648\u0644 Log Type \u062f\u0631 \u06cc\u06a9 Stream\u060c 76 \u062f\u0642\u06cc\u0642\u0647 \u0632\u0645\u0627\u0646 \u06a9\u0634\u06cc\u062f. \u0627\u06cc\u0646 \u062f\u0627\u062f\u0647 \u0647\u0627 \u062f\u0631 \u0627\u06cc\u0646 \u062c\u062f\u0648\u0644 142 \u06af\u06cc\u06af\u0627\u0628\u0627\u06cc\u062a \u0641\u0636\u0627 \u0627\u0634\u063a\u0627\u0644 \u0645\u06cc \u06a9\u0646\u0646\u062f.</p>\n<p>(import \u06a9\u0631\u062f\u0646 \u062f\u0627\u062f\u0647 \u0647\u0627 \u0628\u0647 \u0635\u0648\u0631\u062a \u0645\u0633\u062a\u0642\u06cc\u0645 \u0627\u0632 Postgres \u0628\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 <code>COPY ... TO PROGRAM</code> \u0647\u0645 \u0627\u0645\u06a9\u0627\u0646 \u067e\u0630\u06cc\u0631 \u0627\u0633\u062a.)</p>\n<p>\u0645\u062a\u0627\u0633\u0641\u0627\u0646\u0647\u060c \u062a\u0645\u0627\u0645 \u0641\u06cc\u0644\u062f \u0647\u0627\u06cc \u0645\u0631\u062a\u0628\u0637 \u0628\u0627 \u0622\u0628 \u0648 \u0647\u0648\u0627 (precipitation...average_wind_speed) \u0628\u0627 Null \u067e\u0631 \u0634\u062f\u0646\u062f. \u0628\u0647 \u062e\u0627\u0637\u0631 \u0647\u0645\u06cc\u0646\u060c \u0645\u0627 \u0627\u0632 \u062f\u06cc\u062a\u0627\u0633\u062a \u0646\u0647\u0627\u06cc\u06cc \u0627\u06cc\u0646\u0647\u0627 \u0631\u0648 \u062d\u0630\u0641 \u06a9\u0631\u062f\u06cc\u0645.</p>\n<p>\u0628\u0631\u0627\u06cc \u0634\u0631\u0648\u0639\u060c \u0645\u0627 \u06cc\u06a9 \u062c\u062f\u0648\u0644 \u062f\u0631 \u06cc\u06a9 \u0633\u0631\u0648\u0631 \u0627\u06cc\u062c\u0627\u062f \u06a9\u0631\u062f\u06cc\u0645. \u0628\u0639\u062f\u0627 \u0645\u0627 \u06cc\u06a9 \u062c\u062f\u0648\u0644 \u062a\u0648\u0632\u06cc\u0639 \u0634\u062f\u0647 \u0645\u06cc \u0633\u0627\u0632\u06cc\u0645.</p>\n<p>\u06cc\u06a9 \u062c\u062f\u0648\u0644 \u062e\u0644\u0627\u0635\u0647 \u0627\u06cc\u062c\u0627\u062f \u0648 \u067e\u0631 \u06a9\u0646\u06cc\u062f:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">trips_mergetree</span>\n<span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">MergeTree</span><span class=\"p\">(</span><span class=\"n\">pickup_date</span><span class=\"p\">,</span> <span class=\"n\">pickup_datetime</span><span class=\"p\">,</span> <span class=\"mi\">8192</span><span class=\"p\">)</span>\n<span class=\"k\">AS</span> <span class=\"k\">SELECT</span>\n\n<span class=\"n\">trip_id</span><span class=\"p\">,</span>\n<span class=\"k\">CAST</span><span class=\"p\">(</span><span class=\"n\">vendor_id</span> <span class=\"k\">AS</span> <span class=\"n\">Enum8</span><span class=\"p\">(</span><span class=\"s1\">&#39;1&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"s1\">&#39;2&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"s1\">&#39;CMT&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"s1\">&#39;VTS&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"s1\">&#39;DDS&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"s1\">&#39;B02512&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"s1\">&#39;B02598&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">11</span><span class=\"p\">,</span> <span class=\"s1\">&#39;B02617&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">12</span><span class=\"p\">,</span> <span class=\"s1\">&#39;B02682&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">13</span><span class=\"p\">,</span> <span class=\"s1\">&#39;B02764&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">14</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">vendor_id</span><span class=\"p\">,</span>\n<span class=\"n\">toDate</span><span class=\"p\">(</span><span class=\"n\">pickup_datetime</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">pickup_date</span><span class=\"p\">,</span>\n<span class=\"n\">ifNull</span><span class=\"p\">(</span><span class=\"n\">pickup_datetime</span><span class=\"p\">,</span> <span class=\"n\">toDateTime</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">pickup_datetime</span><span class=\"p\">,</span>\n<span class=\"n\">toDate</span><span class=\"p\">(</span><span class=\"n\">dropoff_datetime</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">dropoff_date</span><span class=\"p\">,</span>\n<span class=\"n\">ifNull</span><span class=\"p\">(</span><span class=\"n\">dropoff_datetime</span><span class=\"p\">,</span> <span class=\"n\">toDateTime</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">dropoff_datetime</span><span class=\"p\">,</span>\n<span class=\"n\">assumeNotNull</span><span class=\"p\">(</span><span class=\"n\">store_and_fwd_flag</span><span class=\"p\">)</span> <span class=\"k\">IN</span> <span class=\"p\">(</span><span class=\"s1\">&#39;Y&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;1&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;2&#39;</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">store_and_fwd_flag</span><span class=\"p\">,</span>\n<span class=\"n\">assumeNotNull</span><span class=\"p\">(</span><span class=\"n\">rate_code_id</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">rate_code_id</span><span class=\"p\">,</span>\n<span class=\"n\">assumeNotNull</span><span class=\"p\">(</span><span class=\"n\">pickup_longitude</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">pickup_longitude</span><span class=\"p\">,</span>\n<span class=\"n\">assumeNotNull</span><span class=\"p\">(</span><span class=\"n\">pickup_latitude</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">pickup_latitude</span><span class=\"p\">,</span>\n<span class=\"n\">assumeNotNull</span><span class=\"p\">(</span><span class=\"n\">dropoff_longitude</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">dropoff_longitude</span><span class=\"p\">,</span>\n<span class=\"n\">assumeNotNull</span><span class=\"p\">(</span><span class=\"n\">dropoff_latitude</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">dropoff_latitude</span><span class=\"p\">,</span>\n<span class=\"n\">assumeNotNull</span><span class=\"p\">(</span><span class=\"n\">passenger_count</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">passenger_count</span><span class=\"p\">,</span>\n<span class=\"n\">assumeNotNull</span><span class=\"p\">(</span><span class=\"n\">trip_distance</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">trip_distance</span><span class=\"p\">,</span>\n<span class=\"n\">assumeNotNull</span><span class=\"p\">(</span><span class=\"n\">fare_amount</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">fare_amount</span><span class=\"p\">,</span>\n<span class=\"n\">assumeNotNull</span><span class=\"p\">(</span><span class=\"n\">extra</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">extra</span><span class=\"p\">,</span>\n<span class=\"n\">assumeNotNull</span><span class=\"p\">(</span><span class=\"n\">mta_tax</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">mta_tax</span><span class=\"p\">,</span>\n<span class=\"n\">assumeNotNull</span><span class=\"p\">(</span><span class=\"n\">tip_amount</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">tip_amount</span><span class=\"p\">,</span>\n<span class=\"n\">assumeNotNull</span><span class=\"p\">(</span><span class=\"n\">tolls_amount</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">tolls_amount</span><span class=\"p\">,</span>\n<span class=\"n\">assumeNotNull</span><span class=\"p\">(</span><span class=\"n\">ehail_fee</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">ehail_fee</span><span class=\"p\">,</span>\n<span class=\"n\">assumeNotNull</span><span class=\"p\">(</span><span class=\"n\">improvement_surcharge</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">improvement_surcharge</span><span class=\"p\">,</span>\n<span class=\"n\">assumeNotNull</span><span class=\"p\">(</span><span class=\"n\">total_amount</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">total_amount</span><span class=\"p\">,</span>\n<span class=\"k\">CAST</span><span class=\"p\">((</span><span class=\"n\">assumeNotNull</span><span class=\"p\">(</span><span class=\"n\">payment_type</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">pt</span><span class=\"p\">)</span> <span class=\"k\">IN</span> <span class=\"p\">(</span><span class=\"s1\">&#39;CSH&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;CASH&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Cash&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;CAS&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Cas&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;1&#39;</span><span class=\"p\">)</span> <span class=\"o\">?</span> <span class=\"s1\">&#39;CSH&#39;</span> <span class=\"p\">:</span> <span class=\"p\">(</span><span class=\"n\">pt</span> <span class=\"k\">IN</span> <span class=\"p\">(</span><span class=\"s1\">&#39;CRD&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Credit&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Cre&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;CRE&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;CREDIT&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;2&#39;</span><span class=\"p\">)</span> <span class=\"o\">?</span> <span class=\"s1\">&#39;CRE&#39;</span> <span class=\"p\">:</span> <span class=\"p\">(</span><span class=\"n\">pt</span> <span class=\"k\">IN</span> <span class=\"p\">(</span><span class=\"s1\">&#39;NOC&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;No Charge&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;No&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;3&#39;</span><span class=\"p\">)</span> <span class=\"o\">?</span> <span class=\"s1\">&#39;NOC&#39;</span> <span class=\"p\">:</span> <span class=\"p\">(</span><span class=\"n\">pt</span> <span class=\"k\">IN</span> <span class=\"p\">(</span><span class=\"s1\">&#39;DIS&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Dispute&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Dis&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;4&#39;</span><span class=\"p\">)</span> <span class=\"o\">?</span> <span class=\"s1\">&#39;DIS&#39;</span> <span class=\"p\">:</span> <span class=\"s1\">&#39;UNK&#39;</span><span class=\"p\">)))</span> <span class=\"k\">AS</span> <span class=\"n\">Enum8</span><span class=\"p\">(</span><span class=\"s1\">&#39;CSH&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"s1\">&#39;CRE&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"s1\">&#39;UNK&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"s1\">&#39;NOC&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"s1\">&#39;DIS&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">4</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">payment_type_</span><span class=\"p\">,</span>\n<span class=\"n\">assumeNotNull</span><span class=\"p\">(</span><span class=\"n\">trip_type</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">trip_type</span><span class=\"p\">,</span>\n<span class=\"n\">ifNull</span><span class=\"p\">(</span><span class=\"n\">toFixedString</span><span class=\"p\">(</span><span class=\"n\">unhex</span><span class=\"p\">(</span><span class=\"n\">pickup</span><span class=\"p\">),</span> <span class=\"mi\">25</span><span class=\"p\">),</span> <span class=\"n\">toFixedString</span><span class=\"p\">(</span><span class=\"s1\">&#39;&#39;</span><span class=\"p\">,</span> <span class=\"mi\">25</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">pickup</span><span class=\"p\">,</span>\n<span class=\"n\">ifNull</span><span class=\"p\">(</span><span class=\"n\">toFixedString</span><span class=\"p\">(</span><span class=\"n\">unhex</span><span class=\"p\">(</span><span class=\"n\">dropoff</span><span class=\"p\">),</span> <span class=\"mi\">25</span><span class=\"p\">),</span> <span class=\"n\">toFixedString</span><span class=\"p\">(</span><span class=\"s1\">&#39;&#39;</span><span class=\"p\">,</span> <span class=\"mi\">25</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">dropoff</span><span class=\"p\">,</span>\n<span class=\"k\">CAST</span><span class=\"p\">(</span><span class=\"n\">assumeNotNull</span><span class=\"p\">(</span><span class=\"n\">cab_type</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">Enum8</span><span class=\"p\">(</span><span class=\"s1\">&#39;yellow&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"s1\">&#39;green&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"s1\">&#39;uber&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">3</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">cab_type</span><span class=\"p\">,</span>\n\n<span class=\"n\">assumeNotNull</span><span class=\"p\">(</span><span class=\"n\">pickup_nyct2010_gid</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">pickup_nyct2010_gid</span><span class=\"p\">,</span>\n<span class=\"n\">toFloat32</span><span class=\"p\">(</span><span class=\"n\">ifNull</span><span class=\"p\">(</span><span class=\"n\">pickup_ctlabel</span><span class=\"p\">,</span> <span class=\"s1\">&#39;0&#39;</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">pickup_ctlabel</span><span class=\"p\">,</span>\n<span class=\"n\">assumeNotNull</span><span class=\"p\">(</span><span class=\"n\">pickup_borocode</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">pickup_borocode</span><span class=\"p\">,</span>\n<span class=\"k\">CAST</span><span class=\"p\">(</span><span class=\"n\">assumeNotNull</span><span class=\"p\">(</span><span class=\"n\">pickup_boroname</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">Enum8</span><span class=\"p\">(</span><span class=\"s1\">&#39;Manhattan&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Queens&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Brooklyn&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"s1\">&#39;&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Bronx&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Staten Island&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">5</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">pickup_boroname</span><span class=\"p\">,</span>\n<span class=\"n\">toFixedString</span><span class=\"p\">(</span><span class=\"n\">ifNull</span><span class=\"p\">(</span><span class=\"n\">pickup_ct2010</span><span class=\"p\">,</span> <span class=\"s1\">&#39;000000&#39;</span><span class=\"p\">),</span> <span class=\"mi\">6</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">pickup_ct2010</span><span class=\"p\">,</span>\n<span class=\"n\">toFixedString</span><span class=\"p\">(</span><span class=\"n\">ifNull</span><span class=\"p\">(</span><span class=\"n\">pickup_boroct2010</span><span class=\"p\">,</span> <span class=\"s1\">&#39;0000000&#39;</span><span class=\"p\">),</span> <span class=\"mi\">7</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">pickup_boroct2010</span><span class=\"p\">,</span>\n<span class=\"k\">CAST</span><span class=\"p\">(</span><span class=\"n\">assumeNotNull</span><span class=\"p\">(</span><span class=\"n\">ifNull</span><span class=\"p\">(</span><span class=\"n\">pickup_cdeligibil</span><span class=\"p\">,</span> <span class=\"s1\">&#39; &#39;</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">Enum8</span><span class=\"p\">(</span><span class=\"s1\">&#39; &#39;</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"s1\">&#39;E&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"s1\">&#39;I&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">2</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">pickup_cdeligibil</span><span class=\"p\">,</span>\n<span class=\"n\">toFixedString</span><span class=\"p\">(</span><span class=\"n\">ifNull</span><span class=\"p\">(</span><span class=\"n\">pickup_ntacode</span><span class=\"p\">,</span> <span class=\"s1\">&#39;0000&#39;</span><span class=\"p\">),</span> <span class=\"mi\">4</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">pickup_ntacode</span><span class=\"p\">,</span>\n\n<span class=\"k\">CAST</span><span class=\"p\">(</span><span class=\"n\">assumeNotNull</span><span class=\"p\">(</span><span class=\"n\">pickup_ntaname</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">Enum16</span><span class=\"p\">(</span><span class=\"s1\">&#39;&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Airport&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Allerton-Pelham Gardens&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Annadale-Huguenot-Prince\\&#39;</span><span class=\"n\">s</span> <span class=\"n\">Bay</span><span class=\"o\">-</span><span class=\"n\">Eltingville</span><span class=\"s1\">&#39; = 3, &#39;</span><span class=\"n\">Arden</span> <span class=\"n\">Heights</span><span class=\"s1\">&#39; = 4, &#39;</span><span class=\"n\">Astoria</span><span class=\"s1\">&#39; = 5, &#39;</span><span class=\"n\">Auburndale</span><span class=\"s1\">&#39; = 6, &#39;</span><span class=\"n\">Baisley</span> <span class=\"n\">Park</span><span class=\"s1\">&#39; = 7, &#39;</span><span class=\"n\">Bath</span> <span class=\"n\">Beach</span><span class=\"s1\">&#39; = 8, &#39;</span><span class=\"n\">Battery</span> <span class=\"n\">Park</span> <span class=\"n\">City</span><span class=\"o\">-</span><span class=\"k\">Lower</span> <span class=\"n\">Manhattan</span><span class=\"s1\">&#39; = 9, &#39;</span><span class=\"n\">Bay</span> <span class=\"n\">Ridge</span><span class=\"s1\">&#39; = 10, &#39;</span><span class=\"n\">Bayside</span><span class=\"o\">-</span><span class=\"n\">Bayside</span> <span class=\"n\">Hills</span><span class=\"s1\">&#39; = 11, &#39;</span><span class=\"n\">Bedford</span><span class=\"s1\">&#39; = 12, &#39;</span><span class=\"n\">Bedford</span> <span class=\"n\">Park</span><span class=\"o\">-</span><span class=\"n\">Fordham</span> <span class=\"n\">North</span><span class=\"s1\">&#39; = 13, &#39;</span><span class=\"n\">Bellerose</span><span class=\"s1\">&#39; = 14, &#39;</span><span class=\"n\">Belmont</span><span class=\"s1\">&#39; = 15, &#39;</span><span class=\"n\">Bensonhurst</span> <span class=\"n\">East</span><span class=\"s1\">&#39; = 16, &#39;</span><span class=\"n\">Bensonhurst</span> <span class=\"n\">West</span><span class=\"s1\">&#39; = 17, &#39;</span><span class=\"n\">Borough</span> <span class=\"n\">Park</span><span class=\"s1\">&#39; = 18, &#39;</span><span class=\"n\">Breezy</span> <span class=\"n\">Point</span><span class=\"o\">-</span><span class=\"n\">Belle</span> <span class=\"n\">Harbor</span><span class=\"o\">-</span><span class=\"n\">Rockaway</span> <span class=\"n\">Park</span><span class=\"o\">-</span><span class=\"n\">Broad</span> <span class=\"n\">Channel</span><span class=\"s1\">&#39; = 19, &#39;</span><span class=\"n\">Briarwood</span><span class=\"o\">-</span><span class=\"n\">Jamaica</span> <span class=\"n\">Hills</span><span class=\"s1\">&#39; = 20, &#39;</span><span class=\"n\">Brighton</span> <span class=\"n\">Beach</span><span class=\"s1\">&#39; = 21, &#39;</span><span class=\"n\">Bronxdale</span><span class=\"s1\">&#39; = 22, &#39;</span><span class=\"n\">Brooklyn</span> <span class=\"n\">Heights</span><span class=\"o\">-</span><span class=\"n\">Cobble</span> <span class=\"n\">Hill</span><span class=\"s1\">&#39; = 23, &#39;</span><span class=\"n\">Brownsville</span><span class=\"s1\">&#39; = 24, &#39;</span><span class=\"n\">Bushwick</span> <span class=\"n\">North</span><span class=\"s1\">&#39; = 25, &#39;</span><span class=\"n\">Bushwick</span> <span class=\"n\">South</span><span class=\"s1\">&#39; = 26, &#39;</span><span class=\"n\">Cambria</span> <span class=\"n\">Heights</span><span class=\"s1\">&#39; = 27, &#39;</span><span class=\"n\">Canarsie</span><span class=\"s1\">&#39; = 28, &#39;</span><span class=\"n\">Carroll</span> <span class=\"n\">Gardens</span><span class=\"o\">-</span><span class=\"n\">Columbia</span> <span class=\"n\">Street</span><span class=\"o\">-</span><span class=\"n\">Red</span> <span class=\"n\">Hook</span><span class=\"s1\">&#39; = 29, &#39;</span><span class=\"n\">Central</span> <span class=\"n\">Harlem</span> <span class=\"n\">North</span><span class=\"o\">-</span><span class=\"n\">Polo</span> <span class=\"n\">Grounds</span><span class=\"s1\">&#39; = 30, &#39;</span><span class=\"n\">Central</span> <span class=\"n\">Harlem</span> <span class=\"n\">South</span><span class=\"s1\">&#39; = 31, &#39;</span><span class=\"n\">Charleston</span><span class=\"o\">-</span><span class=\"n\">Richmond</span> <span class=\"n\">Valley</span><span class=\"o\">-</span><span class=\"n\">Tottenville</span><span class=\"s1\">&#39; = 32, &#39;</span><span class=\"n\">Chinatown</span><span class=\"s1\">&#39; = 33, &#39;</span><span class=\"n\">Claremont</span><span class=\"o\">-</span><span class=\"n\">Bathgate</span><span class=\"s1\">&#39; = 34, &#39;</span><span class=\"n\">Clinton</span><span class=\"s1\">&#39; = 35, &#39;</span><span class=\"n\">Clinton</span> <span class=\"n\">Hill</span><span class=\"s1\">&#39; = 36, &#39;</span><span class=\"n\">Co</span><span class=\"o\">-</span><span class=\"n\">op</span> <span class=\"n\">City</span><span class=\"s1\">&#39; = 37, &#39;</span><span class=\"n\">College</span> <span class=\"n\">Point</span><span class=\"s1\">&#39; = 38, &#39;</span><span class=\"n\">Corona</span><span class=\"s1\">&#39; = 39, &#39;</span><span class=\"n\">Crotona</span> <span class=\"n\">Park</span> <span class=\"n\">East</span><span class=\"s1\">&#39; = 40, &#39;</span><span class=\"n\">Crown</span> <span class=\"n\">Heights</span> <span class=\"n\">North</span><span class=\"s1\">&#39; = 41, &#39;</span><span class=\"n\">Crown</span> <span class=\"n\">Heights</span> <span class=\"n\">South</span><span class=\"s1\">&#39; = 42, &#39;</span><span class=\"n\">Cypress</span> <span class=\"n\">Hills</span><span class=\"o\">-</span><span class=\"n\">City</span> <span class=\"n\">Line</span><span class=\"s1\">&#39; = 43, &#39;</span><span class=\"n\">DUMBO</span><span class=\"o\">-</span><span class=\"n\">Vinegar</span> <span class=\"n\">Hill</span><span class=\"o\">-</span><span class=\"n\">Downtown</span> <span class=\"n\">Brooklyn</span><span class=\"o\">-</span><span class=\"n\">Boerum</span> <span class=\"n\">Hill</span><span class=\"s1\">&#39; = 44, &#39;</span><span class=\"n\">Douglas</span> <span class=\"n\">Manor</span><span class=\"o\">-</span><span class=\"n\">Douglaston</span><span class=\"o\">-</span><span class=\"n\">Little</span> <span class=\"n\">Neck</span><span class=\"s1\">&#39; = 45, &#39;</span><span class=\"n\">Dyker</span> <span class=\"n\">Heights</span><span class=\"s1\">&#39; = 46, &#39;</span><span class=\"n\">East</span> <span class=\"n\">Concourse</span><span class=\"o\">-</span><span class=\"n\">Concourse</span> <span class=\"n\">Village</span><span class=\"s1\">&#39; = 47, &#39;</span><span class=\"n\">East</span> <span class=\"n\">Elmhurst</span><span class=\"s1\">&#39; = 48, &#39;</span><span class=\"n\">East</span> <span class=\"n\">Flatbush</span><span class=\"o\">-</span><span class=\"n\">Farragut</span><span class=\"s1\">&#39; = 49, &#39;</span><span class=\"n\">East</span> <span class=\"n\">Flushing</span><span class=\"s1\">&#39; = 50, &#39;</span><span class=\"n\">East</span> <span class=\"n\">Harlem</span> <span class=\"n\">North</span><span class=\"s1\">&#39; = 51, &#39;</span><span class=\"n\">East</span> <span class=\"n\">Harlem</span> <span class=\"n\">South</span><span class=\"s1\">&#39; = 52, &#39;</span><span class=\"n\">East</span> <span class=\"k\">New</span> <span class=\"n\">York</span><span class=\"s1\">&#39; = 53, &#39;</span><span class=\"n\">East</span> <span class=\"k\">New</span> <span class=\"n\">York</span> <span class=\"p\">(</span><span class=\"n\">Pennsylvania</span> <span class=\"n\">Ave</span><span class=\"p\">)</span><span class=\"s1\">&#39; = 54, &#39;</span><span class=\"n\">East</span> <span class=\"n\">Tremont</span><span class=\"s1\">&#39; = 55, &#39;</span><span class=\"n\">East</span> <span class=\"n\">Village</span><span class=\"s1\">&#39; = 56, &#39;</span><span class=\"n\">East</span> <span class=\"n\">Williamsburg</span><span class=\"s1\">&#39; = 57, &#39;</span><span class=\"n\">Eastchester</span><span class=\"o\">-</span><span class=\"n\">Edenwald</span><span class=\"o\">-</span><span class=\"n\">Baychester</span><span class=\"s1\">&#39; = 58, &#39;</span><span class=\"n\">Elmhurst</span><span class=\"s1\">&#39; = 59, &#39;</span><span class=\"n\">Elmhurst</span><span class=\"o\">-</span><span class=\"n\">Maspeth</span><span class=\"s1\">&#39; = 60, &#39;</span><span class=\"n\">Erasmus</span><span class=\"s1\">&#39; = 61, &#39;</span><span class=\"n\">Far</span> <span class=\"n\">Rockaway</span><span class=\"o\">-</span><span class=\"n\">Bayswater</span><span class=\"s1\">&#39; = 62, &#39;</span><span class=\"n\">Flatbush</span><span class=\"s1\">&#39; = 63, &#39;</span><span class=\"n\">Flatlands</span><span class=\"s1\">&#39; = 64, &#39;</span><span class=\"n\">Flushing</span><span class=\"s1\">&#39; = 65, &#39;</span><span class=\"n\">Fordham</span> <span class=\"n\">South</span><span class=\"s1\">&#39; = 66, &#39;</span><span class=\"n\">Forest</span> <span class=\"n\">Hills</span><span class=\"s1\">&#39; = 67, &#39;</span><span class=\"n\">Fort</span> <span class=\"n\">Greene</span><span class=\"s1\">&#39; = 68, &#39;</span><span class=\"n\">Fresh</span> <span class=\"n\">Meadows</span><span class=\"o\">-</span><span class=\"n\">Utopia</span><span class=\"s1\">&#39; = 69, &#39;</span><span class=\"n\">Ft</span><span class=\"p\">.</span> <span class=\"n\">Totten</span><span class=\"o\">-</span><span class=\"n\">Bay</span> <span class=\"n\">Terrace</span><span class=\"o\">-</span><span class=\"n\">Clearview</span><span class=\"s1\">&#39; = 70, &#39;</span><span class=\"n\">Georgetown</span><span class=\"o\">-</span><span class=\"n\">Marine</span> <span class=\"n\">Park</span><span class=\"o\">-</span><span class=\"n\">Bergen</span> <span class=\"n\">Beach</span><span class=\"o\">-</span><span class=\"n\">Mill</span> <span class=\"n\">Basin</span><span class=\"s1\">&#39; = 71, &#39;</span><span class=\"n\">Glen</span> <span class=\"n\">Oaks</span><span class=\"o\">-</span><span class=\"n\">Floral</span> <span class=\"n\">Park</span><span class=\"o\">-</span><span class=\"k\">New</span> <span class=\"n\">Hyde</span> <span class=\"n\">Park</span><span class=\"s1\">&#39; = 72, &#39;</span><span class=\"n\">Glendale</span><span class=\"s1\">&#39; = 73, &#39;</span><span class=\"n\">Gramercy</span><span class=\"s1\">&#39; = 74, &#39;</span><span class=\"n\">Grasmere</span><span class=\"o\">-</span><span class=\"n\">Arrochar</span><span class=\"o\">-</span><span class=\"n\">Ft</span><span class=\"p\">.</span> <span class=\"n\">Wadsworth</span><span class=\"s1\">&#39; = 75, &#39;</span><span class=\"n\">Gravesend</span><span class=\"s1\">&#39; = 76, &#39;</span><span class=\"n\">Great</span> <span class=\"n\">Kills</span><span class=\"s1\">&#39; = 77, &#39;</span><span class=\"n\">Greenpoint</span><span class=\"s1\">&#39; = 78, &#39;</span><span class=\"n\">Grymes</span> <span class=\"n\">Hill</span><span class=\"o\">-</span><span class=\"n\">Clifton</span><span class=\"o\">-</span><span class=\"n\">Fox</span> <span class=\"n\">Hills</span><span class=\"s1\">&#39; = 79, &#39;</span><span class=\"n\">Hamilton</span> <span class=\"n\">Heights</span><span class=\"s1\">&#39; = 80, &#39;</span><span class=\"n\">Hammels</span><span class=\"o\">-</span><span class=\"n\">Arverne</span><span class=\"o\">-</span><span class=\"n\">Edgemere</span><span class=\"s1\">&#39; = 81, &#39;</span><span class=\"n\">Highbridge</span><span class=\"s1\">&#39; = 82, &#39;</span><span class=\"n\">Hollis</span><span class=\"s1\">&#39; = 83, &#39;</span><span class=\"n\">Homecrest</span><span class=\"s1\">&#39; = 84, &#39;</span><span class=\"n\">Hudson</span> <span class=\"n\">Yards</span><span class=\"o\">-</span><span class=\"n\">Chelsea</span><span class=\"o\">-</span><span class=\"n\">Flatiron</span><span class=\"o\">-</span><span class=\"k\">Union</span> <span class=\"n\">Square</span><span class=\"s1\">&#39; = 85, &#39;</span><span class=\"n\">Hunters</span> <span class=\"n\">Point</span><span class=\"o\">-</span><span class=\"n\">Sunnyside</span><span class=\"o\">-</span><span class=\"n\">West</span> <span class=\"n\">Maspeth</span><span class=\"s1\">&#39; = 86, &#39;</span><span class=\"n\">Hunts</span> <span class=\"n\">Point</span><span class=\"s1\">&#39; = 87, &#39;</span><span class=\"n\">Jackson</span> <span class=\"n\">Heights</span><span class=\"s1\">&#39; = 88, &#39;</span><span class=\"n\">Jamaica</span><span class=\"s1\">&#39; = 89, &#39;</span><span class=\"n\">Jamaica</span> <span class=\"n\">Estates</span><span class=\"o\">-</span><span class=\"n\">Holliswood</span><span class=\"s1\">&#39; = 90, &#39;</span><span class=\"n\">Kensington</span><span class=\"o\">-</span><span class=\"n\">Ocean</span> <span class=\"n\">Parkway</span><span class=\"s1\">&#39; = 91, &#39;</span><span class=\"n\">Kew</span> <span class=\"n\">Gardens</span><span class=\"s1\">&#39; = 92, &#39;</span><span class=\"n\">Kew</span> <span class=\"n\">Gardens</span> <span class=\"n\">Hills</span><span class=\"s1\">&#39; = 93, &#39;</span><span class=\"n\">Kingsbridge</span> <span class=\"n\">Heights</span><span class=\"s1\">&#39; = 94, &#39;</span><span class=\"n\">Laurelton</span><span class=\"s1\">&#39; = 95, &#39;</span><span class=\"n\">Lenox</span> <span class=\"n\">Hill</span><span class=\"o\">-</span><span class=\"n\">Roosevelt</span> <span class=\"n\">Island</span><span class=\"s1\">&#39; = 96, &#39;</span><span class=\"n\">Lincoln</span> <span class=\"n\">Square</span><span class=\"s1\">&#39; = 97, &#39;</span><span class=\"n\">Lindenwood</span><span class=\"o\">-</span><span class=\"n\">Howard</span> <span class=\"n\">Beach</span><span class=\"s1\">&#39; = 98, &#39;</span><span class=\"n\">Longwood</span><span class=\"s1\">&#39; = 99, &#39;</span><span class=\"k\">Lower</span> <span class=\"n\">East</span> <span class=\"n\">Side</span><span class=\"s1\">&#39; = 100, &#39;</span><span class=\"n\">Madison</span><span class=\"s1\">&#39; = 101, &#39;</span><span class=\"n\">Manhattanville</span><span class=\"s1\">&#39; = 102, &#39;</span><span class=\"n\">Marble</span> <span class=\"n\">Hill</span><span class=\"o\">-</span><span class=\"n\">Inwood</span><span class=\"s1\">&#39; = 103, &#39;</span><span class=\"n\">Mariner</span><span class=\"err\">\\</span><span class=\"s1\">&#39;s Harbor-Arlington-Port Ivory-Graniteville&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">104</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Maspeth&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">105</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Melrose South-Mott Haven North&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">106</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Middle Village&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">107</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Midtown-Midtown South&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">108</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Midwood&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">109</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Morningside Heights&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">110</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Morrisania-Melrose&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">111</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Mott Haven-Port Morris&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">112</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Mount Hope&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">113</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Murray Hill&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">114</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Murray Hill-Kips Bay&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">115</span><span class=\"p\">,</span> <span class=\"s1\">&#39;New Brighton-Silver Lake&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">116</span><span class=\"p\">,</span> <span class=\"s1\">&#39;New Dorp-Midland Beach&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">117</span><span class=\"p\">,</span> <span class=\"s1\">&#39;New Springville-Bloomfield-Travis&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">118</span><span class=\"p\">,</span> <span class=\"s1\">&#39;North Corona&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">119</span><span class=\"p\">,</span> <span class=\"s1\">&#39;North Riverdale-Fieldston-Riverdale&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">120</span><span class=\"p\">,</span> <span class=\"s1\">&#39;North Side-South Side&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">121</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Norwood&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">122</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Oakland Gardens&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">123</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Oakwood-Oakwood Beach&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">124</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Ocean Hill&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">125</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Ocean Parkway South&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">126</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Old Astoria&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">127</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Old Town-Dongan Hills-South Beach&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">128</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Ozone Park&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">129</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Park Slope-Gowanus&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">130</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Parkchester&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">131</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Pelham Bay-Country Club-City Island&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">132</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Pelham Parkway&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">133</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Pomonok-Flushing Heights-Hillcrest&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">134</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Port Richmond&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">135</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Prospect Heights&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">136</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Prospect Lefferts Gardens-Wingate&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">137</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Queens Village&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">138</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Queensboro Hill&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">139</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Queensbridge-Ravenswood-Long Island City&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">140</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Rego Park&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">141</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Richmond Hill&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">142</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Ridgewood&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">143</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Rikers Island&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">144</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Rosedale&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">145</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Rossville-Woodrow&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">146</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Rugby-Remsen Village&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">147</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Schuylerville-Throgs Neck-Edgewater Park&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">148</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Seagate-Coney Island&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">149</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Sheepshead Bay-Gerritsen Beach-Manhattan Beach&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">150</span><span class=\"p\">,</span> <span class=\"s1\">&#39;SoHo-TriBeCa-Civic Center-Little Italy&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">151</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Soundview-Bruckner&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">152</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Soundview-Castle Hill-Clason Point-Harding Park&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">153</span><span class=\"p\">,</span> <span class=\"s1\">&#39;South Jamaica&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">154</span><span class=\"p\">,</span> <span class=\"s1\">&#39;South Ozone Park&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">155</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Springfield Gardens North&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">156</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Springfield Gardens South-Brookville&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">157</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Spuyten Duyvil-Kingsbridge&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">158</span><span class=\"p\">,</span> <span class=\"s1\">&#39;St. Albans&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">159</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Stapleton-Rosebank&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">160</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Starrett City&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">161</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Steinway&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">162</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Stuyvesant Heights&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">163</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Stuyvesant Town-Cooper Village&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">164</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Sunset Park East&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">165</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Sunset Park West&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">166</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Todt Hill-Emerson Hill-Heartland Village-Lighthouse Hill&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">167</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Turtle Bay-East Midtown&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">168</span><span class=\"p\">,</span> <span class=\"s1\">&#39;University Heights-Morris Heights&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">169</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Upper East Side-Carnegie Hill&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">170</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Upper West Side&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">171</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Van Cortlandt Village&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">172</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Van Nest-Morris Park-Westchester Square&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">173</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Washington Heights North&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">174</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Washington Heights South&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">175</span><span class=\"p\">,</span> <span class=\"s1\">&#39;West Brighton&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">176</span><span class=\"p\">,</span> <span class=\"s1\">&#39;West Concourse&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">177</span><span class=\"p\">,</span> <span class=\"s1\">&#39;West Farms-Bronx River&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">178</span><span class=\"p\">,</span> <span class=\"s1\">&#39;West New Brighton-New Brighton-St. George&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">179</span><span class=\"p\">,</span> <span class=\"s1\">&#39;West Village&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">180</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Westchester-Unionport&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">181</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Westerleigh&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">182</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Whitestone&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">183</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Williamsbridge-Olinville&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">184</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Williamsburg&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">185</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Windsor Terrace&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">186</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Woodhaven&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">187</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Woodlawn-Wakefield&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">188</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Woodside&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">189</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Yorkville&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">190</span><span class=\"p\">,</span> <span class=\"s1\">&#39;park-cemetery-etc-Bronx&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">191</span><span class=\"p\">,</span> <span class=\"s1\">&#39;park-cemetery-etc-Brooklyn&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">192</span><span class=\"p\">,</span> <span class=\"s1\">&#39;park-cemetery-etc-Manhattan&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">193</span><span class=\"p\">,</span> <span class=\"s1\">&#39;park-cemetery-etc-Queens&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">194</span><span class=\"p\">,</span> <span class=\"s1\">&#39;park-cemetery-etc-Staten Island&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">195</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">pickup_ntaname</span><span class=\"p\">,</span>\n\n<span class=\"n\">toUInt16</span><span class=\"p\">(</span><span class=\"n\">ifNull</span><span class=\"p\">(</span><span class=\"n\">pickup_puma</span><span class=\"p\">,</span> <span class=\"s1\">&#39;0&#39;</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">pickup_puma</span><span class=\"p\">,</span>\n\n<span class=\"n\">assumeNotNull</span><span class=\"p\">(</span><span class=\"n\">dropoff_nyct2010_gid</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">dropoff_nyct2010_gid</span><span class=\"p\">,</span>\n<span class=\"n\">toFloat32</span><span class=\"p\">(</span><span class=\"n\">ifNull</span><span class=\"p\">(</span><span class=\"n\">dropoff_ctlabel</span><span class=\"p\">,</span> <span class=\"s1\">&#39;0&#39;</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">dropoff_ctlabel</span><span class=\"p\">,</span>\n<span class=\"n\">assumeNotNull</span><span class=\"p\">(</span><span class=\"n\">dropoff_borocode</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">dropoff_borocode</span><span class=\"p\">,</span>\n<span class=\"k\">CAST</span><span class=\"p\">(</span><span class=\"n\">assumeNotNull</span><span class=\"p\">(</span><span class=\"n\">dropoff_boroname</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">Enum8</span><span class=\"p\">(</span><span class=\"s1\">&#39;Manhattan&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Queens&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Brooklyn&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"s1\">&#39;&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Bronx&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Staten Island&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">5</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">dropoff_boroname</span><span class=\"p\">,</span>\n<span class=\"n\">toFixedString</span><span class=\"p\">(</span><span class=\"n\">ifNull</span><span class=\"p\">(</span><span class=\"n\">dropoff_ct2010</span><span class=\"p\">,</span> <span class=\"s1\">&#39;000000&#39;</span><span class=\"p\">),</span> <span class=\"mi\">6</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">dropoff_ct2010</span><span class=\"p\">,</span>\n<span class=\"n\">toFixedString</span><span class=\"p\">(</span><span class=\"n\">ifNull</span><span class=\"p\">(</span><span class=\"n\">dropoff_boroct2010</span><span class=\"p\">,</span> <span class=\"s1\">&#39;0000000&#39;</span><span class=\"p\">),</span> <span class=\"mi\">7</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">dropoff_boroct2010</span><span class=\"p\">,</span>\n<span class=\"k\">CAST</span><span class=\"p\">(</span><span class=\"n\">assumeNotNull</span><span class=\"p\">(</span><span class=\"n\">ifNull</span><span class=\"p\">(</span><span class=\"n\">dropoff_cdeligibil</span><span class=\"p\">,</span> <span class=\"s1\">&#39; &#39;</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">Enum8</span><span class=\"p\">(</span><span class=\"s1\">&#39; &#39;</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"s1\">&#39;E&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"s1\">&#39;I&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">2</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">dropoff_cdeligibil</span><span class=\"p\">,</span>\n<span class=\"n\">toFixedString</span><span class=\"p\">(</span><span class=\"n\">ifNull</span><span class=\"p\">(</span><span class=\"n\">dropoff_ntacode</span><span class=\"p\">,</span> <span class=\"s1\">&#39;0000&#39;</span><span class=\"p\">),</span> <span class=\"mi\">4</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">dropoff_ntacode</span><span class=\"p\">,</span>\n\n<span class=\"k\">CAST</span><span class=\"p\">(</span><span class=\"n\">assumeNotNull</span><span class=\"p\">(</span><span class=\"n\">dropoff_ntaname</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">Enum16</span><span class=\"p\">(</span><span class=\"s1\">&#39;&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Airport&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Allerton-Pelham Gardens&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Annadale-Huguenot-Prince\\&#39;</span><span class=\"n\">s</span> <span class=\"n\">Bay</span><span class=\"o\">-</span><span class=\"n\">Eltingville</span><span class=\"s1\">&#39; = 3, &#39;</span><span class=\"n\">Arden</span> <span class=\"n\">Heights</span><span class=\"s1\">&#39; = 4, &#39;</span><span class=\"n\">Astoria</span><span class=\"s1\">&#39; = 5, &#39;</span><span class=\"n\">Auburndale</span><span class=\"s1\">&#39; = 6, &#39;</span><span class=\"n\">Baisley</span> <span class=\"n\">Park</span><span class=\"s1\">&#39; = 7, &#39;</span><span class=\"n\">Bath</span> <span class=\"n\">Beach</span><span class=\"s1\">&#39; = 8, &#39;</span><span class=\"n\">Battery</span> <span class=\"n\">Park</span> <span class=\"n\">City</span><span class=\"o\">-</span><span class=\"k\">Lower</span> <span class=\"n\">Manhattan</span><span class=\"s1\">&#39; = 9, &#39;</span><span class=\"n\">Bay</span> <span class=\"n\">Ridge</span><span class=\"s1\">&#39; = 10, &#39;</span><span class=\"n\">Bayside</span><span class=\"o\">-</span><span class=\"n\">Bayside</span> <span class=\"n\">Hills</span><span class=\"s1\">&#39; = 11, &#39;</span><span class=\"n\">Bedford</span><span class=\"s1\">&#39; = 12, &#39;</span><span class=\"n\">Bedford</span> <span class=\"n\">Park</span><span class=\"o\">-</span><span class=\"n\">Fordham</span> <span class=\"n\">North</span><span class=\"s1\">&#39; = 13, &#39;</span><span class=\"n\">Bellerose</span><span class=\"s1\">&#39; = 14, &#39;</span><span class=\"n\">Belmont</span><span class=\"s1\">&#39; = 15, &#39;</span><span class=\"n\">Bensonhurst</span> <span class=\"n\">East</span><span class=\"s1\">&#39; = 16, &#39;</span><span class=\"n\">Bensonhurst</span> <span class=\"n\">West</span><span class=\"s1\">&#39; = 17, &#39;</span><span class=\"n\">Borough</span> <span class=\"n\">Park</span><span class=\"s1\">&#39; = 18, &#39;</span><span class=\"n\">Breezy</span> <span class=\"n\">Point</span><span class=\"o\">-</span><span class=\"n\">Belle</span> <span class=\"n\">Harbor</span><span class=\"o\">-</span><span class=\"n\">Rockaway</span> <span class=\"n\">Park</span><span class=\"o\">-</span><span class=\"n\">Broad</span> <span class=\"n\">Channel</span><span class=\"s1\">&#39; = 19, &#39;</span><span class=\"n\">Briarwood</span><span class=\"o\">-</span><span class=\"n\">Jamaica</span> <span class=\"n\">Hills</span><span class=\"s1\">&#39; = 20, &#39;</span><span class=\"n\">Brighton</span> <span class=\"n\">Beach</span><span class=\"s1\">&#39; = 21, &#39;</span><span class=\"n\">Bronxdale</span><span class=\"s1\">&#39; = 22, &#39;</span><span class=\"n\">Brooklyn</span> <span class=\"n\">Heights</span><span class=\"o\">-</span><span class=\"n\">Cobble</span> <span class=\"n\">Hill</span><span class=\"s1\">&#39; = 23, &#39;</span><span class=\"n\">Brownsville</span><span class=\"s1\">&#39; = 24, &#39;</span><span class=\"n\">Bushwick</span> <span class=\"n\">North</span><span class=\"s1\">&#39; = 25, &#39;</span><span class=\"n\">Bushwick</span> <span class=\"n\">South</span><span class=\"s1\">&#39; = 26, &#39;</span><span class=\"n\">Cambria</span> <span class=\"n\">Heights</span><span class=\"s1\">&#39; = 27, &#39;</span><span class=\"n\">Canarsie</span><span class=\"s1\">&#39; = 28, &#39;</span><span class=\"n\">Carroll</span> <span class=\"n\">Gardens</span><span class=\"o\">-</span><span class=\"n\">Columbia</span> <span class=\"n\">Street</span><span class=\"o\">-</span><span class=\"n\">Red</span> <span class=\"n\">Hook</span><span class=\"s1\">&#39; = 29, &#39;</span><span class=\"n\">Central</span> <span class=\"n\">Harlem</span> <span class=\"n\">North</span><span class=\"o\">-</span><span class=\"n\">Polo</span> <span class=\"n\">Grounds</span><span class=\"s1\">&#39; = 30, &#39;</span><span class=\"n\">Central</span> <span class=\"n\">Harlem</span> <span class=\"n\">South</span><span class=\"s1\">&#39; = 31, &#39;</span><span class=\"n\">Charleston</span><span class=\"o\">-</span><span class=\"n\">Richmond</span> <span class=\"n\">Valley</span><span class=\"o\">-</span><span class=\"n\">Tottenville</span><span class=\"s1\">&#39; = 32, &#39;</span><span class=\"n\">Chinatown</span><span class=\"s1\">&#39; = 33, &#39;</span><span class=\"n\">Claremont</span><span class=\"o\">-</span><span class=\"n\">Bathgate</span><span class=\"s1\">&#39; = 34, &#39;</span><span class=\"n\">Clinton</span><span class=\"s1\">&#39; = 35, &#39;</span><span class=\"n\">Clinton</span> <span class=\"n\">Hill</span><span class=\"s1\">&#39; = 36, &#39;</span><span class=\"n\">Co</span><span class=\"o\">-</span><span class=\"n\">op</span> <span class=\"n\">City</span><span class=\"s1\">&#39; = 37, &#39;</span><span class=\"n\">College</span> <span class=\"n\">Point</span><span class=\"s1\">&#39; = 38, &#39;</span><span class=\"n\">Corona</span><span class=\"s1\">&#39; = 39, &#39;</span><span class=\"n\">Crotona</span> <span class=\"n\">Park</span> <span class=\"n\">East</span><span class=\"s1\">&#39; = 40, &#39;</span><span class=\"n\">Crown</span> <span class=\"n\">Heights</span> <span class=\"n\">North</span><span class=\"s1\">&#39; = 41, &#39;</span><span class=\"n\">Crown</span> <span class=\"n\">Heights</span> <span class=\"n\">South</span><span class=\"s1\">&#39; = 42, &#39;</span><span class=\"n\">Cypress</span> <span class=\"n\">Hills</span><span class=\"o\">-</span><span class=\"n\">City</span> <span class=\"n\">Line</span><span class=\"s1\">&#39; = 43, &#39;</span><span class=\"n\">DUMBO</span><span class=\"o\">-</span><span class=\"n\">Vinegar</span> <span class=\"n\">Hill</span><span class=\"o\">-</span><span class=\"n\">Downtown</span> <span class=\"n\">Brooklyn</span><span class=\"o\">-</span><span class=\"n\">Boerum</span> <span class=\"n\">Hill</span><span class=\"s1\">&#39; = 44, &#39;</span><span class=\"n\">Douglas</span> <span class=\"n\">Manor</span><span class=\"o\">-</span><span class=\"n\">Douglaston</span><span class=\"o\">-</span><span class=\"n\">Little</span> <span class=\"n\">Neck</span><span class=\"s1\">&#39; = 45, &#39;</span><span class=\"n\">Dyker</span> <span class=\"n\">Heights</span><span class=\"s1\">&#39; = 46, &#39;</span><span class=\"n\">East</span> <span class=\"n\">Concourse</span><span class=\"o\">-</span><span class=\"n\">Concourse</span> <span class=\"n\">Village</span><span class=\"s1\">&#39; = 47, &#39;</span><span class=\"n\">East</span> <span class=\"n\">Elmhurst</span><span class=\"s1\">&#39; = 48, &#39;</span><span class=\"n\">East</span> <span class=\"n\">Flatbush</span><span class=\"o\">-</span><span class=\"n\">Farragut</span><span class=\"s1\">&#39; = 49, &#39;</span><span class=\"n\">East</span> <span class=\"n\">Flushing</span><span class=\"s1\">&#39; = 50, &#39;</span><span class=\"n\">East</span> <span class=\"n\">Harlem</span> <span class=\"n\">North</span><span class=\"s1\">&#39; = 51, &#39;</span><span class=\"n\">East</span> <span class=\"n\">Harlem</span> <span class=\"n\">South</span><span class=\"s1\">&#39; = 52, &#39;</span><span class=\"n\">East</span> <span class=\"k\">New</span> <span class=\"n\">York</span><span class=\"s1\">&#39; = 53, &#39;</span><span class=\"n\">East</span> <span class=\"k\">New</span> <span class=\"n\">York</span> <span class=\"p\">(</span><span class=\"n\">Pennsylvania</span> <span class=\"n\">Ave</span><span class=\"p\">)</span><span class=\"s1\">&#39; = 54, &#39;</span><span class=\"n\">East</span> <span class=\"n\">Tremont</span><span class=\"s1\">&#39; = 55, &#39;</span><span class=\"n\">East</span> <span class=\"n\">Village</span><span class=\"s1\">&#39; = 56, &#39;</span><span class=\"n\">East</span> <span class=\"n\">Williamsburg</span><span class=\"s1\">&#39; = 57, &#39;</span><span class=\"n\">Eastchester</span><span class=\"o\">-</span><span class=\"n\">Edenwald</span><span class=\"o\">-</span><span class=\"n\">Baychester</span><span class=\"s1\">&#39; = 58, &#39;</span><span class=\"n\">Elmhurst</span><span class=\"s1\">&#39; = 59, &#39;</span><span class=\"n\">Elmhurst</span><span class=\"o\">-</span><span class=\"n\">Maspeth</span><span class=\"s1\">&#39; = 60, &#39;</span><span class=\"n\">Erasmus</span><span class=\"s1\">&#39; = 61, &#39;</span><span class=\"n\">Far</span> <span class=\"n\">Rockaway</span><span class=\"o\">-</span><span class=\"n\">Bayswater</span><span class=\"s1\">&#39; = 62, &#39;</span><span class=\"n\">Flatbush</span><span class=\"s1\">&#39; = 63, &#39;</span><span class=\"n\">Flatlands</span><span class=\"s1\">&#39; = 64, &#39;</span><span class=\"n\">Flushing</span><span class=\"s1\">&#39; = 65, &#39;</span><span class=\"n\">Fordham</span> <span class=\"n\">South</span><span class=\"s1\">&#39; = 66, &#39;</span><span class=\"n\">Forest</span> <span class=\"n\">Hills</span><span class=\"s1\">&#39; = 67, &#39;</span><span class=\"n\">Fort</span> <span class=\"n\">Greene</span><span class=\"s1\">&#39; = 68, &#39;</span><span class=\"n\">Fresh</span> <span class=\"n\">Meadows</span><span class=\"o\">-</span><span class=\"n\">Utopia</span><span class=\"s1\">&#39; = 69, &#39;</span><span class=\"n\">Ft</span><span class=\"p\">.</span> <span class=\"n\">Totten</span><span class=\"o\">-</span><span class=\"n\">Bay</span> <span class=\"n\">Terrace</span><span class=\"o\">-</span><span class=\"n\">Clearview</span><span class=\"s1\">&#39; = 70, &#39;</span><span class=\"n\">Georgetown</span><span class=\"o\">-</span><span class=\"n\">Marine</span> <span class=\"n\">Park</span><span class=\"o\">-</span><span class=\"n\">Bergen</span> <span class=\"n\">Beach</span><span class=\"o\">-</span><span class=\"n\">Mill</span> <span class=\"n\">Basin</span><span class=\"s1\">&#39; = 71, &#39;</span><span class=\"n\">Glen</span> <span class=\"n\">Oaks</span><span class=\"o\">-</span><span class=\"n\">Floral</span> <span class=\"n\">Park</span><span class=\"o\">-</span><span class=\"k\">New</span> <span class=\"n\">Hyde</span> <span class=\"n\">Park</span><span class=\"s1\">&#39; = 72, &#39;</span><span class=\"n\">Glendale</span><span class=\"s1\">&#39; = 73, &#39;</span><span class=\"n\">Gramercy</span><span class=\"s1\">&#39; = 74, &#39;</span><span class=\"n\">Grasmere</span><span class=\"o\">-</span><span class=\"n\">Arrochar</span><span class=\"o\">-</span><span class=\"n\">Ft</span><span class=\"p\">.</span> <span class=\"n\">Wadsworth</span><span class=\"s1\">&#39; = 75, &#39;</span><span class=\"n\">Gravesend</span><span class=\"s1\">&#39; = 76, &#39;</span><span class=\"n\">Great</span> <span class=\"n\">Kills</span><span class=\"s1\">&#39; = 77, &#39;</span><span class=\"n\">Greenpoint</span><span class=\"s1\">&#39; = 78, &#39;</span><span class=\"n\">Grymes</span> <span class=\"n\">Hill</span><span class=\"o\">-</span><span class=\"n\">Clifton</span><span class=\"o\">-</span><span class=\"n\">Fox</span> <span class=\"n\">Hills</span><span class=\"s1\">&#39; = 79, &#39;</span><span class=\"n\">Hamilton</span> <span class=\"n\">Heights</span><span class=\"s1\">&#39; = 80, &#39;</span><span class=\"n\">Hammels</span><span class=\"o\">-</span><span class=\"n\">Arverne</span><span class=\"o\">-</span><span class=\"n\">Edgemere</span><span class=\"s1\">&#39; = 81, &#39;</span><span class=\"n\">Highbridge</span><span class=\"s1\">&#39; = 82, &#39;</span><span class=\"n\">Hollis</span><span class=\"s1\">&#39; = 83, &#39;</span><span class=\"n\">Homecrest</span><span class=\"s1\">&#39; = 84, &#39;</span><span class=\"n\">Hudson</span> <span class=\"n\">Yards</span><span class=\"o\">-</span><span class=\"n\">Chelsea</span><span class=\"o\">-</span><span class=\"n\">Flatiron</span><span class=\"o\">-</span><span class=\"k\">Union</span> <span class=\"n\">Square</span><span class=\"s1\">&#39; = 85, &#39;</span><span class=\"n\">Hunters</span> <span class=\"n\">Point</span><span class=\"o\">-</span><span class=\"n\">Sunnyside</span><span class=\"o\">-</span><span class=\"n\">West</span> <span class=\"n\">Maspeth</span><span class=\"s1\">&#39; = 86, &#39;</span><span class=\"n\">Hunts</span> <span class=\"n\">Point</span><span class=\"s1\">&#39; = 87, &#39;</span><span class=\"n\">Jackson</span> <span class=\"n\">Heights</span><span class=\"s1\">&#39; = 88, &#39;</span><span class=\"n\">Jamaica</span><span class=\"s1\">&#39; = 89, &#39;</span><span class=\"n\">Jamaica</span> <span class=\"n\">Estates</span><span class=\"o\">-</span><span class=\"n\">Holliswood</span><span class=\"s1\">&#39; = 90, &#39;</span><span class=\"n\">Kensington</span><span class=\"o\">-</span><span class=\"n\">Ocean</span> <span class=\"n\">Parkway</span><span class=\"s1\">&#39; = 91, &#39;</span><span class=\"n\">Kew</span> <span class=\"n\">Gardens</span><span class=\"s1\">&#39; = 92, &#39;</span><span class=\"n\">Kew</span> <span class=\"n\">Gardens</span> <span class=\"n\">Hills</span><span class=\"s1\">&#39; = 93, &#39;</span><span class=\"n\">Kingsbridge</span> <span class=\"n\">Heights</span><span class=\"s1\">&#39; = 94, &#39;</span><span class=\"n\">Laurelton</span><span class=\"s1\">&#39; = 95, &#39;</span><span class=\"n\">Lenox</span> <span class=\"n\">Hill</span><span class=\"o\">-</span><span class=\"n\">Roosevelt</span> <span class=\"n\">Island</span><span class=\"s1\">&#39; = 96, &#39;</span><span class=\"n\">Lincoln</span> <span class=\"n\">Square</span><span class=\"s1\">&#39; = 97, &#39;</span><span class=\"n\">Lindenwood</span><span class=\"o\">-</span><span class=\"n\">Howard</span> <span class=\"n\">Beach</span><span class=\"s1\">&#39; = 98, &#39;</span><span class=\"n\">Longwood</span><span class=\"s1\">&#39; = 99, &#39;</span><span class=\"k\">Lower</span> <span class=\"n\">East</span> <span class=\"n\">Side</span><span class=\"s1\">&#39; = 100, &#39;</span><span class=\"n\">Madison</span><span class=\"s1\">&#39; = 101, &#39;</span><span class=\"n\">Manhattanville</span><span class=\"s1\">&#39; = 102, &#39;</span><span class=\"n\">Marble</span> <span class=\"n\">Hill</span><span class=\"o\">-</span><span class=\"n\">Inwood</span><span class=\"s1\">&#39; = 103, &#39;</span><span class=\"n\">Mariner</span><span class=\"err\">\\</span><span class=\"s1\">&#39;s Harbor-Arlington-Port Ivory-Graniteville&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">104</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Maspeth&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">105</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Melrose South-Mott Haven North&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">106</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Middle Village&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">107</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Midtown-Midtown South&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">108</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Midwood&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">109</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Morningside Heights&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">110</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Morrisania-Melrose&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">111</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Mott Haven-Port Morris&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">112</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Mount Hope&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">113</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Murray Hill&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">114</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Murray Hill-Kips Bay&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">115</span><span class=\"p\">,</span> <span class=\"s1\">&#39;New Brighton-Silver Lake&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">116</span><span class=\"p\">,</span> <span class=\"s1\">&#39;New Dorp-Midland Beach&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">117</span><span class=\"p\">,</span> <span class=\"s1\">&#39;New Springville-Bloomfield-Travis&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">118</span><span class=\"p\">,</span> <span class=\"s1\">&#39;North Corona&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">119</span><span class=\"p\">,</span> <span class=\"s1\">&#39;North Riverdale-Fieldston-Riverdale&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">120</span><span class=\"p\">,</span> <span class=\"s1\">&#39;North Side-South Side&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">121</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Norwood&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">122</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Oakland Gardens&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">123</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Oakwood-Oakwood Beach&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">124</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Ocean Hill&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">125</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Ocean Parkway South&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">126</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Old Astoria&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">127</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Old Town-Dongan Hills-South Beach&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">128</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Ozone Park&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">129</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Park Slope-Gowanus&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">130</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Parkchester&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">131</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Pelham Bay-Country Club-City Island&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">132</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Pelham Parkway&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">133</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Pomonok-Flushing Heights-Hillcrest&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">134</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Port Richmond&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">135</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Prospect Heights&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">136</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Prospect Lefferts Gardens-Wingate&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">137</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Queens Village&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">138</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Queensboro Hill&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">139</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Queensbridge-Ravenswood-Long Island City&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">140</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Rego Park&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">141</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Richmond Hill&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">142</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Ridgewood&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">143</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Rikers Island&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">144</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Rosedale&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">145</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Rossville-Woodrow&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">146</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Rugby-Remsen Village&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">147</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Schuylerville-Throgs Neck-Edgewater Park&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">148</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Seagate-Coney Island&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">149</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Sheepshead Bay-Gerritsen Beach-Manhattan Beach&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">150</span><span class=\"p\">,</span> <span class=\"s1\">&#39;SoHo-TriBeCa-Civic Center-Little Italy&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">151</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Soundview-Bruckner&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">152</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Soundview-Castle Hill-Clason Point-Harding Park&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">153</span><span class=\"p\">,</span> <span class=\"s1\">&#39;South Jamaica&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">154</span><span class=\"p\">,</span> <span class=\"s1\">&#39;South Ozone Park&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">155</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Springfield Gardens North&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">156</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Springfield Gardens South-Brookville&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">157</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Spuyten Duyvil-Kingsbridge&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">158</span><span class=\"p\">,</span> <span class=\"s1\">&#39;St. Albans&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">159</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Stapleton-Rosebank&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">160</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Starrett City&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">161</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Steinway&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">162</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Stuyvesant Heights&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">163</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Stuyvesant Town-Cooper Village&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">164</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Sunset Park East&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">165</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Sunset Park West&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">166</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Todt Hill-Emerson Hill-Heartland Village-Lighthouse Hill&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">167</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Turtle Bay-East Midtown&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">168</span><span class=\"p\">,</span> <span class=\"s1\">&#39;University Heights-Morris Heights&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">169</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Upper East Side-Carnegie Hill&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">170</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Upper West Side&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">171</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Van Cortlandt Village&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">172</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Van Nest-Morris Park-Westchester Square&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">173</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Washington Heights North&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">174</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Washington Heights South&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">175</span><span class=\"p\">,</span> <span class=\"s1\">&#39;West Brighton&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">176</span><span class=\"p\">,</span> <span class=\"s1\">&#39;West Concourse&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">177</span><span class=\"p\">,</span> <span class=\"s1\">&#39;West Farms-Bronx River&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">178</span><span class=\"p\">,</span> <span class=\"s1\">&#39;West New Brighton-New Brighton-St. George&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">179</span><span class=\"p\">,</span> <span class=\"s1\">&#39;West Village&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">180</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Westchester-Unionport&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">181</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Westerleigh&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">182</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Whitestone&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">183</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Williamsbridge-Olinville&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">184</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Williamsburg&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">185</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Windsor Terrace&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">186</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Woodhaven&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">187</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Woodlawn-Wakefield&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">188</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Woodside&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">189</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Yorkville&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">190</span><span class=\"p\">,</span> <span class=\"s1\">&#39;park-cemetery-etc-Bronx&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">191</span><span class=\"p\">,</span> <span class=\"s1\">&#39;park-cemetery-etc-Brooklyn&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">192</span><span class=\"p\">,</span> <span class=\"s1\">&#39;park-cemetery-etc-Manhattan&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">193</span><span class=\"p\">,</span> <span class=\"s1\">&#39;park-cemetery-etc-Queens&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">194</span><span class=\"p\">,</span> <span class=\"s1\">&#39;park-cemetery-etc-Staten Island&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">195</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">dropoff_ntaname</span><span class=\"p\">,</span>\n\n<span class=\"n\">toUInt16</span><span class=\"p\">(</span><span class=\"n\">ifNull</span><span class=\"p\">(</span><span class=\"n\">dropoff_puma</span><span class=\"p\">,</span> <span class=\"s1\">&#39;0&#39;</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">dropoff_puma</span>\n\n<span class=\"k\">FROM</span> <span class=\"n\">trips</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u0627\u06cc\u0646 \u06a9\u0627\u0631 \u0628\u0627 \u0633\u0631\u0639\u062a 428 \u0647\u0632\u0627\u0631 \u0631\u06a9\u0648\u0631\u062f \u062f\u0631 \u062b\u0627\u0646\u06cc\u0647 \u0648 3030 \u062b\u0627\u0646\u06cc\u0647 \u0637\u0648\u0644 \u062e\u0648\u0627\u0647\u062f \u06a9\u0634\u06cc\u062f. \u0628\u0631\u0627\u06cc load \u0633\u0631\u06cc\u0639\u062a\u0631\u060c \u0634\u0645\u0627 \u0645\u06cc \u062a\u0648\u0627\u0646\u06cc\u062f \u06cc\u06a9 \u062c\u062f\u0648\u0644 \u0628\u0627 \u0645\u0648\u062a\u0648\u0631 <code>Log</code> \u0628\u0647 \u062c\u0627\u06cc <code>MergeTree</code> \u0628\u0633\u0627\u0632\u06cc\u062f. \u062f\u0631 \u0627\u06cc\u0646 \u0645\u0648\u0631\u062f\u060c \u062f\u0627\u0646\u0644\u0648\u062f \u0633\u0631\u06cc\u0639\u062a\u0631 \u0627\u0632 200 \u062b\u0627\u0646\u06cc\u0647 \u06a9\u0627\u0631 \u0645\u06cc \u06a9\u0646\u062f.</p>\n<p>\u0627\u06cc\u0646 \u062c\u062f\u0648\u0644 126 \u06af\u06cc\u0627\u0628\u0627\u06cc\u062a \u0641\u0636\u0627 \u0628\u0631 \u0631\u0648\u06cc \u062f\u06cc\u0633\u06a9 \u0627\u0634\u063a\u0627\u0644 \u0645\u06cc \u06a9\u0646\u062f.</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"p\">:)</span> <span class=\"k\">SELECT</span> <span class=\"n\">formatReadableSize</span><span class=\"p\">(</span><span class=\"k\">sum</span><span class=\"p\">(</span><span class=\"n\">bytes</span><span class=\"p\">))</span> <span class=\"k\">FROM</span> <span class=\"k\">system</span><span class=\"p\">.</span><span class=\"n\">parts</span> <span class=\"k\">WHERE</span> <span class=\"k\">table</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;trips_mergetree&#39;</span> <span class=\"k\">AND</span> <span class=\"n\">active</span>\n\n<span class=\"k\">SELECT</span> <span class=\"n\">formatReadableSize</span><span class=\"p\">(</span><span class=\"k\">sum</span><span class=\"p\">(</span><span class=\"n\">bytes</span><span class=\"p\">))</span>\n<span class=\"k\">FROM</span> <span class=\"k\">system</span><span class=\"p\">.</span><span class=\"n\">parts</span>\n<span class=\"k\">WHERE</span> <span class=\"p\">(</span><span class=\"k\">table</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;trips_mergetree&#39;</span><span class=\"p\">)</span> <span class=\"k\">AND</span> <span class=\"n\">active</span>\n\n<span class=\"err\">\u250c\u2500</span><span class=\"n\">formatReadableSize</span><span class=\"p\">(</span><span class=\"k\">sum</span><span class=\"p\">(</span><span class=\"n\">bytes</span><span class=\"p\">))</span><span class=\"err\">\u2500\u2510</span>\n<span class=\"err\">\u2502</span> <span class=\"mi\">126</span><span class=\"p\">.</span><span class=\"mi\">18</span> <span class=\"n\">GiB</span>                     <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u062f\u0631 \u0645\u06cc\u0627\u0646 \u0686\u06cc\u0632\u0647\u0627\u06cc \u062f\u06cc\u06af\u0631\u060c \u0634\u0645\u0627 \u0645\u06cc \u062a\u0648\u0646\u06cc\u062f \u0627\u0632 \u062f\u0633\u062a\u0648\u0631 OPTIMIZE \u0628\u0631 \u0631\u0648\u06cc MergeTree \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u062f. \u0627\u0645\u0627 \u0627\u0632 \u0622\u0646\u062c\u0627\u06cc\u06cc \u06a9\u0647 \u0628\u062f\u0648\u0646 \u0627\u06cc\u0646 \u062f\u0633\u062a\u0648\u0631 \u0647\u0645\u0647 \u0686\u06cc\u0632 \u062e\u0648\u0628 \u0627\u0633\u062a\u060c \u0627\u062c\u0631\u0627\u06cc \u0627\u06cc\u0646 \u062f\u0633\u062a\u0648\u0631 \u0636\u0631\u0648\u0631\u06cc \u0646\u06cc\u0633\u062a..</p>\n<h3 id=\"ntyj-br-rwy-ykh-srwr\">\u0646\u062a\u0627\u06cc\u062c \u0628\u0631 \u0631\u0648\u06cc \u06cc\u06a9 \u0633\u0631\u0648\u0631<a class=\"headerlink\" href=\"#ntyj-br-rwy-ykh-srwr\" title=\"Permanent link\">&para;</a></h3>\n</div>\n<p>Q1:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">cab_type</span><span class=\"p\">,</span> <span class=\"k\">count</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"p\">)</span> <span class=\"k\">FROM</span> <span class=\"n\">trips_mergetree</span> <span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">cab_type</span>\n</pre></div>\n\n\n<p>0.490 seconds.</p>\n<p>Q2:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">passenger_count</span><span class=\"p\">,</span> <span class=\"k\">avg</span><span class=\"p\">(</span><span class=\"n\">total_amount</span><span class=\"p\">)</span> <span class=\"k\">FROM</span> <span class=\"n\">trips_mergetree</span> <span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">passenger_count</span>\n</pre></div>\n\n\n<p>1.224 seconds.</p>\n<p>Q3:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">passenger_count</span><span class=\"p\">,</span> <span class=\"n\">toYear</span><span class=\"p\">(</span><span class=\"n\">pickup_date</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"k\">year</span><span class=\"p\">,</span> <span class=\"k\">count</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"p\">)</span> <span class=\"k\">FROM</span> <span class=\"n\">trips_mergetree</span> <span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">passenger_count</span><span class=\"p\">,</span> <span class=\"k\">year</span>\n</pre></div>\n\n\n<p>2.104 seconds.</p>\n<p>Q4:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">passenger_count</span><span class=\"p\">,</span> <span class=\"n\">toYear</span><span class=\"p\">(</span><span class=\"n\">pickup_date</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"k\">year</span><span class=\"p\">,</span> <span class=\"n\">round</span><span class=\"p\">(</span><span class=\"n\">trip_distance</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">distance</span><span class=\"p\">,</span> <span class=\"k\">count</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"p\">)</span>\n<span class=\"k\">FROM</span> <span class=\"n\">trips_mergetree</span>\n<span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">passenger_count</span><span class=\"p\">,</span> <span class=\"k\">year</span><span class=\"p\">,</span> <span class=\"n\">distance</span>\n<span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"k\">year</span><span class=\"p\">,</span> <span class=\"k\">count</span><span class=\"p\">(</span><span class=\"o\">*</span><span class=\"p\">)</span> <span class=\"k\">DESC</span>\n</pre></div>\n\n\n<p>3.593 seconds.</p>\n<div dir=\"rtl\">\n<p>\u06a9\u0627\u0646\u0641\u06cc\u06af \u0633\u0631\u0648\u0631 \u0628\u0647 \u0627\u06cc\u0646 \u0635\u0648\u0631\u062a \u0628\u0648\u062f:</p>\n<p>Two Intel(R) Xeon(R) CPU E5-2650 v2 @ 2.60GHz, 16 physical kernels total,\n128 GiB RAM,\n8x6 TB HD on hardware RAID-5</p>\n<p>\u0632\u0645\u0627\u0646 \u0627\u062c\u0631\u0627 query \u0647\u0627 \u0627\u0632 \u0632\u0645\u0627\u0646 \u062f\u0648\u0645\u06cc\u0646 \u0627\u062c\u0631\u0627 \u0628\u0647\u062a\u0631 \u0645\u06cc \u0634\u0648\u062f\u060c \u0686\u0648\u0646 query \u0647\u0627 \u062f\u0627\u062f\u0647 \u0647\u0627 \u0631\u0648 \u0627\u0632 \u0641\u0627\u06cc\u0644 system cache \u0645\u06cc \u062e\u0648\u0627\u0646\u0646\u062f. \u062f\u0631 \u0627\u062f\u0627\u0645\u0647 cache \u062f\u06cc\u06af\u0631\u06cc \u0631\u062e \u0646\u0645\u06cc\u062f\u0647\u062f: \u062f\u0627\u062f\u0647 \u0647\u0627 \u062f\u0631 \u0647\u0631 \u0627\u062c\u0631\u0627 \u062e\u0648\u0627\u0646\u062f\u0647 \u0648 \u067e\u0631\u062f\u0627\u0632\u0634 \u0634\u062f\u0647 \u0627\u0646\u062f.</p>\n<p>\u0633\u0627\u062e\u062a \u062c\u062f\u0627\u0648\u0644 \u062f\u0631 \u062f\u0631 \u0633\u0647 \u0633\u0631\u0648\u0631:</p>\n<p>\u062f\u0631 \u0647\u0631 \u0633\u0631\u0648\u0631 \u062f\u0633\u062a\u0648\u0631 \u0632\u06cc\u0631 \u0631\u0627 \u0627\u062c\u0631\u0627 \u06a9\u0646\u06cc\u062f:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">CREATE TABLE default.trips_mergetree_third ( trip_id UInt32, vendor_id Enum8(&#39;1&#39; = 1, &#39;2&#39; = 2, &#39;CMT&#39; = 3, &#39;VTS&#39; = 4, &#39;DDS&#39; = 5, &#39;B02512&#39; = 10, &#39;B02598&#39; = 11, &#39;B02617&#39; = 12, &#39;B02682&#39; = 13, &#39;B02764&#39; = 14), pickup_date Date, pickup_datetime DateTime, dropoff_date Date, dropoff_datetime DateTime, store_and_fwd_flag UInt8, rate_code_id UInt8, pickup_longitude Float64, pickup_latitude Float64, dropoff_longitude Float64, dropoff_latitude Float64, passenger_count UInt8, trip_distance Float64, fare_amount Float32, extra Float32, mta_tax Float32, tip_amount Float32, tolls_amount Float32, ehail_fee Float32, improvement_surcharge Float32, total_amount Float32, payment_type_ Enum8(&#39;UNK&#39; = 0, &#39;CSH&#39; = 1, &#39;CRE&#39; = 2, &#39;NOC&#39; = 3, &#39;DIS&#39; = 4), trip_type UInt8, pickup FixedString(25), dropoff FixedString(25), cab_type Enum8(&#39;yellow&#39; = 1, &#39;green&#39; = 2, &#39;uber&#39; = 3), pickup_nyct2010_gid UInt8, pickup_ctlabel Float32, pickup_borocode UInt8, pickup_boroname Enum8(&#39;&#39; = 0, &#39;Manhattan&#39; = 1, &#39;Bronx&#39; = 2, &#39;Brooklyn&#39; = 3, &#39;Queens&#39; = 4, &#39;Staten Island&#39; = 5), pickup_ct2010 FixedString(6), pickup_boroct2010 FixedString(7), pickup_cdeligibil Enum8(&#39; &#39; = 0, &#39;E&#39; = 1, &#39;I&#39; = 2), pickup_ntacode FixedString(4), pickup_ntaname Enum16(&#39;&#39; = 0, &#39;Airport&#39; = 1, &#39;Allerton-Pelham Gardens&#39; = 2, &#39;Annadale-Huguenot-Prince\\&#39;s Bay-Eltingville&#39; = 3, &#39;Arden Heights&#39; = 4, &#39;Astoria&#39; = 5, &#39;Auburndale&#39; = 6, &#39;Baisley Park&#39; = 7, &#39;Bath Beach&#39; = 8, &#39;Battery Park City-Lower Manhattan&#39; = 9, &#39;Bay Ridge&#39; = 10, &#39;Bayside-Bayside Hills&#39; = 11, &#39;Bedford&#39; = 12, &#39;Bedford Park-Fordham North&#39; = 13, &#39;Bellerose&#39; = 14, &#39;Belmont&#39; = 15, &#39;Bensonhurst East&#39; = 16, &#39;Bensonhurst West&#39; = 17, &#39;Borough Park&#39; = 18, &#39;Breezy Point-Belle Harbor-Rockaway Park-Broad Channel&#39; = 19, &#39;Briarwood-Jamaica Hills&#39; = 20, &#39;Brighton Beach&#39; = 21, &#39;Bronxdale&#39; = 22, &#39;Brooklyn Heights-Cobble Hill&#39; = 23, &#39;Brownsville&#39; = 24, &#39;Bushwick North&#39; = 25, &#39;Bushwick South&#39; = 26, &#39;Cambria Heights&#39; = 27, &#39;Canarsie&#39; = 28, &#39;Carroll Gardens-Columbia Street-Red Hook&#39; = 29, &#39;Central Harlem North-Polo Grounds&#39; = 30, &#39;Central Harlem South&#39; = 31, &#39;Charleston-Richmond Valley-Tottenville&#39; = 32, &#39;Chinatown&#39; = 33, &#39;Claremont-Bathgate&#39; = 34, &#39;Clinton&#39; = 35, &#39;Clinton Hill&#39; = 36, &#39;Co-op City&#39; = 37, &#39;College Point&#39; = 38, &#39;Corona&#39; = 39, &#39;Crotona Park East&#39; = 40, &#39;Crown Heights North&#39; = 41, &#39;Crown Heights South&#39; = 42, &#39;Cypress Hills-City Line&#39; = 43, &#39;DUMBO-Vinegar Hill-Downtown Brooklyn-Boerum Hill&#39; = 44, &#39;Douglas Manor-Douglaston-Little Neck&#39; = 45, &#39;Dyker Heights&#39; = 46, &#39;East Concourse-Concourse Village&#39; = 47, &#39;East Elmhurst&#39; = 48, &#39;East Flatbush-Farragut&#39; = 49, &#39;East Flushing&#39; = 50, &#39;East Harlem North&#39; = 51, &#39;East Harlem South&#39; = 52, &#39;East New York&#39; = 53, &#39;East New York (Pennsylvania Ave)&#39; = 54, &#39;East Tremont&#39; = 55, &#39;East Village&#39; = 56, &#39;East Williamsburg&#39; = 57, &#39;Eastchester-Edenwald-Baychester&#39; = 58, &#39;Elmhurst&#39; = 59, &#39;Elmhurst-Maspeth&#39; = 60, &#39;Erasmus&#39; = 61, &#39;Far Rockaway-Bayswater&#39; = 62, &#39;Flatbush&#39; = 63, &#39;Flatlands&#39; = 64, &#39;Flushing&#39; = 65, &#39;Fordham South&#39; = 66, &#39;Forest Hills&#39; = 67, &#39;Fort Greene&#39; = 68, &#39;Fresh Meadows-Utopia&#39; = 69, &#39;Ft. Totten-Bay Terrace-Clearview&#39; = 70, &#39;Georgetown-Marine Park-Bergen Beach-Mill Basin&#39; = 71, &#39;Glen Oaks-Floral Park-New Hyde Park&#39; = 72, &#39;Glendale&#39; = 73, &#39;Gramercy&#39; = 74, &#39;Grasmere-Arrochar-Ft. Wadsworth&#39; = 75, &#39;Gravesend&#39; = 76, &#39;Great Kills&#39; = 77, &#39;Greenpoint&#39; = 78, &#39;Grymes Hill-Clifton-Fox Hills&#39; = 79, &#39;Hamilton Heights&#39; = 80, &#39;Hammels-Arverne-Edgemere&#39; = 81, &#39;Highbridge&#39; = 82, &#39;Hollis&#39; = 83, &#39;Homecrest&#39; = 84, &#39;Hudson Yards-Chelsea-Flatiron-Union Square&#39; = 85, &#39;Hunters Point-Sunnyside-West Maspeth&#39; = 86, &#39;Hunts Point&#39; = 87, &#39;Jackson Heights&#39; = 88, &#39;Jamaica&#39; = 89, &#39;Jamaica Estates-Holliswood&#39; = 90, &#39;Kensington-Ocean Parkway&#39; = 91, &#39;Kew Gardens&#39; = 92, &#39;Kew Gardens Hills&#39; = 93, &#39;Kingsbridge Heights&#39; = 94, &#39;Laurelton&#39; = 95, &#39;Lenox Hill-Roosevelt Island&#39; = 96, &#39;Lincoln Square&#39; = 97, &#39;Lindenwood-Howard Beach&#39; = 98, &#39;Longwood&#39; = 99, &#39;Lower East Side&#39; = 100, &#39;Madison&#39; = 101, &#39;Manhattanville&#39; = 102, &#39;Marble Hill-Inwood&#39; = 103, &#39;Mariner\\&#39;s Harbor-Arlington-Port Ivory-Graniteville&#39; = 104, &#39;Maspeth&#39; = 105, &#39;Melrose South-Mott Haven North&#39; = 106, &#39;Middle Village&#39; = 107, &#39;Midtown-Midtown South&#39; = 108, &#39;Midwood&#39; = 109, &#39;Morningside Heights&#39; = 110, &#39;Morrisania-Melrose&#39; = 111, &#39;Mott Haven-Port Morris&#39; = 112, &#39;Mount Hope&#39; = 113, &#39;Murray Hill&#39; = 114, &#39;Murray Hill-Kips Bay&#39; = 115, &#39;New Brighton-Silver Lake&#39; = 116, &#39;New Dorp-Midland Beach&#39; = 117, &#39;New Springville-Bloomfield-Travis&#39; = 118, &#39;North Corona&#39; = 119, &#39;North Riverdale-Fieldston-Riverdale&#39; = 120, &#39;North Side-South Side&#39; = 121, &#39;Norwood&#39; = 122, &#39;Oakland Gardens&#39; = 123, &#39;Oakwood-Oakwood Beach&#39; = 124, &#39;Ocean Hill&#39; = 125, &#39;Ocean Parkway South&#39; = 126, &#39;Old Astoria&#39; = 127, &#39;Old Town-Dongan Hills-South Beach&#39; = 128, &#39;Ozone Park&#39; = 129, &#39;Park Slope-Gowanus&#39; = 130, &#39;Parkchester&#39; = 131, &#39;Pelham Bay-Country Club-City Island&#39; = 132, &#39;Pelham Parkway&#39; = 133, &#39;Pomonok-Flushing Heights-Hillcrest&#39; = 134, &#39;Port Richmond&#39; = 135, &#39;Prospect Heights&#39; = 136, &#39;Prospect Lefferts Gardens-Wingate&#39; = 137, &#39;Queens Village&#39; = 138, &#39;Queensboro Hill&#39; = 139, &#39;Queensbridge-Ravenswood-Long Island City&#39; = 140, &#39;Rego Park&#39; = 141, &#39;Richmond Hill&#39; = 142, &#39;Ridgewood&#39; = 143, &#39;Rikers Island&#39; = 144, &#39;Rosedale&#39; = 145, &#39;Rossville-Woodrow&#39; = 146, &#39;Rugby-Remsen Village&#39; = 147, &#39;Schuylerville-Throgs Neck-Edgewater Park&#39; = 148, &#39;Seagate-Coney Island&#39; = 149, &#39;Sheepshead Bay-Gerritsen Beach-Manhattan Beach&#39; = 150, &#39;SoHo-TriBeCa-Civic Center-Little Italy&#39; = 151, &#39;Soundview-Bruckner&#39; = 152, &#39;Soundview-Castle Hill-Clason Point-Harding Park&#39; = 153, &#39;South Jamaica&#39; = 154, &#39;South Ozone Park&#39; = 155, &#39;Springfield Gardens North&#39; = 156, &#39;Springfield Gardens South-Brookville&#39; = 157, &#39;Spuyten Duyvil-Kingsbridge&#39; = 158, &#39;St. Albans&#39; = 159, &#39;Stapleton-Rosebank&#39; = 160, &#39;Starrett City&#39; = 161, &#39;Steinway&#39; = 162, &#39;Stuyvesant Heights&#39; = 163, &#39;Stuyvesant Town-Cooper Village&#39; = 164, &#39;Sunset Park East&#39; = 165, &#39;Sunset Park West&#39; = 166, &#39;Todt Hill-Emerson Hill-Heartland Village-Lighthouse Hill&#39; = 167, &#39;Turtle Bay-East Midtown&#39; = 168, &#39;University Heights-Morris Heights&#39; = 169, &#39;Upper East Side-Carnegie Hill&#39; = 170, &#39;Upper West Side&#39; = 171, &#39;Van Cortlandt Village&#39; = 172, &#39;Van Nest-Morris Park-Westchester Square&#39; = 173, &#39;Washington Heights North&#39; = 174, &#39;Washington Heights South&#39; = 175, &#39;West Brighton&#39; = 176, &#39;West Concourse&#39; = 177, &#39;West Farms-Bronx River&#39; = 178, &#39;West New Brighton-New Brighton-St. George&#39; = 179, &#39;West Village&#39; = 180, &#39;Westchester-Unionport&#39; = 181, &#39;Westerleigh&#39; = 182, &#39;Whitestone&#39; = 183, &#39;Williamsbridge-Olinville&#39; = 184, &#39;Williamsburg&#39; = 185, &#39;Windsor Terrace&#39; = 186, &#39;Woodhaven&#39; = 187, &#39;Woodlawn-Wakefield&#39; = 188, &#39;Woodside&#39; = 189, &#39;Yorkville&#39; = 190, &#39;park-cemetery-etc-Bronx&#39; = 191, &#39;park-cemetery-etc-Brooklyn&#39; = 192, &#39;park-cemetery-etc-Manhattan&#39; = 193, &#39;park-cemetery-etc-Queens&#39; = 194, &#39;park-cemetery-etc-Staten Island&#39; = 195), pickup_puma UInt16, dropoff_nyct2010_gid UInt8, dropoff_ctlabel Float32, dropoff_borocode UInt8, dropoff_boroname Enum8(&#39;&#39; = 0, &#39;Manhattan&#39; = 1, &#39;Bronx&#39; = 2, &#39;Brooklyn&#39; = 3, &#39;Queens&#39; = 4, &#39;Staten Island&#39; = 5), dropoff_ct2010 FixedString(6), dropoff_boroct2010 FixedString(7), dropoff_cdeligibil Enum8(&#39; &#39; = 0, &#39;E&#39; = 1, &#39;I&#39; = 2), dropoff_ntacode FixedString(4), dropoff_ntaname Enum16(&#39;&#39; = 0, &#39;Airport&#39; = 1, &#39;Allerton-Pelham Gardens&#39; = 2, &#39;Annadale-Huguenot-Prince\\&#39;s Bay-Eltingville&#39; = 3, &#39;Arden Heights&#39; = 4, &#39;Astoria&#39; = 5, &#39;Auburndale&#39; = 6, &#39;Baisley Park&#39; = 7, &#39;Bath Beach&#39; = 8, &#39;Battery Park City-Lower Manhattan&#39; = 9, &#39;Bay Ridge&#39; = 10, &#39;Bayside-Bayside Hills&#39; = 11, &#39;Bedford&#39; = 12, &#39;Bedford Park-Fordham North&#39; = 13, &#39;Bellerose&#39; = 14, &#39;Belmont&#39; = 15, &#39;Bensonhurst East&#39; = 16, &#39;Bensonhurst West&#39; = 17, &#39;Borough Park&#39; = 18, &#39;Breezy Point-Belle Harbor-Rockaway Park-Broad Channel&#39; = 19, &#39;Briarwood-Jamaica Hills&#39; = 20, &#39;Brighton Beach&#39; = 21, &#39;Bronxdale&#39; = 22, &#39;Brooklyn Heights-Cobble Hill&#39; = 23, &#39;Brownsville&#39; = 24, &#39;Bushwick North&#39; = 25, &#39;Bushwick South&#39; = 26, &#39;Cambria Heights&#39; = 27, &#39;Canarsie&#39; = 28, &#39;Carroll Gardens-Columbia Street-Red Hook&#39; = 29, &#39;Central Harlem North-Polo Grounds&#39; = 30, &#39;Central Harlem South&#39; = 31, &#39;Charleston-Richmond Valley-Tottenville&#39; = 32, &#39;Chinatown&#39; = 33, &#39;Claremont-Bathgate&#39; = 34, &#39;Clinton&#39; = 35, &#39;Clinton Hill&#39; = 36, &#39;Co-op City&#39; = 37, &#39;College Point&#39; = 38, &#39;Corona&#39; = 39, &#39;Crotona Park East&#39; = 40, &#39;Crown Heights North&#39; = 41, &#39;Crown Heights South&#39; = 42, &#39;Cypress Hills-City Line&#39; = 43, &#39;DUMBO-Vinegar Hill-Downtown Brooklyn-Boerum Hill&#39; = 44, &#39;Douglas Manor-Douglaston-Little Neck&#39; = 45, &#39;Dyker Heights&#39; = 46, &#39;East Concourse-Concourse Village&#39; = 47, &#39;East Elmhurst&#39; = 48, &#39;East Flatbush-Farragut&#39; = 49, &#39;East Flushing&#39; = 50, &#39;East Harlem North&#39; = 51, &#39;East Harlem South&#39; = 52, &#39;East New York&#39; = 53, &#39;East New York (Pennsylvania Ave)&#39; = 54, &#39;East Tremont&#39; = 55, &#39;East Village&#39; = 56, &#39;East Williamsburg&#39; = 57, &#39;Eastchester-Edenwald-Baychester&#39; = 58, &#39;Elmhurst&#39; = 59, &#39;Elmhurst-Maspeth&#39; = 60, &#39;Erasmus&#39; = 61, &#39;Far Rockaway-Bayswater&#39; = 62, &#39;Flatbush&#39; = 63, &#39;Flatlands&#39; = 64, &#39;Flushing&#39; = 65, &#39;Fordham South&#39; = 66, &#39;Forest Hills&#39; = 67, &#39;Fort Greene&#39; = 68, &#39;Fresh Meadows-Utopia&#39; = 69, &#39;Ft. Totten-Bay Terrace-Clearview&#39; = 70, &#39;Georgetown-Marine Park-Bergen Beach-Mill Basin&#39; = 71, &#39;Glen Oaks-Floral Park-New Hyde Park&#39; = 72, &#39;Glendale&#39; = 73, &#39;Gramercy&#39; = 74, &#39;Grasmere-Arrochar-Ft. Wadsworth&#39; = 75, &#39;Gravesend&#39; = 76, &#39;Great Kills&#39; = 77, &#39;Greenpoint&#39; = 78, &#39;Grymes Hill-Clifton-Fox Hills&#39; = 79, &#39;Hamilton Heights&#39; = 80, &#39;Hammels-Arverne-Edgemere&#39; = 81, &#39;Highbridge&#39; = 82, &#39;Hollis&#39; = 83, &#39;Homecrest&#39; = 84, &#39;Hudson Yards-Chelsea-Flatiron-Union Square&#39; = 85, &#39;Hunters Point-Sunnyside-West Maspeth&#39; = 86, &#39;Hunts Point&#39; = 87, &#39;Jackson Heights&#39; = 88, &#39;Jamaica&#39; = 89, &#39;Jamaica Estates-Holliswood&#39; = 90, &#39;Kensington-Ocean Parkway&#39; = 91, &#39;Kew Gardens&#39; = 92, &#39;Kew Gardens Hills&#39; = 93, &#39;Kingsbridge Heights&#39; = 94, &#39;Laurelton&#39; = 95, &#39;Lenox Hill-Roosevelt Island&#39; = 96, &#39;Lincoln Square&#39; = 97, &#39;Lindenwood-Howard Beach&#39; = 98, &#39;Longwood&#39; = 99, &#39;Lower East Side&#39; = 100, &#39;Madison&#39; = 101, &#39;Manhattanville&#39; = 102, &#39;Marble Hill-Inwood&#39; = 103, &#39;Mariner\\&#39;s Harbor-Arlington-Port Ivory-Graniteville&#39; = 104, &#39;Maspeth&#39; = 105, &#39;Melrose South-Mott Haven North&#39; = 106, &#39;Middle Village&#39; = 107, &#39;Midtown-Midtown South&#39; = 108, &#39;Midwood&#39; = 109, &#39;Morningside Heights&#39; = 110, &#39;Morrisania-Melrose&#39; = 111, &#39;Mott Haven-Port Morris&#39; = 112, &#39;Mount Hope&#39; = 113, &#39;Murray Hill&#39; = 114, &#39;Murray Hill-Kips Bay&#39; = 115, &#39;New Brighton-Silver Lake&#39; = 116, &#39;New Dorp-Midland Beach&#39; = 117, &#39;New Springville-Bloomfield-Travis&#39; = 118, &#39;North Corona&#39; = 119, &#39;North Riverdale-Fieldston-Riverdale&#39; = 120, &#39;North Side-South Side&#39; = 121, &#39;Norwood&#39; = 122, &#39;Oakland Gardens&#39; = 123, &#39;Oakwood-Oakwood Beach&#39; = 124, &#39;Ocean Hill&#39; = 125, &#39;Ocean Parkway South&#39; = 126, &#39;Old Astoria&#39; = 127, &#39;Old Town-Dongan Hills-South Beach&#39; = 128, &#39;Ozone Park&#39; = 129, &#39;Park Slope-Gowanus&#39; = 130, &#39;Parkchester&#39; = 131, &#39;Pelham Bay-Country Club-City Island&#39; = 132, &#39;Pelham Parkway&#39; = 133, &#39;Pomonok-Flushing Heights-Hillcrest&#39; = 134, &#39;Port Richmond&#39; = 135, &#39;Prospect Heights&#39; = 136, &#39;Prospect Lefferts Gardens-Wingate&#39; = 137, &#39;Queens Village&#39; = 138, &#39;Queensboro Hill&#39; = 139, &#39;Queensbridge-Ravenswood-Long Island City&#39; = 140, &#39;Rego Park&#39; = 141, &#39;Richmond Hill&#39; = 142, &#39;Ridgewood&#39; = 143, &#39;Rikers Island&#39; = 144, &#39;Rosedale&#39; = 145, &#39;Rossville-Woodrow&#39; = 146, &#39;Rugby-Remsen Village&#39; = 147, &#39;Schuylerville-Throgs Neck-Edgewater Park&#39; = 148, &#39;Seagate-Coney Island&#39; = 149, &#39;Sheepshead Bay-Gerritsen Beach-Manhattan Beach&#39; = 150, &#39;SoHo-TriBeCa-Civic Center-Little Italy&#39; = 151, &#39;Soundview-Bruckner&#39; = 152, &#39;Soundview-Castle Hill-Clason Point-Harding Park&#39; = 153, &#39;South Jamaica&#39; = 154, &#39;South Ozone Park&#39; = 155, &#39;Springfield Gardens North&#39; = 156, &#39;Springfield Gardens South-Brookville&#39; = 157, &#39;Spuyten Duyvil-Kingsbridge&#39; = 158, &#39;St. Albans&#39; = 159, &#39;Stapleton-Rosebank&#39; = 160, &#39;Starrett City&#39; = 161, &#39;Steinway&#39; = 162, &#39;Stuyvesant Heights&#39; = 163, &#39;Stuyvesant Town-Cooper Village&#39; = 164, &#39;Sunset Park East&#39; = 165, &#39;Sunset Park West&#39; = 166, &#39;Todt Hill-Emerson Hill-Heartland Village-Lighthouse Hill&#39; = 167, &#39;Turtle Bay-East Midtown&#39; = 168, &#39;University Heights-Morris Heights&#39; = 169, &#39;Upper East Side-Carnegie Hill&#39; = 170, &#39;Upper West Side&#39; = 171, &#39;Van Cortlandt Village&#39; = 172, &#39;Van Nest-Morris Park-Westchester Square&#39; = 173, &#39;Washington Heights North&#39; = 174, &#39;Washington Heights South&#39; = 175, &#39;West Brighton&#39; = 176, &#39;West Concourse&#39; = 177, &#39;West Farms-Bronx River&#39; = 178, &#39;West New Brighton-New Brighton-St. George&#39; = 179, &#39;West Village&#39; = 180, &#39;Westchester-Unionport&#39; = 181, &#39;Westerleigh&#39; = 182, &#39;Whitestone&#39; = 183, &#39;Williamsbridge-Olinville&#39; = 184, &#39;Williamsburg&#39; = 185, &#39;Windsor Terrace&#39; = 186, &#39;Woodhaven&#39; = 187, &#39;Woodlawn-Wakefield&#39; = 188, &#39;Woodside&#39; = 189, &#39;Yorkville&#39; = 190, &#39;park-cemetery-etc-Bronx&#39; = 191, &#39;park-cemetery-etc-Brooklyn&#39; = 192, &#39;park-cemetery-etc-Manhattan&#39; = 193, &#39;park-cemetery-etc-Queens&#39; = 194, &#39;park-cemetery-etc-Staten Island&#39; = 195), dropoff_puma UInt16) ENGINE = MergeTree(pickup_date, pickup_datetime, 8192)</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u0628\u0631 \u0631\u0648\u06cc \u0633\u0631\u0648\u0631 source \u062f\u0633\u062a\u0648\u0631 \u0632\u06cc\u0631 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">trips_mergetree_x3</span> <span class=\"k\">AS</span> <span class=\"n\">trips_mergetree_third</span> <span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">Distributed</span><span class=\"p\">(</span><span class=\"n\">perftest</span><span class=\"p\">,</span> <span class=\"k\">default</span><span class=\"p\">,</span> <span class=\"n\">trips_mergetree_third</span><span class=\"p\">,</span> <span class=\"n\">rand</span><span class=\"p\">())</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>query \u0632\u06cc\u0631 \u062f\u0627\u062f\u0647\u0627 \u0631\u0627 \u062a\u0648\u0632\u06cc\u0639 \u0645\u062c\u062f\u062f \u0645\u06cc \u06a9\u0646\u062f:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">INSERT</span> <span class=\"k\">INTO</span> <span class=\"n\">trips_mergetree_x3</span> <span class=\"k\">SELECT</span> <span class=\"o\">*</span> <span class=\"k\">FROM</span> <span class=\"n\">trips_mergetree</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u0627\u06cc\u0646 query 2454 \u062b\u0627\u0646\u06cc\u0647 \u0632\u0645\u0627\u0646 \u0645\u06cc\u0628\u0631\u062f.</p>\n<p>\u062f\u0631 \u0633\u0647 \u0633\u0631\u0648\u0631:</p>\n<p>Q1: 0.212 \u062b\u0627\u0646\u06cc\u0647.\nQ2: 0.438 \u062b\u0627\u0646\u06cc\u0647.\nQ3: 0.733 \u062b\u0627\u0646\u06cc\u0647.\nQ4: 1.241 \u062b\u0627\u0646\u06cc\u0647.</p>\n<p>\u0627\u0632 \u0622\u0646\u062c\u0627\u06cc\u06cc \u06a9\u0647 query \u0647\u0627 \u0628\u0647 \u0635\u0648\u0631\u062a \u062e\u0637\u06cc scale \u0634\u062f\u0647 \u0627\u0646\u062f\u060c \u0627\u0632 \u0646\u062a\u0627\u06cc\u062c \u0628\u0647 \u062f\u0633\u062a \u0622\u0645\u062f\u0647 \u0634\u06af\u0641\u062a\u06cc \u0648\u062c\u0648\u062f \u0646\u062f\u0627\u0631\u062f.</p>\n<p>\u0645\u0627 \u0647\u0645\u0686\u0646\u06cc\u0646 \u0646\u062a\u0627\u06cc\u062c \u0632\u06cc\u0631 \u0631\u0627 \u0627\u0632 \u0627\u062c\u0631\u0627\u06cc \u0627\u06cc\u0646 query \u062f\u0631 \u06a9\u0644\u0627\u0633\u062a\u0631 140 \u0633\u0631\u0648\u0631 \u062f\u0631\u06cc\u0627\u0641\u062a \u06a9\u0631\u062f\u06cc\u0645:</p>\n<p>Q1: 0.028 \u062b\u0627\u0646\u06cc\u0647.\nQ2: 0.043 \u062b\u0627\u0646\u06cc\u0647.\nQ3: 0.051 \u062b\u0627\u0646\u06cc\u0647.\nQ4: 0.072 \u062b\u0627\u0646\u06cc\u0647.</p>\n<p>\u062f\u0631 \u0627\u06cc\u0646 \u0645\u0648\u0631\u062f\u060c \u0632\u0645\u0627\u0646 \u067e\u0631\u062f\u0627\u0632\u0634 query \u0628\u0631\u0627\u0633\u0627\u0633 latency \u0634\u0628\u06a9\u0647 \u0645\u0634\u062e\u0635 \u0645\u06cc \u0634\u0648\u062f. \u0645\u0627 \u0627\u06cc\u0646 query \u0647\u0627 \u0631\u0627 \u0628\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 \u06cc\u06a9 \u0645\u0634\u062a\u0631\u06cc \u0648\u0627\u0642\u0639 \u062f\u0631 \u062f\u06cc\u062a\u0627\u0633\u0646\u062a\u0631 Yandex \u062f\u0631 \u0641\u0646\u0644\u0627\u0646\u062f \u062f\u0631 \u06cc\u06a9 \u06a9\u0644\u0627\u0633\u062a\u0631 \u0631\u0648\u0633\u06cc\u0647 \u062f\u0631\u06cc\u0627\u0641\u062a \u06a9\u0631\u062f\u06cc\u0645\u060c \u06a9\u0647 latency \u0622\u0646 \u062d\u062f\u0648\u062f 20 \u0645\u06cc\u0644\u06cc \u062b\u0627\u0646\u06cc\u0647 \u0628\u0647 \u0646\u062a\u0627\u06cc\u062c \u0627\u0636\u0627\u0641\u0647 \u06a9\u0631\u062f.</p>\n<h3 id=\"ntyj\">\u0646\u062a\u0627\u06cc\u062c<a class=\"headerlink\" href=\"#ntyj\" title=\"Permanent link\">&para;</a></h3>\n<table>\n<thead>\n<tr>\n<th>\u0646\u0648\u062f\u0647\u0627</th>\n<th>Q1</th>\n<th>Q2</th>\n<th>Q3</th>\n<th>Q4</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>0.490</td>\n<td>1.224</td>\n<td>2.104</td>\n<td>3.593</td>\n</tr>\n<tr>\n<td>3</td>\n<td>0.212</td>\n<td>0.438</td>\n<td>0.733</td>\n<td>1.241</td>\n</tr>\n<tr>\n<td>140</td>\n<td>0.028</td>\n<td>0.043</td>\n<td>0.051</td>\n<td>0.072</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><a name=\"../../../getting_started/example_datasets/amplab_benchmark/\"></a>\n<a name=\"example_datasets/amplab_benchmark/\"></a>\n<a name=\"../../../../../../example_datasets/amplab_benchmark/\"></a>\n<a name=\"../../../../../getting_started/example_datasets/amplab_benchmark/\"></a>\n<a name=\"../../example_datasets/amplab_benchmark/\"></a>\n<a name=\"getting_started/example_datasets/amplab_benchmark/\"></a>\n<a name=\"../getting_started/example_datasets/amplab_benchmark/\"></a>\n<a name=\"../../../example_datasets/amplab_benchmark/\"></a>\n<a name=\"../../../../example_datasets/amplab_benchmark/\"></a>\n<a name=\"../example_datasets/amplab_benchmark/\"></a>\n<a name=\"../../../../../example_datasets/amplab_benchmark/\"></a>\n<a name=\"../../getting_started/example_datasets/amplab_benchmark/\"></a>\n<a name=\"amplab_benchmark/\"></a>\n<a name=\"../../../../getting_started/example_datasets/amplab_benchmark/\"></a></p>\n<div dir=\"rtl\">\n<h2 id=\"bnchmrkh-amplab-big-data\">\u0628\u0646\u0686\u0645\u0627\u0631\u06a9 AMPLab Big Data<a class=\"headerlink\" href=\"#bnchmrkh-amplab-big-data\" title=\"Permanent link\">&para;</a></h2>\n<p>\u0628\u0628\u06cc\u0646\u06cc\u062f <a href=\"https://amplab.cs.berkeley.edu/benchmark/\" rel=\"external nofollow\">https://amplab.cs.berkeley.edu/benchmark/</a></p>\n<p>\u0628\u0627 \u06cc\u06a9 \u0627\u06a9\u0627\u0646\u062a \u0645\u062c\u0627\u0646\u06cc \u062f\u0631 <a href=\"https://aws.amazon.com\" rel=\"external nofollow\">https://aws.amazon.com</a> \u062b\u0628\u062a \u0646\u0627\u0645 \u06a9\u0646\u06cc\u062f. \u0634\u0645\u0627 \u0646\u06cc\u0627\u0632 \u0628\u0647 \u0627\u06cc\u0645\u06cc\u0644\u060c \u0634\u0645\u0627\u0631\u0647 \u062a\u0644\u0641\u0646 \u0648 credit card \u062f\u0627\u0631\u06cc\u062f. \u06cc\u06a9 Access key \u062c\u062f\u06cc\u062f \u0627\u0632 <a href=\"https://console.aws.amazon.com/iam/home?nc2=h_m_sc#security_credential\" rel=\"external nofollow\">https://console.aws.amazon.com/iam/home?nc2=h_m_sc#security_credential</a> \u062f\u0631\u06cc\u0627\u0641\u062a \u06a9\u0646\u06cc\u062f.</p>\n<p>\u062f\u0631 \u06a9\u0646\u0633\u0648\u0644 \u0627\u06cc\u0646 \u062f\u0633\u062a\u0648\u0631\u0627\u062a \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span>sudo apt-get install s3cmd\nmkdir tiny<span class=\"p\">;</span> <span class=\"nb\">cd</span> tiny<span class=\"p\">;</span>\ns3cmd sync s3://big-data-benchmark/pavlo/text-deflate/tiny/ .\n<span class=\"nb\">cd</span> ..\nmkdir 1node<span class=\"p\">;</span> <span class=\"nb\">cd</span> 1node<span class=\"p\">;</span>\ns3cmd sync s3://big-data-benchmark/pavlo/text-deflate/1node/ .\n<span class=\"nb\">cd</span> ..\nmkdir 5nodes<span class=\"p\">;</span> <span class=\"nb\">cd</span> 5nodes<span class=\"p\">;</span>\ns3cmd sync s3://big-data-benchmark/pavlo/text-deflate/5nodes/ .\n<span class=\"nb\">cd</span> ..\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u0627\u06cc\u0646 query \u0647\u0627\u06cc ClickHouse \u0631\u0627 \u0627\u062c\u0631\u0627 \u06a9\u0646\u06cc\u062f:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">rankings_tiny</span>\n<span class=\"p\">(</span>\n    <span class=\"n\">pageURL</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n    <span class=\"n\">pageRank</span> <span class=\"n\">UInt32</span><span class=\"p\">,</span>\n    <span class=\"n\">avgDuration</span> <span class=\"n\">UInt32</span>\n<span class=\"p\">)</span> <span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">Log</span><span class=\"p\">;</span>\n\n<span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">uservisits_tiny</span>\n<span class=\"p\">(</span>\n    <span class=\"n\">sourceIP</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n    <span class=\"n\">destinationURL</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n    <span class=\"n\">visitDate</span> <span class=\"nb\">Date</span><span class=\"p\">,</span>\n    <span class=\"n\">adRevenue</span> <span class=\"n\">Float32</span><span class=\"p\">,</span>\n    <span class=\"n\">UserAgent</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n    <span class=\"n\">cCode</span> <span class=\"n\">FixedString</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">),</span>\n    <span class=\"n\">lCode</span> <span class=\"n\">FixedString</span><span class=\"p\">(</span><span class=\"mi\">6</span><span class=\"p\">),</span>\n    <span class=\"n\">searchWord</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n    <span class=\"n\">duration</span> <span class=\"n\">UInt32</span>\n<span class=\"p\">)</span> <span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">MergeTree</span><span class=\"p\">(</span><span class=\"n\">visitDate</span><span class=\"p\">,</span> <span class=\"n\">visitDate</span><span class=\"p\">,</span> <span class=\"mi\">8192</span><span class=\"p\">);</span>\n\n<span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">rankings_1node</span>\n<span class=\"p\">(</span>\n    <span class=\"n\">pageURL</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n    <span class=\"n\">pageRank</span> <span class=\"n\">UInt32</span><span class=\"p\">,</span>\n    <span class=\"n\">avgDuration</span> <span class=\"n\">UInt32</span>\n<span class=\"p\">)</span> <span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">Log</span><span class=\"p\">;</span>\n\n<span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">uservisits_1node</span>\n<span class=\"p\">(</span>\n    <span class=\"n\">sourceIP</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n    <span class=\"n\">destinationURL</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n    <span class=\"n\">visitDate</span> <span class=\"nb\">Date</span><span class=\"p\">,</span>\n    <span class=\"n\">adRevenue</span> <span class=\"n\">Float32</span><span class=\"p\">,</span>\n    <span class=\"n\">UserAgent</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n    <span class=\"n\">cCode</span> <span class=\"n\">FixedString</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">),</span>\n    <span class=\"n\">lCode</span> <span class=\"n\">FixedString</span><span class=\"p\">(</span><span class=\"mi\">6</span><span class=\"p\">),</span>\n    <span class=\"n\">searchWord</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n    <span class=\"n\">duration</span> <span class=\"n\">UInt32</span>\n<span class=\"p\">)</span> <span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">MergeTree</span><span class=\"p\">(</span><span class=\"n\">visitDate</span><span class=\"p\">,</span> <span class=\"n\">visitDate</span><span class=\"p\">,</span> <span class=\"mi\">8192</span><span class=\"p\">);</span>\n\n<span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">rankings_5nodes_on_single</span>\n<span class=\"p\">(</span>\n    <span class=\"n\">pageURL</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n    <span class=\"n\">pageRank</span> <span class=\"n\">UInt32</span><span class=\"p\">,</span>\n    <span class=\"n\">avgDuration</span> <span class=\"n\">UInt32</span>\n<span class=\"p\">)</span> <span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">Log</span><span class=\"p\">;</span>\n\n<span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">uservisits_5nodes_on_single</span>\n<span class=\"p\">(</span>\n    <span class=\"n\">sourceIP</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n    <span class=\"n\">destinationURL</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n    <span class=\"n\">visitDate</span> <span class=\"nb\">Date</span><span class=\"p\">,</span>\n    <span class=\"n\">adRevenue</span> <span class=\"n\">Float32</span><span class=\"p\">,</span>\n    <span class=\"n\">UserAgent</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n    <span class=\"n\">cCode</span> <span class=\"n\">FixedString</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">),</span>\n    <span class=\"n\">lCode</span> <span class=\"n\">FixedString</span><span class=\"p\">(</span><span class=\"mi\">6</span><span class=\"p\">),</span>\n    <span class=\"n\">searchWord</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n    <span class=\"n\">duration</span> <span class=\"n\">UInt32</span>\n<span class=\"p\">)</span> <span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">MergeTree</span><span class=\"p\">(</span><span class=\"n\">visitDate</span><span class=\"p\">,</span> <span class=\"n\">visitDate</span><span class=\"p\">,</span> <span class=\"mi\">8192</span><span class=\"p\">);</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u0628\u0647 \u06a9\u0646\u0633\u0648\u0644 \u0628\u0631\u06af\u0631\u062f\u06cc\u062f \u0648 \u062f\u0633\u062a\u0648\u0631\u0627\u062a \u0632\u06cc\u0631 \u0631\u0627 \u0645\u062c\u062f\u062f\u0627 \u0627\u062c\u0631\u0627 \u06a9\u0646\u06cc\u062f:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">for</span> i in tiny/rankings/*.deflate<span class=\"p\">;</span> <span class=\"k\">do</span> <span class=\"nb\">echo</span> <span class=\"nv\">$i</span><span class=\"p\">;</span> zlib-flate -uncompress &lt; <span class=\"nv\">$i</span> <span class=\"p\">|</span> clickhouse-client --host<span class=\"o\">=</span>example-perftest01j --query<span class=\"o\">=</span><span class=\"s2\">&quot;INSERT INTO rankings_tiny FORMAT CSV&quot;</span><span class=\"p\">;</span> <span class=\"k\">done</span>\n<span class=\"k\">for</span> i in tiny/uservisits/*.deflate<span class=\"p\">;</span> <span class=\"k\">do</span> <span class=\"nb\">echo</span> <span class=\"nv\">$i</span><span class=\"p\">;</span> zlib-flate -uncompress &lt; <span class=\"nv\">$i</span> <span class=\"p\">|</span> clickhouse-client --host<span class=\"o\">=</span>example-perftest01j --query<span class=\"o\">=</span><span class=\"s2\">&quot;INSERT INTO uservisits_tiny FORMAT CSV&quot;</span><span class=\"p\">;</span> <span class=\"k\">done</span>\n<span class=\"k\">for</span> i in 1node/rankings/*.deflate<span class=\"p\">;</span> <span class=\"k\">do</span> <span class=\"nb\">echo</span> <span class=\"nv\">$i</span><span class=\"p\">;</span> zlib-flate -uncompress &lt; <span class=\"nv\">$i</span> <span class=\"p\">|</span> clickhouse-client --host<span class=\"o\">=</span>example-perftest01j --query<span class=\"o\">=</span><span class=\"s2\">&quot;INSERT INTO rankings_1node FORMAT CSV&quot;</span><span class=\"p\">;</span> <span class=\"k\">done</span>\n<span class=\"k\">for</span> i in 1node/uservisits/*.deflate<span class=\"p\">;</span> <span class=\"k\">do</span> <span class=\"nb\">echo</span> <span class=\"nv\">$i</span><span class=\"p\">;</span> zlib-flate -uncompress &lt; <span class=\"nv\">$i</span> <span class=\"p\">|</span> clickhouse-client --host<span class=\"o\">=</span>example-perftest01j --query<span class=\"o\">=</span><span class=\"s2\">&quot;INSERT INTO uservisits_1node FORMAT CSV&quot;</span><span class=\"p\">;</span> <span class=\"k\">done</span>\n<span class=\"k\">for</span> i in 5nodes/rankings/*.deflate<span class=\"p\">;</span> <span class=\"k\">do</span> <span class=\"nb\">echo</span> <span class=\"nv\">$i</span><span class=\"p\">;</span> zlib-flate -uncompress &lt; <span class=\"nv\">$i</span> <span class=\"p\">|</span> clickhouse-client --host<span class=\"o\">=</span>example-perftest01j --query<span class=\"o\">=</span><span class=\"s2\">&quot;INSERT INTO rankings_5nodes_on_single FORMAT CSV&quot;</span><span class=\"p\">;</span> <span class=\"k\">done</span>\n<span class=\"k\">for</span> i in 5nodes/uservisits/*.deflate<span class=\"p\">;</span> <span class=\"k\">do</span> <span class=\"nb\">echo</span> <span class=\"nv\">$i</span><span class=\"p\">;</span> zlib-flate -uncompress &lt; <span class=\"nv\">$i</span> <span class=\"p\">|</span> clickhouse-client --host<span class=\"o\">=</span>example-perftest01j --query<span class=\"o\">=</span><span class=\"s2\">&quot;INSERT INTO uservisits_5nodes_on_single FORMAT CSV&quot;</span><span class=\"p\">;</span> <span class=\"k\">done</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>query \u0647\u0627\u06cc \u06af\u0631\u0641\u062a\u0646 data sample</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">pageURL</span><span class=\"p\">,</span> <span class=\"n\">pageRank</span> <span class=\"k\">FROM</span> <span class=\"n\">rankings_1node</span> <span class=\"k\">WHERE</span> <span class=\"n\">pageRank</span> <span class=\"o\">&gt;</span> <span class=\"mi\">1000</span>\n\n<span class=\"k\">SELECT</span> <span class=\"k\">substring</span><span class=\"p\">(</span><span class=\"n\">sourceIP</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">8</span><span class=\"p\">),</span> <span class=\"k\">sum</span><span class=\"p\">(</span><span class=\"n\">adRevenue</span><span class=\"p\">)</span> <span class=\"k\">FROM</span> <span class=\"n\">uservisits_1node</span> <span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"k\">substring</span><span class=\"p\">(</span><span class=\"n\">sourceIP</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">8</span><span class=\"p\">)</span>\n\n<span class=\"k\">SELECT</span>\n    <span class=\"n\">sourceIP</span><span class=\"p\">,</span>\n    <span class=\"k\">sum</span><span class=\"p\">(</span><span class=\"n\">adRevenue</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">totalRevenue</span><span class=\"p\">,</span>\n    <span class=\"k\">avg</span><span class=\"p\">(</span><span class=\"n\">pageRank</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">pageRank</span>\n<span class=\"k\">FROM</span> <span class=\"n\">rankings_1node</span> <span class=\"k\">ALL</span> <span class=\"k\">INNER</span> <span class=\"k\">JOIN</span>\n<span class=\"p\">(</span>\n    <span class=\"k\">SELECT</span>\n        <span class=\"n\">sourceIP</span><span class=\"p\">,</span>\n        <span class=\"n\">destinationURL</span> <span class=\"k\">AS</span> <span class=\"n\">pageURL</span><span class=\"p\">,</span>\n        <span class=\"n\">adRevenue</span>\n    <span class=\"k\">FROM</span> <span class=\"n\">uservisits_1node</span>\n    <span class=\"k\">WHERE</span> <span class=\"p\">(</span><span class=\"n\">visitDate</span> <span class=\"o\">&gt;</span> <span class=\"s1\">&#39;1980-01-01&#39;</span><span class=\"p\">)</span> <span class=\"k\">AND</span> <span class=\"p\">(</span><span class=\"n\">visitDate</span> <span class=\"o\">&lt;</span> <span class=\"s1\">&#39;1980-04-01&#39;</span><span class=\"p\">)</span>\n<span class=\"p\">)</span> <span class=\"k\">USING</span> <span class=\"n\">pageURL</span>\n<span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">sourceIP</span>\n<span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"n\">totalRevenue</span> <span class=\"k\">DESC</span>\n<span class=\"k\">LIMIT</span> <span class=\"mi\">1</span>\n</pre></div>\n\n\n<p><a name=\"example_datasets/wikistat/\"></a>\n<a name=\"../../../../example_datasets/wikistat/\"></a>\n<a name=\"../../../example_datasets/wikistat/\"></a>\n<a name=\"../getting_started/example_datasets/wikistat/\"></a>\n<a name=\"wikistat/\"></a>\n<a name=\"../../../getting_started/example_datasets/wikistat/\"></a>\n<a name=\"../../../../../example_datasets/wikistat/\"></a>\n<a name=\"getting_started/example_datasets/wikistat/\"></a>\n<a name=\"../../example_datasets/wikistat/\"></a>\n<a name=\"../example_datasets/wikistat/\"></a>\n<a name=\"../../../../getting_started/example_datasets/wikistat/\"></a>\n<a name=\"../../getting_started/example_datasets/wikistat/\"></a>\n<a name=\"../../../../../getting_started/example_datasets/wikistat/\"></a>\n<a name=\"../../../../../../example_datasets/wikistat/\"></a></p>\n<div dir=\"rtl\">\n<h2 id=\"wikistat\">WikiStat<a class=\"headerlink\" href=\"#wikistat\" title=\"Permanent link\">&para;</a></h2>\n<p>\u0628\u0628\u06cc\u0646\u06cc\u062f: <a href=\"http://dumps.wikimedia.org/other/pagecounts-raw/\" rel=\"external nofollow\">http://dumps.wikimedia.org/other/pagecounts-raw/</a></p>\n<p>\u0633\u0627\u062e\u062a \u062c\u062f\u0648\u0644:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">wikistat</span>\n<span class=\"p\">(</span>\n    <span class=\"nb\">date</span> <span class=\"nb\">Date</span><span class=\"p\">,</span>\n    <span class=\"n\">time</span> <span class=\"n\">DateTime</span><span class=\"p\">,</span>\n    <span class=\"n\">project</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n    <span class=\"n\">subproject</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n    <span class=\"n\">path</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n    <span class=\"n\">hits</span> <span class=\"n\">UInt64</span><span class=\"p\">,</span>\n    <span class=\"k\">size</span> <span class=\"n\">UInt64</span>\n<span class=\"p\">)</span> <span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">MergeTree</span><span class=\"p\">(</span><span class=\"nb\">date</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"n\">path</span><span class=\"p\">,</span> <span class=\"n\">time</span><span class=\"p\">),</span> <span class=\"mi\">8192</span><span class=\"p\">);</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>load \u062f\u06cc\u062a\u0627</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">for</span> i in <span class=\"o\">{</span><span class=\"m\">2007</span>..2016<span class=\"o\">}</span><span class=\"p\">;</span> <span class=\"k\">do</span> <span class=\"k\">for</span> j in <span class=\"o\">{</span><span class=\"m\">01</span>..12<span class=\"o\">}</span><span class=\"p\">;</span> <span class=\"k\">do</span> <span class=\"nb\">echo</span> <span class=\"nv\">$i</span>-<span class=\"nv\">$j</span> &gt;<span class=\"p\">&amp;</span><span class=\"m\">2</span><span class=\"p\">;</span> curl -sSL <span class=\"s2\">&quot;http://dumps.wikimedia.org/other/pagecounts-raw/</span><span class=\"nv\">$i</span><span class=\"s2\">/</span><span class=\"nv\">$i</span><span class=\"s2\">-</span><span class=\"nv\">$j</span><span class=\"s2\">/&quot;</span> <span class=\"p\">|</span> grep -oE <span class=\"s1\">&#39;pagecounts-[0-9]+-[0-9]+\\.gz&#39;</span><span class=\"p\">;</span> <span class=\"k\">done</span><span class=\"p\">;</span> <span class=\"k\">done</span> <span class=\"p\">|</span> sort <span class=\"p\">|</span> uniq <span class=\"p\">|</span> tee links.txt\ncat links.txt <span class=\"p\">|</span> <span class=\"k\">while</span> <span class=\"nb\">read</span> link<span class=\"p\">;</span> <span class=\"k\">do</span> wget http://dumps.wikimedia.org/other/pagecounts-raw/<span class=\"k\">$(</span><span class=\"nb\">echo</span> <span class=\"nv\">$link</span> <span class=\"p\">|</span> sed -r <span class=\"s1\">&#39;s/pagecounts-([0-9]{4})([0-9]{2})[0-9]{2}-[0-9]+\\.gz/\\1/&#39;</span><span class=\"k\">)</span>/<span class=\"k\">$(</span><span class=\"nb\">echo</span> <span class=\"nv\">$link</span> <span class=\"p\">|</span> sed -r <span class=\"s1\">&#39;s/pagecounts-([0-9]{4})([0-9]{2})[0-9]{2}-[0-9]+\\.gz/\\1-\\2/&#39;</span><span class=\"k\">)</span>/<span class=\"nv\">$link</span><span class=\"p\">;</span> <span class=\"k\">done</span>\nls -1 /opt/wikistat/ <span class=\"p\">|</span> grep gz <span class=\"p\">|</span> <span class=\"k\">while</span> <span class=\"nb\">read</span> i<span class=\"p\">;</span> <span class=\"k\">do</span> <span class=\"nb\">echo</span> <span class=\"nv\">$i</span><span class=\"p\">;</span> gzip -cd /opt/wikistat/<span class=\"nv\">$i</span> <span class=\"p\">|</span> ./wikistat-loader --time<span class=\"o\">=</span><span class=\"s2\">&quot;</span><span class=\"k\">$(</span><span class=\"nb\">echo</span> -n <span class=\"nv\">$i</span> <span class=\"p\">|</span> sed -r <span class=\"s1\">&#39;s/pagecounts-([0-9]{4})([0-9]{2})([0-9]{2})-([0-9]{2})([0-9]{2})([0-9]{2})\\.gz/\\1-\\2-\\3 \\4-00-00/&#39;</span><span class=\"k\">)</span><span class=\"s2\">&quot;</span> <span class=\"p\">|</span> clickhouse-client --query<span class=\"o\">=</span><span class=\"s2\">&quot;INSERT INTO wikistat FORMAT TabSeparated&quot;</span><span class=\"p\">;</span> <span class=\"k\">done</span>\n</pre></div>\n\n\n<p><a name=\"../../../../../../example_datasets/criteo/\"></a>\n<a name=\"getting_started/example_datasets/criteo/\"></a>\n<a name=\"../../../../../getting_started/example_datasets/criteo/\"></a>\n<a name=\"../../../../example_datasets/criteo/\"></a>\n<a name=\"../../../getting_started/example_datasets/criteo/\"></a>\n<a name=\"example_datasets/criteo/\"></a>\n<a name=\"../../../example_datasets/criteo/\"></a>\n<a name=\"../../getting_started/example_datasets/criteo/\"></a>\n<a name=\"../example_datasets/criteo/\"></a>\n<a name=\"../../example_datasets/criteo/\"></a>\n<a name=\"../../../../getting_started/example_datasets/criteo/\"></a>\n<a name=\"../../../../../example_datasets/criteo/\"></a>\n<a name=\"criteo/\"></a>\n<a name=\"../getting_started/example_datasets/criteo/\"></a></p>\n<div dir=\"rtl\">\n<h2 id=\"trbyt-z-lg-hy-khlykh-z-srwys-criteo\">\u062a\u0631\u0627\u0628\u0627\u06cc\u062a \u0627\u0632 \u0644\u0627\u06af \u0647\u0627\u06cc \u06a9\u0644\u06cc\u06a9 \u0627\u0632 \u0633\u0631\u0648\u06cc\u0633 Criteo<a class=\"headerlink\" href=\"#trbyt-z-lg-hy-khlykh-z-srwys-criteo\" title=\"Permanent link\">&para;</a></h2>\n<p>\u062f\u0627\u062f\u0647 \u0647\u0627 \u0631\u0627 \u0627\u0632 <a href=\"http://labs.criteo.com/downloads/download-terabyte-click-logs/\" rel=\"external nofollow\">http://labs.criteo.com/downloads/download-terabyte-click-logs/</a> \u062f\u0627\u0646\u0644\u0648\u062f \u06a9\u0646\u06cc\u062f.</p>\n<p>\u062c\u062f\u0648\u0644 \u0631\u0627 \u0628\u0631\u0627\u06cc import \u0644\u0627\u06af \u0647\u0627 \u0627\u06cc\u062c\u0627\u062f \u06a9\u0646\u06cc\u062f:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">criteo_log</span> <span class=\"p\">(</span><span class=\"nb\">date</span> <span class=\"nb\">Date</span><span class=\"p\">,</span> <span class=\"n\">clicked</span> <span class=\"n\">UInt8</span><span class=\"p\">,</span> <span class=\"n\">int1</span> <span class=\"n\">Int32</span><span class=\"p\">,</span> <span class=\"n\">int2</span> <span class=\"n\">Int32</span><span class=\"p\">,</span> <span class=\"n\">int3</span> <span class=\"n\">Int32</span><span class=\"p\">,</span> <span class=\"n\">int4</span> <span class=\"n\">Int32</span><span class=\"p\">,</span> <span class=\"n\">int5</span> <span class=\"n\">Int32</span><span class=\"p\">,</span> <span class=\"n\">int6</span> <span class=\"n\">Int32</span><span class=\"p\">,</span> <span class=\"n\">int7</span> <span class=\"n\">Int32</span><span class=\"p\">,</span> <span class=\"nb\">int8</span> <span class=\"n\">Int32</span><span class=\"p\">,</span> <span class=\"n\">int9</span> <span class=\"n\">Int32</span><span class=\"p\">,</span> <span class=\"n\">int10</span> <span class=\"n\">Int32</span><span class=\"p\">,</span> <span class=\"n\">int11</span> <span class=\"n\">Int32</span><span class=\"p\">,</span> <span class=\"n\">int12</span> <span class=\"n\">Int32</span><span class=\"p\">,</span> <span class=\"n\">int13</span> <span class=\"n\">Int32</span><span class=\"p\">,</span> <span class=\"n\">cat1</span> <span class=\"n\">String</span><span class=\"p\">,</span> <span class=\"n\">cat2</span> <span class=\"n\">String</span><span class=\"p\">,</span> <span class=\"n\">cat3</span> <span class=\"n\">String</span><span class=\"p\">,</span> <span class=\"n\">cat4</span> <span class=\"n\">String</span><span class=\"p\">,</span> <span class=\"n\">cat5</span> <span class=\"n\">String</span><span class=\"p\">,</span> <span class=\"n\">cat6</span> <span class=\"n\">String</span><span class=\"p\">,</span> <span class=\"n\">cat7</span> <span class=\"n\">String</span><span class=\"p\">,</span> <span class=\"n\">cat8</span> <span class=\"n\">String</span><span class=\"p\">,</span> <span class=\"n\">cat9</span> <span class=\"n\">String</span><span class=\"p\">,</span> <span class=\"n\">cat10</span> <span class=\"n\">String</span><span class=\"p\">,</span> <span class=\"n\">cat11</span> <span class=\"n\">String</span><span class=\"p\">,</span> <span class=\"n\">cat12</span> <span class=\"n\">String</span><span class=\"p\">,</span> <span class=\"n\">cat13</span> <span class=\"n\">String</span><span class=\"p\">,</span> <span class=\"n\">cat14</span> <span class=\"n\">String</span><span class=\"p\">,</span> <span class=\"n\">cat15</span> <span class=\"n\">String</span><span class=\"p\">,</span> <span class=\"n\">cat16</span> <span class=\"n\">String</span><span class=\"p\">,</span> <span class=\"n\">cat17</span> <span class=\"n\">String</span><span class=\"p\">,</span> <span class=\"n\">cat18</span> <span class=\"n\">String</span><span class=\"p\">,</span> <span class=\"n\">cat19</span> <span class=\"n\">String</span><span class=\"p\">,</span> <span class=\"n\">cat20</span> <span class=\"n\">String</span><span class=\"p\">,</span> <span class=\"n\">cat21</span> <span class=\"n\">String</span><span class=\"p\">,</span> <span class=\"n\">cat22</span> <span class=\"n\">String</span><span class=\"p\">,</span> <span class=\"n\">cat23</span> <span class=\"n\">String</span><span class=\"p\">,</span> <span class=\"n\">cat24</span> <span class=\"n\">String</span><span class=\"p\">,</span> <span class=\"n\">cat25</span> <span class=\"n\">String</span><span class=\"p\">,</span> <span class=\"n\">cat26</span> <span class=\"n\">String</span><span class=\"p\">)</span> <span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">Log</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u062f\u0627\u062f\u0647 \u0647\u0627 \u0631\u0627 \u062f\u0627\u0646\u0644\u0648\u062f \u06a9\u0646\u06cc\u062f:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">for</span> i in <span class=\"o\">{</span><span class=\"m\">00</span>..23<span class=\"o\">}</span><span class=\"p\">;</span> <span class=\"k\">do</span> <span class=\"nb\">echo</span> <span class=\"nv\">$i</span><span class=\"p\">;</span> zcat datasets/criteo/day_<span class=\"si\">${</span><span class=\"nv\">i</span><span class=\"p\">#0</span><span class=\"si\">}</span>.gz <span class=\"p\">|</span> sed -r <span class=\"s1\">&#39;s/^/2000-01-&#39;</span><span class=\"si\">${</span><span class=\"nv\">i</span><span class=\"p\">/00/24</span><span class=\"si\">}</span><span class=\"s1\">&#39;\\t/&#39;</span> <span class=\"p\">|</span> clickhouse-client --host<span class=\"o\">=</span>example-perftest01j --query<span class=\"o\">=</span><span class=\"s2\">&quot;INSERT INTO criteo_log FORMAT TabSeparated&quot;</span><span class=\"p\">;</span> <span class=\"k\">done</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u06cc\u06a9 \u062c\u062f\u0648\u0644 \u0628\u0631\u0627\u06cc \u062f\u0627\u062f\u0647 \u0647\u0627\u06cc \u062a\u0628\u062f\u06cc\u0644 \u0634\u062f\u0647 \u0627\u06cc\u062c\u0627\u062f \u06a9\u0646\u06cc\u062f:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">criteo</span>\n<span class=\"p\">(</span>\n    <span class=\"nb\">date</span> <span class=\"nb\">Date</span><span class=\"p\">,</span>\n    <span class=\"n\">clicked</span> <span class=\"n\">UInt8</span><span class=\"p\">,</span>\n    <span class=\"n\">int1</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n    <span class=\"n\">int2</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n    <span class=\"n\">int3</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n    <span class=\"n\">int4</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n    <span class=\"n\">int5</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n    <span class=\"n\">int6</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n    <span class=\"n\">int7</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n    <span class=\"nb\">int8</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n    <span class=\"n\">int9</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n    <span class=\"n\">int10</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n    <span class=\"n\">int11</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n    <span class=\"n\">int12</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n    <span class=\"n\">int13</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n    <span class=\"n\">icat1</span> <span class=\"n\">UInt32</span><span class=\"p\">,</span>\n    <span class=\"n\">icat2</span> <span class=\"n\">UInt32</span><span class=\"p\">,</span>\n    <span class=\"n\">icat3</span> <span class=\"n\">UInt32</span><span class=\"p\">,</span>\n    <span class=\"n\">icat4</span> <span class=\"n\">UInt32</span><span class=\"p\">,</span>\n    <span class=\"n\">icat5</span> <span class=\"n\">UInt32</span><span class=\"p\">,</span>\n    <span class=\"n\">icat6</span> <span class=\"n\">UInt32</span><span class=\"p\">,</span>\n    <span class=\"n\">icat7</span> <span class=\"n\">UInt32</span><span class=\"p\">,</span>\n    <span class=\"n\">icat8</span> <span class=\"n\">UInt32</span><span class=\"p\">,</span>\n    <span class=\"n\">icat9</span> <span class=\"n\">UInt32</span><span class=\"p\">,</span>\n    <span class=\"n\">icat10</span> <span class=\"n\">UInt32</span><span class=\"p\">,</span>\n    <span class=\"n\">icat11</span> <span class=\"n\">UInt32</span><span class=\"p\">,</span>\n    <span class=\"n\">icat12</span> <span class=\"n\">UInt32</span><span class=\"p\">,</span>\n    <span class=\"n\">icat13</span> <span class=\"n\">UInt32</span><span class=\"p\">,</span>\n    <span class=\"n\">icat14</span> <span class=\"n\">UInt32</span><span class=\"p\">,</span>\n    <span class=\"n\">icat15</span> <span class=\"n\">UInt32</span><span class=\"p\">,</span>\n    <span class=\"n\">icat16</span> <span class=\"n\">UInt32</span><span class=\"p\">,</span>\n    <span class=\"n\">icat17</span> <span class=\"n\">UInt32</span><span class=\"p\">,</span>\n    <span class=\"n\">icat18</span> <span class=\"n\">UInt32</span><span class=\"p\">,</span>\n    <span class=\"n\">icat19</span> <span class=\"n\">UInt32</span><span class=\"p\">,</span>\n    <span class=\"n\">icat20</span> <span class=\"n\">UInt32</span><span class=\"p\">,</span>\n    <span class=\"n\">icat21</span> <span class=\"n\">UInt32</span><span class=\"p\">,</span>\n    <span class=\"n\">icat22</span> <span class=\"n\">UInt32</span><span class=\"p\">,</span>\n    <span class=\"n\">icat23</span> <span class=\"n\">UInt32</span><span class=\"p\">,</span>\n    <span class=\"n\">icat24</span> <span class=\"n\">UInt32</span><span class=\"p\">,</span>\n    <span class=\"n\">icat25</span> <span class=\"n\">UInt32</span><span class=\"p\">,</span>\n    <span class=\"n\">icat26</span> <span class=\"n\">UInt32</span>\n<span class=\"p\">)</span> <span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">MergeTree</span><span class=\"p\">(</span><span class=\"nb\">date</span><span class=\"p\">,</span> <span class=\"n\">intHash32</span><span class=\"p\">(</span><span class=\"n\">icat1</span><span class=\"p\">),</span> <span class=\"p\">(</span><span class=\"nb\">date</span><span class=\"p\">,</span> <span class=\"n\">intHash32</span><span class=\"p\">(</span><span class=\"n\">icat1</span><span class=\"p\">)),</span> <span class=\"mi\">8192</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u062f\u0627\u062f\u0647 \u0647\u0627 \u0631\u0627 \u0627\u0632 \u0644\u0627\u06af raw \u0627\u0646\u062a\u0642\u0627\u0644 \u0648 \u0628\u0647 \u062c\u062f\u0648\u0644 \u062f\u0648\u0645 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">INSERT</span> <span class=\"k\">INTO</span> <span class=\"n\">criteo</span> <span class=\"k\">SELECT</span> <span class=\"nb\">date</span><span class=\"p\">,</span> <span class=\"n\">clicked</span><span class=\"p\">,</span> <span class=\"n\">int1</span><span class=\"p\">,</span> <span class=\"n\">int2</span><span class=\"p\">,</span> <span class=\"n\">int3</span><span class=\"p\">,</span> <span class=\"n\">int4</span><span class=\"p\">,</span> <span class=\"n\">int5</span><span class=\"p\">,</span> <span class=\"n\">int6</span><span class=\"p\">,</span> <span class=\"n\">int7</span><span class=\"p\">,</span> <span class=\"nb\">int8</span><span class=\"p\">,</span> <span class=\"n\">int9</span><span class=\"p\">,</span> <span class=\"n\">int10</span><span class=\"p\">,</span> <span class=\"n\">int11</span><span class=\"p\">,</span> <span class=\"n\">int12</span><span class=\"p\">,</span> <span class=\"n\">int13</span><span class=\"p\">,</span> <span class=\"n\">reinterpretAsUInt32</span><span class=\"p\">(</span><span class=\"n\">unhex</span><span class=\"p\">(</span><span class=\"n\">cat1</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">icat1</span><span class=\"p\">,</span> <span class=\"n\">reinterpretAsUInt32</span><span class=\"p\">(</span><span class=\"n\">unhex</span><span class=\"p\">(</span><span class=\"n\">cat2</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">icat2</span><span class=\"p\">,</span> <span class=\"n\">reinterpretAsUInt32</span><span class=\"p\">(</span><span class=\"n\">unhex</span><span class=\"p\">(</span><span class=\"n\">cat3</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">icat3</span><span class=\"p\">,</span> <span class=\"n\">reinterpretAsUInt32</span><span class=\"p\">(</span><span class=\"n\">unhex</span><span class=\"p\">(</span><span class=\"n\">cat4</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">icat4</span><span class=\"p\">,</span> <span class=\"n\">reinterpretAsUInt32</span><span class=\"p\">(</span><span class=\"n\">unhex</span><span class=\"p\">(</span><span class=\"n\">cat5</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">icat5</span><span class=\"p\">,</span> <span class=\"n\">reinterpretAsUInt32</span><span class=\"p\">(</span><span class=\"n\">unhex</span><span class=\"p\">(</span><span class=\"n\">cat6</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">icat6</span><span class=\"p\">,</span> <span class=\"n\">reinterpretAsUInt32</span><span class=\"p\">(</span><span class=\"n\">unhex</span><span class=\"p\">(</span><span class=\"n\">cat7</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">icat7</span><span class=\"p\">,</span> <span class=\"n\">reinterpretAsUInt32</span><span class=\"p\">(</span><span class=\"n\">unhex</span><span class=\"p\">(</span><span class=\"n\">cat8</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">icat8</span><span class=\"p\">,</span> <span class=\"n\">reinterpretAsUInt32</span><span class=\"p\">(</span><span class=\"n\">unhex</span><span class=\"p\">(</span><span class=\"n\">cat9</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">icat9</span><span class=\"p\">,</span> <span class=\"n\">reinterpretAsUInt32</span><span class=\"p\">(</span><span class=\"n\">unhex</span><span class=\"p\">(</span><span class=\"n\">cat10</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">icat10</span><span class=\"p\">,</span> <span class=\"n\">reinterpretAsUInt32</span><span class=\"p\">(</span><span class=\"n\">unhex</span><span class=\"p\">(</span><span class=\"n\">cat11</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">icat11</span><span class=\"p\">,</span> <span class=\"n\">reinterpretAsUInt32</span><span class=\"p\">(</span><span class=\"n\">unhex</span><span class=\"p\">(</span><span class=\"n\">cat12</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">icat12</span><span class=\"p\">,</span> <span class=\"n\">reinterpretAsUInt32</span><span class=\"p\">(</span><span class=\"n\">unhex</span><span class=\"p\">(</span><span class=\"n\">cat13</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">icat13</span><span class=\"p\">,</span> <span class=\"n\">reinterpretAsUInt32</span><span class=\"p\">(</span><span class=\"n\">unhex</span><span class=\"p\">(</span><span class=\"n\">cat14</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">icat14</span><span class=\"p\">,</span> <span class=\"n\">reinterpretAsUInt32</span><span class=\"p\">(</span><span class=\"n\">unhex</span><span class=\"p\">(</span><span class=\"n\">cat15</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">icat15</span><span class=\"p\">,</span> <span class=\"n\">reinterpretAsUInt32</span><span class=\"p\">(</span><span class=\"n\">unhex</span><span class=\"p\">(</span><span class=\"n\">cat16</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">icat16</span><span class=\"p\">,</span> <span class=\"n\">reinterpretAsUInt32</span><span class=\"p\">(</span><span class=\"n\">unhex</span><span class=\"p\">(</span><span class=\"n\">cat17</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">icat17</span><span class=\"p\">,</span> <span class=\"n\">reinterpretAsUInt32</span><span class=\"p\">(</span><span class=\"n\">unhex</span><span class=\"p\">(</span><span class=\"n\">cat18</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">icat18</span><span class=\"p\">,</span> <span class=\"n\">reinterpretAsUInt32</span><span class=\"p\">(</span><span class=\"n\">unhex</span><span class=\"p\">(</span><span class=\"n\">cat19</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">icat19</span><span class=\"p\">,</span> <span class=\"n\">reinterpretAsUInt32</span><span class=\"p\">(</span><span class=\"n\">unhex</span><span class=\"p\">(</span><span class=\"n\">cat20</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">icat20</span><span class=\"p\">,</span> <span class=\"n\">reinterpretAsUInt32</span><span class=\"p\">(</span><span class=\"n\">unhex</span><span class=\"p\">(</span><span class=\"n\">cat21</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">icat21</span><span class=\"p\">,</span> <span class=\"n\">reinterpretAsUInt32</span><span class=\"p\">(</span><span class=\"n\">unhex</span><span class=\"p\">(</span><span class=\"n\">cat22</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">icat22</span><span class=\"p\">,</span> <span class=\"n\">reinterpretAsUInt32</span><span class=\"p\">(</span><span class=\"n\">unhex</span><span class=\"p\">(</span><span class=\"n\">cat23</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">icat23</span><span class=\"p\">,</span> <span class=\"n\">reinterpretAsUInt32</span><span class=\"p\">(</span><span class=\"n\">unhex</span><span class=\"p\">(</span><span class=\"n\">cat24</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">icat24</span><span class=\"p\">,</span> <span class=\"n\">reinterpretAsUInt32</span><span class=\"p\">(</span><span class=\"n\">unhex</span><span class=\"p\">(</span><span class=\"n\">cat25</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">icat25</span><span class=\"p\">,</span> <span class=\"n\">reinterpretAsUInt32</span><span class=\"p\">(</span><span class=\"n\">unhex</span><span class=\"p\">(</span><span class=\"n\">cat26</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">icat26</span> <span class=\"k\">FROM</span> <span class=\"n\">criteo_log</span><span class=\"p\">;</span>\n\n<span class=\"k\">DROP</span> <span class=\"k\">TABLE</span> <span class=\"n\">criteo_log</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<p><a name=\"../../../../getting_started/example_datasets/star_schema/\"></a>\n<a name=\"../getting_started/example_datasets/star_schema/\"></a>\n<a name=\"../example_datasets/star_schema/\"></a>\n<a name=\"../../getting_started/example_datasets/star_schema/\"></a>\n<a name=\"../../example_datasets/star_schema/\"></a>\n<a name=\"../../../../../getting_started/example_datasets/star_schema/\"></a>\n<a name=\"../../../getting_started/example_datasets/star_schema/\"></a>\n<a name=\"../../../../../example_datasets/star_schema/\"></a>\n<a name=\"../../../example_datasets/star_schema/\"></a>\n<a name=\"../../../../example_datasets/star_schema/\"></a>\n<a name=\"example_datasets/star_schema/\"></a>\n<a name=\"star_schema/\"></a>\n<a name=\"getting_started/example_datasets/star_schema/\"></a>\n<a name=\"../../../../../../example_datasets/star_schema/\"></a></p>\n<div dir=\"rtl\">\n<h2 id=\"bnchmrkh-star-schema\">\u0628\u0646\u0686\u0645\u0627\u0631\u06a9 Star Schema<a class=\"headerlink\" href=\"#bnchmrkh-star-schema\" title=\"Permanent link\">&para;</a></h2>\n<p>\u0627\u0632 \u0644\u06cc\u0646\u06a9 \u0631\u0648\u0628\u0631\u0648 dbgen \u0631\u0648 \u06a9\u0627\u0645\u067e\u0627\u06cc\u0644 \u06a9\u0646\u06cc\u062f. <a href=\"https://github.com/vadimtk/ssb-dbgen\" rel=\"external nofollow\">https://github.com/vadimtk/ssb-dbgen</a></p>\n</div>\n<div class=\"codehilite\"><pre><span></span>git clone git@github.com:vadimtk/ssb-dbgen.git\n<span class=\"nb\">cd</span> ssb-dbgen\nmake\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u062f\u0631 \u0647\u0646\u06af\u0627\u0645 \u067e\u0631\u062f\u0627\u0632\u0634 \u0686\u0646\u062f warnings \u0646\u0645\u0627\u06cc\u0634 \u062f\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f \u06a9\u0647 \u0645\u0634\u06a9\u0644\u06cc \u0646\u06cc\u0633\u062a \u0648 \u0637\u0628\u06cc\u0639\u06cc \u0627\u0633\u062a.</p>\n<p><code>dbgen</code> \u0648 <code>dists.dss</code> \u0631\u0627 \u062f\u0631 \u06cc\u06a9 \u062c\u0627 \u0628\u0627 800 \u06af\u06cc\u06af\u0627\u0628\u0627\u06cc\u062a \u0641\u0636\u0627\u06cc \u062d\u0627\u0644\u06cc \u062f\u06cc\u0633\u06a9 \u0642\u0631\u0627\u0631 \u062f\u0647\u06cc\u062f.</p>\n<p>\u062a\u0648\u0644\u06cc\u062f \u062f\u0627\u062f\u0647 \u0647\u0627:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span>./dbgen -s <span class=\"m\">1000</span> -T c\n./dbgen -s <span class=\"m\">1000</span> -T l\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u0633\u0627\u062e\u062a \u062c\u062f\u0627\u0648\u0644 \u062f\u0631 ClickHouse</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">lineorder</span> <span class=\"p\">(</span>\n        <span class=\"n\">LO_ORDERKEY</span>             <span class=\"n\">UInt32</span><span class=\"p\">,</span>\n        <span class=\"n\">LO_LINENUMBER</span>           <span class=\"n\">UInt8</span><span class=\"p\">,</span>\n        <span class=\"n\">LO_CUSTKEY</span>              <span class=\"n\">UInt32</span><span class=\"p\">,</span>\n        <span class=\"n\">LO_PARTKEY</span>              <span class=\"n\">UInt32</span><span class=\"p\">,</span>\n        <span class=\"n\">LO_SUPPKEY</span>              <span class=\"n\">UInt32</span><span class=\"p\">,</span>\n        <span class=\"n\">LO_ORDERDATE</span>            <span class=\"nb\">Date</span><span class=\"p\">,</span>\n        <span class=\"n\">LO_ORDERPRIORITY</span>        <span class=\"n\">String</span><span class=\"p\">,</span>\n        <span class=\"n\">LO_SHIPPRIORITY</span>         <span class=\"n\">UInt8</span><span class=\"p\">,</span>\n        <span class=\"n\">LO_QUANTITY</span>             <span class=\"n\">UInt8</span><span class=\"p\">,</span>\n        <span class=\"n\">LO_EXTENDEDPRICE</span>        <span class=\"n\">UInt32</span><span class=\"p\">,</span>\n        <span class=\"n\">LO_ORDTOTALPRICE</span>        <span class=\"n\">UInt32</span><span class=\"p\">,</span>\n        <span class=\"n\">LO_DISCOUNT</span>             <span class=\"n\">UInt8</span><span class=\"p\">,</span>\n        <span class=\"n\">LO_REVENUE</span>              <span class=\"n\">UInt32</span><span class=\"p\">,</span>\n        <span class=\"n\">LO_SUPPLYCOST</span>           <span class=\"n\">UInt32</span><span class=\"p\">,</span>\n        <span class=\"n\">LO_TAX</span>                  <span class=\"n\">UInt8</span><span class=\"p\">,</span>\n        <span class=\"n\">LO_COMMITDATE</span>           <span class=\"nb\">Date</span><span class=\"p\">,</span>\n        <span class=\"n\">LO_SHIPMODE</span>             <span class=\"n\">String</span>\n<span class=\"p\">)</span><span class=\"n\">Engine</span><span class=\"o\">=</span><span class=\"n\">MergeTree</span><span class=\"p\">(</span><span class=\"n\">LO_ORDERDATE</span><span class=\"p\">,(</span><span class=\"n\">LO_ORDERKEY</span><span class=\"p\">,</span><span class=\"n\">LO_LINENUMBER</span><span class=\"p\">,</span><span class=\"n\">LO_ORDERDATE</span><span class=\"p\">),</span><span class=\"mi\">8192</span><span class=\"p\">);</span>\n\n<span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">customer</span> <span class=\"p\">(</span>\n        <span class=\"n\">C_CUSTKEY</span>       <span class=\"n\">UInt32</span><span class=\"p\">,</span>\n        <span class=\"n\">C_NAME</span>          <span class=\"n\">String</span><span class=\"p\">,</span>\n        <span class=\"n\">C_ADDRESS</span>       <span class=\"n\">String</span><span class=\"p\">,</span>\n        <span class=\"n\">C_CITY</span>          <span class=\"n\">String</span><span class=\"p\">,</span>\n        <span class=\"n\">C_NATION</span>        <span class=\"n\">String</span><span class=\"p\">,</span>\n        <span class=\"n\">C_REGION</span>        <span class=\"n\">String</span><span class=\"p\">,</span>\n        <span class=\"n\">C_PHONE</span>         <span class=\"n\">String</span><span class=\"p\">,</span>\n        <span class=\"n\">C_MKTSEGMENT</span>    <span class=\"n\">String</span><span class=\"p\">,</span>\n        <span class=\"n\">C_FAKEDATE</span>      <span class=\"nb\">Date</span>\n<span class=\"p\">)</span><span class=\"n\">Engine</span><span class=\"o\">=</span><span class=\"n\">MergeTree</span><span class=\"p\">(</span><span class=\"n\">C_FAKEDATE</span><span class=\"p\">,(</span><span class=\"n\">C_CUSTKEY</span><span class=\"p\">,</span><span class=\"n\">C_FAKEDATE</span><span class=\"p\">),</span><span class=\"mi\">8192</span><span class=\"p\">);</span>\n\n<span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">part</span> <span class=\"p\">(</span>\n        <span class=\"n\">P_PARTKEY</span>       <span class=\"n\">UInt32</span><span class=\"p\">,</span>\n        <span class=\"n\">P_NAME</span>          <span class=\"n\">String</span><span class=\"p\">,</span>\n        <span class=\"n\">P_MFGR</span>          <span class=\"n\">String</span><span class=\"p\">,</span>\n        <span class=\"n\">P_CATEGORY</span>      <span class=\"n\">String</span><span class=\"p\">,</span>\n        <span class=\"n\">P_BRAND</span>         <span class=\"n\">String</span><span class=\"p\">,</span>\n        <span class=\"n\">P_COLOR</span>         <span class=\"n\">String</span><span class=\"p\">,</span>\n        <span class=\"n\">P_TYPE</span>          <span class=\"n\">String</span><span class=\"p\">,</span>\n        <span class=\"n\">P_SIZE</span>          <span class=\"n\">UInt8</span><span class=\"p\">,</span>\n        <span class=\"n\">P_CONTAINER</span>     <span class=\"n\">String</span><span class=\"p\">,</span>\n        <span class=\"n\">P_FAKEDATE</span>      <span class=\"nb\">Date</span>\n<span class=\"p\">)</span><span class=\"n\">Engine</span><span class=\"o\">=</span><span class=\"n\">MergeTree</span><span class=\"p\">(</span><span class=\"n\">P_FAKEDATE</span><span class=\"p\">,(</span><span class=\"n\">P_PARTKEY</span><span class=\"p\">,</span><span class=\"n\">P_FAKEDATE</span><span class=\"p\">),</span><span class=\"mi\">8192</span><span class=\"p\">);</span>\n\n<span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">lineorderd</span> <span class=\"k\">AS</span> <span class=\"n\">lineorder</span> <span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">Distributed</span><span class=\"p\">(</span><span class=\"n\">perftest_3shards_1replicas</span><span class=\"p\">,</span> <span class=\"k\">default</span><span class=\"p\">,</span> <span class=\"n\">lineorder</span><span class=\"p\">,</span> <span class=\"n\">rand</span><span class=\"p\">());</span>\n<span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">customerd</span> <span class=\"k\">AS</span> <span class=\"n\">customer</span> <span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">Distributed</span><span class=\"p\">(</span><span class=\"n\">perftest_3shards_1replicas</span><span class=\"p\">,</span> <span class=\"k\">default</span><span class=\"p\">,</span> <span class=\"n\">customer</span><span class=\"p\">,</span> <span class=\"n\">rand</span><span class=\"p\">());</span>\n<span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">partd</span> <span class=\"k\">AS</span> <span class=\"n\">part</span> <span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">Distributed</span><span class=\"p\">(</span><span class=\"n\">perftest_3shards_1replicas</span><span class=\"p\">,</span> <span class=\"k\">default</span><span class=\"p\">,</span> <span class=\"n\">part</span><span class=\"p\">,</span> <span class=\"n\">rand</span><span class=\"p\">());</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u0628\u0631\u0627\u06cc \u062a\u0633\u062a \u0628\u0631 \u0631\u0648\u06cc \u06cc\u06a9 \u0633\u0631\u0648\u0631\u060c \u0641\u0642\u0637 \u0627\u0632 \u062c\u062f\u0627\u0648\u0644 MergeTree \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u062f. \u0628\u0631\u0627\u06cc \u062a\u0633\u062a \u062a\u0648\u0632\u06cc\u0639 \u0634\u062f\u0647\u060c \u0634\u0645\u0627 \u0646\u06cc\u0627\u0632 \u0628\u0647 \u06a9\u0627\u0646\u0641\u06cc\u06af <code>perftest_3shards_1replicas</code> \u062f\u0631 \u0641\u0627\u06cc\u0644 \u06a9\u0627\u0646\u0641\u06cc\u06af \u0631\u0627 \u062f\u0627\u0631\u06cc\u062f. \u062f\u0631 \u0627\u062f\u0627\u0645\u0647 \u062c\u062f\u0627\u0648\u0644 MergeTree \u0631\u0627 \u062f\u0631 \u0647\u0631 \u0633\u0631\u0648\u0631 \u0627\u06cc\u062c\u0627\u062f \u06a9\u0646\u06cc\u062f \u0648 \u0645\u0648\u0627\u0631\u062f \u0628\u0627\u0644\u0627 \u0631\u0627 \u062a\u0648\u0632\u06cc\u0639 \u06a9\u0646\u06cc\u062f.</p>\n<p>\u062f\u0627\u0646\u0644\u0648\u062f \u062f\u0627\u062f\u0647 \u0647\u0627 (\u062a\u063a\u06cc\u06cc\u0631 <code>customer</code> \u0628\u0647 <code>customerd</code> \u062f\u0631 \u0646\u0633\u062e\u0647 \u06cc \u062a\u0648\u0632\u06cc\u0639 \u0634\u062f\u0647):</p>\n</div>\n<div class=\"codehilite\"><pre><span></span>cat customer.tbl <span class=\"p\">|</span> sed <span class=\"s1\">&#39;s/$/2000-01-01/&#39;</span> <span class=\"p\">|</span> clickhouse-client --query <span class=\"s2\">&quot;INSERT INTO customer FORMAT CSV&quot;</span>\ncat lineorder.tbl <span class=\"p\">|</span> clickhouse-client --query <span class=\"s2\">&quot;INSERT INTO lineorder FORMAT CSV&quot;</span>\n</pre></div>\n\n\n<p><a name=\"../../../example_datasets/metrica/\"></a>\n<a name=\"../../../../getting_started/example_datasets/metrica/\"></a>\n<a name=\"metrica/\"></a>\n<a name=\"../../../../example_datasets/metrica/\"></a>\n<a name=\"../../getting_started/example_datasets/metrica/\"></a>\n<a name=\"../../../../../example_datasets/metrica/\"></a>\n<a name=\"../getting_started/example_datasets/metrica/\"></a>\n<a name=\"../example_datasets/metrica/\"></a>\n<a name=\"../../../getting_started/example_datasets/metrica/\"></a>\n<a name=\"../../../../../../example_datasets/metrica/\"></a>\n<a name=\"../../example_datasets/metrica/\"></a>\n<a name=\"getting_started/example_datasets/metrica/\"></a>\n<a name=\"example_datasets/metrica/\"></a>\n<a name=\"../../../../../getting_started/example_datasets/metrica/\"></a></p>\n<h2 id=\"anonymized-yandex-metrica-data\">Anonymized Yandex.Metrica Data<a class=\"headerlink\" href=\"#anonymized-yandex-metrica-data\" title=\"Permanent link\">&para;</a></h2>\n<p>Dataset consists of two tables containing anonymized data about hits (<code>hits_v1</code>) and visits (<code>visits_v1</code>) of Yandex.Metrica. Each of the tables can be downloaded as a compressed <code>tsv.xz</code> file or as prepared partitions.</p>\n<h3 id=\"obtaining-tables-from-prepared-partitions\">Obtaining Tables from Prepared Partitions<a class=\"headerlink\" href=\"#obtaining-tables-from-prepared-partitions\" title=\"Permanent link\">&para;</a></h3>\n<p><strong>Download and import hits:</strong></p>\n<div class=\"codehilite\"><pre><span></span>curl -O https://clickhouse-datasets.s3.yandex.net/hits/partitions/hits_v1.tar\ntar xvf hits_v1.tar -C /var/lib/clickhouse <span class=\"c1\"># path to ClickHouse data directory</span>\n<span class=\"c1\">## check permissions on unpacked data, fix if required</span>\nsudo service clickhouse-server restart\nclickhouse-client --query <span class=\"s2\">&quot;SELECT COUNT(*) FROM datasets.hits_v1&quot;</span>\n</pre></div>\n\n\n<p><strong>Download and import visits:</strong></p>\n<div class=\"codehilite\"><pre><span></span>curl -O https://clickhouse-datasets.s3.yandex.net/visits/partitions/visits_v1.tar\ntar xvf visits_v1.tar -C /var/lib/clickhouse <span class=\"c1\"># path to ClickHouse data directory</span>\n<span class=\"c1\">## check permissions on unpacked data, fix if required</span>\nsudo service clickhouse-server restart\nclickhouse-client --query <span class=\"s2\">&quot;SELECT COUNT(*) FROM datasets.visits_v1&quot;</span>\n</pre></div>\n\n\n<h3 id=\"obtaining-tables-from-compressed-tsv-file\">Obtaining Tables from Compressed tsv-file<a class=\"headerlink\" href=\"#obtaining-tables-from-compressed-tsv-file\" title=\"Permanent link\">&para;</a></h3>\n<p><strong>Download and import hits from compressed tsv-file</strong></p>\n<div class=\"codehilite\"><pre><span></span>curl https://clickhouse-datasets.s3.yandex.net/hits/tsv/hits_v1.tsv.xz <span class=\"p\">|</span> unxz --threads<span class=\"o\">=</span><span class=\"sb\">`</span>nproc<span class=\"sb\">`</span> &gt; hits_v1.tsv \n<span class=\"c1\">## now create table</span>\nclickhouse-client --query <span class=\"s2\">&quot;CREATE DATABASE IF NOT EXISTS datasets&quot;</span>\nclickhouse-client --query <span class=\"s2\">&quot;CREATE TABLE datasets.hits_v1 ( WatchID UInt64,  JavaEnable UInt8,  Title String,  GoodEvent Int16,  EventTime DateTime,  EventDate Date,  CounterID UInt32,  ClientIP UInt32,  ClientIP6 FixedString(16),  RegionID UInt32,  UserID UInt64,  CounterClass Int8,  OS UInt8,  UserAgent UInt8,  URL String,  Referer String,  URLDomain String,  RefererDomain String,  Refresh UInt8,  IsRobot UInt8,  RefererCategories Array(UInt16),  URLCategories Array(UInt16), URLRegions Array(UInt32),  RefererRegions Array(UInt32),  ResolutionWidth UInt16,  ResolutionHeight UInt16,  ResolutionDepth UInt8,  FlashMajor UInt8, FlashMinor UInt8,  FlashMinor2 String,  NetMajor UInt8,  NetMinor UInt8, UserAgentMajor UInt16,  UserAgentMinor FixedString(2),  CookieEnable UInt8, JavascriptEnable UInt8,  IsMobile UInt8,  MobilePhone UInt8,  MobilePhoneModel String,  Params String,  IPNetworkID UInt32,  TraficSourceID Int8, SearchEngineID UInt16,  SearchPhrase String,  AdvEngineID UInt8,  IsArtifical UInt8,  WindowClientWidth UInt16,  WindowClientHeight UInt16,  ClientTimeZone Int16,  ClientEventTime DateTime,  SilverlightVersion1 UInt8, SilverlightVersion2 UInt8,  SilverlightVersion3 UInt32,  SilverlightVersion4 UInt16,  PageCharset String,  CodeVersion UInt32,  IsLink UInt8,  IsDownload UInt8,  IsNotBounce UInt8,  FUniqID UInt64,  HID UInt32,  IsOldCounter UInt8, IsEvent UInt8,  IsParameter UInt8,  DontCountHits UInt8,  WithHash UInt8, HitColor FixedString(1),  UTCEventTime DateTime,  Age UInt8,  Sex UInt8,  Income UInt8,  Interests UInt16,  Robotness UInt8,  GeneralInterests Array(UInt16), RemoteIP UInt32,  RemoteIP6 FixedString(16),  WindowName Int32,  OpenerName Int32,  HistoryLength Int16,  BrowserLanguage FixedString(2),  BrowserCountry FixedString(2),  SocialNetwork String,  SocialAction String,  HTTPError UInt16, SendTiming Int32,  DNSTiming Int32,  ConnectTiming Int32,  ResponseStartTiming Int32,  ResponseEndTiming Int32,  FetchTiming Int32,  RedirectTiming Int32, DOMInteractiveTiming Int32,  DOMContentLoadedTiming Int32,  DOMCompleteTiming Int32,  LoadEventStartTiming Int32,  LoadEventEndTiming Int32, NSToDOMContentLoadedTiming Int32,  FirstPaintTiming Int32,  RedirectCount Int8, SocialSourceNetworkID UInt8,  SocialSourcePage String,  ParamPrice Int64, ParamOrderID String,  ParamCurrency FixedString(3),  ParamCurrencyID UInt16, GoalsReached Array(UInt32),  OpenstatServiceName String,  OpenstatCampaignID String,  OpenstatAdID String,  OpenstatSourceID String,  UTMSource String, UTMMedium String,  UTMCampaign String,  UTMContent String,  UTMTerm String, FromTag String,  HasGCLID UInt8,  RefererHash UInt64,  URLHash UInt64,  CLID UInt32,  YCLID UInt64,  ShareService String,  ShareURL String,  ShareTitle String,  ParsedParams Nested(Key1 String,  Key2 String, Key3 String, Key4 String, Key5 String,  ValueDouble Float64),  IslandID FixedString(16),  RequestNum UInt32,  RequestTry UInt8) ENGINE = MergeTree() PARTITION BY toYYYYMM(EventDate) ORDER BY (CounterID, EventDate, intHash32(UserID)) SAMPLE BY intHash32(UserID) SETTINGS index_granularity = 8192&quot;</span>\n<span class=\"c1\">## import data</span>\ncat hits_v1.tsv <span class=\"p\">|</span> clickhouse-client --query <span class=\"s2\">&quot;INSERT INTO datasets.hits_v1 FORMAT TSV&quot;</span> --max_insert_block_size<span class=\"o\">=</span><span class=\"m\">100000</span>\n<span class=\"c1\">## optionally you can optimize table</span>\nclickhouse-client --query <span class=\"s2\">&quot;OPTIMIZE TABLE datasets.hits_v1 FINAL&quot;</span>\nclickhouse-client --query <span class=\"s2\">&quot;SELECT COUNT(*) FROM datasets.hits_v1&quot;</span>\n</pre></div>\n\n\n<p><strong>Download and import visits from compressed tsv-file</strong></p>\n<div class=\"codehilite\"><pre><span></span>curl https://clickhouse-datasets.s3.yandex.net/visits/tsv/visits_v1.tsv.xz <span class=\"p\">|</span> unxz --threads<span class=\"o\">=</span><span class=\"sb\">`</span>nproc<span class=\"sb\">`</span> &gt; visits_v1.tsv \n<span class=\"c1\">## now create table</span>\nclickhouse-client --query <span class=\"s2\">&quot;CREATE DATABASE IF NOT EXISTS datasets&quot;</span>\nclickhouse-client --query <span class=\"s2\">&quot;CREATE TABLE datasets.visits_v1 ( CounterID UInt32,  StartDate Date,  Sign Int8,  IsNew UInt8,  VisitID UInt64,  UserID UInt64,  StartTime DateTime,  Duration UInt32,  UTCStartTime DateTime,  PageViews Int32,  Hits Int32,  IsBounce UInt8,  Referer String,  StartURL String,  RefererDomain String,  StartURLDomain String,  EndURL String,  LinkURL String,  IsDownload UInt8,  TraficSourceID Int8,  SearchEngineID UInt16,  SearchPhrase String,  AdvEngineID UInt8,  PlaceID Int32,  RefererCategories Array(UInt16),  URLCategories Array(UInt16),  URLRegions Array(UInt32),  RefererRegions Array(UInt32),  IsYandex UInt8,  GoalReachesDepth Int32,  GoalReachesURL Int32,  GoalReachesAny Int32,  SocialSourceNetworkID UInt8,  SocialSourcePage String,  MobilePhoneModel String,  ClientEventTime DateTime,  RegionID UInt32,  ClientIP UInt32,  ClientIP6 FixedString(16),  RemoteIP UInt32,  RemoteIP6 FixedString(16),  IPNetworkID UInt32,  SilverlightVersion3 UInt32,  CodeVersion UInt32,  ResolutionWidth UInt16,  ResolutionHeight UInt16,  UserAgentMajor UInt16,  UserAgentMinor UInt16,  WindowClientWidth UInt16,  WindowClientHeight UInt16,  SilverlightVersion2 UInt8,  SilverlightVersion4 UInt16,  FlashVersion3 UInt16,  FlashVersion4 UInt16,  ClientTimeZone Int16,  OS UInt8,  UserAgent UInt8,  ResolutionDepth UInt8,  FlashMajor UInt8,  FlashMinor UInt8,  NetMajor UInt8,  NetMinor UInt8,  MobilePhone UInt8,  SilverlightVersion1 UInt8,  Age UInt8,  Sex UInt8,  Income UInt8,  JavaEnable UInt8,  CookieEnable UInt8,  JavascriptEnable UInt8,  IsMobile UInt8,  BrowserLanguage UInt16,  BrowserCountry UInt16,  Interests UInt16,  Robotness UInt8,  GeneralInterests Array(UInt16),  Params Array(String),  Goals Nested(ID UInt32, Serial UInt32, EventTime DateTime,  Price Int64,  OrderID String, CurrencyID UInt32),  WatchIDs Array(UInt64),  ParamSumPrice Int64,  ParamCurrency FixedString(3),  ParamCurrencyID UInt16,  ClickLogID UInt64,  ClickEventID Int32,  ClickGoodEvent Int32,  ClickEventTime DateTime,  ClickPriorityID Int32,  ClickPhraseID Int32,  ClickPageID Int32,  ClickPlaceID Int32,  ClickTypeID Int32,  ClickResourceID Int32,  ClickCost UInt32,  ClickClientIP UInt32,  ClickDomainID UInt32,  ClickURL String,  ClickAttempt UInt8,  ClickOrderID UInt32,  ClickBannerID UInt32,  ClickMarketCategoryID UInt32,  ClickMarketPP UInt32,  ClickMarketCategoryName String,  ClickMarketPPName String,  ClickAWAPSCampaignName String,  ClickPageName String,  ClickTargetType UInt16,  ClickTargetPhraseID UInt64,  ClickContextType UInt8,  ClickSelectType Int8,  ClickOptions String,  ClickGroupBannerID Int32,  OpenstatServiceName String,  OpenstatCampaignID String,  OpenstatAdID String,  OpenstatSourceID String,  UTMSource String,  UTMMedium String,  UTMCampaign String,  UTMContent String,  UTMTerm String,  FromTag String,  HasGCLID UInt8,  FirstVisit DateTime,  PredLastVisit Date,  LastVisit Date,  TotalVisits UInt32,  TraficSource    Nested(ID Int8,  SearchEngineID UInt16, AdvEngineID UInt8, PlaceID UInt16, SocialSourceNetworkID UInt8, Domain String, SearchPhrase String, SocialSourcePage String),  Attendance FixedString(16),  CLID UInt32,  YCLID UInt64,  NormalizedRefererHash UInt64,  SearchPhraseHash UInt64,  RefererDomainHash UInt64,  NormalizedStartURLHash UInt64,  StartURLDomainHash UInt64,  NormalizedEndURLHash UInt64,  TopLevelDomain UInt64,  URLScheme UInt64,  OpenstatServiceNameHash UInt64,  OpenstatCampaignIDHash UInt64,  OpenstatAdIDHash UInt64,  OpenstatSourceIDHash UInt64,  UTMSourceHash UInt64,  UTMMediumHash UInt64,  UTMCampaignHash UInt64,  UTMContentHash UInt64,  UTMTermHash UInt64,  FromHash UInt64,  WebVisorEnabled UInt8,  WebVisorActivity UInt32,  ParsedParams    Nested(Key1 String,  Key2 String,  Key3 String,  Key4 String, Key5 String, ValueDouble    Float64),  Market Nested(Type UInt8, GoalID UInt32, OrderID String,  OrderPrice Int64,  PP UInt32,  DirectPlaceID UInt32,  DirectOrderID  UInt32,  DirectBannerID UInt32,  GoodID String, GoodName String, GoodQuantity Int32,  GoodPrice Int64),  IslandID FixedString(16)) ENGINE = CollapsingMergeTree(StartDate, intHash32(UserID), (CounterID, StartDate, intHash32(UserID), VisitID), 8192, Sign)&quot;</span>\n<span class=\"c1\">## import data</span>\ncat visits_v1.tsv <span class=\"p\">|</span> clickhouse-client --query <span class=\"s2\">&quot;INSERT INTO datasets.visits_v1 FORMAT TSV&quot;</span> --max_insert_block_size<span class=\"o\">=</span><span class=\"m\">100000</span>\n<span class=\"c1\">## optionally you can optimize table</span>\nclickhouse-client --query <span class=\"s2\">&quot;OPTIMIZE TABLE datasets.visits_v1 FINAL&quot;</span>\nclickhouse-client --query <span class=\"s2\">&quot;SELECT COUNT(*) FROM datasets.visits_v1&quot;</span>\n</pre></div>\n\n\n<h3 id=\"queries\">Queries<a class=\"headerlink\" href=\"#queries\" title=\"Permanent link\">&para;</a></h3>\n<p>Examples of queries to these tables (they are named <code>test.hits</code> and <code>test.visits</code>) can be found among <a href=\"https://github.com/yandex/ClickHouse/tree/master/dbms/tests/queries/1_stateful\" rel=\"external nofollow\">stateful tests</a> and in some <a href=\"https://github.com/yandex/ClickHouse/tree/master/dbms/tests/performance/test_hits\" rel=\"external nofollow\">performance tests</a> of ClickHouse.\n<a name=\"../interfaces/\"></a>\n<a name=\"../../../interfaces/\"></a>\n<a name=\"interfaces/\"></a>\n<a name=\"../../../../../interfaces/\"></a>\n<a name=\"../../interfaces/\"></a>\n<a name=\"../../../../interfaces/\"></a></p>\n<div dir=\"rtl\">\n<h2 id=\"interfaces\">\u0631\u0627\u0628\u0637 \u0647\u0627<a class=\"headerlink\" href=\"#interfaces\" title=\"Permanent link\">&para;</a></h2>\n<p>ClickHouse \u062f\u0648 \u0627\u06cc\u0646\u062a\u0631\u0641\u06cc\u0633 \u0634\u0628\u06a9\u0647 \u0631\u0627 \u0641\u0631\u0627\u0647\u0645 \u0645\u06cc \u06a9\u0646\u062f (\u0647\u0631 \u062f\u0648 \u0645\u06cc \u062a\u0648\u0627\u0646\u0646\u062f \u0628\u0647 \u0635\u0648\u0631\u062a \u0627\u062e\u062a\u06cc\u0627\u0631\u06cc \u062f\u0631 TLS \u0628\u0631\u0627\u06cc \u0627\u0645\u0646\u06cc\u062a \u0627\u0636\u0627\u0641\u06cc \u067e\u06cc\u0686\u06cc\u062f\u0647 \u0634\u0648\u0646\u062f):</p>\n<ul>\n<li><a href=\"#http/\">HTTP</a>, \u06a9\u0647 \u0645\u0633\u062a\u0646\u062f \u0634\u062f\u0647 \u0648 \u0628\u0647 \u0631\u0627\u062d\u062a\u06cc \u0628\u0647 \u0637\u0648\u0631 \u0645\u0633\u062a\u0642\u06cc\u0645 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f.</li>\n<li><a href=\"#tcp/\">\u0628\u0648\u0645\u06cc TCP</a>, \u06a9\u0647 \u062f\u0627\u0631\u0627\u06cc \u0633\u0631\u0628\u0627\u0631 \u06a9\u0645\u062a\u0631 \u0627\u0633\u062a.</li>\n</ul>\n<p>\u0627\u06af\u0631\u0686\u0647 \u062f\u0631 \u0628\u06cc\u0634\u062a\u0631 \u0645\u0648\u0627\u0631\u062f \u062a\u0648\u0635\u06cc\u0647 \u0645\u06cc \u0634\u0648\u062f \u0627\u0632 \u0627\u0628\u0632\u0627\u0631 \u06cc\u0627 \u06a9\u062a\u0627\u0628\u062e\u0627\u0646\u0647 \u0645\u0646\u0627\u0633\u0628 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u062f \u062a\u0627 \u0628\u0647 \u0637\u0648\u0631 \u0645\u0633\u062a\u0642\u06cc\u0645 \u0628\u0627 \u0622\u0646 \u0647\u0627 \u0627\u0631\u062a\u0628\u0627\u0637 \u0628\u0631\u0642\u0631\u0627\u0631 \u0646\u06a9\u0646\u06cc\u062f. \u0628\u0647 \u0637\u0648\u0631 \u0631\u0633\u0645\u06cc \u062a\u0648\u0633\u0637 \u06cc\u0627\u0646\u062f\u0627\u06a9\u0633 \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u0645\u06cc \u0634\u0648\u0646\u062f \u0639\u0628\u0627\u0631\u062a\u0646\u062f \u0627\u0632:\n<em> <a href=\"#cli/\">\u062e\u0637 \u0641\u0631\u0645\u0627\u0646 \u062e\u0637</a>\n</em> <a href=\"#jdbc/\">\u0631\u0627\u0646\u0646\u062f\u0647 JDBC</a>\n* <a href=\"#odbc/\">\u0631\u0627\u0646\u0646\u062f\u0647 ODBC</a></p>\n<p>\u0647\u0645\u0686\u0646\u06cc\u0646 \u0628\u0631\u0627\u06cc \u06a9\u0627\u0631 \u0628\u0627 ClickHouse \u0637\u06cc\u0641 \u06af\u0633\u062a\u0631\u062f\u0647 \u0627\u06cc \u0627\u0632 \u06a9\u062a\u0627\u0628\u062e\u0627\u0646\u0647 \u0647\u0627\u06cc \u0634\u062e\u0635 \u062b\u0627\u0644\u062b \u0648\u062c\u0648\u062f \u062f\u0627\u0631\u062f:\n<em> <a href=\"#third-party/client_libraries/\">\u06a9\u062a\u0627\u0628\u062e\u0627\u0646\u0647 \u0647\u0627\u06cc \u0645\u0634\u062a\u0631\u06cc</a>\n</em> <a href=\"#third-party/integrations/\">\u0627\u062f\u063a\u0627\u0645</a>\n* <a href=\"#third-party/gui/\">\u0631\u0627\u0628\u0637 \u0647\u0627\u06cc \u0628\u0635\u0631\u06cc</a></p>\n</div>\n<p><a name=\"../../../interfaces/cli/\"></a>\n<a name=\"interfaces/cli/\"></a>\n<a name=\"../../../../../interfaces/cli/\"></a>\n<a name=\"../../interfaces/cli/\"></a>\n<a name=\"../../../../interfaces/cli/\"></a>\n<a name=\"cli/\"></a>\n<a name=\"../interfaces/cli/\"></a></p>\n<div dir=\"rtl\">\n<h2 id=\"khlynt-command-line\">\u06a9\u0644\u0627\u06cc\u0646\u062a Command-line<a class=\"headerlink\" href=\"#khlynt-command-line\" title=\"Permanent link\">&para;</a></h2>\n<p>\u0628\u0631\u0627\u06cc \u06a9\u0627\u0631 \u0627\u0632 \u0637\u0631\u06cc\u0642 \u0645\u062d\u06cc\u0637 \u062a\u0631\u0645\u06cc\u0646\u0627\u0644 \u0645\u06cc\u062a\u0648\u0627\u0646\u06cc\u062f \u0627\u0632 \u062f\u0633\u062a\u0648\u0631 <code>clickhouse-client</code> \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u062f</p>\n</div>\n<div class=\"codehilite\"><pre><span></span>$ clickhouse-client\nClickHouse client version <span class=\"m\">0</span>.0.26176.\nConnecting to localhost:9000.\nConnected to ClickHouse server version <span class=\"m\">0</span>.0.26176.\n\n:<span class=\"o\">)</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u06a9\u0644\u0627\u06cc\u0646\u062a \u0627\u0632 \u0622\u067e\u0634\u0646 \u0647\u0627\u06cc command-line \u0648 \u0641\u0627\u06cc\u0644 \u0647\u0627\u06cc \u06a9\u0627\u0646\u0641\u06cc\u06af \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u0645\u06cc \u06a9\u0646\u062f. \u0628\u0631\u0627\u06cc \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0628\u06cc\u0634\u062a\u0631 \u0628\u062e\u0634 \"<a href=\"#interfaces_cli_configuration\">\u067e\u06cc\u06a9\u0631\u0628\u0646\u062f\u06cc</a>\" \u0631\u0627 \u0645\u0634\u0627\u0647\u062f\u0647 \u06a9\u0646\u06cc\u062f.</p>\n<h3 id=\"stfdh\">\u0627\u0633\u062a\u0641\u0627\u062f\u0647<a class=\"headerlink\" href=\"#stfdh\" title=\"Permanent link\">&para;</a></h3>\n<p>\u06a9\u0644\u0627\u06cc\u0646\u062a \u0645\u06cc \u062a\u0648\u0627\u0646\u062f \u0628\u0647 \u062f\u0648 \u0635\u0648\u0631\u062a interactive \u0648 non-intercative (batch) \u0645\u0648\u0631\u062f \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0642\u0631\u0627\u0631 \u06af\u06cc\u0631\u062f. \u0628\u0631\u0627\u06cc \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 \u062d\u0627\u0644\u062a batch\u060c \u067e\u0627\u0631\u0627\u0645\u062a\u0631 <code>query</code> \u0631\u0627 \u0645\u0634\u062e\u0635 \u06a9\u0646\u06cc\u062f\u060c \u0648 \u06cc\u0627 \u062f\u0627\u062f\u0647 \u0647\u0627 \u0631\u0647 \u0628\u0647 <code>stdin</code> \u0627\u0631\u0633\u0627\u0644 \u06a9\u0646\u06cc\u062f (\u06a9\u0644\u0627\u06cc\u0646\u062a \u062a\u0627\u06cc\u06cc\u062f \u0645\u06cc \u06a9\u0646\u062f \u06a9\u0647 <code>stdin</code> \u062a\u0631\u0645\u06cc\u0646\u0627\u0644 \u0646\u06cc\u0633\u062a) \u0648 \u06cc\u0627 \u0627\u0632 \u0647\u0631 2 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u062f. \u0645\u0634\u0627\u0628\u0647 HTTP interface\u060c \u0647\u0646\u06af\u0627\u0645\u06cc \u06a9\u0647 \u0627\u0632 \u0627\u0632 \u067e\u0627\u0631\u0627\u0645\u062a\u0631 <code>query</code> \u0648 \u0627\u0631\u0633\u0627\u0644 \u062f\u0627\u062f\u0647 \u0647\u0627 \u0628\u0647 <code>stdin</code> \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u06a9\u0646\u06cc\u062f\u060c \u062f\u0631\u062e\u0648\u0627\u0633\u062a\u060c \u062a\u0631\u06a9\u06cc\u0628\u06cc \u0627\u0632 \u067e\u0627\u0631\u0627\u0645\u062a\u0631 <code>query</code>\u060c line feed\u060c \u0648 \u062f\u0627\u062f\u0647 \u0647\u0627 \u062f\u0631 <code>stdin</code> \u0627\u0633\u062a. \u0627\u06cc\u0646 \u06a9\u0627\u0631 \u0628\u0631\u0627\u06cc query \u0647\u0627\u06cc \u0628\u0632\u0631\u06af INSERT \u0645\u0646\u0627\u0633\u0628 \u0627\u0633\u062a.</p>\n<p>\u0645\u062b\u0627\u0644\u06cc \u0627\u0632 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0644\u0627\u06cc\u0646\u062a \u0628\u0631\u0627\u06cc \u0627\u062c\u0631\u0627\u06cc \u062f\u0633\u062a\u0648\u0631 INSERT \u062f\u0627\u062f\u0647</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"nb\">echo</span> -ne <span class=\"s2\">&quot;1, &#39;some text&#39;, &#39;2016-08-14 00:00:00&#39;\\n2, &#39;some more text&#39;, &#39;2016-08-14 00:00:01&#39;&quot;</span> <span class=\"p\">|</span> clickhouse-client --database<span class=\"o\">=</span><span class=\"nb\">test</span> --query<span class=\"o\">=</span><span class=\"s2\">&quot;INSERT INTO test FORMAT CSV&quot;</span><span class=\"p\">;</span>\n\ncat <span class=\"s\">&lt;&lt;_EOF | clickhouse-client --database=test --query=&quot;INSERT INTO test FORMAT CSV&quot;;</span>\n<span class=\"s\">3, &#39;some text&#39;, &#39;2016-08-14 00:00:00&#39;</span>\n<span class=\"s\">4, &#39;some more text&#39;, &#39;2016-08-14 00:00:01&#39;</span>\n<span class=\"s\">_EOF</span>\n\ncat file.csv <span class=\"p\">|</span> clickhouse-client --database<span class=\"o\">=</span><span class=\"nb\">test</span> --query<span class=\"o\">=</span><span class=\"s2\">&quot;INSERT INTO test FORMAT CSV&quot;</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u062f\u0631 \u062d\u0627\u0644\u062a Batch\u060c \u0641\u0631\u0645\u062a \u062f\u0627\u062f\u0647 \u0647\u0627 \u0628\u0647 \u0635\u0648\u0631\u062a \u067e\u06cc\u0634 \u0641\u0631\u0636 \u0628\u0647 \u0635\u0648\u0631\u062a TabSeparated \u0645\u06cc \u0628\u0627\u0634\u062f. \u0634\u0645\u0627 \u0645\u06cc\u062a\u0648\u0627\u0646\u06cc\u062f \u0641\u0631\u0645\u062a \u062f\u0627\u062f\u0647 \u0647\u0627 \u0631\u0648 \u062f\u0631 \u0647\u0646\u06af\u0627\u0645 \u0627\u062c\u0631\u0627\u06cc query \u0648 \u0628\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 \u0634\u0631\u0637 FORMAT \u0645\u0634\u062e\u0635 \u06a9\u0646\u06cc\u062f.</p>\n<p>\u0628\u0647 \u0637\u0648\u0631 \u067e\u06cc\u0634 \u0641\u0631\u0636 \u0634\u0645\u0627 \u0641\u0642\u0637 \u0645\u06cc \u062a\u0648\u0627\u0646\u06cc\u062f \u06cc\u06a9 query \u0631\u0627 \u062f\u0631 \u062e\u0627\u0644\u062a batch \u0627\u062c\u0631\u0627 \u06a9\u0646\u06cc\u062f.\u0628\u0631\u0627\u06cc \u0633\u0627\u062e\u062a \u0686\u0646\u062f\u06cc\u0646 query \u0627\u0632 \u06cc\u06a9 \"\u0627\u0633\u06a9\u0631\u06cc\u067e\u062a\"\u060c \u0627\u0632 \u067e\u0627\u0631\u0627\u0645\u062a\u0631 --multiquery \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u062f. \u0627\u06cc\u0646 \u0631\u0648\u0634 \u0628\u0631\u0627\u06cc \u062a\u0645\u0627\u0645 query \u0647\u0627 \u0628\u0647 \u062c\u0632 INSERT \u06a9\u0627\u0631 \u0645\u06cc \u06a9\u0646\u062f. \u0646\u062a\u0627\u06cc\u062c query \u0647\u0627 \u0628\u0647 \u0635\u0648\u0631\u062a \u0645\u062a\u0648\u0627\u0644\u06cc \u0648 \u0628\u062f\u0648\u0646 seperator \u0627\u0636\u0627\u0641\u0647 \u062a\u0648\u0644\u06cc\u062f \u0645\u06cc \u0634\u0648\u0646\u062f. \u0628\u0647 \u0637\u0648\u0631 \u0645\u0634\u0627\u0628\u0647 \u0628\u0631\u0627\u06cc \u067e\u0631\u062f\u0627\u0632\u0634 \u062a\u0639\u062f\u0627\u062f \u0632\u06cc\u0627\u062f\u06cc \u0627\u0632 query \u0647\u0627 \u0634\u0645\u0627 \u0645\u06cc \u062a\u0648\u0627\u0646\u06cc\u062f \u0627\u0632 'clickhouse-client' \u0628\u0631\u0627\u06cc \u0647\u0631 query \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u062f. \u062f\u0642\u062a \u06a9\u0646\u06cc\u062f \u06a9\u0647 \u0645\u0645\u06a9\u0646 \u0627\u0633\u062a \u062d\u062f\u0648\u062f 10 \u0645\u06cc\u0644\u06cc \u062b\u0627\u0646\u06cc\u0647 \u062a\u0627 \u0632\u0645\u0627\u0646 \u0631\u0627\u0647 \u0627\u0646\u062f\u0627\u0632\u06cc \u0628\u0631\u0646\u0627\u0645\u0647 'clickhouse-client' \u0632\u0645\u0627\u0646 \u06af\u0631\u0641\u062a\u0647 \u0634\u0648\u062f.</p>\n<p>\u062f\u0631 \u062d\u0627\u0644\u062a intercative\u060c \u0634\u0645\u0627 \u06cc\u06a9 command line \u0628\u0631\u0627\u06cc \u062f\u0631\u062c query \u0647\u0627\u06cc \u062e\u0648\u062f \u062f\u0631\u06cc\u0627\u0641\u062a \u0645\u06cc \u06a9\u0646\u06cc\u062f.</p>\n<p>\u0627\u06af\u0631 'multiline' \u0645\u0634\u062e\u0635 \u0646\u0634\u062f\u0647 \u0628\u0627\u0634\u062f (\u0628\u0647 \u0635\u0648\u0631\u062a \u067e\u06cc\u0634 \u0641\u0631\u0636): \u0628\u0631\u0627\u06cc \u0627\u062c\u0631\u0627\u06cc \u06cc\u06a9 query\u060c \u062f\u06a9\u0645\u0647 Enter \u0631\u0627 \u0628\u0632\u0646\u06cc\u062f. \u0633\u06cc\u0645\u06cc \u06a9\u0627\u0644\u0646 \u062f\u0631 \u0627\u0646\u062a\u0647\u0627\u06cc query \u0627\u062c\u0628\u0627\u0631\u06cc \u0646\u06cc\u0633\u062a. \u0628\u0631\u0627\u06cc \u062f\u0631\u062c \u06cc\u06a9 query \u0686\u0646\u062f \u062e\u0637\u06cc (multiline)\u060c \u062f\u06a9\u0645\u0647 \u06cc \u0628\u06a9 \u0627\u0633\u0644\u0634 <code>\\</code> \u0631\u0627 \u0642\u0628\u0644 \u0627\u0632 line feed \u0641\u0634\u0627\u0631 \u062f\u0647\u06cc\u062f. \u0628\u0639\u062f \u0627\u0632 \u0641\u0634\u0631\u062f\u0646 Enter\u060c \u0627\u0632 \u0634\u0645\u0627 \u0628\u0631\u0627\u06cc \u062f\u0631\u062c \u062e\u0637 \u0628\u0639\u062f\u06cc query \u062f\u0631\u062e\u0648\u0627\u0633\u062a \u062e\u0648\u0627\u0647\u062f \u0634\u062f.</p>\n<p>\u0627\u06af\u0631 \u0686\u0646\u062f \u062e\u0637\u06cc (multiline) \u0645\u0634\u062e\u0635 \u0634\u062f\u0647 \u0628\u0627\u0634\u062f: \u0628\u0631\u0627\u06cc \u0627\u062c\u0631\u0627\u06cc query\u060c \u062f\u0631 \u0627\u0646\u062a\u0647\u0627 \u0633\u06cc\u0645\u06cc \u06a9\u0627\u0644\u0646 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f \u0648 \u0633\u067e\u0633 Enter \u0628\u0632\u0646\u06cc\u062f. \u0627\u06af\u0631 \u0633\u06cc\u0645\u06cc \u06a9\u0627\u0644\u0646 \u0627\u0632 \u0627\u0646\u062a\u0647\u0627\u06cc \u062e\u0637 \u062d\u0630\u0641 \u0645\u06cc \u0634\u062f\u060c \u0627\u0632 \u0634\u0645\u0627 \u0628\u0631\u0627\u06cc \u062f\u0631\u062c \u062e\u0637 \u062c\u062f\u06cc\u062f query \u062f\u0631\u062e\u0648\u0627\u0633\u062a \u0645\u06cc \u0634\u062f.</p>\n<p>\u062a\u0646\u0647\u0627 \u06cc\u06a9 query \u0627\u062c\u0631\u0627 \u0645\u06cc \u0634\u0648\u062f. \u067e\u0633 \u0647\u0645\u0647 \u0686\u06cc\u0632 \u0628\u0639\u062f \u0627\u0632 \u0633\u06cc\u0645\u06cc \u06a9\u0627\u0644\u0646 ignore \u0645\u06cc \u0634\u0648\u062f.</p>\n<p>\u0634\u0645\u0627 \u0645\u06cc\u062a\u0648\u0627\u0646\u06cc\u062f \u0627\u0632 <code>\\G</code> \u0628\u0647 \u062c\u0627\u06cc \u0633\u06cc\u0645\u06cc \u06a9\u0627\u0644\u0646 \u06cc\u0627 \u0628\u0639\u062f \u0627\u0632 \u0633\u06cc\u0645\u06cc \u06a9\u0627\u0644\u0646 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u062f. \u0627\u06cc\u0646 \u0639\u0644\u0627\u0645\u062a\u060c \u0641\u0631\u0645\u062a Vertical \u0631\u0627 \u0646\u0634\u0627\u0646 \u0645\u06cc \u062f\u0647\u062f. \u062f\u0631 \u0627\u06cc\u0646 \u0641\u0631\u0645\u062a\u060c \u0647\u0631 \u0645\u0642\u062f\u0627\u0631 \u062f\u0631 \u06cc\u06a9 \u062e\u0637 \u062c\u062f\u0627 \u0686\u0627\u067e \u0645\u06cc \u0634\u0648\u062f \u06a9\u0647 \u0628\u0631\u0627\u06cc \u062c\u062f\u0627\u0648\u0644 \u0639\u0631\u06cc\u0636 \u0645\u0646\u0627\u0633\u0628 \u0627\u0633\u062a. \u0627\u06cc\u0646 \u0648\u06cc\u0698\u06af\u06cc \u063a\u06cc\u0631\u0645\u0639\u0645\u0648\u0644 \u0628\u0631\u0627\u06cc \u0633\u0627\u0632\u06af\u0627\u0631\u06cc \u0628\u0627 MySQL CLI \u0627\u0636\u0627\u0641\u0647 \u0634\u062f.</p>\n<p>command line \u0628\u0631\u0627 \u067e\u0627\u06cc\u0647 'readline' (\u0648 'history' \u06cc\u0627 'libedit'\u060c \u06cc\u0647 \u0628\u062f\u0648\u0646 \u06a9\u062a\u0627\u0628\u062e\u0627\u0646\u0647 \u0628\u0633\u062a\u0647 \u0628\u0647 build) \u0645\u06cc \u0628\u0627\u0634\u062f. \u0628\u0647 \u0639\u0628\u0627\u0631\u062a \u062f\u06cc\u06af\u0631\u060c \u0627\u06cc\u0646 \u0645\u062d\u06cc\u0637 \u0627\u0632 shortcut \u0647\u0627\u06cc \u0622\u0634\u0646\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u06a9\u0646\u062f \u0648 history \u062f\u0633\u062a\u0648\u0631\u0627\u062a \u0631\u0627 \u0646\u06af\u0647 \u0645\u06cc \u062f\u0627\u0631. history \u0647\u0627 \u062f\u0631 \u0641\u0627\u06cc\u0644 ~/.clickhouse-client-history \u0646\u0648\u0634\u062a\u0647 \u0645\u06cc \u0634\u0648\u0646\u062f.</p>\n<p>\u0628\u0647 \u0635\u0648\u0631\u062a \u067e\u06cc\u0634 \u0641\u0631\u0636 \u0641\u0631\u0645\u062a \u062e\u0631\u0648\u062c\u06cc PrettyCompact \u0645\u06cc \u0628\u0627\u0634\u062f. \u0634\u0645\u0627 \u0645\u06cc\u062a\u0648\u0627\u0646\u06cc\u062f \u0627\u0632 \u0637\u0631\u06cc\u0642 \u062f\u0633\u062a\u0648\u0631 FORMAT \u062f\u0631 \u06cc\u06a9 query\u060c \u06cc\u0627 \u0628\u0627 \u0645\u0634\u062e\u0635 \u06a9\u0631\u062f\u0646 <code>\\G</code> \u062f\u0631 \u0627\u0646\u062a\u0647\u0627\u06cc query\u060c \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 \u0622\u0631\u06af\u0648\u0645\u0627\u0646 \u0647\u0627\u06cc <code>--format</code> \u06cc\u0627 <code>--vertical</code> \u06cc\u0627 \u0627\u0632 \u06a9\u0627\u0646\u0641\u06cc\u06af \u0641\u0627\u06cc\u0644 \u06a9\u0644\u0627\u06cc\u0646\u062a\u060c \u0641\u0631\u0645\u062a \u062e\u0631\u0648\u062c\u06cc \u0631\u0627 \u0645\u0634\u062e\u0635 \u06a9\u0646\u06cc\u062f.</p>\n<p>\u0628\u0631\u0627\u06cc \u062e\u0631\u0648\u062c \u0627\u0632 \u06a9\u0644\u0627\u06cc\u0646\u062a\u060c Ctrl-D (\u06cc\u0627 Ctrl+C) \u0631\u0627 \u0641\u0634\u0627\u0631 \u062f\u0647\u06cc\u062f\u061b \u0648 \u06cc\u0627 \u06cc\u06a9\u06cc \u0627\u0632 \u062f\u0633\u062a\u0648\u0631\u0627\u062a \u0632\u06cc\u0631 \u0631\u0627 \u0628\u0647 \u062c\u0627\u06cc \u0627\u062c\u0631\u0627\u06cc query \u0627\u062c\u0631\u0627 \u06a9\u0646\u06cc\u062f: \"exit\", \"quit\", \"logout\", \"exit;\", \"quit;\", \"logout;\", \"q\", \"Q\", \":q\"</p>\n<p>\u062f\u0631 \u0647\u0646\u06af\u0627\u0645 \u0627\u062c\u0631\u0627\u06cc \u06cc\u06a9 query\u060c \u06a9\u0644\u0627\u06cc\u0646\u062a \u0645\u0648\u0627\u0631\u062f \u0632\u06cc\u0631 \u0631\u0627 \u0646\u0645\u0627\u06cc\u0634 \u0645\u06cc \u062f\u0647\u062f:</p>\n<ol>\n<li>Progress\u060c \u06a9\u0647 \u0628\u06cc\u0634 \u0627\u0632 10 \u0628\u0627\u0631 \u062f\u0631 \u062b\u0627\u0646\u06cc\u0647 \u0628\u0631\u0648\u0632 \u0646\u062e\u0648\u0627\u0647\u062f \u0634\u062f ( \u0628\u0647 \u0635\u0648\u0631\u062a \u067e\u06cc\u0634 \u0641\u0631\u0636). \u0628\u0631\u0627\u06cc query \u0647\u0627\u06cc \u0633\u0631\u06cc\u0639\u060c progress \u0645\u0645\u06a9\u0646 \u0627\u0633\u062a \u0632\u0645\u0627\u0646\u06cc \u0628\u0631\u0627\u06cc \u0646\u0645\u0627\u06cc\u0634 \u067e\u06cc\u062f\u0627 \u0646\u06a9\u0646\u062f.</li>\n<li>\u0641\u0631\u0645\u062a \u06a9\u0631\u062f\u0646 query \u0628\u0639\u062f \u0627\u0632 \u0639\u0645\u0644\u06cc\u0627\u062a \u067e\u0627\u0631\u0633 \u06a9\u0631\u062f\u0646\u060c \u0628\u0647 \u0645\u0646\u0638\u0648\u0631 \u062f\u06cc\u0628\u0627\u06af \u06a9\u0631\u062f\u0646 query.</li>\n<li>\u0646\u0645\u0627\u06cc\u0634 \u062e\u0631\u0648\u062c\u06cc \u0628\u0627 \u062a\u0648\u062c\u0647 \u0628\u0647 \u0646\u0648\u0639 \u0641\u0631\u0645\u062a.</li>\n<li>\u062a\u0639\u062f\u0627\u062f \u0644\u0627\u06cc\u0646 \u0647\u0627\u06cc \u062e\u0631\u0648\u062c\u06cc\u060c \u0632\u0645\u0627\u0646 \u067e\u0627\u0633 \u0634\u062f\u0646 query\u060c \u0648 \u0645\u06cc\u0627\u0646\u06af\u06cc\u0645 \u0633\u0631\u0639\u062a \u067e\u0631\u062f\u0627\u0632\u0634 query.</li>\n</ol>\n<p>\u0634\u0645\u0627 \u0645\u06cc\u062a\u0648\u0627\u0646\u06cc\u062f query \u0647\u0627\u06cc \u0637\u0648\u0644\u0627\u0646\u06cc \u0631\u0627 \u0628\u0627 \u0641\u0634\u0631\u062f\u0646 Ctrl-C \u06a9\u0646\u0633\u0644 \u06a9\u0646\u06cc\u062f. \u0647\u0631 \u0686\u0646\u062f\u060c \u0628\u0639\u062f \u0627\u0632 \u0627\u06cc\u0646 \u06a9\u0627\u0631 \u0647\u0645\u0686\u0646\u0627\u0646 \u0646\u06cc\u0627\u0632 \u0628\u0647 \u0627\u0646\u062a\u0638\u0627\u0631 \u0686\u0646\u062f \u062b\u0627\u0646\u06cc\u0647 \u0627\u06cc \u0628\u0631\u0627\u06cc \u0642\u0637\u0639 \u06a9\u0631\u062f\u0646 \u062f\u0631\u062e\u0648\u0627\u0633\u062a \u062a\u0648\u0633\u0637 \u0633\u0631\u0648\u0631 \u0645\u06cc \u0628\u0627\u0634\u06cc\u062f. \u0627\u0645\u06a9\u0627\u0646 \u06a9\u0646\u0633\u0644 \u06a9\u0631\u062f\u0646 \u06cc\u06a9 query \u062f\u0631 \u0645\u0631\u0627\u062d\u0644 \u062e\u0627\u0635 \u0648\u062c\u0648\u062f \u0646\u062f\u0627\u0631\u062f. \u0627\u06af\u0631 \u0634\u0645\u0627 \u0635\u0628\u0631 \u0646\u06a9\u0646\u06cc\u062f \u0648 \u0628\u0631\u0627\u06cc \u0628\u0627\u0631 \u062f\u0648\u0645 Ctrl+C \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f \u0627\u0632 client \u062e\u0627\u0631\u062c \u0645\u06cc \u0634\u0648\u06cc\u062f.</p>\n<p>\u06a9\u0644\u0627\u06cc\u0646\u062a commant-line \u0627\u062c\u0627\u0632\u0647 \u06cc \u067e\u0627\u0633 \u062f\u0627\u062f\u0646 \u062f\u0627\u062f\u0647 \u0647\u0627\u06cc external (\u062c\u062f\u0627\u0648\u0644 \u0645\u0648\u0642\u062a external) \u0631\u0627 \u0628\u0631\u0627\u06cc query \u0647\u0627 \u0645\u06cc \u062f\u0647\u062f. \u0628\u0631\u0627\u06cc \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0628\u06cc\u0634\u062a\u0631 \u0628\u0647 \u0628\u062e\u0634 \"\u062f\u0627\u062f\u0647 \u0647\u0627\u06cc External \u0628\u0631\u0627\u06cc \u067e\u0631\u062f\u0627\u0632\u0634 query\" \u0645\u0631\u0627\u062c\u0639\u0647 \u06a9\u0646\u06cc\u062f.</p>\n<h3 id=\"interfaces_cli_configuration\">\u067e\u06cc\u06a9\u0631\u0628\u0646\u062f\u06cc<a class=\"headerlink\" href=\"#interfaces_cli_configuration\" title=\"Permanent link\">&para;</a></h3>\n<p>\u0634\u0645\u0627 \u0645\u06cc\u062a\u0648\u0627\u0646\u06cc\u062f\u060c \u067e\u0627\u0631\u0627\u0645\u062a\u0631 \u0647\u0627 \u0631\u0627 \u0628\u0647 <code>clickhouse-client</code> (\u062a\u0645\u0627\u0645 \u067e\u0627\u0631\u0627\u0645\u062a\u0631\u0647\u0627 \u062f\u0627\u0631\u0627\u06cc \u0645\u0642\u062f\u0627\u0631 \u067e\u06cc\u0634 \u0641\u0631\u0636 \u0647\u0633\u062a\u0646\u062f) \u0627\u0632 \u062f\u0648 \u0631\u0648\u0634 \u0632\u06cc\u0631 \u067e\u0627\u0633 \u0628\u062f\u06cc\u062f:</p>\n<ul>\n<li>\u0627\u0632 \u0637\u0631\u06cc\u0642 Command Line</li>\n</ul>\n<p>\u06af\u0632\u06cc\u0646\u0647 \u0647\u0627\u06cc Command-line \u0645\u0642\u0627\u062f\u06cc\u0631 \u067e\u06cc\u0634 \u0641\u0631\u0636 \u062f\u0631 \u0633\u062a\u06cc\u0646\u06af \u0648 \u06a9\u0627\u0646\u0641\u06cc\u06af \u0641\u0627\u06cc\u0644 \u0631\u0627 \u0646\u0627\u062f\u06cc\u062f\u0647 \u0645\u06cc\u06af\u06cc\u0631\u062f.</p>\n<ul>\n<li>\u06a9\u0627\u0646\u0641\u06cc\u06af \u0641\u0627\u06cc\u0644 \u0647\u0627.</li>\n</ul>\n<p>\u0633\u062a\u06cc\u0646\u06af \u0647\u0627\u06cc \u062f\u0627\u062e\u0644 \u06a9\u0627\u0646\u0641\u06cc\u06af \u0641\u0627\u06cc\u0644\u060c \u0645\u0642\u0627\u062f\u06cc\u0631 \u067e\u06cc\u0634 \u0641\u0631\u0636 \u0631\u0627 \u0646\u0627\u062f\u06cc\u062f\u0647 \u0645\u06cc \u06af\u06cc\u0631\u062f.</p>\n<h4 id=\"gzynh-hy-command-line\">\u06af\u0632\u06cc\u0646\u0647 \u0647\u0627\u06cc Command line<a class=\"headerlink\" href=\"#gzynh-hy-command-line\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li><code>--host, -h</code> -\u2013 \u0646\u0627\u0645 \u0633\u0631\u0648\u0631\u060c \u0628\u0647 \u0635\u0648\u0631\u062a \u067e\u06cc\u0634 \u0641\u0631\u0636 'localhost' \u0627\u0633\u062a. \u0634\u0645\u0627 \u0645\u06cc\u062a\u0648\u0627\u0646\u06cc\u062f \u06cc\u06a9\u06cc \u0627\u0632 \u0645\u0648\u0627\u0631\u062f \u0646\u0627\u0645 \u0648 \u06cc\u0627 IPv4 \u0648 \u06cc\u0627 IPv6 \u0631\u0627 \u062f\u0631 \u0627\u06cc\u0646 \u06af\u0632\u06cc\u0646\u0647 \u0645\u0634\u062e\u0635 \u06a9\u0646\u06cc\u062f.</li>\n<li><code>--port</code> \u2013 \u067e\u0648\u0631\u062a \u0627\u062a\u0635\u0627\u0644 \u0628\u0647 ClickHouse. \u0645\u0642\u062f\u0627\u0631 \u067e\u06cc\u0634 \u0641\u0631\u0636: 9000. \u062f\u0642\u062a \u06a9\u0646\u06cc\u062f \u06a9\u0647 \u067e\u0631\u062a \u0627\u06cc\u0646\u062a\u0631\u0641\u06cc\u0633 HTTP \u0648 \u0627\u06cc\u0646\u062a\u0641\u0631\u06cc\u0633 native \u0645\u062a\u0641\u0627\u0648\u062a \u0627\u0633\u062a.</li>\n<li><code>--user, -u</code> \u2013 \u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc \u062c\u0647\u062a \u0627\u062a\u0635\u0627\u0644. \u067e\u06cc\u0634 \u0641\u0631\u0636: default.</li>\n<li><code>--password</code> \u2013 \u067e\u0633\u0648\u0631\u062f \u062c\u0647\u062a \u0627\u062a\u0635\u0627\u0644. \u067e\u06cc\u0634 \u0641\u0631\u0636: \u062e\u0627\u0644\u06cc</li>\n<li><code>--query, -q</code> \u2013 \u0645\u0634\u062e\u0635 \u06a9\u0631\u062f\u0646 query \u0628\u0631\u0627\u06cc \u067e\u0631\u062f\u0627\u0632\u0634 \u062f\u0631 \u0647\u0646\u06af\u0627\u0645 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 \u062d\u0627\u0644\u062a non-interactive.</li>\n<li><code>--database, -d</code> \u2013 \u0627\u0646\u062a\u062e\u0627\u0628 \u062f\u06cc\u062a\u0627\u0628\u06cc\u0633 \u062f\u0631 \u0628\u062f\u0648 \u0648\u0631\u0648\u062f \u0628\u0647 \u06a9\u0644\u0627\u06cc\u0646\u062a. \u0645\u0642\u062f\u0627\u0631 \u067e\u06cc\u0634 \u0641\u0631\u0636: \u062f\u06cc\u062a\u0627\u0628\u06cc\u0633 \u0645\u0634\u062e\u0635 \u0634\u062f\u0647 \u062f\u0631 \u062a\u0646\u0638\u06cc\u0645\u0627\u062a \u0633\u0631\u0648\u0631 (\u067e\u06cc\u0634 \u0641\u0631\u0636 'default')</li>\n<li><code>--multiline, -m</code> \u2013 \u0627\u06af\u0631 \u0645\u0634\u062e\u0635 \u0634\u0648\u062f\u060c \u06cc\u0639\u0646\u06cc \u0627\u062c\u0627\u0632\u0647 \u06cc \u0646\u0648\u0634\u062a\u0646 query \u0647\u0627\u06cc \u0686\u0646\u062f \u062e\u0637\u06cc \u0631\u0627 \u0628\u062f\u0647. (\u0628\u0639\u062f \u0627\u0632 Enter\u060c query \u0631\u0627 \u0627\u0631\u0633\u0627\u0644 \u0646\u06a9\u0646).</li>\n<li><code>--multiquery, -n</code> \u2013 \u0627\u06af\u0631 \u0645\u0634\u062e\u0635 \u0634\u0648\u062f\u060c \u0627\u062c\u0627\u0632\u0647 \u06cc \u0627\u062c\u0631\u0627\u06cc \u0686\u0646\u062f\u06cc\u0646 query \u06a9\u0647 \u0627\u0632 \u0637\u0631\u06cc\u0642 \u06a9\u0627\u0645\u0627 \u062c\u062f\u0627 \u0634\u062f\u0647 \u0627\u0646\u062f \u0631\u0627 \u0645\u06cc \u062f\u0647\u062f. \u0641\u0642\u0637 \u062f\u0631 \u062d\u0627\u0644\u062a non-interactive \u06a9\u0627\u0631 \u0645\u06cc \u06a9\u0646\u062f.</li>\n<li><code>--format, -f</code> \u0645\u0634\u062e\u0635 \u06a9\u0631\u062f\u0646 \u0646\u0648\u0639 \u0641\u0631\u0645\u062a \u062e\u0631\u0648\u062c\u06cc</li>\n<li><code>--vertical, -E</code> \u0627\u06af\u0631 \u0645\u0634\u062e\u0635 \u0634\u0648\u062f\u060c \u0627\u0632 \u0641\u0631\u0645\u062a Vertical \u0628\u0631\u0627\u06cc \u0646\u0645\u0627\u06cc\u0634 \u062e\u0631\u0648\u062c\u06cc \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f. \u0627\u06cc\u0646 \u06af\u0632\u06cc\u0646\u0647 \u0645\u0634\u0627\u0628\u0647 '--format=Vertical' \u0645\u06cc \u0628\u0627\u0634\u062f. \u062f\u0631 \u0627\u06cc\u0646 \u0641\u0631\u0645\u062a\u060c \u0647\u0631 \u0645\u0642\u062f\u0627\u0631 \u062f\u0631 \u06cc\u06a9 \u062e\u0637 \u062c\u062f\u06cc\u062f \u0686\u0627\u067e \u0645\u06cc \u0634\u0648\u062f\u060c \u06a9\u0647 \u062f\u0631 \u0647\u0646\u06af\u0627\u0645 \u0646\u0645\u0627\u06cc\u0634 \u062c\u062f\u0627\u0648\u0644 \u0639\u0631\u06cc\u0636 \u0645\u0641\u06cc\u062f \u0627\u0633\u062a.</li>\n<li><code>--time, -t</code> \u0627\u06af\u0631 \u0645\u0634\u062e\u0635 \u0634\u0648\u062f\u060c \u062f\u0631 \u062d\u0627\u0644\u062a non-interactive \u0632\u0645\u0627\u0646 \u0627\u062c\u0631\u0627\u06cc query \u062f\u0631 'stderr' \u062c\u0627\u067e \u0645\u06cc \u0634\u0648\u062f.</li>\n<li><code>--stacktrace</code> \u2013 \u0627\u06af\u0631 \u0645\u0634\u062e\u0635 \u0634\u0648\u062f stack trase \u0645\u0631\u0628\u0648\u0637 \u0628\u0647 \u0627\u062c\u0631\u0627\u06cc query \u062f\u0631 \u0647\u0646\u06af\u0627\u0645 \u0631\u062e \u062f\u0627\u062f\u0646 \u06cc\u06a9 exception \u0686\u0627\u067e \u0645\u06cc \u0634\u0648\u062f.</li>\n<li><code>-config-file</code> \u2013 \u0646\u0627\u0645 \u0641\u0627\u06cc\u0644 \u067e\u06cc\u06a9\u0631\u0628\u0646\u062f\u06cc.</li>\n</ul>\n<h4 id=\"fyl-hy-pykhrbndy\">\u0641\u0627\u06cc\u0644 \u0647\u0627\u06cc \u067e\u06cc\u06a9\u0631\u0628\u0646\u062f\u06cc<a class=\"headerlink\" href=\"#fyl-hy-pykhrbndy\" title=\"Permanent link\">&para;</a></h4>\n<p><code>clickhouse-client</code> \u0628\u0647 \u062a\u0631\u062a\u06cc\u0628 \u0627\u0648\u0644\u0648\u06cc\u062a \u0632\u06cc\u0631 \u0627\u0632 \u0627\u0648\u0644\u06cc\u0646 \u0641\u0627\u06cc\u0644 \u0645\u0648\u062c\u0648\u062f \u0628\u0631\u0627\u06cc \u0633\u062a \u06a9\u0631\u062f\u0646 \u062a\u0646\u0638\u06cc\u0645\u0627\u062a \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u06a9\u0646\u062f:</p>\n<ul>\n<li>\u0645\u0634\u062e\u0635 \u0634\u062f\u0647 \u062f\u0631 \u067e\u0627\u0631\u0627\u0645\u062a\u0631 <code>-config-file</code></li>\n<li><code>./clickhouse-client.xml</code></li>\n<li><code>\\~/.clickhouse-client/config.xml</code></li>\n<li><code>/etc/clickhouse-client/config.xml</code></li>\n</ul>\n<p>\u0645\u062b\u0627\u0644\u06cc \u0627\u0632 \u06cc\u06a9 \u06a9\u0627\u0646\u0641\u06cc\u06af \u0641\u0627\u06cc\u0644</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;config&gt;</span>\n    <span class=\"nt\">&lt;user&gt;</span>username<span class=\"nt\">&lt;/user&gt;</span>\n    <span class=\"nt\">&lt;password&gt;</span>password<span class=\"nt\">&lt;/password&gt;</span>\n<span class=\"nt\">&lt;/config&gt;</span>\n</pre></div>\n\n\n<p><a name=\"../../../../interfaces/tcp/\"></a>\n<a name=\"../../../../../interfaces/tcp/\"></a>\n<a name=\"../../../interfaces/tcp/\"></a>\n<a name=\"../interfaces/tcp/\"></a>\n<a name=\"tcp/\"></a>\n<a name=\"../../interfaces/tcp/\"></a>\n<a name=\"interfaces/tcp/\"></a></p>\n<div dir=\"rtl\">\n<h2 id=\"rbt-bwmy-tcp\">\u0631\u0627\u0628\u0637 \u0628\u0648\u0645\u06cc (TCP)<a class=\"headerlink\" href=\"#rbt-bwmy-tcp\" title=\"Permanent link\">&para;</a></h2>\n<p>\u067e\u0631\u0648\u062a\u06a9\u0644 \u0628\u0648\u0645\u06cc \u062f\u0631 [\u062e\u0637 \u0641\u0631\u0645\u0627\u0646 \u062e\u0637] (cli.md)\u060c \u0628\u0631\u0627\u06cc \u0628\u0631\u0642\u0631\u0627\u0631\u06cc \u0627\u0631\u062a\u0628\u0627\u0637 \u0628\u06cc\u0646 \u0633\u0631\u0648\u0631 \u062f\u0631 \u0637\u06cc \u067e\u0631\u062f\u0627\u0632\u0634 \u067e\u0631\u0633 \u0648 \u062c\u0648 \u062a\u0648\u0632\u06cc\u0639 \u0634\u062f\u0647\u060c \u0648 \u0647\u0645\u0686\u0646\u06cc\u0646 \u062f\u0631 \u0633\u0627\u06cc\u0631 \u0628\u0631\u0646\u0627\u0645\u0647 \u0647\u0627\u06cc C ++ \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f. \u0645\u062a\u0627\u0633\u0641\u0627\u0646\u0647\u060c \u067e\u0631\u0648\u062a\u06a9\u0644 ClickHouse \u0628\u0648\u0645\u06cc \u0647\u0646\u0648\u0632 \u0645\u0634\u062e\u0635\u0627\u062a \u0631\u0633\u0645\u06cc \u0646\u062f\u0627\u0631\u062f\u060c \u0627\u0645\u0627 \u0645\u06cc \u062a\u0648\u0627\u0646 \u0622\u0646 \u0631\u0627 \u0627\u0632 \u06a9\u062f \u0645\u0646\u0628\u0639 ClickHouse (\u0634\u0631\u0648\u0639 <a href=\"https://github.com/yandex/ClickHouse/tree/master/dbms/src/Client\" rel=\"external nofollow\">\u0627\u0632 \u0627\u06cc\u0646\u062c\u0627</a>) \u0648 / \u06cc\u0627 \u0628\u0627 \u0631\u0647\u06af\u06cc\u0631\u06cc \u0648 \u062a\u062c\u0632\u06cc\u0647 \u0648 \u062a\u062d\u0644\u06cc\u0644 \u062a\u0631\u0627\u0641\u06cc\u06a9 TCP.</p>\n</div>\n<p><a name=\"../../../../interfaces/http/\"></a>\n<a name=\"interfaces/http/\"></a>\n<a name=\"http/\"></a>\n<a name=\"../../interfaces/http/\"></a>\n<a name=\"../../../../../interfaces/http/\"></a>\n<a name=\"../../../interfaces/http/\"></a>\n<a name=\"../interfaces/http/\"></a></p>\n<div dir=\"rtl\">\n<h2 id=\"http-interface\">HTTP interface<a class=\"headerlink\" href=\"#http-interface\" title=\"Permanent link\">&para;</a></h2>\n<p>HTTP interface \u0628\u0647 \u0634\u0645\u0627 \u0627\u0645\u06a9\u0627\u0646 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 ClickHpuse \u062f\u0631 \u0647\u0631 \u067e\u0644\u062a\u0641\u0631\u0645 \u0628\u0627 \u0647\u0631 \u0632\u0645\u0627\u0646 \u0628\u0631\u0646\u0627\u0645\u0647 \u0646\u0648\u06cc\u0633\u06cc \u0631\u0627 \u0645\u06cc \u062f\u0647\u062f. \u0645\u0627 \u0627\u0632 \u0627\u06cc\u0646 Interface \u0628\u0631\u0627\u06cc \u0632\u0628\u0627\u0646 \u0647\u0627\u06cc Java \u0648 Perl \u0628\u0647 \u0645\u0627\u0646\u0646\u062f shell \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u06a9\u0646\u06cc\u0645. \u062f\u0631 \u062f\u06cc\u06af\u0631 \u062f\u067e\u0627\u0631\u062a\u0645\u0627\u0646 \u0647\u0627\u060c HTTP interface \u062f\u0631 Perl\u060c Python\u060c \u0648 Go \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f. HTTP Interface \u0645\u062d\u062f\u0648\u062f \u062a\u0631 \u0627\u0632 native interface \u0645\u06cc \u0628\u0627\u0634\u062f\u060c \u0627\u0645\u0627 \u0633\u0627\u0632\u06af\u0627\u0631\u06cc \u0628\u0647\u062a\u0631\u06cc \u062f\u0627\u0631\u062f.</p>\n<p>\u0628\u0647 \u0635\u0648\u0631\u062a \u067e\u06cc\u0634 \u0641\u0631\u0636\u060c clickhouse-server \u0628\u0647 \u067e\u0631\u062a 8123 \u062f\u0631 HTTP \u06af\u0648\u0634 \u0645\u06cc \u062f\u0647\u062f. (\u0645\u06cc\u062a\u0648\u0646\u0647 \u062f\u0631 \u06a9\u0627\u0646\u0641\u06cc\u06af \u0641\u0627\u06cc\u0644 \u062a\u063a\u06cc\u06cc\u0631 \u067e\u06cc\u062f\u0627 \u06a9\u0646\u0647). \u0627\u06af\u0631 \u0634\u0645\u0627 \u06cc\u06a9 \u062f\u0631\u062e\u0648\u0627\u0633\u062a GET / \u0628\u062f\u0648\u0646 \u067e\u0627\u0631\u0627\u0645\u062a\u0631 \u0628\u0633\u0627\u0632\u06cc\u062f\u060c \u0631\u0634\u062a\u0647 \u06cc \"OK\" \u0631\u0648 \u062f\u0631\u06cc\u0627\u0641\u062a \u0645\u06cc \u06a9\u0646\u06cc\u062f (\u0628\u0647 \u0647\u0645\u0631\u0627\u0647 line feed \u062f\u0631 \u0627\u0646\u062a\u0647\u0627). \u0634\u0645\u0627 \u0645\u06cc \u062a\u0648\u0627\u0646\u06cc\u062f \u0627\u0632 \u0627\u06cc\u0646 \u062f\u0631\u062e\u0648\u0627\u0633\u062a \u0628\u0631\u0627\u06cc \u0627\u0633\u06a9\u0631\u06cc\u067e\u062a \u0647\u0627\u06cc health-check \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u062f.</p>\n</div>\n<div class=\"codehilite\"><pre><span></span>$ curl <span class=\"s1\">&#39;http://localhost:8123/&#39;</span>\nOk.\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u062f\u0631\u062e\u0648\u0627\u0633\u062a \u0647\u0627\u06cc \u062e\u0648\u062f \u0631\u0627 \u067e\u0627\u0631\u0627\u0645\u062a\u0631 'query'\u060c \u06cc\u0627 \u0628\u0627 \u0645\u062a\u062f POST\u060c \u06cc\u0627 \u0627\u0628\u062a\u062f\u0627\u06cc query \u0631\u0627 \u062f\u0631 \u067e\u0627\u0631\u0627\u0645\u062a\u0631 'query' \u0627\u0631\u0633\u0627\u0644 \u06a9\u0646\u06cc\u062f\u060c \u0648 \u0628\u0642\u06cc\u0647 \u0631\u0627 \u062f\u0631 POST (\u0628\u0639\u062f\u0627 \u062a\u0648\u0636\u06cc\u062d \u062e\u0648\u0627\u0647\u06cc\u0645 \u062f\u0627\u062f \u06a9\u0647 \u0686\u0631\u0627 \u0627\u06cc\u0646 \u06a9\u0627\u0631 \u0636\u0631\u0648\u0631\u06cc \u0627\u0633\u062a). \u0633\u0627\u06cc\u062a URL \u0645\u062d\u062f\u0648\u062f \u0628\u0647 16 \u06a9\u06cc\u0644\u0648\u0628\u0627\u06cc\u062a \u0627\u0633\u062a\u060c \u067e\u0633 \u0647\u0646\u06af\u0627\u0645 \u0627\u0631\u0633\u0627\u0644 query \u0647\u0627\u06cc \u0628\u0632\u0631\u06af\u060c \u0627\u06cc\u0646\u0648 \u0628\u0647 \u062e\u0627\u0637\u0631 \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u06cc\u062f</p>\n<p>\u0627\u06af\u0631 \u062f\u0631\u062e\u0648\u0627\u0633\u062a \u0645\u0648\u0641\u0642 \u0622\u0645\u06cc\u0632 \u0628\u0627\u0634\u062f\u060c \u0627\u0633\u062a\u0627\u062a\u0648\u0633 \u06a9\u062f 200 \u0631\u0627 \u062f\u0631\u06cc\u0627\u0641\u062a \u0645\u06cc \u06a9\u0646\u06cc\u062f \u0648 \u0646\u062a\u0627\u06cc\u062c \u062f\u0631 \u0628\u062f\u0646\u0647 response \u0645\u06cc \u0628\u0627\u0634\u062f. \u0627\u06af\u0631 \u0627\u0631\u0648\u0631\u06cc \u0631\u062e \u062f\u0647\u062f\u060c \u0627\u0633\u062a\u0627\u062a\u0648\u0633 \u06a9\u062f 500 \u0631\u0627 \u062f\u0631\u06cc\u0627\u0641\u062a \u0645\u06cc \u06a9\u0646\u06cc\u062f \u0648 \u062a\u0648\u0636\u06cc\u062d\u0627\u062a \u0627\u0631\u0648\u0631 \u062f\u0631 \u0628\u062f\u0646\u0647 \u06cc reponse \u0642\u0631\u0627\u0631 \u0645\u06cc \u06af\u06cc\u0631\u062f.</p>\n<p>\u062f\u0631 \u0647\u0646\u06af\u0627\u0645 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 \u0645\u062a\u062f GET\u060c 'readonly' \u0633\u062a \u0645\u06cc \u0634\u0648\u062f. \u0628\u0647 \u0639\u0628\u0627\u0631\u062a \u062f\u06cc\u06af\u0631\u060c \u0628\u0631\u0627\u06cc query \u0647\u0627\u06cc\u06cc \u06a9\u0647 \u0642\u0635\u062f \u062a\u063a\u06cc\u06cc\u0631 \u062f\u06cc\u062a\u0627 \u0631\u0627 \u062f\u0627\u0631\u0646\u062f\u060c \u0634\u0645\u0627 \u0641\u0642\u0637 \u0627\u0632 \u0637\u0631\u06cc\u0642 \u0645\u062a\u062f POST \u0645\u06cc \u062a\u0648\u0627\u0646\u06cc\u062f \u0627\u06cc\u0646 \u062a\u063a\u06cc\u06cc\u0631\u0627\u062a \u0631\u0627 \u0627\u0646\u062c\u0627\u0645 \u062f\u0647\u06cc\u062f. \u0634\u0645\u0627 \u0645\u06cc\u062a\u0648\u0646\u06cc\u062f query \u0631\u0648 \u062f\u0631 \u0628\u062f\u0646\u0647 \u06cc POST \u06cc\u0647 \u06cc\u0627 \u0628\u0647 \u0639\u0646\u0648\u0627\u0646 \u067e\u0627\u0631\u0627\u0645\u062a\u0631 \u0647\u0627\u06cc URL \u0627\u0631\u0633\u0627\u0644 \u06a9\u0646\u06cc\u062f.</p>\n<p>\u0645\u062b\u0627\u0644:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span>$ curl <span class=\"s1\">&#39;http://localhost:8123/?query=SELECT%201&#39;</span>\n<span class=\"m\">1</span>\n\n$ wget -O- -q <span class=\"s1\">&#39;http://localhost:8123/?query=SELECT 1&#39;</span>\n<span class=\"m\">1</span>\n\n$ <span class=\"nb\">echo</span> -ne <span class=\"s1\">&#39;GET /?query=SELECT%201 HTTP/1.0\\r\\n\\r\\n&#39;</span> <span class=\"p\">|</span> nc localhost <span class=\"m\">8123</span>\nHTTP/1.0 <span class=\"m\">200</span> OK\nConnection: Close\nDate: Fri, <span class=\"m\">16</span> Nov <span class=\"m\">2012</span> <span class=\"m\">19</span>:21:50 GMT\n\n<span class=\"m\">1</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u0647\u0645\u0627\u0646\u0637\u0648\u0631 \u06a9\u0647 \u0645\u06cc \u0628\u06cc\u0646\u06cc\u062f\u060c  curl is somewhat inconvenient in that spaces must be URL escaped. \u0647\u0631 \u0686\u0646\u062f wget \u0647\u0645\u0647 \u0686\u06cc\u0632 \u0631\u0627 \u062e\u0648\u062f\u0634 escape \u0645\u06cc \u06a9\u0646\u0647\u060c \u0645\u0627 \u062a\u0648\u0635\u06cc\u0647 \u0628\u0647 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 \u0627\u0648\u0646 \u0631\u0648 \u0646\u0645\u06cc \u06a9\u0646\u06cc\u0645\u060c \u0686\u0648\u0646 wget \u0628\u0647 \u062e\u0648\u0628\u06cc \u0628\u0627 HTTP 1.1 \u062f\u0631 \u0647\u0646\u06af\u0627\u0645 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 \u0647\u062f\u0631 \u0647\u0627\u06cc keep-alive \u0648 Transfer-Encoding: chunked \u06a9\u0627\u0631 \u0646\u0645\u06cc \u06a9\u0646\u062f.</p>\n</div>\n<div class=\"codehilite\"><pre><span></span>$ <span class=\"nb\">echo</span> <span class=\"s1\">&#39;SELECT 1&#39;</span> <span class=\"p\">|</span> curl <span class=\"s1\">&#39;http://localhost:8123/&#39;</span> --data-binary @-\n<span class=\"m\">1</span>\n\n$ <span class=\"nb\">echo</span> <span class=\"s1\">&#39;SELECT 1&#39;</span> <span class=\"p\">|</span> curl <span class=\"s1\">&#39;http://localhost:8123/?query=&#39;</span> --data-binary @-\n<span class=\"m\">1</span>\n\n$ <span class=\"nb\">echo</span> <span class=\"s1\">&#39;1&#39;</span> <span class=\"p\">|</span> curl <span class=\"s1\">&#39;http://localhost:8123/?query=SELECT&#39;</span> --data-binary @-\n<span class=\"m\">1</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u0627\u06af\u0631 \u0628\u062e\u0634\u06cc \u0627\u0632 query \u062f\u0631 \u067e\u0627\u0631\u0627\u0645\u062a\u0631 \u0627\u0631\u0633\u0627\u0644 \u0634\u0648\u062f\u060c \u0648 \u0628\u062e\u0634 \u062f\u06cc\u06af\u0631 \u062f\u0631 POST\u060c \u06cc\u06a9 line feed \u0628\u06cc\u0646 \u062f\u0648 \u0628\u062e\u0634 \u0648\u0627\u0631\u062f \u0645\u06cc \u0634\u0648\u062f. \u0645\u062b\u0627\u0644 (\u0627\u06cc\u0646 \u06a9\u0627\u0631 \u0646\u0645\u06cc \u06a9\u0646\u062f):</p>\n</div>\n<div class=\"codehilite\"><pre><span></span>$ <span class=\"nb\">echo</span> <span class=\"s1\">&#39;ECT 1&#39;</span> <span class=\"p\">|</span> curl <span class=\"s1\">&#39;http://localhost:8123/?query=SEL&#39;</span> --data-binary @-\nCode: <span class=\"m\">59</span>, e.displayText<span class=\"o\">()</span> <span class=\"o\">=</span> DB::Exception: Syntax error: failed at position <span class=\"m\">0</span>: SEL\nECT <span class=\"m\">1</span>\n, expected One of: SHOW TABLES, SHOW DATABASES, SELECT, INSERT, CREATE, ATTACH, RENAME, DROP, DETACH, USE, SET, OPTIMIZE., e.what<span class=\"o\">()</span> <span class=\"o\">=</span> DB::Exception\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u0628\u0647 \u0635\u0648\u0631\u062a \u067e\u06cc\u0634 \u0641\u0631\u0636\u060c \u062f\u0627\u062f\u0647 \u0647\u0627 \u0628\u0627 \u0641\u0631\u0645\u062a TabSeparated \u0628\u0631 \u0645\u06cc\u06af\u0631\u062f\u0646\u062f. (\u0628\u0631\u0627\u06cc \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0628\u06cc\u0634\u062a\u0631 \u0628\u062e\u0634 \"\u0641\u0631\u0645\u062a\" \u0631\u0627 \u0645\u0634\u0627\u0647\u062f\u0647 \u06a9\u0646\u06cc\u062f). \u0634\u0645\u0627 \u0645\u06cc\u062a\u0648\u0627\u0646\u06cc\u062f \u0627\u0632 \u062f\u0633\u062a\u0648\u0631 FORMAT \u062f\u0631 query \u062e\u0648\u062f \u0628\u0631\u0627\u06cc \u0633\u062a \u06a9\u0631\u062f\u0646 \u0641\u0631\u0645\u062a\u06cc \u062f\u06cc\u06af\u0631 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u062f.</p>\n</div>\n<div class=\"codehilite\"><pre><span></span>$ <span class=\"nb\">echo</span> <span class=\"s1\">&#39;SELECT 1 FORMAT Pretty&#39;</span> <span class=\"p\">|</span> curl <span class=\"s1\">&#39;http://localhost:8123/?&#39;</span> --data-binary @-\n\u250f\u2501\u2501\u2501\u2513\n\u2503 <span class=\"m\">1</span> \u2503\n\u2521\u2501\u2501\u2501\u2529\n\u2502 <span class=\"m\">1</span> \u2502\n\u2514\u2500\u2500\u2500\u2518\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u0628\u0631\u0627\u06cc query \u0647\u0627\u06cc INSERT \u0645\u062a\u062f POST \u0636\u0631\u0648\u0631\u06cc \u0627\u0633\u062a. \u062f\u0631 \u0627\u06cc\u0646 \u0645\u0648\u0631\u062f\u060c \u0634\u0645\u0627 \u0645\u06cc \u062a\u0648\u0627\u0646\u06cc\u062f \u0627\u0628\u062a\u062f\u0627\u06cc query \u062e\u0648\u062f \u0631\u0627 \u062f\u0631 URL parameter \u0628\u0646\u0648\u06cc\u0633\u06cc\u062f\u060c \u0648 \u0627\u0632 POST \u0628\u0631\u0627\u06cc \u067e\u0627\u0633 \u062f\u0627\u062f\u0647 \u062f\u0627\u062f\u0647 \u0647\u0627 \u0628\u0631\u0627\u06cc \u062f\u0631\u062c \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u062f. \u062f\u0627\u062f\u0647 \u06cc \u0628\u0631\u0627\u06cc \u062f\u0631\u062c \u0645\u06cc \u062a\u0648\u0627\u0646\u062f\u060c \u0628\u0631\u0627\u06cc \u0645\u062b\u0627\u0644 \u06cc\u06a9 \u062f\u0627\u0645\u067e tab-separated \u0634\u062f\u0647 \u0627\u0632 MySQL \u0628\u0627\u0634\u062f. \u0628\u0647 \u0627\u06cc\u0646 \u062a\u0631\u062a\u06cc\u0628\u060c query INSERT \u062c\u0627\u06cc\u06af\u0632\u06cc\u0646 LOAD DATA LOCAL INFILE \u0627\u0632 MySQL \u0645\u06cc \u0634\u0648\u062f.</p>\n<p>\u0645\u062b\u0627\u0644: \u0633\u0627\u062e\u062a \u062c\u062f\u0648\u0644</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"nb\">echo</span> <span class=\"s1\">&#39;CREATE TABLE t (a UInt8) ENGINE = Memory&#39;</span> <span class=\"p\">|</span> curl <span class=\"s1\">&#39;http://localhost:8123/&#39;</span> --data-binary @-\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 query INSERT \u0628\u0631\u0627\u06cc \u062f\u0631\u062c \u062f\u0627\u062f\u0647:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"nb\">echo</span> <span class=\"s1\">&#39;INSERT INTO t VALUES (1),(2),(3)&#39;</span> <span class=\"p\">|</span> curl <span class=\"s1\">&#39;http://localhost:8123/&#39;</span> --data-binary @-\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u062f\u0627\u062f\u0647 \u0647\u0627 \u0645\u06cc\u062a\u0648\u0627\u0646\u0646\u062f \u062c\u062f\u0627 \u0627\u0632 \u067e\u0627\u0631\u0627\u0645\u062a\u0631 query \u0627\u0631\u0633\u0627\u0644 \u0634\u0648\u0646\u062f:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"nb\">echo</span> <span class=\"s1\">&#39;(4),(5),(6)&#39;</span> <span class=\"p\">|</span> curl <span class=\"s1\">&#39;http://localhost:8123/?query=INSERT%20INTO%20t%20VALUES&#39;</span> --data-binary @-\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u0634\u0645\u0627 \u0645\u06cc \u062a\u0648\u0627\u0646\u06cc\u062f \u0647\u0631 \u0646\u0648\u0639 \u0641\u0631\u0645\u062a \u062f\u06cc\u062a\u0627\u06cc\u06cc \u0645\u0634\u062e\u0635 \u06a9\u0646\u06cc\u062f. \u0641\u0631\u0645\u062a 'Values' \u062f\u0642\u06cc\u0642\u0627 \u0645\u0634\u0627\u0628\u0647 \u0632\u0645\u0627\u0646\u06cc \u0627\u0633\u062a \u06a9\u0647 \u0634\u0645\u0627 INSERT INTO t VALUES \u0631\u0627 \u0645\u06cc \u0646\u0648\u06cc\u0633\u06cc\u062f:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"nb\">echo</span> <span class=\"s1\">&#39;(7),(8),(9)&#39;</span> <span class=\"p\">|</span> curl <span class=\"s1\">&#39;http://localhost:8123/?query=INSERT%20INTO%20t%20FORMAT%20Values&#39;</span> --data-binary @-\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u0628\u0631\u0627\u06cc \u062f\u0631\u062c \u062f\u0627\u062f\u0647 \u0647\u0627 \u0627\u0632 \u06cc\u06a9 \u062f\u0627\u0645\u067e tab-separate\u060c \u0641\u0631\u0645\u062a \u0645\u0634\u062e\u0635 \u0632\u06cc\u0631 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"nb\">echo</span> -ne <span class=\"s1\">&#39;10\\n11\\n12\\n&#39;</span> <span class=\"p\">|</span> curl <span class=\"s1\">&#39;http://localhost:8123/?query=INSERT%20INTO%20t%20FORMAT%20TabSeparated&#39;</span> --data-binary @-\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u0628\u0647 \u062f\u0644\u06cc\u0644 \u067e\u0631\u062f\u0627\u0632\u0634 \u0645\u0648\u0627\u0632\u06cc\u060c \u0646\u062a\u0627\u06cc\u062c query \u0628\u0627 \u062a\u0631\u062a\u06cc\u0628 \u0631\u0646\u062f\u0648\u0645 \u0686\u0627\u067e \u0645\u06cc \u0634\u0648\u062f:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span>$ curl <span class=\"s1\">&#39;http://localhost:8123/?query=SELECT%20a%20FROM%20t&#39;</span>\n<span class=\"m\">7</span>\n<span class=\"m\">8</span>\n<span class=\"m\">9</span>\n<span class=\"m\">10</span>\n<span class=\"m\">11</span>\n<span class=\"m\">12</span>\n<span class=\"m\">1</span>\n<span class=\"m\">2</span>\n<span class=\"m\">3</span>\n<span class=\"m\">4</span>\n<span class=\"m\">5</span>\n<span class=\"m\">6</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u062d\u062f\u0641 \u062c\u062f\u0648\u0644:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"nb\">echo</span> <span class=\"s1\">&#39;DROP TABLE t&#39;</span> <span class=\"p\">|</span> curl <span class=\"s1\">&#39;http://localhost:8123/&#39;</span> --data-binary @-\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u0628\u0631\u0627\u06cc \u062f\u0631\u062e\u0648\u0627\u0633\u062a \u0647\u0627\u06cc\u06cc \u0645\u0648\u0641\u0642\u06cc \u06a9\u0647 \u062f\u0627\u062f\u0647 \u0627\u06cc \u0627\u0632 \u062c\u062f\u0648\u0644 \u0628\u0631 \u0646\u0645\u06cc\u06af\u0631\u062f\u062f\u060c \u0628\u062f\u0646\u0647 response \u062e\u0627\u0644\u06cc \u0627\u0633\u062a.</p>\n<p>\u0634\u0645\u0627 \u0645\u06cc \u062a\u0648\u0627\u0646\u06cc\u062f \u0627\u0632 \u0641\u0631\u0645\u062a \u0641\u0634\u0631\u062f\u0647 \u0633\u0627\u0632\u06cc \u062f\u0627\u062e\u0644\u06cc ClickHouse \u062f\u0631 \u0647\u0646\u06af\u0627\u0646 \u0627\u0646\u062a\u0642\u0627\u0644 \u062f\u0627\u062f\u0647 \u0647\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u062f. \u0627\u06cc\u0646 \u0641\u0634\u0631\u062f\u0647 \u0633\u0627\u0632\u06cc \u062f\u0627\u062f\u0647\u060c \u06cc\u06a9 \u0641\u0631\u0645\u062a \u063a\u06cc\u0631\u0627\u0633\u062a\u0627\u0646\u062f\u0627\u0631\u062f \u0627\u0633\u062a\u060c \u0648 \u0634\u0645\u0627 \u0628\u0627\u06cc\u062f \u0627\u0632 \u0628\u0631\u0646\u0627\u0645\u0647 \u0645\u062e\u0635\u0648\u0635 \u0641\u0634\u0631\u062f\u0647 \u0633\u0627\u0632\u06cc ClickHouse \u0628\u0631\u0627\u06cc \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 \u0622\u0646 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u062f. (\u0627\u06cc\u0646 \u0628\u0631\u0646\u0627\u0645\u0647 \u062f\u0631 \u0647\u0646\u06af\u0627\u0645 \u0646\u0635\u0628 \u067e\u06a9\u06cc\u062c clickhouse-client \u0646\u0635\u0628 \u0634\u062f\u0647 \u0627\u0633\u062a)</p>\n<p>\u0627\u06af\u0631 \u0634\u0645\u0627 \u062f\u0631 URL \u067e\u0627\u0631\u0627\u0645\u062a\u0631 'compress=1' \u0631\u0627 \u0642\u0631\u0627\u0631 \u062f\u0647\u06cc\u062f\u060c \u0633\u0631\u0648\u0631 \u062f\u0627\u062f\u0647 \u0647\u0627\u06cc \u0627\u0631\u0633\u0627\u0644\u06cc \u0628\u0647 \u0634\u0645\u0627 \u0631\u0627 \u0641\u0634\u0631\u062f\u0647 \u0633\u0627\u0632\u06cc \u0645\u06cc \u06a9\u0646\u062f. \u0627\u06af\u0631 \u0634\u0645\u0627 \u067e\u0627\u0631\u0627\u0645\u062a\u0631 'decompress=1' \u0631\u0627 \u062f\u0631 URL \u0633\u062a \u06a9\u0646\u06cc\u062f\u060c \u0633\u0631\u0648\u0631 \u062f\u0627\u062f\u0647 \u0647\u0627\u06cc \u0627\u0631\u0633\u0627\u0644\u06cc \u062a\u0648\u0633\u0637 \u0645\u062a\u062f POST \u0631\u0627 decompress \u0645\u06cc \u06a9\u0646\u062f.</p>\n<p>\u0647\u0645\u0686\u0646\u06cc\u0646 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 \u0641\u0634\u0631\u062f\u0647 \u0633\u0627\u0632\u06cc \u0627\u0633\u062a\u0627\u0646\u062f\u0627\u0631\u062f gzip \u062f\u0631 HTTP \u0645\u0645\u06a9\u0646 \u0627\u0633\u062a. \u0628\u0631\u0627\u06cc \u0627\u0631\u0633\u0627\u0644 \u062f\u0631\u062e\u0648\u0627\u0633\u062a POST \u0648 \u0641\u0634\u0631\u062f\u0647 \u0633\u0627\u0632\u06cc \u0622\u0646 \u0628\u0647 \u0635\u0648\u0631\u062a gzip\u060c \u0647\u062f\u0631 <code>Content-Encoding: gzip</code> \u0631\u0627 \u0628\u0647 request \u062e\u0648\u062f \u0627\u0636\u0627\u0641\u0647 \u06a9\u0646\u06cc\u062f. \u0628\u0631\u0627\u06cc \u0627\u06cc\u0646\u06a9\u0647 ClickHouse\u060c response \u0641\u0634\u0631\u062f\u0647 \u0634\u062f\u0647 \u0628\u0647 \u0635\u0648\u0631\u062a gzip \u0628\u0631\u0627\u06cc \u0634\u0645\u0627 \u0627\u0631\u0633\u0627\u0644 \u06a9\u0646\u062f\u060c \u0627\u0628\u062a\u062f\u0627 \u0628\u0627\u06cc\u062f <code>enable_http_compression</code> \u0631\u0627 \u062f\u0631 \u062a\u0646\u0638\u06cc\u0645\u0627\u062a ClickHouse \u0641\u0639\u0627\u0644 \u06a9\u0646\u06cc\u062f \u0648 \u062f\u0631 \u0627\u062f\u0627\u0645\u0647 \u0647\u062f\u0631 <code>Accept-Encoding: gzip</code> \u0631\u0627 \u0628\u0647 \u062f\u0631\u062e\u0648\u0627\u0633\u062a \u062e\u0648\u062f \u0627\u0636\u0627\u0641\u0647 \u06a9\u0646\u06cc\u062f.</p>\n<p>\u0634\u0645\u0627 \u0645\u06cc \u062a\u0648\u0627\u0646\u06cc\u062f \u0627\u0632 \u0627\u06cc\u0646 \u06a9\u0627\u0631 \u0628\u0631\u0627\u06cc \u06a9\u0627\u0647\u0634 \u062a\u0631\u0627\u0641\u06cc\u06a9 \u0634\u0628\u06a9\u0647 \u0647\u0646\u06af\u0627\u0645 \u0627\u0631\u0633\u0627\u0644 \u0645\u0642\u062f\u0627\u0631 \u0632\u06cc\u0627\u062f\u06cc \u0627\u0632 \u062f\u0627\u062f\u0647 \u0647\u0627 \u06cc\u0627 \u0628\u0631\u0627\u06cc \u0627\u06cc\u062c\u0627\u062f dump \u0647\u0627\u06cc\u06cc \u06a9\u0647 \u0628\u0644\u0627\u0641\u0627\u0635\u0644\u0647 \u0641\u0634\u0631\u062f\u0647 \u0645\u06cc \u0634\u0648\u0646\u062f\u060c \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u062f.</p>\n<p>\u0634\u0645\u0627 \u0645\u06cc \u062a\u0648\u0627\u0646\u06cc\u062f \u0627\u0632 \u067e\u0627\u0631\u0627\u0645\u062a\u0631 'database' \u062f\u0631 URL \u0628\u0631\u0627\u06cc \u0645\u0634\u062e\u0635 \u06a9\u0631\u062f\u0646 \u062f\u06cc\u062a\u0627\u0628\u06cc\u0633 \u067e\u06cc\u0634 \u0641\u0631\u0636 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u062f.</p>\n</div>\n<div class=\"codehilite\"><pre><span></span>$ <span class=\"nb\">echo</span> <span class=\"s1\">&#39;SELECT number FROM numbers LIMIT 10&#39;</span> <span class=\"p\">|</span> curl <span class=\"s1\">&#39;http://localhost:8123/?database=system&#39;</span> --data-binary @-\n<span class=\"m\">0</span>\n<span class=\"m\">1</span>\n<span class=\"m\">2</span>\n<span class=\"m\">3</span>\n<span class=\"m\">4</span>\n<span class=\"m\">5</span>\n<span class=\"m\">6</span>\n<span class=\"m\">7</span>\n<span class=\"m\">8</span>\n<span class=\"m\">9</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u0628\u0647 \u0635\u0648\u0631\u062a \u067e\u06cc\u0634 \u0641\u0631\u0636\u060c \u062f\u06cc\u062a\u0627\u0628\u06cc\u0633 \u062b\u0628\u062a \u0634\u062f\u0647 \u062f\u0631 \u062a\u0646\u0638\u06cc\u0645\u0627\u062a \u0633\u0631\u0648\u0631 \u0628\u0647 \u0639\u0646\u0648\u0627\u0646 \u062f\u06cc\u062a\u0627\u0628\u06cc\u0633 \u067e\u06cc\u0634 \u0641\u0631\u0636 \u0645\u0648\u0631\u062f \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0642\u0631\u0627\u0631 \u0645\u06cc \u06af\u06cc\u0631\u062f\u060c \u0627\u06cc\u0646 \u062f\u06cc\u062a\u0627\u0628\u06cc\u0633 'default' \u0646\u0627\u0645\u06cc\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f. \u0627\u0632 \u0633\u0648\u06cc \u062f\u06cc\u06af\u0631\u060c \u0634\u0645\u0627 \u0645\u06cc \u062a\u0648\u0627\u0646\u06cc\u062f \u0647\u0645\u06cc\u0634\u0647 \u0646\u0627\u0645 \u062f\u06cc\u062a\u0627\u0628\u06cc\u0633 \u0631\u0627 \u0628\u0627 \u062f\u0627\u062a \u0648 \u0642\u0628\u0644 \u0627\u0632 \u0627\u0633\u0645 \u062c\u062f\u0648\u0644 \u0645\u0634\u062e\u0635 \u06a9\u0646\u06cc\u062f.</p>\n<p>\u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc \u0648 \u067e\u0633\u0648\u0631\u062f \u0645\u06cc \u062a\u0648\u0627\u0646\u0646\u062f \u0628\u0647 \u06cc\u06a9\u06cc \u0627\u0632 \u062f\u0648 \u0631\u0648\u0634 \u0632\u06cc\u0631 \u0633\u062a \u0634\u0648\u0646\u062f:</p>\n<ol>\n<li>\u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 HTTP Basic Authentication. \u0645\u062b\u0627\u0644:</li>\n</ol>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"nb\">echo</span> <span class=\"s1\">&#39;SELECT 1&#39;</span> <span class=\"p\">|</span> curl <span class=\"s1\">&#39;http://user:password@localhost:8123/&#39;</span> -d @-\n</pre></div>\n\n\n<div dir=\"rtl\">\n<ol>\n<li>\u0628\u0627 \u062f\u0648 \u067e\u0627\u0631\u0627\u0645\u062a\u0631 'user' \u0648 'password' \u062f\u0631 URL. \u0645\u062b\u0627\u0644:</li>\n</ol>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"nb\">echo</span> <span class=\"s1\">&#39;SELECT 1&#39;</span> <span class=\"p\">|</span> curl <span class=\"s1\">&#39;http://localhost:8123/?user=user&amp;password=password&#39;</span> -d @-\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u0627\u06af\u0631 \u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc \u0645\u0634\u062e\u0635 \u0646\u0634\u0648\u062f\u060c \u0646\u0627\u0645 \u06a9\u0627\u0631\u0628\u0631\u06cc 'default' \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f. \u0627\u06af\u0631 \u067e\u0633\u0648\u0631\u062f \u0645\u0634\u062e\u0635 \u0646\u0634\u0648\u062f\u060c \u067e\u0633\u0648\u0631\u062f \u062e\u0627\u0644\u06cc \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f. \u0634\u0645\u0627 \u0647\u0645\u0686\u0646\u06cc\u0646 \u0645\u06cc \u062a\u0648\u0627\u0646\u06cc\u062f \u0627\u0632 \u067e\u0627\u0631\u0627\u0645\u062a\u0631 \u0647\u0627\u06cc URL \u0628\u0631\u0627\u06cc \u0645\u0634\u062e\u0635 \u06a9\u0631\u062f\u0646 \u0647\u0631 \u062a\u0646\u0638\u06cc\u0645\u06cc \u0628\u0631\u0627\u06cc \u0627\u062c\u0631\u0627\u06cc \u06cc\u06a9 query \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u062f. \u0645\u062b\u0627\u0644: http://localhost:8123/?profile=web&amp;max_rows_to_read=1000000000&amp;query=SELECT+1</p>\n<p>\u0628\u0631\u0627\u06cc \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0628\u06cc\u0634\u062a\u0631 \u0628\u062e\u0634 \"\u062a\u0646\u0638\u06cc\u0645\u0627\u062a\" \u0631\u0627 \u0645\u0634\u0627\u0647\u062f\u0647 \u06a9\u0646\u06cc\u062f.</p>\n</div>\n<div class=\"codehilite\"><pre><span></span>$ <span class=\"nb\">echo</span> <span class=\"s1\">&#39;SELECT number FROM system.numbers LIMIT 10&#39;</span> <span class=\"p\">|</span> curl <span class=\"s1\">&#39;http://localhost:8123/?&#39;</span> --data-binary @-\n<span class=\"m\">0</span>\n<span class=\"m\">1</span>\n<span class=\"m\">2</span>\n<span class=\"m\">3</span>\n<span class=\"m\">4</span>\n<span class=\"m\">5</span>\n<span class=\"m\">6</span>\n<span class=\"m\">7</span>\n<span class=\"m\">8</span>\n<span class=\"m\">9</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u0628\u0631\u0627\u06cc \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0628\u06cc\u0634\u062a\u0631 \u062f\u0631 \u0645\u0648\u0631\u062f \u062f\u06cc\u06af\u0631 \u067e\u0627\u0631\u0627\u0645\u062a\u0631\u0647\u0627\u060c \u0628\u062e\u0634 \"SET\" \u0631\u0627 \u0628\u0628\u06cc\u0646\u06cc\u062f.</p>\n<p>\u0628\u0647 \u0637\u0648\u0631 \u0645\u0634\u0627\u0628\u0647\u060c \u0634\u0645\u0627 \u0645\u06cc \u062a\u0648\u0627\u0646\u06cc\u062f \u0627\u0632 ClickHouse Session \u062f\u0631 HTTP \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u062f. \u0628\u0631\u0627\u06cc \u0627\u06cc\u0646 \u06a9\u0627\u0631\u060c \u0634\u0645\u0627 \u0646\u06cc\u0627\u0632 \u0628\u0647 \u0633\u062a \u06a9\u0631\u062f\u0646 \u067e\u0627\u0631\u0627\u0645\u062a\u0631<code>session_id</code> \u0628\u0631\u0627\u06cc \u062f\u0631\u062e\u0648\u0627\u0633\u062a \u0631\u0627 \u062f\u0627\u0631\u06cc\u062f. \u0634\u0645\u0627 \u0645\u06cc\u062a\u0648\u0627\u0646\u06cc\u062f \u0627\u0632 \u0647\u0631 \u0631\u0634\u062a\u0647 \u0627\u06cc \u0628\u0631\u0627\u06cc \u0633\u062a \u06a9\u0631\u062f\u0646 Session ID \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u062f. \u0628\u0647 \u0635\u0648\u0631\u062a \u067e\u06cc\u0634 \u0641\u0631\u0636\u060c \u06cc\u06a9 session \u0628\u0639\u062f \u0627\u0632 60 \u062b\u0627\u0646\u06cc\u0647 \u0627\u0632 \u0627\u062c\u0631\u0627\u06cc \u0622\u062e\u0631\u06cc\u0646 \u062f\u0631\u062e\u0648\u0627\u0633\u062a \u0646\u0627\u0628\u0648\u062f \u0645\u06cc \u0634\u0648\u062f. \u0628\u0631\u0627\u06cc \u062a\u063a\u06cc\u06cc\u0631 \u0632\u0645\u0627\u0646 timeout\u060c \u0628\u0627\u06cc\u062f <code>default_session_timeout</code> \u0631\u0627 \u062f\u0631 \u062a\u0646\u0638\u06cc\u0645\u0627\u062a \u0633\u0631\u0648\u0631 \u062a\u063a\u06cc\u06cc\u0631 \u062f\u0647\u06cc\u062f \u0648 \u06cc\u0627 \u067e\u0627\u0631\u0627\u0645\u062a\u0631 <code>session_timeout</code> \u062f\u0631 \u0647\u0646\u06af\u0627\u0645 \u062f\u0631\u062e\u0648\u0627\u0633\u062a \u0633\u062a \u06a9\u0646\u06cc\u062f. \u0628\u0631\u0627\u06cc \u0628\u0631\u0631\u0633\u06cc \u0648\u0636\u0639\u06cc\u062a status \u0627\u0632 \u067e\u0627\u0631\u0627\u0645\u062a\u0631 <code>session_check=1</code> \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u062f. \u0628\u0627 \u06cc\u06a9 session \u062a\u0646\u0647\u0627 \u06cc\u06a9 query \u062f\u0631 \u0644\u062d\u0638\u0647 \u0645\u06cc \u062a\u0648\u0627\u0646 \u0627\u062c\u0631\u0627 \u06a9\u0631\u062f.</p>\n<p>\u06af\u0632\u06cc\u0646\u0647 \u0627\u06cc \u0628\u0631\u0627\u06cc \u062f\u0631\u06cc\u0627\u0641\u062a \u0627\u0637\u0644\u0627\u0639\u0627\u062a progress \u0627\u062c\u0631\u0627\u06cc query \u0648\u062c\u0648\u062f \u062f\u0627\u0631\u062f. \u0627\u06cc\u0646 \u06af\u0632\u06cc\u0646\u0647 \u0647\u062f\u0631 X-ClickHouse-Progress \u0645\u06cc \u0628\u0627\u0634\u062f. \u0628\u0631\u0627\u06cc \u0627\u06cc\u0646 \u06a9\u0627\u0631 \u062a\u0646\u0638\u06cc\u0645 send_progress_in_http_headers \u062f\u0631 \u06a9\u0627\u0646\u0641\u06cc\u06af \u0641\u0627\u06cc\u0644 \u0641\u0639\u0627\u0644 \u06a9\u0646\u06cc\u062f.</p>\n<p>\u062f\u0631\u062e\u0648\u0627\u0633\u062a \u062f\u0631 \u062d\u0627\u0644 \u0627\u062c\u0631\u0627\u060c \u062f\u0631 \u0635\u0648\u0631\u062a \u0644\u0627\u0633\u062a \u0634\u062f\u0646 \u06a9\u0627\u0646\u06a9\u0634\u0646 HTTP \u0628\u0647 \u0635\u0648\u0631\u062a \u0627\u062a\u0648\u0645\u0627\u062a\u06cc\u06a9 \u0645\u062a\u0648\u0642\u0641 \u0646\u0645\u06cc \u0634\u0648\u062f. \u067e\u0627\u0631\u0633 \u06a9\u0631\u062f\u0646 \u0648 \u0641\u0631\u0645\u062a \u06a9\u0631\u062f\u0646 \u062f\u0627\u062f\u0647 \u0647\u0627 \u062f\u0631 \u0633\u0645\u062a \u0633\u0631\u0648\u0631 \u0635\u0648\u0631\u062a \u0645\u06cc \u06af\u06cc\u0631\u062f\u060c \u0648 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 \u0634\u0628\u06a9\u0647 \u0645\u0645\u06a9\u0646 \u0627\u0633\u062a \u0646\u0627\u06a9\u0627\u0631\u0622\u0645\u062f \u0628\u0627\u0634\u062f. \u067e\u0627\u0631\u0627\u0645\u062a\u0631 'query_id' \u0645\u06cc \u062a\u0648\u0646\u0647 \u0628\u0647 \u0639\u0646\u0648\u0627\u0646 query id \u067e\u0627\u0633 \u062f\u0627\u062f\u0647 \u0634\u0648\u062f (\u0647\u0631 \u0631\u0634\u062a\u0647 \u0627\u06cc \u0642\u0627\u0628\u0644 \u0642\u0628\u0648\u0644 \u0627\u0633\u062a). \u0628\u0631\u0627\u06cc \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0628\u06cc\u0634\u062a\u0631 \u0628\u062e\u0634 \"\u062a\u0646\u0638\u06cc\u0645\u0627\u062a\u060c replace_running_query\" \u0631\u0627 \u0645\u0634\u0627\u0647\u062f\u0647 \u06a9\u0646\u06cc\u062f.</p>\n<p>\u067e\u0627\u0631\u0627\u0645\u062a\u0631 'quoto_key' \u0645\u06cc \u062a\u0648\u0627\u0646\u062f \u0628\u0647 \u0639\u0646\u0648\u0627\u0646 quoto key \u067e\u0627\u0633 \u062f\u0627\u062f\u0647 \u0634\u0648\u062f (\u0647\u0631 \u0631\u0634\u062a\u0647 \u0627\u06cc \u0642\u0627\u0628\u0644 \u0642\u0628\u0648\u0644 \u0627\u0633\u062a). \u0628\u0631\u0627\u06cc \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0628\u06cc\u0634\u062a\u0631 \u0628\u062e\u0634 \"Quotas\" \u0631\u0627 \u0645\u0634\u0627\u0647\u062f\u0647 \u06a9\u0646\u06cc\u062f.</p>\n<p>HTTP interface \u0627\u062c\u0627\u0632\u0647 \u06cc \u067e\u0627\u0633 \u062f\u0627\u062f\u0646 \u062f\u0627\u062f\u0647 \u0647\u0627\u06cc external (\u062c\u062f\u0627\u0648\u0644 \u0645\u0648\u0642\u062a external) \u0628\u0647 query \u0631\u0627 \u0645\u06cc \u062f\u0647\u062f. \u0628\u0631\u0627\u06cc \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0628\u06cc\u0634\u062a\u0631\u060c \u0628\u062e\u0634 \"\u062f\u0627\u062f\u0647 \u0647\u0627\u06cc External \u0628\u0631\u0627\u06cc \u067e\u0631\u062f\u0627\u0632\u0634 query\" \u0631\u0627 \u0645\u0634\u0627\u0647\u062f\u0647 \u06a9\u0646\u06cc\u062f.</p>\n<h3 id=\"bfryng-response\">\u0628\u0627\u0641\u0631\u06cc\u0646\u06af Response<a class=\"headerlink\" href=\"#bfryng-response\" title=\"Permanent link\">&para;</a></h3>\n<p>\u0634\u0645\u0627 \u0645\u06cc \u062a\u0648\u0627\u0646\u06cc\u062f \u062f\u0631 \u0633\u0645\u062a \u0633\u0631\u0648\u0631 \u0642\u0627\u0628\u0644\u06cc \u0628\u0627\u0641\u0631\u06cc\u0646\u06af response \u0631\u0627 \u0641\u0639\u0627\u0644 \u06a9\u0646\u06cc\u062f. \u067e\u0627\u0631\u0627\u0645\u062a\u0631\u0647\u0627\u06cc <code>buffer_size</code> \u0648 <code>wait_end_of_query</code> \u062f\u0631 URL \u0628\u0631\u0627\u06cc \u0627\u06cc\u0646 \u0647\u062f\u0641 \u0627\u0631\u0627\u0626\u0647 \u0634\u062f\u0647 \u0627\u0646\u062f.</p>\n<p><code>buffer_size</code> \u062a\u0639\u06cc\u06cc\u0646 \u06a9\u0646\u0646\u062f\u0647 \u06cc \u0627\u0646\u062f\u0627\u0632\u0647 \u06cc \u0646\u062a\u06cc\u062c\u0647 (\u0628\u0627\u06cc\u062a) \u0628\u0631\u0627\u06cc \u0628\u0627\u0641\u0631 \u0634\u062f\u0646 \u062f\u0631 \u062d\u0627\u0641\u0638\u0647 \u0633\u0631\u0648\u0631 \u0627\u0633\u062a. \u0627\u06af\u0631 \u0628\u062f\u0646\u0647 \u06cc \u0646\u062a\u06cc\u062c\u0647 \u0628\u06cc\u0634 \u0628\u0632\u0631\u06af\u062a\u0631 \u0627\u0632 \u0627\u06cc\u0646 threshold \u0628\u0627\u0634\u062f\u060c \u0628\u0627\u0641\u0631 \u0628\u0631 \u0631\u0648\u06cc HTTP channel \u0646\u0648\u0634\u062a\u0647 \u0645\u06cc \u0634\u0648\u062f \u0648 \u0628\u0627\u0642\u06cc \u0645\u0627\u0646\u062f\u0647 \u06cc \u062f\u06cc\u062a\u0627 \u0628\u0647 \u0635\u0648\u0631\u062a \u0645\u0633\u062a\u0642\u06cc\u0645 \u0628\u0647 HTTP Channel \u0627\u0631\u0633\u0627\u0644 \u0645\u06cc \u0634\u0648\u062f.</p>\n<p>\u0628\u0631\u0627\u06cc \u0627\u06cc\u0646\u06a9\u0647 \u0645\u0637\u0645\u0639\u0646 \u0628\u0634\u06cc\u062f \u06a9\u0647 \u06a9\u0644 response \u0628\u0627\u0641\u0631 \u0634\u062f\u0647 \u0627\u0633\u062a\u060c <code>wait_end_of_query=1</code> \u0631\u0627 \u0633\u062a \u06a9\u0646\u06cc\u062f. \u062f\u0631 \u0627\u06cc\u0646 \u0645\u0648\u0631\u062f\u060c \u062f\u0627\u062f\u0647 \u0647\u0627\u06cc \u06a9\u0647 \u062f\u0631 \u062d\u0627\u0641\u0638\u0647 \u0630\u062e\u06cc\u0631\u0647 \u0646\u0645\u06cc \u0634\u0648\u0646\u062f\u060c \u062f\u0631 \u06cc\u06a9 \u0641\u0627\u06cc\u0644 \u0645\u0648\u0642\u062a \u0633\u0645\u062a \u0633\u0631\u0648\u0631 \u0628\u0627\u0641\u0631 \u0645\u06cc \u0634\u0648\u0646\u062f.</p>\n<p>\u0645\u062b\u0627\u0644:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span>curl -sS <span class=\"s1\">&#39;http://localhost:8123/?max_result_bytes=4000000&amp;buffer_size=3000000&amp;wait_end_of_query=1&#39;</span> -d <span class=\"s1\">&#39;SELECT toUInt8(number) FROM system.numbers LIMIT 9000000 FORMAT RowBinary&#39;</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u0627\u0632 \u0628\u0627\u0641\u0631\u06cc\u0646\u06af \u0628\u0647 \u0645\u0646\u0638\u0648\u0631 \u0627\u062c\u062a\u0646\u0627\u0628 \u0627\u0632 \u0634\u0631\u0627\u06cc\u0637\u06cc \u06a9\u0647 \u06cc\u06a9 \u062e\u0637\u0627\u06cc \u067e\u0631\u062f\u0627\u0632\u0634 query \u0631\u062e \u062f\u0627\u062f\u0647 \u0628\u0639\u062f \u0627\u0632 response \u06a9\u062f \u0648 \u0647\u062f\u0631 \u0647\u0627\u06cc \u0627\u0631\u0633\u0627\u0644 \u0634\u062f\u0647 \u0628\u0647 \u06a9\u0644\u0627\u06cc\u0646\u062a \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u062f. \u062f\u0631 \u0627\u06cc\u0646 \u0634\u0631\u0627\u06cc\u0637\u060c \u067e\u06cc\u063a\u0627\u0645 \u062e\u0637\u0627 \u062f\u0631 \u0627\u0646\u062a\u0647\u0627\u06cc \u0628\u0646\u062f\u0647 response \u0646\u0648\u0634\u062a\u0647 \u0645\u06cc \u0634\u0648\u062f\u060c \u0648 \u062f\u0631 \u0633\u0645\u062a \u06a9\u0644\u0627\u06cc\u0646\u062a\u060c \u067e\u06cc\u063a\u0627\u0645 \u062e\u0637\u0627 \u0641\u0642\u0637 \u0627\u0632 \u0637\u0631\u06cc\u0642 \u0645\u0631\u062d\u0644\u0647 \u067e\u0627\u0631\u0633 \u06a9\u0631\u062f\u0646 \u0642\u0627\u0628\u0644 \u0634\u0646\u0627\u0633\u0627\u06cc\u06cc \u0627\u0633\u062a.</p>\n</div>\n<p><a name=\"../interfaces/formats/\"></a>\n<a name=\"interfaces/formats/\"></a>\n<a name=\"formats/\"></a>\n<a name=\"../../../../../interfaces/formats/\"></a>\n<a name=\"../../interfaces/formats/\"></a>\n<a name=\"../../../interfaces/formats/\"></a>\n<a name=\"../../../../interfaces/formats/\"></a></p>\n<div dir=\"rtl\">\n<h2 id=\"formats\">\u0641\u0631\u0645\u062a \u0647\u0627\u06cc Input \u0648 Output<a class=\"headerlink\" href=\"#formats\" title=\"Permanent link\">&para;</a></h2>\n<p>\u0641\u0631\u0645\u062a \u062a\u0639\u06cc\u06cc\u0646 \u0645\u06cc \u06a9\u0646\u062f \u06a9\u0647 \u0686\u06af\u0648\u0646\u0647 \u062f\u0627\u062f\u0647 \u0647\u0627 \u067e\u0633 \u0627\u0632 \u0627\u062c\u0631\u0627\u06cc SELECT (\u0686\u06af\u0648\u0646\u0647 \u0646\u0648\u0634\u062a\u0647 \u0634\u062f\u0647 \u0648 \u0686\u06af\u0648\u0646\u0647 \u062a\u0648\u0633\u0637 \u0633\u0631\u0648\u0631 \u0641\u0631\u0645\u062a \u0634\u062f\u0647) \u0628\u0647 \u0634\u0645\u0627 \u0628\u0631 \u0645\u06cc \u06af\u0631\u062f\u062f\u060c \u0648 \u0686\u06af\u0648\u0646\u0647 \u0622\u0646 \u0628\u0631\u0627\u06cc INSERT \u0647\u0627 \u067e\u0630\u06cc\u0631\u0641\u062a\u0647 \u0634\u062f\u0647 (\u0686\u06af\u0648\u0646\u0647 \u0622\u0646 \u062a\u0648\u0633\u0637 \u0633\u0631\u0648\u0631 \u067e\u0627\u0631\u0633 \u0648 \u062e\u0648\u0627\u0646\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f).</p>\n<p>\u062c\u062f\u0648\u0644 \u0632\u06cc\u0631 \u0644\u06cc\u0633\u062a \u0641\u0631\u0645\u062a \u0647\u0627\u06cc \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u0634\u062f\u0647 \u0628\u0631\u0627\u06cc \u0647\u0631 \u0646\u0648\u0639 \u0627\u0632 query \u0647\u0627 \u0631\u0627 \u0646\u0645\u0627\u06cc\u0634 \u0645\u06cc \u062f\u0647\u062f.</p>\n<table>\n<thead>\n<tr>\n<th>Format</th>\n<th>INSERT</th>\n<th>SELECT</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><a href=\"#tabseparated\">TabSeparated</a></td>\n<td>\u2714</td>\n<td>\u2714</td>\n</tr>\n<tr>\n<td><a href=\"#tabseparatedraw\">TabSeparatedRaw</a></td>\n<td>\u2717</td>\n<td>\u2714</td>\n</tr>\n<tr>\n<td><a href=\"#tabseparatedwithnames\">TabSeparatedWithNames</a></td>\n<td>\u2714</td>\n<td>\u2714</td>\n</tr>\n<tr>\n<td><a href=\"#tabseparatedwithnamesandtypes\">TabSeparatedWithNamesAndTypes</a></td>\n<td>\u2714</td>\n<td>\u2714</td>\n</tr>\n<tr>\n<td><a href=\"#csv\">CSV</a></td>\n<td>\u2714</td>\n<td>\u2714</td>\n</tr>\n<tr>\n<td><a href=\"#csvwithnames\">CSVWithNames</a></td>\n<td>\u2714</td>\n<td>\u2714</td>\n</tr>\n<tr>\n<td><a href=\"#data-format-values\">Values</a></td>\n<td>\u2714</td>\n<td>\u2714</td>\n</tr>\n<tr>\n<td><a href=\"#vertical\">Vertical</a></td>\n<td>\u2717</td>\n<td>\u2714</td>\n</tr>\n<tr>\n<td><a href=\"#verticalraw\">VerticalRaw</a></td>\n<td>\u2717</td>\n<td>\u2714</td>\n</tr>\n<tr>\n<td><a href=\"#json\">JSON</a></td>\n<td>\u2717</td>\n<td>\u2714</td>\n</tr>\n<tr>\n<td><a href=\"#jsoncompact\">JSONCompact</a></td>\n<td>\u2717</td>\n<td>\u2714</td>\n</tr>\n<tr>\n<td><a href=\"#jsoneachrow\">JSONEachRow</a></td>\n<td>\u2714</td>\n<td>\u2714</td>\n</tr>\n<tr>\n<td><a href=\"#tskv\">TSKV</a></td>\n<td>\u2714</td>\n<td>\u2714</td>\n</tr>\n<tr>\n<td><a href=\"#pretty\">Pretty</a></td>\n<td>\u2717</td>\n<td>\u2714</td>\n</tr>\n<tr>\n<td><a href=\"#prettycompact\">PrettyCompact</a></td>\n<td>\u2717</td>\n<td>\u2714</td>\n</tr>\n<tr>\n<td><a href=\"#prettycompactmonoblock\">PrettyCompactMonoBlock</a></td>\n<td>\u2717</td>\n<td>\u2714</td>\n</tr>\n<tr>\n<td><a href=\"#prettynoescapes\">PrettyNoEscapes</a></td>\n<td>\u2717</td>\n<td>\u2714</td>\n</tr>\n<tr>\n<td><a href=\"#prettyspace\">PrettySpace</a></td>\n<td>\u2717</td>\n<td>\u2714</td>\n</tr>\n<tr>\n<td><a href=\"#rowbinary\">RowBinary</a></td>\n<td>\u2714</td>\n<td>\u2714</td>\n</tr>\n<tr>\n<td><a href=\"#native\">Native</a></td>\n<td>\u2714</td>\n<td>\u2714</td>\n</tr>\n<tr>\n<td><a href=\"#null\">Null</a></td>\n<td>\u2717</td>\n<td>\u2714</td>\n</tr>\n<tr>\n<td><a href=\"#xml\">XML</a></td>\n<td>\u2717</td>\n<td>\u2714</td>\n</tr>\n<tr>\n<td><a href=\"#capnproto\">CapnProto</a></td>\n<td>\u2714</td>\n<td>\u2714</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"tabseparated\">TabSeparated<a class=\"headerlink\" href=\"#tabseparated\" title=\"Permanent link\">&para;</a></h3>\n<p>\u062f\u0631 \u0641\u0631\u0645\u062a TabSeparated\u060c \u062f\u0627\u062f\u0647 \u0647\u0627 \u0628\u0647 \u0635\u0648\u0631\u062a \u0633\u0637\u0631 \u0646\u0648\u0634\u062a\u0647 \u0645\u06cc \u0634\u0648\u0646\u062f. \u0647\u0631 \u0633\u0637\u0631 \u0634\u0627\u0645\u0644 \u0645\u0642\u0627\u062f\u06cc\u0631 \u062c\u062f\u0627 \u0634\u062f\u0647 \u0628\u0627 tab \u0645\u06cc \u0628\u0627\u0634\u062f. \u0647\u0631 \u0645\u0642\u062f\u0627\u0631 \u0628\u0627 \u06cc\u06a9 tab \u062f\u0646\u0628\u0627\u0644 \u0645\u06cc \u0634\u0648\u062f\u060c \u0628\u0647 \u062c\u0632 \u0622\u062e\u0631\u06cc\u0646 \u0645\u0642\u062f\u0627\u0631 \u06cc\u06a9 \u0633\u0637\u0631\u060c \u06a9\u0647 \u0628\u0627 line feed \u062f\u0646\u0628\u0627\u0644 \u0645\u06cc \u0634\u0648\u062f. line feed unix \u062f\u0631 \u0647\u0645\u0647 \u062c\u0627 \u0645\u0648\u0631\u062f \u062a\u0633\u0627\u0641\u062f\u0647 \u0642\u0631\u0627\u0631 \u0645\u06cc \u06af\u06cc\u0631\u062f. \u0622\u062e\u0631\u06cc\u0646 \u0633\u0637\u0631 \u0627\u0632 \u062e\u0631\u0648\u062c\u06cc \u0647\u0645 \u0628\u0627\u06cc\u062f \u0634\u0627\u0645\u0644 line feed \u062f\u0631 \u0627\u0646\u062a\u0647\u0627 \u0628\u0627\u0634\u062f. \u0645\u0642\u0627\u062f\u06cc\u0631 \u062f\u0631 \u0641\u0631\u0645\u062a \u0645\u062a\u0646\u06cc \u0628\u062f\u0648\u0646 enclose \u0628\u0627 \u06a9\u0648\u062a\u06cc\u0634\u0648\u0646\u060c \u0648 \u06cc\u0627 escape \u0628\u0627 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631\u0647\u0627\u06cc \u0648\u06cc\u0698\u0647\u060c \u0646\u0648\u0634\u062a\u0647 \u0645\u06cc \u0634\u0648\u0646\u062f.</p>\n<p>\u0627\u0639\u062f\u0627\u062f Integer \u0628\u0627 \u0641\u0631\u0645 decimal \u0646\u0648\u0634\u062a\u0647 \u0645\u06cc \u0634\u0648\u0646\u062f. \u0627\u0639\u062f\u0627\u062f \u0645\u06cc \u062a\u0648\u0627\u0646\u0646\u062f \u0634\u0627\u0645\u0644 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u0627\u0636\u0627\u0641\u0647 \"+\" \u062f\u0631 \u0627\u0628\u062a\u062f\u0627\u06cc \u062e\u0648\u062f \u0628\u0627\u0634\u0646\u062f. (\u062f\u0631 \u0647\u0646\u06af\u0627\u0645 \u067e\u0627\u0631\u0633 \u06a9\u0631\u062f\u0646 \u0646\u0627\u062f\u06cc\u062f\u0647 \u06af\u0631\u0641\u062a\u0647 \u0645\u06cc \u0634\u0648\u0646\u062f\u060c \u0648 \u062f\u0631 \u0647\u0646\u06af\u0627\u0645 \u0641\u0631\u0645\u062a \u06a9\u0631\u062f\u0646\u060c \u062b\u0628\u062a \u0646\u0645\u06cc \u0634\u0648\u0646\u062f). \u0627\u0639\u062f\u0627\u062f \u063a\u06cc\u0631 \u0645\u0646\u0641\u06cc \u0646\u0645\u06cc\u062a\u0648\u0627\u0646\u0646\u062f \u0634\u0627\u0645\u0644 \u0639\u0644\u0627\u0645\u062a \u0645\u0646\u0641\u06cc \u0628\u0627\u0634\u0646\u062f. \u062f\u0631 \u0647\u0646\u06af\u0627\u0645 \u062e\u0648\u0627\u0646\u062f\u0646\u060c \u0627\u062c\u0627\u0632\u0647 \u062f\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f \u06a9\u0647 \u0631\u0634\u062a\u0647 \u062e\u0627\u0644\u06cc \u0631\u0627 \u0628\u0647 \u0639\u0646\u0648\u0627\u0646 \u0635\u0641\u0631\u060c \u067e\u0627\u0631\u0633 \u06a9\u0631\u062f\u060c \u06cc\u0627 (\u0628\u0631\u0627\u06cc \u062a\u0627\u06cc\u067e \u0647\u0627\u06cc sign) \u06cc\u06a9 \u0631\u0634\u062a\u0647 \u06a9\u0647 \u0634\u0627\u0645\u0644 \u0641\u0642\u0637 \u06cc\u06a9 \u0639\u0644\u0627\u0645\u062a \u0645\u0646\u0641\u06cc \u0627\u0633\u062a \u0628\u0647 \u0639\u0646\u0648\u0627\u0646 \u0635\u0641\u0631 \u067e\u0627\u0631\u0633 \u06a9\u0631\u062f. \u0627\u0639\u062f\u0627\u062f\u06cc \u06a9\u0647 \u062f\u0631 data type \u0645\u0631\u0628\u0648\u0637\u0647 \u0641\u06cc\u062a \u0646\u0634\u0648\u0646\u062f \u0645\u0645\u06a9\u0646 \u0627\u0633\u062a \u0628\u0647 \u0639\u062f\u062f\u06cc \u0645\u062a\u0641\u0627\u0648\u062a \u062a\u0628\u062f\u06cc\u0644 \u0634\u0648\u0646\u062f \u0648 \u067e\u06cc\u063a\u0627\u0645 \u062e\u0637\u0627\u06cc\u06cc \u0647\u0645 \u0646\u0645\u0627\u06cc\u0634 \u0646\u062f\u0647\u0646\u062f.</p>\n<p>\u0627\u0639\u062f\u0627\u062f Floating-point \u0628\u0647 \u0641\u0631\u0645 decimal \u0646\u0648\u0634\u062a\u0647 \u0645\u06cc \u0634\u0648\u0646\u062f. \u0627\u0632 \u062f\u0627\u062a \u0628\u0647 \u0639\u0646\u0648\u0627\u0646 \u062c\u062f\u0627 \u06a9\u0646\u0646\u062f\u0647 decimal \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f. \u0646\u0648\u0634\u062a\u0647 \u0647\u0627\u06cc \u0646\u0645\u0627\u06cc\u0634\u06cc \u0645\u062b\u0644 'inf'\u060c '+inf'\u060c '-inf' \u0648 'nan' \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u0645\u06cc \u0634\u0648\u0646\u062f. \u0648\u0631\u0648\u062f\u06cc \u0627\u0639\u062f\u0627\u062f floating-point \u0645\u06cc \u062a\u0648\u0627\u0646\u062f \u0628\u0627 \u06cc\u0647 \u0646\u0642\u0637\u0647 \u0627\u0639\u0634\u0627\u0631 \u0634\u0631\u0648\u0639 \u06cc\u0627 \u067e\u0627\u06cc\u0627\u0646 \u06cc\u0627\u0628\u062f. \u062f\u0631 \u0647\u0646\u06af\u0627\u0645 \u0641\u0631\u0645\u062a\u060c \u062f\u0642\u062a \u0627\u0639\u062f\u0627\u062f floating-point \u0645\u0645\u06a9\u0646 \u0627\u0633\u062a \u06af\u0645 \u0634\u0648\u0646\u062f. \u062f\u0631 \u0647\u0646\u06af\u0627\u0645 \u067e\u0627\u0631\u0633 \u06a9\u0631\u062f\u0646\u060c \u062f\u0642\u06cc\u0642\u0627 \u0646\u06cc\u0627\u0632\u06cc \u0628\u0647 \u062e\u0648\u0627\u0646\u062f\u0646 \u0646\u0632\u062f\u06cc\u06a9\u062a\u0631\u06cc\u0646 \u0639\u062f\u062f machine-representable \u0646\u06cc\u0633\u062a.</p>\n<p>Dates \u0628\u0627 \u0641\u0631\u0645\u062a YYY-MM-DD \u0646\u0648\u0634\u062a\u0647 \u0645\u06cc \u0634\u0648\u0646\u062f \u0648 \u0628\u0647 \u0647\u0645\u06cc\u0646 \u062d\u0627\u0644\u062a \u067e\u0627\u0631\u0633 \u0645\u06cc \u0634\u0648\u0646\u062f\u060c \u0627\u0645\u0627 \u0628\u0627 \u0647\u0631 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631\u06cc \u0628\u0647 \u0639\u0646\u0648\u0627\u0646 \u062c\u062f\u0627 \u06a9\u0646\u0646\u062f\u0647. Dates \u0628\u0647 \u0647\u0645\u0631\u0627\u0647 \u0632\u0645\u0627\u0646 \u0628\u0627 \u0641\u0631\u0645\u062a YYYY-MM-DD hh:mm:ss \u0646\u0648\u0634\u062a\u0647 \u0645\u06cc \u0634\u0648\u0646\u062f \u0648 \u0628\u0627 \u0647\u0645\u06cc\u0646 \u0641\u0631\u0645\u062a \u067e\u0627\u0631\u0633 \u0645\u06cc \u0634\u0648\u0646\u062f\u060c \u0627\u0645\u0627 \u0628\u0627 \u0647\u0631 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631\u06cc \u0628\u0647 \u0639\u0646\u0648\u0627\u0646 \u062c\u062f\u0627\u06a9\u0646\u0646\u062f\u0647.  \u0627\u06cc\u0646 \u062f\u0631 \u0645\u0646\u0637\u0642\u0647 \u0632\u0645\u0627\u0646 \u0633\u06cc\u0633\u062a\u0645 \u062f\u0631 \u0632\u0645\u0627\u0646\u06cc \u06a9\u0647 \u06a9\u0644\u0627\u06cc\u0646\u062a \u06cc\u0627 \u0633\u0631\u0648\u0631 \u0634\u0631\u0648\u0639 \u0645\u06cc \u0634\u0648\u062f (\u0628\u0633\u062a\u0647 \u0628\u0647 \u0627\u06cc\u0646\u06a9\u0647 \u06a9\u062f\u0627\u0645 \u06cc\u06a9 \u0627\u0632 \u062f\u0627\u062f\u0647 \u0647\u0627 \u0631\u0627 \u062a\u0634\u06a9\u06cc\u0644 \u0645\u06cc \u062f\u0647\u062f) \u0631\u062e \u0645\u06cc \u062f\u0647\u062f. \u0628\u0631\u0627\u06cc \u062a\u0627\u0631\u06cc\u062e \u0647\u0645\u0631\u0627\u0647 \u0628\u0627 \u0632\u0645\u0627\u0646 DST \u0645\u0634\u062e\u0635 \u0646\u0645\u06cc \u0634\u0648\u062f. \u067e\u0633 \u0627\u06af\u0631 \u06cc\u06a9 \u062f\u0627\u0645\u067e \u062f\u0627\u0631\u0627\u06cc \u0632\u0645\u0627\u0646 DST \u0628\u0627\u0634\u062f\u060c \u062f\u0627\u0645\u067e\u060c \u062f\u0627\u062f\u0647 \u0647\u0627 \u0631\u0627 \u0628\u0647 \u0637\u0648\u0631 \u063a\u06cc\u0631\u0645\u0633\u062a\u0642\u06cc\u0645 \u0645\u0637\u0627\u0628\u0642\u062a \u0646\u0645\u06cc \u062f\u0647\u062f \u0648 \u067e\u0627\u0631\u0633\u06cc\u0646\u06af\u060c \u06cc\u06a9\u06cc \u0627\u0632 \u062f\u0648 \u0633\u0627\u0639\u062a \u0631\u0627 \u0627\u0646\u062a\u062e\u0627\u0628 \u062e\u0648\u0627\u0647\u062f \u06a9\u0631\u062f. \u062f\u0631 \u0637\u0648\u0644 \u0639\u0645\u0644\u06cc\u0627\u062a \u062e\u0648\u0627\u0646\u062f\u0646\u060c \u062a\u0627\u0631\u06cc\u062e \u0647\u0627 \u0648 \u062a\u0627\u0631\u06cc\u062e \u0648 \u0633\u0627\u0639\u062a \u0647\u0627\u06cc \u0646\u0627\u062f\u0631\u0633\u062a \u0645\u06cc \u062a\u0648\u0627\u0646\u0646\u062f \u0628\u0647 \u0635\u0648\u0631\u062a null \u0648 \u06cc\u0627 natural overflow \u067e\u0627\u0631\u0633 \u0634\u0648\u0646\u062f\u060c \u0628\u062f\u0648\u0646 \u0627\u06cc\u0646\u06a9\u0647 \u067e\u06cc\u063a\u0627\u0645 \u062e\u0637\u0627\u06cc\u06cc \u0646\u0645\u0627\u06cc\u0634 \u062f\u0647\u0646\u062f.</p>\n<p>\u0628\u0647 \u0639\u0646\u0648\u0627\u0646 \u06cc\u06a9 \u0627\u0633\u062a\u062b\u0646\u0627\u060c \u067e\u0627\u0631\u0633 \u06a9\u0631\u062f\u0646 \u062a\u0627\u0631\u06cc\u062e \u0628\u0647 \u0647\u0645\u0631\u0627\u0647 \u0633\u0627\u0639\u062a\u060c \u0627\u06af\u0631 \u0645\u0642\u062f\u0627\u0631 \u062f\u0642\u06cc\u0642\u0627 \u0634\u0627\u0645\u0644 10 \u0639\u062f\u062f decimal \u0628\u0627\u0634\u062f\u060c \u0628\u0647 \u0639\u0646\u0648\u0627\u0646 \u0641\u0631\u0645\u062a unix timestamp \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u062e\u0648\u0627\u0647\u062f \u06a9\u0631\u062f. \u062e\u0631\u0648\u062c\u06cc \u0648\u0627\u0628\u0633\u062a\u0647 \u0628\u0647 time-zone \u0646\u0645\u06cc \u0628\u0627\u0634\u062f. \u0641\u0631\u0645\u062a \u0647\u0627\u06cc YYYY-MM-DD hh: mm: ss \u0648 NNNNNNNNNN \u0628\u0647 \u0635\u0648\u0631\u062a \u062e\u0648\u062f\u06a9\u0627\u0631 \u062a\u0645\u0627\u06cc\u0632 \u0645\u06cc \u06cc\u0627\u0628\u0646\u062f.</p>\n<p>\u0631\u0634\u062a\u0647 \u0647\u0627\u06cc \u062f\u0627\u0631\u0627\u06cc \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u0647\u0627\u06cc \u0648\u06cc\u0698\u0647 backslash-escaped \u0686\u0627\u067e \u0645\u06cc \u0634\u0648\u0646\u062f. escape \u0647\u0627\u06cc \u062f\u0631 \u0627\u062f\u0627\u0645\u0647 \u0628\u0631\u0627\u06cc \u062e\u0631\u0648\u062c\u06cc \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u0646\u062f: <code>\\b</code>\u060c <code>\\f</code>\u060c <code>\\r</code>\u060c <code>\\n</code>\u060c <code>\\t</code>\u060c <code>\\0</code>, <code>\\'</code>\u060c <code>\\\\</code>. \u067e\u0627\u0631\u0633\u0631 \u0647\u0645\u0686\u0646\u06cc\u0646 \u0627\u0632 <code>\\a</code>\u060c <code>\\v</code>\u060c \u0648 <code>\\xHH</code> (hex escape) \u0648 \u0647\u0631 <code>\\c</code> \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u0645\u06cc \u06a9\u0646\u062f. \u0628\u062f\u06cc\u0646 \u062a\u0631\u062a\u06cc\u0628 \u062e\u0648\u0627\u0646\u062f\u0646 \u062f\u0627\u062f\u0647 \u0647\u0627 \u0627\u0632 \u0641\u0631\u0645\u062a line feed \u06a9\u0647 \u0645\u06cc \u062a\u0648\u0627\u0646\u062f \u0628\u0647 \u0635\u0648\u0631\u062a <code>\\n</code> \u06cc\u0627 <code>\\</code> \u0646\u0648\u0634\u062a\u0647 \u0634\u0648\u062f \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u0645\u06cc \u06a9\u0646\u062f. \u0628\u0631\u0627\u06cc \u0645\u062b\u0627\u0644\u060c \u0631\u0634\u062a\u0647 \u06cc <code>Hello world</code> \u0628\u0647 \u0647\u0645\u0631\u0627\u0647 line feed \u0628\u06cc\u0646 \u06a9\u0644\u0645\u0627\u062a \u0628\u0647 \u062c\u0627\u06cc space \u0645\u06cc \u062a\u0648\u0627\u0646\u062f \u0628\u0647 \u0647\u0631 \u06cc\u06a9 \u0627\u0632 \u062d\u0627\u0644\u0627\u062a \u0632\u06cc\u0631 \u067e\u0627\u0631\u0633 \u0634\u0648\u062f::</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">Hello</span><span class=\"err\">\\</span><span class=\"n\">nworld</span>\n\n<span class=\"n\">Hello</span><span class=\"err\">\\</span>\n<span class=\"n\">world</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u0646\u0648\u0639 \u062f\u0648\u0645 \u0628\u0647 \u062f\u0644\u06cc\u0644 \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc MySQL \u062f\u0631 \u0647\u0646\u06af\u0627\u0645 \u0646\u0648\u0634\u062a\u0646 \u062f\u0627\u0645\u067e \u0628\u0647 \u0635\u0648\u0631\u062a tab-separate\u060c \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u0645\u06cc \u0634\u0648\u062f.</p>\n<p>\u062d\u062f\u0627\u0642\u0644 \u0645\u062c\u0645\u0648\u0639\u0647 \u0627\u0632 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631\u0647\u0627\u06cc\u06cc \u06a9\u0647 \u062f\u0631 \u0647\u0646\u06af\u0627\u0645 \u067e\u0627\u0633 \u062f\u0627\u062f\u0646 \u062f\u0627\u062f\u0647 \u062f\u0631 \u0641\u0631\u0645\u062a TabSeperate \u0646\u06cc\u0627\u0632 \u0628\u0647 escape \u0622\u0646 \u062f\u0627\u0631\u06cc\u062f: tab\u060c line feed (LF) \u0628\u06a9 \u0627\u0633\u0644\u0634.</p>\n<p>\u0641\u0642\u0637 \u0645\u062c\u0645\u0648\u0639\u0647 \u06cc \u06a9\u0645\u06cc \u0627\u0632 \u0646\u0645\u0627\u062f \u0647\u0627 escape \u0645\u06cc \u0634\u0648\u0646\u062f. \u0634\u0645\u0627 \u0628\u0647 \u0631\u0627\u062d\u062a\u06cc \u0645\u06cc \u062a\u0648\u0627\u0646\u06cc\u062f \u0628\u0631 \u0631\u0648\u06cc \u0645\u0642\u062f\u0627\u0631 \u0631\u0634\u062a\u0647 \u06a9\u0647 \u062f\u0631 \u062a\u0631\u0645\u06cc\u0646\u0627\u0644 \u0634\u0645\u0627 \u062f\u0631 \u062e\u0631\u0648\u062c\u06cc \u0646\u0645\u0627\u06cc\u0634 \u062f\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f \u062d\u0631\u06a9\u062a \u06a9\u0646\u06cc\u062f.</p>\n<p>\u0622\u0631\u0627\u06cc\u0647 \u0647\u0627 \u0628\u0647 \u0635\u0648\u0631\u062a \u0644\u06cc\u0633\u062a\u06cc \u0627\u0632 \u0645\u0642\u0627\u062f\u06cc\u0631 \u06a9\u0647 \u0628\u0647 comma \u0627\u0632 \u0647\u0645 \u062c\u062f\u0627 \u0634\u062f\u0647 \u0627\u0646\u062f \u0648 \u062f\u0631 \u062f\u0627\u062e\u0644 \u0628\u0631\u0627\u06a9\u062a \u0642\u0631\u0627\u0631 \u06af\u0631\u0641\u062a\u0647 \u0627\u0646\u062f \u0646\u0648\u0634\u062a\u0647 \u0645\u06cc \u0634\u0648\u0646\u062f. \u0622\u06cc\u062a\u0645 \u0647\u0627\u06cc \u0639\u062f\u062f\u06cc \u062f\u0631 \u0622\u0631\u0627\u06cc \u0628\u0647 \u0635\u0648\u0631\u062a \u0646\u0631\u0645\u0627\u0644 \u0641\u0631\u0645\u062a \u0645\u06cc \u0634\u0648\u0646\u062f\u060c \u0627\u0645\u0627 \u062a\u0627\u0631\u06cc\u062e \u0648 \u062a\u0627\u0631\u06cc\u062e \u0628\u0627 \u0633\u0627\u0639\u062a \u0648 \u0631\u0634\u062a\u0647 \u0647\u0627 \u062f\u0631 \u062f\u0627\u062e\u0644 \u062a\u06a9 \u06a9\u0648\u062a\u06cc\u0634\u0646 \u0628\u0647 \u0647\u0645\u0631\u0627\u0647 \u0642\u0648\u0627\u0646\u06cc\u0646 escape \u06a9\u0647 \u0628\u0627\u0644\u0627 \u0627\u0634\u0627\u0631\u0647 \u0634\u062f\u060c \u0646\u0648\u0634\u062a\u0647 \u0645\u06cc \u0634\u0648\u0646\u062f.</p>\n<p>\u0641\u0631\u0645\u062a TabSeparate \u0628\u0631\u0627\u06cc \u067e\u0631\u062f\u0627\u0632\u0634 \u062f\u0627\u062f\u0647 \u0647\u0627 \u0628\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 \u0628\u0631\u0646\u0627\u0645\u0647 \u0647\u0627\u06cc \u0634\u062e\u0635\u06cc \u0633\u0627\u0632\u06cc \u0634\u062f\u0647 \u0648 \u0627\u0633\u06a9\u0631\u06cc\u067e\u062a \u0647\u0627 \u0645\u0646\u0627\u0633\u0628 \u0627\u0633\u062a. TabSeparate \u0628\u0647 \u0635\u0648\u0631\u062a \u067e\u06cc\u0634 \u0641\u0631\u0636 \u062f\u0631 HTTP interface \u0648 \u062f\u0631 \u062d\u0627\u0644\u062a batch \u06a9\u0644\u0627\u06cc\u0646\u062a command-line \u0645\u0648\u0631\u062f \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0642\u0631\u0627\u0631 \u0645\u06cc \u06af\u06cc\u0631\u062f. \u0647\u0645\u0686\u0646\u06cc\u0646 \u0627\u06cc\u0646 \u0641\u0631\u0645\u062a \u0627\u062c\u0627\u0632\u0647 \u06cc \u0627\u0646\u062a\u0642\u0627\u0644 \u062f\u0627\u062f\u0647 \u0647\u0627 \u0628\u06cc\u0646 DBMS \u0647\u0627\u06cc \u0645\u062e\u062a\u0644\u0641 \u0631\u0627 \u0645\u06cc \u062f\u0647\u062f. \u0628\u0631\u0627\u06cc \u0645\u062b\u0627\u0644\u060c \u0634\u0645\u0627 \u0645\u06cc \u062a\u0648\u0627\u0646\u06cc\u062f \u0627\u0632 MySQL \u0628\u0627 \u0627\u06cc\u0646 \u0631\u0648\u0634 \u062f\u0627\u0645\u067e \u0628\u06af\u06cc\u0631\u06cc\u062f \u0648 \u0622\u0646 \u0631\u0627 \u062f\u0631 ClickHouse \u06cc\u0627 vice versa \u0622\u067e\u0644\u0648\u062f \u06a9\u0646\u06cc\u062f.</p>\n<p>\u0641\u0631\u0645\u062a TabSeparated \u0627\u0632 \u062e\u0631\u0648\u062d\u06cc total values (\u0647\u0646\u06af\u0627\u0645 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 WITH TOTALS) \u0648 extreme values (\u062f\u0631 \u0647\u0646\u06af\u0627\u0645\u06cc \u06a9\u0647 'extreme' \u0628\u0631\u0627\u0628\u0631 \u0628\u0627 1 \u0627\u0633\u062a) \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u0645\u06cc \u06a9\u0646\u062f. \u062f\u0631 \u0627\u06cc\u0646 \u0645\u0648\u0627\u0631\u062f\u060c total value \u0648 extreme \u0628\u0639\u062f \u0627\u0632 \u062f\u0627\u062f\u0647 \u0647\u0627\u06cc \u0627\u0635\u0644\u06cc \u062f\u0631 \u062e\u0631\u0648\u062c\u06cc \u0645\u06cc \u0622\u06cc\u0646\u062f. \u0646\u062a\u0627\u06cc\u062c \u0627\u0635\u0644\u06cc\u060c total values \u0648 extreme \u0647\u0645\u06af\u06cc \u0628\u0627 \u06cc\u06a9 empty line \u0627\u0632 \u0647\u0645 \u062c\u062f\u0627 \u0645\u06cc \u0634\u0648\u0646\u062f. \u0645\u062b\u0627\u0644:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">EventDate</span><span class=\"p\">,</span> <span class=\"k\">count</span><span class=\"p\">()</span> <span class=\"k\">AS</span> <span class=\"k\">c</span> <span class=\"k\">FROM</span> <span class=\"n\">test</span><span class=\"p\">.</span><span class=\"n\">hits</span> <span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">EventDate</span> <span class=\"k\">WITH</span> <span class=\"n\">TOTALS</span> <span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"n\">EventDate</span> <span class=\"n\">FORMAT</span> <span class=\"n\">TabSeparated</span><span class=\"o\">``</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"mi\">2014</span><span class=\"o\">-</span><span class=\"mi\">03</span><span class=\"o\">-</span><span class=\"mi\">17</span>      <span class=\"mi\">1406958</span>\n<span class=\"mi\">2014</span><span class=\"o\">-</span><span class=\"mi\">03</span><span class=\"o\">-</span><span class=\"mi\">18</span>      <span class=\"mi\">1383658</span>\n<span class=\"mi\">2014</span><span class=\"o\">-</span><span class=\"mi\">03</span><span class=\"o\">-</span><span class=\"mi\">19</span>      <span class=\"mi\">1405797</span>\n<span class=\"mi\">2014</span><span class=\"o\">-</span><span class=\"mi\">03</span><span class=\"o\">-</span><span class=\"mi\">20</span>      <span class=\"mi\">1353623</span>\n<span class=\"mi\">2014</span><span class=\"o\">-</span><span class=\"mi\">03</span><span class=\"o\">-</span><span class=\"mi\">21</span>      <span class=\"mi\">1245779</span>\n<span class=\"mi\">2014</span><span class=\"o\">-</span><span class=\"mi\">03</span><span class=\"o\">-</span><span class=\"mi\">22</span>      <span class=\"mi\">1031592</span>\n<span class=\"mi\">2014</span><span class=\"o\">-</span><span class=\"mi\">03</span><span class=\"o\">-</span><span class=\"mi\">23</span>      <span class=\"mi\">1046491</span>\n\n<span class=\"mi\">0000</span><span class=\"o\">-</span><span class=\"mi\">00</span><span class=\"o\">-</span><span class=\"mi\">00</span>      <span class=\"mi\">8873898</span>\n\n<span class=\"mi\">2014</span><span class=\"o\">-</span><span class=\"mi\">03</span><span class=\"o\">-</span><span class=\"mi\">17</span>      <span class=\"mi\">1031592</span>\n<span class=\"mi\">2014</span><span class=\"o\">-</span><span class=\"mi\">03</span><span class=\"o\">-</span><span class=\"mi\">23</span>      <span class=\"mi\">1406958</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u0627\u06cc\u0646 \u0641\u0631\u0645\u062a \u0646\u06cc\u0632 \u062a\u062d\u062a \u0646\u0627\u0645 <code>TSV</code> \u0645\u0648\u062c\u0648\u062f \u0627\u0633\u062a.</p>\n<h3 id=\"tabseparatedraw\">TabSeparatedRaw<a class=\"headerlink\" href=\"#tabseparatedraw\" title=\"Permanent link\">&para;</a></h3>\n<p>\u062a\u0641\u0627\u0648\u062a \u0622\u0646 \u0628\u0627 <code>TabSeperated</code> \u062f\u0631 \u0627\u06cc\u0646 \u0627\u0633\u062a \u06a9\u0647 \u062f\u0631 \u0627\u06cc\u0646 \u0641\u0631\u0645\u062a \u0633\u0637\u0631\u0647\u0627 \u0628\u062f\u0648\u0646 escape \u0646\u0648\u0634\u062a\u0647 \u0645\u06cc \u0634\u0648\u0646\u062f. \u0627\u06cc\u0646 \u0641\u0631\u0645\u062a \u0641\u0642\u0637 \u0645\u0646\u0627\u0633\u0628 \u062e\u0631\u0648\u062c\u06cc \u0646\u062a\u0627\u06cc\u062c query \u0647\u0627 \u0645\u06cc \u0628\u0627\u0634\u062f\u060c \u0646\u0647 \u0628\u0631\u0627\u06cc \u067e\u0627\u0631\u0633 \u06a9\u0631\u062f\u0646 (\u062f\u0631\u06cc\u0627\u0641\u062a \u062f\u0627\u062f\u0647 \u0647\u0627 \u0648 \u062f\u0631\u062c \u0622\u0646 \u062f\u0631 \u062c\u062f\u0648\u0644).</p>\n<p>\u0647\u0645\u0686\u0646\u06cc\u0646 \u0627\u06cc\u0646 \u0641\u0631\u0645\u062a \u062a\u062d\u062a \u0639\u0646\u0648\u0627\u0646 <code>TSVRaw</code>\u0648\u062c\u0648\u062f \u062f\u0627\u0631\u062f.</p>\n<h3 id=\"tabseparatedwithnames\">TabSeparatedWithNames<a class=\"headerlink\" href=\"#tabseparatedwithnames\" title=\"Permanent link\">&para;</a></h3>\n<p>\u062a\u0641\u0627\u0648\u062a \u0622\u0646 \u0628\u0627 \u0641\u0631\u0645\u062a <code>TabSeparated</code> \u062f\u0631 \u0627\u06cc\u0646 \u0627\u0633\u062a \u06a9\u0647\u060c \u062f\u0631 \u0627\u06cc\u0646 \u0641\u0631\u0645\u062a \u0646\u0627\u0645 \u0633\u062a\u0648\u0646 \u0647\u0627 \u062f\u0631 \u0633\u0637\u0631 \u0627\u0648\u0644 \u0642\u0631\u0627\u0631 \u0645\u06cc \u06af\u06cc\u0631\u062f. \u062f\u0631 \u0637\u0648\u0644 \u067e\u0627\u0631\u0633 \u06a9\u0631\u062f\u0646\u060c \u0633\u0637\u0631 \u0627\u0648\u0644 \u0628\u0647 \u0637\u0648\u0631 \u06a9\u0627\u0645\u0644 \u0646\u0627\u062f\u06cc\u062f\u0647 \u06af\u0631\u0641\u062a\u0647 \u0645\u06cc \u0634\u0648\u062f. \u0634\u0645\u0627 \u0646\u0645\u06cc \u062a\u0648\u0627\u0646\u06cc\u062f \u0646\u0627\u0645 \u0633\u062a\u0648\u0646 \u0647\u0627 \u0631\u0627 \u0628\u0631\u0627\u06cc \u062a\u0639\u06cc\u06cc\u0646 \u0645\u0648\u0642\u0639\u06cc\u062a \u0622\u0646\u0647\u0627 \u06cc\u0627 \u0628\u0631\u0631\u0633\u06cc \u0635\u062d\u062a \u0622\u0646\u0647\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u062f. (\u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u0627\u0632 \u067e\u0627\u0631\u0633 \u06a9\u0631\u062f\u0646 \u0633\u0637\u0631 header \u0645\u0645\u06a9\u0646 \u0627\u0633\u062a \u062f\u0631 \u0622\u06cc\u0646\u062f\u0647 \u0627\u0636\u0627\u0641\u0647 \u0634\u0648\u062f.)</p>\n<p>\u0647\u0645\u0686\u0646\u06cc\u0646 \u0627\u06cc\u0646 \u0641\u0631\u0645\u062a \u062a\u062d\u062a \u0639\u0646\u0648\u0627\u0646 <code>TSVWithNames</code>\u0648\u062c\u0648\u062f \u062f\u0627\u0631\u062f.</p>\n<h3 id=\"tabseparatedwithnamesandtypes\">TabSeparatedWithNamesAndTypes<a class=\"headerlink\" href=\"#tabseparatedwithnamesandtypes\" title=\"Permanent link\">&para;</a></h3>\n<p>\u062a\u0641\u0627\u0648\u062a \u0622\u0646 \u0628\u0627 <code>TabSeparated</code> \u062f\u0631 \u0627\u06cc\u0646 \u0627\u0633\u062a \u06a9\u0647 \u062f\u0631 \u0627\u06cc\u0646 \u0641\u0631\u0645\u062a \u0646\u0627\u0645 \u0633\u062a\u0648\u0646 \u0647\u0627 \u062f\u0631 \u0633\u0637\u0631 \u0627\u0648\u0644 \u0646\u0648\u0634\u062a\u0647 \u0645\u06cc \u0634\u0648\u062f\u060c \u0648 type \u0633\u062a\u0648\u0646 \u0647\u0627 \u062f\u0631 \u0633\u0637\u0631 \u062f\u0648\u0645 \u0646\u0648\u0634\u062a\u0647 \u0645\u06cc \u0634\u0648\u062f. \u062f\u0631 \u0637\u06cc \u067e\u0627\u0631\u0633\u06cc\u0646\u06af\u060c \u0633\u0637\u0631 \u0627\u0648\u0644 \u0648 \u062f\u0648\u0645 \u0628\u0647 \u0637\u0648\u0631 \u06a9\u0627\u0645\u0644 \u0646\u0627\u062f\u06cc\u062f\u0647 \u06af\u0631\u0641\u062a\u0647 \u0645\u06cc \u0634\u0648\u0646\u062f.</p>\n<p>\u0647\u0645\u0686\u0646\u06cc\u0646 \u0627\u06cc\u0646 \u0641\u0631\u0645\u062a \u062a\u062d\u062a \u0639\u0646\u0648\u0627\u0646 <code>TSVWithNamesAndTypes</code>\u0648\u062c\u0648\u062f \u062f\u0627\u0631\u062f.</p>\n<h3 id=\"tskv\">TSKV<a class=\"headerlink\" href=\"#tskv\" title=\"Permanent link\">&para;</a></h3>\n<p>\u0645\u0634\u0627\u0628\u0647 \u0641\u0631\u0645\u062a TabSeparated\u060c \u0627\u0645\u0627 \u062e\u0631\u0648\u062c\u06cc \u0628\u0647 \u0635\u0648\u0631\u062a name=value \u0645\u06cc \u0628\u0627\u0634\u062f. \u0646\u0627\u0645 \u0647\u0627 \u0645\u0634\u0627\u0628\u0647 \u0631\u0648\u0634 TabSeparated\u060c escape \u0645\u06cc \u0634\u0648\u0646\u062f\u060c \u0648 \u0647\u0645\u0686\u0646\u06cc\u0646 = symbol \u0647\u0645 escape \u0645\u06cc \u0634\u0648\u062f.</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">SearchPhrase=   count()=8267016</span>\n<span class=\"err\">SearchPhrase=bathroom interior design    count()=2166</span>\n<span class=\"err\">SearchPhrase=yandex     count()=1655</span>\n<span class=\"err\">SearchPhrase=spring 2014 fashion    count()=1549</span>\n<span class=\"err\">SearchPhrase=freeform photos       count()=1480</span>\n<span class=\"err\">SearchPhrase=angelina jolia    count()=1245</span>\n<span class=\"err\">SearchPhrase=omsk       count()=1112</span>\n<span class=\"err\">SearchPhrase=photos of dog breeds    count()=1091</span>\n<span class=\"err\">SearchPhrase=curtain design        count()=1064</span>\n<span class=\"err\">SearchPhrase=baku       count()=1000</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u0648\u0642\u062a\u06cc \u062a\u0639\u062f\u0627\u062f \u0632\u06cc\u0627\u062f\u06cc \u0627\u0632 \u0633\u062a\u0648\u0646 \u0647\u0627 \u0648\u062c\u0648\u062f \u062f\u0627\u0631\u062f\u060c \u0627\u06cc\u0646 \u0641\u0631\u0645\u062a \u0628\u06cc \u0641\u0627\u06cc\u062f\u0647 \u0627\u0633\u062a\u060c \u0648 \u062f\u0631 \u062d\u0627\u0644\u062a \u06a9\u0644\u06cc \u062f\u0644\u06cc\u0644\u06cc \u0628\u0631 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 \u0627\u06cc\u0646 \u0641\u0631\u0645\u062a \u062f\u0631 \u0627\u06cc\u0646 \u0645\u0648\u0627\u0642\u0639 \u0648\u062c\u0648\u062f \u0646\u062f\u0627\u0631\u062f. \u0627\u06cc\u0646 \u0641\u0631\u0645\u062a \u062f\u0631 \u0628\u0639\u0636\u06cc \u0627\u0632 \u062f\u067e\u0627\u0631\u062a\u0645\u0627\u0646 \u0647\u0627\u06cc Yandex \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u0634\u062f.</p>\n<p>\u062e\u0631\u0648\u062c\u06cc \u062f\u0627\u062f\u0647 \u0647\u0627 \u0648 \u067e\u0627\u0631\u0633 \u06a9\u0631\u062f\u0646 \u0647\u0631 \u062f\u0648 \u062f\u0631 \u0627\u06cc\u0646 \u0641\u0631\u0645\u062a \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u0645\u06cc \u0634\u0648\u0646\u062f. \u0628\u0631\u0627\u06cc \u067e\u0627\u0631\u0633 \u06a9\u0631\u062f\u0646\u060c \u0647\u0631 \u062a\u0631\u062a\u06cc\u0628\u06cc \u0628\u0631\u0627\u06cc \u0645\u0642\u0627\u062f\u06cc\u0631 \u0633\u062a\u0648\u0646 \u0647\u0627\u06cc \u0645\u062e\u062a\u0644\u0641 \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u0645\u06cc \u0634\u0648\u062f. \u062d\u0630\u0641 \u0628\u0639\u0636\u06cc \u0627\u0632 \u0645\u0642\u0627\u062f\u06cc\u0631 \u0642\u0627\u0628\u0644 \u0642\u0628\u0648\u0644 \u0627\u0633\u062a. \u0627\u06cc\u0646 \u0645\u0642\u0627\u062f\u06cc\u0631 \u0628\u0627 \u0645\u0642\u0627\u062f\u06cc\u0631 \u067e\u06cc\u0634 \u0641\u0631\u0636 \u062e\u0648\u062f \u0628\u0631\u0627\u0628\u0631 \u0647\u0633\u062a\u0646\u062f. \u062f\u0631 \u0627\u06cc\u0646 \u0645\u0648\u0631\u062f\u060c \u0635\u0641\u0631 \u0648 \u0633\u0637\u0631 \u062e\u0627\u0644\u06cc\u060c \u062a\u0648\u0633\u0637 \u0645\u0642\u0627\u062f\u06cc\u0631 \u067e\u06cc\u0634 \u0641\u0631\u0636 \u067e\u0631 \u0645\u06cc \u0634\u0648\u0646\u062f. \u0645\u0642\u0627\u062f\u06cc\u0631 \u067e\u06cc\u0686\u06cc\u062f\u0647 \u0627\u06cc \u06a9\u0647 \u0645\u06cc \u062a\u0648\u0627\u0646\u062f \u062f\u0631 \u062c\u062f\u0648\u0644 \u0645\u0634\u062e\u0635 \u0634\u0648\u062f \u0628\u0647 \u0639\u0646\u0648\u0627\u0646 \u067e\u06cc\u0634 \u0641\u0631\u0636 \u062f\u0631 \u0627\u06cc\u0646 \u0641\u0631\u0645\u062a \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u0646\u0645\u06cc\u0634\u0648\u0646\u062f.</p>\n<p>\u067e\u0627\u0631\u0633 \u06a9\u0631\u062f\u0646\u060c \u0627\u062c\u0627\u0632\u0647 \u0645\u06cc \u062f\u0647\u062f \u06a9\u0647 \u0641\u06cc\u0644\u062f \u0627\u0636\u0627\u0641\u0647 \u06cc <code>tskv</code> \u0628\u062f\u0648\u0646 \u0639\u0644\u0627\u0645\u062a \u0648 \u0645\u0642\u062f\u0627\u0631 \u0648\u062c\u0648\u062f \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u062f. \u0627\u06cc\u0646 \u0641\u06cc\u0644\u062f \u0646\u0627\u062f\u06cc\u062f\u0647 \u06af\u0631\u0641\u062a\u0647 \u0645\u06cc \u0634\u0648\u062f.</p>\n<h3 id=\"csv\">CSV<a class=\"headerlink\" href=\"#csv\" title=\"Permanent link\">&para;</a></h3>\n<p>Comma Separated Values format (<a href=\"https://tools.ietf.org/html/rfc4180\" rel=\"external nofollow\">RFC</a>).</p>\n<p>\u0632\u0645\u0627\u0646\u06cc \u06a9\u0647 \u0627\u0632 \u0627\u06cc\u0646 \u0631\u0648\u0634 \u0628\u0631\u0627\u06cc \u0641\u0631\u0645\u062a \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f\u060c \u0633\u0637\u0631 \u0647\u0627 \u0628\u0627 \u062f\u0627\u0628\u0644 \u06a9\u0648\u062a\u06cc\u0634\u0646 enclosed \u0645\u06cc \u0634\u0648\u0646\u062f. \u062f\u0627\u0628\u0644 \u06a9\u0648\u062a\u06cc\u0634\u0646 \u062f\u0627\u062e\u0644 \u06cc\u06a9 \u0631\u0634\u062a\u0647 \u062e\u0631\u0648\u062c\u06cc \u0622\u0646 \u0628\u0647 \u0635\u0648\u0631\u062a \u062f\u0648 \u062f\u0627\u0628\u0644 \u06a9\u0648\u062a\u06cc\u0634\u0646 \u062f\u0631 \u06cc\u06a9 \u0633\u0637\u0631 \u0627\u0633\u062a. \u0642\u0627\u0646\u0648\u0646 \u062f\u06cc\u06af\u0631\u06cc \u0628\u0631\u0627\u06cc escape \u06a9\u0631\u062f\u0646 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631\u0647\u0627 \u0648\u062c\u0648\u062f \u0646\u062f\u0627\u0631\u062f. \u062a\u0627\u0631\u06cc\u062e \u0648 \u062a\u0627\u0631\u06cc\u062e-\u0633\u0627\u0639\u062a \u062f\u0631 \u062f\u0627\u0628\u0644 \u06a9\u0648\u062a\u06cc\u0634\u0646 \u0647\u0627 enclosed \u0645\u06cc \u0634\u0648\u0646\u062f. \u0627\u0639\u062f\u0627\u062f \u0628\u062f\u0648\u0646 \u062f\u0627\u0628\u0644 \u06a9\u0648\u062a\u06cc\u0634\u0646 \u062f\u0631 \u062e\u0631\u0648\u062c\u06cc \u0645\u06cc \u0622\u06cc\u0646\u062f. \u0645\u0642\u0627\u062f\u06cc\u0631 \u0628\u0627 \u062c\u062f\u0627 \u06a9\u0646\u0646\u062f\u0647 * \u0645\u0634\u062e\u0635 \u0645\u06cc \u0634\u0648\u0646\u062f. \u0633\u0637\u0631 \u0647\u0627 \u0628\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 line feed (LF) \u062c\u062f\u0627 \u0645\u06cc \u0634\u0648\u0646\u062f. \u0622\u0631\u0627\u06cc\u0647 \u0647\u0627 \u062f\u0631 csv \u0628\u0647 \u0627\u06cc\u0646 \u0635\u0648\u0631\u062a serialize \u0645\u06cc \u0634\u0648\u0646\u062f: \u0627\u0628\u062a\u062f\u0627 \u0622\u0631\u0627\u06cc\u0647 \u0628\u0647 \u06cc\u06a9 \u0631\u0634\u062a\u0647 \u0628\u0627 \u0641\u0631\u0645\u062a TabSeparate \u0633\u0631\u06cc\u0627\u0644\u0627\u06cc\u0632 \u0645\u06cc \u0634\u0648\u0646\u062f\u060c \u0648 \u0633\u067e\u0633 \u0631\u0634\u062a\u0647 \u06cc \u062d\u0627\u0635\u0644 \u062f\u0631 \u062f\u0627\u0628\u0644 \u06a9\u0648\u062a\u06cc\u0634\u0646 \u0628\u0631\u0627\u06cc csv \u0627\u0631\u0633\u0627\u0644 \u0645\u06cc \u0634\u0648\u062f. Tuple \u0647\u0627 \u062f\u0631 \u0641\u0631\u0645\u062a CSV \u062f\u0631 \u0633\u062a\u0648\u0646 \u0647\u0627\u06cc \u062c\u062f\u0627 \u0633\u0631\u06cc\u0627\u0644\u0627\u06cc\u0632 \u0645\u06cc \u0634\u0648\u0646\u062f (\u0628\u0647 \u0627\u06cc\u0646 \u062a\u0631\u062a\u06cc\u0628\u060c nest \u0647\u0627 \u062f\u0631 tuble \u0627\u0632 \u062f\u0633\u062a \u0645\u06cc\u0631\u0648\u0646\u062f)</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">clickhouse-client --format_csv_delimiter=&quot;|&quot; --query=&quot;INSERT INTO test.csv FORMAT CSV&quot; &lt; data.csv</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>&ast;\u0628\u0647 \u0635\u0648\u0631\u062a \u067e\u06cc\u0634 \u0641\u0631\u0636 \u2014 <code>,</code>. \u0628\u0631\u0627\u06cc \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0628\u06cc\u0634\u062a\u0631 <a href=\"#settings-format_csv_delimiter\">format_csv_delimiter</a> \u0631\u0627 \u0628\u0628\u06cc\u0646\u06cc\u062f.</p>\n<p>\u062f\u0631 \u0647\u0646\u06af\u0627\u0645 \u067e\u0627\u0631\u0633 \u06a9\u0631\u062f\u0646\u060c \u062a\u0645\u0627\u0645\u06cc \u0645\u0642\u0627\u062f\u06cc\u0631 \u0645\u06cc \u062a\u0648\u0627\u0646\u0646\u062f \u0628\u0627 \u06a9\u0648\u062a\u06cc\u0634\u0646 \u06cc\u0627 \u0628\u062f\u0648\u0646 \u06a9\u0648\u062a\u06cc\u0634\u0646 \u067e\u0627\u0631\u0633 \u0634\u0648\u0646\u062f. \u062a\u06a9 \u06a9\u0648\u062a\u06cc\u0634\u0646 \u0648 \u062f\u0627\u0628\u0644 \u06a9\u0648\u062a\u06cc\u0634\u0646 \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u0645\u06cc \u0634\u0648\u062f. \u0633\u0637\u0631 \u0647\u0627 \u0645\u06cc \u062a\u0648\u0627\u0646\u0646\u062f \u0628\u062f\u0648\u0646 \u06a9\u0648\u062a\u06cc\u0634\u0646 \u062a\u0646\u0638\u06cc\u0645 \u0634\u0648\u0646\u062f. \u062f\u0631 \u0627\u06cc\u0646 \u0645\u0648\u0631\u062f \u0633\u0637\u0631 \u0647\u0627\u060c \u062c\u062f\u0627 \u06a9\u0646\u0646\u062f\u0647 \u0647\u0627 \u0628\u0627 (CR \u06cc\u0627 LF) \u067e\u0627\u0631\u0633 \u0645\u06cc \u0634\u0648\u0646\u062f. \u062f\u0631 \u0645\u0648\u0627\u0631\u062f \u0646\u0642\u0636 RFC\u060c \u062f\u0631 \u0647\u0646\u06af\u0627\u0645 \u067e\u0627\u0631\u0633 \u06a9\u0631\u062f\u0646 \u0633\u0637\u0631 \u0647\u0627 \u0628\u062f\u0648\u0646 \u06a9\u0648\u062a\u06cc\u0634\u0646\u060c \u0641\u0636\u0627\u0647\u0627 \u0648 tab \u0647\u0627\u06cc \u067e\u06cc\u0634\u06cc\u0646 \u0646\u0627\u062f\u06cc\u062f \u06af\u0631\u0641\u062a\u0647 \u0645\u06cc \u0634\u0648\u0646\u062f. \u0628\u0631\u0627\u06cc line feed\u060c \u06cc\u0648\u0646\u06cc\u06a9\u0633 \u0627\u0632 (LF)\u060c \u0648\u06cc\u062f\u0646\u0648\u0632 \u0627\u0632 (CR LF) \u0648 Mac OS \u06a9\u0644\u0627\u0633\u06cc\u06a9 (CR LF) \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u0645\u06cc \u06a9\u0646\u062f.</p>\n<p>\u0641\u0631\u0645\u062a CSV \u062e\u0631\u0648\u062c\u06cc total \u0648 extreme \u0631\u0627 \u0647\u0645\u0627\u0646\u0646\u062f <code>TabSeparated</code> \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u0645\u06cc \u06a9\u0646\u0646\u062f.</p>\n<h3 id=\"csvwithnames\">CSVWithNames<a class=\"headerlink\" href=\"#csvwithnames\" title=\"Permanent link\">&para;</a></h3>\n<p>\u0647\u0645\u0686\u0646\u06cc\u0646 header \u0633\u0637\u0631 \u0631\u0627 \u0686\u0627\u067e \u0645\u06cc \u06a9\u0646\u062f\u060c \u0634\u0628\u06cc\u0647 \u0628\u0647 <code>TabSeparatedWithNames</code>.</p>\n<h3 id=\"json\">JSON<a class=\"headerlink\" href=\"#json\" title=\"Permanent link\">&para;</a></h3>\n<p>\u062e\u0631\u0648\u062c\u06cc \u062f\u0627\u062f\u0647 \u0647\u0627 \u0628\u0627 \u0641\u0631\u0645\u062a JSON. \u062f\u0631 \u06a9\u0646\u0627\u0644 \u062f\u0627\u062f\u0647 \u0647\u0627\u06cc \u062c\u062f\u0627\u0648\u0644\u060c \u062e\u0631\u0648\u062c\u06cc JSON \u0627\u0633\u0645 \u0633\u062a\u0648\u0646 \u0647\u0627 \u0648 type \u0622\u0646\u0647\u0627 \u0628\u0647 \u0647\u0645\u0631\u0627\u0647 \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0628\u06cc\u0634\u062a\u0631 \u062a\u0648\u0644\u06cc\u062f \u0645\u06cc \u06a9\u0646\u062f: \u062a\u0639\u062f\u0627\u062f \u0633\u0637\u0631 \u0647\u0627\u06cc \u062e\u0631\u0648\u062c\u06cc\u060c \u0648 \u0647\u0645\u0686\u0646\u06cc\u0646 \u062a\u0639\u062f\u0627\u062f \u0631\u06a9\u0648\u0631\u062f \u0647\u0627\u06cc \u06a9\u0644 \u0628\u062f\u0648\u0646 \u062f\u0631 \u0646\u0638\u0631 \u06af\u0631\u0641\u062a\u0646 \u062f\u0633\u062a\u0648\u0631 LIMIT. \u0645\u062b\u0627\u0644:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">SearchPhrase</span><span class=\"p\">,</span> <span class=\"k\">count</span><span class=\"p\">()</span> <span class=\"k\">AS</span> <span class=\"k\">c</span> <span class=\"k\">FROM</span> <span class=\"n\">test</span><span class=\"p\">.</span><span class=\"n\">hits</span> <span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">SearchPhrase</span> <span class=\"k\">WITH</span> <span class=\"n\">TOTALS</span> <span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"k\">c</span> <span class=\"k\">DESC</span> <span class=\"k\">LIMIT</span> <span class=\"mi\">5</span> <span class=\"n\">FORMAT</span> <span class=\"n\">JSON</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"p\">{</span>\n        <span class=\"nt\">&quot;meta&quot;</span><span class=\"p\">:</span>\n        <span class=\"p\">[</span>\n                <span class=\"p\">{</span>\n                        <span class=\"nt\">&quot;name&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;SearchPhrase&quot;</span><span class=\"p\">,</span>\n                        <span class=\"nt\">&quot;type&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;String&quot;</span>\n                <span class=\"p\">},</span>\n                <span class=\"p\">{</span>\n                        <span class=\"nt\">&quot;name&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;c&quot;</span><span class=\"p\">,</span>\n                        <span class=\"nt\">&quot;type&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;UInt64&quot;</span>\n                <span class=\"p\">}</span>\n        <span class=\"p\">],</span>\n\n        <span class=\"nt\">&quot;data&quot;</span><span class=\"p\">:</span>\n        <span class=\"p\">[</span>\n                <span class=\"p\">{</span>\n                        <span class=\"nt\">&quot;SearchPhrase&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;&quot;</span><span class=\"p\">,</span>\n                        <span class=\"nt\">&quot;c&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;8267016&quot;</span>\n                <span class=\"p\">},</span>\n                <span class=\"p\">{</span>\n                        <span class=\"nt\">&quot;SearchPhrase&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;bathroom interior design&quot;</span><span class=\"p\">,</span>\n                        <span class=\"nt\">&quot;c&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;2166&quot;</span>\n                <span class=\"p\">},</span>\n                <span class=\"p\">{</span>\n                        <span class=\"nt\">&quot;SearchPhrase&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;yandex&quot;</span><span class=\"p\">,</span>\n                        <span class=\"nt\">&quot;c&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;1655&quot;</span>\n                <span class=\"p\">},</span>\n                <span class=\"p\">{</span>\n                        <span class=\"nt\">&quot;SearchPhrase&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;spring 2014 fashion&quot;</span><span class=\"p\">,</span>\n                        <span class=\"nt\">&quot;c&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;1549&quot;</span>\n                <span class=\"p\">},</span>\n                <span class=\"p\">{</span>\n                        <span class=\"nt\">&quot;SearchPhrase&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;freeform photos&quot;</span><span class=\"p\">,</span>\n                        <span class=\"nt\">&quot;c&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;1480&quot;</span>\n                <span class=\"p\">}</span>\n        <span class=\"p\">],</span>\n\n        <span class=\"nt\">&quot;totals&quot;</span><span class=\"p\">:</span>\n        <span class=\"p\">{</span>\n                <span class=\"nt\">&quot;SearchPhrase&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;&quot;</span><span class=\"p\">,</span>\n                <span class=\"nt\">&quot;c&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;8873898&quot;</span>\n        <span class=\"p\">},</span>\n\n        <span class=\"nt\">&quot;extremes&quot;</span><span class=\"p\">:</span>\n        <span class=\"p\">{</span>\n                <span class=\"nt\">&quot;min&quot;</span><span class=\"p\">:</span>\n                <span class=\"p\">{</span>\n                        <span class=\"nt\">&quot;SearchPhrase&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;&quot;</span><span class=\"p\">,</span>\n                        <span class=\"nt\">&quot;c&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;1480&quot;</span>\n                <span class=\"p\">},</span>\n                <span class=\"nt\">&quot;max&quot;</span><span class=\"p\">:</span>\n                <span class=\"p\">{</span>\n                        <span class=\"nt\">&quot;SearchPhrase&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;&quot;</span><span class=\"p\">,</span>\n                        <span class=\"nt\">&quot;c&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;8267016&quot;</span>\n                <span class=\"p\">}</span>\n        <span class=\"p\">},</span>\n\n        <span class=\"nt\">&quot;rows&quot;</span><span class=\"p\">:</span> <span class=\"mi\">5</span><span class=\"p\">,</span>\n\n        <span class=\"nt\">&quot;rows_before_limit_at_least&quot;</span><span class=\"p\">:</span> <span class=\"mi\">141137</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>JSON \u0628\u0627 \u062c\u0627\u0648\u0627\u0627\u0633\u06a9\u0631\u06cc\u067e\u062a \u0633\u0627\u0632\u06af\u0627\u0631 \u0627\u0633\u062a. \u0628\u0631\u0627\u06cc \u0627\u0637\u0645\u06cc\u0646\u0627\u0646 \u0627\u0632 \u0627\u06cc\u0646\u060c \u0628\u0639\u0636\u06cc \u0627\u0632 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u0647\u0627 ecape \u0647\u0627\u06cc \u0627\u0636\u0627\u0641\u0647 \u062f\u0627\u0631\u0646\u062f: \u0627\u0633\u0644\u0634 <code>/</code> \u0628\u0647 \u0635\u0648\u0631\u062a <code>\\/</code> escape \u0645\u06cc \u0634\u0648\u062f\u061b line break \u062c\u0627\u06cc\u06af\u0632\u06cc\u0646 \u06cc\u0639\u0646\u06cc <code>U+2028</code> \u0648 <code>U+2029</code> \u06a9\u0647 \u0628\u0627\u0639\u062b break \u062f\u0631 \u0628\u0639\u0636\u06cc \u0627\u0632 \u0645\u0631\u0648\u06af\u0631\u0647\u0627 \u0645\u06cc \u0634\u0648\u062f\u060c \u0628\u0647 \u0634\u06a9\u0644 <code>\\uXXXX</code> escape \u0645\u06cc \u0634\u0648\u0646\u062f. \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u0647\u0627\u06cc \u06a9\u0646\u062a\u0631\u0644\u06cc ASCII \u0647\u0645 escape \u0645\u06cc \u0634\u0648\u0646\u062f: backspace\u060c form feed\u060c line feed\u060c carriage return\u060c \u0648 horizontal tab \u0628\u0647 \u062a\u0631\u062a\u06cc\u0628 \u0628\u0627 <code>\\b</code>\u060c <code>\\f</code>\u060c <code>\\n</code>\u060c <code>\\r</code>\u060c <code>\\t</code> \u062c\u0627\u06cc\u06af\u0632\u06cc\u0646 \u0645\u06cc \u0634\u0648\u0646\u062f. \u0647\u0645\u0686\u0646\u06cc\u0646 \u0628\u0627\u06cc\u062a \u0647\u0627\u06cc \u0628\u0627\u0642\u06cc \u0645\u0627\u0646\u062f\u0647 \u062f\u0631 \u0645\u062d\u062f\u0648\u062f\u0647 00 \u062a\u0627 1F \u0628\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 <code>\\uXXXX</code> \u062c\u0627\u06cc\u06af\u0632\u06cc\u0646 \u0645\u06cc \u0634\u0648\u0646\u062f. \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u0647\u0627\u06cc \u0628\u06cc \u0627\u0639\u062a\u0628\u0627\u0631 UTF-8 \u0628\u0627 \ufffd \u062c\u0627\u06cc\u06af\u0632\u06cc\u0646 \u0645\u06cc \u0634\u0648\u0646\u062f\u060c \u067e\u0633 \u062e\u0631\u0648\u062c\u06cc JSON \u0634\u0627\u0645\u0644 \u0645\u0648\u0627\u0631\u062f \u0645\u0639\u062a\u0628\u0631 UTF-8 \u0645\u06cc \u0628\u0627\u0634\u062f. \u0628\u0631\u0627\u06cc \u0633\u0627\u0632\u06af\u0627\u0631\u06cc \u0628\u0627 \u062c\u0627\u0648\u0627\u0627\u0633\u06a9\u0631\u06cc\u067e\u062a\u060c \u0627\u0639\u062f\u0627\u062f Int64 \u0648 Uint64 \u0628\u0647 \u0635\u0648\u0631\u062a \u067e\u06cc\u0634 \u0641\u0631\u0636\u060c \u0628\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 \u062f\u0627\u0628\u0644 \u06a9\u0648\u062a\u06cc\u0634\u0646 enclose \u0645\u06cc \u0634\u0648\u0646\u062f. \u0628\u0631\u0627\u06cc \u062d\u0630\u0641 \u06a9\u0648\u062a\u06cc\u0634\u0646\u060c \u0634\u0645\u0627 \u0628\u0627\u06cc\u062f \u067e\u0627\u0631\u0627\u0645\u062a\u0631 output_format_json_quote_64bit_integers v \u0631\u0648 \u0628\u0631\u0627\u0628\u0631 \u0628\u0627 0 \u0642\u0631\u0627\u0631 \u062f\u0647\u06cc\u062f.</p>\n<p><code>rows</code> \u2013 \u062a\u0639\u062f\u0627\u062f \u0633\u0637\u0631 \u0647\u0627\u06cc \u062e\u0631\u0648\u062c\u06cc</p>\n<p><code>rows_before_limit_at_least</code> \u062d\u062f\u0627\u0642\u0644 \u062a\u0639\u062f\u0627\u062f \u0633\u0637\u0631 \u0647\u0627 \u062f\u0631 \u0647\u0646\u06af\u0627\u0645 \u0639\u062f\u0645 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 LIMIT. \u0641\u0642\u0637 \u062f\u0631 \u0647\u0646\u06af\u0627\u0645\u06cc \u06a9\u0647 query \u062f\u0627\u0631\u0627\u06cc LIMIT \u0627\u0633\u062a \u062e\u0631\u0648\u062c\u06cc \u062f\u0627\u0631\u062f. \u0627\u06af\u0631 query \u0634\u0627\u0645\u0644 GROUP BY \u0628\u0627\u0634\u062f\u060c \u0645\u0642\u062f\u0627\u0631 rows_before_limit_at_least \u062f\u0642\u06cc\u0642\u0627 \u0628\u0627 \u0632\u0645\u0627\u0646\u06cc \u06a9\u0647 \u0627\u0632 LIMIT \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0646\u0645\u06cc \u0634\u0648\u062f \u06cc\u06a9\u06cc \u0627\u0633\u062a.</p>\n<p><code>totals</code> \u2013 \u0645\u0642\u062f\u0627\u0631 TOTAL (\u0632\u0645\u0627\u0646\u06cc \u06a9\u0647 \u0627\u0632 WITH TOTALS \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f).</p>\n<p><code>extremes</code> \u2013 \u0645\u0642\u062f\u0627\u0631 Extreme (\u062f\u0631 \u0647\u0646\u06af\u0627\u0645\u06cc \u06a9\u0647 extreme \u0628\u0631\u0627\u0628\u0631 \u0628\u0627 1 \u0627\u0633\u062a).</p>\n<p>\u0627\u06cc\u0646 \u0641\u0631\u0645\u062a \u0641\u0642\u0637 \u0645\u0646\u0627\u0633\u0628 \u062e\u0631\u0648\u062c\u06cc query \u0647\u0627\u06cc \u0645\u06cc \u0628\u0627\u0634\u062f\u060c \u0628\u0647 \u0627\u06cc\u0646 \u0645\u0639\u0646\u06cc \u06a9\u0647 \u0628\u0631\u0627\u06cc \u0639\u0645\u0644\u06cc\u0627\u062a \u067e\u0627\u0631\u0633 \u06a9\u0631\u062f\u0646 (\u062f\u0631\u06cc\u0627\u0641\u062a \u062f\u0627\u062f\u0647 \u0628\u0631\u0627\u06cc insert \u062f\u0631 \u062c\u062f\u0648\u0644) \u0646\u06cc\u0633\u062a. \u0647\u0645\u0686\u0646\u06cc\u0646 \u0641\u0631\u0645\u062a JSONEachRow \u0631\u0627 \u0628\u0628\u06cc\u0646\u06cc\u062f.</p>\n<h3 id=\"jsoncompact\">JSONCompact<a class=\"headerlink\" href=\"#jsoncompact\" title=\"Permanent link\">&para;</a></h3>\n<p>\u0641\u0642\u0637 \u062f\u0631 \u062c\u0627\u0647\u0627\u06cc\u06cc \u06a9\u0647 \u062f\u0627\u062f\u0647 \u0647\u0627 \u0628\u0647 \u062c\u0627\u06cc object \u062f\u0631 array \u0647\u0633\u062a\u0646\u062f \u062e\u0631\u0648\u062c\u06cc \u0622\u0646\u0647\u0627 \u0645\u062a\u0641\u0627\u0648\u062a \u0627\u0633\u062a.</p>\n<p>\u0645\u062b\u0627\u0644:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"p\">{</span>\n        <span class=\"nt\">&quot;meta&quot;</span><span class=\"p\">:</span>\n        <span class=\"p\">[</span>\n                <span class=\"p\">{</span>\n                        <span class=\"nt\">&quot;name&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;SearchPhrase&quot;</span><span class=\"p\">,</span>\n                        <span class=\"nt\">&quot;type&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;String&quot;</span>\n                <span class=\"p\">},</span>\n                <span class=\"p\">{</span>\n                        <span class=\"nt\">&quot;name&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;c&quot;</span><span class=\"p\">,</span>\n                        <span class=\"nt\">&quot;type&quot;</span><span class=\"p\">:</span> <span class=\"s2\">&quot;UInt64&quot;</span>\n                <span class=\"p\">}</span>\n        <span class=\"p\">],</span>\n\n        <span class=\"nt\">&quot;data&quot;</span><span class=\"p\">:</span>\n        <span class=\"p\">[</span>\n                <span class=\"p\">[</span><span class=\"s2\">&quot;&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;8267016&quot;</span><span class=\"p\">],</span>\n                <span class=\"p\">[</span><span class=\"s2\">&quot;bathroom interior design&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;2166&quot;</span><span class=\"p\">],</span>\n                <span class=\"p\">[</span><span class=\"s2\">&quot;yandex&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;1655&quot;</span><span class=\"p\">],</span>\n                <span class=\"p\">[</span><span class=\"s2\">&quot;spring 2014 fashion&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;1549&quot;</span><span class=\"p\">],</span>\n                <span class=\"p\">[</span><span class=\"s2\">&quot;freeform photos&quot;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;1480&quot;</span><span class=\"p\">]</span>\n        <span class=\"p\">],</span>\n\n        <span class=\"nt\">&quot;totals&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s2\">&quot;&quot;</span><span class=\"p\">,</span><span class=\"s2\">&quot;8873898&quot;</span><span class=\"p\">],</span>\n\n        <span class=\"nt\">&quot;extremes&quot;</span><span class=\"p\">:</span>\n        <span class=\"p\">{</span>\n                <span class=\"nt\">&quot;min&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s2\">&quot;&quot;</span><span class=\"p\">,</span><span class=\"s2\">&quot;1480&quot;</span><span class=\"p\">],</span>\n                <span class=\"nt\">&quot;max&quot;</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s2\">&quot;&quot;</span><span class=\"p\">,</span><span class=\"s2\">&quot;8267016&quot;</span><span class=\"p\">]</span>\n        <span class=\"p\">},</span>\n\n        <span class=\"nt\">&quot;rows&quot;</span><span class=\"p\">:</span> <span class=\"mi\">5</span><span class=\"p\">,</span>\n\n        <span class=\"nt\">&quot;rows_before_limit_at_least&quot;</span><span class=\"p\">:</span> <span class=\"mi\">141137</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u0627\u06cc\u0646 \u0641\u0631\u0645\u062a \u0641\u0642\u0637 \u0645\u0646\u0627\u0633\u0628 \u062e\u0631\u0648\u062c\u06cc query \u0647\u0627\u06cc \u0645\u06cc \u0628\u0627\u0634\u062f\u060c \u0628\u0647 \u0627\u06cc\u0646 \u0645\u0639\u0646\u06cc \u06a9\u0647 \u0628\u0631\u0627\u06cc \u0639\u0645\u0644\u06cc\u0627\u062a \u067e\u0627\u0631\u0633 \u06a9\u0631\u062f\u0646 (\u062f\u0631\u06cc\u0627\u0641\u062a \u062f\u0627\u062f\u0647 \u0628\u0631\u0627\u06cc insert \u062f\u0631 \u062c\u062f\u0648\u0644) \u0646\u06cc\u0633\u062a. \u0647\u0645\u0686\u0646\u06cc\u0646 \u0641\u0631\u0645\u062a JSONEachRow \u0631\u0627 \u0628\u0628\u06cc\u0646\u06cc\u062f.</p>\n<h3 id=\"jsoneachrow\">JSONEachRow<a class=\"headerlink\" href=\"#jsoneachrow\" title=\"Permanent link\">&para;</a></h3>\n<p>\u0647\u0631 \u0633\u0637\u0631 \u0628\u0631\u0627\u06cc \u062e\u0648\u062f JSON Object \u062c\u062f\u0627 \u062f\u0627\u0631\u062f. (\u0628\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 newline\u060c JSON \u062a\u0639\u0631\u06cc\u0641 \u0645\u06cc \u0634\u0648\u0646\u062f.)</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"p\">{</span><span class=\"nt\">&quot;SearchPhrase&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;&quot;</span><span class=\"p\">,</span><span class=\"nt\">&quot;count()&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;8267016&quot;</span><span class=\"p\">}</span>\n<span class=\"p\">{</span><span class=\"nt\">&quot;SearchPhrase&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;bathroom interior design&quot;</span><span class=\"p\">,</span><span class=\"nt\">&quot;count()&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;2166&quot;</span><span class=\"p\">}</span>\n<span class=\"p\">{</span><span class=\"nt\">&quot;SearchPhrase&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;yandex&quot;</span><span class=\"p\">,</span><span class=\"nt\">&quot;count()&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;1655&quot;</span><span class=\"p\">}</span>\n<span class=\"p\">{</span><span class=\"nt\">&quot;SearchPhrase&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;spring 2014 fashion&quot;</span><span class=\"p\">,</span><span class=\"nt\">&quot;count()&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;1549&quot;</span><span class=\"p\">}</span>\n<span class=\"p\">{</span><span class=\"nt\">&quot;SearchPhrase&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;freeform photo&quot;</span><span class=\"p\">,</span><span class=\"nt\">&quot;count()&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;1480&quot;</span><span class=\"p\">}</span>\n<span class=\"p\">{</span><span class=\"nt\">&quot;SearchPhrase&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;angelina jolie&quot;</span><span class=\"p\">,</span><span class=\"nt\">&quot;count()&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;1245&quot;</span><span class=\"p\">}</span>\n<span class=\"p\">{</span><span class=\"nt\">&quot;SearchPhrase&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;omsk&quot;</span><span class=\"p\">,</span><span class=\"nt\">&quot;count()&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;1112&quot;</span><span class=\"p\">}</span>\n<span class=\"p\">{</span><span class=\"nt\">&quot;SearchPhrase&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;photos of dog breeds&quot;</span><span class=\"p\">,</span><span class=\"nt\">&quot;count()&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;1091&quot;</span><span class=\"p\">}</span>\n<span class=\"p\">{</span><span class=\"nt\">&quot;SearchPhrase&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;curtain design&quot;</span><span class=\"p\">,</span><span class=\"nt\">&quot;count()&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;1064&quot;</span><span class=\"p\">}</span>\n<span class=\"p\">{</span><span class=\"nt\">&quot;SearchPhrase&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;baku&quot;</span><span class=\"p\">,</span><span class=\"nt\">&quot;count()&quot;</span><span class=\"p\">:</span><span class=\"s2\">&quot;1000&quot;</span><span class=\"p\">}</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u0628\u0631 \u062e\u0644\u0627\u0641 \u0641\u0631\u0645\u062a JSON\u060c \u0647\u06cc\u0686 \u062c\u0627\u06cc\u06af\u0632\u06cc\u0646\u06cc \u0628\u0631\u0627\u06cc \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u0647\u0627\u06cc \u0628\u06cc \u0627\u0639\u062a\u0628\u0627\u0631 UTF-8 \u0648\u062c\u0648\u062f \u0646\u062f\u0627\u0631\u062f. \u0647\u0631 \u0645\u062c\u0645\u0648\u0639\u0647 \u0627\u06cc \u0627\u0632 \u0628\u0627\u06cc\u062a \u0647\u0627\u06cc \u0645\u06cc \u062a\u0648\u0627\u0646\u062f \u062f\u0627\u062e\u0644 \u0633\u0637\u0631 \u062f\u0631 \u062e\u0631\u0648\u062c\u06cc \u0628\u0627\u0634\u0646\u062f. \u067e\u0633 \u062f\u0627\u062f\u0647 \u0647\u0627 \u0628\u062f\u0648\u0646 \u0627\u0632 \u062f\u0633\u062a \u062f\u0627\u062f\u0646 \u0647\u06cc\u0686 \u0627\u0637\u0644\u0627\u0639\u0627\u062a\u06cc \u0641\u0631\u0645\u062a \u0645\u06cc \u0634\u0648\u0646\u062f. \u0645\u0642\u0627\u062f\u06cc\u0631 \u0634\u0628\u06cc\u0647 \u0628\u0647 JSON\u060c escape \u0645\u06cc \u0634\u0648\u0646\u062f.</p>\n<p>\u0628\u0631\u0627\u06cc \u067e\u0627\u0631\u0633 \u06a9\u0631\u062f\u0646\u060c \u0647\u0631 \u062a\u0631\u062a\u06cc\u0628\u06cc \u0628\u0631\u0627\u06cc \u0645\u0642\u0627\u062f\u06cc\u0631 \u0633\u062a\u0648\u0646 \u0647\u0627\u06cc \u0645\u062e\u062a\u0644\u0641 \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u0645\u06cc \u0634\u0648\u062f. \u062d\u0630\u0641 \u0634\u062f\u0646 \u0628\u0639\u0636\u06cc \u0645\u0642\u0627\u062f\u06cc\u0631 \u0642\u0627\u0628\u0644 \u0642\u0628\u0648\u0644 \u0627\u0633\u062a\u060c \u0622\u0646\u0647\u0627 \u0628\u0627 \u0645\u0642\u0627\u062f\u06cc\u0631 \u067e\u06cc\u0634 \u0641\u0631\u0636 \u062e\u0648\u062f \u0628\u0631\u0627\u0628\u0631 \u0647\u0633\u062a\u0646\u062f. \u062f\u0631 \u0627\u06cc\u0646 \u0645\u0648\u0631\u062f\u060c \u0635\u0641\u0631 \u0648 \u0633\u0637\u0631 \u0647\u0627\u06cc \u062e\u0627\u0644\u06cc \u0628\u0647 \u0639\u0646\u0648\u0627\u0646 \u0645\u0642\u0627\u062f\u06cc\u0631 \u067e\u06cc\u0634 \u0641\u0631\u0636 \u0642\u0631\u0627\u0631 \u0645\u06cc \u06af\u06cc\u0631\u0646\u062f. \u0645\u0642\u0627\u062f\u06cc\u0631 \u067e\u06cc\u0686\u06cc\u062f\u0647 \u06a9\u0647 \u0645\u06cc \u062a\u0648\u0627\u0646\u0646\u062f \u062f\u0631 \u062c\u062f\u0648\u0644 \u0645\u0634\u062e\u0635 \u0634\u0648\u0646\u062f\u060c \u0628\u0647 \u0639\u0646\u0648\u0627\u0646 \u0645\u0642\u0627\u062f\u06cc\u0631 \u067e\u06cc\u0634 \u0641\u0631\u0636 \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u0646\u0645\u06cc \u0634\u0648\u0646\u062f. Whitespace \u0628\u06cc\u0646 element \u0647\u0627 \u0646\u0627\u062f\u06cc\u062f\u0647 \u06af\u0631\u0641\u062a\u0647 \u0645\u06cc \u0634\u0648\u0646\u062f. \u0627\u06af\u0631 \u06a9\u0627\u0645\u0627 \u0628\u0639\u062f \u0627\u0632 object \u0647\u0627 \u0642\u0631\u0627\u0631 \u06af\u06cc\u0631\u0646\u062f\u060c \u0646\u0627\u062f\u06cc\u062f\u0647 \u06af\u0631\u0641\u062a\u0647 \u0645\u06cc \u0634\u0648\u0646\u062f. object \u0647\u0627 \u0646\u06cc\u0627\u0632\u06cc \u0628\u0647 \u062c\u062f\u0627\u0633\u0627\u0632\u06cc \u0628\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 new line \u0631\u0627 \u0646\u062f\u0627\u0631\u0646\u062f.</p>\n<h3 id=\"native\">Native<a class=\"headerlink\" href=\"#native\" title=\"Permanent link\">&para;</a></h3>\n<p>\u06a9\u0627\u0631\u0622\u0645\u062f\u062a\u0631\u06cc\u0646 \u0641\u0631\u0645\u062a. \u062f\u0627\u062f\u0647 \u0647\u0627 \u062a\u0648\u0633\u0637 \u0628\u0644\u0627\u06a9 \u0647\u0627 \u0648 \u062f\u0631 \u0641\u0631\u0645\u062a \u0628\u0627\u06cc\u0646\u0631\u06cc \u0646\u0648\u0634\u062a\u0647 \u0648 \u062e\u0648\u0627\u0646\u062f\u0647 \u0645\u06cc \u0634\u0648\u0646\u062f. \u0628\u0631\u0627\u06cc \u0647\u0631 \u0628\u0644\u0627\u06a9\u060c \u062a\u0639\u062f\u0627\u062f \u0633\u0637\u0631\u0647\u0627\u060c \u062a\u0639\u062f\u0627\u062f \u0633\u062a\u0648\u0646 \u0647\u0627\u060c \u0646\u0627\u0645 \u0633\u062a\u0648\u0646 \u0647\u0627 \u0648 type \u0622\u0646\u0647\u0627\u060c \u0648 \u0628\u062e\u0634 \u0647\u0627\u06cc\u06cc \u0627\u0632 \u0633\u062a\u0648\u0646 \u0647\u0627 \u062f\u0631 \u0627\u06cc\u0646 \u0628\u0644\u0627\u06a9 \u06cc\u06a9\u06cc \u067e\u0633 \u0627\u0632 \u062f\u06cc\u06af\u0631\u06cc \u062b\u0628\u062a \u0645\u06cc \u0634\u0648\u0646\u062f. \u0628\u0647 \u0639\u0628\u0627\u0631\u062a \u062f\u06cc\u06af\u0631\u060c \u0627\u06cc\u0646 \u0641\u0631\u0645\u062a \"columnar\" \u0627\u0633\u062a - \u0627\u06cc\u0646 \u0641\u0631\u0645\u062a \u0633\u062a\u0648\u0646 \u0647\u0627 \u0631\u0627 \u0628\u0647 \u0633\u0637\u0631 \u062a\u0628\u062f\u06cc\u0644 \u0646\u0645\u06cc \u06a9\u0646\u062f. \u0627\u06cc\u0646 \u0641\u0631\u0645\u062a \u062f\u0631 \u062d\u0627\u0644\u062a native interface \u0648 \u0628\u06cc\u0646 \u0633\u0631\u0648\u0631 \u0648 \u0645\u062d\u06cc\u0637 \u062a\u0631\u0645\u06cc\u0646\u0627\u0644 \u0648 \u0647\u0645\u0686\u0646\u06cc\u0646 \u06a9\u0644\u0627\u06cc\u0646\u062a C++ \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f.</p>\n<p>\u0634\u0645\u0627 \u0645\u06cc \u062a\u0648\u0627\u0646\u06cc\u062f \u0627\u0632 \u0627\u06cc\u0646 \u0641\u0631\u0645\u062a \u0628\u0631\u0627\u06cc \u062a\u0647\u06cc\u0647 \u062f\u0627\u0645\u067e \u0633\u0631\u06cc\u0639 \u06a9\u0647 \u0641\u0642\u0637 \u062a\u0648\u0633\u0637 \u0645\u062f\u06cc\u0631\u06cc\u062a \u062f\u06cc\u062a\u0627\u0628\u06cc\u0633 ClickHouse \u0642\u0627\u0628\u0644 \u062e\u0648\u0627\u0646\u062f\u0646 \u0627\u0633\u062a \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u062f. \u0628\u0631\u0627\u06cc \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 \u0627\u06cc\u0646 \u0641\u0631\u0645\u062a \u0628\u0631\u0627\u06cc \u062e\u0648\u062f\u062a\u0627\u0646 \u0645\u0646\u0637\u0642\u06cc \u0646\u06cc\u0633\u062a.</p>\n<h3 id=\"null\">Null<a class=\"headerlink\" href=\"#null\" title=\"Permanent link\">&para;</a></h3>\n<p>\u0647\u06cc\u0686\u06cc \u062f\u0631 \u062e\u0631\u0648\u062c\u06cc \u0646\u0645\u0627\u06cc\u0634 \u062f\u0627\u062f\u0647 \u0646\u0645\u06cc \u0634\u0648\u062f. \u0628\u0627 \u0627\u06cc\u0646 \u062d\u0627\u0644\u060c query \u067e\u0631\u062f\u0627\u0632\u0634 \u0645\u06cc \u0634\u0648\u062f\u060c \u0648 \u0632\u0645\u0627\u0646\u06cc \u06a9\u0647 \u0627\u0632 \u06a9\u0644\u0627\u06cc\u062a command-line \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u06a9\u0646\u06cc\u062f\u060c \u062f\u0627\u062f\u0647 \u0647\u0627 \u0628\u0631\u0627\u06cc \u06a9\u0644\u0627\u06cc\u0646\u062a \u0627\u0631\u0633\u0627\u0644 \u0645\u06cc \u0634\u0648\u0646\u062f. \u0627\u0632 \u0627\u06cc\u0646 \u0628\u0631\u0627\u06cc \u062a\u0633\u062a\u060c \u0634\u0627\u0645\u0644 \u062a\u0633\u062a \u0628\u0647\u0631\u0647 \u0648\u0631\u06cc \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f. \u0628\u0647 \u0637\u0648\u0631 \u0645\u0634\u062e\u0635\u060c \u0627\u06cc\u0646 \u0641\u0631\u0645\u062a \u0641\u0642\u0637 \u0628\u0631\u0627\u06cc \u062e\u0631\u0648\u062c\u06cc \u0645\u0646\u0627\u0633\u0628 \u0627\u0633\u062a \u0646\u0647 \u0628\u0631\u0627\u06cc \u067e\u0627\u0631\u0633 \u06a9\u0631\u062f\u0646.</p>\n<h3 id=\"pretty\">Pretty<a class=\"headerlink\" href=\"#pretty\" title=\"Permanent link\">&para;</a></h3>\n<p>\u062e\u0631\u0648\u062c\u06cc \u062f\u0627\u062f\u0647 \u0647\u0627 \u0628\u0647 \u0635\u0648\u0631\u062a \u062c\u062f\u0627\u0648\u0644 Unicode-art\u060c \u0647\u0645\u0686\u0646\u06cc\u0646 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 ANSI-escape \u0628\u0631\u0627\u06cc \u062a\u0646\u0638\u06cc\u0645 \u0631\u0646\u06af \u0647\u0627\u06cc \u062a\u0631\u0645\u06cc\u0646\u0627\u0644. \u06cc\u06a9 \u062c\u062f\u0648\u0644 \u06a9\u0627\u0645\u0644 \u06a9\u0634\u06cc\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f\u060c \u0648 \u0647\u0631 \u0633\u0637\u0631 \u062f\u0648 \u062e\u0637 \u0627\u0632 \u062a\u0631\u0645\u06cc\u0646\u0627\u0644 \u0631\u0627 \u0627\u0634\u063a\u0627\u0644 \u0645\u06cc \u06a9\u0646\u062f. \u0647\u0631 \u0628\u0644\u0627\u06a9\u0650 \u0646\u062a\u06cc\u062c\u0647\u060c \u0628\u0647 \u0639\u0646\u0648\u0627\u0646 \u06cc\u06a9 \u062c\u062f\u0648\u0644 \u062c\u062f\u0627 \u0686\u0627\u067e \u0645\u06cc \u0634\u0648\u062f.\u067e\u0633 \u0628\u0644\u0627\u06a9 \u0647\u0627 \u0645\u06cc \u062a\u0648\u0627\u0646\u0646\u062f \u0628\u062f\u0648\u0646 \u0628\u0627\u0641\u0631 \u06a9\u0631\u062f\u0646 \u0646\u062a\u0627\u06cc\u062c \u0686\u0627\u067e \u0634\u0648\u0646\u062f (\u0628\u0627\u0641\u0631\u06cc\u0646\u06af \u0628\u0631\u0627\u06cc pre-calculate \u062a\u0645\u0627\u0645 \u0645\u0642\u0627\u062f\u06cc\u0631 \u0642\u0627\u0628\u0644 \u0645\u0634\u0627\u0647\u062f\u0647 \u0636\u0631\u0648\u0631\u06cc \u0627\u0633\u062a). \u0628\u0631\u0627\u06cc \u062c\u0644\u0648\u06af\u06cc\u0631\u06cc \u0627\u0632 \u062f\u0627\u0645\u067e \u0632\u06cc\u0627\u062f \u062f\u0627\u062f\u0647 \u0647\u0627 \u062f\u0631 \u062a\u0631\u0645\u06cc\u0646\u0627\u0644\u060c 10 \u0647\u0632\u0627\u0631 \u0633\u0637\u0631 \u0627\u0648\u0644 \u0686\u0627\u067e \u0645\u06cc \u0634\u0648\u0646\u062f. \u0627\u06af\u0631 \u062a\u0639\u062f\u0627\u062f \u0633\u0637\u0631 \u0647\u0627\u06cc \u0628\u0632\u0631\u06af\u062a\u0631 \u0645\u0633\u0627\u0648\u06cc 10 \u0647\u0632\u0627\u0631 \u0628\u0627\u0634\u062f\u060c \u067e\u06cc\u063a\u0627\u0645 \" 10 \u0647\u0632\u0627\u0631 \u0627\u0648\u0644 \u0646\u0645\u0627\u06cc\u0634 \u062f\u0627\u062f\u0647 \u0634\u062f\" \u0686\u0627\u067e \u0645\u06cc \u0634\u0648\u062f. \u0627\u06cc\u0646 \u0641\u0631\u0645\u062a \u0641\u0642\u0637 \u0645\u0646\u0627\u0633\u0628 \u062e\u0631\u0648\u062c\u06cc \u0646\u062a\u0627\u06cc\u062c query \u0647\u0627 \u0645\u06cc \u0628\u0627\u0634\u062f\u060c \u0646\u0647 \u0628\u0631\u0627\u06cc \u067e\u0627\u0631\u0633 \u06a9\u0631\u062f\u0646 (\u062f\u0631\u06cc\u0627\u0641\u062a \u062f\u0627\u062f\u0647 \u0647\u0627 \u0648 \u062f\u0631\u062c \u0622\u0646 \u062f\u0631 \u062c\u062f\u0648\u0644).</p>\n<p>\u0641\u0631\u0645\u062a Pretty \u0627\u0632 total values (\u0647\u0646\u06af\u0627\u0645 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 WITH TOTALS) \u0648 extreme (\u0647\u0646\u06af\u0627\u0645 \u06a9\u0647 'extremes' \u0628\u0631\u0627\u0628\u0631 \u0628\u0627 1 \u0627\u0633\u062a) \u0628\u0631\u0627\u06cc \u062e\u0631\u0648\u062c\u06cc \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u0645\u06cc \u06a9\u0646\u062f. \u062f\u0631 \u0627\u06cc\u0646 \u0645\u0648\u0627\u0631\u062f\u060c total values \u0648 extreme values \u0628\u0639\u062f \u0627\u0632 \u0646\u0645\u0627\u06cc\u0634 \u062f\u0627\u062f\u0647 \u0647\u0627\u06cc \u0627\u0635\u0644\u06cc \u062f\u0631 \u062c\u062f\u0627\u0648\u0644 \u062c\u062f\u0627\u060c \u0686\u0627\u067e \u0645\u06cc \u0634\u0648\u0646\u062f. \u0645\u062b\u0627\u0644 (\u0628\u0631\u0627\u06cc \u0641\u0631\u0645\u062a PrettyCompact \u0646\u0645\u0627\u06cc\u0634 \u062f\u0627\u062f\u0647 \u0634\u062f\u0647 \u0627\u0633\u062a):</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">EventDate</span><span class=\"p\">,</span> <span class=\"k\">count</span><span class=\"p\">()</span> <span class=\"k\">AS</span> <span class=\"k\">c</span> <span class=\"k\">FROM</span> <span class=\"n\">test</span><span class=\"p\">.</span><span class=\"n\">hits</span> <span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">EventDate</span> <span class=\"k\">WITH</span> <span class=\"n\">TOTALS</span> <span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"n\">EventDate</span> <span class=\"n\">FORMAT</span> <span class=\"n\">PrettyCompact</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500\u2500</span><span class=\"n\">EventDate</span><span class=\"err\">\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500</span><span class=\"k\">c</span><span class=\"err\">\u2500\u2510</span>\n<span class=\"err\">\u2502</span> <span class=\"mi\">2014</span><span class=\"o\">-</span><span class=\"mi\">03</span><span class=\"o\">-</span><span class=\"mi\">17</span> <span class=\"err\">\u2502</span> <span class=\"mi\">1406958</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span> <span class=\"mi\">2014</span><span class=\"o\">-</span><span class=\"mi\">03</span><span class=\"o\">-</span><span class=\"mi\">18</span> <span class=\"err\">\u2502</span> <span class=\"mi\">1383658</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span> <span class=\"mi\">2014</span><span class=\"o\">-</span><span class=\"mi\">03</span><span class=\"o\">-</span><span class=\"mi\">19</span> <span class=\"err\">\u2502</span> <span class=\"mi\">1405797</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span> <span class=\"mi\">2014</span><span class=\"o\">-</span><span class=\"mi\">03</span><span class=\"o\">-</span><span class=\"mi\">20</span> <span class=\"err\">\u2502</span> <span class=\"mi\">1353623</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span> <span class=\"mi\">2014</span><span class=\"o\">-</span><span class=\"mi\">03</span><span class=\"o\">-</span><span class=\"mi\">21</span> <span class=\"err\">\u2502</span> <span class=\"mi\">1245779</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span> <span class=\"mi\">2014</span><span class=\"o\">-</span><span class=\"mi\">03</span><span class=\"o\">-</span><span class=\"mi\">22</span> <span class=\"err\">\u2502</span> <span class=\"mi\">1031592</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span> <span class=\"mi\">2014</span><span class=\"o\">-</span><span class=\"mi\">03</span><span class=\"o\">-</span><span class=\"mi\">23</span> <span class=\"err\">\u2502</span> <span class=\"mi\">1046491</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n\n<span class=\"n\">Totals</span><span class=\"p\">:</span>\n<span class=\"err\">\u250c\u2500\u2500</span><span class=\"n\">EventDate</span><span class=\"err\">\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500</span><span class=\"k\">c</span><span class=\"err\">\u2500\u2510</span>\n<span class=\"err\">\u2502</span> <span class=\"mi\">0000</span><span class=\"o\">-</span><span class=\"mi\">00</span><span class=\"o\">-</span><span class=\"mi\">00</span> <span class=\"err\">\u2502</span> <span class=\"mi\">8873898</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n\n<span class=\"n\">Extremes</span><span class=\"p\">:</span>\n<span class=\"err\">\u250c\u2500\u2500</span><span class=\"n\">EventDate</span><span class=\"err\">\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500</span><span class=\"k\">c</span><span class=\"err\">\u2500\u2510</span>\n<span class=\"err\">\u2502</span> <span class=\"mi\">2014</span><span class=\"o\">-</span><span class=\"mi\">03</span><span class=\"o\">-</span><span class=\"mi\">17</span> <span class=\"err\">\u2502</span> <span class=\"mi\">1031592</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span> <span class=\"mi\">2014</span><span class=\"o\">-</span><span class=\"mi\">03</span><span class=\"o\">-</span><span class=\"mi\">23</span> <span class=\"err\">\u2502</span> <span class=\"mi\">1406958</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<h3 id=\"prettycompact\">PrettyCompact<a class=\"headerlink\" href=\"#prettycompact\" title=\"Permanent link\">&para;</a></h3>\n<p>\u062a\u0641\u0627\u0648\u062a \u0622\u0646 \u0628\u0627 <code>Pretty</code> \u062f\u0631 \u0627\u06cc\u0646 \u0627\u0633\u062a \u06a9\u0647 grid \u0647\u0627\u06cc \u06a9\u0634\u06cc\u062f\u0647 \u0634\u062f\u0647 \u0628\u06cc\u0646 \u0633\u0637\u0631 \u0647\u0627 \u0648 \u062e\u0631\u0648\u062c\u06cc \u0641\u0634\u0631\u062f\u0647 \u062a\u0631 \u0627\u0633\u062a. \u0627\u06cc\u0646 \u0641\u0631\u0645\u062a \u0628\u0647 \u0635\u0648\u0631\u062a \u067e\u06cc\u0634 \u0641\u0631\u0636 \u062f\u0631 \u0645\u062d\u06cc\u0637 \u06a9\u0644\u0627\u06cc\u0646\u062a \u062f\u0631 \u062d\u0627\u0644\u062a interactive \u0645\u0648\u0631\u062f \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0642\u0631\u0627\u0631 \u0645\u06cc \u06af\u06cc\u0631\u062f.</p>\n<h3 id=\"prettycompactmonoblock\">PrettyCompactMonoBlock<a class=\"headerlink\" href=\"#prettycompactmonoblock\" title=\"Permanent link\">&para;</a></h3>\n<p>\u062a\u0641\u0627\u0648\u062a \u0622\u0646 \u0628\u0627 <code>PrettyCompact</code> \u062f\u0631 \u0627\u06cc\u0646 \u0627\u0633\u062a \u06a9\u0647 10 \u0647\u0632\u0627\u0631 \u0633\u0637\u0631 \u062e\u0631\u0648\u062c\u06cc \u0628\u0627\u0641\u0631 \u0645\u06cc \u0634\u0648\u0646\u062f\u060c \u0648 \u0633\u067e\u0633 \u062f\u0631 \u06cc\u06a9 \u062c\u062f\u0648\u0644 \u0686\u0627\u067e \u0645\u06cc \u0634\u0648\u0646\u062f. \u0646\u0647 \u0628\u0647 \u0635\u0648\u0631\u062a \u0628\u0644\u0627\u06a9</p>\n<h3 id=\"prettynoescapes\">PrettyNoEscapes<a class=\"headerlink\" href=\"#prettynoescapes\" title=\"Permanent link\">&para;</a></h3>\n<p>\u062a\u0641\u0627\u0648\u062a \u0622\u0646 \u0628\u0627 Pretty \u062f\u0631 \u0627\u06cc\u0646 \u0627\u0633\u062a \u06a9\u0647 \u0627\u0632 ANSI-escape \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0646\u0645\u06cc \u06a9\u0646\u062f. \u0627\u06cc\u0646 \u0628\u0631\u0627\u06cc \u0646\u0645\u0627\u06cc\u0634 \u0627\u06cc\u0646 \u0641\u0631\u0645\u062a \u062f\u0631 \u0645\u0631\u0648\u06af\u0631 \u0636\u0631\u0648\u0631\u06cc \u0627\u0633\u062a\u060c \u0648 \u0647\u0645\u0686\u0646\u06cc\u0646 \u0628\u0631\u0627\u06cc \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 \u062f\u0633\u062a\u0648\u0631 'watch' \u0636\u0631\u0648\u0631\u06cc \u0627\u0633\u062a.</p>\n<p>\u0645\u062b\u0627\u0644:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span>watch -n1 <span class=\"s2\">&quot;clickhouse-client --query=&#39;SELECT event, value FROM system.events FORMAT PrettyCompactNoEscapes&#39;&quot;</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u0634\u0645\u0627 \u0645\u06cc \u062a\u0648\u0627\u0646\u06cc\u062f \u0628\u0631\u0627\u06cc \u0646\u0645\u0627\u06cc\u0634 \u062f\u0631 \u0645\u0631\u0648\u0631\u06af\u0631 \u0627\u0632 interface HTTP \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u062f.</p>\n<h4 id=\"prettycompactnoescapes\">PrettyCompactNoEscapes<a class=\"headerlink\" href=\"#prettycompactnoescapes\" title=\"Permanent link\">&para;</a></h4>\n<p>\u0647\u0645\u0627\u0646\u0646\u062f \u062a\u0646\u0638\u06cc\u0645 \u0642\u0628\u0644\u06cc \u0645\u06cc \u0628\u0627\u0634\u062f.</p>\n<h4 id=\"prettyspacenoescapes\">PrettySpaceNoEscapes<a class=\"headerlink\" href=\"#prettyspacenoescapes\" title=\"Permanent link\">&para;</a></h4>\n<p>\u0647\u0645\u0627\u0646\u0646\u062f \u062a\u0646\u0638\u06cc\u0645 \u0642\u0628\u0644\u06cc \u0645\u06cc \u0628\u0627\u0634\u062f..</p>\n<h3 id=\"prettyspace\">PrettySpace<a class=\"headerlink\" href=\"#prettyspace\" title=\"Permanent link\">&para;</a></h3>\n<p>\u062a\u0641\u0627\u0648\u062a \u0622\u0646 \u0628\u0627 <code>PrettyCompact</code> \u062f\u0631 \u0627\u06cc\u0646 \u0627\u0633\u062a \u06a9\u0647 \u0627\u0632 whitespace (\u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u0647\u0627\u06cc space) \u0628\u0647 \u062c\u0627\u06cc grid \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u06a9\u0646\u062f.</p>\n<h3 id=\"rowbinary\">RowBinary<a class=\"headerlink\" href=\"#rowbinary\" title=\"Permanent link\">&para;</a></h3>\n<p>\u0641\u0631\u0645\u062a \u0647\u0627 \u0648 \u067e\u0627\u0631\u0633 \u06a9\u0631\u062f\u0646 \u062f\u0627\u062f\u0647 \u0647\u0627\u060c \u0628\u0631\u0627\u0633\u0627\u0633 \u0633\u0637\u0631 \u062f\u0631 \u0641\u0631\u0645\u062a \u0628\u0627\u06cc\u0646\u0631\u06cc \u0627\u0633\u062a.\u0633\u0637\u0631\u0647\u0627 \u0648 \u0645\u0642\u0627\u062f\u06cc\u0631 \u0628\u0647 \u0635\u0648\u0631\u062a \u067e\u06cc\u0648\u0633\u062a\u0647 \u0648 \u0628\u062f\u0648\u0646 \u062c\u062f\u0627 \u06a9\u0646\u0646\u062f\u0647 \u0644\u06cc\u0633\u062a \u0645\u06cc \u0634\u0648\u0646\u062f.\u0627\u06cc\u0646 \u0641\u0631\u0645\u062a \u06a9\u0645 \u06a9\u0627\u0631\u0622\u0645\u062f \u062a\u0631 \u0627\u0632 \u0641\u0631\u0645\u062a native \u0627\u0633\u062a\u060c \u0627\u0632 \u0622\u0646\u062c\u0627\u06cc\u06cc \u06a9\u0647 \u0631\u062f\u06cc\u0641 \u06af\u0631\u0627 \u0627\u0633\u062a.</p>\n<p>\u0627\u0639\u062f\u0627\u062f Integers \u0627\u0632 fixed-length \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u06a9\u0646\u0646\u062f. \u0628\u0631\u0627\u06cc \u0645\u062b\u0627\u0644 Uint64 \u0627\u0632 8 \u0628\u0627\u06cc\u062a \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u06a9\u0646\u062f. DateTime \u0627\u0632 UInt32 \u06a9\u0647 \u0634\u0627\u0645\u0644 \u0645\u0642\u062f\u0627\u0631 Unix Timestamp \u0627\u0633\u062a \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u06a9\u0646\u062f. Date \u0627\u0632 UInt16 \u06a9\u0647 \u0634\u0627\u0645\u0644 \u062a\u0639\u062f\u0627\u062f \u0631\u0648\u0632 \u0627\u0632 \u062a\u0627\u0631\u06cc\u062e 1-1-1970 \u0627\u0633\u062a \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u06a9\u0646\u062f. String \u0628\u0647 \u0639\u0646\u0648\u0627\u0646 variant length \u0646\u0634\u0627\u0646 \u062f\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f (unsigned <a href=\"https://en.wikipedia.org/wiki/LEB128\" rel=\"external nofollow\">LEB128</a>)\u060c \u06a9\u0647 \u062f\u0646\u0628\u0627\u0644\u0647 \u0627\u06cc \u0627\u0632 \u0628\u0627\u06cc\u062a \u0647\u0627\u06cc \u06cc\u06a9 \u0631\u0634\u062a\u0647 \u0647\u0633\u062a\u0646\u062f. FixedString \u0628\u0647 \u0633\u0627\u062f\u06af\u06cc \u0628\u0647 \u0639\u0646\u0648\u0627\u0646 \u062a\u0648\u0627\u0644\u06cc \u0627\u0632 \u0628\u0627\u06cc\u062a \u0647\u0627 \u0646\u0645\u0627\u06cc\u0634 \u062f\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f.</p>\n<p>\u0622\u0631\u0627\u06cc\u0647 \u0628\u0647 \u0639\u0646\u0648\u0627\u0646 variant length \u0646\u0634\u0627\u0646 \u062f\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f (unsigned <a href=\"https://en.wikipedia.org/wiki/LEB128\" rel=\"external nofollow\">LEB128</a>)\u060c \u062f\u0646\u0628\u0627\u0644\u0647 \u0627\u06cc \u0627\u0632 \u0639\u0627\u0646\u0635\u0631 \u067e\u06cc\u0648\u0633\u062a\u0647 \u0622\u0631\u0627\u06cc\u0647</p>\n<h3 id=\"data-format-values\">Values<a class=\"headerlink\" href=\"#data-format-values\" title=\"Permanent link\">&para;</a></h3>\n<p>\u0647\u0631 \u0633\u0637\u0631 \u062f\u0627\u062e\u0644 \u0628\u0631\u0627\u06a9\u062a \u0686\u0627\u067e \u0645\u06cc \u0634\u0648\u062f. \u0633\u0637\u0631 \u0647\u0627 \u062a\u0648\u0633\u0637 comma \u062c\u062f\u0627 \u0645\u06cc \u0634\u0648\u0646\u062f. \u0628\u0631\u0627\u06cc \u0622\u062e\u0631\u06cc\u0646 \u0633\u0637\u0631 comma \u0648\u062c\u0648\u062f \u0646\u062f\u0627\u0631\u062f. \u0645\u0642\u0627\u062f\u06cc\u0631 \u062f\u0627\u062e\u0644 \u0628\u0631\u0627\u06a9\u062a \u0647\u0645\u0686\u0646\u06cc\u0646 \u062a\u0648\u0633\u0637 comma \u062c\u062f\u0627 \u0645\u06cc \u0634\u0648\u0646\u062f. \u0627\u0639\u062f\u0627\u062f \u0628\u0627 \u0641\u0631\u0645\u062a decimal \u0648 \u0628\u062f\u0648\u0646 \u06a9\u0648\u062a\u06cc\u0634\u0646 \u0686\u0627\u067e \u0645\u06cc \u0634\u0648\u0646\u062f. \u0622\u0631\u0627\u06cc\u0647 \u0647\u0627 \u062f\u0631 \u0628\u0631\u0627\u06a9\u062a \u0647\u0627 \u0686\u0627\u067e \u0645\u06cc \u0634\u0648\u0646\u062f. \u0631\u0634\u062a\u0647 \u0647\u0627\u060c \u062a\u0627\u0631\u06cc\u062e \u0648 \u062a\u0627\u0631\u06cc\u062e \u0628\u0627 \u0633\u0627\u0639\u062a \u062f\u0627\u062e\u0644 \u06a9\u0648\u062a\u06cc\u0634\u0646 \u0642\u0631\u0627\u0631 \u0645\u06cc \u06af\u06cc\u0631\u0646\u062f. \u0642\u0648\u0627\u0646\u06cc\u0646 escape \u0648 \u067e\u0627\u0631\u0633 \u06a9\u0631\u062f\u0646 \u0634\u0628\u06cc\u0647 \u0628\u0647 \u0641\u0631\u0645\u062a TabSeparated \u0627\u0646\u062c\u0627\u0645 \u0645\u06cc \u0634\u0648\u062f. \u062f\u0631 \u0637\u0648\u0644 \u0641\u0631\u0645\u062a\u060c extra spaces \u062f\u0631\u062c \u0646\u0645\u06cc \u0634\u0648\u0646\u062f\u060c \u0627\u0645\u0627 \u062f\u0631 \u0647\u0646\u06af\u0627\u0645 \u067e\u0627\u0631\u0633 \u06a9\u0631\u062f\u0646\u060c \u0622\u0646\u0647\u0627 \u0645\u062c\u0627\u0632 \u0648 skip \u0645\u06cc \u0634\u0648\u0646\u062f. (\u0628\u0647 \u062c\u0632 space \u0647\u0627\u06cc \u062f\u0627\u062e\u0644 \u0645\u0642\u0627\u062f\u06cc\u0631 \u0622\u0631\u0627\u06cc\u0647\u060c \u06a9\u0647 \u0645\u062c\u0627\u0632 \u0646\u06cc\u0633\u062a\u0646\u062f).</p>\n<p>\u062d\u062f\u0627\u0642\u0644 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631\u0647\u0627\u06cc \u06a9\u0647 \u0634\u0645\u0627 \u062f\u0631 \u0647\u0646\u06af\u0627\u0645 \u067e\u0627\u0633 \u062f\u0627\u062f\u0646 \u062f\u0627\u062f\u0647 \u0647\u0627 \u0628\u0631\u0627\u06cc escape \u0646\u06cc\u0627\u0632 \u062f\u0627\u0631\u06cc\u062f: \u062a\u06a9 \u06a9\u0648\u062a\u06cc\u0634\u0646 \u0648 \u0628\u06a9 \u0627\u0633\u0644\u0634.</p>\n<p>\u0627\u06cc\u0646 \u0641\u0631\u0645\u062a \u0628\u0631\u0627\u06cc \u062f\u0633\u062a\u0648\u0631 <code>INSERT INTO t VALUES ...</code> \u0645\u0648\u0631\u062f \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0642\u0631\u0627\u0631 \u0645\u06cc \u06af\u06cc\u0631\u062f\u060c \u0627\u0645\u0627 \u0647\u0645\u0686\u0646\u06cc\u0646 \u0634\u0645\u0627 \u0645\u06cc \u062a\u0648\u0646\u06cc\u062f \u0628\u0631\u0627\u06cc \u0641\u0631\u0645\u062a \u0646\u062a\u0627\u06cc\u062c query \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u062f.</p>\n<h3 id=\"vertical\">Vertical<a class=\"headerlink\" href=\"#vertical\" title=\"Permanent link\">&para;</a></h3>\n<p>\u0645\u0642\u062f\u0627\u0631 \u0647\u0631 \u0633\u062a\u0648\u0646 \u0628\u0647 \u0647\u0645\u0631\u0627\u0647 \u0646\u0627\u0645 \u0633\u062a\u0648\u0646 \u062f\u0631 \u0633\u0637\u0631 \u062c\u062f\u0627\u06af\u0627\u0646\u0647 \u0686\u0627\u067e \u0645\u06cc \u0634\u0648\u062f. \u0627\u06af\u0631 \u0647\u0631 \u0633\u0637\u0631 \u0634\u0627\u0645\u0644 \u062a\u0639\u062f\u0627\u062f \u0632\u06cc\u0627\u062f\u06cc \u0633\u062a\u0648\u0646 \u0627\u0633\u062a\u060c \u0627\u06cc\u0646 \u0641\u0631\u0645\u062a \u062c\u0647\u062a \u0686\u0627\u067e \u0686\u0646\u062f \u0633\u0637\u0631 \u0645\u0646\u0627\u0633\u0628 \u0627\u0633\u062a. \u0627\u06cc\u0646 \u0641\u0631\u0645\u062a \u0641\u0642\u0637 \u0645\u0646\u0627\u0633\u0628 \u062e\u0631\u0648\u062c\u06cc \u0646\u062a\u0627\u06cc\u062c query \u0647\u0627 \u0645\u06cc \u0628\u0627\u0634\u062f\u060c \u0646\u0647 \u0628\u0631\u0627\u06cc \u067e\u0627\u0631\u0633 \u06a9\u0631\u062f\u0646 (\u062f\u0631\u06cc\u0627\u0641\u062a \u062f\u0627\u062f\u0647 \u0647\u0627 \u0648 \u062f\u0631\u062c \u0622\u0646 \u062f\u0631 \u062c\u062f\u0648\u0644).</p>\n<h3 id=\"verticalraw\">VerticalRaw<a class=\"headerlink\" href=\"#verticalraw\" title=\"Permanent link\">&para;</a></h3>\n<p>\u062a\u0641\u0627\u0648\u062a \u0622\u0646 \u0628\u0627 <code>Vertical</code> \u062f\u0631 \u0627\u06cc\u0646 \u0627\u0633\u062a \u06a9\u0647 \u0633\u0637\u0631 \u0647\u0627 escape \u0646\u0645\u06cc \u0634\u0648\u0646\u062f. \u0627\u06cc\u0646 \u0641\u0631\u0645\u062a \u0641\u0642\u0637 \u0645\u0646\u0627\u0633\u0628 \u062e\u0631\u0648\u062c\u06cc \u0646\u062a\u0627\u06cc\u062c query \u0647\u0627 \u0645\u06cc \u0628\u0627\u0634\u062f\u060c \u0646\u0647 \u0628\u0631\u0627\u06cc \u067e\u0627\u0631\u0633 \u06a9\u0631\u062f\u0646 (\u062f\u0631\u06cc\u0627\u0641\u062a \u062f\u0627\u062f\u0647 \u0647\u0627 \u0648 \u062f\u0631\u062c \u0622\u0646 \u062f\u0631 \u062c\u062f\u0648\u0644).</p>\n<p>\u0645\u062b\u0627\u0644:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"p\">:)</span> <span class=\"k\">SHOW</span> <span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">geonames</span> <span class=\"n\">FORMAT</span> <span class=\"n\">VerticalRaw</span><span class=\"p\">;</span>\n<span class=\"k\">Row</span> <span class=\"mi\">1</span><span class=\"p\">:</span>\n<span class=\"err\">\u2500\u2500\u2500\u2500\u2500\u2500</span>\n<span class=\"k\">statement</span><span class=\"p\">:</span> <span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"k\">default</span><span class=\"p\">.</span><span class=\"n\">geonames</span> <span class=\"p\">(</span> <span class=\"n\">geonameid</span> <span class=\"n\">UInt32</span><span class=\"p\">,</span> <span class=\"nb\">date</span> <span class=\"nb\">Date</span> <span class=\"k\">DEFAULT</span> <span class=\"k\">CAST</span><span class=\"p\">(</span><span class=\"s1\">&#39;2017-12-08&#39;</span> <span class=\"k\">AS</span> <span class=\"nb\">Date</span><span class=\"p\">))</span> <span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">MergeTree</span><span class=\"p\">(</span><span class=\"nb\">date</span><span class=\"p\">,</span> <span class=\"n\">geonameid</span><span class=\"p\">,</span> <span class=\"mi\">8192</span><span class=\"p\">)</span>\n\n<span class=\"p\">:)</span> <span class=\"k\">SELECT</span> <span class=\"s1\">&#39;string with \\&#39;</span><span class=\"n\">quotes</span><span class=\"err\">\\</span><span class=\"s1\">&#39; and \\t with some special \\n characters&#39;</span> <span class=\"k\">AS</span> <span class=\"n\">test</span> <span class=\"n\">FORMAT</span> <span class=\"n\">VerticalRaw</span><span class=\"p\">;</span>\n<span class=\"k\">Row</span> <span class=\"mi\">1</span><span class=\"p\">:</span>\n<span class=\"err\">\u2500\u2500\u2500\u2500\u2500\u2500</span>\n<span class=\"n\">test</span><span class=\"p\">:</span> <span class=\"n\">string</span> <span class=\"k\">with</span> <span class=\"s1\">&#39;quotes&#39;</span> <span class=\"k\">and</span>   <span class=\"k\">with</span> <span class=\"k\">some</span> <span class=\"n\">special</span>\n <span class=\"n\">characters</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u062f\u0631 \u0645\u0642\u0627\u06cc\u0633\u0647 \u0628\u0627 \u0641\u0631\u0645\u062a Vertical:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">:) SELECT &#39;string with \\&#39;quotes\\&#39; and \\t with some special \\n characters&#39; AS test FORMAT Vertical;</span>\n<span class=\"err\">Row 1:</span>\n<span class=\"err\">\u2500\u2500\u2500\u2500\u2500\u2500</span>\n<span class=\"c\">test: string with \\&#39;quotes\\&#39; and \\t with some special \\n characters</span>\n</pre></div>\n\n\n<h3 id=\"xml\">XML<a class=\"headerlink\" href=\"#xml\" title=\"Permanent link\">&para;</a></h3>\n<div dir=\"rtl\">\n<p>\u0641\u0631\u0645\u062a XML \u0641\u0642\u0637 \u0628\u0631\u0627\u06cc \u062e\u0631\u0648\u062c\u06cc \u0645\u0646\u0627\u0633\u0628 \u0627\u0633\u062a\u060c \u0646\u0647 \u0628\u0631\u0627\u06cc \u067e\u0627\u0631\u0633 \u06a9\u0631\u062f\u0646. \u0645\u062b\u0627\u0644:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"cp\">&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39; ?&gt;</span>\n<span class=\"nt\">&lt;result&gt;</span>\n        <span class=\"nt\">&lt;meta&gt;</span>\n                <span class=\"nt\">&lt;columns&gt;</span>\n                        <span class=\"nt\">&lt;column&gt;</span>\n                                <span class=\"nt\">&lt;name&gt;</span>SearchPhrase<span class=\"nt\">&lt;/name&gt;</span>\n                                <span class=\"nt\">&lt;type&gt;</span>String<span class=\"nt\">&lt;/type&gt;</span>\n                        <span class=\"nt\">&lt;/column&gt;</span>\n                        <span class=\"nt\">&lt;column&gt;</span>\n                                <span class=\"nt\">&lt;name&gt;</span>count()<span class=\"nt\">&lt;/name&gt;</span>\n                                <span class=\"nt\">&lt;type&gt;</span>UInt64<span class=\"nt\">&lt;/type&gt;</span>\n                        <span class=\"nt\">&lt;/column&gt;</span>\n                <span class=\"nt\">&lt;/columns&gt;</span>\n        <span class=\"nt\">&lt;/meta&gt;</span>\n        <span class=\"nt\">&lt;data&gt;</span>\n                <span class=\"nt\">&lt;row&gt;</span>\n                        <span class=\"nt\">&lt;SearchPhrase&gt;&lt;/SearchPhrase&gt;</span>\n                        <span class=\"nt\">&lt;field&gt;</span>8267016<span class=\"nt\">&lt;/field&gt;</span>\n                <span class=\"nt\">&lt;/row&gt;</span>\n                <span class=\"nt\">&lt;row&gt;</span>\n                        <span class=\"nt\">&lt;SearchPhrase&gt;</span>bathroom interior design<span class=\"nt\">&lt;/SearchPhrase&gt;</span>\n                        <span class=\"nt\">&lt;field&gt;</span>2166<span class=\"nt\">&lt;/field&gt;</span>\n                <span class=\"nt\">&lt;/row&gt;</span>\n                <span class=\"nt\">&lt;row&gt;</span>\n                        <span class=\"nt\">&lt;SearchPhrase&gt;</span>yandex<span class=\"nt\">&lt;/SearchPhrase&gt;</span>\n                        <span class=\"nt\">&lt;field&gt;</span>1655<span class=\"nt\">&lt;/field&gt;</span>\n                <span class=\"nt\">&lt;/row&gt;</span>\n                <span class=\"nt\">&lt;row&gt;</span>\n                        <span class=\"nt\">&lt;SearchPhrase&gt;</span>spring 2014 fashion<span class=\"nt\">&lt;/SearchPhrase&gt;</span>\n                        <span class=\"nt\">&lt;field&gt;</span>1549<span class=\"nt\">&lt;/field&gt;</span>\n                <span class=\"nt\">&lt;/row&gt;</span>\n                <span class=\"nt\">&lt;row&gt;</span>\n                        <span class=\"nt\">&lt;SearchPhrase&gt;</span>freeform photos<span class=\"nt\">&lt;/SearchPhrase&gt;</span>\n                        <span class=\"nt\">&lt;field&gt;</span>1480<span class=\"nt\">&lt;/field&gt;</span>\n                <span class=\"nt\">&lt;/row&gt;</span>\n                <span class=\"nt\">&lt;row&gt;</span>\n                        <span class=\"nt\">&lt;SearchPhrase&gt;</span>angelina jolie<span class=\"nt\">&lt;/SearchPhrase&gt;</span>\n                        <span class=\"nt\">&lt;field&gt;</span>1245<span class=\"nt\">&lt;/field&gt;</span>\n                <span class=\"nt\">&lt;/row&gt;</span>\n                <span class=\"nt\">&lt;row&gt;</span>\n                        <span class=\"nt\">&lt;SearchPhrase&gt;</span>omsk<span class=\"nt\">&lt;/SearchPhrase&gt;</span>\n                        <span class=\"nt\">&lt;field&gt;</span>1112<span class=\"nt\">&lt;/field&gt;</span>\n                <span class=\"nt\">&lt;/row&gt;</span>\n                <span class=\"nt\">&lt;row&gt;</span>\n                        <span class=\"nt\">&lt;SearchPhrase&gt;</span>photos of dog breeds<span class=\"nt\">&lt;/SearchPhrase&gt;</span>\n                        <span class=\"nt\">&lt;field&gt;</span>1091<span class=\"nt\">&lt;/field&gt;</span>\n                <span class=\"nt\">&lt;/row&gt;</span>\n                <span class=\"nt\">&lt;row&gt;</span>\n                        <span class=\"nt\">&lt;SearchPhrase&gt;</span>curtain design<span class=\"nt\">&lt;/SearchPhrase&gt;</span>\n                        <span class=\"nt\">&lt;field&gt;</span>1064<span class=\"nt\">&lt;/field&gt;</span>\n                <span class=\"nt\">&lt;/row&gt;</span>\n                <span class=\"nt\">&lt;row&gt;</span>\n                        <span class=\"nt\">&lt;SearchPhrase&gt;</span>baku<span class=\"nt\">&lt;/SearchPhrase&gt;</span>\n                        <span class=\"nt\">&lt;field&gt;</span>1000<span class=\"nt\">&lt;/field&gt;</span>\n                <span class=\"nt\">&lt;/row&gt;</span>\n        <span class=\"nt\">&lt;/data&gt;</span>\n        <span class=\"nt\">&lt;rows&gt;</span>10<span class=\"nt\">&lt;/rows&gt;</span>\n        <span class=\"nt\">&lt;rows_before_limit_at_least&gt;</span>141137<span class=\"nt\">&lt;/rows_before_limit_at_least&gt;</span>\n<span class=\"nt\">&lt;/result&gt;</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u0627\u06af\u0631 \u0646\u0627\u0645 \u0641\u06cc\u0644\u062f\u060c \u0641\u0631\u0645\u062a \u0642\u0627\u0628\u0644 \u0642\u0628\u0648\u0644\u06cc \u0646\u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u062f\u060c \u0627\u0633\u0645 'field' \u0628\u0647 \u0639\u0646\u0648\u0627\u0646 \u0646\u0627\u0645 \u0639\u0646\u0635\u0631 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f. \u0628\u0647 \u0637\u0648\u0631 \u06a9\u0644\u06cc\u060c \u0633\u0627\u062e\u062a\u0627\u0631 XML \u0645\u0634\u0627\u0628\u0647 \u0633\u0627\u062e\u062a\u0627\u0631 JSON \u0645\u06cc \u0628\u0627\u0634\u062f. \u0641\u0642\u0637 \u062f\u0631 JSON\u060c \u0645\u0648\u0627\u0631\u062f \u0628\u06cc \u0627\u0639\u062a\u0628\u0627\u0631 UTF-8 \u062a\u0628\u062f\u06cc\u0644 \u0628\u0647 \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \ufffd \u0645\u06cc \u0634\u0648\u0646\u062f \u06a9\u0647 \u0645\u0646\u062c\u0631 \u0628\u0647 \u062e\u0631\u0648\u062c\u06cc \u0645\u0639\u062a\u0628\u0631 UTF-8 \u0645\u06cc \u0634\u0648\u062f.</p>\n<p>\u062f\u0631 \u0645\u0642\u0627\u062f\u06cc\u0631 \u0631\u0634\u062a\u0647 \u0627\u06cc\u060c \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u0647\u0627\u06cc <code>&gt;</code> \u0648 <code>&amp;</code> \u0628\u0647 \u0635\u0648\u0631\u062a <code>&lt;</code> \u0648 <code>&amp;</code> escape \u0645\u06cc \u0634\u0648\u0646\u062f.</p>\n<p>\u0622\u0631\u0627\u06cc\u0647 \u0647\u0627 \u0628\u0647 \u0634\u06a9\u0644 <code>&lt;array&gt;&lt;elem&gt;Hello&lt;/elem&gt;&lt;elem&gt;World&lt;/elem&gt;...&lt;/array&gt;</code> \u0648 tuple \u0647\u0627 \u0628\u0647 \u0635\u0648\u0631\u062a <code>&lt;tuple&gt;&lt;elem&gt;Hello&lt;/elem&gt;&lt;elem&gt;World&lt;/elem&gt;...&lt;/tuple&gt;</code> \u062f\u0631 \u062e\u0631\u0648\u062c\u06cc \u0645\u06cc \u0622\u06cc\u0646\u062f.</p>\n<h3 id=\"capnproto\">CapnProto<a class=\"headerlink\" href=\"#capnproto\" title=\"Permanent link\">&para;</a></h3>\n<p>Cap'n Proto \u06cc\u06a9 \u0641\u0631\u0645\u062a \u067e\u06cc\u0627\u0645 \u0628\u0627\u06cc\u0646\u0631\u06cc \u0634\u0628\u06cc\u0647 \u0628\u0647 Protocol Buffer \u0648 Thrift \u0645\u06cc \u0628\u0627\u0634\u062f\u060c \u0627\u0645\u0627 \u0634\u0628\u06cc\u0647 \u0628\u0647 JSON \u06cc\u0627 MessagePack \u0646\u06cc\u0633\u062a.</p>\n<p>\u067e\u06cc\u063a\u0627\u0645 \u0647\u0627\u06cc Cap'n Proto \u0628\u0647 \u0635\u0648\u0631\u062a self-describing \u0646\u06cc\u0633\u062a\u0646\u062f\u060c \u0628\u0647 \u0627\u06cc\u0646 \u0645\u0639\u0646\u06cc \u06a9\u0647 \u0622\u0646\u0647\u0627 \u0646\u06cc\u0627\u0632 \u062f\u0627\u0631\u0646\u062f \u06a9\u0647 \u0628\u0647 \u0635\u0648\u0631\u062a external\u060c schema \u0622\u0646\u0647\u0627 \u0634\u0631\u062d \u062f\u0627\u062f\u0647 \u0634\u0648\u062f. schema \u0628\u0647 \u0635\u0648\u0631\u062a on the fly \u0627\u0636\u0627\u0641\u0647 \u0645\u06cc \u0634\u0648\u062f \u0648 \u0628\u0631\u0627\u06cc \u0647\u0631 query\u060c cache \u0645\u06cc \u0634\u0648\u062f.</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">SearchPhrase</span><span class=\"p\">,</span> <span class=\"k\">count</span><span class=\"p\">()</span> <span class=\"k\">AS</span> <span class=\"k\">c</span> <span class=\"k\">FROM</span> <span class=\"n\">test</span><span class=\"p\">.</span><span class=\"n\">hits</span>\n       <span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">SearchPhrase</span> <span class=\"n\">FORMAT</span> <span class=\"n\">CapnProto</span> <span class=\"n\">SETTINGS</span> <span class=\"k\">schema</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;schema:Message&#39;</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u062c\u0627\u06cc\u06cc \u06a9\u0647 <code>schema.capnp</code> \u0634\u0628\u06cc\u0647 \u0627\u06cc\u0646 \u0627\u0633\u062a:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">struct</span> <span class=\"n\">Message</span> <span class=\"p\">{</span>\n  <span class=\"n\">SearchPhrase</span> <span class=\"mi\">@0</span> <span class=\"o\">:</span><span class=\"n\">Text</span><span class=\"p\">;</span>\n  <span class=\"n\">c</span> <span class=\"mi\">@1</span> <span class=\"o\">:</span><span class=\"n\">Uint64</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u0641\u0627\u06cc\u0644 \u0647\u0627\u06cc Schema \u062f\u0631 \u0641\u0627\u06cc\u0644\u06cc \u0642\u0631\u0627\u0631 \u062f\u0627\u0631\u0646\u062f \u06a9\u0647 \u0627\u06cc\u0646 \u0641\u0627\u06cc\u0644 \u062f\u0631 \u062f\u0627\u06cc\u0631\u06a9\u062a\u0648\u0631\u06cc \u0645\u0634\u062e\u0635 \u0634\u062f\u0647 \u06a9\u0627\u0646\u0641\u06cc\u06af <a href=\"#../operations/server_settings/settings/\"> format_schema_path</a> \u0642\u0631\u0627\u0631 \u06af\u0631\u0641\u062a\u0647 \u0627\u0646\u062f.</p>\n<p>\u0639\u0645\u0644\u06cc\u0627\u062a Deserialization \u0645\u0648\u062b\u0631 \u0627\u0633\u062a \u0648 \u0645\u0639\u0645\u0648\u0644\u0627 \u0644\u0648\u062f \u0633\u06cc\u0633\u062a\u0645 \u0631\u0627 \u0627\u0641\u0632\u0627\u06cc\u0634 \u0646\u0645\u06cc \u062f\u0647\u062f.</p>\n</div>\n<p><a name=\"../../../../../interfaces/jdbc/\"></a>\n<a name=\"../../../../interfaces/jdbc/\"></a>\n<a name=\"../interfaces/jdbc/\"></a>\n<a name=\"interfaces/jdbc/\"></a>\n<a name=\"jdbc/\"></a>\n<a name=\"../../interfaces/jdbc/\"></a>\n<a name=\"../../../interfaces/jdbc/\"></a></p>\n<div dir=\"rtl\">\n<h2 id=\"drywr-jdbc\">\u062f\u0631\u0627\u06cc\u0648\u0631 JDBC<a class=\"headerlink\" href=\"#drywr-jdbc\" title=\"Permanent link\">&para;</a></h2>\n<p>\u062f\u0631\u0627\u06cc\u0648\u0631 \u0631\u0633\u0645\u06cc JDBC \u0628\u0631\u0627\u06cc ClickHouse \u0648\u062c\u0648\u062f \u062f\u0627\u0631\u062f. \u0628\u0631\u0627\u06cc \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0628\u06cc\u0634\u062a\u0631 <a href=\"https://github.com/yandex/clickhouse-jdbc\" rel=\"external nofollow\">\u0627\u06cc\u0646\u062c\u0627</a> \u0631\u0627 \u0628\u0628\u06cc\u0646\u06cc\u062f.</p>\n<p>\u062f\u0631\u0627\u06cc\u0648\u0631 JDBC \u062a\u0648\u0633\u0637 \u0633\u0627\u0632\u0645\u0627\u0646 \u0647\u0627\u06cc \u062f\u06cc\u06af\u0631 \u0627\u062c\u0631\u0627 \u0645\u06cc \u0634\u0648\u0646\u062f.</p>\n<ul>\n<li><a href=\"https://github.com/housepower/ClickHouse-Native-JDBC\" rel=\"external nofollow\">ClickHouse-Native-JDBC</a></li>\n</ul>\n</div>\n<p><a name=\"../../../../interfaces/odbc/\"></a>\n<a name=\"odbc/\"></a>\n<a name=\"../../interfaces/odbc/\"></a>\n<a name=\"../../../interfaces/odbc/\"></a>\n<a name=\"../../../../../interfaces/odbc/\"></a>\n<a name=\"interfaces/odbc/\"></a>\n<a name=\"../interfaces/odbc/\"></a></p>\n<div dir=\"rtl\">\n<h2 id=\"odbc-drywr\">ODBC \u062f\u0631\u0627\u06cc\u0648\u0631<a class=\"headerlink\" href=\"#odbc-drywr\" title=\"Permanent link\">&para;</a></h2>\n<p>\u062f\u0631\u0627\u06cc\u0648\u0631 \u0631\u0633\u0645\u06cc ODBC \u0628\u0631\u0627\u06cc ClickHouse \u0648\u062c\u0648\u062f \u062f\u0627\u0631\u062f. \u0628\u0631\u0627\u06cc \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0628\u06cc\u0634\u062a\u0631 <a href=\"https://github.com/yandex/clickhouse-odbc\" rel=\"external nofollow\">\u0627\u06cc\u0646\u062c\u0627</a> \u0631\u0627 \u0628\u0628\u06cc\u0646\u06cc\u062f.</p>\n</div>\n<p><a name=\"interfaces/third-party/client_libraries/\"></a>\n<a name=\"../../../../../interfaces/third-party/client_libraries/\"></a>\n<a name=\"../../third-party/client_libraries/\"></a>\n<a name=\"../interfaces/third-party/client_libraries/\"></a>\n<a name=\"../third-party/client_libraries/\"></a>\n<a name=\"../../../third-party/client_libraries/\"></a>\n<a name=\"../../../../../third-party/client_libraries/\"></a>\n<a name=\"../../../../third-party/client_libraries/\"></a>\n<a name=\"../../../../../../third-party/client_libraries/\"></a>\n<a name=\"../../interfaces/third-party/client_libraries/\"></a>\n<a name=\"client_libraries/\"></a>\n<a name=\"../../../../interfaces/third-party/client_libraries/\"></a>\n<a name=\"third-party/client_libraries/\"></a>\n<a name=\"../../../interfaces/third-party/client_libraries/\"></a></p>\n<div dir=\"rtl\">\n<h2 id=\"khtbkhnh-hy-mshtry-shkhs-thlth\">\u06a9\u062a\u0627\u0628\u062e\u0627\u0646\u0647 \u0647\u0627\u06cc \u0645\u0634\u062a\u0631\u06cc \u0634\u062e\u0635 \u062b\u0627\u0644\u062b<a class=\"headerlink\" href=\"#khtbkhnh-hy-mshtry-shkhs-thlth\" title=\"Permanent link\">&para;</a></h2>\n<div class=\"admonition warning\">\n<p class=\"admonition-title\">\u0633\u0644\u0628 \u0645\u0633\u0626\u0648\u0644\u06cc\u062a</p>\n<p>Yandex \u0646\u0647 \u062d\u0641\u0638 \u06a9\u062a\u0627\u0628\u062e\u0627\u0646\u0647 \u0647\u0627 \u062f\u0631 \u0632\u06cc\u0631 \u0630\u06a9\u0631 \u0634\u062f\u0647 \u0648 \u0646\u0634\u062f\u0647 \u0627\u0646\u062c\u0627\u0645 \u0647\u0631 \u0622\u0632\u0645\u0627\u06cc\u0634 \u0647\u0627\u06cc \u06af\u0633\u062a\u0631\u062f\u0647 \u0627\u06cc \u0628\u0631\u0627\u06cc \u0627\u0637\u0645\u06cc\u0646\u0627\u0646 \u0627\u0632 \u06a9\u06cc\u0641\u06cc\u062a \u0622\u0646\u0647\u0627.</p>\n</div>\n<ul>\n<li>Python<ul>\n<li><a href=\"https://github.com/Infinidat/infi.clickhouse_orm\" rel=\"external nofollow\">infi.clickhouse_orm</a></li>\n<li><a href=\"https://github.com/mymarilyn/clickhouse-driver\" rel=\"external nofollow\">clickhouse-driver</a></li>\n<li><a href=\"https://github.com/yurial/clickhouse-client\" rel=\"external nofollow\">clickhouse-client</a></li>\n</ul>\n</li>\n<li>PHP<ul>\n<li><a href=\"https://github.com/smi2/phpClickHouse\" rel=\"external nofollow\">phpClickHouse</a></li>\n<li><a href=\"https://github.com/8bitov/clickhouse-php-client\" rel=\"external nofollow\">clickhouse-php-client</a></li>\n<li><a href=\"https://github.com/bozerkins/clickhouse-client\" rel=\"external nofollow\">clickhouse-client</a></li>\n<li><a href=\"https://github.com/SevaCode/PhpClickHouseClient\" rel=\"external nofollow\">PhpClickHouseClient</a></li>\n</ul>\n</li>\n<li>Go<ul>\n<li><a href=\"https://github.com/kshvakov/clickhouse/\" rel=\"external nofollow\">clickhouse</a></li>\n<li><a href=\"https://github.com/roistat/go-clickhouse\" rel=\"external nofollow\">go-clickhouse</a></li>\n<li><a href=\"https://github.com/mailru/go-clickhouse\" rel=\"external nofollow\">mailrugo-clickhouse</a></li>\n<li><a href=\"https://github.com/leprosus/golang-clickhouse\" rel=\"external nofollow\">golang-clickhouse</a></li>\n</ul>\n</li>\n<li>NodeJs<ul>\n<li><a href=\"https://github.com/TimonKK/clickhouse\" rel=\"external nofollow\">clickhouse (NodeJs)</a></li>\n<li><a href=\"https://github.com/apla/node-clickhouse\" rel=\"external nofollow\">node-clickhouse</a></li>\n</ul>\n</li>\n<li>Perl<ul>\n<li><a href=\"https://github.com/elcamlost/perl-DBD-ClickHouse\" rel=\"external nofollow\">perl-DBD-ClickHouse</a></li>\n<li><a href=\"https://metacpan.org/release/HTTP-ClickHouse\" rel=\"external nofollow\">HTTP-ClickHouse</a></li>\n<li><a href=\"https://metacpan.org/release/AnyEvent-ClickHouse\" rel=\"external nofollow\">AnyEvent-ClickHouse</a></li>\n</ul>\n</li>\n<li>Ruby<ul>\n<li><a href=\"https://github.com/archan937/clickhouse\" rel=\"external nofollow\">clickhouse (Ruby)</a></li>\n</ul>\n</li>\n<li>R<ul>\n<li><a href=\"https://github.com/hannesmuehleisen/clickhouse-r\" rel=\"external nofollow\">clickhouse-r</a></li>\n<li><a href=\"https://github.com/IMSMWU/RClickhouse\" rel=\"external nofollow\">RClickhouse</a></li>\n</ul>\n</li>\n<li>Java<ul>\n<li><a href=\"https://github.com/VirtusAI/clickhouse-client-java\" rel=\"external nofollow\">clickhouse-client-java</a></li>\n</ul>\n</li>\n<li>Scala<ul>\n<li><a href=\"https://github.com/crobox/clickhouse-scala-client\" rel=\"external nofollow\">clickhouse-scala-client</a></li>\n</ul>\n</li>\n<li>Kotlin<ul>\n<li><a href=\"https://github.com/TanVD/AORM\" rel=\"external nofollow\">AORM</a></li>\n</ul>\n</li>\n<li>C#<ul>\n<li><a href=\"https://github.com/killwort/ClickHouse-Net\" rel=\"external nofollow\">ClickHouse.Ado</a></li>\n<li><a href=\"https://github.com/ilyabreev/ClickHouse.Net\" rel=\"external nofollow\">ClickHouse.Net</a></li>\n</ul>\n</li>\n<li>C++<ul>\n<li><a href=\"https://github.com/artpaul/clickhouse-cpp/\" rel=\"external nofollow\">clickhouse-cpp</a></li>\n</ul>\n</li>\n<li>Elixir<ul>\n<li><a href=\"https://github.com/appodeal/clickhousex/\" rel=\"external nofollow\">clickhousex</a></li>\n</ul>\n</li>\n<li>Nim<ul>\n<li><a href=\"https://github.com/leonardoce/nim-clickhouse\" rel=\"external nofollow\">nim-clickhouse</a></li>\n</ul>\n</li>\n</ul>\n<p>\u0645\u0627 \u0627\u06cc\u0646 \u06a9\u062a\u0627\u0628\u062e\u0627\u0646\u0647 \u0647\u0627 \u0631\u0627 \u062a\u0633\u062a \u0646\u06a9\u0631\u062f\u06cc\u0645. \u0622\u0646\u0647\u0627 \u0628\u0647 \u0635\u0648\u0631\u062a \u062a\u0635\u0627\u062f\u0641\u06cc \u0627\u0646\u062a\u062e\u0627\u0628 \u0634\u062f\u0647 \u0627\u0646\u062f.</p>\n</div>\n<p><a name=\"../../third-party/integrations/\"></a>\n<a name=\"integrations/\"></a>\n<a name=\"../../../../../interfaces/third-party/integrations/\"></a>\n<a name=\"../../../../interfaces/third-party/integrations/\"></a>\n<a name=\"../../../../third-party/integrations/\"></a>\n<a name=\"../../../../../third-party/integrations/\"></a>\n<a name=\"../interfaces/third-party/integrations/\"></a>\n<a name=\"../../../third-party/integrations/\"></a>\n<a name=\"../../../../../../third-party/integrations/\"></a>\n<a name=\"interfaces/third-party/integrations/\"></a>\n<a name=\"../../../interfaces/third-party/integrations/\"></a>\n<a name=\"../third-party/integrations/\"></a>\n<a name=\"third-party/integrations/\"></a>\n<a name=\"../../interfaces/third-party/integrations/\"></a></p>\n<div dir=\"rtl\">\n<h2 id=\"khtbkhnh-dgm-thlth\">\u06a9\u062a\u0627\u0628\u062e\u0627\u0646\u0647 \u0627\u062f\u063a\u0627\u0645 \u062b\u0627\u0644\u062b<a class=\"headerlink\" href=\"#khtbkhnh-dgm-thlth\" title=\"Permanent link\">&para;</a></h2>\n<div class=\"admonition warning\">\n<p class=\"admonition-title\">\u0633\u0644\u0628 \u0645\u0633\u0626\u0648\u0644\u06cc\u062a</p>\n<p>Yandex \u0646\u0647 \u062d\u0641\u0638 \u06a9\u062a\u0627\u0628\u062e\u0627\u0646\u0647 \u0647\u0627 \u062f\u0631 \u0632\u06cc\u0631 \u0630\u06a9\u0631 \u0634\u062f\u0647 \u0648 \u0646\u0634\u062f\u0647 \u0627\u0646\u062c\u0627\u0645 \u0647\u0631 \u0622\u0632\u0645\u0627\u06cc\u0634 \u0647\u0627\u06cc \u06af\u0633\u062a\u0631\u062f\u0647 \u0627\u06cc \u0628\u0631\u0627\u06cc \u0627\u0637\u0645\u06cc\u0646\u0627\u0646 \u0627\u0632 \u06a9\u06cc\u0641\u06cc\u062a \u0622\u0646\u0647\u0627.</p>\n</div>\n<h3 id=\"mhswlt-zyrbnyy\">\u0645\u062d\u0635\u0648\u0644\u0627\u062a \u0632\u06cc\u0631\u0628\u0646\u0627\u06cc\u06cc<a class=\"headerlink\" href=\"#mhswlt-zyrbnyy\" title=\"Permanent link\">&para;</a></h3>\n<ul>\n<li>\u0633\u06cc\u0633\u062a\u0645 \u0647\u0627\u06cc \u0645\u062f\u06cc\u0631\u06cc\u062a \u067e\u0627\u06cc\u06af\u0627\u0647 \u062f\u0627\u062f\u0647 \u0631\u0627\u0628\u0637\u0647 \u0627\u06cc<ul>\n<li><a href=\"https://www.mysql.com\" rel=\"external nofollow\">MySQL</a><ul>\n<li><a href=\"https://github.com/sysown/proxysql/wiki/ClickHouse-Support\" rel=\"external nofollow\">ProxySQL</a></li>\n<li><a href=\"https://github.com/Altinity/clickhouse-mysql-data-reader\" rel=\"external nofollow\">clickhouse-mysql-data-reader</a></li>\n</ul>\n</li>\n<li><a href=\"https://www.postgresql.org\" rel=\"external nofollow\">PostgreSQL</a><ul>\n<li><a href=\"https://github.com/Percona-Lab/clickhousedb_fdw\" rel=\"external nofollow\">clickhousedb_fdw</a></li>\n<li><a href=\"https://github.com/Infinidat/infi.clickhouse_fdw\" rel=\"external nofollow\">infi.clickhouse_fdw</a> (\u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u06a9\u0646\u062f <a href=\"https://github.com/Infinidat/infi.clickhouse_orm\" rel=\"external nofollow\">infi.clickhouse_orm</a>)</li>\n<li><a href=\"https://github.com/mkabilov/pg2ch\" rel=\"external nofollow\">pg2ch</a></li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Microsoft_SQL_Server\" rel=\"external nofollow\">MSSQL</a><ul>\n<li><a href=\"https://github.com/zlzforever/ClickHouseMigrator\" rel=\"external nofollow\">ClickHouseMightrator</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\u0635\u0641 \u067e\u06cc\u0627\u0645<ul>\n<li><a href=\"https://kafka.apache.org\" rel=\"external nofollow\">Kafka</a><ul>\n<li><a href=\"https://github.com/housepower/clickhouse_sinker\" rel=\"external nofollow\">clickhouse_sinker</a> (\u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u06a9\u0646\u062f <a href=\"https://github.com/kshvakov/clickhouse/\" rel=\"external nofollow\">Go client</a>)</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\u0641\u0631\u0648\u0634\u06af\u0627\u0647 \u0634\u06cc<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Amazon_S3\" rel=\"external nofollow\">S3</a><ul>\n<li><a href=\"https://github.com/AlexAkulov/clickhouse-backup\" rel=\"external nofollow\">clickhouse-backup</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\u0627\u0631\u06a9\u0633\u062a\u0631\u0627\u0633\u06cc\u0648\u0646 \u06a9\u0627\u0646\u062a\u06cc\u0646\u0631<ul>\n<li><a href=\"https://kubernetes.io\" rel=\"external nofollow\">Kubernetes</a><ul>\n<li><a href=\"https://github.com/Altinity/clickhouse-operator\" rel=\"external nofollow\">clickhouse-operator</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\u0645\u062f\u06cc\u0631\u06cc\u062a \u062a\u0646\u0638\u06cc\u0645\u0627\u062a<ul>\n<li><a href=\"https://puppet.com\" rel=\"external nofollow\">puppet</a><ul>\n<li><a href=\"https://forge.puppet.com/innogames/clickhouse\" rel=\"external nofollow\">innogames/clickhouse</a></li>\n<li><a href=\"https://forge.puppet.com/mfedotov/clickhouse\" rel=\"external nofollow\">mfedotov/clickhouse</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\u0646\u0638\u0627\u0631\u062a \u0628\u0631<ul>\n<li><a href=\"https://graphiteapp.org\" rel=\"external nofollow\">Graphite</a><ul>\n<li><a href=\"https://github.com/yandex/graphouse\" rel=\"external nofollow\">graphouse</a></li>\n<li><a href=\"https://github.com/lomik/carbon-clickhouse\" rel=\"external nofollow\">carbon-clickhouse</a></li>\n</ul>\n</li>\n<li><a href=\"https://grafana.com/\" rel=\"external nofollow\">Grafana</a><ul>\n<li><a href=\"https://github.com/Vertamedia/clickhouse-grafana\" rel=\"external nofollow\">clickhouse-grafana</a></li>\n</ul>\n</li>\n<li><a href=\"https://prometheus.io/\" rel=\"external nofollow\">Prometheus</a><ul>\n<li><a href=\"https://github.com/f1yegor/clickhouse_exporter\" rel=\"external nofollow\">clickhouse_exporter</a></li>\n<li><a href=\"https://github.com/Percona-Lab/PromHouse\" rel=\"external nofollow\">PromHouse</a></li>\n</ul>\n</li>\n<li><a href=\"https://www.nagios.org/\" rel=\"external nofollow\">Nagios</a><ul>\n<li><a href=\"https://github.com/exogroup/check_clickhouse/\" rel=\"external nofollow\">check_clickhouse</a></li>\n</ul>\n</li>\n<li><a href=\"https://www.zabbix.com\" rel=\"external nofollow\">Zabbix</a><ul>\n<li><a href=\"https://github.com/Altinity/clickhouse-zabbix-template\" rel=\"external nofollow\">clickhouse-zabbix-template</a></li>\n</ul>\n</li>\n<li><a href=\"https://sematext.com/\" rel=\"external nofollow\">Sematext</a><ul>\n<li><a href=\"https://github.com/sematext/sematext-agent-integrations/tree/master/clickhouse\" rel=\"external nofollow\">clickhouse \u0627\u062f\u063a\u0627\u0645</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\u062b\u0628\u062a \u0646\u0627\u0645<ul>\n<li><a href=\"https://www.rsyslog.com/\" rel=\"external nofollow\">rsyslog</a><ul>\n<li><a href=\"https://www.rsyslog.com/doc/master/configuration/modules/omclickhouse.html\" rel=\"external nofollow\">omclickhouse</a></li>\n</ul>\n</li>\n<li><a href=\"https://www.fluentd.org\" rel=\"external nofollow\">fluentd</a><ul>\n<li><a href=\"https://github.com/flant/loghouse\" rel=\"external nofollow\">loghouse</a> (\u0628\u0631\u0627\u06cc <a href=\"https://kubernetes.io\" rel=\"external nofollow\">Kubernetes</a>)</li>\n</ul>\n</li>\n<li><a href=\"https://www.sematext.com/logagent\" rel=\"external nofollow\">logagent</a><ul>\n<li><a href=\"https://sematext.com/docs/logagent/output-plugin-clickhouse/\" rel=\"external nofollow\">logagent output-plugin-clickhouse</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\u062c\u063a\u0631\u0627\u0641\u06cc\u0627\u06cc\u06cc<ul>\n<li><a href=\"https://dev.maxmind.com/geoip/\" rel=\"external nofollow\">MaxMind</a><ul>\n<li><a href=\"https://github.com/AlexeyKupershtokh/clickhouse-maxmind-geoip\" rel=\"external nofollow\">clickhouse-maxmind-geoip</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"khwsystm-zbn-brnmh-nwysy\">\u0627\u06a9\u0648\u0633\u06cc\u0633\u062a\u0645 \u0632\u0628\u0627\u0646 \u0628\u0631\u0646\u0627\u0645\u0647 \u0646\u0648\u06cc\u0633\u06cc<a class=\"headerlink\" href=\"#khwsystm-zbn-brnmh-nwysy\" title=\"Permanent link\">&para;</a></h3>\n<ul>\n<li>Python<ul>\n<li><a href=\"https://www.sqlalchemy.org\" rel=\"external nofollow\">SQLAlchemy</a><ul>\n<li><a href=\"https://github.com/cloudflare/sqlalchemy-clickhouse\" rel=\"external nofollow\">sqlalchemy-clickhouse</a> (\u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u06a9\u0646\u062f <a href=\"https://github.com/Infinidat/infi.clickhouse_orm\" rel=\"external nofollow\">infi.clickhouse_orm</a>)</li>\n</ul>\n</li>\n<li><a href=\"https://pandas.pydata.org\" rel=\"external nofollow\">pandas</a><ul>\n<li><a href=\"https://github.com/kszucs/pandahouse\" rel=\"external nofollow\">pandahouse</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>R<ul>\n<li><a href=\"https://db.rstudio.com/dplyr/\" rel=\"external nofollow\">dplyr</a><ul>\n<li><a href=\"https://github.com/IMSMWU/RClickhouse\" rel=\"external nofollow\">RClickhouse</a> (\u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u06a9\u0646\u062f <a href=\"https://github.com/artpaul/clickhouse-cpp\" rel=\"external nofollow\">clickhouse-cpp</a>)</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Java<ul>\n<li><a href=\"http://hadoop.apache.org\" rel=\"external nofollow\">Hadoop</a><ul>\n<li><a href=\"https://github.com/jaykelin/clickhouse-hdfs-loader\" rel=\"external nofollow\">clickhouse-hdfs-loader</a> (\u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u06a9\u0646\u062f <a href=\"#../../query_language/table_functions/jdbc/\">JDBC</a>)</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Scala<ul>\n<li><a href=\"https://akka.io\" rel=\"external nofollow\">Akka</a><ul>\n<li><a href=\"https://github.com/crobox/clickhouse-scala-client\" rel=\"external nofollow\">clickhouse-scala-client</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>C#<ul>\n<li><a href=\"https://docs.microsoft.com/en-us/dotnet/framework/data/adonet/ado-net-overview\" rel=\"external nofollow\">ADO.NET</a><ul>\n<li><a href=\"https://github.com/killwort/ClickHouse-Net\" rel=\"external nofollow\">ClickHouse.Ado</a></li>\n<li><a href=\"https://github.com/ilyabreev/ClickHouse.Net\" rel=\"external nofollow\">ClickHouse.Net</a></li>\n<li><a href=\"https://github.com/ilyabreev/ClickHouse.Net.Migrations\" rel=\"external nofollow\">ClickHouse.Net.Migrations</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Elixir<ul>\n<li><a href=\"https://github.com/elixir-ecto/ecto\" rel=\"external nofollow\">Ecto</a><ul>\n<li><a href=\"https://github.com/appodeal/clickhouse_ecto\" rel=\"external nofollow\">clickhouse_ecto</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n</div>\n<p><a name=\"interfaces/third-party/gui/\"></a>\n<a name=\"third-party/gui/\"></a>\n<a name=\"../../../../third-party/gui/\"></a>\n<a name=\"../../../../interfaces/third-party/gui/\"></a>\n<a name=\"../../../../../third-party/gui/\"></a>\n<a name=\"../../../third-party/gui/\"></a>\n<a name=\"../third-party/gui/\"></a>\n<a name=\"gui/\"></a>\n<a name=\"../../../../../interfaces/third-party/gui/\"></a>\n<a name=\"../../../../../../third-party/gui/\"></a>\n<a name=\"../../third-party/gui/\"></a>\n<a name=\"../../interfaces/third-party/gui/\"></a>\n<a name=\"../interfaces/third-party/gui/\"></a>\n<a name=\"../../../interfaces/third-party/gui/\"></a></p>\n<div dir=\"rtl\">\n<h2 id=\"interface-hy-visual-tws-h-dhndgn-third-party\">interface \u0647\u0627\u06cc visual \u062a\u0648\u0633\u0639\u0647 \u062f\u0647\u0646\u062f\u06af\u0627\u0646 third-party<a class=\"headerlink\" href=\"#interface-hy-visual-tws-h-dhndgn-third-party\" title=\"Permanent link\">&para;</a></h2>\n<h3 id=\"mtn-bz\">\u0645\u062a\u0646 \u0628\u0627\u0632<a class=\"headerlink\" href=\"#mtn-bz\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"tabix\">Tabix<a class=\"headerlink\" href=\"#tabix\" title=\"Permanent link\">&para;</a></h4>\n<p>interface \u062a\u062d\u062a \u0648\u0628 \u0628\u0631\u0627\u06cc ClickHouse \u062f\u0631 \u067e\u0631\u0648\u0698\u0647 <a href=\"https://github.com/tabixio/tabix\" rel=\"external nofollow\">Tabix</a>.</p>\n<p>\u0648\u06cc\u0698\u06af\u06cc \u0647\u0627:</p>\n<ul>\n<li>\u06a9\u0627\u0631 \u0628\u0627 ClickHouse \u0628\u0647 \u0635\u0648\u0631\u062a \u0645\u0633\u062a\u0642\u06cc\u0645 \u0648 \u0627\u0632 \u0637\u0631\u06cc\u0642 \u0645\u0631\u0648\u0631\u06af\u0631\u060c \u0628\u062f\u0648\u0646 \u0646\u06cc\u0627\u0632 \u0628\u0647 \u0646\u0631\u0645 \u0627\u0641\u0632\u0627\u0631 \u0627\u0636\u0627\u0641\u06cc.</li>\n<li>\u0627\u062f\u06cc\u062a\u0648\u0631 query \u0628\u0647 \u0647\u0645\u0631\u0627\u0647 syntax highlighting.</li>\n<li>\u0648\u06cc\u0698\u06af\u06cc Auto-completion \u0628\u0631\u0627\u06cc \u062f\u0633\u062a\u0648\u0631\u0627\u062a.</li>\n<li>\u0627\u0628\u0632\u0627\u0631\u0647\u0627\u06cc\u06cc \u0628\u0631\u0627\u06cc \u0622\u0646\u0627\u0644\u06cc\u0632 \u06af\u0631\u0627\u0641\u06cc\u06a9\u06cc \u0627\u062c\u0631\u0627\u06cc query.</li>\n<li>\u06af\u0632\u06cc\u0646\u0647 \u0647\u0627\u06cc Color scheme.</li>\n</ul>\n<p><a href=\"https://tabix.io/doc/\" rel=\"external nofollow\">\u0645\u0633\u062a\u0646\u062f\u0627\u062a Tabix</a>.</p>\n<h4 id=\"houseops\">HouseOps<a class=\"headerlink\" href=\"#houseops\" title=\"Permanent link\">&para;</a></h4>\n<p><a href=\"https://github.com/HouseOps/HouseOps\" rel=\"external nofollow\">HouseOps</a> \u0646\u0631\u0645 \u0627\u0641\u0632\u0627\u0631 Desktop \u0628\u0631\u0627\u06cc \u0633\u06cc\u0633\u062a\u0645 \u0639\u0627\u0645\u0644 \u0647\u0627\u06cc Linux \u0648 OSX \u0648 Windows \u0645\u06cc \u0628\u0627\u0634\u062f..</p>\n<p>\u0648\u06cc\u0698\u06af\u06cc \u0647\u0627:</p>\n<ul>\n<li>\u0627\u0628\u0632\u0627\u0631 Query builder \u0628\u0647 \u0647\u0645\u0631\u0627\u0647 syntax highlighting. \u0646\u0645\u0627\u06cc\u0634 \u0646\u062a\u0627\u06cc\u062c \u0628\u0647 \u0635\u0648\u0631\u062a \u062c\u062f\u0648\u0644 \u0648 JSON Object.</li>\n<li>\u062e\u0631\u0648\u062c\u06cc \u0646\u062a\u0627\u06cc\u062c \u0628\u0647 \u0635\u0648\u0631\u062a csv \u0648 JSON Object.</li>\n<li>P\u0646\u0645\u0627\u06cc\u0634 Processes List \u0647\u0627 \u0628\u0647 \u0647\u0645\u0631\u0627\u0647 \u062a\u0648\u0636\u06cc\u062d\u0627\u062a\u060c \u0648\u06cc\u0698\u06af\u06cc \u062d\u0627\u0644\u062a record \u0648 kill \u06a9\u0631\u062f\u0646 process \u0647\u0627.</li>\n<li>\u0646\u0645\u0648\u062f\u0627\u0631 \u062f\u06cc\u062a\u0627\u0628\u06cc\u0633 \u0628\u0647 \u0647\u0645\u0631\u0627\u0647 \u062a\u0645\u0627\u0645 \u062c\u062f\u0627\u0648\u0644 \u0648 \u0633\u062a\u0648\u0646 \u0647\u0627 \u0628\u0647 \u0647\u0645\u0631\u0627\u0647 \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0627\u0636\u0627\u0641\u06cc.</li>\n<li>\u0646\u0645\u0627\u0634 \u0622\u0633\u0627\u0646 \u0633\u0627\u06cc\u0632 \u0633\u062a\u0648\u0646 \u0647\u0627.</li>\n<li>\u062a\u0646\u0638\u06cc\u0645\u0627\u062a \u0633\u0631\u0648\u0631.</li>\n<li>\u0645\u062f\u06cc\u0631\u06cc\u062a \u062f\u06cc\u062a\u0627\u0628\u06cc\u0633 (\u0628\u0632\u0648\u062f\u06cc);</li>\n<li>\u0645\u062f\u06cc\u0631\u06cc\u062a \u06a9\u0627\u0631\u0628\u0631\u0627\u0646 (\u0628\u0632\u0648\u062f\u06cc);</li>\n<li>\u0622\u0646\u0627\u0644\u06cc\u0632 \u062f\u0627\u062f\u0647 \u0647\u0627 \u0628\u0647 \u0635\u0648\u0631\u062a Real-Time (\u0628\u0632\u0648\u062f\u06cc);</li>\n<li>\u0645\u0627\u0646\u06cc\u062a\u0648\u0631\u06cc\u0646\u06af \u06a9\u0644\u0627\u0633\u062a\u0631/\u0632\u06cc\u0631\u0633\u0627\u062e\u062a (\u0628\u0632\u0648\u062f\u06cc);</li>\n<li>\u0645\u062f\u06cc\u0631\u06cc\u062a \u06a9\u0644\u0627\u0633\u062a\u0631 (\u0628\u0632\u0648\u062f\u06cc);</li>\n<li>\u0645\u0627\u0646\u06cc\u062a\u0648\u0631\u06cc\u0646\u06af \u06a9\u0627\u0641\u06a9\u0627 \u0648 \u062c\u062f\u0627\u0648\u0644 replicate (\u0628\u0632\u0648\u062f\u06cc);</li>\n<li>\u0648 \u0628\u0633\u06cc\u0627\u0631\u06cc \u0627\u0632 \u0648\u06cc\u0698\u06af\u06cc \u0647\u0627\u06cc \u062f\u06cc\u06af\u0631 \u0628\u0631\u0627\u06cc \u0634\u0645\u0627.</li>\n</ul>\n<h4 id=\"lighthouse\">LightHouse<a class=\"headerlink\" href=\"#lighthouse\" title=\"Permanent link\">&para;</a></h4>\n<p><a href=\"https://github.com/VKCOM/lighthouse\" rel=\"external nofollow\">LightHouse</a> \u0631\u0627\u0628\u0637 \u06a9\u0627\u0631\u0628\u0631\u06cc \u0633\u0628\u06a9 \u0648\u0632\u0646 \u0628\u0631\u0627\u06cc ClickHouse \u0627\u0633\u062a.</p>\n<p>\u0627\u0645\u06a9\u0627\u0646\u0627\u062a:</p>\n<ul>\n<li>\u0644\u06cc\u0633\u062a \u062c\u062f\u0648\u0644 \u0628\u0627 \u0641\u06cc\u0644\u062a\u0631 \u06a9\u0631\u062f\u0646 \u0648 \u0627\u0628\u0631\u062f\u0627\u062f\u0647.</li>\n<li>\u067e\u06cc\u0634 \u0646\u0645\u0627\u06cc\u0634 \u062c\u062f\u0648\u0644 \u0628\u0627 \u0641\u06cc\u0644\u062a\u0631 \u06a9\u0631\u062f\u0646 \u0648 \u0645\u0631\u062a\u0628 \u0633\u0627\u0632\u06cc.</li>\n<li>\u0627\u0639\u062f\u0627\u062f \u0646\u0645\u0627\u06cc\u0634 \u062f\u0627\u062f\u0647 \u0634\u062f\u0647 \u0641\u0642\u0637 \u062e\u0648\u0627\u0646\u062f\u0646\u06cc</li>\n</ul>\n<h4 id=\"clickhouse-cli\">clickhouse-cli<a class=\"headerlink\" href=\"#clickhouse-cli\" title=\"Permanent link\">&para;</a></h4>\n<p><a href=\"https://github.com/hatarist/clickhouse-cli\" rel=\"external nofollow\">clickhouse-cli</a> \u06cc\u06a9 \u0645\u0634\u062a\u0631\u06cc \u062e\u0637 \u0641\u0631\u0645\u0627\u0646 \u0628\u0631\u0627\u06cc ClickHouse \u0627\u0633\u062a \u06a9\u0647 \u062f\u0631 \u067e\u0627\u06cc\u062a\u0648\u0646 3 \u0646\u0648\u0634\u062a\u0647 \u0634\u062f\u0647 \u0627\u0633\u062a.</p>\n<p>\u0627\u0645\u06a9\u0627\u0646\u0627\u062a:\n- \u062a\u06a9\u0645\u06cc\u0644 \u062e\u0648\u062f\u06a9\u0627\u0631\n- \u0646\u062d\u0648 \u0628\u0631\u062c\u0633\u062a\u0647 \u0628\u0631\u0627\u06cc \u0646\u0645\u0627\u06cc\u0634 \u062f\u0627\u062f\u0647 \u0647\u0627 \u0648 \u062e\u0631\u0648\u062c\u06cc \u062f\u0627\u062f\u0647 \u0647\u0627.\n- \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u0627\u0632 Pager \u0628\u0631\u0627\u06cc \u062e\u0631\u0648\u062c\u06cc \u062f\u0627\u062f\u0647.\n- \u062f\u0633\u062a\u0648\u0631\u0627\u062a \u067e\u0633\u062a \u0633\u0641\u0627\u0631\u0634\u06cc \u0645\u0627\u0646\u0646\u062f PostgreSQL.</p>\n<h3 id=\"tjry\">\u062a\u062c\u0627\u0631\u06cc<a class=\"headerlink\" href=\"#tjry\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"dbeaver\">DBeaver<a class=\"headerlink\" href=\"#dbeaver\" title=\"Permanent link\">&para;</a></h4>\n<p><a href=\"https://dbeaver.io/\" rel=\"external nofollow\">DBeaver</a> - \u0645\u0634\u062a\u0631\u06cc \u062f\u0633\u06a9\u062a\u0627\u067e \u062f\u0633\u06a9\u062a\u0627\u067e \u062f\u0633\u06a9\u062a\u0627\u067e \u0628\u0627 \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc ClickHouse.</p>\n<p>\u0627\u0645\u06a9\u0627\u0646\u0627\u062a:</p>\n<ul>\n<li>\u062a\u0648\u0633\u0639\u0647 \u067e\u0631\u0633 \u0648 \u062c\u0648 \u0628\u0627 \u0628\u0631\u062c\u0633\u062a\u0647 \u0646\u062d\u0648</li>\n<li>\u067e\u06cc\u0634 \u0646\u0645\u0627\u06cc\u0634 \u062c\u062f\u0648\u0644</li>\n<li>\u062a\u06a9\u0645\u06cc\u0644 \u062e\u0648\u062f\u06a9\u0627\u0631</li>\n</ul>\n<h4 id=\"datagrip\">DataGrip<a class=\"headerlink\" href=\"#datagrip\" title=\"Permanent link\">&para;</a></h4>\n<p><a href=\"https://www.jetbrains.com/datagrip/\" rel=\"external nofollow\">DataGrip</a> IDE \u067e\u0627\u06cc\u06af\u0627\u0647 \u062f\u0627\u062f\u0647 \u0627\u0632 JetBrains \u0628\u0627 \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u0627\u062e\u062a\u0635\u0627\u0635\u06cc \u0628\u0631\u0627\u06cc ClickHouse \u0627\u0633\u062a. \u0627\u06cc\u0646 \u0627\u0628\u0632\u0627\u0631 \u0647\u0645\u0686\u0646\u06cc\u0646 \u0628\u0647 \u0633\u0627\u06cc\u0631 \u0627\u0628\u0632\u0627\u0631\u0647\u0627\u06cc \u0645\u0628\u062a\u0646\u06cc \u0628\u0631 IntelliJ \u062a\u0639\u0628\u06cc\u0647 \u0634\u062f\u0647 \u0627\u0633\u062a: PyCharm\u060c IntelliJ IDEA\u060c GoLand\u060c PhpStorm \u0648 \u062f\u06cc\u06af\u0631\u0627\u0646.</p>\n<p>\u0627\u0645\u06a9\u0627\u0646\u0627\u062a:</p>\n<ul>\n<li>\u062a\u06a9\u0645\u06cc\u0644 \u06a9\u062f \u0628\u0633\u06cc\u0627\u0631 \u0633\u0631\u06cc\u0639</li>\n<li>\u0646\u062d\u0648 \u0628\u0631\u062c\u0633\u062a\u0647 ClickHouse.</li>\n<li>\u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u0627\u0632 \u0648\u06cc\u0698\u06af\u06cc \u0647\u0627\u06cc \u062e\u0627\u0635 \u0628\u0631\u0627\u06cc ClickHouse\u060c \u0628\u0631\u0627\u06cc \u0645\u062b\u0627\u0644 \u0633\u062a\u0648\u0646 \u0647\u0627\u06cc \u062a\u0648\u067e\u06cc\u060c \u0645\u0648\u062a\u0648\u0631\u0647\u0627\u06cc \u062c\u062f\u0648\u0644.</li>\n<li>\u0648\u06cc\u0631\u0627\u06cc\u0634\u06af\u0631 \u062f\u0627\u062f\u0647.</li>\n<li>Refactorings.</li>\n<li>\u062c\u0633\u062a\u062c\u0648 \u0648 \u0646\u0627\u0648\u0628\u0631\u06cc</li>\n</ul>\n</div>\n<p><a name=\"../../../../../../third-party/proxy/\"></a>\n<a name=\"../../../third-party/proxy/\"></a>\n<a name=\"interfaces/third-party/proxy/\"></a>\n<a name=\"../interfaces/third-party/proxy/\"></a>\n<a name=\"../../../../../third-party/proxy/\"></a>\n<a name=\"third-party/proxy/\"></a>\n<a name=\"../third-party/proxy/\"></a>\n<a name=\"../../../../third-party/proxy/\"></a>\n<a name=\"../../../interfaces/third-party/proxy/\"></a>\n<a name=\"../../interfaces/third-party/proxy/\"></a>\n<a name=\"../../../../../interfaces/third-party/proxy/\"></a>\n<a name=\"proxy/\"></a>\n<a name=\"../../third-party/proxy/\"></a>\n<a name=\"../../../../interfaces/third-party/proxy/\"></a></p>\n<div dir=\"rtl\">\n<h2 id=\"srwrhy-prwkhsy-z-tws-h-dhndgn-shkhs-thlth\">\u0633\u0631\u0648\u0631\u0647\u0627\u06cc \u067e\u0631\u0648\u06a9\u0633\u06cc \u0627\u0632 \u062a\u0648\u0633\u0639\u0647 \u062f\u0647\u0646\u062f\u06af\u0627\u0646 \u0634\u062e\u0635 \u062b\u0627\u0644\u062b<a class=\"headerlink\" href=\"#srwrhy-prwkhsy-z-tws-h-dhndgn-shkhs-thlth\" title=\"Permanent link\">&para;</a></h2>\n<p><a href=\"https://github.com/Vertamedia/chproxy\" rel=\"external nofollow\">chproxy</a>\u060c \u06cc\u06a9 \u067e\u0631\u0627\u06a9\u0633\u06cc HTTP \u0648 \u062a\u0639\u0627\u062f\u0644 \u0628\u0627\u0631 \u0628\u0631\u0627\u06cc \u067e\u0627\u06cc\u06af\u0627\u0647 \u062f\u0627\u062f\u0647 ClickHouse \u0627\u0633\u062a.</p>\n<p>\u0627\u0645\u06a9\u0627\u0646\u0627\u062a</p>\n<ul>\n<li>\u0645\u0633\u06cc\u0631\u06cc\u0627\u0628\u06cc \u0648 \u067e\u0627\u0633\u062e \u062f\u0647\u06cc \u06a9\u0627\u0631\u0628\u0631 \u0628\u0647 \u06a9\u0627\u0631\u0628\u0631.</li>\n<li>\u0645\u062d\u062f\u0648\u062f\u06cc\u062a \u0627\u0646\u0639\u0637\u0627\u0641 \u067e\u0630\u06cc\u0631</li>\n<li>\u062a\u0645\u062f\u06cc\u062f SSL cerificate \u0628\u0647 \u0635\u0648\u0631\u062a \u062e\u0648\u062f\u06a9\u0627\u0631.</li>\n</ul>\n<p>\u0627\u062c\u0631\u0627 \u0634\u062f\u0647 \u062f\u0631 \u0628\u0631\u0648</p>\n<h3 id=\"kittenhouse\">KittenHouse<a class=\"headerlink\" href=\"#kittenhouse\" title=\"Permanent link\">&para;</a></h3>\n<p><a href=\"https://github.com/VKCOM/kittenhouse\" rel=\"external nofollow\">KittenHouse</a> \u0637\u0631\u0627\u062d\u06cc \u0634\u062f\u0647 \u0627\u0633\u062a \u06a9\u0647 \u06cc\u06a9 \u067e\u0631\u0648\u06a9\u0633\u06cc \u0645\u062d\u0644\u06cc \u0628\u06cc\u0646 ClickHouse \u0648 \u0633\u0631\u0648\u0631 \u0628\u0631\u0646\u0627\u0645\u0647 \u0628\u0627\u0634\u062f \u062f\u0631 \u0635\u0648\u0631\u062a\u06cc \u06a9\u0647 \u063a\u06cc\u0631 \u0645\u0645\u06a9\u0646 \u0627\u0633\u062a \u06cc\u0627 \u0646\u0627\u062e\u0648\u0634\u0627\u06cc\u0646\u062f \u0628\u0627\u0641\u0631 \u06a9\u0631\u062f\u0646 \u0627\u0637\u0644\u0627\u0639\u0627\u062a INSERT \u062f\u0631 \u0642\u0633\u0645\u062a \u062f\u0631\u062e\u0648\u0627\u0633\u062a \u0634\u0645\u0627.</p>\n<p>\u0627\u0645\u06a9\u0627\u0646\u0627\u062a:</p>\n<ul>\n<li>\u0628\u0627\u0641\u0631 \u062d\u0627\u0641\u0638\u0647 \u062f\u0631 \u062d\u0627\u0641\u0638\u0647 \u0648 \u062f\u0631\u0627\u06cc\u0648.</li>\n<li>\u0645\u0633\u06cc\u0631\u06cc\u0627\u0628\u06cc \u062f\u0631 \u062c\u062f\u0648\u0644</li>\n<li>\u062a\u0639\u0627\u062f\u0644 \u0628\u0627\u0631 \u0648 \u0628\u0631\u0631\u0633\u06cc \u0633\u0644\u0627\u0645\u062a.</li>\n</ul>\n<p>\u0627\u062c\u0631\u0627 \u0634\u062f\u0647 \u062f\u0631 \u0628\u0631\u0648</p>\n<h3 id=\"clickhouse-bulk\">ClickHouse-Bulk<a class=\"headerlink\" href=\"#clickhouse-bulk\" title=\"Permanent link\">&para;</a></h3>\n<p><a href=\"https://github.com/nikepan/clickhouse-bulk\" rel=\"external nofollow\">ClickHouse-Bulk</a> \u06cc\u06a9 ClickHouse \u062c\u0645\u0639 \u06a9\u0646\u0646\u062f\u0647 \u0633\u0627\u062f\u0647 \u0627\u0633\u062a.</p>\n<p>\u0627\u0645\u06a9\u0627\u0646\u0627\u062a:</p>\n<ul>\n<li>\u062f\u0631\u062e\u0648\u0627\u0633\u062a \u06af\u0631\u0648\u0647\u06cc \u0648 \u0627\u0631\u0633\u0627\u0644 \u062a\u0648\u0633\u0637 \u0622\u0633\u062a\u0627\u0646\u0647 \u06cc\u0627 \u0641\u0627\u0635\u0644\u0647.</li>\n<li>\u0686\u0646\u062f \u0633\u0631\u0648\u0631 \u0627\u0632 \u0631\u0627\u0647 \u062f\u0648\u0631</li>\n<li>\u0627\u062d\u0631\u0627\u0632 \u0647\u0648\u06cc\u062a \u067e\u0627\u06cc\u0647</li>\n</ul>\n<p>\u0627\u062c\u0631\u0627 \u0634\u062f\u0647 \u062f\u0631 \u0628\u0631\u0648</p>\n</div>\n<p><a name=\"../../data_types/\"></a>\n<a name=\"../../../data_types/\"></a>\n<a name=\"../data_types/\"></a>\n<a name=\"data_types/\"></a>\n<a name=\"../../../../../data_types/\"></a>\n<a name=\"../../../../data_types/\"></a></p>\n<div dir=\"rtl\">\n<h2 id=\"data_types\">Data types<a class=\"headerlink\" href=\"#data_types\" title=\"Permanent link\">&para;</a></h2>\n<p>ClickHouse \u0642\u0627\u0628\u0644\u06cc\u062a \u0630\u062e\u06cc\u0631\u0647 \u0633\u0627\u0632\u06cc \u0627\u0646\u0648\u0627\u0639 type \u0647\u0627\u06cc \u0645\u062e\u062a\u0644\u0641 \u0628\u0631\u0627\u06cc \u0630\u062e\u06cc\u0631\u0647 \u062f\u0627\u062f\u0647 \u0647\u0627 \u062f\u0631 \u062c\u062f\u0627\u0648\u0644 \u0631\u0627 \u062f\u0627\u0631\u0627 \u0645\u06cc \u0628\u0627\u0634\u062f.</p>\n<p>\u0627\u06cc\u0646 \u0628\u062e\u0634 \u0627\u0646\u0648\u0627\u0639 data type \u0647\u0627\u06cc \u0642\u0627\u0628\u0644 \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u062f\u0631 ClickHouse \u0631\u0627 \u0634\u0631\u062d \u0645\u06cc \u062f\u0647\u062f\u060c \u0647\u0645\u0686\u0646\u06cc\u0646 \u0645\u0644\u0627\u062d\u0637\u0627\u062a \u0622\u0646\u0647\u0627 \u062f\u0631 \u0647\u0646\u06af\u0627\u0645 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0622\u0646\u0647\u0627 \u0631\u0627 \u0634\u0631\u062d \u0645\u06cc \u062f\u0647\u062f.</p>\n</div>\n<p><a name=\"data_types/int_uint/\"></a>\n<a name=\"../../data_types/int_uint/\"></a>\n<a name=\"int_uint/\"></a>\n<a name=\"../data_types/int_uint/\"></a>\n<a name=\"../../../../data_types/int_uint/\"></a>\n<a name=\"../../../data_types/int_uint/\"></a>\n<a name=\"../../../../../data_types/int_uint/\"></a></p>\n<div dir=\"rtl\">\n<h2 id=\"uint8-uint16-uint32-uint64-int8-int16-int32-int64\">UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64<a class=\"headerlink\" href=\"#uint8-uint16-uint32-uint64-int8-int16-int32-int64\" title=\"Permanent link\">&para;</a></h2>\n<p>\u0627\u0639\u062f\u0627\u062f \u0628\u0627 \u0637\u0648\u0644 \u0645\u0634\u062e\u0635 (Fixed-length) \u0628\u0627 \u06cc\u0627 \u0628\u062f\u0648\u0646 sign</p>\n<h3 id=\"mhdwdh-y-int\">\u0645\u062d\u062f\u0648\u062f\u0647 \u06cc Int<a class=\"headerlink\" href=\"#mhdwdh-y-int\" title=\"Permanent link\">&para;</a></h3>\n<ul>\n<li>Int8 - [-128 : 127]</li>\n<li>Int16 - [-32768 : 32767]</li>\n<li>Int32 - [-2147483648 : 2147483647]</li>\n<li>Int64 - [-9223372036854775808 : 9223372036854775807]</li>\n</ul>\n<h3 id=\"mhdwdh-y-uint\">\u0645\u062d\u062f\u0648\u062f\u0647 \u06cc Uint<a class=\"headerlink\" href=\"#mhdwdh-y-uint\" title=\"Permanent link\">&para;</a></h3>\n<ul>\n<li>UInt8 - [0 : 255]</li>\n<li>UInt16 - [0 : 65535]</li>\n<li>UInt32 - [0 : 4294967295]</li>\n<li>UInt64 - [0 : 18446744073709551615]</li>\n</ul>\n</div>\n<p><a name=\"float/\"></a>\n<a name=\"../../../../../data_types/float/\"></a>\n<a name=\"../data_types/float/\"></a>\n<a name=\"data_types/float/\"></a>\n<a name=\"../../../data_types/float/\"></a>\n<a name=\"../../data_types/float/\"></a>\n<a name=\"../../../../data_types/float/\"></a></p>\n<div dir=\"rtl\">\n<h2 id=\"float32-float64\">Float32, Float64<a class=\"headerlink\" href=\"#float32-float64\" title=\"Permanent link\">&para;</a></h2>\n<p><a href=\"https://en.wikipedia.org/wiki/IEEE_754\" rel=\"external nofollow\">\u0627\u0639\u062f\u0627\u062f Float</a>.</p>\n<p>Type \u0647\u0627\u06cc float \u062f\u0631 ClickHouse \u0645\u0634\u0627\u0628\u0647 C \u0645\u06cc \u0628\u0627\u0634\u062f:</p>\n<ul>\n<li><code>Float32</code> - <code>float</code></li>\n<li><code>Float64</code> - <code>double</code></li>\n</ul>\n<p>\u062a\u0648\u0635\u06cc\u0647 \u0645\u06cc \u06a9\u0646\u06cc\u0645 \u06a9\u0647 \u062f\u0627\u062f\u0647 \u0647\u0627 \u0631\u0627 \u0647\u0631\u0632\u0645\u0627\u0646 \u06a9\u0647 \u0627\u0645\u06a9\u0627\u0646 \u067e\u0630\u06cc\u0631\u0647 \u0627\u0633\u062a \u0628\u0647 \u062c\u0627\u06cc float \u0628\u0647 \u0635\u0648\u0631\u062a int \u0630\u062e\u06cc\u0631\u0647 \u06a9\u0646\u06cc\u062f. \u0628\u0631\u0627\u06cc \u0645\u062b\u0627\u0644: \u062a\u0628\u062f\u06cc\u0644 \u062f\u0642\u062a \u0627\u0639\u062f\u0627\u062f \u0628\u0647 \u06cc\u06a9 \u0645\u0642\u062f\u0627\u0631 int\u060c \u0645\u062b\u0644 \u0633\u0631\u0639\u062a page load \u062f\u0631 \u0642\u0627\u0644\u0628 \u0645\u06cc\u0644\u06cc \u062b\u0627\u0646\u06cc\u0647.</p>\n<h3 id=\"stfdh-z-dd-float\">\u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 \u0627\u0639\u062f\u0627\u062f Float<a class=\"headerlink\" href=\"#stfdh-z-dd-float\" title=\"Permanent link\">&para;</a></h3>\n<ul>\n<li>\u0645\u062d\u0627\u0633\u0628\u0627\u062a \u0628\u0627 \u0627\u0639\u062f\u0627\u062f \u0628\u0627 Float \u0645\u0645\u06a9\u0646 \u0627\u0633\u062a \u062e\u0637\u0627\u06cc round \u0634\u062f\u0646 \u0631\u0627 \u0627\u06cc\u062c\u0627\u062f \u06a9\u0646\u0646\u062f.</li>\n</ul>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"mi\">1</span> <span class=\"o\">-</span> <span class=\"mi\">0</span><span class=\"p\">.</span><span class=\"mi\">9</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500minus(1, 0.9)\u2500\u2510</span>\n<span class=\"err\">\u2502 0.09999999999999998 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<ul>\n<li>\u0646\u062a\u0627\u06cc\u062c \u0645\u062d\u0627\u0633\u0628\u0627\u062a \u0628\u0633\u062a\u0647 \u0628\u0647 \u0645\u062a\u062f \u0645\u062d\u0627\u0633\u0628\u0627\u062a\u06cc \u0645\u06cc \u0628\u0627\u0634\u062f (\u0646\u0648\u0639 processor \u0648 \u0645\u0639\u0645\u0627\u0631\u06cc \u0633\u06cc\u0633\u062a\u0645).</li>\n<li>\u0645\u062d\u0627\u0633\u0628\u0627\u062a Float \u0645\u0645\u06a9\u0646 \u0627\u0633\u0646 \u0646\u062a\u0627\u06cc\u062c\u06cc \u0645\u062b\u0644 infinity (<code>inf</code>) \u0648 \"Not-a-number\" (<code>Nan</code>) \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u062f. \u0627\u06cc\u0646 \u062f\u0631 \u0647\u0646\u06af\u0627\u0645 \u067e\u0631\u062f\u0627\u0632\u0634 \u0646\u062a\u0627\u06cc\u062c \u0645\u062d\u0627\u0633\u0628\u0627\u062a \u0628\u0627\u06cc\u062f \u0645\u0648\u0631\u062f \u062a\u0648\u062c\u0647 \u0642\u0631\u0627\u0631 \u06af\u06cc\u0631\u062f.</li>\n<li>\u0647\u0646\u06af\u0627\u0645 \u062e\u0648\u0627\u0646\u062f\u0646 \u0627\u0639\u062f\u0627\u062f float \u0627\u0632 \u0633\u0637\u0631 \u0647\u0627\u060c \u0646\u062a\u0627\u06cc\u062c \u0645\u0645\u06a9\u0646 \u0627\u0633\u062a \u0646\u0632\u062f\u06cc\u06a9 \u0628\u0647 \u0627\u0639\u062f\u0627\u062f machine-representable \u0646\u0628\u0627\u0634\u062f.</li>\n</ul>\n<h3 id=\"nan-w-inf\">NaN \u0648 Inf<a class=\"headerlink\" href=\"#nan-w-inf\" title=\"Permanent link\">&para;</a></h3>\n<p>\u062f\u0631 \u0645\u0642\u0627\u0628\u0644 \u0627\u0633\u062a\u0627\u0646\u062f\u0627\u0631\u062f SQL\u060c ClickHouse \u0627\u0632 \u0645\u0648\u0627\u0631\u062f \u0632\u06cc\u0631 \u0645\u0631\u0628\u0648\u0637 \u0628\u0647 \u0627\u0639\u062f\u0627\u062f float \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u0645\u06cc \u06a9\u0646\u062f:</p>\n<ul>\n<li><code>Inf</code> \u2013 Infinity.</li>\n</ul>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"mi\">0</span><span class=\"p\">.</span><span class=\"mi\">5</span> <span class=\"o\">/</span> <span class=\"mi\">0</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500divide(0.5, 0)\u2500\u2510</span>\n<span class=\"err\">\u2502            inf \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<ul>\n<li><code>-Inf</code> \u2013 Negative infinity.</li>\n</ul>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"o\">-</span><span class=\"mi\">0</span><span class=\"p\">.</span><span class=\"mi\">5</span> <span class=\"o\">/</span> <span class=\"mi\">0</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500divide(-0.5, 0)\u2500\u2510</span>\n<span class=\"err\">\u2502            -inf \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<ul>\n<li><code>NaN</code> \u2013 Not a number.</li>\n</ul>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">SELECT 0 / 0</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500divide(0, 0)\u2500\u2510</span>\n<span class=\"err\">\u2502          nan \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u0642\u0648\u0627\u0646\u06cc\u0646 \u0645\u0631\u0628\u0648\u0637 \u0628\u0647 \u0645\u0631\u062a\u0628 \u0633\u0627\u0632\u06cc <code>Nan</code> \u0631\u0627 \u062f\u0631 \u0628\u062e\u0634 <a href=\"#../query_language/select/\">ORDER BY clause</a> \u0628\u0628\u06cc\u0646\u06cc\u062f.</p>\n</div>\n<p><a name=\"decimal/\"></a>\n<a name=\"../../../../../data_types/decimal/\"></a>\n<a name=\"../../../../data_types/decimal/\"></a>\n<a name=\"../../data_types/decimal/\"></a>\n<a name=\"data_types/decimal/\"></a>\n<a name=\"../../../data_types/decimal/\"></a>\n<a name=\"../data_types/decimal/\"></a></p>\n<h2 id=\"decimal-p-s-decimal32-s-decimal64-s-decimal128-s\">Decimal(P, S), Decimal32(S), Decimal64(S), Decimal128(S)<a class=\"headerlink\" href=\"#decimal-p-s-decimal32-s-decimal64-s-decimal128-s\" title=\"Permanent link\">&para;</a></h2>\n<p>Signed fixed point numbers that keep precision during add, subtract and multiply operations. For division least significant digits are discarded (not rounded).</p>\n<h3 id=\"parameters\">Parameters<a class=\"headerlink\" href=\"#parameters\" title=\"Permanent link\">&para;</a></h3>\n<ul>\n<li>P - precision. Valid range: [ 1 : 38 ]. Determines how many decimal digits number can have (including fraction).</li>\n<li>S - scale. Valid range: [ 0 : P ]. Determines how many decimal digits fraction can have.</li>\n</ul>\n<p>Depending on P parameter value Decimal(P, S) is a synonym for:\n- P from [ 1 : 9 ] - for Decimal32(S)\n- P from [ 10 : 18 ] - for Decimal64(S)\n- P from [ 19 : 38 ] - for Decimal128(S)</p>\n<h3 id=\"decimal-value-ranges\">Decimal value ranges<a class=\"headerlink\" href=\"#decimal-value-ranges\" title=\"Permanent link\">&para;</a></h3>\n<ul>\n<li>Decimal32(S) - ( -1 * 10^(9 - S), 1 * 10^(9 - S) )</li>\n<li>Decimal64(S) - ( -1 * 10^(18 - S), 1 * 10^(18 - S) )</li>\n<li>Decimal128(S) - ( -1 * 10^(38 - S), 1 * 10^(38 - S) )</li>\n</ul>\n<p>For example, Decimal32(4) can contain numbers from -99999.9999 to 99999.9999 with 0.0001 step.</p>\n<h3 id=\"internal-representation\">Internal representation<a class=\"headerlink\" href=\"#internal-representation\" title=\"Permanent link\">&para;</a></h3>\n<p>Internally data is represented as normal signed integers with respective bit width. Real value ranges that can be stored in memory are a bit larger than specified above, which are checked only on convertion from string.</p>\n<p>Because modern CPU's do not support 128 bit integers natively, operations on Decimal128 are emulated. Because of this Decimal128 works signigicantly slower than Decimal32/Decimal64.</p>\n<h3 id=\"operations-and-result-type\">Operations and result type<a class=\"headerlink\" href=\"#operations-and-result-type\" title=\"Permanent link\">&para;</a></h3>\n<p>Binary operations on Decimal result in wider result type (with any order of arguments).</p>\n<ul>\n<li>Decimal64(S1) <op> Decimal32(S2) -&gt; Decimal64(S)</li>\n<li>Decimal128(S1) <op> Decimal32(S2) -&gt; Decimal128(S)</li>\n<li>Decimal128(S1) <op> Decimal64(S2) -&gt; Decimal128(S)</li>\n</ul>\n<p>Rules for scale:</p>\n<ul>\n<li>add, subtract: S = max(S1, S2).</li>\n<li>multuply: S = S1 + S2.</li>\n<li>divide: S = S1.</li>\n</ul>\n<p>For similar operations between Decimal and integers, the result is Decimal of the same size as argument.</p>\n<p>Operations between Decimal and Float32/Float64 are not defined. If you really need them, you can explicitly cast one of argument using toDecimal32, toDecimal64, toDecimal128 or toFloat32, toFloat64 builtins. Keep in mind that the result will lose precision and type conversion is computationally expensive operation. </p>\n<p>Some functions on Decimal return result as Float64 (for example, var or stddev). Intermediate calculations might still be performed in Decimal, which might lead to different results between Float64 and Decimal inputs with same values.</p>\n<h3 id=\"overflow-checks\">Overflow checks<a class=\"headerlink\" href=\"#overflow-checks\" title=\"Permanent link\">&para;</a></h3>\n<p>During calculations on Decimal, integer overflows might happen. Excessive digits in fraction are discarded (not rounded). Excessive digits in integer part will lead to exception.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">SELECT toDecimal32(2, 4) AS x, x / 3</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500x\u2500\u252c\u2500divide(toDecimal32(2, 4), 3)\u2500\u2510</span>\n<span class=\"err\">\u2502 2.0000 \u2502                       0.6666 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">SELECT toDecimal32(4.2, 8) AS x, x * x</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"c\">DB::Exception: Scale is out of bounds.</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">SELECT toDecimal32(4.2, 8) AS x, 6 * x</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"c\">DB::Exception: Decimal math overflow.</span>\n</pre></div>\n\n\n<p>Overflow checks lead to operations slowdown. If it is known that overflows are not possible, it makes sense to disable checks using <code>decimal_check_overflow</code> setting. When checks are disabled and overflow happens, the result will be incorrect:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">SET decimal_check_overflow = 0;</span>\n<span class=\"err\">SELECT toDecimal32(4.2, 8) AS x, 6 * x</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500x\u2500\u252c\u2500multiply(6, toDecimal32(4.2, 8))\u2500\u2510</span>\n<span class=\"err\">\u2502 4.20000000 \u2502                     -17.74967296 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>Overflow checks happen not only on arithmetic operations, but also on value comparison:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">SELECT toDecimal32(1, 8) &lt; 100</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"c\">DB::Exception: Can&#39;t compare.</span>\n</pre></div>\n\n\n<p><a name=\"../../data_types/boolean/\"></a>\n<a name=\"../../../../../data_types/boolean/\"></a>\n<a name=\"../../../../data_types/boolean/\"></a>\n<a name=\"../../../data_types/boolean/\"></a>\n<a name=\"data_types/boolean/\"></a>\n<a name=\"../data_types/boolean/\"></a>\n<a name=\"boolean/\"></a></p>\n<div dir=\"rtl\">\n<h2 id=\"mqdyr-boolean\">\u0645\u0642\u0627\u062f\u06cc\u0631 Boolean<a class=\"headerlink\" href=\"#mqdyr-boolean\" title=\"Permanent link\">&para;</a></h2>\n<p>type \u0645\u062e\u0635\u0648\u0635 \u0645\u0642\u0627\u062f\u06cc\u0631 boolean \u0648\u062c\u0648\u062f \u0646\u062f\u0627\u0631\u062f. \u0627\u0632 Uint8 \u0648 \u0645\u062d\u062f\u0648\u062f \u0634\u062f\u0647 \u0628\u0647 0 \u0648 1 \u0645\u06cc \u062a\u0648\u0627\u0646 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0631\u062f.</p>\n</div>\n<p><a name=\"string/\"></a>\n<a name=\"../../data_types/string/\"></a>\n<a name=\"../../../../../data_types/string/\"></a>\n<a name=\"../data_types/string/\"></a>\n<a name=\"../../../data_types/string/\"></a>\n<a name=\"data_types/string/\"></a>\n<a name=\"../../../../data_types/string/\"></a></p>\n<div dir=\"rtl\">\n<h2 id=\"string\">String<a class=\"headerlink\" href=\"#string\" title=\"Permanent link\">&para;</a></h2>\n<p>String \u06cc\u06a9 type \u0628\u0631\u0627\u06cc \u0642\u0631\u0627\u0631 \u062f\u0627\u062f\u0646 \u0631\u0634\u062a\u0647 \u0628\u0627 \u0637\u0648\u0644 \u062f\u0644\u062e\u0648\u0627\u0647 \u0645\u06cc \u0628\u0627\u0634\u062f. \u0627\u06cc\u0646 \u0637\u0648\u0644 \u0645\u062d\u062f\u0648\u062f \u0646\u0645\u06cc \u0628\u0627\u0634\u062f. \u0627\u06cc\u0646 \u0645\u0642\u062f\u0627\u0631 \u0645\u06cc \u062a\u0648\u0627\u0646\u062f \u0634\u0627\u0645\u0644 \u0645\u062c\u0645\u0648\u0639\u0647 \u0627\u06cc \u062f\u0644\u062e\u0648\u0627\u0647 \u0627\u0632 \u0628\u0627\u06cc\u062a \u0647\u0627\u060c \u0627\u0632 \u062c\u0645\u0644\u0647 null byte \u0628\u0627\u0634\u062f. String type \u062c\u0627\u06cc\u06af\u0632\u06cc\u0646 type \u0647\u0627\u06cc VARCHAR, BLOB, CLOB \u0648 ... \u062f\u06cc\u06af\u0631 DBMS \u0647\u0627 \u0645\u06cc \u0628\u0627\u0634\u062f.</p>\n<h3 id=\"encodings\">Encodings<a class=\"headerlink\" href=\"#encodings\" title=\"Permanent link\">&para;</a></h3>\n<p>ClickHouse \u0645\u0641\u0647\u0648\u0645\u06cc \u0628\u0647 \u0646\u0627\u0645 encoding \u0646\u062f\u0627\u0631\u062f. String \u0647\u0627 \u0645\u06cc \u062a\u0648\u0627\u0646\u0646\u062f \u0634\u0627\u0645\u0644 \u0645\u062c\u0645\u0648\u0639\u0647 \u0627\u06cc \u0628\u0627\u06cc\u062a \u0647\u0627 \u0628\u0627\u0634\u0646\u062f \u06a9\u0647 \u0628\u0627 \u0647\u0645\u0627\u0646 \u0634\u06a9\u0644 \u06a9\u0647 \u0646\u0648\u0634\u062a\u0647 \u0645\u06cc \u0634\u0648\u0646\u062f \u0628\u0647 \u0647\u0645\u0627\u0646 \u0634\u06a9\u0644 \u0647\u0645 \u062f\u0631 \u062e\u0631\u0648\u062c\u06cc \u062f\u06cc\u062f\u0647 \u0634\u0648\u0646\u062f. \u0627\u06af\u0631 \u0634\u0645\u0627 \u0646\u06cc\u0627\u0632 \u0628\u0647 \u0630\u062e\u06cc\u0631\u0647 \u0633\u0627\u0632\u06cc \u0645\u062a\u0646 \u062f\u0627\u0631\u06cc\u062f\u060c \u062a\u0648\u0635\u06cc\u0647 \u0645\u06cc \u06a9\u0646\u06cc\u0645 \u0627\u0632 UTF-8 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u062f. \u062d\u062f\u0627\u0642\u0644 \u0627\u06af\u0631 \u062a\u0631\u0645\u06cc\u0646\u0627\u0644 \u0634\u0645\u0627 \u0627\u0632 UTF-8 (\u067e\u06cc\u0634\u0646\u0647\u0627\u062f \u0634\u062f\u0647)\u060c \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u06a9\u0646\u062f\u060c \u0634\u0645\u0627 \u0645\u06cc \u062a\u0648\u0627\u0646\u06cc\u062f \u0628\u0647 \u0631\u0627\u062d\u062a\u06cc \u0645\u0642\u0627\u062f\u06cc\u0631 \u062e\u0648\u062f \u0631\u0627 \u0646\u0648\u0634\u062a\u0647 \u0648 \u0628\u062e\u0648\u0627\u0646\u06cc\u062f.\u0628\u0647 \u0637\u0648\u0631 \u0645\u0634\u0627\u0628\u0647 \u062a\u0648\u0627\u0628\u0639 \u062e\u0627\u0635\u06cc \u0628\u0631\u0627\u06cc \u06a9\u0627\u0631 \u0628\u0627 \u0631\u0634\u062a\u0647 \u0647\u0627\u06cc \u0645\u062a\u0646\u0648\u0639 \u0648\u062c\u0648\u062f \u062f\u0627\u0631\u0646\u062f \u06a9\u0647 \u062a\u062e\u0644 \u0627\u06cc\u0646 \u0641\u0631\u0636\u06cc\u0647 \u0639\u0645\u0644 \u0645\u06cc \u06a9\u0646\u0646\u062f \u06a9\u0647 \u0631\u0634\u062a\u0647 \u0634\u0627\u0645\u0644 \u0645\u062c\u0648\u0639\u0647 \u0627\u06cc \u0627\u0632 \u0628\u0627\u06cc\u062a \u0647\u0627 \u0645\u06cc \u0628\u0627\u0634\u0646\u062f \u06a9\u0647 \u0646\u0645\u0627\u06cc\u0646\u062f\u0647 \u06cc \u0645\u062a\u0646 \u0647\u0627\u06cc UTF-8 \u0647\u0633\u062a\u0646\u062f. \u0628\u0631\u0627\u06cc \u0645\u062b\u0627\u0644 \u062a\u0627\u0628\u0639 'length' \u0628\u0631\u0627\u06cc \u0645\u062d\u0627\u0633\u0628\u0647 \u0637\u0648\u0644 \u0631\u0634\u062a\u0647 \u0628\u0631\u0627\u0633\u0627\u0633 \u0628\u0627\u06cc\u062a \u0627\u0633\u062a\u060c \u062f\u0631 \u062d\u0627\u0644\u06cc \u06a9\u0647 \u062a\u0627\u0628\u0639 'lengthUTF8' \u0628\u0631\u0627\u06cc \u0645\u062d\u0627\u0633\u0628\u0647 \u0637\u0648\u0644 \u0631\u0634\u062a\u0647 \u0628\u0631 \u0627\u0633\u0627\u0633 UNICODE \u0645\u06cc \u0628\u0627\u0634\u062f.</p>\n</div>\n<p><a name=\"../../data_types/fixedstring/\"></a>\n<a name=\"data_types/fixedstring/\"></a>\n<a name=\"../data_types/fixedstring/\"></a>\n<a name=\"fixedstring/\"></a>\n<a name=\"../../../data_types/fixedstring/\"></a>\n<a name=\"../../../../../data_types/fixedstring/\"></a>\n<a name=\"../../../../data_types/fixedstring/\"></a></p>\n<div dir=\"rtl\">\n<h2 id=\"fixedstring-n\">FixedString(N)<a class=\"headerlink\" href=\"#fixedstring-n\" title=\"Permanent link\">&para;</a></h2>\n<p>\u06cc\u06a9 \u0631\u0634\u062a\u0647 \u0628\u0627 \u0637\u0648\u0644 \u062b\u0627\u0628\u062a N \u0628\u0627\u06cc\u062a (fixed-length) (\u0646\u0647 \u062a\u0639\u062f\u0627\u062f \u06a9\u0627\u0631\u0627\u06a9\u062a\u0631 \u06cc\u0627 code point). N \u0628\u0627\u06cc\u062f \u06cc\u06a9 \u0639\u062f\u062f \u0637\u0628\u06cc\u0639\u06cc \u0645\u062b\u0628\u062a \u0628\u0627\u0634\u062f. \u0647\u0646\u06af\u0627\u0645\u06cc \u06a9\u0647 \u0633\u0631\u0648\u0631 \u0631\u0634\u062a\u0647 \u0627\u06cc \u0628\u0627 \u0627\u0646\u062f\u0627\u0632\u0647 \u06cc \u06a9\u0645\u062a\u0631 \u0627\u0632 N \u0645\u06cc\u062e\u0648\u0627\u0646\u062f (\u0645\u062b\u0644 \u0632\u0645\u0627\u0646 \u067e\u0627\u0631\u0633 \u06a9\u0631\u062f\u0646 \u0628\u0631\u0627\u06cc INSERT \u062f\u0627\u062f\u0647 \u0647\u0627)\u060c \u0633\u0645\u062a \u0631\u0627\u0633\u062a \u0631\u0634\u062a\u0647 \u0628\u0647 \u0627\u0646\u062f\u0627\u0632\u0647 \u0641\u0636\u0627\u06cc \u062e\u0627\u0644\u06cc \u0628\u0627\u0642\u06cc \u0645\u0627\u0646\u062f\u0647 \u0628\u0647 \u0628\u0627\u06cc\u062a\u060c null \u062f\u0631\u062c \u0645\u06cc \u0634\u0648\u062f. \u0632\u0645\u0627\u0646\u06cc \u06a9\u0647 \u0633\u0631\u0648\u0631 \u0631\u0634\u062a\u0647 \u0627\u06cc \u0628\u0632\u0631\u06af\u062a\u0631 \u0627\u0632 N \u0645\u06cc\u062e\u0648\u0627\u0646\u062f\u060c \u067e\u06cc\u063a\u0627\u0645 \u062e\u0637\u0627 \u0628\u0631 \u0645\u06cc\u06af\u0631\u062f\u062f. \u0632\u0645\u0627\u0646\u06cc \u06a9\u0647 \u0633\u0631\u0648\u0631 \u06cc\u06a9 \u0631\u0634\u062a\u0647 \u0628\u0627 \u0637\u0648\u0644 \u062b\u0627\u0628\u062a \u0631\u0627 \u0645\u06cc \u0646\u0648\u06cc\u0633\u062f (\u0645\u062b\u0644\u0627 \u062f\u0631 \u0632\u0645\u0627\u0646\u06cc \u06a9\u0647 \u062e\u0631\u0648\u062c\u06cc \u06cc\u06a9 SELECT \u0631\u0627 \u0628\u0631\u0645\u06cc\u06af\u0631\u062f\u0627\u0646\u062f)\u060c \u0628\u0627\u06cc\u062a \u0647\u0627\u06cc null \u0627\u0632 \u0627\u0646\u062a\u0647\u0627\u06cc \u0631\u0634\u062a\u0647 \u062d\u0630\u0641 \u0646\u0645\u06cc \u0634\u0648\u0646\u062f\u060c \u0648 \u062f\u0631 \u062e\u0631\u0648\u062c\u06cc \u0645\u06cc \u0622\u06cc\u0646\u062f. \u062a\u0648\u062c\u0647 \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u06cc\u062f \u06a9\u0647 \u0627\u06cc\u0646 \u0631\u0641\u062a\u0627\u0631 \u0645\u062a\u0641\u0627\u0648\u062a \u0627\u0632 \u0631\u0641\u062a\u0627\u0631 MySQL \u0628\u0631\u0627\u06cc Char \u0645\u06cc \u0628\u0627\u0634\u062f (\u0632\u0645\u0627\u0646\u06cc \u06a9\u0647 \u0631\u0634\u062a\u0647 \u0628\u0627 space \u067e\u0631 \u0645\u06cc \u0634\u0648\u062f \u0648 \u062f\u0631 \u062e\u0631\u0648\u062c\u06cc space \u0647\u0627 \u062d\u0630\u0641 \u0645\u06cc \u0634\u0648\u062f).</p>\n<p>\u062a\u0648\u0627\u0628\u0639 \u06a9\u0645\u062a\u0631\u06cc \u0646\u0633\u0628\u062a \u0628\u0647 String \u0628\u0631\u0627\u06cc FixedString(N) \u0648\u062c\u0648\u062f \u062f\u0627\u0631\u062f\u060c \u0648 \u0628\u0631\u0627\u06cc \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0645\u062a\u0631 \u0645\u0646\u0627\u0633\u0628 \u0627\u0633\u062a.</p>\n</div>\n<p><a name=\"../../../../../data_types/uuid/\"></a>\n<a name=\"../../data_types/uuid/\"></a>\n<a name=\"uuid/\"></a>\n<a name=\"data_types/uuid/\"></a>\n<a name=\"../../../data_types/uuid/\"></a>\n<a name=\"../data_types/uuid/\"></a>\n<a name=\"../../../../data_types/uuid/\"></a></p>\n<h2 id=\"uuid-data-type\">UUID<a class=\"headerlink\" href=\"#uuid-data-type\" title=\"Permanent link\">&para;</a></h2>\n<p>A universally unique identifier (UUID) is a 16-byte number used to identify records. For detailed information about the UUID, see <a href=\"https://en.wikipedia.org/wiki/Universally_unique_identifier\" rel=\"external nofollow\">Wikipedia</a>.</p>\n<p>The example of UUID type value is represented below: </p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">61f0c404-5cb3-11e7-907b-a6006ad3dba0</span>\n</pre></div>\n\n\n<p>If you do not specify the UUID column value when inserting a new record, the UUID value is filled with zero:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">00000000-0000-0000-0000-000000000000</span>\n</pre></div>\n\n\n<h3 id=\"how-to-generate\">How to generate<a class=\"headerlink\" href=\"#how-to-generate\" title=\"Permanent link\">&para;</a></h3>\n<p>To generate the UUID value, ClickHouse provides the <a href=\"#../query_language/functions/uuid_functions/\">generateUUIDv4</a> function.</p>\n<h3 id=\"usage-example\">Usage example<a class=\"headerlink\" href=\"#usage-example\" title=\"Permanent link\">&para;</a></h3>\n<p><strong>Example 1</strong></p>\n<p>This example demonstrates creating a table with the UUID type column and inserting a value into the table.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"p\">:)</span> <span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">t_uuid</span> <span class=\"p\">(</span><span class=\"n\">x</span> <span class=\"n\">UUID</span><span class=\"p\">,</span> <span class=\"n\">y</span> <span class=\"n\">String</span><span class=\"p\">)</span> <span class=\"n\">ENGINE</span><span class=\"o\">=</span><span class=\"n\">TinyLog</span>\n\n<span class=\"p\">:)</span> <span class=\"k\">INSERT</span> <span class=\"k\">INTO</span> <span class=\"n\">t_uuid</span> <span class=\"k\">SELECT</span> <span class=\"n\">generateUUIDv4</span><span class=\"p\">(),</span> <span class=\"s1\">&#39;Example 1&#39;</span>\n\n<span class=\"p\">:)</span> <span class=\"k\">SELECT</span> <span class=\"o\">*</span> <span class=\"k\">FROM</span> <span class=\"n\">t_uuid</span>\n\n<span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500</span><span class=\"n\">x</span><span class=\"err\">\u2500\u252c\u2500</span><span class=\"n\">y</span><span class=\"err\">\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502</span> <span class=\"mi\">417</span><span class=\"n\">ddc5d</span><span class=\"o\">-</span><span class=\"n\">e556</span><span class=\"o\">-</span><span class=\"mi\">4</span><span class=\"n\">d27</span><span class=\"o\">-</span><span class=\"mi\">95</span><span class=\"n\">dd</span><span class=\"o\">-</span><span class=\"n\">a34d84e46a50</span> <span class=\"err\">\u2502</span> <span class=\"n\">Example</span> <span class=\"mi\">1</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p><strong>Example 2</strong></p>\n<p>In this example, the UUID column value is not specified when inserting a new record.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"p\">:)</span> <span class=\"k\">INSERT</span> <span class=\"k\">INTO</span> <span class=\"n\">t_uuid</span> <span class=\"p\">(</span><span class=\"n\">y</span><span class=\"p\">)</span> <span class=\"k\">VALUES</span> <span class=\"p\">(</span><span class=\"s1\">&#39;Example 2&#39;</span><span class=\"p\">)</span>\n\n<span class=\"p\">:)</span> <span class=\"k\">SELECT</span> <span class=\"o\">*</span> <span class=\"k\">FROM</span> <span class=\"n\">t_uuid</span>\n\n<span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500</span><span class=\"n\">x</span><span class=\"err\">\u2500\u252c\u2500</span><span class=\"n\">y</span><span class=\"err\">\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502</span> <span class=\"mi\">417</span><span class=\"n\">ddc5d</span><span class=\"o\">-</span><span class=\"n\">e556</span><span class=\"o\">-</span><span class=\"mi\">4</span><span class=\"n\">d27</span><span class=\"o\">-</span><span class=\"mi\">95</span><span class=\"n\">dd</span><span class=\"o\">-</span><span class=\"n\">a34d84e46a50</span> <span class=\"err\">\u2502</span> <span class=\"n\">Example</span> <span class=\"mi\">1</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span> <span class=\"mi\">00000000</span><span class=\"o\">-</span><span class=\"mi\">0000</span><span class=\"o\">-</span><span class=\"mi\">0000</span><span class=\"o\">-</span><span class=\"mi\">0000</span><span class=\"o\">-</span><span class=\"mi\">000000000000</span> <span class=\"err\">\u2502</span> <span class=\"n\">Example</span> <span class=\"mi\">2</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"restrictions\">Restrictions<a class=\"headerlink\" href=\"#restrictions\" title=\"Permanent link\">&para;</a></h3>\n<p>The UUID data type only supports functions which <a href=\"#string/\">String</a> data type also supports (for example, <a href=\"#agg_function-min\">min</a>, <a href=\"#agg_function-max\">max</a>, and <a href=\"#agg_function-count\">count</a>).</p>\n<p>The UUID data type is not supported by arithmetic operations (for example, <a href=\"#arithm_func-abs\">abs</a>) or aggregate functions, such as <a href=\"#agg_function-sum\">sum</a> and <a href=\"#agg_function-avg\">avg</a>.</p>\n<p><a name=\"data_types/date/\"></a>\n<a name=\"../../data_types/date/\"></a>\n<a name=\"../data_types/date/\"></a>\n<a name=\"../../../data_types/date/\"></a>\n<a name=\"../../../../../data_types/date/\"></a>\n<a name=\"../../../../data_types/date/\"></a>\n<a name=\"date/\"></a></p>\n<div dir=\"rtl\">\n<h2 id=\"date\">Date<a class=\"headerlink\" href=\"#date\" title=\"Permanent link\">&para;</a></h2>\n<p>Date\u060c \u062f\u0648 \u0628\u0627\u06cc\u062a \u0628\u0647 \u0627\u0632\u0627\u06cc \u0647\u0631 \u062a\u0627\u0631\u06cc\u062e \u06a9\u0647 \u0628\u0647 \u0635\u0648\u0631\u062a \u0639\u062f\u062f\u06cc \u0648 \u0627\u0632 \u062a\u0627\u0631\u06cc\u062e 01-01-1970 \u0645\u06cc \u0628\u0627\u0634\u062f \u0630\u062e\u06cc\u0631\u0647 \u0645\u06cc \u06a9\u0646\u062f (unsigned).\u0627\u06cc\u0646 type \u0628\u0647 \u0634\u0645\u0627 \u0627\u062c\u0627\u0632\u0647 \u06cc \u0630\u062e\u06cc\u0631\u0647 \u0633\u0627\u0632\u06cc \u062a\u0627\u0631\u06cc\u062e \u0647\u0627\u06cc \u0627\u0632 \u0627\u0628\u062a\u062f\u0627\u06cc Unix Epoch \u062a\u0627 \u0628\u0627\u0644\u0627\u062a\u0631\u06cc\u0646 \u0645\u0642\u062f\u0627\u0631 \u0642\u0627\u0628\u0644 \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u062a\u0648\u0633\u0637 \u0627\u06cc\u0646 \u0627\u0633\u062a\u0627\u0646\u062f\u0627\u0631\u062f \u0631\u0627 \u0645\u06cc \u062f\u0647\u062f (\u062f\u0631 \u062d\u0627\u0644 \u062d\u0627\u0636\u0631 \u0628\u0627\u0644\u0627\u062a\u0631\u06cc\u0646 \u0645\u0642\u062f\u0627\u0631 \u0627\u06cc\u0646 \u0631\u0648\u0634 \u0633\u0627\u0644 2106 \u0645\u06cc \u0628\u0627\u0634\u062f\u060c \u0627\u0645\u0627 \u0633\u0627\u0644 \u0622\u062e\u0631\u06cc \u06a9\u0647 \u0628\u0647 \u0637\u0648\u0631 \u06a9\u0627\u0645\u0644 \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u0645\u06cc \u0634\u0648\u062f \u0633\u0627\u0644 2105 \u0627\u0633\u062a). \u06a9\u0645\u062a\u0631\u06cc\u0646 \u0645\u0642\u062f\u0627\u0631 \u0627\u06cc\u0646 type \u062f\u0631 \u062e\u0631\u0648\u062c\u06cc 0000-00-00 \u0645\u06cc \u0628\u0627\u0634\u062f.</p>\n<p>Date \u0628\u062f\u0648\u0646 time zone \u0630\u062e\u06cc\u0631\u0647 \u0645\u06cc \u0634\u0648\u062f.</p>\n</div>\n<p><a name=\"../../data_types/datetime/\"></a>\n<a name=\"../../../../data_types/datetime/\"></a>\n<a name=\"data_types/datetime/\"></a>\n<a name=\"../../../data_types/datetime/\"></a>\n<a name=\"datetime/\"></a>\n<a name=\"../data_types/datetime/\"></a>\n<a name=\"../../../../../data_types/datetime/\"></a></p>\n<div dir=\"rtl\">\n<h2 id=\"datetime\">DateTime<a class=\"headerlink\" href=\"#datetime\" title=\"Permanent link\">&para;</a></h2>\n<p>\u062a\u0627\u0631\u06cc\u062e \u0628\u0627 \u0633\u0627\u0639\u062a 4 \u0628\u0627\u06cc\u062a \u0628\u0647 \u0635\u0648\u0631\u062a Unix timestamp \u0630\u062e\u06cc\u0631\u0647 \u0645\u06cc \u06a9\u0646\u062f (unsigned). \u0628\u0647 \u0634\u0645\u0627 \u0627\u062c\u0627\u0632\u0647 \u06cc \u0630\u062e\u06cc\u0631\u0647 \u0633\u0627\u0632\u06cc \u062f\u0631 \u0645\u062d\u062f\u0648\u062f\u0647 \u06cc \u062a\u0627\u06cc\u067e Date \u0631\u0627 \u0645\u06cc \u062f\u0647\u062f. \u062d\u062f\u0627\u0642\u0644 \u0645\u0642\u062f\u0627\u0631 \u062f\u0631 \u062e\u0631\u0648\u062c\u06cc 0000-00-00 00:00:00 \u0645\u06cc \u0628\u0627\u0634\u062f. \u0632\u0645\u0627\u0646 \u0628\u0627 \u062f\u0642\u062a \u062a\u0627 \u06cc\u06a9 \u062b\u0627\u0646\u06cc\u0647 \u0630\u062e\u06cc\u0631\u0647 \u0645\u06cc \u0634\u0648\u062f.</p>\n<h3 id=\"time-zones\">Time zones<a class=\"headerlink\" href=\"#time-zones\" title=\"Permanent link\">&para;</a></h3>\n<p>\u0627\u06cc\u0646 type \u0627\u0632 text \u0628\u0647 \u0628\u0627\u06cc\u0646\u0631\u06cc \u062a\u0628\u062f\u06cc\u0644 \u0645\u06cc \u0634\u0648\u062f\u060c \u0648 \u062f\u0631 \u0647\u0646\u06af\u0627\u0645 \u0628\u0631\u06af\u0634\u062a \u0628\u0627 \u062a\u0648\u062c\u0647 \u0628\u0647 time zone \u0633\u0631\u0648\u0631\u060c \u062f\u0631 \u0632\u0645\u0627\u0646\u06cc \u06a9\u0647 \u06a9\u0644\u0627\u06cc\u0646\u062a \u06cc\u0627 \u0633\u0631\u0648\u0631 \u0634\u0631\u0648\u0639 \u0628\u0647 \u06a9\u0627\u0631 \u0645\u06cc \u06a9\u0646\u062f \u062a\u0628\u062f\u06cc\u0644 \u0645\u06cc \u0634\u0648\u062f. \u062f\u0631 \u0641\u0631\u0645\u062a text\u060c \u0627\u0637\u0644\u0627\u0639\u0627\u062a DST \u0627\u0632 \u062f\u0633\u062a \u0645\u06cc \u0631\u0648\u062f.</p>\n<p>\u0628\u0647 \u0635\u0648\u0631\u062a \u067e\u06cc\u0634 \u0641\u0631\u0636 \u0632\u0645\u0627\u0646\u06cc \u06a9\u0647 \u06a9\u0644\u0627\u06cc\u0646\u062a \u0628\u0647 \u0633\u0631\u0648\u0631 \u06a9\u0627\u0646\u06a9\u062a \u0645\u06cc \u0634\u0648\u062f\u060c timezone \u0622\u0646 \u0628\u0647 \u062a\u0646\u0638\u06cc\u0645 \u0633\u0631\u0648\u0631 \u062a\u063a\u06cc\u06cc\u0631 \u0645\u06cc \u06a9\u0646\u062f. \u0634\u0645\u0627 \u0645\u06cc \u062a\u0648\u0627\u0646\u06cc\u06cc\u062f \u0627\u06cc\u0646 \u0631\u0641\u062a\u0627\u0631 \u0631\u0627 \u0628\u0627 \u0641\u0639\u0627\u0644 \u0633\u0627\u0632\u06cc \u06af\u0632\u06cc\u0646\u0647 <code>--use_client_time_zone</code> \u062f\u0631 \u0645\u062d\u06cc\u0637 command-line \u062a\u063a\u06cc\u06cc\u0631 \u062f\u0647\u06cc\u062f.</p>\n<p>\u067e\u0633 \u062f\u0631 \u0647\u0646\u06af\u0627\u0645 \u06a9\u0627\u0631 \u0628\u0627 \u062a\u0627\u0631\u06cc\u062e \u0645\u062a\u0646\u06cc (\u0628\u0631\u0627\u06cc \u0645\u062b\u0627\u0644 \u0632\u0645\u0627\u0646\u06cc \u06a9\u0647 \u062f\u0627\u0645\u067e text \u0645\u06cc \u06af\u06cc\u0631\u06cc\u062f)\u060c \u0628\u0647 \u062e\u0627\u0637\u0631 \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u06cc\u062f \u06a9\u0647 \u0645\u0645\u06a9\u0646 \u0627\u0633\u062a \u0628\u0647 \u062f\u0644\u06cc\u0644 \u062a\u063a\u06cc\u06cc\u0631\u0627\u062a DST\u060c \u0646\u062a\u0627\u06cc\u062c \u0645\u0628\u0647\u0645\u06cc \u062f\u0631 \u062e\u0631\u0648\u062c\u06cc \u0628\u0628\u06cc\u0646\u06cc\u062f\u060c \u0648 \u0645\u0645\u06a9\u0646 \u0627\u0633\u062a \u062f\u0631 \u0635\u0648\u0631\u062a \u062a\u063a\u06cc\u06cc\u0631 time zone \u0645\u0634\u06a9\u0644\u06cc \u0628\u0627 \u0645\u0637\u0627\u0628\u0642\u062a \u062e\u0631\u0648\u062c\u06cc \u0628\u0627 \u062f\u0627\u062f\u0647 \u0647\u0627 \u0648\u062c\u0648\u062f \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u062f.</p>\n</div>\n<p><a name=\"../../../data_types/enum/\"></a>\n<a name=\"enum/\"></a>\n<a name=\"data_types/enum/\"></a>\n<a name=\"../../data_types/enum/\"></a>\n<a name=\"../../../../../data_types/enum/\"></a>\n<a name=\"../../../../data_types/enum/\"></a>\n<a name=\"../data_types/enum/\"></a></p>\n<div dir=\"rtl\">\n<h2 id=\"enum\">Enum<a class=\"headerlink\" href=\"#enum\" title=\"Permanent link\">&para;</a></h2>\n<p>Enum8 \u06cc\u0627 Enum16\u060c \u0628\u0647 \u0634\u0645\u0627 \u0627\u062c\u0627\u0632\u0647 \u06cc \u0630\u062e\u06cc\u0631\u0647 \u0633\u0627\u0632\u06cc \u0645\u062c\u0645\u0648\u0639\u0647 \u0627\u06cc \u0645\u062d\u062f\u0648\u062f \u0627\u0632 \u0631\u0634\u062a\u0647 \u0647\u0627 \u0631\u0627 \u0645\u06cc \u062f\u0647\u062f \u06a9\u0647 \u06a9\u0627\u0631\u0622\u0645\u0627\u062f\u062a\u0631 \u0627\u0632 String \u0645\u06cc \u0628\u0627\u0634\u062f.</p>\n<p>\u0645\u062b\u0627\u0644:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">Enum8(&#39;hello&#39; = 1, &#39;world&#39; = 2)</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<ul>\n<li>\u0645\u0642\u062f\u0627\u0631 \u062f\u0627\u062e\u0644 \u0627\u06cc\u0646 \u0633\u062a\u0648\u0646 \u0645\u06cc \u062a\u0648\u0627\u0646\u062f \u06cc\u06a9\u06cc \u0627\u0632 \u062f\u0648 \u0645\u0642\u062f\u0627\u0631 'hello' \u06cc\u0627 'world' \u0628\u0627\u0634\u062f.</li>\n</ul>\n<p>\u0647\u0631\u06a9\u062f\u0627\u0645 \u0627\u0632 \u0645\u0642\u0627\u062f\u06cc\u0631 \u06cc\u06a9 \u0639\u062f\u062f \u062f\u0631 \u0645\u062d\u062f\u0648\u062f\u0647 \u06cc <code>-128 ... 127</code> \u0628\u0631\u062a\u06cc <code>Enum8</code> \u0648 \u062f\u0631 \u0645\u062d\u062f\u0648\u062f\u0647 \u06cc <code>-32768 ... 32767</code> \u0628\u0631\u0627\u06cc <code>Enum16</code> \u0645\u06cc \u0628\u0627\u0634\u062f. \u062a\u0645\u0627\u0645 \u0631\u0634\u062a\u0647 \u0647\u0627 \u0648 \u0627\u0639\u062f\u0627\u062f \u0628\u0627\u06cc\u062f \u0645\u062a\u0641\u0627\u0648\u062a \u0628\u0627\u0634\u0646\u062f. \u0631\u0634\u062a\u0647 \u06cc \u062e\u0627\u0644\u06cc \u0645\u062c\u0627\u0632 \u0627\u0633\u062a. \u0627\u06af\u0631 \u0627\u06cc\u0646 type \u0645\u0634\u062e\u0635 \u0634\u062f\u0647 \u0628\u0627\u0634\u062f (\u062f\u0631 \u062a\u0639\u0631\u06cc\u0641 \u062c\u062f\u0648\u0644)\u060c \u0627\u0639\u062f\u0627\u062f \u0645\u06cc \u062a\u0648\u0627\u0646\u0646\u062f \u0628\u0647 \u0635\u0648\u0631\u062a \u062f\u0644\u062e\u0648\u0627\u0647 \u0645\u0631\u062a\u0628 \u0634\u0648\u0646\u062f. \u0628\u0627 \u0627\u06cc\u0646 \u062d\u0627\u0644\u060c \u062a\u0631\u062a\u06cc\u0628 \u062f\u0631 \u0627\u06cc\u0646\u062c\u0627 \u0645\u0647\u0645 \u0646\u06cc\u0633\u062a.</p>\n<p>\u062f\u0631 RAM\u060c \u0627\u06cc\u0646 type \u0645\u0634\u0627\u0628\u0647 <code>Int8</code> \u06cc\u0627 <code>Int16</code> \u0630\u062e\u06cc\u0631\u0647 \u0645\u06cc \u0634\u0648\u062f. \u0647\u0646\u06af\u0627\u0645 \u062e\u0648\u0627\u0646\u062f\u0646 \u062f\u0631 \u0641\u0631\u0645 \u0645\u062a\u0646\u06cc\u060c ClickHouse \u0645\u0642\u062f\u0627\u0631 \u0631\u0627 \u0628\u0647 \u0635\u0648\u0631\u062a String \u067e\u0627\u0631\u0633 \u0645\u06cc \u06a9\u0646\u062f \u0648 \u0631\u0634\u062a\u0647 \u06cc \u0645\u0631\u0628\u0648\u0637\u0647 \u0631\u0627 \u062f\u0631 \u0645\u0642\u0627\u062f\u06cc\u0631 Enum \u062c\u0633\u062a\u062c\u0648 \u0645\u06cc \u06a9\u0646\u062f. \u0627\u06af\u0631 \u0631\u0634\u062a\u0647 \u0631\u0627 \u067e\u06cc\u062f\u0627 \u06a9\u0646\u062f \u06cc\u06a9 expection \u067e\u0631\u062a\u0627\u0628 \u0645\u06cc \u0634\u0648\u062f. \u062f\u0631 \u0647\u0646\u06af\u0627\u0645 \u062e\u0648\u0627\u0646\u062f\u0646 \u062f\u0631 \u0641\u0631\u0645\u062a text\u060c \u0631\u0634\u062a\u0647 \u062e\u0648\u0627\u0646\u062f \u0645\u06cc \u0634\u0648\u062f \u0648 \u0645\u0642\u062f\u0627\u0631 \u0639\u062f\u062f\u06cc \u0645\u0631\u0628\u0648\u0637\u0647 \u0645\u0648\u0631\u062f \u0628\u0631\u0631\u0633\u06cc \u0642\u0631\u0627\u0631 \u0645\u06cc \u06af\u06cc\u0631\u062f. \u0627\u06af\u0631 \u0645\u0642\u062f\u0627\u0631 \u067e\u06cc\u062f\u0627 \u0646\u0634\u0648\u062f expection \u067e\u0631\u062a\u0627\u0628 \u0645\u06cc \u0634\u0648\u062f. \u0647\u0646\u06af\u0627\u0645 \u0646\u0648\u0634\u062a\u0646\u060c \u0645\u0642\u062f\u0627\u0631 \u0628\u0627 \u0631\u0634\u062a\u0647 \u06cc \u0645\u0631\u0628\u0648\u0637 \u0646\u0648\u0634\u062a\u0647 \u0645\u06cc \u0634\u0648\u062f. \u0627\u06af\u0631 \u062f\u0627\u062f\u0647 \u06cc \u0633\u062a\u0648\u0646 \u062f\u0627\u0631\u0627\u06cc garbage \u0628\u0627\u0634\u062f\u060c (\u0627\u0639\u062f\u0627\u062f\u06cc \u06a9\u0647 \u0627\u0632 \u0645\u062c\u0645\u0648\u0639\u0647 \u06cc \u0645\u0639\u062a\u0628\u0631\u0646\u06cc\u0633\u062a\u0646\u062f)\u060c \u06cc\u06a9 expection \u067e\u0631\u062a\u0627\u0628 \u0645\u06cc \u0634\u0648\u062f. \u0647\u0646\u06af\u0627\u0645 \u062e\u0648\u0627\u0646\u062f\u0646 \u0648 \u0646\u0648\u0634\u062a\u0646 \u0628\u0647 \u0635\u0648\u0631\u062a \u0628\u0627\u06cc\u0646\u0631\u06cc\u060c \u0627\u06cc\u0646 type \u0634\u0628\u06cc\u0647 \u0628\u0647 Int8 \u0648 Int16 \u06a9\u0627\u0631 \u0645\u06cc \u06a9\u0646\u062f. The implicit default value is the value with the lowest number.</p>\n<p>\u062f\u0631 \u062d\u06cc\u0646 <code>ORDER BY</code>, <code>GROUP BY</code>, <code>IN</code>, <code>DISTINCT</code> \u0648...\u060c \u0627\u06cc\u0646 type \u0631\u0641\u062a\u0627\u0631\u06cc \u0645\u0634\u0627\u0628\u0647 \u0628\u0627 \u0627\u0639\u062f\u0627\u062f \u062f\u0627\u0631\u062f. \u0628\u0631\u0627\u06cc \u0645\u062b\u0627\u0644 ORDER BY \u0628\u0647 \u0635\u0648\u0631\u062a \u0639\u062f\u062f\u06cc \u0627\u06cc\u0646\u0647\u0627 \u0631\u0648 \u0645\u0631\u062a\u0628 \u0645\u06cc \u06a9\u0646\u062f.\u0627\u067e\u0631\u0627\u062a\u0648\u0631 \u0647\u0627\u06cc \u0645\u0642\u0627\u06cc\u0633\u0647 \u0627\u06cc \u0648 \u0645\u0633\u0627\u0648\u06cc \u0639\u0645\u0644 \u0645\u0634\u0627\u0628\u0647\u06cc \u062f\u0631 Enums \u062f\u0627\u0631\u0646\u062f.</p>\n<p>\u0645\u0642\u0627\u062f\u06cc\u0631 Enum \u0646\u0645\u06cc\u062a\u0648\u0627\u0646\u0646\u062f \u0628\u0627 \u0627\u0639\u062f\u0627\u062f \u0645\u0642\u0627\u06cc\u0633\u0647 \u0634\u0648\u0646\u062f. \u0645\u0642\u0627\u062f\u06cc\u0631 Enum \u0631\u0627 \u0645\u06cc \u062a\u0648\u0627\u0646 \u0628\u0627 \u0631\u0634\u062a\u0647 \u06cc \u062b\u0627\u0628\u062a \u0645\u0642\u0627\u06cc\u0633\u0647 \u06a9\u0631\u062f. \u0627\u06af\u0631 \u0631\u0634\u062a\u0647 \u06cc \u0645\u0642\u0627\u06cc\u0633\u0647\u060c \u0645\u0642\u062f\u0627\u0631 \u0645\u0639\u062a\u0628\u0631\u06cc \u0628\u0631\u0627\u06cc \u0645\u0642\u0627\u06cc\u0633 \u0628\u0647 Enum \u0646\u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u062f\u060c \u06cc\u06a9 expetion \u0631\u062e \u0645\u06cc \u062f\u0647\u062f. \u0627\u067e\u0631\u0627\u062a\u0648\u0631 IN \u062f\u0631 Enum \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u0645\u06cc \u0634\u0648\u062f\u061b \u0628\u0647 \u0627\u06cc\u0646 \u0635\u0648\u0631\u062a \u06a9\u0647 \u0633\u062a\u0648\u0646 enum \u062f\u0631 \u0633\u0645\u062a \u0686\u067e \u0648 \u0645\u062c\u0645\u0648\u0639\u0647 \u0627\u0632 \u0631\u0634\u062a\u0647 \u0647\u0627 \u062f\u0631 \u0633\u0645\u062a \u0631\u0627\u0633\u062a \u0642\u0631\u0627\u0631 \u0645\u06cc \u06af\u06cc\u0631\u0646\u062f. \u0631\u0634\u062a\u0647 \u0647\u0627 \u0645\u0642\u0627\u062f\u06cc\u0631 \u0645\u0631\u0628\u0648\u0637 \u0628\u0647 Enum \u0647\u0633\u062a\u0646\u062f.</p>\n<p>\u062e\u06cc\u0644\u06cc \u0627\u0632 \u0627\u067e\u0631\u0627\u062a\u0648\u0631\u0647\u0627\u06cc \u0639\u062f\u062f\u06cc \u0648 \u0631\u0634\u062a\u0647 \u0627\u06cc \u0628\u0631\u0627\u06cc \u0645\u0642\u0627\u062f\u06cc\u0631 Enum \u062a\u0639\u0631\u06cc\u0641 \u0646\u0634\u062f\u0647 \u0627\u0646\u062f. \u0628\u0631\u0627\u06cc \u0645\u062b\u0627\u0644 \u062c\u0645\u0639 \u06cc\u06a9 \u0639\u062f\u062f \u0628\u0627 Enum \u06cc\u0627 \u06a9\u0627\u0646\u06a9\u062a \u06a9\u0631\u062f\u0646 \u06cc\u06a9 \u0631\u0634\u062a\u0647 \u0628\u0627 Enum. \u0628\u0627 \u0627\u06cc\u0646 \u062d\u0627\u0644 Enum \u062f\u0627\u0631\u0627\u06cc \u062a\u0627\u0628\u0639\u06cc \u0628\u0647 \u0646\u0627\u0645 <code>toString</code> \u0628\u0631\u0627\u06cc \u0628\u0631\u06af\u0634\u062a \u062f\u0627\u062f\u0647 \u0628\u0647 \u0635\u0648\u0631\u062a \u0631\u0634\u062a\u0647 \u0645\u06cc \u0628\u0627\u0634\u062f.</p>\n<p>\u0647\u0645\u0686\u0646\u06cc\u0646 \u0645\u0642\u0627\u062f\u06cc\u0631 Enum \u0628\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 \u062a\u0627\u0628\u0639 <code>toT</code> \u0642\u0627\u0628\u0644 \u062a\u0628\u062f\u06cc\u0644 \u0628\u0647 type \u0647\u0627\u06cc \u0639\u062f\u062f\u06cc \u0647\u0633\u062a\u0646\u062f. \u062c\u0627\u06cc\u06cc \u06a9\u0647 T \u06cc\u06a9 type \u0639\u062f\u062f\u06cc \u0627\u0633\u062a. \u0632\u0645\u0627\u0646\u06cc \u06a9\u0647 T \u0628\u0647 \u0646\u0648\u0639 \u0639\u062f\u062f\u06cc Enum \u0645\u0631\u0628\u0648\u0637 \u0645\u06cc \u0634\u0648\u062f\u060c \u0627\u06cc\u0646 \u062a\u0628\u062f\u06cc\u0644 \u0647\u06cc\u0686 \u0647\u0632\u06cc\u0646\u0647 \u0627\u06cc \u0646\u062f\u0627\u0631\u062f. \u0627\u06af\u0631 \u0641\u0642\u0637 \u0645\u062c\u0645\u0648\u0639\u0647 \u0627\u0632 \u0645\u0642\u0627\u062f\u06cc\u0631 \u062a\u063a\u06cc\u06cc\u0631 \u06a9\u0646\u062f\u060c Enum \u0628\u062f\u0648\u0646 \u0647\u06cc\u0686 \u0647\u0632\u06cc\u0646\u0647 \u0627\u06cc \u0645\u06cc \u062a\u0648\u0627\u0646\u062f ALTER \u0634\u0648\u062f. \u0627\u0636\u0627\u0641\u0647 \u06cc\u0627 \u062d\u0630\u0641 \u06a9\u0631\u062f\u0646 \u0639\u0636\u0648\u0647\u0627\u06cc Enum \u0628\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 Alter \u0645\u0645\u06a9\u0646 \u0627\u0633\u062a (\u062d\u0630\u0641 \u06cc\u06a9 \u0639\u0636\u0648 \u0628\u0647 \u0634\u0631\u0637\u06cc \u06a9\u0647 \u062a\u0627 \u0627\u0644\u0627\u0646 \u062f\u0631 \u062c\u062f\u0648\u0644 \u0627\u0632 \u0622\u0646 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0646\u0634\u062f\u0647 \u0628\u0627\u0634\u062f \u0627\u0645\u0646 \u0627\u0633\u062a). \u0628\u0647 \u0639\u0646\u0648\u0627\u0646 \u06cc\u06a9 \u0645\u062d\u0627\u0641\u0638\u060c \u062a\u063a\u06cc\u06cc\u0631 \u0645\u0642\u062f\u0627\u0631 \u0639\u062f\u062f\u06cc \u06a9\u0647 \u0642\u0628\u0644\u0627 \u062a\u0648\u0633\u0637 \u0627\u0639\u0636\u0627\u06cc Enum \u062a\u0639\u0631\u06cc\u0641 \u0634\u062f\u0647 \u0627\u0633\u062a \u0645\u0646\u062c\u0631 \u0628\u0647 expection \u0645\u06cc \u0634\u0648\u062f.</p>\n<p>\u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 ALTER \u0628\u0631\u0627\u06cc \u062a\u0628\u062f\u06cc\u0644 Enum8 \u0628\u0647 Enum16 \u06cc\u0627 \u0628\u0631\u0639\u06a9\u0633\u060c \u0645\u0645\u06a9\u0646 \u0627\u0633\u062a\u060c \u062f\u0642\u06cc\u0642\u0627 \u0634\u0628\u06cc\u0647 \u0628\u0647 Int8 \u0628\u0647 Int16.</p>\n</div>\n<p><a name=\"../data_types/array/\"></a>\n<a name=\"../../../data_types/array/\"></a>\n<a name=\"../../../../data_types/array/\"></a>\n<a name=\"data_types/array/\"></a>\n<a name=\"../../../../../data_types/array/\"></a>\n<a name=\"array/\"></a>\n<a name=\"../../data_types/array/\"></a></p>\n<div dir=\"rtl\">\n<h2 id=\"array-t\">Array(T)<a class=\"headerlink\" href=\"#array-t\" title=\"Permanent link\">&para;</a></h2>\n<p>\u0622\u0631\u0627\u06cc\u0647 \u0627\u06cc \u0627\u0632 \u0639\u0646\u0627\u0635\u0631 \u0628\u0627 \u062a\u0627\u06cc\u067e T. \u062a\u0627\u06cc\u067e T \u0645\u06cc \u062a\u0648\u0627\u0646\u062f \u0647\u0631 Type \u0628\u0627\u0634\u062f\u060c \u0627\u0632 \u062c\u0645\u0644\u0647 \u06cc\u06a9 \u0622\u0631\u0627\u06cc\u0647. \u0645\u0627 \u062a\u0648\u0635\u06cc\u0647 \u0628\u0647 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 \u0622\u0631\u0627\u06cc\u0647 \u0647\u0627\u06cc multidimensional \u0646\u0645\u06cc \u06a9\u0646\u06cc\u0645\u060c \u0686\u0648\u0646 \u0622\u0646\u0647\u0627 \u0628\u0647 \u062e\u0648\u0628\u06cc \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u0646\u0645\u06cc \u0634\u0648\u0646\u062f (\u0628\u0631\u0627\u06cc \u0645\u062b\u0627\u0644\u060c \u0634\u0645\u0627 \u0646\u0645\u06cc \u062a\u0648\u0646\u06cc\u062f \u062f\u0631 \u062c\u062f\u0627\u0648\u0644\u06cc \u06a9\u0647 \u0645\u0648\u062a\u0648\u0631 \u0622\u0646\u0647\u0627 MergeTree \u0627\u0633\u062a\u060c \u0622\u0631\u0627\u06cc\u0647 \u0647\u0627\u06cc multidimensional \u0630\u062e\u06cc\u0631\u0647 \u0633\u0627\u0632\u06cc \u06a9\u0646\u06cc\u062f).</p>\n</div>\n<p><a name=\"../data_types/nested_data_structures/aggregatefunction/\"></a>\n<a name=\"nested_data_structures/aggregatefunction/\"></a>\n<a name=\"../../../../data_types/nested_data_structures/aggregatefunction/\"></a>\n<a name=\"../../nested_data_structures/aggregatefunction/\"></a>\n<a name=\"../../../../../nested_data_structures/aggregatefunction/\"></a>\n<a name=\"../../../../nested_data_structures/aggregatefunction/\"></a>\n<a name=\"../../../../../data_types/nested_data_structures/aggregatefunction/\"></a>\n<a name=\"../../../data_types/nested_data_structures/aggregatefunction/\"></a>\n<a name=\"../../../nested_data_structures/aggregatefunction/\"></a>\n<a name=\"../../data_types/nested_data_structures/aggregatefunction/\"></a>\n<a name=\"data_types/nested_data_structures/aggregatefunction/\"></a>\n<a name=\"../nested_data_structures/aggregatefunction/\"></a>\n<a name=\"aggregatefunction/\"></a>\n<a name=\"../../../../../../nested_data_structures/aggregatefunction/\"></a></p>\n<div dir=\"rtl\">\n<h2 id=\"aggregatefunction-name-types-of-arguments\">AggregateFunction(name, types_of_arguments...)<a class=\"headerlink\" href=\"#aggregatefunction-name-types-of-arguments\" title=\"Permanent link\">&para;</a></h2>\n<p>\u062d\u0627\u0644\u062a \u0645\u062a\u0648\u0633\u0637 \u0627\u0632 \u062a\u0648\u0627\u0628\u0639 aggregate. \u0628\u0631\u0627\u06cc \u062f\u0631\u06cc\u0627\u0641\u062a \u0622\u0646\u060c \u0627\u0632 \u062a\u0648\u0627\u0628\u0639 aggregate \u0628\u0647 \u0647\u0645\u0631\u0627\u0647 \u067e\u0633\u0648\u0646\u062f '-State' \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u062f. \u0628\u0631\u0627\u06cc \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0628\u06cc\u0634\u062a\u0631 \u0642\u0633\u0645\u062a \"AggregatingMergeTree\" \u0631\u0627 \u0628\u0628\u06cc\u0646\u06cc\u062f.</p>\n</div>\n<p><a name=\"../../data_types/tuple/\"></a>\n<a name=\"../data_types/tuple/\"></a>\n<a name=\"tuple/\"></a>\n<a name=\"../../../../data_types/tuple/\"></a>\n<a name=\"../../../data_types/tuple/\"></a>\n<a name=\"data_types/tuple/\"></a>\n<a name=\"../../../../../data_types/tuple/\"></a></p>\n<div dir=\"rtl\">\n<h2 id=\"tuple-t1-t2\">Tuple(T1, T2, ...)<a class=\"headerlink\" href=\"#tuple-t1-t2\" title=\"Permanent link\">&para;</a></h2>\n<p>Tuple \u0647\u0627 \u0646\u0645\u06cc\u062a\u0648\u0627\u0646\u0646\u062f \u062f\u0631 \u062c\u062f\u0648\u0644 \u0646\u0648\u0634\u062a\u0647 \u0634\u0648\u0646\u062f (\u0628\u0647 \u063a\u06cc\u0631 \u062c\u062f\u0627\u0648\u0644 Memory). \u0622\u0646\u0647\u0627 \u0628\u0631\u0627\u06cc \u06af\u0631\u0648\u0647 \u0628\u0646\u062f\u06cc \u0645\u0648\u0642\u062a \u0633\u062a\u0648\u0646 \u0647\u0627 \u0645\u0648\u0631\u062f \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0642\u0631\u0627\u0631 \u0645\u06cc \u06af\u06cc\u0631\u0646\u062f. \u0633\u062a\u0648\u0646 \u0647\u0627\u06cc \u0645\u06cc \u062a\u0648\u0627\u0646\u0646\u062f \u06af\u0631\u0648\u0647 \u0628\u0646\u062f\u06cc \u0634\u0648\u0646\u062f \u0627\u06af\u0631 \u0627\u0632 \u0639\u0628\u0627\u0631\u062a In \u062f\u0631 query \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u0645\u060c \u0648 \u0628\u0631\u0627\u06cc \u062a\u0639\u06cc\u06cc\u0646 \u0641\u0631\u0645\u062a \u067e\u0627\u0631\u0627\u0645\u062a\u0631 \u0647\u0627\u06cc \u062e\u0627\u0635\u06cc \u0627\u0632 \u062a\u0648\u0627\u0628\u0639 \u0644\u0627\u0645\u0628\u062f\u0627. \u0628\u0631\u0627\u06cc \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0628\u06cc\u0634\u062a\u0631 \"\u0627\u067e\u0631\u0627\u062a\u0648\u0631 IN\" , \"\u062a\u0648\u0627\u0628\u0639 Higher order\" \u0631\u0627 \u0628\u0628\u06cc\u0646\u06cc\u062f.</p>\n<p>Tuple \u0645\u06cc \u062a\u0648\u0627\u0646\u0646\u062f \u062f\u0631 \u062e\u0631\u0648\u062c\u06cc \u0646\u062a\u06cc\u062c\u0647 query \u062f\u0631 \u062d\u0627\u0644 \u0627\u062c\u0631\u0627 \u0628\u0627\u0634\u0646\u062f. \u062f\u0631 \u0627\u06cc\u0646 \u0645\u0648\u0631\u062f\u060c \u0628\u0631\u0627\u06cc \u0641\u0631\u0645\u062a \u0647\u0627\u06cc text \u0628\u0647 \u063a\u06cc\u0631 \u0627\u0632 JSON*\u060c \u0645\u0642\u0627\u062f\u06cc\u0631 \u0628\u0647 \u0635\u0648\u0631\u062a comma-separate \u062f\u0627\u062e\u0644 \u0628\u0631\u0627\u06a9\u062a \u0642\u0631\u0627\u0631 \u0645\u06cc\u06af\u06cc\u0631\u0646\u062f. \u062f\u0631 \u0641\u0631\u0645\u062a \u0647\u0627\u06cc JSON* \u0645\u0642\u0627\u062f\u06cc\u0631 tuple \u0628\u0647 \u0635\u0648\u0631\u062a \u0622\u0631\u0627\u06cc\u0647 \u062f\u0631 \u062e\u0631\u0648\u062c\u06cc \u0645\u06cc \u0622\u06cc\u0646\u062f.</p>\n</div>\n<p><a name=\"../../../../../data_types/nullable/\"></a>\n<a name=\"../../data_types/nullable/\"></a>\n<a name=\"nullable/\"></a>\n<a name=\"data_types/nullable/\"></a>\n<a name=\"../../../data_types/nullable/\"></a>\n<a name=\"../data_types/nullable/\"></a>\n<a name=\"../../../../data_types/nullable/\"></a></p>\n<h2 id=\"data_type-nullable\">Nullable(TypeName)<a class=\"headerlink\" href=\"#data_type-nullable\" title=\"Permanent link\">&para;</a></h2>\n<p>Allows to store special marker (<a href=\"#../query_language/syntax/\">NULL</a>) that denotes \"missing value\" alongside normal values allowed by <code>TypeName</code>. For example, a <code>Nullable(Int8)</code> type column can store <code>Int8</code> type values, and the rows that don't have a value will store <code>NULL</code>.</p>\n<p>For a <code>TypeName</code>, you can't use composite data types <a href=\"#array/\">Array</a> and <a href=\"#tuple/\">Tuple</a>. Composite data types can contain <code>Nullable</code> type values, such as <code>Array(Nullable(Int8))</code>.</p>\n<p>A <code>Nullable</code> type field can't be included in table indexes.</p>\n<p><code>NULL</code> is the default value for any <code>Nullable</code> type, unless specified otherwise in the ClickHouse server configuration.</p>\n<h3 id=\"storage-features\">Storage features<a class=\"headerlink\" href=\"#storage-features\" title=\"Permanent link\">&para;</a></h3>\n<p>To store <code>Nullable</code> type values in table column, ClickHouse uses a separate file with <code>NULL</code> masks in addition to normal file with values. Entries in masks file allow ClickHouse to distinguish between <code>NULL</code> and default value of corresponding data type for each table row. Because of additional file, <code>Nullable</code> column consumes additional storage space compared to similar normal one.</p>\n<div class=\"admonition info\">\n<p class=\"admonition-title\">Note</p>\n<p>Using <code>Nullable</code> almost always negatively affects performance, keep this in mind when designing your databases.</p>\n</div>\n<h3 id=\"usage-example_1\">Usage example<a class=\"headerlink\" href=\"#usage-example_1\" title=\"Permanent link\">&para;</a></h3>\n<div class=\"codehilite\"><pre><span></span><span class=\"p\">:)</span> <span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">t_null</span><span class=\"p\">(</span><span class=\"n\">x</span> <span class=\"nb\">Int8</span><span class=\"p\">,</span> <span class=\"n\">y</span> <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"nb\">Int8</span><span class=\"p\">))</span> <span class=\"n\">ENGINE</span> <span class=\"n\">TinyLog</span>\n\n<span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">t_null</span>\n<span class=\"p\">(</span>\n    <span class=\"n\">x</span> <span class=\"nb\">Int8</span><span class=\"p\">,</span>\n    <span class=\"n\">y</span> <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"nb\">Int8</span><span class=\"p\">)</span>\n<span class=\"p\">)</span>\n<span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">TinyLog</span>\n\n<span class=\"n\">Ok</span><span class=\"p\">.</span>\n\n<span class=\"mi\">0</span> <span class=\"k\">rows</span> <span class=\"k\">in</span> <span class=\"k\">set</span><span class=\"p\">.</span> <span class=\"n\">Elapsed</span><span class=\"p\">:</span> <span class=\"mi\">0</span><span class=\"p\">.</span><span class=\"mi\">012</span> <span class=\"n\">sec</span><span class=\"p\">.</span>\n\n<span class=\"p\">:)</span> <span class=\"k\">INSERT</span> <span class=\"k\">INTO</span> <span class=\"n\">t_null</span> <span class=\"k\">VALUES</span> <span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"k\">NULL</span><span class=\"p\">),</span> <span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">)</span>\n\n<span class=\"k\">INSERT</span> <span class=\"k\">INTO</span> <span class=\"n\">t_null</span> <span class=\"k\">VALUES</span>\n\n<span class=\"n\">Ok</span><span class=\"p\">.</span>\n\n<span class=\"mi\">1</span> <span class=\"k\">rows</span> <span class=\"k\">in</span> <span class=\"k\">set</span><span class=\"p\">.</span> <span class=\"n\">Elapsed</span><span class=\"p\">:</span> <span class=\"mi\">0</span><span class=\"p\">.</span><span class=\"mi\">007</span> <span class=\"n\">sec</span><span class=\"p\">.</span>\n\n<span class=\"p\">:)</span> <span class=\"k\">SELECT</span> <span class=\"n\">x</span> <span class=\"o\">+</span> <span class=\"n\">y</span> <span class=\"k\">FROM</span> <span class=\"n\">t_null</span>\n\n<span class=\"k\">SELECT</span> <span class=\"n\">x</span> <span class=\"o\">+</span> <span class=\"n\">y</span>\n<span class=\"k\">FROM</span> <span class=\"n\">t_null</span>\n\n<span class=\"err\">\u250c\u2500</span><span class=\"n\">plus</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">y</span><span class=\"p\">)</span><span class=\"err\">\u2500\u2510</span>\n<span class=\"err\">\u2502</span>       <span class=\"err\">\u1d3a\u1d41\u1d38\u1d38</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span>          <span class=\"mi\">5</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n\n<span class=\"mi\">2</span> <span class=\"k\">rows</span> <span class=\"k\">in</span> <span class=\"k\">set</span><span class=\"p\">.</span> <span class=\"n\">Elapsed</span><span class=\"p\">:</span> <span class=\"mi\">0</span><span class=\"p\">.</span><span class=\"mi\">144</span> <span class=\"n\">sec</span><span class=\"p\">.</span>\n</pre></div>\n\n\n<p><a name=\"../../../../data_types/nested_data_structures/\"></a>\n<a name=\"../../data_types/nested_data_structures/\"></a>\n<a name=\"nested_data_structures/\"></a>\n<a name=\"../../../../../data_types/nested_data_structures/\"></a>\n<a name=\"data_types/nested_data_structures/\"></a>\n<a name=\"../../../data_types/nested_data_structures/\"></a>\n<a name=\"../data_types/nested_data_structures/\"></a></p>\n<div dir=\"rtl\">\n<h2 id=\"nested-data-structures\">Nested data structures<a class=\"headerlink\" href=\"#nested-data-structures\" title=\"Permanent link\">&para;</a></h2>\n</div>\n<p><a name=\"../../../../../nested_data_structures/nested/\"></a>\n<a name=\"../../../../../data_types/nested_data_structures/nested/\"></a>\n<a name=\"../../../data_types/nested_data_structures/nested/\"></a>\n<a name=\"../../../nested_data_structures/nested/\"></a>\n<a name=\"../nested_data_structures/nested/\"></a>\n<a name=\"../../../../nested_data_structures/nested/\"></a>\n<a name=\"../data_types/nested_data_structures/nested/\"></a>\n<a name=\"nested/\"></a>\n<a name=\"../../../../../../nested_data_structures/nested/\"></a>\n<a name=\"nested_data_structures/nested/\"></a>\n<a name=\"../../data_types/nested_data_structures/nested/\"></a>\n<a name=\"../../../../data_types/nested_data_structures/nested/\"></a>\n<a name=\"data_types/nested_data_structures/nested/\"></a>\n<a name=\"../../nested_data_structures/nested/\"></a></p>\n<div dir=\"rtl\">\n<h2 id=\"nested-name1-type1-name2-type2\">Nested(Name1 Type1, Name2 Type2, ...)<a class=\"headerlink\" href=\"#nested-name1-type1-name2-type2\" title=\"Permanent link\">&para;</a></h2>\n<p>\u0633\u0627\u062e\u062a\u0627\u0631 \u062f\u0627\u062f\u0647 \u06cc nested \u0634\u0628\u06cc\u0647 \u0628\u0647 \u06cc\u06a9 \u062c\u062f\u0648\u0644 nested \u0645\u06cc \u0628\u0627\u0634\u062f.\u067e\u0627\u0631\u0627\u0645\u062a\u0631\u0647\u0627\u06cc \u0633\u0627\u062e\u062a\u0627\u0631 \u062f\u0627\u062f\u0647 nested\u060c \u0646\u0627\u0645 \u0633\u062a\u0648\u0646 \u0647\u0627 \u0648 type \u0647\u0627\u06cc \u0622\u0646\u0647\u0627 \u0645\u0634\u0627\u0628\u0647 \u062f\u0633\u062a\u0648\u0631 CREATE\u060c \u0645\u0634\u062e\u0635 \u0645\u06cc \u0634\u0648\u062f. \u0647\u0631 \u0633\u0637\u0631 \u0627\u0632 \u062c\u062f\u0648\u0644 \u0645\u06cc \u062a\u0648\u0627\u0646\u062f \u0628\u0647 \u0647\u0631 \u062a\u0639\u062f\u0627\u062f \u0633\u0637\u0631 \u062f\u0631 \u0633\u0627\u062e\u062a\u0627\u0631 \u062f\u0627\u062f\u0647 nested \u0645\u0631\u0628\u0648\u0637 \u0634\u0648\u062f.</p>\n<p>\u0645\u062b\u0627\u0644:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">test</span><span class=\"p\">.</span><span class=\"n\">visits</span>\n<span class=\"p\">(</span>\n    <span class=\"n\">CounterID</span> <span class=\"n\">UInt32</span><span class=\"p\">,</span>\n    <span class=\"n\">StartDate</span> <span class=\"nb\">Date</span><span class=\"p\">,</span>\n    <span class=\"n\">Sign</span> <span class=\"nb\">Int8</span><span class=\"p\">,</span>\n    <span class=\"n\">IsNew</span> <span class=\"n\">UInt8</span><span class=\"p\">,</span>\n    <span class=\"n\">VisitID</span> <span class=\"n\">UInt64</span><span class=\"p\">,</span>\n    <span class=\"n\">UserID</span> <span class=\"n\">UInt64</span><span class=\"p\">,</span>\n    <span class=\"p\">...</span>\n    <span class=\"n\">Goals</span> <span class=\"n\">Nested</span>\n    <span class=\"p\">(</span>\n        <span class=\"n\">ID</span> <span class=\"n\">UInt32</span><span class=\"p\">,</span>\n        <span class=\"nb\">Serial</span> <span class=\"n\">UInt32</span><span class=\"p\">,</span>\n        <span class=\"n\">EventTime</span> <span class=\"n\">DateTime</span><span class=\"p\">,</span>\n        <span class=\"n\">Price</span> <span class=\"n\">Int64</span><span class=\"p\">,</span>\n        <span class=\"n\">OrderID</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n        <span class=\"n\">CurrencyID</span> <span class=\"n\">UInt32</span>\n    <span class=\"p\">),</span>\n    <span class=\"p\">...</span>\n<span class=\"p\">)</span> <span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">CollapsingMergeTree</span><span class=\"p\">(</span><span class=\"n\">StartDate</span><span class=\"p\">,</span> <span class=\"n\">intHash32</span><span class=\"p\">(</span><span class=\"n\">UserID</span><span class=\"p\">),</span> <span class=\"p\">(</span><span class=\"n\">CounterID</span><span class=\"p\">,</span> <span class=\"n\">StartDate</span><span class=\"p\">,</span> <span class=\"n\">intHash32</span><span class=\"p\">(</span><span class=\"n\">UserID</span><span class=\"p\">),</span> <span class=\"n\">VisitID</span><span class=\"p\">),</span> <span class=\"mi\">8192</span><span class=\"p\">,</span> <span class=\"n\">Sign</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u0627\u06cc\u0646 \u0645\u062b\u0627\u0644 <code>Goals</code> \u0631\u0627 \u0628\u0647 \u0639\u0646\u0648\u0627\u0646 \u06cc\u06a9 \u0633\u0627\u062e\u062a\u0627\u0631 \u062f\u0627\u062f\u0647 nested \u062a\u0639\u0631\u06cc\u0641 \u0645\u06cc \u06a9\u0646\u062f\u060c \u06a9\u0647 \u0645\u06cc \u062a\u0648\u0627\u0646\u062f \u0634\u0627\u0645\u0644 \u062f\u0627\u062f\u0647 \u0647\u0627\u06cc \u0645\u0631\u0628\u0648\u0637 \u0628\u0647 conversion (\u0627\u0647\u062f\u0627\u0641 \u0631\u0633\u06cc\u062f\u0647) \u0628\u0627\u0634\u062f. \u0647\u0631 \u0633\u0637\u0631 \u062f\u0631 \u062c\u062f\u0648\u0644 <code>visit</code> \u0645\u06cc \u062a\u0648\u0627\u0646\u062f \u0628\u0627 \u0635\u0641\u0631 \u06cc\u0627 \u0686\u0646\u062f coversion \u0627\u0631\u062a\u0628\u0627\u0637 \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u062f.</p>\n<p>\u0641\u0642\u0637 \u062a\u0627 \u06cc\u06a9 \u0644\u0648\u0644 \u0627\u0632 nested \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u0645\u06cc \u0634\u0648\u062f. \u0633\u062a\u0648\u0646 \u0647\u0627\u06cc nested \u062f\u0627\u0631\u0627\u06cc \u0622\u0631\u0627\u06cc\u0647\u060c \u0628\u0627 \u0622\u0631\u0627\u06cc\u0647 \u0647\u0627\u06cc multidimensional \u06cc\u06a9\u0633\u0627\u0646 \u0647\u0633\u062a\u0646\u062f\u060c \u067e\u0633 \u0645\u062d\u062f\u0648\u062f\u06cc\u062a \u062f\u0631 \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u062f\u0627\u0631\u0646\u062f (\u062c\u062f\u0627\u0648\u0644 \u0628\u0627 \u0645\u0648\u062a\u0648\u0631 MergeTree \u0627\u0632 \u0633\u062a\u0648\u0646 \u0647\u0627\u06cc multidimensional \u067e\u0634\u062a\u06cc\u0628\u0627\u0646\u06cc \u0646\u0645\u06cc \u06a9\u0646\u0646\u062f).</p>\n<p>\u062f\u0631 \u0628\u06cc\u0634\u062a\u0631 \u0645\u0648\u0627\u0631\u062f\u060c \u0647\u0646\u06af\u0627\u0645 \u06a9\u0627\u0631 \u0628\u0627 \u0633\u0627\u062e\u062a\u0627\u0631 \u062f\u0627\u062f\u0647 \u06cc nested\u060c \u0633\u062a\u0648\u0646 \u0647\u0627\u06cc \u0622\u0646 \u0645\u0634\u062e\u0635 \u0634\u062f\u0647 \u0627\u0646\u062f. \u0628\u0631\u0627\u06cc \u0627\u06cc\u0646 \u06a9\u0627\u0631\u060c \u0646\u0627\u0645 \u0633\u062a\u0648\u0646 \u0647\u0627 \u0628\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 \u062f\u0627\u062a \u062c\u062f\u0627 \u0645\u06cc \u0634\u0648\u0646\u062f. \u0627\u06cc\u0646 \u0633\u062a\u0648\u0646 \u0647\u0627 \u0622\u0631\u0627\u06cc\u0647 \u0627\u06cc \u0627\u0632 \u0627\u0646\u0648\u0627\u0639 type \u0647\u0627 \u062a\u0634\u06a9\u06cc\u0644 \u0645\u06cc \u062f\u0647\u0646\u062f. \u062a\u0645\u0627\u0645 \u0622\u0631\u0627\u06cc\u0647 \u0647\u0627\u06cc \u06cc\u06a9 \u0633\u0627\u062e\u062a\u0627\u0631 \u062f\u0627\u062f\u0647 \u06cc nested \u062f\u0627\u0631\u0627\u06cc \u0637\u0648\u0644 \u062b\u0627\u0628\u062a \u0647\u0633\u062a\u0646\u062f.</p>\n<p>\u0645\u062b\u0627\u0644:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span>\n    <span class=\"n\">Goals</span><span class=\"p\">.</span><span class=\"n\">ID</span><span class=\"p\">,</span>\n    <span class=\"n\">Goals</span><span class=\"p\">.</span><span class=\"n\">EventTime</span>\n<span class=\"k\">FROM</span> <span class=\"n\">test</span><span class=\"p\">.</span><span class=\"n\">visits</span>\n<span class=\"k\">WHERE</span> <span class=\"n\">CounterID</span> <span class=\"o\">=</span> <span class=\"mi\">101500</span> <span class=\"k\">AND</span> <span class=\"k\">length</span><span class=\"p\">(</span><span class=\"n\">Goals</span><span class=\"p\">.</span><span class=\"n\">ID</span><span class=\"p\">)</span> <span class=\"o\">&lt;</span> <span class=\"mi\">5</span>\n<span class=\"k\">LIMIT</span> <span class=\"mi\">10</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500Goals.ID\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500Goals.EventTime\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502 [1073752,591325,591325]        \u2502 [&#39;2014-03-17 16:38:10&#39;,&#39;2014-03-17 16:38:48&#39;,&#39;2014-03-17 16:42:27&#39;]                       \u2502</span>\n<span class=\"err\">\u2502 [1073752]                      \u2502 [&#39;2014-03-17 00:28:25&#39;]                                                                   \u2502</span>\n<span class=\"err\">\u2502 [1073752]                      \u2502 [&#39;2014-03-17 10:46:20&#39;]                                                                   \u2502</span>\n<span class=\"err\">\u2502 [1073752,591325,591325,591325] \u2502 [&#39;2014-03-17 13:59:20&#39;,&#39;2014-03-17 22:17:55&#39;,&#39;2014-03-17 22:18:07&#39;,&#39;2014-03-17 22:18:51&#39;] \u2502</span>\n<span class=\"err\">\u2502 []                             \u2502 []                                                                                        \u2502</span>\n<span class=\"err\">\u2502 [1073752,591325,591325]        \u2502 [&#39;2014-03-17 11:37:06&#39;,&#39;2014-03-17 14:07:47&#39;,&#39;2014-03-17 14:36:21&#39;]                       \u2502</span>\n<span class=\"err\">\u2502 []                             \u2502 []                                                                                        \u2502</span>\n<span class=\"err\">\u2502 []                             \u2502 []                                                                                        \u2502</span>\n<span class=\"err\">\u2502 [591325,1073752]               \u2502 [&#39;2014-03-17 00:46:05&#39;,&#39;2014-03-17 00:46:05&#39;]                                             \u2502</span>\n<span class=\"err\">\u2502 [1073752,591325,591325,591325] \u2502 [&#39;2014-03-17 13:28:33&#39;,&#39;2014-03-17 13:30:26&#39;,&#39;2014-03-17 18:51:21&#39;,&#39;2014-03-17 18:51:45&#39;] \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u0633\u0627\u062f\u0647 \u062a\u0631\u06cc\u0646 \u0631\u0627\u0647 \u0628\u0631\u0627\u06cc \u0641\u06a9\u0631 \u06a9\u0631\u062f\u0646 \u0628\u0647 \u06cc\u06a9 \u0633\u0627\u062e\u062a\u0627\u0631 \u062f\u0627\u062f\u0647 nestet \u0627\u06cc\u0646 \u0627\u0633\u062a \u06a9\u0647\u060c \u06cc\u06a9 nestet \u0645\u062c\u0645\u0648\u0639\u0647 \u0627\u06cc \u0627\u0632 \u0622\u0631\u0627\u06cc\u0647 \u0647\u0627\u06cc \u0686\u0646\u062f \u0633\u062a\u0648\u0646\u06cc \u0628\u0627 \u0637\u0648\u0644 \u062b\u0627\u0628\u062a \u0627\u0633\u062a.</p>\n<p>\u062a\u0646\u0647\u0627 \u062c\u0627\u06cc\u06cc \u06a9\u0647 \u06cc\u06a9 \u062f\u0633\u062a\u0648\u0631 SELECT \u0645\u06cc \u062a\u0648\u0627\u0646\u062f \u06a9\u0644 \u0633\u0627\u062e\u062a\u0627\u0631 \u062f\u0627\u062f\u0647 \u06cc nested \u0631\u0627 \u0628\u0647 \u062c\u0627\u06cc \u0645\u0634\u062e\u0635 \u06a9\u0631\u062f\u0646 \u0633\u062a\u0648\u0646 \u0647\u0627\u06cc \u0622\u0646 \u0642\u0631\u0627\u0631 \u062f\u0647\u062f\u060c \u0639\u0628\u0627\u0631\u062a ARRAY JOIN \u0627\u0633\u062a. \u0628\u0631\u0627\u06cc \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0628\u06cc\u0634\u062a\u0631 \"ARRAY JOIN clouse\" \u0631\u0627 \u0628\u0628\u06cc\u0646\u06cc\u062f. \u0645\u062b\u0627\u0644:</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span>\n    <span class=\"n\">Goal</span><span class=\"p\">.</span><span class=\"n\">ID</span><span class=\"p\">,</span>\n    <span class=\"n\">Goal</span><span class=\"p\">.</span><span class=\"n\">EventTime</span>\n<span class=\"k\">FROM</span> <span class=\"n\">test</span><span class=\"p\">.</span><span class=\"n\">visits</span>\n<span class=\"nb\">ARRAY</span> <span class=\"k\">JOIN</span> <span class=\"n\">Goals</span> <span class=\"k\">AS</span> <span class=\"n\">Goal</span>\n<span class=\"k\">WHERE</span> <span class=\"n\">CounterID</span> <span class=\"o\">=</span> <span class=\"mi\">101500</span> <span class=\"k\">AND</span> <span class=\"k\">length</span><span class=\"p\">(</span><span class=\"n\">Goals</span><span class=\"p\">.</span><span class=\"n\">ID</span><span class=\"p\">)</span> <span class=\"o\">&lt;</span> <span class=\"mi\">5</span>\n<span class=\"k\">LIMIT</span> <span class=\"mi\">10</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500Goal.ID\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500Goal.EventTime\u2500\u2510</span>\n<span class=\"err\">\u2502 1073752 \u2502 2014-03-17 16:38:10 \u2502</span>\n<span class=\"err\">\u2502  591325 \u2502 2014-03-17 16:38:48 \u2502</span>\n<span class=\"err\">\u2502  591325 \u2502 2014-03-17 16:42:27 \u2502</span>\n<span class=\"err\">\u2502 1073752 \u2502 2014-03-17 00:28:25 \u2502</span>\n<span class=\"err\">\u2502 1073752 \u2502 2014-03-17 10:46:20 \u2502</span>\n<span class=\"err\">\u2502 1073752 \u2502 2014-03-17 13:59:20 \u2502</span>\n<span class=\"err\">\u2502  591325 \u2502 2014-03-17 22:17:55 \u2502</span>\n<span class=\"err\">\u2502  591325 \u2502 2014-03-17 22:18:07 \u2502</span>\n<span class=\"err\">\u2502  591325 \u2502 2014-03-17 22:18:51 \u2502</span>\n<span class=\"err\">\u2502 1073752 \u2502 2014-03-17 11:37:06 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<div dir=\"rtl\">\n<p>\u0634\u0645\u0627 \u0646\u0645\u06cc\u062a\u0648\u0627\u0646\u06cc\u062f \u062f\u0631 \u0642\u0633\u0645\u062a SELECT \u062a\u0645\u0627\u0645 \u0633\u0627\u062e\u062a\u0627\u0631 \u062f\u0627\u062f\u0647 \u06cc nested \u0631\u0627 \u0642\u0631\u0627\u0631 \u062f\u0647\u06cc\u062f. \u0634\u0645\u0627 \u0641\u0642\u0637 \u0645\u06cc \u062a\u0648\u0627\u0646\u06cc\u062f \u0633\u062a\u0648\u0646 \u0647\u0627\u06cc \u0641\u0631\u062f\u06cc \u06a9\u0647 \u0647\u0631 \u06a9\u062f\u0627\u0645 \u0628\u062e\u0634\u06cc \u0627\u0632 \u0627\u06cc\u0646 \u0633\u0627\u062e\u062a\u0627\u0631 \u062f\u0627\u062f\u0647 \u0647\u0633\u062a\u0646\u062f \u0631\u0627 \u0644\u06cc\u0633\u062a \u06a9\u0646\u06cc\u062f.</p>\n<p>\u0628\u0631\u0627\u06cc INSERT\u060c \u0634\u0645\u0627 \u0628\u0627\u06cc\u062f \u062a\u0645\u0627\u0645 \u0633\u062a\u0648\u0646 \u0647\u0627\u06cc nested \u0631\u0627 \u0628\u0647 \u0635\u0648\u0631\u062a \u062c\u062f\u0627 \u067e\u0627\u0633 \u0628\u062f\u06cc\u062f. \u062f\u0631 \u062d\u06cc\u0646 \u062f\u0631\u062c\u060c \u0633\u06cc\u0633\u062a\u0645 \u0628\u0631\u0631\u0633\u06cc \u0645\u06cc \u06a9\u0646\u062f \u06a9\u0647 \u062a\u0645\u0627\u0645 \u0622\u0646\u0647\u0627 \u0637\u0648\u0644 \u06cc\u06a9\u0633\u0627\u0646\u06cc \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u0646\u062f.</p>\n<p>\u0628\u0631\u0627\u06cc \u062f\u0633\u062a\u0648\u0631 DESCRIBE\u060c \u0633\u062a\u0648\u0646 \u0647\u0627\u06cc \u062f\u0627\u062e\u0644 nested\u060c \u0628\u0647 \u0635\u0648\u0631\u062a \u062c\u062f\u0627 \u0633\u062a\u0648\u0646 \u0645\u06cc \u0634\u0648\u0646\u062f.</p>\n<p>\u062f\u0633\u062a\u0648\u0631 ALTER \u0628\u0631\u0627\u06cc \u0639\u0646\u0627\u0635\u0631 \u062f\u0627\u062e\u0644 nested \u0628\u0633\u06cc\u0627\u0631 \u0645\u062d\u062f\u0648\u062f \u0627\u0633\u062a.</p>\n</div>\n<p><a name=\"special_data_types/\"></a>\n<a name=\"../../../../../data_types/special_data_types/\"></a>\n<a name=\"../../../data_types/special_data_types/\"></a>\n<a name=\"data_types/special_data_types/\"></a>\n<a name=\"../../data_types/special_data_types/\"></a>\n<a name=\"../../../../data_types/special_data_types/\"></a>\n<a name=\"../data_types/special_data_types/\"></a></p>\n<div dir=\"rtl\">\n<h2 id=\"special-data-types\">Special data types<a class=\"headerlink\" href=\"#special-data-types\" title=\"Permanent link\">&para;</a></h2>\n<p>\u0645\u0642\u0627\u062f\u06cc\u0631 \u0646\u0648\u0639 \u062f\u0627\u062f\u0647 special\u060c \u0646\u0645\u06cc\u062a\u0648\u0627\u0646\u0646\u062f \u062f\u0631 \u062f\u0631 \u062c\u062f\u0648\u0644 \u0630\u062e\u06cc\u0631\u0647 \u0648 \u06cc\u0627 \u062f\u0631 \u0646\u062a\u0627\u06cc\u062c \u062e\u0631\u0648\u062c\u06cc \u0642\u0631\u0627\u0631 \u0628\u06af\u06cc\u0631\u0646\u062f\u060c \u0627\u0645\u0627 \u062f\u0631 \u0646\u062a\u0627\u06cc\u062c \u0645\u062a\u0648\u0633\u0637 (intermediate) \u06cc\u06a9 query \u062f\u0631 \u062d\u0627\u0644 \u0627\u062c\u0631\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u0646\u062f.</p>\n</div>\n<p><a name=\"../../../special_../expression/\"></a>\n<a name=\"../../data_types/special_data_types/expression/\"></a>\n<a name=\"expression/\"></a>\n<a name=\"../../../../../../special_../expression/\"></a>\n<a name=\"../../../../special_../expression/\"></a>\n<a name=\"../../../../../data_types/special_data_types/expression/\"></a>\n<a name=\"../special_../expression/\"></a>\n<a name=\"../../../../data_types/special_data_types/expression/\"></a>\n<a name=\"special_data_types/expression/\"></a>\n<a name=\"../../special_../expression/\"></a>\n<a name=\"../../../data_types/special_data_types/expression/\"></a>\n<a name=\"data_types/special_data_types/expression/\"></a>\n<a name=\"../data_types/special_data_types/expression/\"></a>\n<a name=\"../../../../../special_../expression/\"></a></p>\n<div dir=\"rtl\">\n<h2 id=\"expression\">Expression<a class=\"headerlink\" href=\"#expression\" title=\"Permanent link\">&para;</a></h2>\n<p>\u0628\u0631\u0627\u06cc \u0646\u0634\u0627\u0646 \u062f\u0627\u062f\u0646 \u062a\u0648\u0627\u0628\u0639 \u0644\u0627\u0645\u0628\u062f\u0627 \u062f\u0631 \u062a\u0648\u0627\u0628\u0639 high-order \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f.</p>\n</div>\n<p><a name=\"../../../../special_../set/\"></a>\n<a name=\"../../data_types/special_data_types/set/\"></a>\n<a name=\"../../../../../../special_../set/\"></a>\n<a name=\"../../../data_types/special_data_types/set/\"></a>\n<a name=\"special_data_types/set/\"></a>\n<a name=\"set/\"></a>\n<a name=\"../data_types/special_data_types/set/\"></a>\n<a name=\"../../../../../data_types/special_data_types/set/\"></a>\n<a name=\"../../../special_../set/\"></a>\n<a name=\"../../special_../set/\"></a>\n<a name=\"../special_../set/\"></a>\n<a name=\"../../../../../special_../set/\"></a>\n<a name=\"data_types/special_data_types/set/\"></a>\n<a name=\"../../../../data_types/special_data_types/set/\"></a></p>\n<div dir=\"rtl\">\n<h2 id=\"set\">Set<a class=\"headerlink\" href=\"#set\" title=\"Permanent link\">&para;</a></h2>\n<p>\u0628\u0631\u0627\u06cc \u0646\u0635\u0641 \u0633\u0645\u062a \u0631\u0627\u0633\u062a IN \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f.</p>\n</div>\n<p><a name=\"../../data_types/special_data_types/nothing/\"></a>\n<a name=\"../../../../special_../nothing/\"></a>\n<a name=\"../special_../nothing/\"></a>\n<a name=\"../../../../../special_../nothing/\"></a>\n<a name=\"../data_types/special_data_types/nothing/\"></a>\n<a name=\"special_data_types/nothing/\"></a>\n<a name=\"../../../special_../nothing/\"></a>\n<a name=\"../../special_../nothing/\"></a>\n<a name=\"../../../../data_types/special_data_types/nothing/\"></a>\n<a name=\"../../../../../../special_../nothing/\"></a>\n<a name=\"nothing/\"></a>\n<a name=\"../../../../../data_types/special_data_types/nothing/\"></a>\n<a name=\"../../../data_types/special_data_types/nothing/\"></a>\n<a name=\"data_types/special_data_types/nothing/\"></a></p>\n<h2 id=\"nothing\">Nothing<a class=\"headerlink\" href=\"#nothing\" title=\"Permanent link\">&para;</a></h2>\n<p>The only purpose of this data type is to represent cases where value is not expected. So you can't create a <code>Nothing</code> type value.</p>\n<p>For example, literal <a href=\"#null-literal\">NULL</a> has type of <code>Nullable(Nothing)</code>. See more about <a href=\"#../../data_types/nullable/\">Nullable</a>.</p>\n<p>The <code>Nothing</code> type can also used to denote empty arrays:</p>\n<div class=\"codehilite\"><pre><span></span>:<span class=\"o\">)</span> SELECT toTypeName<span class=\"o\">(</span>array<span class=\"o\">())</span>\n\nSELECT toTypeName<span class=\"o\">([])</span>\n\n\u250c\u2500toTypeName<span class=\"o\">(</span>array<span class=\"o\">())</span>\u2500\u2510\n\u2502 Array<span class=\"o\">(</span>Nothing<span class=\"o\">)</span>      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n<span class=\"m\">1</span> rows in set. Elapsed: <span class=\"m\">0</span>.062 sec.\n</pre></div>\n\n\n<p><a name=\"../../../../../operations/table_engines/\"></a>\n<a name=\"table_engines/\"></a>\n<a name=\"../../../operations/table_engines/\"></a>\n<a name=\"../operations/table_engines/\"></a>\n<a name=\"../../../../operations/table_engines/\"></a>\n<a name=\"operations/table_engines/\"></a>\n<a name=\"../../operations/table_engines/\"></a></p>\n<h2 id=\"table_engines\">Table engines<a class=\"headerlink\" href=\"#table_engines\" title=\"Permanent link\">&para;</a></h2>\n<p>The table engine (type of table) determines:</p>\n<ul>\n<li>How and where data is stored, where to write it to, and where to read it from.</li>\n<li>Which queries are supported, and how.</li>\n<li>Concurrent data access.</li>\n<li>Use of indexes, if present.</li>\n<li>Whether multithreaded request execution is possible.</li>\n<li>Data replication parameters.</li>\n</ul>\n<p>When reading, the engine is only required to output the requested columns, but in some cases the engine can partially process data when responding to the request.</p>\n<p>For most serious tasks, you should use engines from the <code>MergeTree</code> family.</p>\n<p><a name=\"table_engines/mergetree/\"></a>\n<a name=\"../table_engines/mergetree/\"></a>\n<a name=\"../../table_engines/mergetree/\"></a>\n<a name=\"../../../../operations/table_engines/mergetree/\"></a>\n<a name=\"operations/table_engines/mergetree/\"></a>\n<a name=\"../../../../../../table_engines/mergetree/\"></a>\n<a name=\"../../../table_engines/mergetree/\"></a>\n<a name=\"../../../../../table_engines/mergetree/\"></a>\n<a name=\"../../../../../operations/table_engines/mergetree/\"></a>\n<a name=\"../../../../table_engines/mergetree/\"></a>\n<a name=\"../../../operations/table_engines/mergetree/\"></a>\n<a name=\"mergetree/\"></a>\n<a name=\"../operations/table_engines/mergetree/\"></a>\n<a name=\"../../operations/table_engines/mergetree/\"></a></p>\n<h2 id=\"table_engines-mergetree\">MergeTree<a class=\"headerlink\" href=\"#table_engines-mergetree\" title=\"Permanent link\">&para;</a></h2>\n<p>The <code>MergeTree</code> engine and other engines of this family (<code>*MergeTree</code>) are the most robust ClickHous\u0435 table engines.</p>\n<p>The basic idea for <code>MergeTree</code> engines family is the following. When you have tremendous amount of a data that should be inserted into the table, you should write them quickly part by part and then merge parts by some rules in background. This method is much more efficient than constantly rewriting data in the storage at the insert.</p>\n<p>Main features:</p>\n<ul>\n<li>\n<p>Stores data sorted by primary key.</p>\n<p>This allows you to create a small sparse index that helps find data faster.</p>\n</li>\n<li>\n<p>This allows you to use partitions if the <a href=\"#custom_partitioning_key/\">partitioning key</a> is specified.</p>\n<p>ClickHouse supports certain operations with partitions that are more effective than general operations on the same data with the same result. ClickHouse also automatically cuts off the partition data where the partitioning key is specified in the query. This also increases the query performance.</p>\n</li>\n<li>\n<p>Data replication support.</p>\n<p>The family of <code>ReplicatedMergeTree</code> tables is used for this. For more information, see the <a href=\"#replication/\">Data replication</a> section.</p>\n</li>\n<li>\n<p>Data sampling support.</p>\n<p>If necessary, you can set the data sampling method in the table.</p>\n</li>\n</ul>\n<div class=\"admonition info\">\n<p class=\"admonition-title\">Info</p>\n<p>The <a href=\"#merge/\">Merge</a> engine does not belong to the <code>*MergeTree</code> family.</p>\n</div>\n<h3 id=\"table_engine-mergetree-creating-a-table\">Creating a Table<a class=\"headerlink\" href=\"#table_engine-mergetree-creating-a-table\" title=\"Permanent link\">&para;</a></h3>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">CREATE</span> <span class=\"n\">TABLE</span> <span class=\"p\">[</span><span class=\"n\">IF</span> <span class=\"n\">NOT</span> <span class=\"n\">EXISTS</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">db</span><span class=\"p\">.]</span><span class=\"n\">table_name</span> <span class=\"p\">[</span><span class=\"n\">ON</span> <span class=\"n\">CLUSTER</span> <span class=\"n\">cluster</span><span class=\"p\">]</span>\n<span class=\"p\">(</span>\n    <span class=\"n\">name1</span> <span class=\"p\">[</span><span class=\"n\">type1</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">DEFAULT</span><span class=\"o\">|</span><span class=\"n\">MATERIALIZED</span><span class=\"o\">|</span><span class=\"n\">ALIAS</span> <span class=\"n\">expr1</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">TTL</span> <span class=\"n\">expr1</span><span class=\"p\">],</span>\n    <span class=\"n\">name2</span> <span class=\"p\">[</span><span class=\"n\">type2</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">DEFAULT</span><span class=\"o\">|</span><span class=\"n\">MATERIALIZED</span><span class=\"o\">|</span><span class=\"n\">ALIAS</span> <span class=\"n\">expr2</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">TTL</span> <span class=\"n\">expr2</span><span class=\"p\">],</span>\n    <span class=\"p\">...</span>\n    <span class=\"n\">INDEX</span> <span class=\"n\">index_name1</span> <span class=\"n\">expr1</span> <span class=\"n\">TYPE</span> <span class=\"n\">type1</span><span class=\"p\">(...)</span> <span class=\"n\">GRANULARITY</span> <span class=\"n\">value1</span><span class=\"p\">,</span>\n    <span class=\"n\">INDEX</span> <span class=\"n\">index_name2</span> <span class=\"n\">expr2</span> <span class=\"n\">TYPE</span> <span class=\"n\">type2</span><span class=\"p\">(...)</span> <span class=\"n\">GRANULARITY</span> <span class=\"n\">value2</span>\n<span class=\"p\">)</span> <span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">MergeTree</span><span class=\"p\">()</span>\n<span class=\"p\">[</span><span class=\"n\">PARTITION</span> <span class=\"n\">BY</span> <span class=\"n\">expr</span><span class=\"p\">]</span>\n<span class=\"p\">[</span><span class=\"n\">ORDER</span> <span class=\"n\">BY</span> <span class=\"n\">expr</span><span class=\"p\">]</span>\n<span class=\"p\">[</span><span class=\"n\">PRIMARY</span> <span class=\"n\">KEY</span> <span class=\"n\">expr</span><span class=\"p\">]</span>\n<span class=\"p\">[</span><span class=\"n\">SAMPLE</span> <span class=\"n\">BY</span> <span class=\"n\">expr</span><span class=\"p\">]</span>\n<span class=\"p\">[</span><span class=\"n\">TTL</span> <span class=\"n\">expr</span><span class=\"p\">]</span>\n<span class=\"p\">[</span><span class=\"n\">SETTINGS</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"n\">value</span><span class=\"p\">,</span> <span class=\"p\">...]</span>\n</pre></div>\n\n\n<p>For a description of request parameters, see <a href=\"#../../query_language/create/\">request description</a>.</p>\n<p><strong>Query clauses</strong></p>\n<ul>\n<li>\n<p><code>ENGINE</code> - Name and parameters of the engine. <code>ENGINE = MergeTree()</code>. <code>MergeTree</code> engine does not have parameters.</p>\n</li>\n<li>\n<p><code>PARTITION BY</code> \u2014 The <a href=\"#custom_partitioning_key/\">partitioning key</a>.</p>\n<p>For partitioning by month, use the <code>toYYYYMM(date_column)</code> expression, where <code>date_column</code> is a column with a date of the type <a href=\"#../../data_types/date/\">Date</a>. The partition names here have the <code>\"YYYYMM\"</code> format.</p>\n</li>\n<li>\n<p><code>ORDER BY</code> \u2014 The sorting key.</p>\n<p>A tuple of columns or arbitrary expressions. Example: <code>ORDER BY (CounterID, EventDate)</code>.</p>\n</li>\n<li>\n<p><code>PRIMARY KEY</code> - The primary key if it <a href=\"#mergetree/\">differs from the sorting key</a>.</p>\n<p>By default the primary key is the same as the sorting key (which is specified by the <code>ORDER BY</code> clause). Thus in most cases it is unnecessary to specify a separate <code>PRIMARY KEY</code> clause.</p>\n</li>\n<li>\n<p><code>SAMPLE BY</code> \u2014 An expression for sampling.</p>\n<p>If a sampling expression is used, the primary key must contain it. Example: <code>SAMPLE BY intHash32(UserID) ORDER BY (CounterID, EventDate, intHash32(UserID))</code>.</p>\n</li>\n<li>\n<p><code>TTL</code> - An expression for setting storage time for rows. </p>\n<p>It must depends on <code>Date</code> or <code>DateTime</code> column and has one <code>Date</code> or <code>DateTime</code> column as a result. Example:\n<code>TTL date + INTERVAL 1 DAY</code></p>\n<p>For more details, see <a href=\"#mergetree/\">TTL for columns and tables</a></p>\n</li>\n<li>\n<p><code>SETTINGS</code> \u2014 Additional parameters that control the behavior of the <code>MergeTree</code>:</p>\n<ul>\n<li><code>index_granularity</code> \u2014 The granularity of an index. The number of data rows between the \"marks\" of an index. By default, 8192. The list of all available parameters you can see in <a href=\"https://github.com/yandex/ClickHouse/blob/master/dbms/src/Storages/MergeTree/MergeTreeSettings.h\" rel=\"external nofollow\">MergeTreeSettings.h</a>.</li>\n<li><code>use_minimalistic_part_header_in_zookeeper</code> \u2014 Storage method of the data parts headers in ZooKeeper. If  <code>use_minimalistic_part_header_in_zookeeper=1</code>, then ZooKeeper stores less data. For more information refer the <a href=\"#server-settings-use_minimalistic_part_header_in_zookeeper\">setting description</a> in the \"Server configuration parameters\" chapter.</li>\n<li><code>min_merge_bytes_to_use_direct_io</code> \u2014 The minimum data volume for merge operation required for using of the direct I/O access to the storage disk. During the merging of the data parts, ClickHouse calculates summary storage volume of all the data to be merged. If the volume exceeds <code>min_merge_bytes_to_use_direct_io</code> bytes, then ClickHouse reads and writes the data using direct I/O interface (<code>O_DIRECT</code> option) to the storage disk. If <code>min_merge_bytes_to_use_direct_io = 0</code>, then the direct I/O is disabled. Default value: <code>10 * 1024 * 1024 * 1024</code> bytes.</li>\n<li><code>merge_with_ttl_timeout</code> - Minimal time in seconds, when merge with TTL can be repeated. Default value: 86400 (1 day).</li>\n</ul>\n</li>\n</ul>\n<p><strong>Example of sections setting</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">ENGINE MergeTree() PARTITION BY toYYYYMM(EventDate) ORDER BY (CounterID, EventDate, intHash32(UserID)) SAMPLE BY intHash32(UserID) SETTINGS index_granularity=8192</span>\n</pre></div>\n\n\n<p>In the example, we set partitioning by month.</p>\n<p>We also set an expression for sampling as a hash by the user ID. This allows you to pseudorandomize the data in the table for each <code>CounterID</code> and <code>EventDate</code>. If, when selecting the data, you define a <a href=\"#select-sample-clause\">SAMPLE</a> clause, ClickHouse will return an evenly pseudorandom data sample for a subset of users.</p>\n<p><code>index_granularity</code> could be omitted because 8192 is the default value.</p>\n<p><details markdown=\"1\"><summary>Deprecated Method for Creating a Table</summary></p>\n<div class=\"admonition attention\">\n<p class=\"admonition-title\">Attention</p>\n<p>Do not use this method in new projects and, if possible, switch the old projects to the method described above.</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span><span class=\"w\"> </span><span class=\"nc\">TABLE</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">IF NOT EXISTS</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">db.</span><span class=\"o\">]</span><span class=\"n\">table_name</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">ON CLUSTER cluster</span><span class=\"o\">]</span><span class=\"w\"></span>\n<span class=\"p\">(</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">name1</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">type1</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">DEFAULT|MATERIALIZED|ALIAS expr1</span><span class=\"o\">]</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">name2</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">type2</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">DEFAULT|MATERIALIZED|ALIAS expr2</span><span class=\"o\">]</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">...</span><span class=\"w\"></span>\n<span class=\"p\">)</span><span class=\"w\"> </span><span class=\"n\">ENGINE</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">=</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">MergeTree</span><span class=\"p\">(</span><span class=\"nc\">date</span><span class=\"o\">-</span><span class=\"k\">column</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">, sampling_expression</span><span class=\"o\">]</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"k\">primary</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"k\">key</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">index_granularity</span><span class=\"p\">)</span><span class=\"w\"></span>\n</pre></div>\n\n\n<p><strong>MergeTree() parameters</strong></p>\n<ul>\n<li><code>date-column</code> \u2014 The name of a column of the type <a href=\"#../../data_types/date/\">Date</a>. ClickHouse automatically creates partitions by month on the basis of this column. The partition names are in the <code>\"YYYYMM\"</code> format.</li>\n<li><code>sampling_expression</code> \u2014 an expression for sampling.</li>\n<li><code>(primary, key)</code> \u2014 primary key. Type \u2014 <a href=\"#../../data_types/tuple/\">Tuple()</a></li>\n<li><code>index_granularity</code> \u2014 The granularity of an index. The number of data rows between the \"marks\" of an index. The value 8192 is appropriate for most tasks.</li>\n</ul>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">MergeTree(EventDate, intHash32(UserID), (CounterID, EventDate, intHash32(UserID)), 8192)</span>\n</pre></div>\n\n\n<p>The <code>MergeTree</code> engine is configured in the same way as in the example above for the main engine configuration method.\n</details></p>\n<h3 id=\"data-storage\">Data Storage<a class=\"headerlink\" href=\"#data-storage\" title=\"Permanent link\">&para;</a></h3>\n<p>A table consists of data <em>parts</em> sorted by primary key.</p>\n<p>When data is inserted in a table, separate data parts are created and each of them is lexicographically sorted by primary key. For example, if the primary key is <code>(CounterID, Date)</code>, the data in the part is sorted by <code>CounterID</code>, and within each <code>CounterID</code>, it is ordered by <code>Date</code>.</p>\n<p>Data belonging to different partitions are separated into different parts. In the background, ClickHouse merges data parts for more efficient storage. Parts belonging to different partitions are not merged. The merge mechanism does not guarantee that all rows with the same primary key will be in the same data part.</p>\n<p>For each data part, ClickHouse creates an index file that contains the primary key value for each index row (\"mark\"). Index row numbers are defined as <code>n * index_granularity</code>. The maximum value <code>n</code> is equal to the integer part of dividing the total number of rows by the <code>index_granularity</code>. For each column, the \"marks\" are also written for the same index rows as the primary key. These \"marks\" allow you to find the data directly in the columns.</p>\n<p>You can use a single large table and continually add data to it in small chunks \u2013 this is what the <code>MergeTree</code> engine is intended for.</p>\n<h3 id=\"primary-keys-and-indexes-in-queries\">Primary Keys and Indexes in Queries<a class=\"headerlink\" href=\"#primary-keys-and-indexes-in-queries\" title=\"Permanent link\">&para;</a></h3>\n<p>Let's take the <code>(CounterID, Date)</code> primary key. In this case, the sorting and index can be illustrated as follows:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">Whole</span><span class=\"w\"> </span><span class=\"k\">data</span><span class=\"err\">:</span><span class=\"w\">     </span><span class=\"o\">[</span><span class=\"n\">-------------------------------------------------------------------------</span><span class=\"o\">]</span><span class=\"w\"></span>\n<span class=\"nl\">CounterID</span><span class=\"p\">:</span><span class=\"w\">      </span><span class=\"o\">[</span><span class=\"n\">aaaaaaaaaaaaaaaaaabbbbcdeeeeeeeeeeeeefgggggggghhhhhhhhhiiiiiiiiikllllllll</span><span class=\"o\">]</span><span class=\"w\"></span>\n<span class=\"nc\">Date</span><span class=\"err\">:</span><span class=\"w\">           </span><span class=\"o\">[</span><span class=\"n\">1111111222222233331233211111222222333211111112122222223111112223311122333</span><span class=\"o\">]</span><span class=\"w\"></span>\n<span class=\"nl\">Marks</span><span class=\"p\">:</span><span class=\"w\">           </span><span class=\"o\">|</span><span class=\"w\">      </span><span class=\"o\">|</span><span class=\"w\">      </span><span class=\"o\">|</span><span class=\"w\">      </span><span class=\"o\">|</span><span class=\"w\">      </span><span class=\"o\">|</span><span class=\"w\">      </span><span class=\"o\">|</span><span class=\"w\">      </span><span class=\"o\">|</span><span class=\"w\">      </span><span class=\"o\">|</span><span class=\"w\">      </span><span class=\"o\">|</span><span class=\"w\">      </span><span class=\"o\">|</span><span class=\"w\">      </span><span class=\"o\">|</span><span class=\"w\"></span>\n<span class=\"w\">                </span><span class=\"n\">a</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"w\">    </span><span class=\"n\">a</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"w\">    </span><span class=\"n\">a</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"w\">    </span><span class=\"n\">b</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"w\">    </span><span class=\"n\">e</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"w\">    </span><span class=\"n\">e</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"w\">    </span><span class=\"n\">g</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"w\">    </span><span class=\"n\">h</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"w\">    </span><span class=\"n\">i</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"w\">    </span><span class=\"n\">i</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"w\">    </span><span class=\"n\">l</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"w\"></span>\n<span class=\"n\">Marks</span><span class=\"w\"> </span><span class=\"nl\">numbers</span><span class=\"p\">:</span><span class=\"w\">   </span><span class=\"mi\">0</span><span class=\"w\">      </span><span class=\"mi\">1</span><span class=\"w\">      </span><span class=\"mi\">2</span><span class=\"w\">      </span><span class=\"mi\">3</span><span class=\"w\">      </span><span class=\"mi\">4</span><span class=\"w\">      </span><span class=\"mi\">5</span><span class=\"w\">      </span><span class=\"mi\">6</span><span class=\"w\">      </span><span class=\"mi\">7</span><span class=\"w\">      </span><span class=\"mi\">8</span><span class=\"w\">      </span><span class=\"mi\">9</span><span class=\"w\">      </span><span class=\"mi\">10</span><span class=\"w\"></span>\n</pre></div>\n\n\n<p>If the data query specifies:</p>\n<ul>\n<li><code>CounterID in ('a', 'h')</code>, the server reads the data in the ranges of marks <code>[0, 3)</code> and <code>[6, 8)</code>.</li>\n<li><code>CounterID IN ('a', 'h') AND Date = 3</code>, the server reads the data in the ranges of marks <code>[1, 3)</code> and <code>[7, 8)</code>.</li>\n<li><code>Date = 3</code>, the server reads the data in the range of marks <code>[1, 10]</code>.</li>\n</ul>\n<p>The examples above show that it is always more effective to use an index than a full scan.</p>\n<p>A sparse index allows extra data to be read. When reading a single range of the primary key, up to <code>index_granularity * 2</code> extra rows in each data block can be read. In most cases, ClickHouse performance does not degrade when <code>index_granularity = 8192</code>.</p>\n<p>Sparse indexes allow you to work with a very large number of table rows, because such indexes are always stored in the computer's RAM.</p>\n<p>ClickHouse does not require a unique primary key. You can insert multiple rows with the same primary key.</p>\n<h4 id=\"selecting-the-primary-key\">Selecting the Primary Key<a class=\"headerlink\" href=\"#selecting-the-primary-key\" title=\"Permanent link\">&para;</a></h4>\n<p>The number of columns in the primary key is not explicitly limited. Depending on the data structure, you can include more or fewer columns in the primary key. This may:</p>\n<ul>\n<li>\n<p>Improve the performance of an index.</p>\n<p>If the primary key is <code>(a, b)</code>, then adding another column <code>c</code> will improve the performance if the following conditions are met:\n- There are queries with a condition on column <code>c</code>.\n- Long data ranges (several times longer than the <code>index_granularity</code>) with identical values for <code>(a, b)</code> are common. In other words, when adding another column allows you to skip quite long data ranges.</p>\n</li>\n<li>\n<p>Improve data compression.</p>\n<p>ClickHouse sorts data by primary key, so the higher the consistency, the better the compression.</p>\n</li>\n<li>\n<p>Provide additional logic when data parts merging in the <a href=\"#table_engine-collapsingmergetree\">CollapsingMergeTree</a> and <a href=\"#summingmergetree/\">SummingMergeTree</a> engines.</p>\n<p>In this case it makes sense to specify the <em>sorting key</em> that is different from the primary key.</p>\n</li>\n</ul>\n<p>A long primary key will negatively affect the insert performance and memory consumption, but extra columns in the primary key do not affect ClickHouse performance during <code>SELECT</code> queries.</p>\n<h4 id=\"choosing-the-primary-key-that-differs-from-the-sorting-key\">Choosing the Primary Key that differs from the Sorting Key<a class=\"headerlink\" href=\"#choosing-the-primary-key-that-differs-from-the-sorting-key\" title=\"Permanent link\">&para;</a></h4>\n<p>It is possible to specify the primary key (the expression, values of which are written into the index file\nfor each mark) that is different from the sorting key (the expression for sorting the rows in data parts).\nIn this case the primary key expression tuple must be a prefix of the sorting key expression tuple.</p>\n<p>This feature is helpful when using the <a href=\"#summingmergetree/\">SummingMergeTree</a> and\n<a href=\"#aggregatingmergetree/\">AggregatingMergeTree</a> table engines. In a common case when using these engines the\ntable has two types of columns: <em>dimensions</em> and <em>measures</em>. Typical queries aggregate values of measure\ncolumns with arbitrary <code>GROUP BY</code> and filtering by dimensions. As SummingMergeTree and AggregatingMergeTree\naggregate rows with the same value of the sorting key, it is natural to add all dimensions to it. As a result\nthe key expression consists of a long list of columns and this list must be frequently updated with newly\nadded dimensions.</p>\n<p>In this case it makes sense to leave only a few columns in the primary key that will provide efficient\nrange scans and add the remaining dimension columns to the sorting key tuple.</p>\n<p><a href=\"#../../query_language/alter/\">ALTER of the sorting key</a> is a lightweight operation because when a new column is simultaneously added to the table and to the sorting key, existing data parts don't need to be changed. Since the old sorting key is a prefix of the new sorting key and there is no data in the just added column, the data at the moment of table modification is sorted by both the old and the new sorting key.</p>\n<h4 id=\"use-of-indexes-and-partitions-in-queries\">Use of Indexes and Partitions in Queries<a class=\"headerlink\" href=\"#use-of-indexes-and-partitions-in-queries\" title=\"Permanent link\">&para;</a></h4>\n<p>For<code>SELECT</code> queries, ClickHouse analyzes whether an index can be used. An index can be used if the <code>WHERE/PREWHERE</code> clause has an expression (as one of the conjunction elements, or entirely) that represents an equality or inequality comparison operation, or if it has <code>IN</code> or <code>LIKE</code> with a fixed prefix on columns or expressions that are in the primary key or partitioning key, or on certain partially repetitive functions of these columns, or logical relationships of these expressions.</p>\n<p>Thus, it is possible to quickly run queries on one or many ranges of the primary key. In this example, queries will be fast when run for a specific tracking tag; for a specific tag and date range; for a specific tag and date; for multiple tags with a date range, and so on.</p>\n<p>Let's look at the engine configured as follows:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">ENGINE MergeTree() PARTITION BY toYYYYMM(EventDate) ORDER BY (CounterID, EventDate) SETTINGS index_granularity=8192</span>\n</pre></div>\n\n\n<p>In this case, in queries:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"k\">count</span><span class=\"p\">()</span> <span class=\"k\">FROM</span> <span class=\"k\">table</span> <span class=\"k\">WHERE</span> <span class=\"n\">EventDate</span> <span class=\"o\">=</span> <span class=\"n\">toDate</span><span class=\"p\">(</span><span class=\"n\">now</span><span class=\"p\">())</span> <span class=\"k\">AND</span> <span class=\"n\">CounterID</span> <span class=\"o\">=</span> <span class=\"mi\">34</span>\n<span class=\"k\">SELECT</span> <span class=\"k\">count</span><span class=\"p\">()</span> <span class=\"k\">FROM</span> <span class=\"k\">table</span> <span class=\"k\">WHERE</span> <span class=\"n\">EventDate</span> <span class=\"o\">=</span> <span class=\"n\">toDate</span><span class=\"p\">(</span><span class=\"n\">now</span><span class=\"p\">())</span> <span class=\"k\">AND</span> <span class=\"p\">(</span><span class=\"n\">CounterID</span> <span class=\"o\">=</span> <span class=\"mi\">34</span> <span class=\"k\">OR</span> <span class=\"n\">CounterID</span> <span class=\"o\">=</span> <span class=\"mi\">42</span><span class=\"p\">)</span>\n<span class=\"k\">SELECT</span> <span class=\"k\">count</span><span class=\"p\">()</span> <span class=\"k\">FROM</span> <span class=\"k\">table</span> <span class=\"k\">WHERE</span> <span class=\"p\">((</span><span class=\"n\">EventDate</span> <span class=\"o\">&gt;=</span> <span class=\"n\">toDate</span><span class=\"p\">(</span><span class=\"s1\">&#39;2014-01-01&#39;</span><span class=\"p\">)</span> <span class=\"k\">AND</span> <span class=\"n\">EventDate</span> <span class=\"o\">&lt;=</span> <span class=\"n\">toDate</span><span class=\"p\">(</span><span class=\"s1\">&#39;2014-01-31&#39;</span><span class=\"p\">))</span> <span class=\"k\">OR</span> <span class=\"n\">EventDate</span> <span class=\"o\">=</span> <span class=\"n\">toDate</span><span class=\"p\">(</span><span class=\"s1\">&#39;2014-05-01&#39;</span><span class=\"p\">))</span> <span class=\"k\">AND</span> <span class=\"n\">CounterID</span> <span class=\"k\">IN</span> <span class=\"p\">(</span><span class=\"mi\">101500</span><span class=\"p\">,</span> <span class=\"mi\">731962</span><span class=\"p\">,</span> <span class=\"mi\">160656</span><span class=\"p\">)</span> <span class=\"k\">AND</span> <span class=\"p\">(</span><span class=\"n\">CounterID</span> <span class=\"o\">=</span> <span class=\"mi\">101500</span> <span class=\"k\">OR</span> <span class=\"n\">EventDate</span> <span class=\"o\">!=</span> <span class=\"n\">toDate</span><span class=\"p\">(</span><span class=\"s1\">&#39;2014-05-01&#39;</span><span class=\"p\">))</span>\n</pre></div>\n\n\n<p>ClickHouse will use the primary key index to trim improper data and the monthly partitioning key to trim partitions that are in improper date ranges.</p>\n<p>The queries above show that the index is used even for complex expressions. Reading from the table is organized so that using the index can't be slower than a full scan.</p>\n<p>In the example below, the index can't be used.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"k\">count</span><span class=\"p\">()</span> <span class=\"k\">FROM</span> <span class=\"k\">table</span> <span class=\"k\">WHERE</span> <span class=\"n\">CounterID</span> <span class=\"o\">=</span> <span class=\"mi\">34</span> <span class=\"k\">OR</span> <span class=\"n\">URL</span> <span class=\"k\">LIKE</span> <span class=\"s1\">&#39;%upyachka%&#39;</span>\n</pre></div>\n\n\n<p>To check whether ClickHouse can use the index when running a query, use the settings <a href=\"#settings-force_index_by_date\">force_index_by_date</a> and <a href=\"#../settings/settings/\">force_primary_key</a>.</p>\n<p>The key for partitioning by month allows reading only those data blocks which contain dates from the proper range. In this case, the data block may contain data for many dates (up to an entire month). Within a block, data is sorted by primary key, which might not contain the date as the first column. Because of this, using a query with only a date condition that does not specify the primary key prefix will cause more data to be read than for a single date.</p>\n<h4 id=\"data-skipping-indices-experimental\">Data Skipping Indices (Experimental)<a class=\"headerlink\" href=\"#data-skipping-indices-experimental\" title=\"Permanent link\">&para;</a></h4>\n<p>You need to set <code>allow_experimental_data_skipping_indices</code> to 1 to use indices.  (run <code>SET allow_experimental_data_skipping_indices = 1</code>).</p>\n<p>Index declaration in the columns section of the <code>CREATE</code> query.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">INDEX</span> <span class=\"n\">index_name</span> <span class=\"n\">expr</span> <span class=\"k\">TYPE</span> <span class=\"k\">type</span><span class=\"p\">(...)</span> <span class=\"n\">GRANULARITY</span> <span class=\"n\">granularity_value</span>\n</pre></div>\n\n\n<p>For tables from the <code>*MergeTree</code> family data skipping indices can be specified.</p>\n<p>These indices aggregate some information about the specified expression on blocks, which consist of <code>granularity_value</code> granules (size of the granule is specified using <code>index_granularity</code> setting in the table engine), then these aggregates are used in <code>SELECT</code> queries for reducing the amount of data to read from the disk by skipping big blocks of data where <code>where</code> query cannot be satisfied.</p>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"k\">table_name</span>\n<span class=\"p\">(</span>\n    <span class=\"n\">u64</span> <span class=\"n\">UInt64</span><span class=\"p\">,</span>\n    <span class=\"n\">i32</span> <span class=\"n\">Int32</span><span class=\"p\">,</span>\n    <span class=\"n\">s</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n    <span class=\"p\">...</span>\n    <span class=\"k\">INDEX</span> <span class=\"n\">a</span> <span class=\"p\">(</span><span class=\"n\">u64</span> <span class=\"o\">*</span> <span class=\"n\">i32</span><span class=\"p\">,</span> <span class=\"n\">s</span><span class=\"p\">)</span> <span class=\"k\">TYPE</span> <span class=\"n\">minmax</span> <span class=\"n\">GRANULARITY</span> <span class=\"mi\">3</span><span class=\"p\">,</span>\n    <span class=\"k\">INDEX</span> <span class=\"n\">b</span> <span class=\"p\">(</span><span class=\"n\">u64</span> <span class=\"o\">*</span> <span class=\"k\">length</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">))</span> <span class=\"k\">TYPE</span> <span class=\"k\">set</span><span class=\"p\">(</span><span class=\"mi\">1000</span><span class=\"p\">)</span> <span class=\"n\">GRANULARITY</span> <span class=\"mi\">4</span>\n<span class=\"p\">)</span> <span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">MergeTree</span><span class=\"p\">()</span>\n<span class=\"p\">...</span>\n</pre></div>\n\n\n<p>Indices from the example can be used by ClickHouse to reduce the amount of data to read from disk in following queries.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"k\">count</span><span class=\"p\">()</span> <span class=\"k\">FROM</span> <span class=\"k\">table</span> <span class=\"k\">WHERE</span> <span class=\"n\">s</span> <span class=\"o\">&lt;</span> <span class=\"s1\">&#39;z&#39;</span>\n<span class=\"k\">SELECT</span> <span class=\"k\">count</span><span class=\"p\">()</span> <span class=\"k\">FROM</span> <span class=\"k\">table</span> <span class=\"k\">WHERE</span> <span class=\"n\">u64</span> <span class=\"o\">*</span> <span class=\"n\">i32</span> <span class=\"o\">==</span> <span class=\"mi\">10</span> <span class=\"k\">AND</span> <span class=\"n\">u64</span> <span class=\"o\">*</span> <span class=\"k\">length</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">)</span> <span class=\"o\">&gt;=</span> <span class=\"mi\">1234</span>\n</pre></div>\n\n\n<h5 id=\"available-types-of-indices\">Available Types of Indices<a class=\"headerlink\" href=\"#available-types-of-indices\" title=\"Permanent link\">&para;</a></h5>\n<ul>\n<li>\n<p><code>minmax</code></p>\n<p>Stores extremes of the specified expression (if the expression is <code>tuple</code>, then it stores extremes for each element of <code>tuple</code>), uses stored info for skipping blocks of the data like the primary key.</p>\n</li>\n<li>\n<p><code>set(max_rows)</code></p>\n<p>Stores unique values of the specified expression (no more than <code>max_rows</code> rows, <code>max_rows=0</code> means \"no limits\"), use them to check if the <code>WHERE</code> expression is not satisfiable on a block of the data.  </p>\n</li>\n<li>\n<p><code>ngrambf_v1(n, size_of_bloom_filter_in_bytes, number_of_hash_functions, random_seed)</code></p>\n<p>Stores <a href=\"https://en.wikipedia.org/wiki/Bloom_filter\" rel=\"external nofollow\">bloom filter</a> that contains all ngrams from block of data. Works only with strings. Can be used for optimization of <code>equals</code>, <code>like</code> and <code>in</code> expressions.</p>\n<ul>\n<li><code>n</code> \u2014 ngram size,</li>\n<li><code>size_of_bloom_filter_in_bytes</code> \u2014 bloom filter size in bytes (you can use big values here, for example, 256 or 512, because it can be compressed well),</li>\n<li><code>number_of_hash_functions</code> \u2014 number of hash functions used in bloom filter,</li>\n<li><code>random_seed</code> \u2014 seed for bloom filter hash functions.</li>\n</ul>\n</li>\n<li>\n<p><code>tokenbf_v1(size_of_bloom_filter_in_bytes, number_of_hash_functions, random_seed)</code></p>\n<p>The same as <code>ngrambf_v1</code>, but instead of ngrams stores tokens, which are sequences separated by non-alphanumeric characters.</p>\n</li>\n</ul>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">INDEX</span> <span class=\"n\">sample_index</span> <span class=\"p\">(</span><span class=\"n\">u64</span> <span class=\"o\">*</span> <span class=\"k\">length</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">))</span> <span class=\"k\">TYPE</span> <span class=\"n\">minmax</span> <span class=\"n\">GRANULARITY</span> <span class=\"mi\">4</span>\n<span class=\"k\">INDEX</span> <span class=\"n\">sample_index2</span> <span class=\"p\">(</span><span class=\"n\">u64</span> <span class=\"o\">*</span> <span class=\"k\">length</span><span class=\"p\">(</span><span class=\"n\">str</span><span class=\"p\">),</span> <span class=\"n\">i32</span> <span class=\"o\">+</span> <span class=\"n\">f64</span> <span class=\"o\">*</span> <span class=\"mi\">100</span><span class=\"p\">,</span> <span class=\"nb\">date</span><span class=\"p\">,</span> <span class=\"n\">str</span><span class=\"p\">)</span> <span class=\"k\">TYPE</span> <span class=\"k\">set</span><span class=\"p\">(</span><span class=\"mi\">100</span><span class=\"p\">)</span> <span class=\"n\">GRANULARITY</span> <span class=\"mi\">4</span>\n<span class=\"k\">INDEX</span> <span class=\"n\">sample_index3</span> <span class=\"p\">(</span><span class=\"k\">lower</span><span class=\"p\">(</span><span class=\"n\">str</span><span class=\"p\">),</span> <span class=\"n\">str</span><span class=\"p\">)</span> <span class=\"k\">TYPE</span> <span class=\"n\">ngrambf_v1</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">256</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"n\">GRANULARITY</span> <span class=\"mi\">4</span>\n</pre></div>\n\n\n<h3 id=\"concurrent-data-access\">Concurrent Data Access<a class=\"headerlink\" href=\"#concurrent-data-access\" title=\"Permanent link\">&para;</a></h3>\n<p>For concurrent table access, we use multi-versioning. In other words, when a table is simultaneously read and updated, data is read from a set of parts that is current at the time of the query. There are no lengthy locks. Inserts do not get in the way of read operations.</p>\n<p>Reading from a table is automatically parallelized.</p>\n<h3 id=\"ttl-for-columns-and-tables\">TTL for columns and tables<a class=\"headerlink\" href=\"#ttl-for-columns-and-tables\" title=\"Permanent link\">&para;</a></h3>\n<p>Data with expired TTL is removed while executing merges. </p>\n<p>If TTL is set for column, when it expires, value will be replaced by default. If all values in columns were zeroed in part, data for this column will be deleted from disk for part. You are not allowed to set TTL for all key columns. If TTL is set for table, when it expires, row will be deleted.</p>\n<p>When TTL expires on some value or row in part, extra merge will be executed. To control frequency of merges with TTL you can set <code>merge_with_ttl_timeout</code>. If it is too low, many extra merges and lack of regular merges can reduce the perfomance.  </p>\n<p><a name=\"table_engines/replication/\"></a>\n<a name=\"../../../../table_engines/replication/\"></a>\n<a name=\"../../../table_engines/replication/\"></a>\n<a name=\"../../../../../operations/table_engines/replication/\"></a>\n<a name=\"../../operations/table_engines/replication/\"></a>\n<a name=\"../../../../../../table_engines/replication/\"></a>\n<a name=\"replication/\"></a>\n<a name=\"../../table_engines/replication/\"></a>\n<a name=\"../../../../operations/table_engines/replication/\"></a>\n<a name=\"../table_engines/replication/\"></a>\n<a name=\"../operations/table_engines/replication/\"></a>\n<a name=\"operations/table_engines/replication/\"></a>\n<a name=\"../../../../../table_engines/replication/\"></a>\n<a name=\"../../../operations/table_engines/replication/\"></a></p>\n<h2 id=\"table_engines-replication\">Data Replication<a class=\"headerlink\" href=\"#table_engines-replication\" title=\"Permanent link\">&para;</a></h2>\n<p>Replication is only supported for tables in the MergeTree family:</p>\n<ul>\n<li>ReplicatedMergeTree</li>\n<li>ReplicatedSummingMergeTree</li>\n<li>ReplicatedReplacingMergeTree</li>\n<li>ReplicatedAggregatingMergeTree</li>\n<li>ReplicatedCollapsingMergeTree</li>\n<li>ReplicatedVersionedCollapsingMergeTree</li>\n<li>ReplicatedGraphiteMergeTree</li>\n</ul>\n<p>Replication works at the level of an individual table, not the entire server. A server can store both replicated and non-replicated tables at the same time.</p>\n<p>Replication does not depend on sharding. Each shard has its own independent replication.</p>\n<p>Compressed data for <code>INSERT</code> and <code>ALTER</code> queries is replicated (for more information, see the documentation for <a href=\"#query_language_queries_alter\">ALTER</a>).</p>\n<p><code>CREATE</code>, <code>DROP</code>, <code>ATTACH</code>, <code>DETACH</code> and <code>RENAME</code> queries are executed on a single server and are not replicated:</p>\n<ul>\n<li>The <code>CREATE TABLE</code> query creates a new replicatable table on the server where the query is run. If this table already exists on other servers, it adds a new replica.</li>\n<li>The <code>DROP TABLE</code> query deletes the replica located on the server where the query is run.</li>\n<li>The <code>RENAME</code> query renames the table on one of the replicas. In other words, replicated tables can have different names on different replicas.</li>\n</ul>\n<p>To use replication, set the addresses of the ZooKeeper cluster in the config file. Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;zookeeper&gt;</span>\n    <span class=\"nt\">&lt;node</span> <span class=\"na\">index=</span><span class=\"s\">&quot;1&quot;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;host&gt;</span>example1<span class=\"nt\">&lt;/host&gt;</span>\n        <span class=\"nt\">&lt;port&gt;</span>2181<span class=\"nt\">&lt;/port&gt;</span>\n    <span class=\"nt\">&lt;/node&gt;</span>\n    <span class=\"nt\">&lt;node</span> <span class=\"na\">index=</span><span class=\"s\">&quot;2&quot;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;host&gt;</span>example2<span class=\"nt\">&lt;/host&gt;</span>\n        <span class=\"nt\">&lt;port&gt;</span>2181<span class=\"nt\">&lt;/port&gt;</span>\n    <span class=\"nt\">&lt;/node&gt;</span>\n    <span class=\"nt\">&lt;node</span> <span class=\"na\">index=</span><span class=\"s\">&quot;3&quot;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;host&gt;</span>example3<span class=\"nt\">&lt;/host&gt;</span>\n        <span class=\"nt\">&lt;port&gt;</span>2181<span class=\"nt\">&lt;/port&gt;</span>\n    <span class=\"nt\">&lt;/node&gt;</span>\n<span class=\"nt\">&lt;/zookeeper&gt;</span>\n</pre></div>\n\n\n<p>Use ZooKeeper version 3.4.5 or later.</p>\n<p>You can specify any existing ZooKeeper cluster and the system will use a directory on it for its own data (the directory is specified when creating a replicatable table).</p>\n<p>If ZooKeeper isn't set in the config file, you can't create replicated tables, and any existing replicated tables will be read-only.</p>\n<p>ZooKeeper is not used in <code>SELECT</code> queries because replication does not affect the performance of <code>SELECT</code> and queries run just as fast as they do for non-replicated tables. When querying distributed replicated tables, ClickHouse behavior is controlled by the settings <a href=\"#settings-max_replica_delay_for_distributed_queries\">max_replica_delay_for_distributed_queries</a> and <a href=\"#settings-fallback_to_stale_replicas_for_distributed_queries\">fallback_to_stale_replicas_for_distributed_queries</a>.</p>\n<p>For each <code>INSERT</code> query, approximately ten entries are added to ZooKeeper through several transactions. (To be more precise, this is for each inserted block of data; an INSERT query contains one block or one block per <code>max_insert_block_size = 1048576</code> rows.) This leads to slightly longer latencies for <code>INSERT</code> compared to non-replicated tables. But if you follow the recommendations to insert data in batches of no more than one <code>INSERT</code> per second, it doesn't create any problems. The entire ClickHouse cluster used for coordinating one ZooKeeper cluster has a total of several hundred <code>INSERTs</code> per second. The throughput on data inserts (the number of rows per second) is just as high as for non-replicated data.</p>\n<p>For very large clusters, you can use different ZooKeeper clusters for different shards. However, this hasn't proven necessary on the Yandex.Metrica cluster (approximately 300 servers).</p>\n<p>Replication is asynchronous and multi-master. <code>INSERT</code> queries (as well as <code>ALTER</code>) can be sent to any available server. Data is inserted on the server where the query is run, and then it is copied to the other servers. Because it is asynchronous, recently inserted data appears on the other replicas with some latency. If part of the replicas are not available, the data is written when they become available. If a replica is available, the latency is the amount of time it takes to transfer the block of compressed data over the network.</p>\n<p>By default, an INSERT query waits for confirmation of writing the data from only one replica. If the data was successfully written to only one replica and the server with this replica ceases to exist, the stored data will be lost. To enable getting confirmation of data writes from multiple replicas, use the <code>insert_quorum</code> option.</p>\n<p>Each block of data is written atomically. The INSERT query is divided into blocks up to <code>max_insert_block_size = 1048576</code> rows. In other words, if the <code>INSERT</code> query has less than 1048576 rows, it is made atomically.</p>\n<p>Data blocks are deduplicated. For multiple writes of the same data block (data blocks of the same size containing the same rows in the same order), the block is only written once. The reason for this is in case of network failures when the client application doesn't know if the data was written to the DB, so the <code>INSERT</code> query can simply be repeated. It doesn't matter which replica INSERTs were sent to with identical data. <code>INSERTs</code> are idempotent. Deduplication parameters are controlled by <a href=\"#server_settings-merge_tree\">merge_tree</a> server settings.</p>\n<p>During replication, only the source data to insert is transferred over the network. Further data transformation (merging) is coordinated and performed on all the replicas in the same way. This minimizes network usage, which means that replication works well when replicas reside in different datacenters. (Note that duplicating data in different datacenters is the main goal of replication.)</p>\n<p>You can have any number of replicas of the same data. Yandex.Metrica uses double replication in production. Each server uses RAID-5 or RAID-6, and RAID-10 in some cases. This is a relatively reliable and convenient solution.</p>\n<p>The system monitors data synchronicity on replicas and is able to recover after a failure. Failover is automatic (for small differences in data) or semi-automatic (when data differs too much, which may indicate a configuration error).</p>\n<h3 id=\"creating-replicated-tables\">Creating Replicated Tables<a class=\"headerlink\" href=\"#creating-replicated-tables\" title=\"Permanent link\">&para;</a></h3>\n<p>The <code>Replicated</code> prefix is added to the table engine name. For example:<code>ReplicatedMergeTree</code>.</p>\n<p><strong>Replicated*MergeTree parameters</strong></p>\n<ul>\n<li><code>zoo_path</code> \u2014 The path to the table in ZooKeeper.</li>\n<li><code>replica_name</code> \u2014 The replica name in ZooKeeper.</li>\n</ul>\n<p>Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"k\">table_name</span>\n<span class=\"p\">(</span>\n    <span class=\"n\">EventDate</span> <span class=\"n\">DateTime</span><span class=\"p\">,</span>\n    <span class=\"n\">CounterID</span> <span class=\"n\">UInt32</span><span class=\"p\">,</span>\n    <span class=\"n\">UserID</span> <span class=\"n\">UInt32</span>\n<span class=\"p\">)</span> <span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">ReplicatedMergeTree</span><span class=\"p\">(</span><span class=\"s1\">&#39;/clickhouse/tables/{layer}-{shard}/table_name&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;{replica}&#39;</span><span class=\"p\">)</span>\n<span class=\"n\">PARTITION</span> <span class=\"k\">BY</span> <span class=\"n\">toYYYYMM</span><span class=\"p\">(</span><span class=\"n\">EventDate</span><span class=\"p\">)</span>\n<span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"p\">(</span><span class=\"n\">CounterID</span><span class=\"p\">,</span> <span class=\"n\">EventDate</span><span class=\"p\">,</span> <span class=\"n\">intHash32</span><span class=\"p\">(</span><span class=\"n\">UserID</span><span class=\"p\">))</span>\n<span class=\"n\">SAMPLE</span> <span class=\"k\">BY</span> <span class=\"n\">intHash32</span><span class=\"p\">(</span><span class=\"n\">UserID</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p><details><summary>Example in deprecated syntax</summary></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"k\">table_name</span>\n<span class=\"p\">(</span>\n    <span class=\"n\">EventDate</span> <span class=\"n\">DateTime</span><span class=\"p\">,</span>\n    <span class=\"n\">CounterID</span> <span class=\"n\">UInt32</span><span class=\"p\">,</span>\n    <span class=\"n\">UserID</span> <span class=\"n\">UInt32</span>\n<span class=\"p\">)</span> <span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">ReplicatedMergeTree</span><span class=\"p\">(</span><span class=\"s1\">&#39;/clickhouse/tables/{layer}-{shard}/table_name&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;{replica}&#39;</span><span class=\"p\">,</span> <span class=\"n\">EventDate</span><span class=\"p\">,</span> <span class=\"n\">intHash32</span><span class=\"p\">(</span><span class=\"n\">UserID</span><span class=\"p\">),</span> <span class=\"p\">(</span><span class=\"n\">CounterID</span><span class=\"p\">,</span> <span class=\"n\">EventDate</span><span class=\"p\">,</span> <span class=\"n\">intHash32</span><span class=\"p\">(</span><span class=\"n\">UserID</span><span class=\"p\">),</span> <span class=\"n\">EventTime</span><span class=\"p\">),</span> <span class=\"mi\">8192</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p></details></p>\n<p>As the example shows, these parameters can contain substitutions in curly brackets. The substituted values are taken from the 'macros' section of the configuration file. Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;macros&gt;</span>\n    <span class=\"nt\">&lt;layer&gt;</span>05<span class=\"nt\">&lt;/layer&gt;</span>\n    <span class=\"nt\">&lt;shard&gt;</span>02<span class=\"nt\">&lt;/shard&gt;</span>\n    <span class=\"nt\">&lt;replica&gt;</span>example05-02-1.yandex.ru<span class=\"nt\">&lt;/replica&gt;</span>\n<span class=\"nt\">&lt;/macros&gt;</span>\n</pre></div>\n\n\n<p>The path to the table in ZooKeeper should be unique for each replicated table. Tables on different shards should have different paths.\nIn this case, the path consists of the following parts:</p>\n<p><code>/clickhouse/tables/</code> is the common prefix. We recommend using exactly this one.</p>\n<p><code>{layer}-{shard}</code> is the shard identifier. In this example it consists of two parts, since the Yandex.Metrica cluster uses bi-level sharding. For most tasks, you can leave just the {shard} substitution, which will be expanded to the shard identifier.</p>\n<p><code>table_name</code> is the name of the node for the table in ZooKeeper. It is a good idea to make it the same as the table name. It is defined explicitly, because in contrast to the table name, it doesn't change after a RENAME query.<br />\n<em>HINT</em>: you could add a database name in front of <code>table_name</code> as well. E.g. <code>db_name.table_name</code></p>\n<p>The replica name identifies different replicas of the same table. You can use the server name for this, as in the example. The name only needs to be unique within each shard.</p>\n<p>You can define the parameters explicitly instead of using substitutions. This might be convenient for testing and for configuring small clusters. However, you can't use distributed DDL queries (<code>ON CLUSTER</code>) in this case.</p>\n<p>When working with large clusters, we recommend using substitutions because they reduce the probability of error.</p>\n<p>Run the <code>CREATE TABLE</code> query on each replica. This query creates a new replicated table, or adds a new replica to an existing one.</p>\n<p>If you add a new replica after the table already contains some data on other replicas, the data will be copied from the other replicas to the new one after running the query. In other words, the new replica syncs itself with the others.</p>\n<p>To delete a replica, run <code>DROP TABLE</code>. However, only one replica is deleted \u2013 the one that resides on the server where you run the query.</p>\n<h3 id=\"recovery-after-failures\">Recovery After Failures<a class=\"headerlink\" href=\"#recovery-after-failures\" title=\"Permanent link\">&para;</a></h3>\n<p>If ZooKeeper is unavailable when a server starts, replicated tables switch to read-only mode. The system periodically attempts to connect to ZooKeeper.</p>\n<p>If ZooKeeper is unavailable during an <code>INSERT</code>, or an error occurs when interacting with ZooKeeper, an exception is thrown.</p>\n<p>After connecting to ZooKeeper, the system checks whether the set of data in the local file system matches the expected set of data (ZooKeeper stores this information). If there are minor inconsistencies, the system resolves them by syncing data with the replicas.</p>\n<p>If the system detects broken data parts (with the wrong size of files) or unrecognized parts (parts written to the file system but not recorded in ZooKeeper), it moves them to the <code>detached</code> subdirectory (they are not deleted). Any missing parts are copied from the replicas.</p>\n<p>Note that ClickHouse does not perform any destructive actions such as automatically deleting a large amount of data.</p>\n<p>When the server starts (or establishes a new session with ZooKeeper), it only checks the quantity and sizes of all files. If the file sizes match but bytes have been changed somewhere in the middle, this is not detected immediately, but only when attempting to read the data for a <code>SELECT</code> query. The query throws an exception about a non-matching checksum or size of a compressed block. In this case, data parts are added to the verification queue and copied from the replicas if necessary.</p>\n<p>If the local set of data differs too much from the expected one, a safety mechanism is triggered. The server enters this in the log and refuses to launch. The reason for this is that this case may indicate a configuration error, such as if a replica on a shard was accidentally configured like a replica on a different shard. However, the thresholds for this mechanism are set fairly low, and this situation might occur during normal failure recovery. In this case, data is restored semi-automatically - by \"pushing a button\".</p>\n<p>To start recovery, create the node <code>/path_to_table/replica_name/flags/force_restore_data</code> in ZooKeeper with any content, or run the command to restore all replicated tables:</p>\n<div class=\"codehilite\"><pre><span></span>sudo -u clickhouse touch /var/lib/clickhouse/flags/force_restore_data\n</pre></div>\n\n\n<p>Then restart the server. On start, the server deletes these flags and starts recovery.</p>\n<h3 id=\"recovery-after-complete-data-loss\">Recovery After Complete Data Loss<a class=\"headerlink\" href=\"#recovery-after-complete-data-loss\" title=\"Permanent link\">&para;</a></h3>\n<p>If all data and metadata disappeared from one of the servers, follow these steps for recovery:</p>\n<ol>\n<li>Install ClickHouse on the server. Define substitutions correctly in the config file that contains the shard identifier and replicas, if you use them.</li>\n<li>If you had unreplicated tables that must be manually duplicated on the servers, copy their data from a replica (in the directory <code>/var/lib/clickhouse/data/db_name/table_name/</code>).</li>\n<li>Copy table definitions located in <code>/var/lib/clickhouse/metadata/</code> from a replica. If a shard or replica identifier is defined explicitly in the table definitions, correct it so that it corresponds to this replica. (Alternatively, start the server and make all the <code>ATTACH TABLE</code> queries that should have been in the .sql files in <code>/var/lib/clickhouse/metadata/</code>.)</li>\n<li>To start recovery, create the ZooKeeper node <code>/path_to_table/replica_name/flags/force_restore_data</code> with any content, or run the command to restore all replicated tables: <code>sudo -u clickhouse touch /var/lib/clickhouse/flags/force_restore_data</code></li>\n</ol>\n<p>Then start the server (restart, if it is already running). Data will be downloaded from replicas.</p>\n<p>An alternative recovery option is to delete information about the lost replica from ZooKeeper (<code>/path_to_table/replica_name</code>), then create the replica again as described in \"<a href=\"#creating-replicated-tables\">Creating replicated tables</a>\".</p>\n<p>There is no restriction on network bandwidth during recovery. Keep this in mind if you are restoring many replicas at once.</p>\n<h3 id=\"converting-from-mergetree-to-replicatedmergetree\">Converting from MergeTree to ReplicatedMergeTree<a class=\"headerlink\" href=\"#converting-from-mergetree-to-replicatedmergetree\" title=\"Permanent link\">&para;</a></h3>\n<p>We use the term <code>MergeTree</code> to refer to all table engines in the <code>MergeTree family</code>, the same as for <code>ReplicatedMergeTree</code>.</p>\n<p>If you had a <code>MergeTree</code> table that was manually replicated, you can convert it to a replicated table. You might need to do this if you have already collected a large amount of data in a <code>MergeTree</code> table and now you want to enable replication.</p>\n<p>If the data differs on various replicas, first sync it, or delete this data on all the replicas except one.</p>\n<p>Rename the existing MergeTree table, then create a <code>ReplicatedMergeTree</code> table with the old name.\nMove the data from the old table to the <code>detached</code> subdirectory inside the directory with the new table data (<code>/var/lib/clickhouse/data/db_name/table_name/</code>).\nThen run <code>ALTER TABLE ATTACH PARTITION</code> on one of the replicas to add these data parts to the working set.</p>\n<h3 id=\"converting-from-replicatedmergetree-to-mergetree\">Converting from ReplicatedMergeTree to MergeTree<a class=\"headerlink\" href=\"#converting-from-replicatedmergetree-to-mergetree\" title=\"Permanent link\">&para;</a></h3>\n<p>Create a MergeTree table with a different name. Move all the data from the directory with the <code>ReplicatedMergeTree</code> table data to the new table's data directory. Then delete the <code>ReplicatedMergeTree</code> table and restart the server.</p>\n<p>If you want to get rid of a <code>ReplicatedMergeTree</code> table without launching the server:</p>\n<ul>\n<li>Delete the corresponding <code>.sql</code> file in the metadata directory (<code>/var/lib/clickhouse/metadata/</code>).</li>\n<li>Delete the corresponding path in ZooKeeper (<code>/path_to_table/replica_name</code>).</li>\n</ul>\n<p>After this, you can launch the server, create a <code>MergeTree</code> table, move the data to its directory, and then restart the server.</p>\n<h3 id=\"recovery-when-metadata-in-the-zookeeper-cluster-is-lost-or-damaged\">Recovery When Metadata in The ZooKeeper Cluster is Lost or Damaged<a class=\"headerlink\" href=\"#recovery-when-metadata-in-the-zookeeper-cluster-is-lost-or-damaged\" title=\"Permanent link\">&para;</a></h3>\n<p>If the data in ZooKeeper was lost or damaged, you can save data by moving it to an unreplicated table as described above.</p>\n<p><a name=\"../../../../../table_engines/custom_partitioning_key/\"></a>\n<a name=\"custom_partitioning_key/\"></a>\n<a name=\"../../table_engines/custom_partitioning_key/\"></a>\n<a name=\"../../operations/table_engines/custom_partitioning_key/\"></a>\n<a name=\"../../../../table_engines/custom_partitioning_key/\"></a>\n<a name=\"operations/table_engines/custom_partitioning_key/\"></a>\n<a name=\"../../../../../../table_engines/custom_partitioning_key/\"></a>\n<a name=\"../operations/table_engines/custom_partitioning_key/\"></a>\n<a name=\"table_engines/custom_partitioning_key/\"></a>\n<a name=\"../../../../operations/table_engines/custom_partitioning_key/\"></a>\n<a name=\"../../../table_engines/custom_partitioning_key/\"></a>\n<a name=\"../table_engines/custom_partitioning_key/\"></a>\n<a name=\"../../../../../operations/table_engines/custom_partitioning_key/\"></a>\n<a name=\"../../../operations/table_engines/custom_partitioning_key/\"></a></p>\n<h2 id=\"custom-partitioning-key\">Custom Partitioning Key<a class=\"headerlink\" href=\"#custom-partitioning-key\" title=\"Permanent link\">&para;</a></h2>\n<p>Partitioning is available for the <a href=\"#mergetree/\">MergeTree</a> family tables (including <a href=\"#replication/\">replicated</a> tables). <a href=\"#materializedview/\">Materialized views</a> based on MergeTree tables support partitioning, as well.</p>\n<p>A partition is a logical combination of records in a table by a specified criterion. You can set a partition by an arbitrary criterion, such as by month, by day, or by event type. Each partition is stored separately in order to simplify manipulations of this data. When accessing the data, ClickHouse uses the smallest subset of partitions possible.</p>\n<p>The partition is specified in the <code>PARTITION BY expr</code> clause when <a href=\"#table_engine-mergetree-creating-a-table\">creating a table</a>. The partition key can be any expression from the table columns. For example, to specify partitioning by month, use the expression <code>toYYYYMM(date_column)</code>:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">visits</span>\n<span class=\"p\">(</span>\n    <span class=\"n\">VisitDate</span> <span class=\"nb\">Date</span><span class=\"p\">,</span> \n    <span class=\"n\">Hour</span> <span class=\"n\">UInt8</span><span class=\"p\">,</span> \n    <span class=\"n\">ClientID</span> <span class=\"n\">UUID</span>\n<span class=\"p\">)</span>\n<span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">MergeTree</span><span class=\"p\">()</span>\n<span class=\"n\">PARTITION</span> <span class=\"k\">BY</span> <span class=\"n\">toYYYYMM</span><span class=\"p\">(</span><span class=\"n\">VisitDate</span><span class=\"p\">)</span>\n<span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"n\">Hour</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<p>The partition key can also be a tuple of expressions (similar to the <a href=\"#primary-keys-and-indexes-in-queries\">primary key</a>). For example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">ReplicatedCollapsingMergeTree</span><span class=\"p\">(</span><span class=\"s1\">&#39;/clickhouse/tables/name&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;replica1&#39;</span><span class=\"p\">,</span> <span class=\"n\">Sign</span><span class=\"p\">)</span>\n<span class=\"n\">PARTITION</span> <span class=\"k\">BY</span> <span class=\"p\">(</span><span class=\"n\">toMonday</span><span class=\"p\">(</span><span class=\"n\">StartDate</span><span class=\"p\">),</span> <span class=\"n\">EventType</span><span class=\"p\">)</span>\n<span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"p\">(</span><span class=\"n\">CounterID</span><span class=\"p\">,</span> <span class=\"n\">StartDate</span><span class=\"p\">,</span> <span class=\"n\">intHash32</span><span class=\"p\">(</span><span class=\"n\">UserID</span><span class=\"p\">));</span>\n</pre></div>\n\n\n<p>In this example, we set partitioning by the event types that occurred during the current week.</p>\n<p>When inserting new data to a table, this data is stored as a separate part (chunk) sorted by the primary key. In 10-15 minutes after inserting, the parts of the same partition are merged into the entire part.</p>\n<div class=\"admonition info\">\n<p class=\"admonition-title\">Info</p>\n<p>A merge only works for data parts that have the same value for the partitioning expression. This means <strong>you shouldn't make overly granular partitions</strong> (more than about a thousand partitions). Otherwise, the <code>SELECT</code> query performs poorly because of an unreasonably large number of files in the file system and open file descriptors.</p>\n</div>\n<p>Use the <a href=\"#system_tables-parts\">system.parts</a> table to view the table parts and partitions. For example, let's assume that we have a <code>visits</code> table with partitioning by month. Let's perform the <code>SELECT</code> query for the <code>system.parts</code> table:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> \n    <span class=\"n\">partition</span><span class=\"p\">,</span>\n    <span class=\"n\">name</span><span class=\"p\">,</span> \n    <span class=\"n\">active</span>\n<span class=\"k\">FROM</span> <span class=\"k\">system</span><span class=\"p\">.</span><span class=\"n\">parts</span> \n<span class=\"k\">WHERE</span> <span class=\"k\">table</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;visits&#39;</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500partition\u2500\u252c\u2500name\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500active\u2500\u2510</span>\n<span class=\"err\">\u2502 201901    \u2502 201901_1_3_1   \u2502      0 \u2502</span>\n<span class=\"err\">\u2502 201901    \u2502 201901_1_9_2   \u2502      1 \u2502</span>\n<span class=\"err\">\u2502 201901    \u2502 201901_8_8_0   \u2502      0 \u2502</span>\n<span class=\"err\">\u2502 201901    \u2502 201901_9_9_0   \u2502      0 \u2502</span>\n<span class=\"err\">\u2502 201902    \u2502 201902_4_6_1   \u2502      1 \u2502</span>\n<span class=\"err\">\u2502 201902    \u2502 201902_10_10_0 \u2502      1 \u2502</span>\n<span class=\"err\">\u2502 201902    \u2502 201902_11_11_0 \u2502      1 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>The <code>partition</code> column contains the names of the partitions. There are two partitions in this example: <code>201901</code> and <code>201902</code>. You can use this column value to specify the partition name in <a href=\"#alter_manipulations-with-partitions\">ALTER ... PARTITION</a> queries.</p>\n<p>The <code>name</code> column contains the names of the partition data parts. You can use this column to specify the name of the part in the <a href=\"#alter_attach-partition\">ALTER ATTACH PART</a> query.</p>\n<p>Let's break down the name of the first part: <code>201901_1_3_1</code>:</p>\n<ul>\n<li><code>201901</code> is the partition name.</li>\n<li><code>1</code> is the minimum number of the data block.</li>\n<li><code>3</code> is the maximum number of the data block.</li>\n<li><code>1</code> is the chunk level (the depth of the merge tree it is formed from).</li>\n</ul>\n<div class=\"admonition info\">\n<p class=\"admonition-title\">Info</p>\n<p>The parts of old-type tables have the name: <code>20190117_20190123_2_2_0</code> (minimum date - maximum date - minimum block number - maximum block number - level).</p>\n</div>\n<p>The <code>active</code> column shows the status of the part. <code>1</code> is active; <code>0</code> is inactive. The inactive parts are, for example, source parts remaining after merging to a larger part. The corrupted data parts are also indicated as inactive.</p>\n<p>As you can see in the example, there are several separated parts of the same partition (for example, <code>201901_1_3_1</code> and <code>201901_1_9_2</code>). This means that these parts are not merged yet. ClickHouse merges the inserted parts of data periodically, approximately 15 minutes after inserting. In addition, you can perform a non-scheduled merge using the <a href=\"#misc_operations-optimize\">OPTIMIZE</a> query. Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">OPTIMIZE</span> <span class=\"k\">TABLE</span> <span class=\"n\">visits</span> <span class=\"n\">PARTITION</span> <span class=\"mi\">201902</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500partition\u2500\u252c\u2500name\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500active\u2500\u2510</span>\n<span class=\"err\">\u2502 201901    \u2502 201901_1_3_1   \u2502      0 \u2502</span>\n<span class=\"err\">\u2502 201901    \u2502 201901_1_9_2   \u2502      1 \u2502</span>\n<span class=\"err\">\u2502 201901    \u2502 201901_8_8_0   \u2502      0 \u2502</span>\n<span class=\"err\">\u2502 201901    \u2502 201901_9_9_0   \u2502      0 \u2502</span>\n<span class=\"err\">\u2502 201902    \u2502 201902_4_6_1   \u2502      0 \u2502</span>\n<span class=\"err\">\u2502 201902    \u2502 201902_4_11_2  \u2502      1 \u2502</span>\n<span class=\"err\">\u2502 201902    \u2502 201902_10_10_0 \u2502      0 \u2502</span>\n<span class=\"err\">\u2502 201902    \u2502 201902_11_11_0 \u2502      0 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>Inactive parts will be deleted approximately 10 minutes after merging. </p>\n<p>Another way to view a set of parts and partitions is to go into the directory of the table: <code>/var/lib/clickhouse/data/&lt;database&gt;/&lt;table&gt;/</code>. For example: </p>\n<div class=\"codehilite\"><pre><span></span>dev:/var/lib/clickhouse/data/default/visits$ ls -l\ntotal <span class=\"m\">40</span>\ndrwxr-xr-x <span class=\"m\">2</span> clickhouse clickhouse <span class=\"m\">4096</span> Feb  <span class=\"m\">1</span> <span class=\"m\">16</span>:48 201901_1_3_1\ndrwxr-xr-x <span class=\"m\">2</span> clickhouse clickhouse <span class=\"m\">4096</span> Feb  <span class=\"m\">5</span> <span class=\"m\">16</span>:17 201901_1_9_2\ndrwxr-xr-x <span class=\"m\">2</span> clickhouse clickhouse <span class=\"m\">4096</span> Feb  <span class=\"m\">5</span> <span class=\"m\">15</span>:52 201901_8_8_0\ndrwxr-xr-x <span class=\"m\">2</span> clickhouse clickhouse <span class=\"m\">4096</span> Feb  <span class=\"m\">5</span> <span class=\"m\">15</span>:52 201901_9_9_0\ndrwxr-xr-x <span class=\"m\">2</span> clickhouse clickhouse <span class=\"m\">4096</span> Feb  <span class=\"m\">5</span> <span class=\"m\">16</span>:17 201902_10_10_0\ndrwxr-xr-x <span class=\"m\">2</span> clickhouse clickhouse <span class=\"m\">4096</span> Feb  <span class=\"m\">5</span> <span class=\"m\">16</span>:17 201902_11_11_0\ndrwxr-xr-x <span class=\"m\">2</span> clickhouse clickhouse <span class=\"m\">4096</span> Feb  <span class=\"m\">5</span> <span class=\"m\">16</span>:19 201902_4_11_2\ndrwxr-xr-x <span class=\"m\">2</span> clickhouse clickhouse <span class=\"m\">4096</span> Feb  <span class=\"m\">5</span> <span class=\"m\">12</span>:09 201902_4_6_1\ndrwxr-xr-x <span class=\"m\">2</span> clickhouse clickhouse <span class=\"m\">4096</span> Feb  <span class=\"m\">1</span> <span class=\"m\">16</span>:48 detached\n</pre></div>\n\n\n<p>The folders '201901_1_1_0', '201901_1_7_1' and so on are the directories of the parts. Each part relates to a corresponding partition and contains data just for a certain month (the table in this example has partitioning by month).</p>\n<p>The <code>detached</code> directory contains parts that were detached from the table using the <a href=\"#alter_detach-partition\">DETACH</a> query. The corrupted parts are also moved to this directory, instead of being deleted. The server does not use the parts from the <code>detached</code> directory. You can add, delete, or modify the data in this directory at any time \u2013 the server will not know about this until you run the <a href=\"#alter_attach-partition\">ATTACH</a> query.</p>\n<p>Note that on the operating server, you cannot manually change the set of parts or their data on the file system, since the server will not know about it. For non-replicated tables, you can do this when the server is stopped, but it isn't recommended. For replicated tables, the set of parts cannot be changed in any case.</p>\n<p>ClickHouse allows you to perform operations with the partitions: delete them, copy from one table to another, or create a backup. See the list of all operations in the section <a href=\"#alter_manipulations-with-partitions\">Manipulations With Partitions and Parts</a>. </p>\n<p><a name=\"../../../../../../table_engines/replacingmergetree/\"></a>\n<a name=\"../../../../table_engines/replacingmergetree/\"></a>\n<a name=\"../../../table_engines/replacingmergetree/\"></a>\n<a name=\"../../table_engines/replacingmergetree/\"></a>\n<a name=\"operations/table_engines/replacingmergetree/\"></a>\n<a name=\"table_engines/replacingmergetree/\"></a>\n<a name=\"../table_engines/replacingmergetree/\"></a>\n<a name=\"../../../../../table_engines/replacingmergetree/\"></a>\n<a name=\"../operations/table_engines/replacingmergetree/\"></a>\n<a name=\"../../operations/table_engines/replacingmergetree/\"></a>\n<a name=\"replacingmergetree/\"></a>\n<a name=\"../../../../operations/table_engines/replacingmergetree/\"></a>\n<a name=\"../../../operations/table_engines/replacingmergetree/\"></a>\n<a name=\"../../../../../operations/table_engines/replacingmergetree/\"></a></p>\n<h2 id=\"replacingmergetree\">ReplacingMergeTree<a class=\"headerlink\" href=\"#replacingmergetree\" title=\"Permanent link\">&para;</a></h2>\n<p>The engine differs from <a href=\"#table_engines-mergetree\">MergeTree</a> in that it removes duplicate entries with the same primary key value (or more accurately, with the same <a href=\"#mergetree/\">sorting key</a> value).</p>\n<p>Data deduplication occurs only during a merge. Merging occurs in the background at an unknown time, so you can't plan for it. Some of the data may remain unprocessed. Although you can run an unscheduled merge using the <code>OPTIMIZE</code> query, don't count on using it, because the <code>OPTIMIZE</code> query will read and write a large amount of data.</p>\n<p>Thus, <code>ReplacingMergeTree</code> is suitable for clearing out duplicate data in the background in order to save space, but it doesn't guarantee the absence of duplicates.</p>\n<h3 id=\"creating-a-table\">Creating a Table<a class=\"headerlink\" href=\"#creating-a-table\" title=\"Permanent link\">&para;</a></h3>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"p\">[</span><span class=\"k\">IF</span> <span class=\"k\">NOT</span> <span class=\"k\">EXISTS</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">db</span><span class=\"p\">.]</span><span class=\"k\">table_name</span> <span class=\"p\">[</span><span class=\"k\">ON</span> <span class=\"k\">CLUSTER</span> <span class=\"k\">cluster</span><span class=\"p\">]</span>\n<span class=\"p\">(</span>\n    <span class=\"n\">name1</span> <span class=\"p\">[</span><span class=\"n\">type1</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"k\">DEFAULT</span><span class=\"o\">|</span><span class=\"n\">MATERIALIZED</span><span class=\"o\">|</span><span class=\"k\">ALIAS</span> <span class=\"n\">expr1</span><span class=\"p\">],</span>\n    <span class=\"n\">name2</span> <span class=\"p\">[</span><span class=\"n\">type2</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"k\">DEFAULT</span><span class=\"o\">|</span><span class=\"n\">MATERIALIZED</span><span class=\"o\">|</span><span class=\"k\">ALIAS</span> <span class=\"n\">expr2</span><span class=\"p\">],</span>\n    <span class=\"p\">...</span>\n<span class=\"p\">)</span> <span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">ReplacingMergeTree</span><span class=\"p\">([</span><span class=\"n\">ver</span><span class=\"p\">])</span>\n<span class=\"p\">[</span><span class=\"n\">PARTITION</span> <span class=\"k\">BY</span> <span class=\"n\">expr</span><span class=\"p\">]</span>\n<span class=\"p\">[</span><span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"n\">expr</span><span class=\"p\">]</span>\n<span class=\"p\">[</span><span class=\"n\">SAMPLE</span> <span class=\"k\">BY</span> <span class=\"n\">expr</span><span class=\"p\">]</span>\n<span class=\"p\">[</span><span class=\"n\">SETTINGS</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"n\">value</span><span class=\"p\">,</span> <span class=\"p\">...]</span>\n</pre></div>\n\n\n<p>For a description of request parameters, see <a href=\"#../../query_language/create/\">request description</a>.</p>\n<p><strong>ReplacingMergeTree Parameters</strong></p>\n<ul>\n<li>\n<p><code>ver</code> \u2014 column with version. Type <code>UInt*</code>, <code>Date</code> or <code>DateTime</code>. Optional parameter.</p>\n<p>When merging, <code>ReplacingMergeTree</code> from all the rows with the same primary key leaves only one:\n- Last in the selection, if <code>ver</code> not set.\n- With the maximum version, if <code>ver</code> specified.</p>\n</li>\n</ul>\n<p><strong>Query clauses</strong></p>\n<p>When creating a <code>ReplacingMergeTree</code> table the same <a href=\"#mergetree/\">clauses</a> are required, as when creating a <code>MergeTree</code> table.</p>\n<p><details markdown=\"1\"><summary>Deprecated Method for Creating a Table</summary></p>\n<div class=\"admonition attention\">\n<p class=\"admonition-title\">Attention</p>\n<p>Do not use this method in new projects and, if possible, switch the old projects to the method described above.</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"p\">[</span><span class=\"k\">IF</span> <span class=\"k\">NOT</span> <span class=\"k\">EXISTS</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">db</span><span class=\"p\">.]</span><span class=\"k\">table_name</span> <span class=\"p\">[</span><span class=\"k\">ON</span> <span class=\"k\">CLUSTER</span> <span class=\"k\">cluster</span><span class=\"p\">]</span>\n<span class=\"p\">(</span>\n    <span class=\"n\">name1</span> <span class=\"p\">[</span><span class=\"n\">type1</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"k\">DEFAULT</span><span class=\"o\">|</span><span class=\"n\">MATERIALIZED</span><span class=\"o\">|</span><span class=\"k\">ALIAS</span> <span class=\"n\">expr1</span><span class=\"p\">],</span>\n    <span class=\"n\">name2</span> <span class=\"p\">[</span><span class=\"n\">type2</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"k\">DEFAULT</span><span class=\"o\">|</span><span class=\"n\">MATERIALIZED</span><span class=\"o\">|</span><span class=\"k\">ALIAS</span> <span class=\"n\">expr2</span><span class=\"p\">],</span>\n    <span class=\"p\">...</span>\n<span class=\"p\">)</span> <span class=\"n\">ENGINE</span> <span class=\"p\">[</span><span class=\"o\">=</span><span class=\"p\">]</span> <span class=\"n\">ReplacingMergeTree</span><span class=\"p\">(</span><span class=\"nb\">date</span><span class=\"o\">-</span><span class=\"k\">column</span> <span class=\"p\">[,</span> <span class=\"n\">sampling_expression</span><span class=\"p\">],</span> <span class=\"p\">(</span><span class=\"k\">primary</span><span class=\"p\">,</span> <span class=\"k\">key</span><span class=\"p\">),</span> <span class=\"n\">index_granularity</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"n\">ver</span><span class=\"p\">])</span>\n</pre></div>\n\n\n<p>All of the parameters excepting <code>ver</code> have the same meaning as in <code>MergeTree</code>.</p>\n<ul>\n<li><code>ver</code> - column with the version. Optional parameter. For a description, see the text above.\n</details></li>\n</ul>\n<p><a name=\"../../../../table_engines/summingmergetree/\"></a>\n<a name=\"../../../../../../table_engines/summingmergetree/\"></a>\n<a name=\"../../../../../operations/table_engines/summingmergetree/\"></a>\n<a name=\"../table_engines/summingmergetree/\"></a>\n<a name=\"../../table_engines/summingmergetree/\"></a>\n<a name=\"../../../../operations/table_engines/summingmergetree/\"></a>\n<a name=\"../../operations/table_engines/summingmergetree/\"></a>\n<a name=\"operations/table_engines/summingmergetree/\"></a>\n<a name=\"../operations/table_engines/summingmergetree/\"></a>\n<a name=\"../../../table_engines/summingmergetree/\"></a>\n<a name=\"table_engines/summingmergetree/\"></a>\n<a name=\"summingmergetree/\"></a>\n<a name=\"../../../operations/table_engines/summingmergetree/\"></a>\n<a name=\"../../../../../table_engines/summingmergetree/\"></a></p>\n<h2 id=\"summingmergetree\">SummingMergeTree<a class=\"headerlink\" href=\"#summingmergetree\" title=\"Permanent link\">&para;</a></h2>\n<p>The engine inherits from <a href=\"#table_engines-mergetree\">MergeTree</a>. The difference is that when merging data parts for <code>SummingMergeTree</code> tables ClickHouse replaces all the rows with the same primary key (or more accurately, with the same <a href=\"#mergetree/\">sorting key</a>) with one row which contains summarized values for the columns with the numeric data type. If the sorting key is composed in a way that a single key value corresponds to large number of rows, this significantly reduces storage volume and speeds up data selection.</p>\n<p>We recommend to use the engine together with <code>MergeTree</code>. Store complete data in <code>MergeTree</code> table, and use <code>SummingMergeTree</code> for aggregated data storing, for example, when preparing reports. Such an approach will prevent you from losing valuable data due to an incorrectly composed primary key.</p>\n<h3 id=\"creating-a-table_1\">Creating a Table<a class=\"headerlink\" href=\"#creating-a-table_1\" title=\"Permanent link\">&para;</a></h3>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span><span class=\"w\"> </span><span class=\"nc\">TABLE</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">IF NOT EXISTS</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">db.</span><span class=\"o\">]</span><span class=\"n\">table_name</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">ON CLUSTER cluster</span><span class=\"o\">]</span><span class=\"w\"></span>\n<span class=\"p\">(</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">name1</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">type1</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">DEFAULT|MATERIALIZED|ALIAS expr1</span><span class=\"o\">]</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">name2</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">type2</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">DEFAULT|MATERIALIZED|ALIAS expr2</span><span class=\"o\">]</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">...</span><span class=\"w\"></span>\n<span class=\"p\">)</span><span class=\"w\"> </span><span class=\"n\">ENGINE</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">SummingMergeTree</span><span class=\"p\">(</span><span class=\"o\">[</span><span class=\"n\">columns</span><span class=\"o\">]</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"o\">[</span><span class=\"n\">PARTITION BY expr</span><span class=\"o\">]</span><span class=\"w\"></span>\n<span class=\"o\">[</span><span class=\"n\">ORDER BY expr</span><span class=\"o\">]</span><span class=\"w\"></span>\n<span class=\"o\">[</span><span class=\"n\">SAMPLE BY expr</span><span class=\"o\">]</span><span class=\"w\"></span>\n<span class=\"o\">[</span><span class=\"n\">SETTINGS name=value, ...</span><span class=\"o\">]</span><span class=\"w\"></span>\n</pre></div>\n\n\n<p>For a description of request parameters, see <a href=\"#../../query_language/create/\">request description</a>.</p>\n<p><strong>Parameters of SummingMergeTree</strong></p>\n<ul>\n<li>\n<p><code>columns</code> - a tuple with the names of columns where values will be summarized. Optional parameter.\nThe columns must be of a numeric type and must not be in the primary key.</p>\n<p>If <code>columns</code> not specified, ClickHouse summarizes the values in all columns with a numeric data type that are not in the primary key.</p>\n</li>\n</ul>\n<p><strong>Query clauses</strong></p>\n<p>When creating a <code>SummingMergeTree</code> table the same <a href=\"#mergetree/\">clauses</a> are required, as when creating a <code>MergeTree</code> table.</p>\n<p><details markdown=\"1\"><summary>Deprecated Method for Creating a Table</summary></p>\n<div class=\"admonition attention\">\n<p class=\"admonition-title\">Attention</p>\n<p>Do not use this method in new projects and, if possible, switch the old projects to the method described above.</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span><span class=\"w\"> </span><span class=\"nc\">TABLE</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">IF NOT EXISTS</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">db.</span><span class=\"o\">]</span><span class=\"n\">table_name</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">ON CLUSTER cluster</span><span class=\"o\">]</span><span class=\"w\"></span>\n<span class=\"p\">(</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">name1</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">type1</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">DEFAULT|MATERIALIZED|ALIAS expr1</span><span class=\"o\">]</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">name2</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">type2</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">DEFAULT|MATERIALIZED|ALIAS expr2</span><span class=\"o\">]</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">...</span><span class=\"w\"></span>\n<span class=\"p\">)</span><span class=\"w\"> </span><span class=\"n\">ENGINE</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">=</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"n\">SummingMergeTree</span><span class=\"p\">(</span><span class=\"nc\">date</span><span class=\"o\">-</span><span class=\"k\">column</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">, sampling_expression</span><span class=\"o\">]</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"k\">primary</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"k\">key</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">index_granularity</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">columns</span><span class=\"o\">]</span><span class=\"p\">)</span><span class=\"w\"></span>\n</pre></div>\n\n\n<p>All of the parameters excepting <code>columns</code> have the same meaning as in <code>MergeTree</code>.</p>\n<ul>\n<li><code>columns</code> \u2014 tuple with names of columns values of which will be summarized. Optional parameter. For a description, see the text above.\n</details></li>\n</ul>\n<h3 id=\"usage-example_2\">Usage Example<a class=\"headerlink\" href=\"#usage-example_2\" title=\"Permanent link\">&para;</a></h3>\n<p>Consider the following table:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">summtt</span>\n<span class=\"p\">(</span>\n    <span class=\"k\">key</span> <span class=\"n\">UInt32</span><span class=\"p\">,</span>\n    <span class=\"n\">value</span> <span class=\"n\">UInt32</span>\n<span class=\"p\">)</span>\n<span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">SummingMergeTree</span><span class=\"p\">()</span>\n<span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"k\">key</span>\n</pre></div>\n\n\n<p>Insert data to it:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">:) INSERT INTO summtt Values(1,1),(1,2),(2,1)</span>\n</pre></div>\n\n\n<p>ClickHouse may sum all the rows not completely (<a href=\"#data-processing\">see below</a>), so we use an aggregate function <code>sum</code> and <code>GROUP BY</code> clause in the query.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"k\">key</span><span class=\"p\">,</span> <span class=\"k\">sum</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">)</span> <span class=\"k\">FROM</span> <span class=\"n\">summtt</span> <span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"k\">key</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500key\u2500\u252c\u2500sum(value)\u2500\u2510</span>\n<span class=\"err\">\u2502   2 \u2502          1 \u2502</span>\n<span class=\"err\">\u2502   1 \u2502          3 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"data-processing\">Data Processing<a class=\"headerlink\" href=\"#data-processing\" title=\"Permanent link\">&para;</a></h3>\n<p>When data are inserted into a table, they are saved as-is. Clickhouse merges the inserted parts of data periodically and this is when rows with the same primary key are summed and replaced with one for each resulting part of data.</p>\n<p>ClickHouse can merge the data parts so that different resulting parts of data cat consist rows with the same primary key, i.e. the summation will be incomplete. Therefore (<code>SELECT</code>) an aggregate function <a href=\"#agg_function-sum\">sum()</a> and <code>GROUP BY</code> clause should be used in a query as described in the example above.</p>\n<h4 id=\"common-rules-for-summation\">Common rules for summation<a class=\"headerlink\" href=\"#common-rules-for-summation\" title=\"Permanent link\">&para;</a></h4>\n<p>The values in the columns with the numeric data type are summarized. The set of columns is defined by the parameter <code>columns</code>.</p>\n<p>If the values were 0 in all of the columns for summation, the row is deleted.</p>\n<p>If column is not in the primary key and is not summarized, an arbitrary value is selected from the existing ones.</p>\n<p>The values are not summarized for columns in the primary key.</p>\n<h4 id=\"the-summation-in-the-aggregatefunction-columns\">The Summation in the AggregateFunction Columns<a class=\"headerlink\" href=\"#the-summation-in-the-aggregatefunction-columns\" title=\"Permanent link\">&para;</a></h4>\n<p>For columns of <a href=\"#../../data_types/nested_data_structures/aggregatefunction/\">AggregateFunction type</a> ClickHouse behaves as <a href=\"#aggregatingmergetree/\">AggregatingMergeTree</a> engine aggregating according to the function.</p>\n<h4 id=\"nested-structures\">Nested Structures<a class=\"headerlink\" href=\"#nested-structures\" title=\"Permanent link\">&para;</a></h4>\n<p>Table can have nested data structures that are processed in a special way.</p>\n<p>If the name of a nested table ends with <code>Map</code> and it contains at least two columns that meet the following criteria:</p>\n<ul>\n<li>the first column is numeric <code>(*Int*, Date, DateTime)</code>, let's call it <code>key</code>,</li>\n<li>the other columns are arithmetic <code>(*Int*, Float32/64)</code>, let's call it <code>(values...)</code>,</li>\n</ul>\n<p>then this nested table is interpreted as a mapping of <code>key =&gt; (values...)</code>, and when merging its rows, the elements of two data sets are merged by <code>key</code> with a summation of the corresponding <code>(values...)</code>.</p>\n<p>Examples:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">[(1, 100)] + [(2, 150)] -&gt; [(1, 100), (2, 150)]</span>\n<span class=\"k\">[(1, 100)] + [(1, 150)] -&gt; [(1, 250)]</span>\n<span class=\"k\">[(1, 100)] + [(1, 150), (2, 150)] -&gt; [(1, 250), (2, 150)]</span>\n<span class=\"k\">[(1, 100), (2, 150)] + [(1, -100)] -&gt; [(2, 150)]</span>\n</pre></div>\n\n\n<p>When requesting data, use the <a href=\"#../../query_language/agg_functions/reference/\">sumMap(key, value)</a> function for aggregation of <code>Map</code>.</p>\n<p>For nested data structure, you do not need to specify its columns in the tuple of columns for summation.</p>\n<p><a name=\"../../../../table_engines/aggregatingmergetree/\"></a>\n<a name=\"../table_engines/aggregatingmergetree/\"></a>\n<a name=\"../../operations/table_engines/aggregatingmergetree/\"></a>\n<a name=\"../../../table_engines/aggregatingmergetree/\"></a>\n<a name=\"../../table_engines/aggregatingmergetree/\"></a>\n<a name=\"../operations/table_engines/aggregatingmergetree/\"></a>\n<a name=\"../../../../../table_engines/aggregatingmergetree/\"></a>\n<a name=\"../../../../../../table_engines/aggregatingmergetree/\"></a>\n<a name=\"../../../../operations/table_engines/aggregatingmergetree/\"></a>\n<a name=\"../../../../../operations/table_engines/aggregatingmergetree/\"></a>\n<a name=\"../../../operations/table_engines/aggregatingmergetree/\"></a>\n<a name=\"table_engines/aggregatingmergetree/\"></a>\n<a name=\"aggregatingmergetree/\"></a>\n<a name=\"operations/table_engines/aggregatingmergetree/\"></a></p>\n<h2 id=\"aggregatingmergetree\">AggregatingMergeTree<a class=\"headerlink\" href=\"#aggregatingmergetree\" title=\"Permanent link\">&para;</a></h2>\n<p>The engine inherits from <a href=\"#table_engines-mergetree\">MergeTree</a>, altering the logic for data parts merging. ClickHouse replaces all rows with the same primary key (or more accurately, with the same <a href=\"#mergetree/\">sorting key</a>) with a single row (within a one data part) that stores a combination of states of aggregate functions.</p>\n<p>You can use <code>AggregatingMergeTree</code> tables for incremental data aggregation, including for aggregated materialized views.</p>\n<p>The engine processes all columns with <a href=\"#../../data_types/nested_data_structures/aggregatefunction/\">AggregateFunction</a> type.</p>\n<p>It is appropriate to use <code>AggregatingMergeTree</code> if it reduces the number of rows by orders.</p>\n<h3 id=\"creating-a-table_2\">Creating a Table<a class=\"headerlink\" href=\"#creating-a-table_2\" title=\"Permanent link\">&para;</a></h3>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"p\">[</span><span class=\"k\">IF</span> <span class=\"k\">NOT</span> <span class=\"k\">EXISTS</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">db</span><span class=\"p\">.]</span><span class=\"k\">table_name</span> <span class=\"p\">[</span><span class=\"k\">ON</span> <span class=\"k\">CLUSTER</span> <span class=\"k\">cluster</span><span class=\"p\">]</span>\n<span class=\"p\">(</span>\n    <span class=\"n\">name1</span> <span class=\"p\">[</span><span class=\"n\">type1</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"k\">DEFAULT</span><span class=\"o\">|</span><span class=\"n\">MATERIALIZED</span><span class=\"o\">|</span><span class=\"k\">ALIAS</span> <span class=\"n\">expr1</span><span class=\"p\">],</span>\n    <span class=\"n\">name2</span> <span class=\"p\">[</span><span class=\"n\">type2</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"k\">DEFAULT</span><span class=\"o\">|</span><span class=\"n\">MATERIALIZED</span><span class=\"o\">|</span><span class=\"k\">ALIAS</span> <span class=\"n\">expr2</span><span class=\"p\">],</span>\n    <span class=\"p\">...</span>\n<span class=\"p\">)</span> <span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">AggregatingMergeTree</span><span class=\"p\">()</span>\n<span class=\"p\">[</span><span class=\"n\">PARTITION</span> <span class=\"k\">BY</span> <span class=\"n\">expr</span><span class=\"p\">]</span>\n<span class=\"p\">[</span><span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"n\">expr</span><span class=\"p\">]</span>\n<span class=\"p\">[</span><span class=\"n\">SAMPLE</span> <span class=\"k\">BY</span> <span class=\"n\">expr</span><span class=\"p\">]</span>\n<span class=\"p\">[</span><span class=\"n\">SETTINGS</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"n\">value</span><span class=\"p\">,</span> <span class=\"p\">...]</span>\n</pre></div>\n\n\n<p>For a description of request parameters, see <a href=\"#../../query_language/create/\">request description</a>.</p>\n<p><strong>Query clauses</strong></p>\n<p>When creating a <code>ReplacingMergeTree</code> table the same <a href=\"#mergetree/\">clauses</a> are required, as when creating a <code>MergeTree</code> table.</p>\n<p><details markdown=\"1\"><summary>Deprecated Method for Creating a Table</summary></p>\n<div class=\"admonition attention\">\n<p class=\"admonition-title\">Attention</p>\n<p>Do not use this method in new projects and, if possible, switch the old projects to the method described above.</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"p\">[</span><span class=\"k\">IF</span> <span class=\"k\">NOT</span> <span class=\"k\">EXISTS</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">db</span><span class=\"p\">.]</span><span class=\"k\">table_name</span> <span class=\"p\">[</span><span class=\"k\">ON</span> <span class=\"k\">CLUSTER</span> <span class=\"k\">cluster</span><span class=\"p\">]</span>\n<span class=\"p\">(</span>\n    <span class=\"n\">name1</span> <span class=\"p\">[</span><span class=\"n\">type1</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"k\">DEFAULT</span><span class=\"o\">|</span><span class=\"n\">MATERIALIZED</span><span class=\"o\">|</span><span class=\"k\">ALIAS</span> <span class=\"n\">expr1</span><span class=\"p\">],</span>\n    <span class=\"n\">name2</span> <span class=\"p\">[</span><span class=\"n\">type2</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"k\">DEFAULT</span><span class=\"o\">|</span><span class=\"n\">MATERIALIZED</span><span class=\"o\">|</span><span class=\"k\">ALIAS</span> <span class=\"n\">expr2</span><span class=\"p\">],</span>\n    <span class=\"p\">...</span>\n<span class=\"p\">)</span> <span class=\"n\">ENGINE</span> <span class=\"p\">[</span><span class=\"o\">=</span><span class=\"p\">]</span> <span class=\"n\">AggregatingMergeTree</span><span class=\"p\">(</span><span class=\"nb\">date</span><span class=\"o\">-</span><span class=\"k\">column</span> <span class=\"p\">[,</span> <span class=\"n\">sampling_expression</span><span class=\"p\">],</span> <span class=\"p\">(</span><span class=\"k\">primary</span><span class=\"p\">,</span> <span class=\"k\">key</span><span class=\"p\">),</span> <span class=\"n\">index_granularity</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>All of the parameters have the same meaning as in <code>MergeTree</code>.\n</details></p>\n<h3 id=\"select-and-insert\">SELECT and INSERT<a class=\"headerlink\" href=\"#select-and-insert\" title=\"Permanent link\">&para;</a></h3>\n<p>To insert data, use <a href=\"#../../query_language/insert_into/\">INSERT SELECT</a> query with aggregate -State- functions.\nWhen selecting data from <code>AggregatingMergeTree</code> table, use <code>GROUP BY</code> clause and the same aggregate functions as when inserting data, but using <code>-Merge</code> suffix.</p>\n<p>In the results of <code>SELECT</code> query the values of <code>AggregateFunction</code> type have implementation-specific binary representation for all of the ClickHouse output formats. If dump data into, for example, <code>TabSeparated</code> format with <code>SELECT</code> query then this dump can be loaded back using <code>INSERT</code> query.</p>\n<h3 id=\"example-of-an-aggregated-materialized-view\">Example of an Aggregated Materialized View<a class=\"headerlink\" href=\"#example-of-an-aggregated-materialized-view\" title=\"Permanent link\">&para;</a></h3>\n<p><code>AggregatingMergeTree</code> materialized view that watches the <code>test.visits</code> table:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span> <span class=\"n\">MATERIALIZED</span> <span class=\"k\">VIEW</span> <span class=\"n\">test</span><span class=\"p\">.</span><span class=\"n\">basic</span>\n<span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">AggregatingMergeTree</span><span class=\"p\">()</span> <span class=\"n\">PARTITION</span> <span class=\"k\">BY</span> <span class=\"n\">toYYYYMM</span><span class=\"p\">(</span><span class=\"n\">StartDate</span><span class=\"p\">)</span> <span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"p\">(</span><span class=\"n\">CounterID</span><span class=\"p\">,</span> <span class=\"n\">StartDate</span><span class=\"p\">)</span>\n<span class=\"k\">AS</span> <span class=\"k\">SELECT</span>\n    <span class=\"n\">CounterID</span><span class=\"p\">,</span>\n    <span class=\"n\">StartDate</span><span class=\"p\">,</span>\n    <span class=\"n\">sumState</span><span class=\"p\">(</span><span class=\"n\">Sign</span><span class=\"p\">)</span>    <span class=\"k\">AS</span> <span class=\"n\">Visits</span><span class=\"p\">,</span>\n    <span class=\"n\">uniqState</span><span class=\"p\">(</span><span class=\"n\">UserID</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">Users</span>\n<span class=\"k\">FROM</span> <span class=\"n\">test</span><span class=\"p\">.</span><span class=\"n\">visits</span>\n<span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">CounterID</span><span class=\"p\">,</span> <span class=\"n\">StartDate</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<p>Inserting of data into the <code>test.visits</code> table.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">INSERT</span> <span class=\"k\">INTO</span> <span class=\"n\">test</span><span class=\"p\">.</span><span class=\"n\">visits</span> <span class=\"p\">...</span>\n</pre></div>\n\n\n<p>The data are inserted in both the table and view <code>test.basic</code> that will perform the aggregation.</p>\n<p>To get the aggregated data, we need to execute a query such as <code>SELECT ... GROUP BY ...</code> from the view <code>test.basic</code>:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span>\n    <span class=\"n\">StartDate</span><span class=\"p\">,</span>\n    <span class=\"n\">sumMerge</span><span class=\"p\">(</span><span class=\"n\">Visits</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">Visits</span><span class=\"p\">,</span>\n    <span class=\"n\">uniqMerge</span><span class=\"p\">(</span><span class=\"n\">Users</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">Users</span>\n<span class=\"k\">FROM</span> <span class=\"n\">test</span><span class=\"p\">.</span><span class=\"n\">basic</span>\n<span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">StartDate</span>\n<span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"n\">StartDate</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<p><a name=\"../../operations/table_engines/collapsingmergetree/\"></a>\n<a name=\"../../../table_engines/collapsingmergetree/\"></a>\n<a name=\"../../../../operations/table_engines/collapsingmergetree/\"></a>\n<a name=\"collapsingmergetree/\"></a>\n<a name=\"../../../../../operations/table_engines/collapsingmergetree/\"></a>\n<a name=\"../../table_engines/collapsingmergetree/\"></a>\n<a name=\"../table_engines/collapsingmergetree/\"></a>\n<a name=\"../../../../../../table_engines/collapsingmergetree/\"></a>\n<a name=\"../../../operations/table_engines/collapsingmergetree/\"></a>\n<a name=\"../../../../table_engines/collapsingmergetree/\"></a>\n<a name=\"../operations/table_engines/collapsingmergetree/\"></a>\n<a name=\"../../../../../table_engines/collapsingmergetree/\"></a>\n<a name=\"operations/table_engines/collapsingmergetree/\"></a>\n<a name=\"table_engines/collapsingmergetree/\"></a></p>\n<h2 id=\"table_engine-collapsingmergetree\">CollapsingMergeTree<a class=\"headerlink\" href=\"#table_engine-collapsingmergetree\" title=\"Permanent link\">&para;</a></h2>\n<p>The engine inherits from <a href=\"#mergetree/\">MergeTree</a> and adds the logic of rows collapsing to data parts merge algorithm.</p>\n<p><code>CollapsingMergeTree</code> asynchronously deletes (collapses) pairs of rows if all of the fields in a row are equivalent excepting the particular field <code>Sign</code> which can have <code>1</code> and <code>-1</code> values. Rows without a pair are kept. For more details see the <a href=\"#table_engine-collapsingmergetree-collapsing\">Collapsing</a> section of the document.</p>\n<p>The engine may significantly reduce the volume of storage and increase efficiency of <code>SELECT</code> query as a consequence.</p>\n<h3 id=\"creating-a-table_3\">Creating a Table<a class=\"headerlink\" href=\"#creating-a-table_3\" title=\"Permanent link\">&para;</a></h3>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"p\">[</span><span class=\"k\">IF</span> <span class=\"k\">NOT</span> <span class=\"k\">EXISTS</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">db</span><span class=\"p\">.]</span><span class=\"k\">table_name</span> <span class=\"p\">[</span><span class=\"k\">ON</span> <span class=\"k\">CLUSTER</span> <span class=\"k\">cluster</span><span class=\"p\">]</span>\n<span class=\"p\">(</span>\n    <span class=\"n\">name1</span> <span class=\"p\">[</span><span class=\"n\">type1</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"k\">DEFAULT</span><span class=\"o\">|</span><span class=\"n\">MATERIALIZED</span><span class=\"o\">|</span><span class=\"k\">ALIAS</span> <span class=\"n\">expr1</span><span class=\"p\">],</span>\n    <span class=\"n\">name2</span> <span class=\"p\">[</span><span class=\"n\">type2</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"k\">DEFAULT</span><span class=\"o\">|</span><span class=\"n\">MATERIALIZED</span><span class=\"o\">|</span><span class=\"k\">ALIAS</span> <span class=\"n\">expr2</span><span class=\"p\">],</span>\n    <span class=\"p\">...</span>\n<span class=\"p\">)</span> <span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">CollapsingMergeTree</span><span class=\"p\">(</span><span class=\"n\">sign</span><span class=\"p\">)</span>\n<span class=\"p\">[</span><span class=\"n\">PARTITION</span> <span class=\"k\">BY</span> <span class=\"n\">expr</span><span class=\"p\">]</span>\n<span class=\"p\">[</span><span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"n\">expr</span><span class=\"p\">]</span>\n<span class=\"p\">[</span><span class=\"n\">SAMPLE</span> <span class=\"k\">BY</span> <span class=\"n\">expr</span><span class=\"p\">]</span>\n<span class=\"p\">[</span><span class=\"n\">SETTINGS</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"n\">value</span><span class=\"p\">,</span> <span class=\"p\">...]</span>\n</pre></div>\n\n\n<p>For a description of query parameters, see <a href=\"#../../query_language/create/\">query description</a>.</p>\n<p><strong>CollapsingMergeTree Parameters</strong></p>\n<ul>\n<li>\n<p><code>sign</code> \u2014 Name of the column with the type of row: <code>1</code> is a \"state\" row, <code>-1</code> is a \"cancel\" row.</p>\n<p>Column data type \u2014 <code>Int8</code>.</p>\n</li>\n</ul>\n<p><strong>Query clauses</strong></p>\n<p>When creating a <code>CollapsingMergeTree</code> table, the same <a href=\"#table_engine-mergetree-creating-a-table\">query clauses</a> are required, as when creating a <code>MergeTree</code> table.</p>\n<p><details markdown=\"1\"><summary>Deprecated Method for Creating a Table</summary></p>\n<div class=\"admonition attention\">\n<p class=\"admonition-title\">Attention</p>\n<p>Do not use this method in new projects and, if possible, switch the old projects to the method described above.</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"p\">[</span><span class=\"k\">IF</span> <span class=\"k\">NOT</span> <span class=\"k\">EXISTS</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">db</span><span class=\"p\">.]</span><span class=\"k\">table_name</span> <span class=\"p\">[</span><span class=\"k\">ON</span> <span class=\"k\">CLUSTER</span> <span class=\"k\">cluster</span><span class=\"p\">]</span>\n<span class=\"p\">(</span>\n    <span class=\"n\">name1</span> <span class=\"p\">[</span><span class=\"n\">type1</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"k\">DEFAULT</span><span class=\"o\">|</span><span class=\"n\">MATERIALIZED</span><span class=\"o\">|</span><span class=\"k\">ALIAS</span> <span class=\"n\">expr1</span><span class=\"p\">],</span>\n    <span class=\"n\">name2</span> <span class=\"p\">[</span><span class=\"n\">type2</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"k\">DEFAULT</span><span class=\"o\">|</span><span class=\"n\">MATERIALIZED</span><span class=\"o\">|</span><span class=\"k\">ALIAS</span> <span class=\"n\">expr2</span><span class=\"p\">],</span>\n    <span class=\"p\">...</span>\n<span class=\"p\">)</span> <span class=\"n\">ENGINE</span> <span class=\"p\">[</span><span class=\"o\">=</span><span class=\"p\">]</span> <span class=\"n\">CollapsingMergeTree</span><span class=\"p\">(</span><span class=\"nb\">date</span><span class=\"o\">-</span><span class=\"k\">column</span> <span class=\"p\">[,</span> <span class=\"n\">sampling_expression</span><span class=\"p\">],</span> <span class=\"p\">(</span><span class=\"k\">primary</span><span class=\"p\">,</span> <span class=\"k\">key</span><span class=\"p\">),</span> <span class=\"n\">index_granularity</span><span class=\"p\">,</span> <span class=\"n\">sign</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>All of the parameters excepting <code>sign</code> have the same meaning as in <code>MergeTree</code>.</p>\n<ul>\n<li>\n<p><code>sign</code> \u2014 Name of the column with the type of row: <code>1</code> \u2014 \"state\" row, <code>-1</code> \u2014 \"cancel\" row.</p>\n<p>Column Data Type \u2014 <code>Int8</code>.\n</details></p>\n</li>\n</ul>\n<h3 id=\"table_engine-collapsingmergetree-collapsing\">Collapsing<a class=\"headerlink\" href=\"#table_engine-collapsingmergetree-collapsing\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"data\">Data<a class=\"headerlink\" href=\"#data\" title=\"Permanent link\">&para;</a></h4>\n<p>Consider the situation where you need to save continually changing data for some object. It sounds logical to have one row for an object and update it at any change, but update operation is expensive and slow for DBMS because it requires rewriting of the data in the storage. If you need to write data quickly, update not acceptable, but you can write the changes of an object sequentially as follows.</p>\n<p>Use the particular column <code>Sign</code>. If <code>Sign = 1</code> it means that the row is a state of an object, let's call it \"state\" row. If <code>Sign = -1</code> it means the cancellation of the state of an object with the same attributes, let's call it \"cancel\" row.</p>\n<p>For example, we want to calculate how much pages users checked at some site and how long they were there. At some moment of time we write the following row with the state of user activity:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500UserID\u2500\u252c\u2500PageViews\u2500\u252c\u2500Duration\u2500\u252c\u2500Sign\u2500\u2510</span>\n<span class=\"err\">\u2502 4324182021466249494 \u2502         5 \u2502      146 \u2502    1 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>At some moment later we register the change of user activity and write it with the following two rows.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500UserID\u2500\u252c\u2500PageViews\u2500\u252c\u2500Duration\u2500\u252c\u2500Sign\u2500\u2510</span>\n<span class=\"err\">\u2502 4324182021466249494 \u2502         5 \u2502      146 \u2502   -1 \u2502</span>\n<span class=\"err\">\u2502 4324182021466249494 \u2502         6 \u2502      185 \u2502    1 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>The first row cancels the previous state of the object (user). It should copy all of the fields of the canceled state excepting <code>Sign</code>.</p>\n<p>The second row contains the current state.</p>\n<p>As we need only the last state of user activity, the rows</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500UserID\u2500\u252c\u2500PageViews\u2500\u252c\u2500Duration\u2500\u252c\u2500Sign\u2500\u2510</span>\n<span class=\"err\">\u2502 4324182021466249494 \u2502         5 \u2502      146 \u2502    1 \u2502</span>\n<span class=\"err\">\u2502 4324182021466249494 \u2502         5 \u2502      146 \u2502   -1 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>can be deleted collapsing the invalid (old) state of an object. <code>CollapsingMergeTree</code> does this while merging of the data parts.</p>\n<p>Why we need 2 rows for each change read in the <a href=\"#table_engine-collapsingmergetree-collapsing-algorithm\">Algorithm</a> paragraph.</p>\n<p><strong>Peculiar properties of such approach</strong></p>\n<ol>\n<li>The program that writes the data should remember the state of an object to be able to cancel it. \"Cancel\" string should be the copy of \"state\" string with the opposite <code>Sign</code>. It increases the initial size of storage but allows to write the data quickly.</li>\n<li>Long growing arrays in columns reduce the efficiency of the engine due to load for writing. The more straightforward data, the higher efficiency.</li>\n<li>The <code>SELECT</code> results depend strongly on the consistency of object changes history. Be accurate when preparing data for inserting. You can get unpredictable results in inconsistent data, for example, negative values for non-negative metrics such as session depth.</li>\n</ol>\n<h4 id=\"table_engine-collapsingmergetree-collapsing-algorithm\">Algorithm<a class=\"headerlink\" href=\"#table_engine-collapsingmergetree-collapsing-algorithm\" title=\"Permanent link\">&para;</a></h4>\n<p>When ClickHouse merges data parts, each group of consecutive rows with the same primary key is reduced to not more than two rows, one with <code>Sign = 1</code> (\"state\" row) and another with <code>Sign = -1</code> (\"cancel\" row). In other words, entries collapse.</p>\n<p>For each resulting data part ClickHouse saves:</p>\n<ol>\n<li>The first \"cancel\" and the last \"state\" rows, if the number of \"state\" and \"cancel\" rows matches.</li>\n<li>The last \"state\" row, if there is one more \"state\" row than \"cancel\" rows.</li>\n<li>The first \"cancel\" row, if there is one more \"cancel\" row than \"state\" rows.</li>\n<li>\n<p>None of the rows, in all other cases.</p>\n<p>The merge continues, but ClickHouse treats this situation as a logical error and records it in the server log. This error can occur if the same data were inserted more than once.</p>\n</li>\n</ol>\n<p>Thus, collapsing should not change the results of calculating statistics.\nChanges gradually collapsed so that in the end only the last state of almost every object left.</p>\n<p>The <code>Sign</code> is required because the merging algorithm doesn't guarantee that all of the rows with the same primary key will be in the same resulting data part and even on the same physical server. ClickHouse process <code>SELECT</code> queries with multiple threads, and it can not predict the order of rows in the result. The aggregation is required if there is a need to get completely \"collapsed\" data from <code>CollapsingMergeTree</code> table.</p>\n<p>To finalize collapsing write a query with <code>GROUP BY</code> clause and aggregate functions that account for the sign. For example, to calculate quantity, use <code>sum(Sign)</code> instead of <code>count()</code>. To calculate the sum of something, use <code>sum(Sign * x)</code> instead of <code>sum(x)</code>, and so on, and also add <code>HAVING sum(Sign) &gt; 0</code>.</p>\n<p>The aggregates <code>count</code>, <code>sum</code> and <code>avg</code> could be calculated this way. The aggregate <code>uniq</code> could be calculated if an object has at least one state not collapsed. The aggregates <code>min</code> and <code>max</code> could not be calculated because <code>CollapsingMergeTree</code> does not save values history of the collapsed states.</p>\n<p>If you need to extract data without aggregation (for example, to check whether rows are present whose newest values match certain conditions), you can use the <code>FINAL</code> modifier for the <code>FROM</code> clause. This approach is significantly less efficient.</p>\n<h3 id=\"example-of-use\">Example of use<a class=\"headerlink\" href=\"#example-of-use\" title=\"Permanent link\">&para;</a></h3>\n<p>Example data:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500UserID\u2500\u252c\u2500PageViews\u2500\u252c\u2500Duration\u2500\u252c\u2500Sign\u2500\u2510</span>\n<span class=\"err\">\u2502 4324182021466249494 \u2502         5 \u2502      146 \u2502    1 \u2502</span>\n<span class=\"err\">\u2502 4324182021466249494 \u2502         5 \u2502      146 \u2502   -1 \u2502</span>\n<span class=\"err\">\u2502 4324182021466249494 \u2502         6 \u2502      185 \u2502    1 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>Creation of the table:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">UAct</span>\n<span class=\"p\">(</span>\n    <span class=\"n\">UserID</span> <span class=\"n\">UInt64</span><span class=\"p\">,</span>\n    <span class=\"n\">PageViews</span> <span class=\"n\">UInt8</span><span class=\"p\">,</span>\n    <span class=\"n\">Duration</span> <span class=\"n\">UInt8</span><span class=\"p\">,</span>\n    <span class=\"n\">Sign</span> <span class=\"nb\">Int8</span>\n<span class=\"p\">)</span>\n<span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">CollapsingMergeTree</span><span class=\"p\">(</span><span class=\"n\">Sign</span><span class=\"p\">)</span>\n<span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"n\">UserID</span>\n</pre></div>\n\n\n<p>Insertion of the data:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">INSERT</span> <span class=\"k\">INTO</span> <span class=\"n\">UAct</span> <span class=\"k\">VALUES</span> <span class=\"p\">(</span><span class=\"mi\">4324182021466249494</span><span class=\"p\">,</span> <span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"mi\">146</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">INSERT</span> <span class=\"k\">INTO</span> <span class=\"n\">UAct</span> <span class=\"k\">VALUES</span> <span class=\"p\">(</span><span class=\"mi\">4324182021466249494</span><span class=\"p\">,</span> <span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"mi\">146</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">),(</span><span class=\"mi\">4324182021466249494</span><span class=\"p\">,</span> <span class=\"mi\">6</span><span class=\"p\">,</span> <span class=\"mi\">185</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>We use two <code>INSERT</code> queries to create two different data parts. If we insert the data with one query ClickHouse creates one data part and will not perform any merge ever.</p>\n<p>Getting the data:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">SELECT * FROM UAct</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500UserID\u2500\u252c\u2500PageViews\u2500\u252c\u2500Duration\u2500\u252c\u2500Sign\u2500\u2510</span>\n<span class=\"err\">\u2502 4324182021466249494 \u2502         5 \u2502      146 \u2502   -1 \u2502</span>\n<span class=\"err\">\u2502 4324182021466249494 \u2502         6 \u2502      185 \u2502    1 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n<span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500UserID\u2500\u252c\u2500PageViews\u2500\u252c\u2500Duration\u2500\u252c\u2500Sign\u2500\u2510</span>\n<span class=\"err\">\u2502 4324182021466249494 \u2502         5 \u2502      146 \u2502    1 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>What do we see and where is collapsing?</p>\n<p>With two <code>INSERT</code> queries, we created 2 data parts. The <code>SELECT</code> query was performed in 2 threads, and we got a random order of rows. Collapsing not occurred because there was no merge of the data parts yet. ClickHouse merges data part in an unknown moment of time which we can not predict.</p>\n<p>Thus we need aggregation:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span>\n    <span class=\"n\">UserID</span><span class=\"p\">,</span>\n    <span class=\"k\">sum</span><span class=\"p\">(</span><span class=\"n\">PageViews</span> <span class=\"o\">*</span> <span class=\"n\">Sign</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">PageViews</span><span class=\"p\">,</span>\n    <span class=\"k\">sum</span><span class=\"p\">(</span><span class=\"n\">Duration</span> <span class=\"o\">*</span> <span class=\"n\">Sign</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">Duration</span>\n<span class=\"k\">FROM</span> <span class=\"n\">UAct</span>\n<span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">UserID</span>\n<span class=\"k\">HAVING</span> <span class=\"k\">sum</span><span class=\"p\">(</span><span class=\"n\">Sign</span><span class=\"p\">)</span> <span class=\"o\">&gt;</span> <span class=\"mi\">0</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500UserID\u2500\u252c\u2500PageViews\u2500\u252c\u2500Duration\u2500\u2510</span>\n<span class=\"err\">\u2502 4324182021466249494 \u2502         6 \u2502      185 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>If we do not need aggregation and want to force collapsing, we can use <code>FINAL</code> modifier for <code>FROM</code> clause.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"o\">*</span> <span class=\"k\">FROM</span> <span class=\"n\">UAct</span> <span class=\"k\">FINAL</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500UserID\u2500\u252c\u2500PageViews\u2500\u252c\u2500Duration\u2500\u252c\u2500Sign\u2500\u2510</span>\n<span class=\"err\">\u2502 4324182021466249494 \u2502         6 \u2502      185 \u2502    1 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>This way of selecting the data is very inefficient. Don't use it for big tables.</p>\n<p><a name=\"../../../../operations/table_engines/versionedcollapsingmergetree/\"></a>\n<a name=\"../../../operations/table_engines/versionedcollapsingmergetree/\"></a>\n<a name=\"../../../../../table_engines/versionedcollapsingmergetree/\"></a>\n<a name=\"../../table_engines/versionedcollapsingmergetree/\"></a>\n<a name=\"table_engines/versionedcollapsingmergetree/\"></a>\n<a name=\"../operations/table_engines/versionedcollapsingmergetree/\"></a>\n<a name=\"../../../../../operations/table_engines/versionedcollapsingmergetree/\"></a>\n<a name=\"../../../table_engines/versionedcollapsingmergetree/\"></a>\n<a name=\"../table_engines/versionedcollapsingmergetree/\"></a>\n<a name=\"../../operations/table_engines/versionedcollapsingmergetree/\"></a>\n<a name=\"versionedcollapsingmergetree/\"></a>\n<a name=\"../../../../table_engines/versionedcollapsingmergetree/\"></a>\n<a name=\"operations/table_engines/versionedcollapsingmergetree/\"></a>\n<a name=\"../../../../../../table_engines/versionedcollapsingmergetree/\"></a></p>\n<h2 id=\"versionedcollapsingmergetree\">VersionedCollapsingMergeTree<a class=\"headerlink\" href=\"#versionedcollapsingmergetree\" title=\"Permanent link\">&para;</a></h2>\n<p>This engine:</p>\n<ul>\n<li>Allows quick writing of object states that are continually changing.</li>\n<li>Deletes old object states in the background. This significantly reduces the volume of storage.</li>\n</ul>\n<p>See the section <a href=\"#table_engines_versionedcollapsingmergetree\">Collapsing</a> for details.</p>\n<p>The engine inherits from <a href=\"#table_engines-mergetree\">MergeTree</a> and adds the logic for collapsing rows to the algorithm for merging data parts. <code>VersionedCollapsingMergeTree</code> serves the same purpose as <a href=\"#collapsingmergetree/\">CollapsingMergeTree</a> but uses a different collapsing algorithm that allows inserting the data in any order with multiple threads. In particular, the <code>Version</code> column helps to collapse the rows properly even if they are inserted in the wrong order. In contrast, <code>CollapsingMergeTree</code> allows only strictly consecutive insertion.</p>\n<h3 id=\"creating-a-table_4\">Creating a Table<a class=\"headerlink\" href=\"#creating-a-table_4\" title=\"Permanent link\">&para;</a></h3>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"p\">[</span><span class=\"k\">IF</span> <span class=\"k\">NOT</span> <span class=\"k\">EXISTS</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">db</span><span class=\"p\">.]</span><span class=\"k\">table_name</span> <span class=\"p\">[</span><span class=\"k\">ON</span> <span class=\"k\">CLUSTER</span> <span class=\"k\">cluster</span><span class=\"p\">]</span>\n<span class=\"p\">(</span>\n    <span class=\"n\">name1</span> <span class=\"p\">[</span><span class=\"n\">type1</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"k\">DEFAULT</span><span class=\"o\">|</span><span class=\"n\">MATERIALIZED</span><span class=\"o\">|</span><span class=\"k\">ALIAS</span> <span class=\"n\">expr1</span><span class=\"p\">],</span>\n    <span class=\"n\">name2</span> <span class=\"p\">[</span><span class=\"n\">type2</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"k\">DEFAULT</span><span class=\"o\">|</span><span class=\"n\">MATERIALIZED</span><span class=\"o\">|</span><span class=\"k\">ALIAS</span> <span class=\"n\">expr2</span><span class=\"p\">],</span>\n    <span class=\"p\">...</span>\n<span class=\"p\">)</span> <span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">VersionedCollapsingMergeTree</span><span class=\"p\">(</span><span class=\"n\">sign</span><span class=\"p\">,</span> <span class=\"k\">version</span><span class=\"p\">)</span>\n<span class=\"p\">[</span><span class=\"n\">PARTITION</span> <span class=\"k\">BY</span> <span class=\"n\">expr</span><span class=\"p\">]</span>\n<span class=\"p\">[</span><span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"n\">expr</span><span class=\"p\">]</span>\n<span class=\"p\">[</span><span class=\"n\">SAMPLE</span> <span class=\"k\">BY</span> <span class=\"n\">expr</span><span class=\"p\">]</span>\n<span class=\"p\">[</span><span class=\"n\">SETTINGS</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"n\">value</span><span class=\"p\">,</span> <span class=\"p\">...]</span>\n</pre></div>\n\n\n<p>For a description of query parameters, see the <a href=\"#../../query_language/create/\">query description</a>.</p>\n<p><strong>Engine Parameters</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">VersionedCollapsingMergeTree(sign, version)</span>\n</pre></div>\n\n\n<ul>\n<li>\n<p><code>sign</code> \u2014 Name of the column with the type of row: <code>1</code> is a \"state\" row, <code>-1</code> is a \"cancel\" row.</p>\n<p>The column data type should be <code>Int8</code>.</p>\n</li>\n<li>\n<p><code>version</code> \u2014 Name of the column with the version of the object state.</p>\n<p>The column data type should be <code>UInt*</code>.</p>\n</li>\n</ul>\n<p><strong>Query Clauses</strong></p>\n<p>When creating a <code>VersionedCollapsingMergeTree</code> table, the same <a href=\"#mergetree/\">clauses</a> are required as when creating a <code>MergeTree</code> table.</p>\n<p><details markdown=\"1\"><summary>Deprecated Method for Creating a Table</summary></p>\n<div class=\"admonition attention\">\n<p class=\"admonition-title\">Attention</p>\n<p>Do not use this method in new projects. If possible, switch the old projects to the method described above.</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"p\">[</span><span class=\"k\">IF</span> <span class=\"k\">NOT</span> <span class=\"k\">EXISTS</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">db</span><span class=\"p\">.]</span><span class=\"k\">table_name</span> <span class=\"p\">[</span><span class=\"k\">ON</span> <span class=\"k\">CLUSTER</span> <span class=\"k\">cluster</span><span class=\"p\">]</span>\n<span class=\"p\">(</span>\n    <span class=\"n\">name1</span> <span class=\"p\">[</span><span class=\"n\">type1</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"k\">DEFAULT</span><span class=\"o\">|</span><span class=\"n\">MATERIALIZED</span><span class=\"o\">|</span><span class=\"k\">ALIAS</span> <span class=\"n\">expr1</span><span class=\"p\">],</span>\n    <span class=\"n\">name2</span> <span class=\"p\">[</span><span class=\"n\">type2</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"k\">DEFAULT</span><span class=\"o\">|</span><span class=\"n\">MATERIALIZED</span><span class=\"o\">|</span><span class=\"k\">ALIAS</span> <span class=\"n\">expr2</span><span class=\"p\">],</span>\n    <span class=\"p\">...</span>\n<span class=\"p\">)</span> <span class=\"n\">ENGINE</span> <span class=\"p\">[</span><span class=\"o\">=</span><span class=\"p\">]</span> <span class=\"n\">VersionedCollapsingMergeTree</span><span class=\"p\">(</span><span class=\"nb\">date</span><span class=\"o\">-</span><span class=\"k\">column</span> <span class=\"p\">[,</span> <span class=\"n\">sampling_expression</span><span class=\"p\">],</span> <span class=\"p\">(</span><span class=\"k\">primary</span><span class=\"p\">,</span> <span class=\"k\">key</span><span class=\"p\">),</span> <span class=\"n\">index_granularity</span><span class=\"p\">,</span> <span class=\"n\">sign</span><span class=\"p\">,</span> <span class=\"k\">version</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>All of the parameters except <code>sign</code> and <code>version</code> have the same meaning as in <code>MergeTree</code>.</p>\n<ul>\n<li>\n<p><code>sign</code> \u2014 Name of the column with the type of row: <code>1</code> is a \"state\" row, <code>-1</code> is a \"cancel\" row.</p>\n<p>Column Data Type \u2014 <code>Int8</code>.</p>\n</li>\n<li>\n<p><code>version</code> \u2014 Name of the column with the version of the object state.</p>\n<p>The column data type should be <code>UInt*</code>.\n</details></p>\n</li>\n</ul>\n<h3 id=\"table_engines_versionedcollapsingmergetree\">Collapsing<a class=\"headerlink\" href=\"#table_engines_versionedcollapsingmergetree\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"data_1\">Data<a class=\"headerlink\" href=\"#data_1\" title=\"Permanent link\">&para;</a></h4>\n<p>Consider a situation where you need to save continually changing data for some object. It is reasonable to have one row for an object and update the row whenever there are changes. However, the update operation is expensive and slow for a DBMS because it requires rewriting the data in the storage. Update is not acceptable if you need to write data quickly, but you can write the changes to an object sequentially as follows.</p>\n<p>Use the <code>Sign</code> column when writing the row. If <code>Sign = 1</code> it means that the row is a state of an object (let's call it the \"state\" row). If <code>Sign = -1</code> it indicates the cancellation of the state of an object with the same attributes (let's call it the \"cancel\" row). Also use the <code>Version</code> column, which should identify each state of an object with a separate number.</p>\n<p>For example, we want to calculate how many pages users visited on some site and how long they were there. At some point in time we write the following row with the state of user activity:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500UserID\u2500\u252c\u2500PageViews\u2500\u252c\u2500Duration\u2500\u252c\u2500Sign\u2500\u252c\u2500Version\u2500\u2510</span>\n<span class=\"err\">\u2502 4324182021466249494 \u2502         5 \u2502      146 \u2502    1 \u2502       1 |</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>At some point later we register the change of user activity and write it with the following two rows.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500UserID\u2500\u252c\u2500PageViews\u2500\u252c\u2500Duration\u2500\u252c\u2500Sign\u2500\u252c\u2500Version\u2500\u2510</span>\n<span class=\"err\">\u2502 4324182021466249494 \u2502         5 \u2502      146 \u2502   -1 \u2502       1 |</span>\n<span class=\"err\">\u2502 4324182021466249494 \u2502         6 \u2502      185 \u2502    1 \u2502       2 |</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>The first row cancels the previous state of the object (user). It should copy all of the fields of the canceled state except <code>Sign</code>.</p>\n<p>The second row contains the current state.</p>\n<p>Because we need only the last state of user activity, the rows</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500UserID\u2500\u252c\u2500PageViews\u2500\u252c\u2500Duration\u2500\u252c\u2500Sign\u2500\u252c\u2500Version\u2500\u2510</span>\n<span class=\"err\">\u2502 4324182021466249494 \u2502         5 \u2502      146 \u2502    1 \u2502       1 |</span>\n<span class=\"err\">\u2502 4324182021466249494 \u2502         5 \u2502      146 \u2502   -1 \u2502       1 |</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>can be deleted, collapsing the invalid (old) state of the object. <code>VersionedCollapsingMergeTree</code> does this while merging the data parts.</p>\n<p>To find out why we need two rows for each change, see <a href=\"#table_engines-versionedcollapsingmergetree-algorithm\">Algorithm</a>.</p>\n<p><strong>Notes on Usage</strong></p>\n<ol>\n<li>The program that writes the data should remember the state of an object in order to cancel it. The \"cancel\" string should be a copy of the \"state\" string with the opposite <code>Sign</code>. This increases the initial size of storage but allows to write the data quickly.</li>\n<li>Long growing arrays in columns reduce the efficiency of the engine due to the load for writing. The more straightforward the data, the better the efficiency.</li>\n<li><code>SELECT</code> results depend strongly on the consistency of the history of object changes. Be accurate when preparing data for inserting. You can get unpredictable results with inconsistent data, such as negative values for non-negative metrics like session depth.</li>\n</ol>\n<h4 id=\"table_engines-versionedcollapsingmergetree-algorithm\">Algorithm<a class=\"headerlink\" href=\"#table_engines-versionedcollapsingmergetree-algorithm\" title=\"Permanent link\">&para;</a></h4>\n<p>When ClickHouse merges data parts, it deletes each pair of rows that have the same primary key and version and different <code>Sign</code>. The order of rows does not matter.</p>\n<p>When ClickHouse inserts data, it orders rows by the primary key. If the <code>Version</code> column is not in the primary key, ClickHouse adds it to the primary key implicitly as the last field and uses it for ordering.</p>\n<h3 id=\"selecting-data\">Selecting Data<a class=\"headerlink\" href=\"#selecting-data\" title=\"Permanent link\">&para;</a></h3>\n<p>ClickHouse doesn't guarantee that all of the rows with the same primary key will be in the same resulting data part or even on the same physical server. This is true both for writing the data and for subsequent merging of the data parts. In addition, ClickHouse processes <code>SELECT</code> queries with multiple threads, and it cannot predict the order of rows in the result. This means that aggregation is required if there is a need to get completely \"collapsed\" data from a <code>VersionedCollapsingMergeTree</code> table.</p>\n<p>To finalize collapsing, write a query with a <code>GROUP BY</code> clause and aggregate functions that account for the sign. For example, to calculate quantity, use <code>sum(Sign)</code> instead of <code>count()</code>. To calculate the sum of something, use <code>sum(Sign * x)</code> instead of <code>sum(x)</code>, and add <code>HAVING sum(Sign) &gt; 0</code>.</p>\n<p>The aggregates <code>count</code>, <code>sum</code> and <code>avg</code> can be calculated this way. The aggregate <code>uniq</code> can be calculated if an object has at least one non-collapsed state. The aggregates <code>min</code> and <code>max</code> can't be calculated because <code>VersionedCollapsingMergeTree</code> does not save the history of values of collapsed states.</p>\n<p>If you need to extract the data with \"collapsing\" but without aggregation (for example, to check whether rows are present whose newest values match certain conditions), you can use the <code>FINAL</code> modifier for the <code>FROM</code> clause. This approach is inefficient and should not be used with large tables.</p>\n<h3 id=\"example-of-use_1\">Example of Use<a class=\"headerlink\" href=\"#example-of-use_1\" title=\"Permanent link\">&para;</a></h3>\n<p>Example data:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500UserID\u2500\u252c\u2500PageViews\u2500\u252c\u2500Duration\u2500\u252c\u2500Sign\u2500\u252c\u2500Version\u2500\u2510</span>\n<span class=\"err\">\u2502 4324182021466249494 \u2502         5 \u2502      146 \u2502    1 \u2502       1 |</span>\n<span class=\"err\">\u2502 4324182021466249494 \u2502         5 \u2502      146 \u2502   -1 \u2502       1 |</span>\n<span class=\"err\">\u2502 4324182021466249494 \u2502         6 \u2502      185 \u2502    1 \u2502       2 |</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>Creating the table:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">UAct</span>\n<span class=\"p\">(</span>\n    <span class=\"n\">UserID</span> <span class=\"n\">UInt64</span><span class=\"p\">,</span>\n    <span class=\"n\">PageViews</span> <span class=\"n\">UInt8</span><span class=\"p\">,</span>\n    <span class=\"n\">Duration</span> <span class=\"n\">UInt8</span><span class=\"p\">,</span>\n    <span class=\"n\">Sign</span> <span class=\"nb\">Int8</span><span class=\"p\">,</span>\n    <span class=\"k\">Version</span> <span class=\"n\">UInt8</span>\n<span class=\"p\">)</span>\n<span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">VersionedCollapsingMergeTree</span><span class=\"p\">(</span><span class=\"n\">Sign</span><span class=\"p\">,</span> <span class=\"k\">Version</span><span class=\"p\">)</span>\n<span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"n\">UserID</span>\n</pre></div>\n\n\n<p>Inserting the data:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">INSERT</span> <span class=\"k\">INTO</span> <span class=\"n\">UAct</span> <span class=\"k\">VALUES</span> <span class=\"p\">(</span><span class=\"mi\">4324182021466249494</span><span class=\"p\">,</span> <span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"mi\">146</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">INSERT</span> <span class=\"k\">INTO</span> <span class=\"n\">UAct</span> <span class=\"k\">VALUES</span> <span class=\"p\">(</span><span class=\"mi\">4324182021466249494</span><span class=\"p\">,</span> <span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"mi\">146</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">),(</span><span class=\"mi\">4324182021466249494</span><span class=\"p\">,</span> <span class=\"mi\">6</span><span class=\"p\">,</span> <span class=\"mi\">185</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>We use two <code>INSERT</code> queries to create two different data parts. If we insert the data with a single query, ClickHouse creates one data part and will never perform any merge.</p>\n<p>Getting the data:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">SELECT * FROM UAct</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500UserID\u2500\u252c\u2500PageViews\u2500\u252c\u2500Duration\u2500\u252c\u2500Sign\u2500\u252c\u2500Version\u2500\u2510</span>\n<span class=\"err\">\u2502 4324182021466249494 \u2502         5 \u2502      146 \u2502    1 \u2502       1 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n<span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500UserID\u2500\u252c\u2500PageViews\u2500\u252c\u2500Duration\u2500\u252c\u2500Sign\u2500\u252c\u2500Version\u2500\u2510</span>\n<span class=\"err\">\u2502 4324182021466249494 \u2502         5 \u2502      146 \u2502   -1 \u2502       1 \u2502</span>\n<span class=\"err\">\u2502 4324182021466249494 \u2502         6 \u2502      185 \u2502    1 \u2502       2 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>What do we see here and where are the collapsed parts?\nWe created two data parts using two <code>INSERT</code> queries. The <code>SELECT</code> query was performed in two threads, and the result is a random order of rows.\nCollapsing did not occur because the data parts have not been merged yet. ClickHouse merges data parts at an unknown point in time which we cannot predict.</p>\n<p>This is why we need aggregation:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span>\n    <span class=\"n\">UserID</span><span class=\"p\">,</span>\n    <span class=\"k\">sum</span><span class=\"p\">(</span><span class=\"n\">PageViews</span> <span class=\"o\">*</span> <span class=\"n\">Sign</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">PageViews</span><span class=\"p\">,</span>\n    <span class=\"k\">sum</span><span class=\"p\">(</span><span class=\"n\">Duration</span> <span class=\"o\">*</span> <span class=\"n\">Sign</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">Duration</span><span class=\"p\">,</span>\n    <span class=\"k\">Version</span>\n<span class=\"k\">FROM</span> <span class=\"n\">UAct</span>\n<span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">UserID</span><span class=\"p\">,</span> <span class=\"k\">Version</span>\n<span class=\"k\">HAVING</span> <span class=\"k\">sum</span><span class=\"p\">(</span><span class=\"n\">Sign</span><span class=\"p\">)</span> <span class=\"o\">&gt;</span> <span class=\"mi\">0</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500UserID\u2500\u252c\u2500PageViews\u2500\u252c\u2500Duration\u2500\u252c\u2500Version\u2500\u2510</span>\n<span class=\"err\">\u2502 4324182021466249494 \u2502         6 \u2502      185 \u2502       2 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>If we don't need aggregation and want to force collapsing, we can use the <code>FINAL</code> modifier for the <code>FROM</code> clause.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"o\">*</span> <span class=\"k\">FROM</span> <span class=\"n\">UAct</span> <span class=\"k\">FINAL</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500UserID\u2500\u252c\u2500PageViews\u2500\u252c\u2500Duration\u2500\u252c\u2500Sign\u2500\u252c\u2500Version\u2500\u2510</span>\n<span class=\"err\">\u2502 4324182021466249494 \u2502         6 \u2502      185 \u2502    1 \u2502       2 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>This is a very inefficient way to select data. Don't use it for large tables.</p>\n<p><a name=\"operations/table_engines/graphitemergetree/\"></a>\n<a name=\"../table_engines/graphitemergetree/\"></a>\n<a name=\"graphitemergetree/\"></a>\n<a name=\"../../operations/table_engines/graphitemergetree/\"></a>\n<a name=\"../../../../../table_engines/graphitemergetree/\"></a>\n<a name=\"../../../../table_engines/graphitemergetree/\"></a>\n<a name=\"../../../table_engines/graphitemergetree/\"></a>\n<a name=\"../../../../operations/table_engines/graphitemergetree/\"></a>\n<a name=\"../../../../../../table_engines/graphitemergetree/\"></a>\n<a name=\"../../../operations/table_engines/graphitemergetree/\"></a>\n<a name=\"table_engines/graphitemergetree/\"></a>\n<a name=\"../../table_engines/graphitemergetree/\"></a>\n<a name=\"../operations/table_engines/graphitemergetree/\"></a>\n<a name=\"../../../../../operations/table_engines/graphitemergetree/\"></a></p>\n<h2 id=\"graphitemergetree\">GraphiteMergeTree<a class=\"headerlink\" href=\"#graphitemergetree\" title=\"Permanent link\">&para;</a></h2>\n<p>This engine is designed for thinning and aggregating/averaging (rollup) <a href=\"http://graphite.readthedocs.io/en/latest/index.html\" rel=\"external nofollow\">Graphite</a> data. It may be helpful to developers who want to use ClickHouse as a data store for Graphite.</p>\n<p>You can use any ClickHouse table engine to store the Graphite data if you don't need rollup, but if you need a rollup use <code>GraphiteMergeTree</code>. The engine reduces the volume of storage and increases the efficiency of queries from Graphite.</p>\n<p>The engine inherits properties from <a href=\"#mergetree/\">MergeTree</a>.</p>\n<h3 id=\"creating-a-table_5\">Creating a Table<a class=\"headerlink\" href=\"#creating-a-table_5\" title=\"Permanent link\">&para;</a></h3>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"p\">[</span><span class=\"k\">IF</span> <span class=\"k\">NOT</span> <span class=\"k\">EXISTS</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">db</span><span class=\"p\">.]</span><span class=\"k\">table_name</span> <span class=\"p\">[</span><span class=\"k\">ON</span> <span class=\"k\">CLUSTER</span> <span class=\"k\">cluster</span><span class=\"p\">]</span>\n<span class=\"p\">(</span>\n    <span class=\"n\">Path</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n    <span class=\"n\">Time</span> <span class=\"n\">DateTime</span><span class=\"p\">,</span>\n    <span class=\"n\">Value</span> <span class=\"o\">&lt;</span><span class=\"n\">Numeric_type</span><span class=\"o\">&gt;</span><span class=\"p\">,</span>\n    <span class=\"k\">Version</span> <span class=\"o\">&lt;</span><span class=\"n\">Numeric_type</span><span class=\"o\">&gt;</span>\n    <span class=\"p\">...</span>\n<span class=\"p\">)</span> <span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">GraphiteMergeTree</span><span class=\"p\">(</span><span class=\"n\">config_section</span><span class=\"p\">)</span>\n<span class=\"p\">[</span><span class=\"n\">PARTITION</span> <span class=\"k\">BY</span> <span class=\"n\">expr</span><span class=\"p\">]</span>\n<span class=\"p\">[</span><span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"n\">expr</span><span class=\"p\">]</span>\n<span class=\"p\">[</span><span class=\"n\">SAMPLE</span> <span class=\"k\">BY</span> <span class=\"n\">expr</span><span class=\"p\">]</span>\n<span class=\"p\">[</span><span class=\"n\">SETTINGS</span> <span class=\"n\">name</span><span class=\"o\">=</span><span class=\"n\">value</span><span class=\"p\">,</span> <span class=\"p\">...]</span>\n</pre></div>\n\n\n<p>For a description of request parameters, see <a href=\"#../../query_language/create/\">request description</a>.</p>\n<p>A table for the Graphite date should have the following columns:</p>\n<ul>\n<li>Column with the metric name (Graphite sensor). Data type: <code>String</code>.</li>\n<li>Column with the time of measuring the metric. Data type: <code>DateTime</code>.</li>\n<li>Column with the value of the metric. Data type: any numeric.</li>\n<li>\n<p>Column with the version of the metric. Data type: any numeric.</p>\n<p>ClickHouse saves the rows with the highest version or the last written if versions are the same. Other rows are deleted during the merge of data parts.</p>\n</li>\n</ul>\n<p>The names of these columns should be set in the rollup configuration.</p>\n<p><strong>GraphiteMergeTree parameters</strong></p>\n<ul>\n<li><code>config_section</code> \u2014 Name of the section in the configuration file, where are the rules of rollup set.</li>\n</ul>\n<p><strong>Query clauses</strong></p>\n<p>When creating a <code>GraphiteMergeTree</code> table, the same <a href=\"#table_engine-mergetree-creating-a-table\">clauses</a> are required, as when creating a <code>MergeTree</code> table.</p>\n<p><details markdown=\"1\"><summary>Deprecated Method for Creating a Table</summary></p>\n<div class=\"admonition attention\">\n<p class=\"admonition-title\">Attention</p>\n<p>Do not use this method in new projects and, if possible, switch the old projects to the method described above.</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"p\">[</span><span class=\"k\">IF</span> <span class=\"k\">NOT</span> <span class=\"k\">EXISTS</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">db</span><span class=\"p\">.]</span><span class=\"k\">table_name</span> <span class=\"p\">[</span><span class=\"k\">ON</span> <span class=\"k\">CLUSTER</span> <span class=\"k\">cluster</span><span class=\"p\">]</span>\n<span class=\"p\">(</span>\n    <span class=\"n\">EventDate</span> <span class=\"nb\">Date</span><span class=\"p\">,</span>\n    <span class=\"n\">Path</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n    <span class=\"n\">Time</span> <span class=\"n\">DateTime</span><span class=\"p\">,</span>\n    <span class=\"n\">Value</span> <span class=\"o\">&lt;</span><span class=\"n\">Numeric_type</span><span class=\"o\">&gt;</span><span class=\"p\">,</span>\n    <span class=\"k\">Version</span> <span class=\"o\">&lt;</span><span class=\"n\">Numeric_type</span><span class=\"o\">&gt;</span>\n    <span class=\"p\">...</span>\n<span class=\"p\">)</span> <span class=\"n\">ENGINE</span> <span class=\"p\">[</span><span class=\"o\">=</span><span class=\"p\">]</span> <span class=\"n\">GraphiteMergeTree</span><span class=\"p\">(</span><span class=\"nb\">date</span><span class=\"o\">-</span><span class=\"k\">column</span> <span class=\"p\">[,</span> <span class=\"n\">sampling_expression</span><span class=\"p\">],</span> <span class=\"p\">(</span><span class=\"k\">primary</span><span class=\"p\">,</span> <span class=\"k\">key</span><span class=\"p\">),</span> <span class=\"n\">index_granularity</span><span class=\"p\">,</span> <span class=\"n\">config_section</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>All of the parameters excepting <code>config_section</code> have the same meaning as in <code>MergeTree</code>.</p>\n<ul>\n<li><code>config_section</code> \u2014 Name of the section in the configuration file, where are the rules of rollup set.\n</details></li>\n</ul>\n<h3 id=\"rollup-configuration\">Rollup configuration<a class=\"headerlink\" href=\"#rollup-configuration\" title=\"Permanent link\">&para;</a></h3>\n<p>The settings for rollup are defined by the <a href=\"#server_settings-graphite_rollup\">graphite_rollup</a> parameter in the server configuration. The name of the parameter could be any. You can create several configurations and use them for different tables.</p>\n<p>Rollup configuration structure:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">required-columns</span>\n<span class=\"err\">pattern</span>\n<span class=\"err\">    regexp</span>\n<span class=\"err\">    function</span>\n<span class=\"err\">pattern</span>\n<span class=\"err\">    regexp</span>\n<span class=\"err\">    age + precision</span>\n<span class=\"err\">    ...</span>\n<span class=\"err\">pattern</span>\n<span class=\"err\">    regexp</span>\n<span class=\"err\">    function</span>\n<span class=\"err\">    age + precision</span>\n<span class=\"err\">    ...</span>\n<span class=\"err\">pattern</span>\n<span class=\"err\">    ...</span>\n<span class=\"err\">default</span>\n<span class=\"err\">    function</span>\n<span class=\"err\">    age + precision</span>\n<span class=\"err\">    ...</span>\n</pre></div>\n\n\n<p><strong>Important:</strong> The order of patterns should be next:</p>\n<ol>\n<li>Patterns <em>without</em> <code>function</code> <em>or</em> <code>retention</code>.</li>\n<li>Patterns <em>with</em> both <code>function</code> <em>and</em> <code>retention</code>.</li>\n<li>Pattern <code>dafault</code>.</li>\n</ol>\n<p>When processing a row, ClickHouse checks the rules in the <code>pattern</code> sections. Each of <code>pattern</code> (including <code>default</code>) sections could contain <code>function</code> parameter for aggregation, <code>retention</code> parameters or both. If the metric name matches the <code>regexp</code>, the rules from the <code>pattern</code> section (or sections) are applied; otherwise, the rules from the <code>default</code> section are used.</p>\n<p>Fields for <code>pattern</code> and <code>default</code> sections:</p>\n<ul>\n<li><code>regexp</code>\u2013 A pattern for the metric name.</li>\n<li><code>age</code> \u2013 The minimum age of the data in seconds.</li>\n<li><code>precision</code>\u2013 How precisely to define the age of the data in seconds. Should be a divisor for 86400 (seconds in a day).</li>\n<li><code>function</code> \u2013 The name of the aggregating function to apply to data whose age falls within the range <code>[age, age + precision]</code>.</li>\n</ul>\n<p>The <code>required-columns</code>:</p>\n<ul>\n<li><code>path_column_name</code> \u2014 Column with the metric name (Graphite sensor).</li>\n<li><code>time_column_name</code> \u2014 Column with the time of measuring the metric.</li>\n<li><code>value_column_name</code> \u2014 Column with the value of the metric at the time set in <code>time_column_name</code>.</li>\n<li><code>version_column_name</code> \u2014 Column with the version of the metric.</li>\n</ul>\n<p>Example of settings:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;graphite_rollup&gt;</span>\n    <span class=\"nt\">&lt;path_column_name&gt;</span>Path<span class=\"nt\">&lt;/path_column_name&gt;</span>\n    <span class=\"nt\">&lt;time_column_name&gt;</span>Time<span class=\"nt\">&lt;/time_column_name&gt;</span>\n    <span class=\"nt\">&lt;value_column_name&gt;</span>Value<span class=\"nt\">&lt;/value_column_name&gt;</span>\n    <span class=\"nt\">&lt;version_column_name&gt;</span>Version<span class=\"nt\">&lt;/version_column_name&gt;</span>\n    <span class=\"nt\">&lt;pattern&gt;</span>\n        <span class=\"nt\">&lt;regexp&gt;</span>click_cost<span class=\"nt\">&lt;/regexp&gt;</span>\n        <span class=\"nt\">&lt;function&gt;</span>any<span class=\"nt\">&lt;/function&gt;</span>\n        <span class=\"nt\">&lt;retention&gt;</span>\n            <span class=\"nt\">&lt;age&gt;</span>0<span class=\"nt\">&lt;/age&gt;</span>\n            <span class=\"nt\">&lt;precision&gt;</span>5<span class=\"nt\">&lt;/precision&gt;</span>\n        <span class=\"nt\">&lt;/retention&gt;</span>\n        <span class=\"nt\">&lt;retention&gt;</span>\n            <span class=\"nt\">&lt;age&gt;</span>86400<span class=\"nt\">&lt;/age&gt;</span>\n            <span class=\"nt\">&lt;precision&gt;</span>60<span class=\"nt\">&lt;/precision&gt;</span>\n        <span class=\"nt\">&lt;/retention&gt;</span>\n    <span class=\"nt\">&lt;/pattern&gt;</span>\n    <span class=\"nt\">&lt;default&gt;</span>\n        <span class=\"nt\">&lt;function&gt;</span>max<span class=\"nt\">&lt;/function&gt;</span>\n        <span class=\"nt\">&lt;retention&gt;</span>\n            <span class=\"nt\">&lt;age&gt;</span>0<span class=\"nt\">&lt;/age&gt;</span>\n            <span class=\"nt\">&lt;precision&gt;</span>60<span class=\"nt\">&lt;/precision&gt;</span>\n        <span class=\"nt\">&lt;/retention&gt;</span>\n        <span class=\"nt\">&lt;retention&gt;</span>\n            <span class=\"nt\">&lt;age&gt;</span>3600<span class=\"nt\">&lt;/age&gt;</span>\n            <span class=\"nt\">&lt;precision&gt;</span>300<span class=\"nt\">&lt;/precision&gt;</span>\n        <span class=\"nt\">&lt;/retention&gt;</span>\n        <span class=\"nt\">&lt;retention&gt;</span>\n            <span class=\"nt\">&lt;age&gt;</span>86400<span class=\"nt\">&lt;/age&gt;</span>\n            <span class=\"nt\">&lt;precision&gt;</span>3600<span class=\"nt\">&lt;/precision&gt;</span>\n        <span class=\"nt\">&lt;/retention&gt;</span>\n    <span class=\"nt\">&lt;/default&gt;</span>\n<span class=\"nt\">&lt;/graphite_rollup&gt;</span>\n</pre></div>\n\n\n<p><a name=\"../../../table_engines/log_family/\"></a>\n<a name=\"../../../operations/table_engines/log_family/\"></a>\n<a name=\"../table_engines/log_family/\"></a>\n<a name=\"../../../../../operations/table_engines/log_family/\"></a>\n<a name=\"../../../../../table_engines/log_family/\"></a>\n<a name=\"../../../../../../table_engines/log_family/\"></a>\n<a name=\"../../operations/table_engines/log_family/\"></a>\n<a name=\"log_family/\"></a>\n<a name=\"../operations/table_engines/log_family/\"></a>\n<a name=\"../../table_engines/log_family/\"></a>\n<a name=\"table_engines/log_family/\"></a>\n<a name=\"operations/table_engines/log_family/\"></a>\n<a name=\"../../../../operations/table_engines/log_family/\"></a>\n<a name=\"../../../../table_engines/log_family/\"></a></p>\n<h2 id=\"log-engine-family\">Log Engine Family<a class=\"headerlink\" href=\"#log-engine-family\" title=\"Permanent link\">&para;</a></h2>\n<p>These engines were developed for scenarios when you need to write many tables with the small amount of data (less than 1 million rows).</p>\n<p>Engines of the family:</p>\n<ul>\n<li><a href=\"#stripelog/\">StripeLog</a></li>\n<li><a href=\"#log/\">Log</a></li>\n<li><a href=\"#tinylog/\">TinyLog</a></li>\n</ul>\n<h3 id=\"common-properties\">Common properties<a class=\"headerlink\" href=\"#common-properties\" title=\"Permanent link\">&para;</a></h3>\n<p>Engines:</p>\n<ul>\n<li>Store data on a disk.</li>\n<li>Append data to the end of file when writing.</li>\n<li>Do not support <a href=\"#alter-mutations\">mutation</a> operations.</li>\n<li>\n<p>Do not support indexes.</p>\n<p>This means that <code>SELECT</code> queries for ranges of data are not efficient.</p>\n</li>\n<li>\n<p>Do not write data atomically.</p>\n<p>You can get a table with corrupted data if something breaks the write operation, for example, abnormal server shutdown.</p>\n</li>\n</ul>\n<h3 id=\"differences\">Differences<a class=\"headerlink\" href=\"#differences\" title=\"Permanent link\">&para;</a></h3>\n<p>The <code>Log</code> and <code>StripeLog</code> engines support:</p>\n<ul>\n<li>\n<p>Locks for concurrent data access.</p>\n<p>During <code>INSERT</code> query the table is locked, and other queries for reading and writing data both wait for unlocking. If there are no writing data queries, any number of reading data queries can be performed concurrently.</p>\n</li>\n<li>\n<p>Parallel reading of data.</p>\n<p>When reading data ClickHouse uses multiple threads. Each thread processes separated data block.</p>\n</li>\n</ul>\n<p>The <code>Log</code> engine uses the separate file for each column of the table. The <code>StripeLog</code> stores all the data in one file. Thus the <code>StripeLog</code> engine uses fewer descriptors in the operating system, but the <code>Log</code> engine provides a more efficient reading of the data.</p>\n<p>The <code>TinyLog</code> engine is the simplest in the family and provides the poorest functionality and lowest efficiency. The <code>TinyLog</code> engine does not support a parallel reading and concurrent access and stores each column in a separate file. It reads the data slower than both other engines with parallel reading, and it uses almost as many descriptors as the <code>Log</code> engine. You can use it in simple low-load scenarios.</p>\n<p><a name=\"stripelog/\"></a>\n<a name=\"../../operations/table_engines/stripelog/\"></a>\n<a name=\"../../../../table_engines/stripelog/\"></a>\n<a name=\"../table_engines/stripelog/\"></a>\n<a name=\"../../../../operations/table_engines/stripelog/\"></a>\n<a name=\"table_engines/stripelog/\"></a>\n<a name=\"../../../../../../table_engines/stripelog/\"></a>\n<a name=\"../../../../../operations/table_engines/stripelog/\"></a>\n<a name=\"operations/table_engines/stripelog/\"></a>\n<a name=\"../../table_engines/stripelog/\"></a>\n<a name=\"../../../table_engines/stripelog/\"></a>\n<a name=\"../operations/table_engines/stripelog/\"></a>\n<a name=\"../../../../../table_engines/stripelog/\"></a>\n<a name=\"../../../operations/table_engines/stripelog/\"></a></p>\n<h2 id=\"stripelog\">StripeLog<a class=\"headerlink\" href=\"#stripelog\" title=\"Permanent link\">&para;</a></h2>\n<p>This engine belongs to the family of log engines. See the common properties of log engines and their differences in the <a href=\"#log_family/\">Log Engine Family</a> article.</p>\n<p>Use this engine in scenarios when you need to write many tables with a small amount of data (less than 1 million rows).</p>\n<h3 id=\"table_engines-stripelog-creating-a-table\">Creating a Table<a class=\"headerlink\" href=\"#table_engines-stripelog-creating-a-table\" title=\"Permanent link\">&para;</a></h3>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span><span class=\"w\"> </span><span class=\"nc\">TABLE</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">IF NOT EXISTS</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">db.</span><span class=\"o\">]</span><span class=\"n\">table_name</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">ON CLUSTER cluster</span><span class=\"o\">]</span><span class=\"w\"></span>\n<span class=\"p\">(</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">column1_name</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">type1</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">DEFAULT|MATERIALIZED|ALIAS expr1</span><span class=\"o\">]</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">column2_name</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">type2</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">DEFAULT|MATERIALIZED|ALIAS expr2</span><span class=\"o\">]</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">...</span><span class=\"w\"></span>\n<span class=\"p\">)</span><span class=\"w\"> </span><span class=\"n\">ENGINE</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">StripeLog</span><span class=\"w\"></span>\n</pre></div>\n\n\n<p>See the detailed description of the <a href=\"#create-table-query\">CREATE TABLE</a> query.</p>\n<h3 id=\"table_engines-stripelog-writing-the-data\">Writing the Data<a class=\"headerlink\" href=\"#table_engines-stripelog-writing-the-data\" title=\"Permanent link\">&para;</a></h3>\n<p>The <code>StripeLog</code> engine stores all the columns in one file. For each <code>INSERT</code> query, ClickHouse appends the data block to the end of a table file, writing columns one by one.</p>\n<p>For each table ClickHouse writes the files:</p>\n<ul>\n<li><code>data.bin</code> \u2014 Data file.</li>\n<li><code>index.mrk</code> \u2014 File with marks. Marks contain offsets for each column of each data block inserted.</li>\n</ul>\n<p>The <code>StripeLog</code> engine does not support the <code>ALTER UPDATE</code> and <code>ALTER DELETE</code> operations.</p>\n<h3 id=\"table_engines-stripelog-reading-the-data\">Reading the Data<a class=\"headerlink\" href=\"#table_engines-stripelog-reading-the-data\" title=\"Permanent link\">&para;</a></h3>\n<p>The file with marks allows ClickHouse to parallelize the reading of data. This means that a <code>SELECT</code> query returns rows in an unpredictable order. Use the <code>ORDER BY</code> clause to sort rows.</p>\n<h3 id=\"table_engines-stripelog-example-of-use\">Example of Use<a class=\"headerlink\" href=\"#table_engines-stripelog-example-of-use\" title=\"Permanent link\">&para;</a></h3>\n<p>Creating a table:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">stripe_log_table</span>\n<span class=\"p\">(</span>\n    <span class=\"k\">timestamp</span> <span class=\"n\">DateTime</span><span class=\"p\">,</span>\n    <span class=\"n\">message_type</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n    <span class=\"n\">message</span> <span class=\"n\">String</span>\n<span class=\"p\">)</span>\n<span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">StripeLog</span>\n</pre></div>\n\n\n<p>Inserting data:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">INSERT</span> <span class=\"k\">INTO</span> <span class=\"n\">stripe_log_table</span> <span class=\"k\">VALUES</span> <span class=\"p\">(</span><span class=\"n\">now</span><span class=\"p\">(),</span><span class=\"s1\">&#39;REGULAR&#39;</span><span class=\"p\">,</span><span class=\"s1\">&#39;The first regular message&#39;</span><span class=\"p\">)</span>\n<span class=\"k\">INSERT</span> <span class=\"k\">INTO</span> <span class=\"n\">stripe_log_table</span> <span class=\"k\">VALUES</span> <span class=\"p\">(</span><span class=\"n\">now</span><span class=\"p\">(),</span><span class=\"s1\">&#39;REGULAR&#39;</span><span class=\"p\">,</span><span class=\"s1\">&#39;The second regular message&#39;</span><span class=\"p\">),(</span><span class=\"n\">now</span><span class=\"p\">(),</span><span class=\"s1\">&#39;WARNING&#39;</span><span class=\"p\">,</span><span class=\"s1\">&#39;The first warning message&#39;</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>We used two <code>INSERT</code> queries to create two data blocks inside the <code>data.bin</code> file.</p>\n<p>ClickHouse uses multiple threads when selecting data. Each thread reads a separate data block and returns resulting rows independently as it finishes. As a result, the order of blocks of rows in the output does not match the order of the same blocks in the input in most cases. For example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"o\">*</span> <span class=\"k\">FROM</span> <span class=\"n\">stripe_log_table</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500timestamp\u2500\u252c\u2500message_type\u2500\u252c\u2500message\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502 2019-01-18 14:27:32 \u2502 REGULAR      \u2502 The second regular message \u2502</span>\n<span class=\"err\">\u2502 2019-01-18 14:34:53 \u2502 WARNING      \u2502 The first warning message  \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n<span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500timestamp\u2500\u252c\u2500message_type\u2500\u252c\u2500message\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502 2019-01-18 14:23:43 \u2502 REGULAR      \u2502 The first regular message \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>Sorting the results (ascending order by default):</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"o\">*</span> <span class=\"k\">FROM</span> <span class=\"n\">stripe_log_table</span> <span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"k\">timestamp</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500timestamp\u2500\u252c\u2500message_type\u2500\u252c\u2500message\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502 2019-01-18 14:23:43 \u2502 REGULAR      \u2502 The first regular message  \u2502</span>\n<span class=\"err\">\u2502 2019-01-18 14:27:32 \u2502 REGULAR      \u2502 The second regular message \u2502</span>\n<span class=\"err\">\u2502 2019-01-18 14:34:53 \u2502 WARNING      \u2502 The first warning message  \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p><a name=\"table_engines/log/\"></a>\n<a name=\"../table_engines/log/\"></a>\n<a name=\"../../../../../operations/table_engines/log/\"></a>\n<a name=\"../operations/table_engines/log/\"></a>\n<a name=\"../../table_engines/log/\"></a>\n<a name=\"operations/table_engines/log/\"></a>\n<a name=\"../../../table_engines/log/\"></a>\n<a name=\"../../../../../table_engines/log/\"></a>\n<a name=\"../../../../table_engines/log/\"></a>\n<a name=\"../../../../operations/table_engines/log/\"></a>\n<a name=\"../../../operations/table_engines/log/\"></a>\n<a name=\"log/\"></a>\n<a name=\"../../../../../../table_engines/log/\"></a>\n<a name=\"../../operations/table_engines/log/\"></a></p>\n<h2 id=\"log\">Log<a class=\"headerlink\" href=\"#log\" title=\"Permanent link\">&para;</a></h2>\n<p>Engine belongs to the family of log engines. See the common properties of log engines and their differences in the <a href=\"#log_family/\">Log Engine Family</a> article.</p>\n<p>Log differs from <a href=\"#tinylog/\">TinyLog</a> in that a small file of \"marks\" resides with the column files. These marks are written on every data block and contain offsets that indicate where to start reading the file in order to skip the specified number of rows. This makes it possible to read table data in multiple threads.\nFor concurrent data access, the read operations can be performed simultaneously, while write operations block reads and each other.\nThe Log engine does not support indexes. Similarly, if writing to a table failed, the table is broken, and reading from it returns an error. The Log engine is appropriate for temporary data, write-once tables, and for testing or demonstration purposes.</p>\n<p><a name=\"tinylog/\"></a>\n<a name=\"../../../../../../table_engines/tinylog/\"></a>\n<a name=\"../operations/table_engines/tinylog/\"></a>\n<a name=\"../../../../operations/table_engines/tinylog/\"></a>\n<a name=\"../table_engines/tinylog/\"></a>\n<a name=\"../../operations/table_engines/tinylog/\"></a>\n<a name=\"table_engines/tinylog/\"></a>\n<a name=\"../../../../../operations/table_engines/tinylog/\"></a>\n<a name=\"../../table_engines/tinylog/\"></a>\n<a name=\"../../../../table_engines/tinylog/\"></a>\n<a name=\"../../../operations/table_engines/tinylog/\"></a>\n<a name=\"../../../table_engines/tinylog/\"></a>\n<a name=\"operations/table_engines/tinylog/\"></a>\n<a name=\"../../../../../table_engines/tinylog/\"></a></p>\n<h2 id=\"tinylog\">TinyLog<a class=\"headerlink\" href=\"#tinylog\" title=\"Permanent link\">&para;</a></h2>\n<p>Engine belongs to the family of log engines. See the common properties of log engines and their differences in the <a href=\"#log_family/\">Log Engine Family</a> article.</p>\n<p>The simplest table engine, which stores data on a disk.\nEach column is stored in a separate compressed file.\nWhen writing, data is appended to the end of files.</p>\n<p>Concurrent data access is not restricted in any way:</p>\n<ul>\n<li>If you are simultaneously reading from a table and writing to it in a different query, the read operation will complete with an error.</li>\n<li>If you are writing to a table in multiple queries simultaneously, the data will be broken.</li>\n</ul>\n<p>The typical way to use this table is write-once: first just write the data one time, then read it as many times as needed.\nQueries are executed in a single stream. In other words, this engine is intended for relatively small tables (recommended up to 1,000,000 rows).\nIt makes sense to use this table engine if you have many small tables, since it is simpler than the Log engine (fewer files need to be opened).\nThe situation when you have a large number of small tables guarantees poor productivity, but may already be used when working with another DBMS, and you may find it easier to switch to using TinyLog types of tables.\n<strong>Indexes are not supported.</strong></p>\n<p>In Yandex.Metrica, TinyLog tables are used for intermediary data that is processed in small batches.</p>\n<p><a name=\"../operations/table_engines/kafka/\"></a>\n<a name=\"../../../../../table_engines/kafka/\"></a>\n<a name=\"../../../table_engines/kafka/\"></a>\n<a name=\"../../../../operations/table_engines/kafka/\"></a>\n<a name=\"../../../operations/table_engines/kafka/\"></a>\n<a name=\"../../../../table_engines/kafka/\"></a>\n<a name=\"../../operations/table_engines/kafka/\"></a>\n<a name=\"../../table_engines/kafka/\"></a>\n<a name=\"table_engines/kafka/\"></a>\n<a name=\"kafka/\"></a>\n<a name=\"../../../../../operations/table_engines/kafka/\"></a>\n<a name=\"operations/table_engines/kafka/\"></a>\n<a name=\"../table_engines/kafka/\"></a>\n<a name=\"../../../../../../table_engines/kafka/\"></a></p>\n<h2 id=\"kafka\">Kafka<a class=\"headerlink\" href=\"#kafka\" title=\"Permanent link\">&para;</a></h2>\n<p>This engine works with <a href=\"http://kafka.apache.org/\" rel=\"external nofollow\">Apache Kafka</a>.</p>\n<p>Kafka lets you:</p>\n<ul>\n<li>Publish or subscribe to data flows.</li>\n<li>Organize fault-tolerant storage.</li>\n<li>Process streams as they become available.</li>\n</ul>\n<h3 id=\"table_engine-kafka-creating-a-table\">Creating a Table<a class=\"headerlink\" href=\"#table_engine-kafka-creating-a-table\" title=\"Permanent link\">&para;</a></h3>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span><span class=\"w\"> </span><span class=\"nc\">TABLE</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">IF NOT EXISTS</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">db.</span><span class=\"o\">]</span><span class=\"n\">table_name</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">ON CLUSTER cluster</span><span class=\"o\">]</span><span class=\"w\"></span>\n<span class=\"p\">(</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">name1</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">type1</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">DEFAULT|MATERIALIZED|ALIAS expr1</span><span class=\"o\">]</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">name2</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">type2</span><span class=\"o\">]</span><span class=\"w\"> </span><span class=\"o\">[</span><span class=\"n\">DEFAULT|MATERIALIZED|ALIAS expr2</span><span class=\"o\">]</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">...</span><span class=\"w\"></span>\n<span class=\"p\">)</span><span class=\"w\"> </span><span class=\"n\">ENGINE</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">Kafka</span><span class=\"p\">()</span><span class=\"w\"></span>\n<span class=\"n\">SETTINGS</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">kafka_broker_list</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s1\">&#39;host:port&#39;</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">kafka_topic_list</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s1\">&#39;topic1,topic2,...&#39;</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">kafka_group_name</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s1\">&#39;group_name&#39;</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">kafka_format</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s1\">&#39;data_format&#39;</span><span class=\"o\">[</span><span class=\"n\">,</span><span class=\"o\">]</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">kafka_row_delimiter = &#39;delimiter_symbol&#39;,</span><span class=\"o\">]</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">kafka_schema = &#39;&#39;,</span><span class=\"o\">]</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">kafka_num_consumers = N,</span><span class=\"o\">]</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">kafka_skip_broken_messages = &lt;0|1&gt;</span><span class=\"o\">]</span><span class=\"w\"></span>\n</pre></div>\n\n\n<p>Required parameters:</p>\n<ul>\n<li><code>kafka_broker_list</code> \u2013 A comma-separated list of brokers (for example, <code>localhost:9092</code>).</li>\n<li><code>kafka_topic_list</code> \u2013 A list of Kafka topics.</li>\n<li><code>kafka_group_name</code> \u2013 A group of Kafka consumers. Reading margins are tracked for each group separately. If you don't want messages to be duplicated in the cluster, use the same group name everywhere.</li>\n<li><code>kafka_format</code> \u2013 Message format. Uses the same notation as the SQL <code>FORMAT</code> function, such as <code>JSONEachRow</code>. For more information, see the <a href=\"#../../interfaces/formats/\">Formats</a> section.</li>\n</ul>\n<p>Optional parameters:</p>\n<ul>\n<li><code>kafka_row_delimiter</code> \u2013 Delimiter character, which ends the message.</li>\n<li><code>kafka_schema</code> \u2013 Parameter that must be used if the format requires a schema definition. For example, <a href=\"https://capnproto.org/\" rel=\"external nofollow\">Cap'n Proto</a> requires the path to the schema file and the name of the root <code>schema.capnp:Message</code> object.</li>\n<li><code>kafka_num_consumers</code> \u2013 The number of consumers per table. Default: <code>1</code>. Specify more consumers if the throughput of one consumer is insufficient. The total number of consumers should not exceed the number of partitions in the topic, since only one consumer can be assigned per partition.</li>\n<li><code>kafka_skip_broken_messages</code> \u2013 Kafka message parser mode. If <code>kafka_skip_broken_messages = 1</code> then the engine skips the Kafka messages that can't be parsed (a message equals a row of data).</li>\n</ul>\n<p>Examples:</p>\n<div class=\"codehilite\"><pre><span></span>  <span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">queue</span> <span class=\"p\">(</span>\n    <span class=\"k\">timestamp</span> <span class=\"n\">UInt64</span><span class=\"p\">,</span>\n    <span class=\"k\">level</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n    <span class=\"n\">message</span> <span class=\"n\">String</span>\n  <span class=\"p\">)</span> <span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">Kafka</span><span class=\"p\">(</span><span class=\"s1\">&#39;localhost:9092&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;topic&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;group1&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;JSONEachRow&#39;</span><span class=\"p\">);</span>\n\n  <span class=\"k\">SELECT</span> <span class=\"o\">*</span> <span class=\"k\">FROM</span> <span class=\"n\">queue</span> <span class=\"k\">LIMIT</span> <span class=\"mi\">5</span><span class=\"p\">;</span>\n\n  <span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">queue2</span> <span class=\"p\">(</span>\n    <span class=\"k\">timestamp</span> <span class=\"n\">UInt64</span><span class=\"p\">,</span>\n    <span class=\"k\">level</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n    <span class=\"n\">message</span> <span class=\"n\">String</span>\n  <span class=\"p\">)</span> <span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">Kafka</span> <span class=\"n\">SETTINGS</span> <span class=\"n\">kafka_broker_list</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;localhost:9092&#39;</span><span class=\"p\">,</span>\n                            <span class=\"n\">kafka_topic_list</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;topic&#39;</span><span class=\"p\">,</span>\n                            <span class=\"n\">kafka_group_name</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;group1&#39;</span><span class=\"p\">,</span>\n                            <span class=\"n\">kafka_format</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;JSONEachRow&#39;</span><span class=\"p\">,</span>\n                            <span class=\"n\">kafka_num_consumers</span> <span class=\"o\">=</span> <span class=\"mi\">4</span><span class=\"p\">;</span>\n\n  <span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">queue2</span> <span class=\"p\">(</span>\n    <span class=\"k\">timestamp</span> <span class=\"n\">UInt64</span><span class=\"p\">,</span>\n    <span class=\"k\">level</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n    <span class=\"n\">message</span> <span class=\"n\">String</span>\n  <span class=\"p\">)</span> <span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">Kafka</span><span class=\"p\">(</span><span class=\"s1\">&#39;localhost:9092&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;topic&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;group1&#39;</span><span class=\"p\">)</span>\n              <span class=\"n\">SETTINGS</span> <span class=\"n\">kafka_format</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;JSONEachRow&#39;</span><span class=\"p\">,</span>\n                       <span class=\"n\">kafka_num_consumers</span> <span class=\"o\">=</span> <span class=\"mi\">4</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<p><details markdown=\"1\"><summary>Deprecated Method for Creating a Table</summary></p>\n<div class=\"admonition attention\">\n<p class=\"admonition-title\">Attention</p>\n<p>Do not use this method in new projects. If possible, switch old projects to the method described above.</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">Kafka(kafka_broker_list, kafka_topic_list, kafka_group_name, kafka_format</span>\n<span class=\"err\">      [, kafka_row_delimiter, kafka_schema, kafka_num_consumers, kafka_skip_broken_messages])</span>\n</pre></div>\n\n\n<p></details></p>\n<h3 id=\"description\">Description<a class=\"headerlink\" href=\"#description\" title=\"Permanent link\">&para;</a></h3>\n<p>The delivered messages are tracked automatically, so each message in a group is only counted once. If you want to get the data twice, then create a copy of the table with another group name.</p>\n<p>Groups are flexible and synced on the cluster. For instance, if you have 10 topics and 5 copies of a table in a cluster, then each copy gets 2 topics. If the number of copies changes, the topics are redistributed across the copies automatically. Read more about this at <a href=\"http://kafka.apache.org/intro\" rel=\"external nofollow\">http://kafka.apache.org/intro</a>.</p>\n<p><code>SELECT</code> is not particularly useful for reading messages (except for debugging), because each message can be read only once. It is more practical to create real-time threads using materialized views. To do this:</p>\n<ol>\n<li>Use the engine to create a Kafka consumer and consider it a data stream.</li>\n<li>Create a table with the desired structure.</li>\n<li>Create a materialized view that converts data from the engine and puts it into a previously created table.</li>\n</ol>\n<p>When the <code>MATERIALIZED VIEW</code> joins the engine, it starts collecting data in the background. This allows you to continually receive messages from Kafka and convert them to the required format using <code>SELECT</code>.</p>\n<p>Example:</p>\n<div class=\"codehilite\"><pre><span></span>  <span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">queue</span> <span class=\"p\">(</span>\n    <span class=\"k\">timestamp</span> <span class=\"n\">UInt64</span><span class=\"p\">,</span>\n    <span class=\"k\">level</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n    <span class=\"n\">message</span> <span class=\"n\">String</span>\n  <span class=\"p\">)</span> <span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">Kafka</span><span class=\"p\">(</span><span class=\"s1\">&#39;localhost:9092&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;topic&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;group1&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;JSONEachRow&#39;</span><span class=\"p\">);</span>\n\n  <span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">daily</span> <span class=\"p\">(</span>\n    <span class=\"k\">day</span> <span class=\"nb\">Date</span><span class=\"p\">,</span>\n    <span class=\"k\">level</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n    <span class=\"n\">total</span> <span class=\"n\">UInt64</span>\n  <span class=\"p\">)</span> <span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">SummingMergeTree</span><span class=\"p\">(</span><span class=\"k\">day</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"k\">day</span><span class=\"p\">,</span> <span class=\"k\">level</span><span class=\"p\">),</span> <span class=\"mi\">8192</span><span class=\"p\">);</span>\n\n  <span class=\"k\">CREATE</span> <span class=\"n\">MATERIALIZED</span> <span class=\"k\">VIEW</span> <span class=\"n\">consumer</span> <span class=\"k\">TO</span> <span class=\"n\">daily</span>\n    <span class=\"k\">AS</span> <span class=\"k\">SELECT</span> <span class=\"n\">toDate</span><span class=\"p\">(</span><span class=\"n\">toDateTime</span><span class=\"p\">(</span><span class=\"k\">timestamp</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"k\">day</span><span class=\"p\">,</span> <span class=\"k\">level</span><span class=\"p\">,</span> <span class=\"k\">count</span><span class=\"p\">()</span> <span class=\"k\">as</span> <span class=\"n\">total</span>\n    <span class=\"k\">FROM</span> <span class=\"n\">queue</span> <span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"k\">day</span><span class=\"p\">,</span> <span class=\"k\">level</span><span class=\"p\">;</span>\n\n  <span class=\"k\">SELECT</span> <span class=\"k\">level</span><span class=\"p\">,</span> <span class=\"k\">sum</span><span class=\"p\">(</span><span class=\"n\">total</span><span class=\"p\">)</span> <span class=\"k\">FROM</span> <span class=\"n\">daily</span> <span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"k\">level</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<p>To improve performance, received messages are grouped into blocks the size of <a href=\"#settings-max_insert_block_size\">max_insert_block_size</a>. If the block wasn't formed within <a href=\"#../settings/settings/\">stream_flush_interval_ms</a> milliseconds, the data will be flushed to the table regardless of the completeness of the block.</p>\n<p>To stop receiving topic data or to change the conversion logic, detach the materialized view:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">  DETACH TABLE consumer;</span>\n<span class=\"err\">  ATTACH MATERIALIZED VIEW consumer;</span>\n</pre></div>\n\n\n<p>If you want to change the target table by using <code>ALTER</code>, we recommend disabling the material view to avoid discrepancies between the target table and the data from the view.</p>\n<h3 id=\"configuration\">Configuration<a class=\"headerlink\" href=\"#configuration\" title=\"Permanent link\">&para;</a></h3>\n<p>Similar to GraphiteMergeTree, the Kafka engine supports extended configuration using the ClickHouse config file. There are two configuration keys that you can use: global (<code>kafka</code>) and topic-level (<code>kafka_*</code>). The global configuration is applied first, and then the topic-level configuration is applied (if it exists).</p>\n<div class=\"codehilite\"><pre><span></span>  <span class=\"c\">&lt;!-- Global configuration options for all tables of Kafka engine type --&gt;</span>\n  <span class=\"nt\">&lt;kafka&gt;</span>\n    <span class=\"nt\">&lt;debug&gt;</span>cgrp<span class=\"nt\">&lt;/debug&gt;</span>\n    <span class=\"nt\">&lt;auto_offset_reset&gt;</span>smallest<span class=\"nt\">&lt;/auto_offset_reset&gt;</span>\n  <span class=\"nt\">&lt;/kafka&gt;</span>\n\n  <span class=\"c\">&lt;!-- Configuration specific for topic &quot;logs&quot; --&gt;</span>\n  <span class=\"nt\">&lt;kafka_logs&gt;</span>\n    <span class=\"nt\">&lt;retry_backoff_ms&gt;</span>250<span class=\"nt\">&lt;/retry_backoff_ms&gt;</span>\n    <span class=\"nt\">&lt;fetch_min_bytes&gt;</span>100000<span class=\"nt\">&lt;/fetch_min_bytes&gt;</span>\n  <span class=\"nt\">&lt;/kafka_logs&gt;</span>\n</pre></div>\n\n\n<p>For a list of possible configuration options, see the <a href=\"https://github.com/edenhill/librdkafka/blob/master/CONFIGURATION.md\" rel=\"external nofollow\">librdkafka configuration reference</a>. Use the underscore (<code>_</code>) instead of a dot in the ClickHouse configuration. For example, <code>check.crcs=true</code> will be <code>&lt;check_crcs&gt;true&lt;/check_crcs&gt;</code>.</p>\n<p><a name=\"../../table_engines/mysql/\"></a>\n<a name=\"../../../../../table_engines/mysql/\"></a>\n<a name=\"../../../../../operations/table_engines/mysql/\"></a>\n<a name=\"table_engines/mysql/\"></a>\n<a name=\"../../../../operations/table_engines/mysql/\"></a>\n<a name=\"../../../../table_engines/mysql/\"></a>\n<a name=\"../../../table_engines/mysql/\"></a>\n<a name=\"../../../operations/table_engines/mysql/\"></a>\n<a name=\"operations/table_engines/mysql/\"></a>\n<a name=\"../table_engines/mysql/\"></a>\n<a name=\"../operations/table_engines/mysql/\"></a>\n<a name=\"../../operations/table_engines/mysql/\"></a>\n<a name=\"../../../../../../table_engines/mysql/\"></a>\n<a name=\"mysql/\"></a></p>\n<h2 id=\"mysql\">MySQL<a class=\"headerlink\" href=\"#mysql\" title=\"Permanent link\">&para;</a></h2>\n<p>The MySQL engine allows you to perform <code>SELECT</code> queries on data that is stored on a remote MySQL server.</p>\n<p>Call format:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">MySQL(&#39;host:port&#39;, &#39;database&#39;, &#39;table&#39;, &#39;user&#39;, &#39;password&#39;[, replace_query, &#39;on_duplicate_clause&#39;]);</span>\n</pre></div>\n\n\n<p><strong>Call parameters</strong></p>\n<ul>\n<li><code>host:port</code> \u2014 Address of the MySQL server.</li>\n<li><code>database</code> \u2014 Database name on the MySQL server.</li>\n<li><code>table</code> \u2014 Name of the table.</li>\n<li><code>user</code> \u2014 The MySQL User.</li>\n<li><code>password</code> \u2014 User password.</li>\n<li><code>replace_query</code> \u2014 Flag that sets query substitution <code>INSERT INTO</code> to <code>REPLACE INTO</code>. If <code>replace_query=1</code>, the query is replaced.</li>\n<li>\n<p><code>on_duplicate_clause</code> \u2014 Adds the <code>ON DUPLICATE KEY on_duplicate_clause</code> expression to the <code>INSERT</code> query.</p>\n<p>Example: <code>INSERT INTO t (c1,c2) VALUES ('a', 2) ON DUPLICATE KEY UPDATE c2 = c2 + 1</code>, where <code>on_duplicate_clause</code> is <code>UPDATE c2 = c2 + 1</code>. See MySQL documentation to find which <code>on_duplicate_clause</code> you can use with <code>ON DUPLICATE KEY</code> clause.</p>\n<p>To specify <code>on_duplicate_clause</code> you need to pass <code>0</code> to the <code>replace_query</code> parameter. If you simultaneously pass <code>replace_query = 1</code> and <code>on_duplicate_clause</code>, ClickHouse generates an exception.</p>\n</li>\n</ul>\n<p>At this time, simple <code>WHERE</code> clauses such as <code>=, !=, &gt;, &gt;=, &lt;, &lt;=</code> are executed on the MySQL server.</p>\n<p>The rest of the conditions and the <code>LIMIT</code> sampling constraint are executed in ClickHouse only after the query to MySQL finishes.</p>\n<p>The <code>MySQL</code> engine does not support the <a href=\"#../../data_types/nullable/\">Nullable</a> data type, so when reading data from MySQL tables, <code>NULL</code> is converted to default values for the specified column type (usually 0 or an empty string).</p>\n<p><a name=\"../operations/table_engines/distributed/\"></a>\n<a name=\"../../../../operations/table_engines/distributed/\"></a>\n<a name=\"../../operations/table_engines/distributed/\"></a>\n<a name=\"../../../../../operations/table_engines/distributed/\"></a>\n<a name=\"../../../table_engines/distributed/\"></a>\n<a name=\"../table_engines/distributed/\"></a>\n<a name=\"../../../operations/table_engines/distributed/\"></a>\n<a name=\"../../../../table_engines/distributed/\"></a>\n<a name=\"../../../../../../table_engines/distributed/\"></a>\n<a name=\"distributed/\"></a>\n<a name=\"table_engines/distributed/\"></a>\n<a name=\"operations/table_engines/distributed/\"></a>\n<a name=\"../../../../../table_engines/distributed/\"></a>\n<a name=\"../../table_engines/distributed/\"></a></p>\n<h2 id=\"distributed\">Distributed<a class=\"headerlink\" href=\"#distributed\" title=\"Permanent link\">&para;</a></h2>\n<p><strong>The Distributed engine does not store data itself</strong>, but allows distributed query processing on multiple servers.\nReading is automatically parallelized. During a read, the table indexes on remote servers are used, if there are any.\nThe Distributed engine accepts parameters: the cluster name in the server's config file, the name of a remote database, the name of a remote table, and (optionally) a sharding key.\nExample:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">Distributed(logs, default, hits[, sharding_key])</span>\n</pre></div>\n\n\n<p>Data will be read from all servers in the 'logs' cluster, from the default.hits table located on every server in the cluster.\nData is not only read, but is partially processed on the remote servers (to the extent that this is possible).\nFor example, for a query with GROUP BY, data will be aggregated on remote servers, and the intermediate states of aggregate functions will be sent to the requestor server. Then data will be further aggregated.</p>\n<p>Instead of the database name, you can use a constant expression that returns a string. For example: currentDatabase().</p>\n<p>logs \u2013 The cluster name in the server's config file.</p>\n<p>Clusters are set like this:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;remote_servers&gt;</span>\n    <span class=\"nt\">&lt;logs&gt;</span>\n        <span class=\"nt\">&lt;shard&gt;</span>\n            <span class=\"c\">&lt;!-- Optional. Shard weight when writing data. Default: 1. --&gt;</span>\n            <span class=\"nt\">&lt;weight&gt;</span>1<span class=\"nt\">&lt;/weight&gt;</span>\n            <span class=\"c\">&lt;!-- Optional. Whether to write data to just one of the replicas. Default: false (write data to all replicas). --&gt;</span>\n            <span class=\"nt\">&lt;internal_replication&gt;</span>false<span class=\"nt\">&lt;/internal_replication&gt;</span>\n            <span class=\"nt\">&lt;replica&gt;</span>\n                <span class=\"nt\">&lt;host&gt;</span>example01-01-1<span class=\"nt\">&lt;/host&gt;</span>\n                <span class=\"nt\">&lt;port&gt;</span>9000<span class=\"nt\">&lt;/port&gt;</span>\n            <span class=\"nt\">&lt;/replica&gt;</span>\n            <span class=\"nt\">&lt;replica&gt;</span>\n                <span class=\"nt\">&lt;host&gt;</span>example01-01-2<span class=\"nt\">&lt;/host&gt;</span>\n                <span class=\"nt\">&lt;port&gt;</span>9000<span class=\"nt\">&lt;/port&gt;</span>\n            <span class=\"nt\">&lt;/replica&gt;</span>\n        <span class=\"nt\">&lt;/shard&gt;</span>\n        <span class=\"nt\">&lt;shard&gt;</span>\n            <span class=\"nt\">&lt;weight&gt;</span>2<span class=\"nt\">&lt;/weight&gt;</span>\n            <span class=\"nt\">&lt;internal_replication&gt;</span>false<span class=\"nt\">&lt;/internal_replication&gt;</span>\n            <span class=\"nt\">&lt;replica&gt;</span>\n                <span class=\"nt\">&lt;host&gt;</span>example01-02-1<span class=\"nt\">&lt;/host&gt;</span>\n                <span class=\"nt\">&lt;port&gt;</span>9000<span class=\"nt\">&lt;/port&gt;</span>\n            <span class=\"nt\">&lt;/replica&gt;</span>\n            <span class=\"nt\">&lt;replica&gt;</span>\n                <span class=\"nt\">&lt;host&gt;</span>example01-02-2<span class=\"nt\">&lt;/host&gt;</span>\n                <span class=\"nt\">&lt;secure&gt;</span>1<span class=\"nt\">&lt;/secure&gt;</span>\n                <span class=\"nt\">&lt;port&gt;</span>9440<span class=\"nt\">&lt;/port&gt;</span>\n            <span class=\"nt\">&lt;/replica&gt;</span>\n        <span class=\"nt\">&lt;/shard&gt;</span>\n    <span class=\"nt\">&lt;/logs&gt;</span>\n<span class=\"nt\">&lt;/remote_servers&gt;</span>\n</pre></div>\n\n\n<p>Here a cluster is defined with the name 'logs' that consists of two shards, each of which contains two replicas.\nShards refer to the servers that contain different parts of the data (in order to read all the data, you must access all the shards).\nReplicas are duplicating servers (in order to read all the data, you can access the data on any one of the replicas).</p>\n<p>Cluster names must not contain dots.</p>\n<dl>\n<dt>The parameters <code>host</code>, <code>port</code>, and optionally <code>user</code>, <code>password</code>, <code>secure</code>, <code>compression</code> are specified for each server:</dt>\n<dd>\n<ul>\n<li><code>host</code> \u2013 The address of the remote server. You can use either the domain or the IPv4 or IPv6 address. If you specify the domain, the server makes a DNS request when it starts, and the result is stored as long as the server is running. If the DNS request fails, the server doesn't start. If you change the DNS record, restart the server.</li>\n<li><code>port</code> \u2013 The TCP port for messenger activity ('tcp_port' in the config, usually set to 9000). Do not confuse it with http_port.</li>\n<li><code>user</code> \u2013 Name of the user for connecting to a remote server. Default value: default. This user must have access to connect to the specified server. Access is configured in the users.xml file. For more information, see the section \"Access rights\".</li>\n<li><code>password</code> \u2013 The password for connecting to a remote server (not masked). Default value: empty string.</li>\n<li><code>secure</code> - Use ssl for connection, usually you also should define <code>port</code> = 9440. Server should listen on <tcp_port_secure>9440</tcp_port_secure> and have correct certificates.</li>\n<li><code>compression</code> - Use data compression. Default value: true.</li>\n</ul>\n</dd>\n</dl>\n<p>When specifying replicas, one of the available replicas will be selected for each of the shards when reading. You can configure the algorithm for load balancing (the preference for which replica to access) \u2013 see the 'load_balancing' setting.\nIf the connection with the server is not established, there will be an attempt to connect with a short timeout. If the connection failed, the next replica will be selected, and so on for all the replicas. If the connection attempt failed for all the replicas, the attempt will be repeated the same way, several times.\nThis works in favor of resiliency, but does not provide complete fault tolerance: a remote server might accept the connection, but might not work, or work poorly.</p>\n<p>You can specify just one of the shards (in this case, query processing should be called remote, rather than distributed) or up to any number of shards. In each shard, you can specify from one to any number of replicas. You can specify a different number of replicas for each shard.</p>\n<p>You can specify as many clusters as you wish in the configuration.</p>\n<p>To view your clusters, use the 'system.clusters' table.</p>\n<p>The Distributed engine allows working with a cluster like a local server. However, the cluster is inextensible: you must write its configuration in the server config file (even better, for all the cluster's servers).</p>\n<p>There is no support for Distributed tables that look at other Distributed tables (except in cases when a Distributed table only has one shard). As an alternative, make the Distributed table look at the \"final\" tables.</p>\n<p>The Distributed engine requires writing clusters to the config file. Clusters from the config file are updated on the fly, without restarting the server. If you need to send a query to an unknown set of shards and replicas each time, you don't need to create a Distributed table \u2013 use the 'remote' table function instead. See the section \"Table functions\".</p>\n<p>There are two methods for writing data to a cluster:</p>\n<p>First, you can define which servers to write which data to, and perform the write directly on each shard. In other words, perform INSERT in the tables that the distributed table \"looks at\".\nThis is the most flexible solution \u2013 you can use any sharding scheme, which could be non-trivial due to the requirements of the subject area.\nThis is also the most optimal solution, since data can be written to different shards completely independently.</p>\n<p>Second, you can perform INSERT in a Distributed table. In this case, the table will distribute the inserted data across servers itself.\nIn order to write to a Distributed table, it must have a sharding key set (the last parameter). In addition, if there is only one shard, the write operation works without specifying the sharding key, since it doesn't have any meaning in this case.</p>\n<p>Each shard can have a weight defined in the config file. By default, the weight is equal to one. Data is distributed across shards in the amount proportional to the shard weight. For example, if there are two shards and the first has a weight of 9 while the second has a weight of 10, the first will be sent 9 / 19 parts of the rows, and the second will be sent 10 / 19.</p>\n<p>Each shard can have the 'internal_replication' parameter defined in the config file.</p>\n<p>If this parameter is set to 'true', the write operation selects the first healthy replica and writes data to it. Use this alternative if the Distributed table \"looks at\" replicated tables. In other words, if the table where data will be written is going to replicate them itself.</p>\n<p>If it is set to 'false' (the default), data is written to all replicas. In essence, this means that the Distributed table replicates data itself. This is worse than using replicated tables, because the consistency of replicas is not checked, and over time they will contain slightly different data.</p>\n<p>To select the shard that a row of data is sent to, the sharding expression is analyzed, and its remainder is taken from dividing it by the total weight of the shards. The row is sent to the shard that corresponds to the half-interval of the remainders from 'prev_weight' to 'prev_weights + weight', where 'prev_weights' is the total weight of the shards with the smallest number, and 'weight' is the weight of this shard. For example, if there are two shards, and the first has a weight of 9 while the second has a weight of 10, the row will be sent to the first shard for the remainders from the range [0, 9), and to the second for the remainders from the range [9, 19).</p>\n<p>The sharding expression can be any expression from constants and table columns that returns an integer. For example, you can use the expression 'rand()' for random distribution of data, or 'UserID' for distribution by the remainder from dividing the user's ID (then the data of a single user will reside on a single shard, which simplifies running IN and JOIN by users). If one of the columns is not distributed evenly enough, you can wrap it in a hash function: intHash64(UserID).</p>\n<p>A simple remainder from division is a limited solution for sharding and isn't always appropriate. It works for medium and large volumes of data (dozens of servers), but not for very large volumes of data (hundreds of servers or more). In the latter case, use the sharding scheme required by the subject area, rather than using entries in Distributed tables.</p>\n<p>SELECT queries are sent to all the shards, and work regardless of how data is distributed across the shards (they can be distributed completely randomly). When you add a new shard, you don't have to transfer the old data to it. You can write new data with a heavier weight \u2013 the data will be distributed slightly unevenly, but queries will work correctly and efficiently.</p>\n<p>You should be concerned about the sharding scheme in the following cases:</p>\n<ul>\n<li>Queries are used that require joining data (IN or JOIN) by a specific key. If data is sharded by this key, you can use local IN or JOIN instead of GLOBAL IN or GLOBAL JOIN, which is much more efficient.</li>\n<li>A large number of servers is used (hundreds or more) with a large number of small queries (queries of individual clients - websites, advertisers, or partners). In order for the small queries to not affect the entire cluster, it makes sense to locate data for a single client on a single shard. Alternatively, as we've done in Yandex.Metrica, you can set up bi-level sharding: divide the entire cluster into \"layers\", where a layer may consist of multiple shards. Data for a single client is located on a single layer, but shards can be added to a layer as necessary, and data is randomly distributed within them. Distributed tables are created for each layer, and a single shared distributed table is created for global queries.</li>\n</ul>\n<p>Data is written asynchronously. For an INSERT to a Distributed table, the data block is just written to the local file system. The data is sent to the remote servers in the background as soon as possible. You should check whether data is sent successfully by checking the list of files (data waiting to be sent) in the table directory: /var/lib/clickhouse/data/database/table/.</p>\n<p>If the server ceased to exist or had a rough restart (for example, after a device failure) after an INSERT to a Distributed table, the inserted data might be lost. If a damaged data part is detected in the table directory, it is transferred to the 'broken' subdirectory and no longer used.</p>\n<p>When the max_parallel_replicas option is enabled, query processing is parallelized across all replicas within a single shard. For more information, see the section \"Settings, max_parallel_replicas\".</p>\n<p><a name=\"external_data/\"></a>\n<a name=\"../../operations/table_engines/external_data/\"></a>\n<a name=\"../../../../../../table_engines/external_data/\"></a>\n<a name=\"../../../table_engines/external_data/\"></a>\n<a name=\"../operations/table_engines/external_data/\"></a>\n<a name=\"../../table_engines/external_data/\"></a>\n<a name=\"../../../../table_engines/external_data/\"></a>\n<a name=\"../table_engines/external_data/\"></a>\n<a name=\"../../../../operations/table_engines/external_data/\"></a>\n<a name=\"operations/table_engines/external_data/\"></a>\n<a name=\"table_engines/external_data/\"></a>\n<a name=\"../../../../../table_engines/external_data/\"></a>\n<a name=\"../../../../../operations/table_engines/external_data/\"></a>\n<a name=\"../../../operations/table_engines/external_data/\"></a></p>\n<h2 id=\"external-data-for-query-processing\">External Data for Query Processing<a class=\"headerlink\" href=\"#external-data-for-query-processing\" title=\"Permanent link\">&para;</a></h2>\n<p>ClickHouse allows sending a server the data that is needed for processing a query, together with a SELECT query. This data is put in a temporary table (see the section \"Temporary tables\") and can be used in the query (for example, in IN operators).</p>\n<p>For example, if you have a text file with important user identifiers, you can upload it to the server along with a query that uses filtration by this list.</p>\n<p>If you need to run more than one query with a large volume of external data, don't use this feature. It is better to upload the data to the DB ahead of time.</p>\n<p>External data can be uploaded using the command-line client (in non-interactive mode), or using the HTTP interface.</p>\n<p>In the command-line client, you can specify a parameters section in the format</p>\n<div class=\"codehilite\"><pre><span></span>--external --file<span class=\"o\">=</span>... <span class=\"o\">[</span>--name<span class=\"o\">=</span>...<span class=\"o\">]</span> <span class=\"o\">[</span>--format<span class=\"o\">=</span>...<span class=\"o\">]</span> <span class=\"o\">[</span>--types<span class=\"o\">=</span>...<span class=\"p\">|</span>--structure<span class=\"o\">=</span>...<span class=\"o\">]</span>\n</pre></div>\n\n\n<p>You may have multiple sections like this, for the number of tables being transmitted.</p>\n<p><strong>--external</strong> \u2013 Marks the beginning of a clause.\n<strong>--file</strong> \u2013 Path to the file with the table dump, or -, which refers to stdin.\nOnly a single table can be retrieved from stdin.</p>\n<p>The following parameters are optional: <strong>--name</strong>\u2013 Name of the table. If omitted, _data is used.\n<strong>--format</strong> \u2013 Data format in the file. If omitted, TabSeparated is used.</p>\n<p>One of the following parameters is required:<strong>--types</strong> \u2013 A list of comma-separated column types. For example: <code>UInt64,String</code>. The columns will be named _1, _2, ...\n<strong>--structure</strong>\u2013 The table structure in the format<code>UserID UInt64</code>, <code>URL String</code>. Defines the column names and types.</p>\n<p>The files specified in 'file' will be parsed by the format specified in 'format', using the data types specified in 'types' or 'structure'. The table will be uploaded to the server and accessible there as a temporary table with the name in 'name'.</p>\n<p>Examples:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nb\">echo</span> -ne <span class=\"s2\">&quot;1\\n2\\n3\\n&quot;</span> <span class=\"p\">|</span> clickhouse-client --query<span class=\"o\">=</span><span class=\"s2\">&quot;SELECT count() FROM test.visits WHERE TraficSourceID IN _data&quot;</span> --external --file<span class=\"o\">=</span>- --types<span class=\"o\">=</span>Int8\n<span class=\"m\">849897</span>\ncat /etc/passwd <span class=\"p\">|</span> sed <span class=\"s1\">&#39;s/:/\\t/g&#39;</span> <span class=\"p\">|</span> clickhouse-client --query<span class=\"o\">=</span><span class=\"s2\">&quot;SELECT shell, count() AS c FROM passwd GROUP BY shell ORDER BY c DESC&quot;</span> --external --file<span class=\"o\">=</span>- --name<span class=\"o\">=</span>passwd --structure<span class=\"o\">=</span><span class=\"s1\">&#39;login String, unused String, uid UInt16, gid UInt16, comment String, home String, shell String&#39;</span>\n/bin/sh <span class=\"m\">20</span>\n/bin/false      <span class=\"m\">5</span>\n/bin/bash       <span class=\"m\">4</span>\n/usr/sbin/nologin       <span class=\"m\">1</span>\n/bin/sync       <span class=\"m\">1</span>\n</pre></div>\n\n\n<p>When using the HTTP interface, external data is passed in the multipart/form-data format. Each table is transmitted as a separate file. The table name is taken from the file name. The 'query_string' is passed the parameters 'name_format', 'name_types', and 'name_structure', where 'name' is the name of the table that these parameters correspond to. The meaning of the parameters is the same as when using the command-line client.</p>\n<p>Example:</p>\n<div class=\"codehilite\"><pre><span></span>cat /etc/passwd <span class=\"p\">|</span> sed <span class=\"s1\">&#39;s/:/\\t/g&#39;</span> &gt; passwd.tsv\n\ncurl -F <span class=\"s1\">&#39;passwd=@passwd.tsv;&#39;</span> <span class=\"s1\">&#39;http://localhost:8123/?query=SELECT+shell,+count()+AS+c+FROM+passwd+GROUP+BY+shell+ORDER+BY+c+DESC&amp;passwd_structure=login+String,+unused+String,+uid+UInt16,+gid+UInt16,+comment+String,+home+String,+shell+String&#39;</span>\n/bin/sh <span class=\"m\">20</span>\n/bin/false      <span class=\"m\">5</span>\n/bin/bash       <span class=\"m\">4</span>\n/usr/sbin/nologin       <span class=\"m\">1</span>\n/bin/sync       <span class=\"m\">1</span>\n</pre></div>\n\n\n<p>For distributed query processing, the temporary tables are sent to all the remote servers.</p>\n<p><a name=\"dictionary/\"></a>\n<a name=\"operations/table_engines/dictionary/\"></a>\n<a name=\"../operations/table_engines/dictionary/\"></a>\n<a name=\"../../operations/table_engines/dictionary/\"></a>\n<a name=\"../../../../operations/table_engines/dictionary/\"></a>\n<a name=\"../../table_engines/dictionary/\"></a>\n<a name=\"../../../../table_engines/dictionary/\"></a>\n<a name=\"../../../../../../table_engines/dictionary/\"></a>\n<a name=\"../../../../../table_engines/dictionary/\"></a>\n<a name=\"../../../operations/table_engines/dictionary/\"></a>\n<a name=\"table_engines/dictionary/\"></a>\n<a name=\"../../../table_engines/dictionary/\"></a>\n<a name=\"../table_engines/dictionary/\"></a>\n<a name=\"../../../../../operations/table_engines/dictionary/\"></a></p>\n<h2 id=\"dictionary\">Dictionary<a class=\"headerlink\" href=\"#dictionary\" title=\"Permanent link\">&para;</a></h2>\n<p>The <code>Dictionary</code> engine displays the <a href=\"#../../query_language/dicts/external_dicts/\">dictionary</a> data as a ClickHouse table.</p>\n<p>As an example, consider a dictionary of <code>products</code> with the following configuration:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;dictionaries&gt;</span>\n<span class=\"nt\">&lt;dictionary&gt;</span>\n        <span class=\"nt\">&lt;name&gt;</span>products<span class=\"nt\">&lt;/name&gt;</span>\n        <span class=\"nt\">&lt;source&gt;</span>\n            <span class=\"nt\">&lt;odbc&gt;</span>\n                <span class=\"nt\">&lt;table&gt;</span>products<span class=\"nt\">&lt;/table&gt;</span>\n                <span class=\"nt\">&lt;connection_string&gt;</span>DSN=some-db-server<span class=\"nt\">&lt;/connection_string&gt;</span>\n            <span class=\"nt\">&lt;/odbc&gt;</span>\n        <span class=\"nt\">&lt;/source&gt;</span>\n        <span class=\"nt\">&lt;lifetime&gt;</span>\n            <span class=\"nt\">&lt;min&gt;</span>300<span class=\"nt\">&lt;/min&gt;</span>\n            <span class=\"nt\">&lt;max&gt;</span>360<span class=\"nt\">&lt;/max&gt;</span>\n        <span class=\"nt\">&lt;/lifetime&gt;</span>\n        <span class=\"nt\">&lt;layout&gt;</span>\n            <span class=\"nt\">&lt;flat/&gt;</span>\n        <span class=\"nt\">&lt;/layout&gt;</span>\n        <span class=\"nt\">&lt;structure&gt;</span>\n            <span class=\"nt\">&lt;id&gt;</span>\n                <span class=\"nt\">&lt;name&gt;</span>product_id<span class=\"nt\">&lt;/name&gt;</span>\n            <span class=\"nt\">&lt;/id&gt;</span>\n            <span class=\"nt\">&lt;attribute&gt;</span>\n                <span class=\"nt\">&lt;name&gt;</span>title<span class=\"nt\">&lt;/name&gt;</span>\n                <span class=\"nt\">&lt;type&gt;</span>String<span class=\"nt\">&lt;/type&gt;</span>\n                <span class=\"nt\">&lt;null_value&gt;&lt;/null_value&gt;</span>\n            <span class=\"nt\">&lt;/attribute&gt;</span>\n        <span class=\"nt\">&lt;/structure&gt;</span>\n<span class=\"nt\">&lt;/dictionary&gt;</span>\n<span class=\"nt\">&lt;/dictionaries&gt;</span>\n</pre></div>\n\n\n<p>Query the dictionary data:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">select</span> <span class=\"n\">name</span><span class=\"p\">,</span> <span class=\"k\">type</span><span class=\"p\">,</span> <span class=\"k\">key</span><span class=\"p\">,</span> <span class=\"n\">attribute</span><span class=\"p\">.</span><span class=\"k\">names</span><span class=\"p\">,</span> <span class=\"n\">attribute</span><span class=\"p\">.</span><span class=\"n\">types</span><span class=\"p\">,</span> <span class=\"n\">bytes_allocated</span><span class=\"p\">,</span> <span class=\"n\">element_count</span><span class=\"p\">,</span><span class=\"k\">source</span> <span class=\"k\">from</span> <span class=\"k\">system</span><span class=\"p\">.</span><span class=\"n\">dictionaries</span> <span class=\"k\">where</span> <span class=\"n\">name</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;products&#39;</span><span class=\"p\">;</span>                     \n\n<span class=\"k\">SELECT</span>\n    <span class=\"n\">name</span><span class=\"p\">,</span>\n    <span class=\"k\">type</span><span class=\"p\">,</span>\n    <span class=\"k\">key</span><span class=\"p\">,</span>\n    <span class=\"n\">attribute</span><span class=\"p\">.</span><span class=\"k\">names</span><span class=\"p\">,</span>\n    <span class=\"n\">attribute</span><span class=\"p\">.</span><span class=\"n\">types</span><span class=\"p\">,</span>\n    <span class=\"n\">bytes_allocated</span><span class=\"p\">,</span>\n    <span class=\"n\">element_count</span><span class=\"p\">,</span>\n    <span class=\"k\">source</span>\n<span class=\"k\">FROM</span> <span class=\"k\">system</span><span class=\"p\">.</span><span class=\"n\">dictionaries</span>\n<span class=\"k\">WHERE</span> <span class=\"n\">name</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;products&#39;</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500name\u2500\u2500\u2500\u2500\u2500\u252c\u2500type\u2500\u252c\u2500key\u2500\u2500\u2500\u2500\u252c\u2500attribute.names\u2500\u252c\u2500attribute.types\u2500\u252c\u2500bytes_allocated\u2500\u252c\u2500element_count\u2500\u252c\u2500source\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502 products \u2502 Flat \u2502 UInt64 \u2502 [&#39;title&#39;]       \u2502 [&#39;String&#39;]      \u2502        23065376 \u2502        175032 \u2502 ODBC: .products \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>You can use the <a href=\"#ext_dict_functions\">dictGet*</a> function to get the dictionary data in this format.</p>\n<p>This view isn't helpful when you need to get raw data, or when performing a <code>JOIN</code> operation. For these cases, you can use the <code>Dictionary</code> engine, which displays the dictionary data in a table.</p>\n<p>Syntax:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">CREATE TABLE %table_name% (%fields%) engine = Dictionary(%dictionary_name%)`</span>\n</pre></div>\n\n\n<p>Usage example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">create</span> <span class=\"k\">table</span> <span class=\"n\">products</span> <span class=\"p\">(</span><span class=\"n\">product_id</span> <span class=\"n\">UInt64</span><span class=\"p\">,</span> <span class=\"n\">title</span> <span class=\"n\">String</span><span class=\"p\">)</span> <span class=\"n\">Engine</span> <span class=\"o\">=</span> <span class=\"k\">Dictionary</span><span class=\"p\">(</span><span class=\"n\">products</span><span class=\"p\">);</span>\n\n<span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">products</span>\n<span class=\"p\">(</span>\n    <span class=\"n\">product_id</span> <span class=\"n\">UInt64</span><span class=\"p\">,</span>\n    <span class=\"n\">title</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n<span class=\"p\">)</span>\n<span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"k\">Dictionary</span><span class=\"p\">(</span><span class=\"n\">products</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">Ok</span><span class=\"p\">.</span>\n\n<span class=\"mi\">0</span> <span class=\"k\">rows</span> <span class=\"k\">in</span> <span class=\"k\">set</span><span class=\"p\">.</span> <span class=\"n\">Elapsed</span><span class=\"p\">:</span> <span class=\"mi\">0</span><span class=\"p\">.</span><span class=\"mi\">004</span> <span class=\"n\">sec</span><span class=\"p\">.</span>\n</pre></div>\n\n\n<p>Take a look at what's in the table.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">select</span> <span class=\"o\">*</span> <span class=\"k\">from</span> <span class=\"n\">products</span> <span class=\"k\">limit</span> <span class=\"mi\">1</span><span class=\"p\">;</span>\n\n<span class=\"k\">SELECT</span> <span class=\"o\">*</span>\n<span class=\"k\">FROM</span> <span class=\"n\">products</span>\n<span class=\"k\">LIMIT</span> <span class=\"mi\">1</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500\u2500\u2500\u2500</span><span class=\"n\">product_id</span><span class=\"err\">\u2500\u252c\u2500</span><span class=\"n\">title</span><span class=\"err\">\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502</span>        <span class=\"mi\">152689</span> <span class=\"err\">\u2502</span> <span class=\"k\">Some</span> <span class=\"n\">item</span>       <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n\n<span class=\"mi\">1</span> <span class=\"k\">rows</span> <span class=\"k\">in</span> <span class=\"k\">set</span><span class=\"p\">.</span> <span class=\"n\">Elapsed</span><span class=\"p\">:</span> <span class=\"mi\">0</span><span class=\"p\">.</span><span class=\"mi\">006</span> <span class=\"n\">sec</span><span class=\"p\">.</span>\n</pre></div>\n\n\n<p><a name=\"../../table_engines/merge/\"></a>\n<a name=\"../../../../../operations/table_engines/merge/\"></a>\n<a name=\"operations/table_engines/merge/\"></a>\n<a name=\"../../../../../../table_engines/merge/\"></a>\n<a name=\"../../../../../table_engines/merge/\"></a>\n<a name=\"../table_engines/merge/\"></a>\n<a name=\"../../../operations/table_engines/merge/\"></a>\n<a name=\"../../../../operations/table_engines/merge/\"></a>\n<a name=\"table_engines/merge/\"></a>\n<a name=\"../operations/table_engines/merge/\"></a>\n<a name=\"merge/\"></a>\n<a name=\"../../operations/table_engines/merge/\"></a>\n<a name=\"../../../../table_engines/merge/\"></a>\n<a name=\"../../../table_engines/merge/\"></a></p>\n<h2 id=\"merge\">Merge<a class=\"headerlink\" href=\"#merge\" title=\"Permanent link\">&para;</a></h2>\n<p>The <code>Merge</code> engine (not to be confused with <code>MergeTree</code>) does not store data itself, but allows reading from any number of other tables simultaneously.\nReading is automatically parallelized. Writing to a table is not supported. When reading, the indexes of tables that are actually being read are used, if they exist.\nThe <code>Merge</code> engine accepts parameters: the database name and a regular expression for tables.</p>\n<p>Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">Merge(hits, &#39;^WatchLog&#39;)</span>\n</pre></div>\n\n\n<p>Data will be read from the tables in the <code>hits</code> database that have names that match the regular expression '<code>^WatchLog</code>'.</p>\n<p>Instead of the database name, you can use a constant expression that returns a string. For example, <code>currentDatabase()</code>.</p>\n<p>Regular expressions \u2014 <a href=\"https://github.com/google/re2\" rel=\"external nofollow\">re2</a> (supports a subset of PCRE), case-sensitive.\nSee the notes about escaping symbols in regular expressions in the \"match\" section.</p>\n<p>When selecting tables to read, the <code>Merge</code> table itself will not be selected, even if it matches the regex. This is to avoid loops.\nIt is possible to create two <code>Merge</code> tables that will endlessly try to read each others' data, but this is not a good idea.</p>\n<p>The typical way to use the <code>Merge</code> engine is for working with a large number of <code>TinyLog</code> tables as if with a single table.</p>\n<p>Example 2:</p>\n<p>Let's say you have a old table (WatchLog_old) and decided to change partitioning without moving data to a new table (WatchLog_new) and you need to see data from both tables.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">WatchLog_old</span><span class=\"p\">(</span><span class=\"nb\">date</span> <span class=\"nb\">Date</span><span class=\"p\">,</span> <span class=\"n\">UserId</span> <span class=\"n\">Int64</span><span class=\"p\">,</span> <span class=\"n\">EventType</span> <span class=\"n\">String</span><span class=\"p\">,</span> <span class=\"n\">Cnt</span> <span class=\"n\">UInt64</span><span class=\"p\">)</span> \n<span class=\"n\">ENGINE</span><span class=\"o\">=</span><span class=\"n\">MergeTree</span><span class=\"p\">(</span><span class=\"nb\">date</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"n\">UserId</span><span class=\"p\">,</span> <span class=\"n\">EventType</span><span class=\"p\">),</span> <span class=\"mi\">8192</span><span class=\"p\">);</span>\n<span class=\"k\">INSERT</span> <span class=\"k\">INTO</span> <span class=\"n\">WatchLog_old</span> <span class=\"k\">VALUES</span> <span class=\"p\">(</span><span class=\"s1\">&#39;2018-01-01&#39;</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"s1\">&#39;hit&#39;</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">);</span>\n\n<span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">WatchLog_new</span><span class=\"p\">(</span><span class=\"nb\">date</span> <span class=\"nb\">Date</span><span class=\"p\">,</span> <span class=\"n\">UserId</span> <span class=\"n\">Int64</span><span class=\"p\">,</span> <span class=\"n\">EventType</span> <span class=\"n\">String</span><span class=\"p\">,</span> <span class=\"n\">Cnt</span> <span class=\"n\">UInt64</span><span class=\"p\">)</span> \n<span class=\"n\">ENGINE</span><span class=\"o\">=</span><span class=\"n\">MergeTree</span> <span class=\"n\">PARTITION</span> <span class=\"k\">BY</span> <span class=\"nb\">date</span> <span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"p\">(</span><span class=\"n\">UserId</span><span class=\"p\">,</span> <span class=\"n\">EventType</span><span class=\"p\">)</span> <span class=\"n\">SETTINGS</span> <span class=\"n\">index_granularity</span><span class=\"o\">=</span><span class=\"mi\">8192</span><span class=\"p\">;</span>\n<span class=\"k\">INSERT</span> <span class=\"k\">INTO</span> <span class=\"n\">WatchLog_new</span> <span class=\"k\">VALUES</span> <span class=\"p\">(</span><span class=\"s1\">&#39;2018-01-02&#39;</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"s1\">&#39;hit&#39;</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">);</span>\n\n<span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">WatchLog</span> <span class=\"k\">as</span> <span class=\"n\">WatchLog_old</span> <span class=\"n\">ENGINE</span><span class=\"o\">=</span><span class=\"n\">Merge</span><span class=\"p\">(</span><span class=\"n\">currentDatabase</span><span class=\"p\">(),</span> <span class=\"s1\">&#39;^WatchLog&#39;</span><span class=\"p\">);</span>\n\n<span class=\"k\">SELECT</span> <span class=\"o\">*</span>\n<span class=\"k\">FROM</span> <span class=\"n\">WatchLog</span>\n\n<span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500</span><span class=\"nb\">date</span><span class=\"err\">\u2500\u252c\u2500</span><span class=\"n\">UserId</span><span class=\"err\">\u2500\u252c\u2500</span><span class=\"n\">EventType</span><span class=\"err\">\u2500\u252c\u2500</span><span class=\"n\">Cnt</span><span class=\"err\">\u2500\u2510</span>\n<span class=\"err\">\u2502</span> <span class=\"mi\">2018</span><span class=\"o\">-</span><span class=\"mi\">01</span><span class=\"o\">-</span><span class=\"mi\">01</span> <span class=\"err\">\u2502</span>      <span class=\"mi\">1</span> <span class=\"err\">\u2502</span> <span class=\"n\">hit</span>       <span class=\"err\">\u2502</span>   <span class=\"mi\">3</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2518</span>\n<span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500</span><span class=\"nb\">date</span><span class=\"err\">\u2500\u252c\u2500</span><span class=\"n\">UserId</span><span class=\"err\">\u2500\u252c\u2500</span><span class=\"n\">EventType</span><span class=\"err\">\u2500\u252c\u2500</span><span class=\"n\">Cnt</span><span class=\"err\">\u2500\u2510</span>\n<span class=\"err\">\u2502</span> <span class=\"mi\">2018</span><span class=\"o\">-</span><span class=\"mi\">01</span><span class=\"o\">-</span><span class=\"mi\">02</span> <span class=\"err\">\u2502</span>      <span class=\"mi\">2</span> <span class=\"err\">\u2502</span> <span class=\"n\">hit</span>       <span class=\"err\">\u2502</span>   <span class=\"mi\">3</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"virtual-columns\">Virtual Columns<a class=\"headerlink\" href=\"#virtual-columns\" title=\"Permanent link\">&para;</a></h3>\n<p>Virtual columns are columns that are provided by the table engine, regardless of the table definition. In other words, these columns are not specified in <code>CREATE TABLE</code>, but they are accessible for <code>SELECT</code>.</p>\n<p>Virtual columns differ from normal columns in the following ways:</p>\n<ul>\n<li>They are not specified in table definitions.</li>\n<li>Data can't be added to them with <code>INSERT</code>.</li>\n<li>When using <code>INSERT</code> without specifying the list of columns, virtual columns are ignored.</li>\n<li>They are not selected when using the asterisk (<code>SELECT *</code>).</li>\n<li>Virtual columns are not shown in <code>SHOW CREATE TABLE</code> and <code>DESC TABLE</code> queries.</li>\n</ul>\n<p>The <code>Merge</code> type table contains a virtual <code>_table</code> column of the <code>String</code> type. (If the table already has a <code>_table</code> column, the virtual column is called <code>_table1</code>; if you already have <code>_table1</code>, it's called <code>_table2</code>, and so on.) It contains the name of the table that data was read from.</p>\n<p>If the <code>WHERE/PREWHERE</code> clause contains conditions for the <code>_table</code> column that do not depend on other table columns (as one of the conjunction elements, or as an entire expression), these conditions are used as an index. The conditions are performed on a data set of table names to read data from, and the read operation will be performed from only those tables that the condition was triggered on.</p>\n<p><a name=\"../../../../operations/table_engines/file/\"></a>\n<a name=\"../../../table_engines/file/\"></a>\n<a name=\"../operations/table_engines/file/\"></a>\n<a name=\"../../../../../table_engines/file/\"></a>\n<a name=\"../../../operations/table_engines/file/\"></a>\n<a name=\"../../table_engines/file/\"></a>\n<a name=\"../../../../../operations/table_engines/file/\"></a>\n<a name=\"operations/table_engines/file/\"></a>\n<a name=\"../../../../table_engines/file/\"></a>\n<a name=\"../table_engines/file/\"></a>\n<a name=\"../../../../../../table_engines/file/\"></a>\n<a name=\"table_engines/file/\"></a>\n<a name=\"file/\"></a>\n<a name=\"../../operations/table_engines/file/\"></a></p>\n<h2 id=\"table_engines-file\">File(InputFormat)<a class=\"headerlink\" href=\"#table_engines-file\" title=\"Permanent link\">&para;</a></h2>\n<p>The data source is a file that stores data in one of the supported input formats (TabSeparated, Native, etc.).</p>\n<p>Usage examples:</p>\n<ul>\n<li>Data export from ClickHouse to file.</li>\n<li>Convert data from one format to another.</li>\n<li>Updating data in ClickHouse via editing a file on a disk.</li>\n</ul>\n<h3 id=\"usage-in-clickhouse-server\">Usage in ClickHouse Server<a class=\"headerlink\" href=\"#usage-in-clickhouse-server\" title=\"Permanent link\">&para;</a></h3>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">File(Format)</span>\n</pre></div>\n\n\n<p><code>Format</code> should be supported for either <code>INSERT</code> and <code>SELECT</code>. For the full list of supported formats see <a href=\"#formats\">Formats</a>.</p>\n<p>ClickHouse does not allow to specify filesystem path for<code>File</code>. It will use folder defined by <a href=\"#../server_settings/settings/\">path</a> setting in server configuration.</p>\n<p>When creating table using <code>File(Format)</code> it creates empty subdirectory in that folder. When data is written to that table, it's put into <code>data.Format</code> file in that subdirectory.</p>\n<p>You may manually create this subfolder and file in server filesystem and then <a href=\"#../../query_language/misc/\">ATTACH</a> it to table information with matching name, so you can query data from that file.</p>\n<div class=\"admonition warning\">\n<p class=\"admonition-title\">Warning</p>\n<p>Be careful with this funcionality, because ClickHouse does not keep track of external changes to such files. The result of simultaneous writes via ClickHouse and outside of ClickHouse is undefined.</p>\n</div>\n<p><strong>Example:</strong></p>\n<p><strong>1.</strong> Set up the <code>file_engine_table</code> table:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">file_engine_table</span> <span class=\"p\">(</span><span class=\"n\">name</span> <span class=\"n\">String</span><span class=\"p\">,</span> <span class=\"n\">value</span> <span class=\"n\">UInt32</span><span class=\"p\">)</span> <span class=\"n\">ENGINE</span><span class=\"o\">=</span><span class=\"n\">File</span><span class=\"p\">(</span><span class=\"n\">TabSeparated</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>By default ClickHouse will create folder <code>/var/lib/clickhouse/data/default/file_engine_table</code>.</p>\n<p><strong>2.</strong> Manually create <code>/var/lib/clickhouse/data/default/file_engine_table/data.TabSeparated</code> containing:</p>\n<div class=\"codehilite\"><pre><span></span>$ cat data.TabSeparated\none <span class=\"m\">1</span>\ntwo <span class=\"m\">2</span>\n</pre></div>\n\n\n<p><strong>3.</strong> Query the data:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"o\">*</span> <span class=\"k\">FROM</span> <span class=\"n\">file_engine_table</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500name\u2500\u252c\u2500value\u2500\u2510</span>\n<span class=\"err\">\u2502 one  \u2502     1 \u2502</span>\n<span class=\"err\">\u2502 two  \u2502     2 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"usage-in-clickhouse-local\">Usage in Clickhouse-local<a class=\"headerlink\" href=\"#usage-in-clickhouse-local\" title=\"Permanent link\">&para;</a></h3>\n<p>In <a href=\"#../utils/clickhouse-local/\">clickhouse-local</a> File engine accepts file path in addition to <code>Format</code>. Default input/output streams can be specified using numeric or human-readable names like <code>0</code> or <code>stdin</code>, <code>1</code> or <code>stdout</code>.\n<strong>Example:</strong></p>\n<div class=\"codehilite\"><pre><span></span>$ <span class=\"nb\">echo</span> -e <span class=\"s2\">&quot;1,2\\n3,4&quot;</span> <span class=\"p\">|</span> clickhouse-local -q <span class=\"s2\">&quot;CREATE TABLE table (a Int64, b Int64) ENGINE = File(CSV, stdin); SELECT a, b FROM table; DROP TABLE table&quot;</span>\n</pre></div>\n\n\n<h3 id=\"details-of-implementation\">Details of Implementation<a class=\"headerlink\" href=\"#details-of-implementation\" title=\"Permanent link\">&para;</a></h3>\n<ul>\n<li>Reads can be parallel, but not writes</li>\n<li>Not supported:</li>\n<li><code>ALTER</code></li>\n<li><code>SELECT ... SAMPLE</code></li>\n<li>Indices</li>\n<li>Replication</li>\n</ul>\n<p><a name=\"../operations/table_engines/null/\"></a>\n<a name=\"../../table_engines/null/\"></a>\n<a name=\"operations/table_engines/null/\"></a>\n<a name=\"../../../../../table_engines/null/\"></a>\n<a name=\"../table_engines/null/\"></a>\n<a name=\"../../../../../operations/table_engines/null/\"></a>\n<a name=\"../../../../../../table_engines/null/\"></a>\n<a name=\"../../../table_engines/null/\"></a>\n<a name=\"../../../../operations/table_engines/null/\"></a>\n<a name=\"../../operations/table_engines/null/\"></a>\n<a name=\"null/\"></a>\n<a name=\"../../../../table_engines/null/\"></a>\n<a name=\"../../../operations/table_engines/null/\"></a>\n<a name=\"table_engines/null/\"></a></p>\n<h2 id=\"null_1\">Null<a class=\"headerlink\" href=\"#null_1\" title=\"Permanent link\">&para;</a></h2>\n<p>When writing to a Null table, data is ignored. When reading from a Null table, the response is empty.</p>\n<p>However, you can create a materialized view on a Null table. So the data written to the table will end up in the view.</p>\n<p><a name=\"../../table_engines/set/\"></a>\n<a name=\"../../../../operations/table_engines/set/\"></a>\n<a name=\"../../../operations/table_engines/set/\"></a>\n<a name=\"../../../../../table_engines/set/\"></a>\n<a name=\"set/\"></a>\n<a name=\"../../operations/table_engines/set/\"></a>\n<a name=\"../table_engines/set/\"></a>\n<a name=\"../../../table_engines/set/\"></a>\n<a name=\"../../../../../operations/table_engines/set/\"></a>\n<a name=\"../operations/table_engines/set/\"></a>\n<a name=\"../../../../table_engines/set/\"></a>\n<a name=\"table_engines/set/\"></a>\n<a name=\"operations/table_engines/set/\"></a>\n<a name=\"../../../../../../table_engines/set/\"></a></p>\n<h2 id=\"set_1\">Set<a class=\"headerlink\" href=\"#set_1\" title=\"Permanent link\">&para;</a></h2>\n<p>A data set that is always in RAM. It is intended for use on the right side of the IN operator (see the section \"IN operators\").</p>\n<p>You can use INSERT to insert data in the table. New elements will be added to the data set, while duplicates will be ignored.\nBut you can't perform SELECT from the table. The only way to retrieve data is by using it in the right half of the IN operator.</p>\n<p>Data is always located in RAM. For INSERT, the blocks of inserted data are also written to the directory of tables on the disk. When starting the server, this data is loaded to RAM. In other words, after restarting, the data remains in place.</p>\n<p>For a rough server restart, the block of data on the disk might be lost or damaged. In the latter case, you may need to manually delete the file with damaged data.</p>\n<p><a name=\"../../table_engines/join/\"></a>\n<a name=\"../table_engines/join/\"></a>\n<a name=\"../../../table_engines/join/\"></a>\n<a name=\"../../../../../table_engines/join/\"></a>\n<a name=\"table_engines/join/\"></a>\n<a name=\"join/\"></a>\n<a name=\"../../operations/table_engines/join/\"></a>\n<a name=\"../../../../../operations/table_engines/join/\"></a>\n<a name=\"operations/table_engines/join/\"></a>\n<a name=\"../../../../../../table_engines/join/\"></a>\n<a name=\"../../../operations/table_engines/join/\"></a>\n<a name=\"../../../../table_engines/join/\"></a>\n<a name=\"../../../../operations/table_engines/join/\"></a>\n<a name=\"../operations/table_engines/join/\"></a></p>\n<h2 id=\"join\">Join<a class=\"headerlink\" href=\"#join\" title=\"Permanent link\">&para;</a></h2>\n<p>A prepared data structure for JOIN that is always located in RAM.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">Join(ANY|ALL, LEFT|INNER, k1[, k2, ...])</span>\n</pre></div>\n\n\n<p>Engine parameters: <code>ANY|ALL</code> \u2013 strictness; <code>LEFT|INNER</code> \u2013 type. For more information, see the <a href=\"#select-join\">JOIN Clause</a> section.\nThese parameters are set without quotes and must match the JOIN that the table will be used for. k1, k2, ... are the key columns from the USING clause that the join will be made on.</p>\n<p>The table can't be used for GLOBAL JOINs.</p>\n<p>You can use INSERT to add data to the table, similar to the Set engine. For ANY, data for duplicated keys will be ignored. For ALL, it will be counted. You can't perform SELECT directly from the table. The only way to retrieve data is to use it as the \"right-hand\" table for JOIN.</p>\n<p>Storing data on the disk is the same as for the Set engine.</p>\n<p><a name=\"../../../operations/table_engines/url/\"></a>\n<a name=\"../table_engines/url/\"></a>\n<a name=\"../../../../../table_engines/url/\"></a>\n<a name=\"../operations/table_engines/url/\"></a>\n<a name=\"url/\"></a>\n<a name=\"../../../table_engines/url/\"></a>\n<a name=\"../../operations/table_engines/url/\"></a>\n<a name=\"table_engines/url/\"></a>\n<a name=\"operations/table_engines/url/\"></a>\n<a name=\"../../../../../../table_engines/url/\"></a>\n<a name=\"../../../../../operations/table_engines/url/\"></a>\n<a name=\"../../../../table_engines/url/\"></a>\n<a name=\"../../../../operations/table_engines/url/\"></a>\n<a name=\"../../table_engines/url/\"></a></p>\n<h2 id=\"table_engines-url\">URL(URL, Format)<a class=\"headerlink\" href=\"#table_engines-url\" title=\"Permanent link\">&para;</a></h2>\n<p>Manages data on a remote HTTP/HTTPS server. This engine is similar\nto the <a href=\"#file/\">File</a> engine.</p>\n<h3 id=\"using-the-engine-in-the-clickhouse-server\">Using the engine in the ClickHouse server<a class=\"headerlink\" href=\"#using-the-engine-in-the-clickhouse-server\" title=\"Permanent link\">&para;</a></h3>\n<p><code>The format</code> must be one that ClickHouse can use in\n<code>SELECT</code> queries and, if necessary, in <code>INSERTs</code>. For the full list of supported formats, see\n<a href=\"#formats\">Formats</a>.</p>\n<p><code>The URL</code> must conform to the structure of a Uniform Resource Locator. The specified URL must point to a server\nthat uses HTTP or HTTPS. This does not require any\nadditional headers for getting a response from the server.</p>\n<p><code>INSERT</code> and <code>SELECT</code> queries are transformed to <code>POST</code> and <code>GET</code> requests,\nrespectively. For processing <code>POST</code> requests, the remote server must support\n<a href=\"https://en.wikipedia.org/wiki/Chunked_transfer_encoding\" rel=\"external nofollow\">Chunked transfer encoding</a>.</p>\n<p><strong>Example:</strong></p>\n<p><strong>1.</strong> Create a <code>url_engine_table</code> table on the server :</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">url_engine_table</span> <span class=\"p\">(</span><span class=\"n\">word</span> <span class=\"n\">String</span><span class=\"p\">,</span> <span class=\"n\">value</span> <span class=\"n\">UInt64</span><span class=\"p\">)</span>\n<span class=\"n\">ENGINE</span><span class=\"o\">=</span><span class=\"n\">URL</span><span class=\"p\">(</span><span class=\"s1\">&#39;http://127.0.0.1:12345/&#39;</span><span class=\"p\">,</span> <span class=\"n\">CSV</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p><strong>2.</strong> Create a basic HTTP server using the standard Python 3 tools and\nstart it:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kn\">from</span> <span class=\"nn\">http.server</span> <span class=\"kn\">import</span> <span class=\"n\">BaseHTTPRequestHandler</span><span class=\"p\">,</span> <span class=\"n\">HTTPServer</span>\n\n<span class=\"k\">class</span> <span class=\"nc\">CSVHTTPServer</span><span class=\"p\">(</span><span class=\"n\">BaseHTTPRequestHandler</span><span class=\"p\">):</span>\n    <span class=\"k\">def</span> <span class=\"nf\">do_GET</span><span class=\"p\">(</span><span class=\"bp\">self</span><span class=\"p\">):</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">send_response</span><span class=\"p\">(</span><span class=\"mi\">200</span><span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">send_header</span><span class=\"p\">(</span><span class=\"s1\">&#39;Content-type&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;text/csv&#39;</span><span class=\"p\">)</span>\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">end_headers</span><span class=\"p\">()</span>\n\n        <span class=\"bp\">self</span><span class=\"o\">.</span><span class=\"n\">wfile</span><span class=\"o\">.</span><span class=\"n\">write</span><span class=\"p\">(</span><span class=\"nb\">bytes</span><span class=\"p\">(</span><span class=\"s1\">&#39;Hello,1</span><span class=\"se\">\\n</span><span class=\"s1\">World,2</span><span class=\"se\">\\n</span><span class=\"s1\">&#39;</span><span class=\"p\">,</span> <span class=\"s2\">&quot;utf-8&quot;</span><span class=\"p\">))</span>\n\n<span class=\"k\">if</span> <span class=\"vm\">__name__</span> <span class=\"o\">==</span> <span class=\"s2\">&quot;__main__&quot;</span><span class=\"p\">:</span>\n    <span class=\"n\">server_address</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"s1\">&#39;127.0.0.1&#39;</span><span class=\"p\">,</span> <span class=\"mi\">12345</span><span class=\"p\">)</span>\n    <span class=\"n\">HTTPServer</span><span class=\"p\">(</span><span class=\"n\">server_address</span><span class=\"p\">,</span> <span class=\"n\">CSVHTTPServer</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">serve_forever</span><span class=\"p\">()</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span>python3 server.py\n</pre></div>\n\n\n<p><strong>3.</strong> Request data:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"o\">*</span> <span class=\"k\">FROM</span> <span class=\"n\">url_engine_table</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500word\u2500\u2500\u252c\u2500value\u2500\u2510</span>\n<span class=\"err\">\u2502 Hello \u2502     1 \u2502</span>\n<span class=\"err\">\u2502 World \u2502     2 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"details-of-implementation_1\">Details of Implementation<a class=\"headerlink\" href=\"#details-of-implementation_1\" title=\"Permanent link\">&para;</a></h3>\n<ul>\n<li>Reads and writes can be parallel</li>\n<li>Not supported:<ul>\n<li><code>ALTER</code> and <code>SELECT...SAMPLE</code> operations.</li>\n<li>Indexes.</li>\n<li>Replication.</li>\n</ul>\n</li>\n</ul>\n<p><a name=\"table_engines/view/\"></a>\n<a name=\"../table_engines/view/\"></a>\n<a name=\"../../../../../operations/table_engines/view/\"></a>\n<a name=\"operations/table_engines/view/\"></a>\n<a name=\"../../../../table_engines/view/\"></a>\n<a name=\"../../../table_engines/view/\"></a>\n<a name=\"../../table_engines/view/\"></a>\n<a name=\"../../../../operations/table_engines/view/\"></a>\n<a name=\"../../../../../table_engines/view/\"></a>\n<a name=\"../../../operations/table_engines/view/\"></a>\n<a name=\"../../../../../../table_engines/view/\"></a>\n<a name=\"../../operations/table_engines/view/\"></a>\n<a name=\"view/\"></a>\n<a name=\"../operations/table_engines/view/\"></a></p>\n<h2 id=\"table_engines-view\">View<a class=\"headerlink\" href=\"#table_engines-view\" title=\"Permanent link\">&para;</a></h2>\n<p>Used for implementing views (for more information, see the <code>CREATE VIEW query</code>). It does not store data, but only stores the specified <code>SELECT</code> query. When reading from a table, it runs this query (and deletes all unnecessary columns from the query).</p>\n<p><a name=\"../operations/table_engines/materializedview/\"></a>\n<a name=\"materializedview/\"></a>\n<a name=\"../../operations/table_engines/materializedview/\"></a>\n<a name=\"../../../operations/table_engines/materializedview/\"></a>\n<a name=\"../../../../table_engines/materializedview/\"></a>\n<a name=\"../../../../../operations/table_engines/materializedview/\"></a>\n<a name=\"../../../../../../table_engines/materializedview/\"></a>\n<a name=\"../../../../operations/table_engines/materializedview/\"></a>\n<a name=\"../../../table_engines/materializedview/\"></a>\n<a name=\"../../../../../table_engines/materializedview/\"></a>\n<a name=\"../table_engines/materializedview/\"></a>\n<a name=\"operations/table_engines/materializedview/\"></a>\n<a name=\"../../table_engines/materializedview/\"></a>\n<a name=\"table_engines/materializedview/\"></a></p>\n<h2 id=\"materializedview\">MaterializedView<a class=\"headerlink\" href=\"#materializedview\" title=\"Permanent link\">&para;</a></h2>\n<p>Used for implementing materialized views (for more information, see <a href=\"#../../query_language/create/\">CREATE TABLE</a>). For storing data, it uses a different engine that was specified when creating the view. When reading from a table, it just uses this engine.</p>\n<p><a name=\"../../../../table_engines/memory/\"></a>\n<a name=\"../../../../../operations/table_engines/memory/\"></a>\n<a name=\"../../../../../table_engines/memory/\"></a>\n<a name=\"../operations/table_engines/memory/\"></a>\n<a name=\"../../table_engines/memory/\"></a>\n<a name=\"table_engines/memory/\"></a>\n<a name=\"../../../../operations/table_engines/memory/\"></a>\n<a name=\"../../../operations/table_engines/memory/\"></a>\n<a name=\"../../../table_engines/memory/\"></a>\n<a name=\"../../../../../../table_engines/memory/\"></a>\n<a name=\"../../operations/table_engines/memory/\"></a>\n<a name=\"memory/\"></a>\n<a name=\"../table_engines/memory/\"></a>\n<a name=\"operations/table_engines/memory/\"></a></p>\n<h2 id=\"memory\">Memory<a class=\"headerlink\" href=\"#memory\" title=\"Permanent link\">&para;</a></h2>\n<p>The Memory engine stores data in RAM, in uncompressed form. Data is stored in exactly the same form as it is received when read. In other words, reading from this table is completely free.\nConcurrent data access is synchronized. Locks are short: read and write operations don't block each other.\nIndexes are not supported. Reading is parallelized.\nMaximal productivity (over 10 GB/sec) is reached on simple queries, because there is no reading from the disk, decompressing, or deserializing data. (We should note that in many cases, the productivity of the MergeTree engine is almost as high.)\nWhen restarting a server, data disappears from the table and the table becomes empty.\nNormally, using this table engine is not justified. However, it can be used for tests, and for tasks where maximum speed is required on a relatively small number of rows (up to approximately 100,000,000).</p>\n<p>The Memory engine is used by the system for temporary tables with external query data (see the section \"External data for processing a query\"), and for implementing GLOBAL IN (see the section \"IN operators\").</p>\n<p><a name=\"../../table_engines/buffer/\"></a>\n<a name=\"buffer/\"></a>\n<a name=\"../../operations/table_engines/buffer/\"></a>\n<a name=\"../../../../table_engines/buffer/\"></a>\n<a name=\"../../../../../../table_engines/buffer/\"></a>\n<a name=\"../../../table_engines/buffer/\"></a>\n<a name=\"../../../../../table_engines/buffer/\"></a>\n<a name=\"operations/table_engines/buffer/\"></a>\n<a name=\"../../../operations/table_engines/buffer/\"></a>\n<a name=\"../table_engines/buffer/\"></a>\n<a name=\"../../../../../operations/table_engines/buffer/\"></a>\n<a name=\"../../../../operations/table_engines/buffer/\"></a>\n<a name=\"table_engines/buffer/\"></a>\n<a name=\"../operations/table_engines/buffer/\"></a></p>\n<h2 id=\"buffer\">Buffer<a class=\"headerlink\" href=\"#buffer\" title=\"Permanent link\">&para;</a></h2>\n<p>Buffers the data to write in RAM, periodically flushing it to another table. During the read operation, data is read from the buffer and the other table simultaneously.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">Buffer(database, table, num_layers, min_time, max_time, min_rows, max_rows, min_bytes, max_bytes)</span>\n</pre></div>\n\n\n<p>Engine parameters:database, table \u2013 The table to flush data to. Instead of the database name, you can use a constant expression that returns a string. num_layers \u2013 Parallelism layer. Physically, the table will be represented as 'num_layers' of independent buffers. Recommended value: 16. min_time, max_time, min_rows, max_rows, min_bytes, and max_bytes are conditions for flushing data from the buffer.</p>\n<p>Data is flushed from the buffer and written to the destination table if all the 'min' conditions or at least one 'max' condition are met.min_time, max_time \u2013 Condition for the time in seconds from the moment of the first write to the buffer. min_rows, max_rows \u2013 Condition for the number of rows in the buffer. min_bytes, max_bytes \u2013 Condition for the number of bytes in the buffer.</p>\n<p>During the write operation, data is inserted to a 'num_layers' number of random buffers. Or, if the data part to insert is large enough (greater than 'max_rows' or 'max_bytes'), it is written directly to the destination table, omitting the buffer.</p>\n<p>The conditions for flushing the data are calculated separately for each of the 'num_layers' buffers. For example, if num_layers = 16 and max_bytes = 100000000, the maximum RAM consumption is 1.6 GB.</p>\n<p>Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">merge</span><span class=\"p\">.</span><span class=\"n\">hits_buffer</span> <span class=\"k\">AS</span> <span class=\"n\">merge</span><span class=\"p\">.</span><span class=\"n\">hits</span> <span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">Buffer</span><span class=\"p\">(</span><span class=\"n\">merge</span><span class=\"p\">,</span> <span class=\"n\">hits</span><span class=\"p\">,</span> <span class=\"mi\">16</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"mi\">100</span><span class=\"p\">,</span> <span class=\"mi\">10000</span><span class=\"p\">,</span> <span class=\"mi\">1000000</span><span class=\"p\">,</span> <span class=\"mi\">10000000</span><span class=\"p\">,</span> <span class=\"mi\">100000000</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>Creating a 'merge.hits_buffer' table with the same structure as 'merge.hits' and using the Buffer engine. When writing to this table, data is buffered in RAM and later written to the 'merge.hits' table. 16 buffers are created. The data in each of them is flushed if either 100 seconds have passed, or one million rows have been written, or 100 MB of data have been written; or if simultaneously 10 seconds have passed and 10,000 rows and 10 MB of data have been written. For example, if just one row has been written, after 100 seconds it will be flushed, no matter what. But if many rows have been written, the data will be flushed sooner.</p>\n<p>When the server is stopped, with DROP TABLE or DETACH TABLE, buffer data is also flushed to the destination table.</p>\n<p>You can set empty strings in single quotation marks for the database and table name. This indicates the absence of a destination table. In this case, when the data flush conditions are reached, the buffer is simply cleared. This may be useful for keeping a window of data in memory.</p>\n<p>When reading from a Buffer table, data is processed both from the buffer and from the destination table (if there is one).\nNote that the Buffer tables does not support an index. In other words, data in the buffer is fully scanned, which might be slow for large buffers. (For data in a subordinate table, the index that it supports will be used.)</p>\n<p>If the set of columns in the Buffer table doesn't match the set of columns in a subordinate table, a subset of columns that exist in both tables is inserted.</p>\n<p>If the types don't match for one of the columns in the Buffer table and a subordinate table, an error message is entered in the server log and the buffer is cleared.\nThe same thing happens if the subordinate table doesn't exist when the buffer is flushed.</p>\n<p>If you need to run ALTER for a subordinate table and the Buffer table, we recommend first deleting the Buffer table, running ALTER for the subordinate table, then creating the Buffer table again.</p>\n<p>If the server is restarted abnormally, the data in the buffer is lost.</p>\n<p>FINAL and SAMPLE do not work correctly for Buffer tables. These conditions are passed to the destination table, but are not used for processing data in the buffer. If these features are required we recommend only using the Buffer table for writing, while reading from the destination table.</p>\n<p>When adding data to a Buffer, one of the buffers is locked. This causes delays if a read operation is simultaneously being performed from the table.</p>\n<p>Data that is inserted to a Buffer table may end up in the subordinate table in a different order and in different blocks. Because of this, a Buffer table is difficult to use for writing to a CollapsingMergeTree correctly. To avoid problems, you can set 'num_layers' to 1.</p>\n<p>If the destination table is replicated, some expected characteristics of replicated tables are lost when writing to a Buffer table. The random changes to the order of rows and sizes of data parts cause data deduplication to quit working, which means it is not possible to have a reliable 'exactly once' write to replicated tables.</p>\n<p>Due to these disadvantages, we can only recommend using a Buffer table in rare cases.</p>\n<p>A Buffer table is used when too many INSERTs are received from a large number of servers over a unit of time and data can't be buffered before insertion, which means the INSERTs can't run fast enough.</p>\n<p>Note that it doesn't make sense to insert data one row at a time, even for Buffer tables. This will only produce a speed of a few thousand rows per second, while inserting larger blocks of data can produce over a million rows per second (see the section \"Performance\").</p>\n<p><a name=\"../../../../../query_language/\"></a>\n<a name=\"../query_language/\"></a>\n<a name=\"../../../../query_language/\"></a>\n<a name=\"../../../query_language/\"></a>\n<a name=\"../../query_language/\"></a>\n<a name=\"query_language/\"></a></p>\n<h2 id=\"sql-reference\">SQL Reference<a class=\"headerlink\" href=\"#sql-reference\" title=\"Permanent link\">&para;</a></h2>\n<ul>\n<li><a href=\"#select/\">SELECT</a></li>\n<li><a href=\"#insert_into/\">INSERT INTO</a></li>\n<li><a href=\"#create/\">CREATE</a></li>\n<li><a href=\"#query_language_queries_alter\">ALTER</a></li>\n<li><a href=\"#misc/\">Other types of queries</a></li>\n</ul>\n<p><a name=\"select/\"></a>\n<a name=\"../../../../../query_language/select/\"></a>\n<a name=\"../query_language/select/\"></a>\n<a name=\"../../query_language/select/\"></a>\n<a name=\"../../../../query_language/select/\"></a>\n<a name=\"../../../query_language/select/\"></a>\n<a name=\"query_language/select/\"></a></p>\n<h2 id=\"select-queries-syntax\">SELECT Queries Syntax<a class=\"headerlink\" href=\"#select-queries-syntax\" title=\"Permanent link\">&para;</a></h2>\n<p><code>SELECT</code> performs data retrieval.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"p\">[</span><span class=\"k\">DISTINCT</span><span class=\"p\">]</span> <span class=\"n\">expr_list</span>\n    <span class=\"p\">[</span><span class=\"k\">FROM</span> <span class=\"p\">[</span><span class=\"n\">db</span><span class=\"p\">.]</span><span class=\"k\">table</span> <span class=\"o\">|</span> <span class=\"p\">(</span><span class=\"n\">subquery</span><span class=\"p\">)</span> <span class=\"o\">|</span> <span class=\"n\">table_function</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"k\">FINAL</span><span class=\"p\">]</span>\n    <span class=\"p\">[</span><span class=\"n\">SAMPLE</span> <span class=\"n\">sample_coeff</span><span class=\"p\">]</span>\n    <span class=\"p\">[</span><span class=\"nb\">ARRAY</span> <span class=\"k\">JOIN</span> <span class=\"p\">...]</span>\n    <span class=\"p\">[</span><span class=\"k\">GLOBAL</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"k\">ANY</span><span class=\"o\">|</span><span class=\"k\">ALL</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"k\">INNER</span><span class=\"o\">|</span><span class=\"k\">LEFT</span><span class=\"o\">|</span><span class=\"k\">RIGHT</span><span class=\"o\">|</span><span class=\"k\">FULL</span><span class=\"o\">|</span><span class=\"k\">CROSS</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"k\">OUTER</span><span class=\"p\">]</span> <span class=\"k\">JOIN</span> <span class=\"p\">(</span><span class=\"n\">subquery</span><span class=\"p\">)</span><span class=\"o\">|</span><span class=\"k\">table</span> <span class=\"k\">USING</span> <span class=\"n\">columns_list</span>\n    <span class=\"p\">[</span><span class=\"n\">PREWHERE</span> <span class=\"n\">expr</span><span class=\"p\">]</span>\n    <span class=\"p\">[</span><span class=\"k\">WHERE</span> <span class=\"n\">expr</span><span class=\"p\">]</span>\n    <span class=\"p\">[</span><span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">expr_list</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"k\">WITH</span> <span class=\"n\">TOTALS</span><span class=\"p\">]</span>\n    <span class=\"p\">[</span><span class=\"k\">HAVING</span> <span class=\"n\">expr</span><span class=\"p\">]</span>\n    <span class=\"p\">[</span><span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"n\">expr_list</span><span class=\"p\">]</span>\n    <span class=\"p\">[</span><span class=\"k\">LIMIT</span> <span class=\"p\">[</span><span class=\"n\">n</span><span class=\"p\">,</span> <span class=\"p\">]</span><span class=\"n\">m</span><span class=\"p\">]</span>\n    <span class=\"p\">[</span><span class=\"k\">UNION</span> <span class=\"k\">ALL</span> <span class=\"p\">...]</span>\n    <span class=\"p\">[</span><span class=\"k\">INTO</span> <span class=\"n\">OUTFILE</span> <span class=\"n\">filename</span><span class=\"p\">]</span>\n    <span class=\"p\">[</span><span class=\"n\">FORMAT</span> <span class=\"n\">format</span><span class=\"p\">]</span>\n    <span class=\"p\">[</span><span class=\"k\">LIMIT</span> <span class=\"n\">n</span> <span class=\"k\">BY</span> <span class=\"n\">columns</span><span class=\"p\">]</span>\n</pre></div>\n\n\n<p>All the clauses are optional, except for the required list of expressions immediately after SELECT.\nThe clauses below are described in almost the same order as in the query execution conveyor.</p>\n<p>If the query omits the <code>DISTINCT</code>, <code>GROUP BY</code> and <code>ORDER BY</code> clauses and the <code>IN</code> and <code>JOIN</code> subqueries, the query will be completely stream processed, using O(1) amount of RAM.\nOtherwise, the query might consume a lot of RAM if the appropriate restrictions are not specified: <code>max_memory_usage</code>, <code>max_rows_to_group_by</code>, <code>max_rows_to_sort</code>, <code>max_rows_in_distinct</code>, <code>max_bytes_in_distinct</code>, <code>max_rows_in_set</code>, <code>max_bytes_in_set</code>, <code>max_rows_in_join</code>, <code>max_bytes_in_join</code>, <code>max_bytes_before_external_sort</code>, <code>max_bytes_before_external_group_by</code>. For more information, see the section \"Settings\". It is possible to use external sorting (saving temporary tables to a disk) and external aggregation. <code>The system does not have \"merge join\"</code>.</p>\n<h4 id=\"from-clause\">FROM Clause<a class=\"headerlink\" href=\"#from-clause\" title=\"Permanent link\">&para;</a></h4>\n<p>If the FROM clause is omitted, data will be read from the <code>system.one</code> table.\nThe 'system.one' table contains exactly one row (this table fulfills the same purpose as the DUAL table found in other DBMSs).</p>\n<p>The FROM clause specifies the table to read data from, or a subquery, or a table function; ARRAY JOIN and the regular JOIN may also be included (see below).</p>\n<p>Instead of a table, the SELECT subquery may be specified in brackets.\nIn this case, the subquery processing pipeline will be built into the processing pipeline of an external query.\nIn contrast to standard SQL, a synonym does not need to be specified after a subquery. For compatibility, it is possible to write 'AS name' after a subquery, but the specified name isn't used anywhere.</p>\n<p>A table function may be specified instead of a table. For more information, see the section \"Table functions\".</p>\n<p>To execute a query, all the columns listed in the query are extracted from the appropriate table. Any columns not needed for the external query are thrown out of the subqueries.\nIf a query does not list any columns (for example, SELECT count() FROM t), some column is extracted from the table anyway (the smallest one is preferred), in order to calculate the number of rows.</p>\n<p>The FINAL modifier can be used only for a SELECT from a CollapsingMergeTree table. When you specify FINAL, data is selected fully \"collapsed\". Keep in mind that using FINAL leads to a selection that includes columns related to the primary key, in addition to the columns specified in the SELECT. Additionally, the query will be executed in a single stream, and data will be merged during query execution. This means that when using FINAL, the query is processed more slowly. In most cases, you should avoid using FINAL. For more information, see the section \"CollapsingMergeTree engine\".</p>\n<h4 id=\"select-sample-clause\">SAMPLE Clause<a class=\"headerlink\" href=\"#select-sample-clause\" title=\"Permanent link\">&para;</a></h4>\n<p>The <code>SAMPLE</code> clause allows for approximated query processing. </p>\n<p>When data sampling is enabled, the query is not performed on all the data, but only on a certain fraction of data (sample). For example, if you need to calculate statistics for all the visits, it is enough to execute the query on the 1/10 fraction of all the visits and then multiply the result by 10.</p>\n<p>Approximated query processing can be useful in the following cases:</p>\n<ul>\n<li>When you have strict timing requirements (like &lt;100ms) but you can't justify the cost of additional hardware resources to meet them.</li>\n<li>When your raw data is not accurate, so approximation doesn't noticeably degrade the quality.</li>\n<li>Business requirements target approximate results (for cost-effectiveness, or in order to market exact results to premium users).</li>\n</ul>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>You can only use sampling with the tables in the <a href=\"#../operations/table_engines/mergetree/\">MergeTree</a> family, and only if the sampling expression was specified during table creation (see <a href=\"#table_engine-mergetree-creating-a-table\">MergeTree engine</a>).</p>\n</div>\n<p>The features of data sampling are listed below:</p>\n<ul>\n<li>Data sampling is a deterministic mechanism. The result of the same <code>SELECT .. SAMPLE</code> query is always the same.</li>\n<li>Sampling works consistently for different tables. For tables with a single sampling key, a sample with the same coefficient always selects the same subset of possible data. For example, a sample of user IDs takes rows with the same subset of all the possible user IDs from different tables. This means that you can use the sample in subqueries in the <a href=\"#select-in-operators\">IN</a> clause. Also, you can join samples using the <a href=\"#select-join\">JOIN</a> clause.</li>\n<li>Sampling allows reading less data from a disk. Note that you must specify the sampling key correctly. For more information, see <a href=\"#table_engine-mergetree-creating-a-table\">Creating a MergeTree Table</a>.</li>\n</ul>\n<p>For the <code>SAMPLE</code> clause the following syntax is supported:</p>\n<table>\n<thead>\n<tr>\n<th>SAMPLE&#160;Clause&#160;Syntax</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>SAMPLE k</code></td>\n<td>Here <code>k</code> is the number from 0 to 1.</br>The query is executed on <code>k</code> fraction of data. For example, <code>SAMPLE 0.1</code> runs the query on 10% of data. <a href=\"#select-sample-k\">Read more</a></td>\n</tr>\n<tr>\n<td><code>SAMPLE n</code></td>\n<td>Here <code>n</code> is a sufficiently large integer.</br>The query is executed on a sample of at least <code>n</code> rows (but not significantly more than this). For example, <code>SAMPLE 10000000</code> runs the query on a minimum of 10,000,000 rows. <a href=\"#select-sample-n\">Read more</a></td>\n</tr>\n<tr>\n<td><code>SAMPLE k OFFSET m</code></td>\n<td>Here <code>k</code> and <code>m</code> are the numbers from 0 to 1.</br>The query is executed on a sample of <code>k</code> fraction of the data. The data used for the sample is offset by <code>m</code> fraction. <a href=\"#select-sample-offset\">Read more</a></td>\n</tr>\n</tbody>\n</table>\n<h5 id=\"select-sample-k\">SAMPLE k<a class=\"headerlink\" href=\"#select-sample-k\" title=\"Permanent link\">&para;</a></h5>\n<p>Here <code>k</code> is the number from 0 to 1 (both fractional and decimal notations are supported). For example, <code>SAMPLE 1/2</code> or <code>SAMPLE 0.5</code>.</p>\n<p>In a <code>SAMPLE k</code> clause, the sample is taken from the <code>k</code> fraction of data. The example is shown below:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span>\n    <span class=\"n\">Title</span><span class=\"p\">,</span>\n    <span class=\"k\">count</span><span class=\"p\">()</span> <span class=\"o\">*</span> <span class=\"mi\">10</span> <span class=\"k\">AS</span> <span class=\"n\">PageViews</span>\n<span class=\"k\">FROM</span> <span class=\"n\">hits_distributed</span>\n<span class=\"n\">SAMPLE</span> <span class=\"mi\">0</span><span class=\"p\">.</span><span class=\"mi\">1</span>\n<span class=\"k\">WHERE</span>\n    <span class=\"n\">CounterID</span> <span class=\"o\">=</span> <span class=\"mi\">34</span>\n<span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">Title</span>\n<span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"n\">PageViews</span> <span class=\"k\">DESC</span> <span class=\"k\">LIMIT</span> <span class=\"mi\">1000</span>\n</pre></div>\n\n\n<p>In this example, the query is executed on a sample from 0.1 (10%) of data. Values of aggregate functions are not corrected automatically, so to get an approximate result, the value <code>count()</code> is manually multiplied by 10.</p>\n<h5 id=\"select-sample-n\">SAMPLE n<a class=\"headerlink\" href=\"#select-sample-n\" title=\"Permanent link\">&para;</a></h5>\n<p>Here <code>n</code> is a sufficiently large integer. For example, <code>SAMPLE 10000000</code>.</p>\n<p>In this case, the query is executed on a sample of at least <code>n</code> rows (but not significantly more than this). For example, <code>SAMPLE 10000000</code> runs the query on a minimum of 10,000,000 rows.</p>\n<p>Since the minimum unit for data reading is one granule (its size is set by the <code>index_granularity</code> setting), it makes sense to set a sample that is much larger than the size of the granule.</p>\n<p>When using the <code>SAMPLE n</code> clause, you don't know which relative percent of data was processed. So you don't know the coefficient the aggregate functions should be multiplied by. Use the <code>_sample_factor</code> virtual column to get the approximate result.</p>\n<p>The <code>_sample_factor</code> column contains relative coefficients that are calculated dynamically. This column is created automatically when you <a href=\"#table_engine-mergetree-creating-a-table\">create</a> a table with the specified sampling key. The usage examples of the <code>_sample_factor</code> column are shown below.</p>\n<p>Let's consider the table <code>visits</code>, which contains the statistics about site visits. The first example shows how to calculate the number of page views:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"k\">sum</span><span class=\"p\">(</span><span class=\"n\">PageViews</span> <span class=\"o\">*</span> <span class=\"n\">_sample_factor</span><span class=\"p\">)</span>\n<span class=\"k\">FROM</span> <span class=\"n\">visits</span>\n<span class=\"n\">SAMPLE</span> <span class=\"mi\">10000000</span>\n</pre></div>\n\n\n<p>The next example shows how to calculate the total number of visits:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"k\">sum</span><span class=\"p\">(</span><span class=\"n\">_sample_factor</span><span class=\"p\">)</span>\n<span class=\"k\">FROM</span> <span class=\"n\">visits</span>\n<span class=\"n\">SAMPLE</span> <span class=\"mi\">10000000</span>\n</pre></div>\n\n\n<p>The example below shows how to calculate the average session duration. Note that you don't need to use the relative coefficient to calculate the average values.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"k\">avg</span><span class=\"p\">(</span><span class=\"n\">Duration</span><span class=\"p\">)</span>\n<span class=\"k\">FROM</span> <span class=\"n\">visits</span>\n<span class=\"n\">SAMPLE</span> <span class=\"mi\">10000000</span>\n</pre></div>\n\n\n<h5 id=\"select-sample-offset\">SAMPLE k OFFSET m<a class=\"headerlink\" href=\"#select-sample-offset\" title=\"Permanent link\">&para;</a></h5>\n<p>Here <code>k</code> and <code>m</code> are numbers from 0 to 1. Examples are shown below.</p>\n<p><strong>Example 1</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">SAMPLE</span> <span class=\"mi\">1</span><span class=\"o\">/</span><span class=\"mi\">10</span>\n</pre></div>\n\n\n<p>In this example, the sample is 1/10th of all data:</p>\n<p><code>[++------------------]</code></p>\n<p><strong>Example 2</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">SAMPLE</span> <span class=\"mi\">1</span><span class=\"o\">/</span><span class=\"mi\">10</span> <span class=\"k\">OFFSET</span> <span class=\"mi\">1</span><span class=\"o\">/</span><span class=\"mi\">2</span>\n</pre></div>\n\n\n<p>Here, a sample of 10% is taken from the second half of the data.</p>\n<p><code>[----------++--------]</code></p>\n<h4 id=\"select-array-join-clause\">ARRAY JOIN Clause<a class=\"headerlink\" href=\"#select-array-join-clause\" title=\"Permanent link\">&para;</a></h4>\n<p>Allows executing <code>JOIN</code> with an array or nested data structure. The intent is similar to the <a href=\"#functions_arrayjoin\">arrayJoin</a> function, but its functionality is broader.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"o\">&lt;</span><span class=\"n\">expr_list</span><span class=\"o\">&gt;</span>\n<span class=\"k\">FROM</span> <span class=\"o\">&lt;</span><span class=\"n\">left_subquery</span><span class=\"o\">&gt;</span>\n<span class=\"p\">[</span><span class=\"k\">LEFT</span><span class=\"p\">]</span> <span class=\"nb\">ARRAY</span> <span class=\"k\">JOIN</span> <span class=\"o\">&lt;</span><span class=\"nb\">array</span><span class=\"o\">&gt;</span>\n<span class=\"p\">[</span><span class=\"k\">WHERE</span><span class=\"o\">|</span><span class=\"n\">PREWHERE</span> <span class=\"o\">&lt;</span><span class=\"n\">expr</span><span class=\"o\">&gt;</span><span class=\"p\">]</span>\n<span class=\"p\">...</span>\n</pre></div>\n\n\n<p>You can specify only a single <code>ARRAY JOIN</code> clause in a query.</p>\n<p>The query execution order is optimized when running <code>ARRAY JOIN</code>. Although <code>ARRAY JOIN</code> must always be specified before the <code>WHERE/PREWHERE</code> clause, it can be performed either before <code>WHERE/PREWHERE</code> (if the result is needed in this clause), or after completing it (to reduce the volume of calculations). The processing order is controlled by the query optimizer.</p>\n<p>Supported types of <code>ARRAY JOIN</code> are listed below:</p>\n<ul>\n<li><code>ARRAY JOIN</code> - In this case, empty arrays are not included in the result of <code>JOIN</code>.</li>\n<li><code>LEFT ARRAY JOIN</code> - The result of <code>JOIN</code> contains rows with empty arrays. The value for an empty array is set to the default value for the array element type (usually 0, empty string or NULL).</li>\n</ul>\n<p>The examples below demonstrate the usage of the <code>ARRAY JOIN</code> and <code>LEFT ARRAY JOIN</code> clauses. Let's create a table with an <a href=\"#../data_types/array/\">Array</a> type column and insert values into it:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">arrays_test</span>\n<span class=\"p\">(</span>\n    <span class=\"n\">s</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n    <span class=\"n\">arr</span> <span class=\"nb\">Array</span><span class=\"p\">(</span><span class=\"n\">UInt8</span><span class=\"p\">)</span>\n<span class=\"p\">)</span> <span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">Memory</span><span class=\"p\">;</span>\n\n<span class=\"k\">INSERT</span> <span class=\"k\">INTO</span> <span class=\"n\">arrays_test</span>\n<span class=\"k\">VALUES</span> <span class=\"p\">(</span><span class=\"s1\">&#39;Hello&#39;</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">]),</span> <span class=\"p\">(</span><span class=\"s1\">&#39;World&#39;</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">4</span><span class=\"p\">,</span><span class=\"mi\">5</span><span class=\"p\">]),</span> <span class=\"p\">(</span><span class=\"s1\">&#39;Goodbye&#39;</span><span class=\"p\">,</span> <span class=\"p\">[]);</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500s\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500arr\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502 Hello       \u2502 [1,2]   \u2502</span>\n<span class=\"err\">\u2502 World       \u2502 [3,4,5] \u2502</span>\n<span class=\"err\">\u2502 Goodbye     \u2502 []      \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>The example below uses the <code>ARRAY JOIN</code> clause:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">s</span><span class=\"p\">,</span> <span class=\"n\">arr</span>\n<span class=\"k\">FROM</span> <span class=\"n\">arrays_test</span>\n<span class=\"nb\">ARRAY</span> <span class=\"k\">JOIN</span> <span class=\"n\">arr</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500s\u2500\u2500\u2500\u2500\u2500\u252c\u2500arr\u2500\u2510</span>\n<span class=\"err\">\u2502 Hello \u2502   1 \u2502</span>\n<span class=\"err\">\u2502 Hello \u2502   2 \u2502</span>\n<span class=\"err\">\u2502 World \u2502   3 \u2502</span>\n<span class=\"err\">\u2502 World \u2502   4 \u2502</span>\n<span class=\"err\">\u2502 World \u2502   5 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>The next example uses the <code>LEFT ARRAY JOIN</code> clause:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">s</span><span class=\"p\">,</span> <span class=\"n\">arr</span>\n<span class=\"k\">FROM</span> <span class=\"n\">arrays_test</span> \n<span class=\"k\">LEFT</span> <span class=\"nb\">ARRAY</span> <span class=\"k\">JOIN</span> <span class=\"n\">arr</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500s\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500arr\u2500\u2510</span>\n<span class=\"err\">\u2502 Hello       \u2502   1 \u2502</span>\n<span class=\"err\">\u2502 Hello       \u2502   2 \u2502</span>\n<span class=\"err\">\u2502 World       \u2502   3 \u2502</span>\n<span class=\"err\">\u2502 World       \u2502   4 \u2502</span>\n<span class=\"err\">\u2502 World       \u2502   5 \u2502</span>\n<span class=\"err\">\u2502 Goodbye     \u2502   0 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h5 id=\"using-aliases\">Using Aliases<a class=\"headerlink\" href=\"#using-aliases\" title=\"Permanent link\">&para;</a></h5>\n<p>An alias can be specified for an array in the <code>ARRAY JOIN</code> clause. In this case, an array item can be accessed by this alias, but the array itself is accessed by the original name. Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">s</span><span class=\"p\">,</span> <span class=\"n\">arr</span><span class=\"p\">,</span> <span class=\"n\">a</span>\n<span class=\"k\">FROM</span> <span class=\"n\">arrays_test</span>\n<span class=\"nb\">ARRAY</span> <span class=\"k\">JOIN</span> <span class=\"n\">arr</span> <span class=\"k\">AS</span> <span class=\"n\">a</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500s\u2500\u2500\u2500\u2500\u2500\u252c\u2500arr\u2500\u2500\u2500\u2500\u2500\u252c\u2500a\u2500\u2510</span>\n<span class=\"err\">\u2502 Hello \u2502 [1,2]   \u2502 1 \u2502</span>\n<span class=\"err\">\u2502 Hello \u2502 [1,2]   \u2502 2 \u2502</span>\n<span class=\"err\">\u2502 World \u2502 [3,4,5] \u2502 3 \u2502</span>\n<span class=\"err\">\u2502 World \u2502 [3,4,5] \u2502 4 \u2502</span>\n<span class=\"err\">\u2502 World \u2502 [3,4,5] \u2502 5 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>Using aliases, you can perform <code>ARRAY JOIN</code> with an external array. For example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">s</span><span class=\"p\">,</span> <span class=\"n\">arr_external</span>\n<span class=\"k\">FROM</span> <span class=\"n\">arrays_test</span> \n<span class=\"nb\">ARRAY</span> <span class=\"k\">JOIN</span> <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">]</span> <span class=\"k\">AS</span> <span class=\"n\">arr_external</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500s\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500arr_external\u2500\u2510</span>\n<span class=\"err\">\u2502 Hello       \u2502            1 \u2502</span>\n<span class=\"err\">\u2502 Hello       \u2502            2 \u2502</span>\n<span class=\"err\">\u2502 Hello       \u2502            3 \u2502</span>\n<span class=\"err\">\u2502 World       \u2502            1 \u2502</span>\n<span class=\"err\">\u2502 World       \u2502            2 \u2502</span>\n<span class=\"err\">\u2502 World       \u2502            3 \u2502</span>\n<span class=\"err\">\u2502 Goodbye     \u2502            1 \u2502</span>\n<span class=\"err\">\u2502 Goodbye     \u2502            2 \u2502</span>\n<span class=\"err\">\u2502 Goodbye     \u2502            3 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>Multiple arrays can be comma-separated in the <code>ARRAY JOIN</code> clause. In this case, <code>JOIN</code> is performed with them simultaneously (the direct sum, not the cartesian product). Note that all the arrays must have the same size. Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">s</span><span class=\"p\">,</span> <span class=\"n\">arr</span><span class=\"p\">,</span> <span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">num</span><span class=\"p\">,</span> <span class=\"n\">mapped</span>\n<span class=\"k\">FROM</span> <span class=\"n\">arrays_test</span>\n<span class=\"nb\">ARRAY</span> <span class=\"k\">JOIN</span> <span class=\"n\">arr</span> <span class=\"k\">AS</span> <span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">arrayEnumerate</span><span class=\"p\">(</span><span class=\"n\">arr</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">num</span><span class=\"p\">,</span> <span class=\"n\">arrayMap</span><span class=\"p\">(</span><span class=\"n\">x</span> <span class=\"o\">-&gt;</span> <span class=\"n\">x</span> <span class=\"o\">+</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"n\">arr</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">mapped</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500s\u2500\u2500\u2500\u2500\u2500\u252c\u2500arr\u2500\u2500\u2500\u2500\u2500\u252c\u2500a\u2500\u252c\u2500num\u2500\u252c\u2500mapped\u2500\u2510</span>\n<span class=\"err\">\u2502 Hello \u2502 [1,2]   \u2502 1 \u2502   1 \u2502      2 \u2502</span>\n<span class=\"err\">\u2502 Hello \u2502 [1,2]   \u2502 2 \u2502   2 \u2502      3 \u2502</span>\n<span class=\"err\">\u2502 World \u2502 [3,4,5] \u2502 3 \u2502   1 \u2502      4 \u2502</span>\n<span class=\"err\">\u2502 World \u2502 [3,4,5] \u2502 4 \u2502   2 \u2502      5 \u2502</span>\n<span class=\"err\">\u2502 World \u2502 [3,4,5] \u2502 5 \u2502   3 \u2502      6 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>The example below uses the <a href=\"#array_functions-arrayenumerate\">arrayEnumerate</a> function:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">s</span><span class=\"p\">,</span> <span class=\"n\">arr</span><span class=\"p\">,</span> <span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">num</span><span class=\"p\">,</span> <span class=\"n\">arrayEnumerate</span><span class=\"p\">(</span><span class=\"n\">arr</span><span class=\"p\">)</span>\n<span class=\"k\">FROM</span> <span class=\"n\">arrays_test</span>\n<span class=\"nb\">ARRAY</span> <span class=\"k\">JOIN</span> <span class=\"n\">arr</span> <span class=\"k\">AS</span> <span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">arrayEnumerate</span><span class=\"p\">(</span><span class=\"n\">arr</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">num</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500s\u2500\u2500\u2500\u2500\u2500\u252c\u2500arr\u2500\u2500\u2500\u2500\u2500\u252c\u2500a\u2500\u252c\u2500num\u2500\u252c\u2500arrayEnumerate(arr)\u2500\u2510</span>\n<span class=\"err\">\u2502 Hello \u2502 [1,2]   \u2502 1 \u2502   1 \u2502 [1,2]               \u2502</span>\n<span class=\"err\">\u2502 Hello \u2502 [1,2]   \u2502 2 \u2502   2 \u2502 [1,2]               \u2502</span>\n<span class=\"err\">\u2502 World \u2502 [3,4,5] \u2502 3 \u2502   1 \u2502 [1,2,3]             \u2502</span>\n<span class=\"err\">\u2502 World \u2502 [3,4,5] \u2502 4 \u2502   2 \u2502 [1,2,3]             \u2502</span>\n<span class=\"err\">\u2502 World \u2502 [3,4,5] \u2502 5 \u2502   3 \u2502 [1,2,3]             \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h5 id=\"array-join-with-nested-data-structure\">ARRAY JOIN With Nested Data Structure<a class=\"headerlink\" href=\"#array-join-with-nested-data-structure\" title=\"Permanent link\">&para;</a></h5>\n<p><code>ARRAY</code>JOIN`` also works with <a href=\"#../data_types/nested_data_structures/nested/\">nested data structures</a>. Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">nested_test</span>\n<span class=\"p\">(</span>\n    <span class=\"n\">s</span> <span class=\"n\">String</span><span class=\"p\">,</span>\n    <span class=\"n\">nest</span> <span class=\"n\">Nested</span><span class=\"p\">(</span>\n    <span class=\"n\">x</span> <span class=\"n\">UInt8</span><span class=\"p\">,</span>\n    <span class=\"n\">y</span> <span class=\"n\">UInt32</span><span class=\"p\">)</span>\n<span class=\"p\">)</span> <span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">Memory</span><span class=\"p\">;</span>\n\n<span class=\"k\">INSERT</span> <span class=\"k\">INTO</span> <span class=\"n\">nested_test</span>\n<span class=\"k\">VALUES</span> <span class=\"p\">(</span><span class=\"s1\">&#39;Hello&#39;</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">10</span><span class=\"p\">,</span><span class=\"mi\">20</span><span class=\"p\">]),</span> <span class=\"p\">(</span><span class=\"s1\">&#39;World&#39;</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">4</span><span class=\"p\">,</span><span class=\"mi\">5</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">30</span><span class=\"p\">,</span><span class=\"mi\">40</span><span class=\"p\">,</span><span class=\"mi\">50</span><span class=\"p\">]),</span> <span class=\"p\">(</span><span class=\"s1\">&#39;Goodbye&#39;</span><span class=\"p\">,</span> <span class=\"p\">[],</span> <span class=\"p\">[]);</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500s\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500nest.x\u2500\u2500\u252c\u2500nest.y\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502 Hello   \u2502 [1,2]   \u2502 [10,20]    \u2502</span>\n<span class=\"err\">\u2502 World   \u2502 [3,4,5] \u2502 [30,40,50] \u2502</span>\n<span class=\"err\">\u2502 Goodbye \u2502 []      \u2502 []         \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">s</span><span class=\"p\">,</span> <span class=\"o\">`</span><span class=\"n\">nest</span><span class=\"p\">.</span><span class=\"n\">x</span><span class=\"o\">`</span><span class=\"p\">,</span> <span class=\"o\">`</span><span class=\"n\">nest</span><span class=\"p\">.</span><span class=\"n\">y</span><span class=\"o\">`</span>\n<span class=\"k\">FROM</span> <span class=\"n\">nested_test</span>\n<span class=\"nb\">ARRAY</span> <span class=\"k\">JOIN</span> <span class=\"n\">nest</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500s\u2500\u2500\u2500\u2500\u2500\u252c\u2500nest.x\u2500\u252c\u2500nest.y\u2500\u2510</span>\n<span class=\"err\">\u2502 Hello \u2502      1 \u2502     10 \u2502</span>\n<span class=\"err\">\u2502 Hello \u2502      2 \u2502     20 \u2502</span>\n<span class=\"err\">\u2502 World \u2502      3 \u2502     30 \u2502</span>\n<span class=\"err\">\u2502 World \u2502      4 \u2502     40 \u2502</span>\n<span class=\"err\">\u2502 World \u2502      5 \u2502     50 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>When specifying names of nested data structures in <code>ARRAY JOIN</code>, the meaning is the same as <code>ARRAY JOIN</code> with all the array elements that it consists of. Examples are listed below:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">s</span><span class=\"p\">,</span> <span class=\"o\">`</span><span class=\"n\">nest</span><span class=\"p\">.</span><span class=\"n\">x</span><span class=\"o\">`</span><span class=\"p\">,</span> <span class=\"o\">`</span><span class=\"n\">nest</span><span class=\"p\">.</span><span class=\"n\">y</span><span class=\"o\">`</span>\n<span class=\"k\">FROM</span> <span class=\"n\">nested_test</span>\n<span class=\"nb\">ARRAY</span> <span class=\"k\">JOIN</span> <span class=\"o\">`</span><span class=\"n\">nest</span><span class=\"p\">.</span><span class=\"n\">x</span><span class=\"o\">`</span><span class=\"p\">,</span> <span class=\"o\">`</span><span class=\"n\">nest</span><span class=\"p\">.</span><span class=\"n\">y</span><span class=\"o\">`</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500s\u2500\u2500\u2500\u2500\u2500\u252c\u2500nest.x\u2500\u252c\u2500nest.y\u2500\u2510</span>\n<span class=\"err\">\u2502 Hello \u2502      1 \u2502     10 \u2502</span>\n<span class=\"err\">\u2502 Hello \u2502      2 \u2502     20 \u2502</span>\n<span class=\"err\">\u2502 World \u2502      3 \u2502     30 \u2502</span>\n<span class=\"err\">\u2502 World \u2502      4 \u2502     40 \u2502</span>\n<span class=\"err\">\u2502 World \u2502      5 \u2502     50 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>This variation also makes sense:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">s</span><span class=\"p\">,</span> <span class=\"o\">`</span><span class=\"n\">nest</span><span class=\"p\">.</span><span class=\"n\">x</span><span class=\"o\">`</span><span class=\"p\">,</span> <span class=\"o\">`</span><span class=\"n\">nest</span><span class=\"p\">.</span><span class=\"n\">y</span><span class=\"o\">`</span>\n<span class=\"k\">FROM</span> <span class=\"n\">nested_test</span>\n<span class=\"nb\">ARRAY</span> <span class=\"k\">JOIN</span> <span class=\"o\">`</span><span class=\"n\">nest</span><span class=\"p\">.</span><span class=\"n\">x</span><span class=\"o\">`</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500s\u2500\u2500\u2500\u2500\u2500\u252c\u2500nest.x\u2500\u252c\u2500nest.y\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502 Hello \u2502      1 \u2502 [10,20]    \u2502</span>\n<span class=\"err\">\u2502 Hello \u2502      2 \u2502 [10,20]    \u2502</span>\n<span class=\"err\">\u2502 World \u2502      3 \u2502 [30,40,50] \u2502</span>\n<span class=\"err\">\u2502 World \u2502      4 \u2502 [30,40,50] \u2502</span>\n<span class=\"err\">\u2502 World \u2502      5 \u2502 [30,40,50] \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>An alias may be used for a nested data structure, in order to select either the <code>JOIN</code> result or the source array. Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">s</span><span class=\"p\">,</span> <span class=\"o\">`</span><span class=\"n\">n</span><span class=\"p\">.</span><span class=\"n\">x</span><span class=\"o\">`</span><span class=\"p\">,</span> <span class=\"o\">`</span><span class=\"n\">n</span><span class=\"p\">.</span><span class=\"n\">y</span><span class=\"o\">`</span><span class=\"p\">,</span> <span class=\"o\">`</span><span class=\"n\">nest</span><span class=\"p\">.</span><span class=\"n\">x</span><span class=\"o\">`</span><span class=\"p\">,</span> <span class=\"o\">`</span><span class=\"n\">nest</span><span class=\"p\">.</span><span class=\"n\">y</span><span class=\"o\">`</span>\n<span class=\"k\">FROM</span> <span class=\"n\">nested_test</span>\n<span class=\"nb\">ARRAY</span> <span class=\"k\">JOIN</span> <span class=\"n\">nest</span> <span class=\"k\">AS</span> <span class=\"n\">n</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500s\u2500\u2500\u2500\u2500\u2500\u252c\u2500n.x\u2500\u252c\u2500n.y\u2500\u252c\u2500nest.x\u2500\u2500\u252c\u2500nest.y\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502 Hello \u2502   1 \u2502  10 \u2502 [1,2]   \u2502 [10,20]    \u2502</span>\n<span class=\"err\">\u2502 Hello \u2502   2 \u2502  20 \u2502 [1,2]   \u2502 [10,20]    \u2502</span>\n<span class=\"err\">\u2502 World \u2502   3 \u2502  30 \u2502 [3,4,5] \u2502 [30,40,50] \u2502</span>\n<span class=\"err\">\u2502 World \u2502   4 \u2502  40 \u2502 [3,4,5] \u2502 [30,40,50] \u2502</span>\n<span class=\"err\">\u2502 World \u2502   5 \u2502  50 \u2502 [3,4,5] \u2502 [30,40,50] \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>Example of using the <a href=\"#array_functions-arrayenumerate\">arrayEnumerate</a> function:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">s</span><span class=\"p\">,</span> <span class=\"o\">`</span><span class=\"n\">n</span><span class=\"p\">.</span><span class=\"n\">x</span><span class=\"o\">`</span><span class=\"p\">,</span> <span class=\"o\">`</span><span class=\"n\">n</span><span class=\"p\">.</span><span class=\"n\">y</span><span class=\"o\">`</span><span class=\"p\">,</span> <span class=\"o\">`</span><span class=\"n\">nest</span><span class=\"p\">.</span><span class=\"n\">x</span><span class=\"o\">`</span><span class=\"p\">,</span> <span class=\"o\">`</span><span class=\"n\">nest</span><span class=\"p\">.</span><span class=\"n\">y</span><span class=\"o\">`</span><span class=\"p\">,</span> <span class=\"n\">num</span>\n<span class=\"k\">FROM</span> <span class=\"n\">nested_test</span>\n<span class=\"nb\">ARRAY</span> <span class=\"k\">JOIN</span> <span class=\"n\">nest</span> <span class=\"k\">AS</span> <span class=\"n\">n</span><span class=\"p\">,</span> <span class=\"n\">arrayEnumerate</span><span class=\"p\">(</span><span class=\"o\">`</span><span class=\"n\">nest</span><span class=\"p\">.</span><span class=\"n\">x</span><span class=\"o\">`</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">num</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500s\u2500\u2500\u2500\u2500\u2500\u252c\u2500n.x\u2500\u252c\u2500n.y\u2500\u252c\u2500nest.x\u2500\u2500\u252c\u2500nest.y\u2500\u2500\u2500\u2500\u2500\u252c\u2500num\u2500\u2510</span>\n<span class=\"err\">\u2502 Hello \u2502   1 \u2502  10 \u2502 [1,2]   \u2502 [10,20]    \u2502   1 \u2502</span>\n<span class=\"err\">\u2502 Hello \u2502   2 \u2502  20 \u2502 [1,2]   \u2502 [10,20]    \u2502   2 \u2502</span>\n<span class=\"err\">\u2502 World \u2502   3 \u2502  30 \u2502 [3,4,5] \u2502 [30,40,50] \u2502   1 \u2502</span>\n<span class=\"err\">\u2502 World \u2502   4 \u2502  40 \u2502 [3,4,5] \u2502 [30,40,50] \u2502   2 \u2502</span>\n<span class=\"err\">\u2502 World \u2502   5 \u2502  50 \u2502 [3,4,5] \u2502 [30,40,50] \u2502   3 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h4 id=\"select-join\">JOIN Clause<a class=\"headerlink\" href=\"#select-join\" title=\"Permanent link\">&para;</a></h4>\n<p>Joins the data in the normal <a href=\"https://en.wikipedia.org/wiki/Join_(SQL)\" rel=\"external nofollow\">SQL JOIN</a> sense.</p>\n<div class=\"admonition info\">\n<p class=\"admonition-title\">Note</p>\n<p>Not related to <a href=\"#select-array-join-clause\">ARRAY JOIN</a>.</p>\n</div>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"o\">&lt;</span><span class=\"n\">expr_list</span><span class=\"o\">&gt;</span>\n<span class=\"k\">FROM</span> <span class=\"o\">&lt;</span><span class=\"n\">left_subquery</span><span class=\"o\">&gt;</span>\n<span class=\"p\">[</span><span class=\"k\">GLOBAL</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"k\">ANY</span><span class=\"o\">|</span><span class=\"k\">ALL</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"k\">INNER</span><span class=\"o\">|</span><span class=\"k\">LEFT</span><span class=\"o\">|</span><span class=\"k\">RIGHT</span><span class=\"o\">|</span><span class=\"k\">FULL</span><span class=\"o\">|</span><span class=\"k\">CROSS</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"k\">OUTER</span><span class=\"p\">]</span> <span class=\"k\">JOIN</span> <span class=\"o\">&lt;</span><span class=\"n\">right_subquery</span><span class=\"o\">&gt;</span>\n<span class=\"p\">(</span><span class=\"k\">ON</span> <span class=\"o\">&lt;</span><span class=\"n\">expr_list</span><span class=\"o\">&gt;</span><span class=\"p\">)</span><span class=\"o\">|</span><span class=\"p\">(</span><span class=\"k\">USING</span> <span class=\"o\">&lt;</span><span class=\"n\">column_list</span><span class=\"o\">&gt;</span><span class=\"p\">)</span> <span class=\"p\">...</span>\n</pre></div>\n\n\n<p>The table names can be specified instead of <code>&lt;left_subquery&gt;</code> and <code>&lt;right_subquery&gt;</code>. This is equivalent to the <code>SELECT * FROM table</code> subquery, except in a special case when the table has the <a href=\"#../operations/table_engines/join/\">Join</a> engine \u2013 an array prepared for joining.</p>\n<h5 id=\"supported-types-of-join\">Supported Types of <code>JOIN</code><a class=\"headerlink\" href=\"#supported-types-of-join\" title=\"Permanent link\">&para;</a></h5>\n<ul>\n<li><code>INNER JOIN</code> (or <code>JOIN</code>)</li>\n<li><code>LEFT JOIN</code> (or <code>LEFT OUTER JOIN</code>)</li>\n<li><code>RIGHT JOIN</code> (or <code>RIGHT OUTER JOIN</code>)</li>\n<li><code>FULL JOIN</code> (or <code>FULL OUTER JOIN</code>)</li>\n<li><code>CROSS JOIN</code> (or <code>,</code> )</li>\n</ul>\n<p>See the standard <a href=\"https://en.wikipedia.org/wiki/Join_(SQL)\" rel=\"external nofollow\">SQL JOIN</a> description.</p>\n<h5 id=\"multiple-join\">Multiple JOIN<a class=\"headerlink\" href=\"#multiple-join\" title=\"Permanent link\">&para;</a></h5>\n<p>Performing queries, ClickHouse rewrites multiple joins into the combination of two-table joins and processes them sequentially. If there are four tables for join ClickHouse joins the first and the second, then joins the result with the third table, and at the last step, it joins the fourth one.</p>\n<p>If a query contains <code>WHERE</code> clause, ClickHouse tries to push down filters from this clause into the intermediate join. If it cannot apply the filter to each intermediate join, ClickHouse applies the filters after all joins are completed.</p>\n<p>We recommend the <code>JOIN ON</code> or <code>JOIN USING</code> syntax for creating a query. For example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">SELECT * FROM t1 JOIN t2 ON t1.a = t2.a JOIN t3 ON t1.a = t3.a</span>\n</pre></div>\n\n\n<p>Also, you can use comma separated list of tables for join. Works only with the <a href=\"#settings-allow_experimental_cross_to_join_conversion\">allow_experimental_cross_to_join_conversion = 1</a> setting.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">For example, `SELECT * FROM t1, t2, t3 WHERE t1.a = t2.a AND t1.a = t3.a`</span>\n</pre></div>\n\n\n<p>Don't mix these syntaxes.</p>\n<p>ClickHouse doesn't support the syntax with commas directly, so we don't recommend to use it. The algorithm tries to rewrite the query in terms of <code>CROSS</code> and <code>INNER</code> <code>JOIN</code> clauses and then proceeds the query processing. When rewriting the query, ClickHouse tries to optimize performance and memory consumption. By default, ClickHouse treats comma as an <code>INNER JOIN</code> clause and converts it to <code>CROSS JOIN</code> when the algorithm cannot guaranty that <code>INNER JOIN</code> returns required data.</p>\n<h5 id=\"any-or-all-strictness\">ANY or ALL Strictness<a class=\"headerlink\" href=\"#any-or-all-strictness\" title=\"Permanent link\">&para;</a></h5>\n<p>If <code>ALL</code> is specified and the right table has several matching rows, the data will be multiplied by the number of these rows. This is the normal <code>JOIN</code> behavior for standard SQL.\nIf <code>ANY</code> is specified and the right table has several matching rows, only the first one found is joined. If the right table has only one matching row, the results of <code>ANY</code> and <code>ALL</code> are the same.</p>\n<p>To set the default strictness value, use the session configuration parameter <a href=\"#settings-join_default_strictness\">join_default_strictness</a>.</p>\n<h5 id=\"global-join\">GLOBAL JOIN<a class=\"headerlink\" href=\"#global-join\" title=\"Permanent link\">&para;</a></h5>\n<p>When using a normal <code>JOIN</code>, the query is sent to remote servers. Subqueries are run on each of them in order to make the right table, and the join is performed with this table. In other words, the right table is formed on each server separately.</p>\n<p>When using <code>GLOBAL ... JOIN</code>, first the requestor server runs a subquery to calculate the right table. This temporary table is passed to each remote server, and queries are run on them using the temporary data that was transmitted.</p>\n<p>Be careful when using <code>GLOBAL</code>. For more information, see the section <a href=\"#select-distributed-subqueries\">Distributed subqueries</a>.</p>\n<h5 id=\"usage-recommendations\">Usage Recommendations<a class=\"headerlink\" href=\"#usage-recommendations\" title=\"Permanent link\">&para;</a></h5>\n<p>All columns that are not needed for the <code>JOIN</code> are deleted from the subquery.</p>\n<p>When running a <code>JOIN</code>, there is no optimization of the order of execution in relation to other stages of the query. The join (a search in the right table) is run before filtering in <code>WHERE</code> and before aggregation. In order to explicitly set the processing order, we recommend running a <code>JOIN</code> subquery with a subquery.</p>\n<p>Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span>\n    <span class=\"n\">CounterID</span><span class=\"p\">,</span>\n    <span class=\"n\">hits</span><span class=\"p\">,</span>\n    <span class=\"n\">visits</span>\n<span class=\"k\">FROM</span>\n<span class=\"p\">(</span>\n    <span class=\"k\">SELECT</span>\n        <span class=\"n\">CounterID</span><span class=\"p\">,</span>\n        <span class=\"k\">count</span><span class=\"p\">()</span> <span class=\"k\">AS</span> <span class=\"n\">hits</span>\n    <span class=\"k\">FROM</span> <span class=\"n\">test</span><span class=\"p\">.</span><span class=\"n\">hits</span>\n    <span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">CounterID</span>\n<span class=\"p\">)</span> <span class=\"k\">ANY</span> <span class=\"k\">LEFT</span> <span class=\"k\">JOIN</span>\n<span class=\"p\">(</span>\n    <span class=\"k\">SELECT</span>\n        <span class=\"n\">CounterID</span><span class=\"p\">,</span>\n        <span class=\"k\">sum</span><span class=\"p\">(</span><span class=\"n\">Sign</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">visits</span>\n    <span class=\"k\">FROM</span> <span class=\"n\">test</span><span class=\"p\">.</span><span class=\"n\">visits</span>\n    <span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">CounterID</span>\n<span class=\"p\">)</span> <span class=\"k\">USING</span> <span class=\"n\">CounterID</span>\n<span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"n\">hits</span> <span class=\"k\">DESC</span>\n<span class=\"k\">LIMIT</span> <span class=\"mi\">10</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500CounterID\u2500\u252c\u2500\u2500\u2500hits\u2500\u252c\u2500visits\u2500\u2510</span>\n<span class=\"err\">\u2502   1143050 \u2502 523264 \u2502  13665 \u2502</span>\n<span class=\"err\">\u2502    731962 \u2502 475698 \u2502 102716 \u2502</span>\n<span class=\"err\">\u2502    722545 \u2502 337212 \u2502 108187 \u2502</span>\n<span class=\"err\">\u2502    722889 \u2502 252197 \u2502  10547 \u2502</span>\n<span class=\"err\">\u2502   2237260 \u2502 196036 \u2502   9522 \u2502</span>\n<span class=\"err\">\u2502  23057320 \u2502 147211 \u2502   7689 \u2502</span>\n<span class=\"err\">\u2502    722818 \u2502  90109 \u2502  17847 \u2502</span>\n<span class=\"err\">\u2502     48221 \u2502  85379 \u2502   4652 \u2502</span>\n<span class=\"err\">\u2502  19762435 \u2502  77807 \u2502   7026 \u2502</span>\n<span class=\"err\">\u2502    722884 \u2502  77492 \u2502  11056 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>Subqueries don't allow you to set names or use them for referencing a column from a specific subquery.\nThe columns specified in <code>USING</code> must have the same names in both subqueries, and the other columns must be named differently. You can use aliases to change the names of columns in subqueries (the example uses the aliases 'hits' and 'visits').</p>\n<p>The <code>USING</code> clause specifies one or more columns to join, which establishes the equality of these columns. The list of columns is set without brackets. More complex join conditions are not supported.</p>\n<p>The right table (the subquery result) resides in RAM. If there isn't enough memory, you can't run a <code>JOIN</code>.</p>\n<p>Each time a query is run with the same <code>JOIN</code>, the subquery is run again because the result is not cached. To avoid this, use the special <a href=\"#../operations/table_engines/join/\">Join</a> table engine, which is a prepared array for joining that is always in RAM.</p>\n<p>In some cases, it is more efficient to use <code>IN</code> instead of <code>JOIN</code>.\nAmong the various types of <code>JOIN</code>, the most efficient is <code>ANY LEFT JOIN</code>, then <code>ANY INNER JOIN</code>. The least efficient are <code>ALL LEFT JOIN</code> and <code>ALL INNER JOIN</code>.</p>\n<p>If you need a <code>JOIN</code> for joining with dimension tables (these are relatively small tables that contain dimension properties, such as names for advertising campaigns), a <code>JOIN</code> might not be very convenient due to the bulky syntax and the fact that the right table is re-accessed for every query. For such cases, there is an \"external dictionaries\" feature that you should use instead of <code>JOIN</code>. For more information, see the section <a href=\"#dicts/external_dicts/\">External dictionaries</a>.</p>\n<h5 id=\"processing-of-empty-or-null-cells\">Processing of Empty or NULL Cells<a class=\"headerlink\" href=\"#processing-of-empty-or-null-cells\" title=\"Permanent link\">&para;</a></h5>\n<p>While joining tables, the empty cells may appear. The setting <a href=\"#settings-join_use_nulls\">join_use_nulls</a> define how ClickHouse fills these cells.</p>\n<p>If the <code>JOIN</code> keys are <a href=\"#../data_types/nullable/\">Nullable</a> fields, the rows where at least one of the keys has the value <a href=\"#null-literal\">NULL</a> are not joined.</p>\n<h4 id=\"where-clause\">WHERE Clause<a class=\"headerlink\" href=\"#where-clause\" title=\"Permanent link\">&para;</a></h4>\n<p>If there is a WHERE clause, it must contain an expression with the UInt8 type. This is usually an expression with comparison and logical operators.\nThis expression will be used for filtering data before all other transformations.</p>\n<p>If indexes are supported by the database table engine, the expression is evaluated on the ability to use indexes.</p>\n<h4 id=\"prewhere-clause\">PREWHERE Clause<a class=\"headerlink\" href=\"#prewhere-clause\" title=\"Permanent link\">&para;</a></h4>\n<p>This clause has the same meaning as the WHERE clause. The difference is in which data is read from the table.\nWhen using PREWHERE, first only the columns necessary for executing PREWHERE are read. Then the other columns are read that are needed for running the query, but only those blocks where the PREWHERE expression is true.</p>\n<p>It makes sense to use PREWHERE if there are filtration conditions that are used by a minority of the columns in the query, but that provide strong data filtration. This reduces the volume of data to read.</p>\n<p>For example, it is useful to write PREWHERE for queries that extract a large number of columns, but that only have filtration for a few columns.</p>\n<p>PREWHERE is only supported by tables from the <code>*MergeTree</code> family.</p>\n<p>A query may simultaneously specify PREWHERE and WHERE. In this case, PREWHERE precedes WHERE.</p>\n<p>If the 'optimize_move_to_prewhere' setting is set to 1 and PREWHERE is omitted, the system uses heuristics to automatically move parts of expressions from WHERE to PREWHERE.</p>\n<h4 id=\"select-group-by-clause\">GROUP BY Clause<a class=\"headerlink\" href=\"#select-group-by-clause\" title=\"Permanent link\">&para;</a></h4>\n<p>This is one of the most important parts of a column-oriented DBMS.</p>\n<p>If there is a GROUP BY clause, it must contain a list of expressions. Each expression will be referred to here as a \"key\".\nAll the expressions in the SELECT, HAVING, and ORDER BY clauses must be calculated from keys or from aggregate functions. In other words, each column selected from the table must be used either in keys or inside aggregate functions.</p>\n<p>If a query contains only table columns inside aggregate functions, the GROUP BY clause can be omitted, and aggregation by an empty set of keys is assumed.</p>\n<p>Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span>\n    <span class=\"k\">count</span><span class=\"p\">(),</span>\n    <span class=\"n\">median</span><span class=\"p\">(</span><span class=\"n\">FetchTiming</span> <span class=\"o\">&gt;</span> <span class=\"mi\">60</span> <span class=\"o\">?</span> <span class=\"mi\">60</span> <span class=\"p\">:</span> <span class=\"n\">FetchTiming</span><span class=\"p\">),</span>\n    <span class=\"k\">count</span><span class=\"p\">()</span> <span class=\"o\">-</span> <span class=\"k\">sum</span><span class=\"p\">(</span><span class=\"n\">Refresh</span><span class=\"p\">)</span>\n<span class=\"k\">FROM</span> <span class=\"n\">hits</span>\n</pre></div>\n\n\n<p>However, in contrast to standard SQL, if the table doesn't have any rows (either there aren't any at all, or there aren't any after using WHERE to filter), an empty result is returned, and not the result from one of the rows containing the initial values of aggregate functions.</p>\n<p>As opposed to MySQL (and conforming to standard SQL), you can't get some value of some column that is not in a key or aggregate function (except constant expressions). To work around this, you can use the 'any' aggregate function (get the first encountered value) or 'min/max'.</p>\n<p>Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span>\n    <span class=\"n\">domainWithoutWWW</span><span class=\"p\">(</span><span class=\"n\">URL</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"k\">domain</span><span class=\"p\">,</span>\n    <span class=\"k\">count</span><span class=\"p\">(),</span>\n    <span class=\"k\">any</span><span class=\"p\">(</span><span class=\"n\">Title</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">title</span> <span class=\"c1\">-- getting the first occurred page header for each domain.</span>\n<span class=\"k\">FROM</span> <span class=\"n\">hits</span>\n<span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"k\">domain</span>\n</pre></div>\n\n\n<p>For every different key value encountered, GROUP BY calculates a set of aggregate function values.</p>\n<p>GROUP BY is not supported for array columns.</p>\n<p>A constant can't be specified as arguments for aggregate functions. Example: sum(1). Instead of this, you can get rid of the constant. Example: <code>count()</code>.</p>\n<h5 id=\"null-processing\">NULL processing<a class=\"headerlink\" href=\"#null-processing\" title=\"Permanent link\">&para;</a></h5>\n<p>For grouping, ClickHouse interprets <a href=\"#syntax/\">NULL</a> as a value, and <code>NULL=NULL</code>.</p>\n<p>Here's an example to show what this means.</p>\n<p>Assume you have this table:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500x\u2500\u252c\u2500\u2500\u2500\u2500y\u2500\u2510</span>\n<span class=\"err\">\u2502 1 \u2502    2 \u2502</span>\n<span class=\"err\">\u2502 2 \u2502 \u1d3a\u1d41\u1d38\u1d38 \u2502</span>\n<span class=\"err\">\u2502 3 \u2502    2 \u2502</span>\n<span class=\"err\">\u2502 3 \u2502    3 \u2502</span>\n<span class=\"err\">\u2502 3 \u2502 \u1d3a\u1d41\u1d38\u1d38 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>The query <code>SELECT sum(x), y FROM t_null_big GROUP BY y</code> results in:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500sum(x)\u2500\u252c\u2500\u2500\u2500\u2500y\u2500\u2510</span>\n<span class=\"err\">\u2502      4 \u2502    2 \u2502</span>\n<span class=\"err\">\u2502      3 \u2502    3 \u2502</span>\n<span class=\"err\">\u2502      5 \u2502 \u1d3a\u1d41\u1d38\u1d38 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>You can see that <code>GROUP BY</code> for <code>\u0423 = NULL</code> summed up <code>x</code>, as if <code>NULL</code> is this value.</p>\n<p>If you pass several keys to <code>GROUP BY</code>, the result will give you all the combinations of the selection, as if <code>NULL</code> were a specific value.</p>\n<h5 id=\"with-totals-modifier\">WITH TOTALS Modifier<a class=\"headerlink\" href=\"#with-totals-modifier\" title=\"Permanent link\">&para;</a></h5>\n<p>If the WITH TOTALS modifier is specified, another row will be calculated. This row will have key columns containing default values (zeros or empty lines), and columns of aggregate functions with the values calculated across all the rows (the \"total\" values).</p>\n<p>This extra row is output in JSON*, TabSeparated*, and Pretty* formats, separately from the other rows. In the other formats, this row is not output.</p>\n<p>In JSON* formats, this row is output as a separate 'totals' field. In TabSeparated* formats, the row comes after the main result, preceded by an empty row (after the other data). In Pretty* formats, the row is output as a separate table after the main result.</p>\n<p><code>WITH TOTALS</code> can be run in different ways when HAVING is present. The behavior depends on the 'totals_mode' setting.\nBy default, <code>totals_mode = 'before_having'</code>. In this case, 'totals' is calculated across all rows, including the ones that don't pass through HAVING and 'max_rows_to_group_by'.</p>\n<p>The other alternatives include only the rows that pass through HAVING in 'totals', and behave differently with the setting <code>max_rows_to_group_by</code> and <code>group_by_overflow_mode = 'any'</code>.</p>\n<p><code>after_having_exclusive</code> \u2013 Don't include rows that didn't pass through <code>max_rows_to_group_by</code>. In other words, 'totals' will have less than or the same number of rows as it would if <code>max_rows_to_group_by</code> were omitted.</p>\n<p><code>after_having_inclusive</code> \u2013 Include all the rows that didn't pass through 'max_rows_to_group_by' in 'totals'. In other words, 'totals' will have more than or the same number of rows as it would if <code>max_rows_to_group_by</code> were omitted.</p>\n<p><code>after_having_auto</code> \u2013 Count the number of rows that passed through HAVING. If it is more than a certain amount (by default, 50%), include all the rows that didn't pass through 'max_rows_to_group_by' in 'totals'. Otherwise, do not include them.</p>\n<p><code>totals_auto_threshold</code> \u2013 By default, 0.5. The coefficient for <code>after_having_auto</code>.</p>\n<p>If <code>max_rows_to_group_by</code> and <code>group_by_overflow_mode = 'any'</code> are not used, all variations of <code>after_having</code> are the same, and you can use any of them (for example, <code>after_having_auto</code>).</p>\n<p>You can use WITH TOTALS in subqueries, including subqueries in the JOIN clause (in this case, the respective total values are combined).</p>\n<h5 id=\"select-group-by-in-external-memory\">GROUP BY in External Memory<a class=\"headerlink\" href=\"#select-group-by-in-external-memory\" title=\"Permanent link\">&para;</a></h5>\n<p>You can enable dumping temporary data to the disk to restrict memory usage during GROUP BY.\nThe <code>max_bytes_before_external_group_by</code> setting determines the threshold RAM consumption for dumping GROUP BY temporary data to the file system. If set to 0 (the default), it is disabled.</p>\n<p>When using <code>max_bytes_before_external_group_by</code>, we recommend that you set max_memory_usage about twice as high. This is necessary because there are two stages to aggregation: reading the date and forming intermediate data (1) and merging the intermediate data (2). Dumping data to the file system can only occur during stage 1. If the temporary data wasn't dumped, then stage 2 might require up to the same amount of memory as in stage 1.</p>\n<p>For example, if <code>max_memory_usage</code> was set to 10000000000 and you want to use external aggregation, it makes sense to set <code>max_bytes_before_external_group_by</code> to 10000000000, and max_memory_usage to 20000000000. When external aggregation is triggered (if there was at least one dump of temporary data), maximum consumption of RAM is only slightly more than <code>max_bytes_before_external_group_by</code>.</p>\n<p>With distributed query processing, external aggregation is performed on remote servers. In order for the requestor server to use only a small amount of RAM, set <code>distributed_aggregation_memory_efficient</code> to 1.</p>\n<p>When merging data flushed to the disk, as well as when merging results from remote servers when the <code>distributed_aggregation_memory_efficient</code> setting is enabled, consumes up to 1/256 * the number of threads from the total amount of RAM.</p>\n<p>When external aggregation is enabled, if there was less than <code>max_bytes_before_external_group_by</code> of data (i.e. data was not flushed), the query runs just as fast as without external aggregation. If any temporary data was flushed, the run time will be several times longer (approximately three times).</p>\n<p>If you have an ORDER BY with a small LIMIT after GROUP BY, then the ORDER BY CLAUSE will not use significant amounts of RAM.\nBut if the ORDER BY doesn't have LIMIT, don't forget to enable external sorting (<code>max_bytes_before_external_sort</code>).</p>\n<h4 id=\"limit-n-by-clause\">LIMIT N BY Clause<a class=\"headerlink\" href=\"#limit-n-by-clause\" title=\"Permanent link\">&para;</a></h4>\n<p>LIMIT N BY COLUMNS selects the top N rows for each group of COLUMNS. LIMIT N BY is not related to LIMIT; they can both be used in the same query. The key for LIMIT N BY can contain any number of columns or expressions.</p>\n<p>Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span>\n    <span class=\"n\">domainWithoutWWW</span><span class=\"p\">(</span><span class=\"n\">URL</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"k\">domain</span><span class=\"p\">,</span>\n    <span class=\"n\">domainWithoutWWW</span><span class=\"p\">(</span><span class=\"n\">REFERRER_URL</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">referrer</span><span class=\"p\">,</span>\n    <span class=\"n\">device_type</span><span class=\"p\">,</span>\n    <span class=\"k\">count</span><span class=\"p\">()</span> <span class=\"n\">cnt</span>\n<span class=\"k\">FROM</span> <span class=\"n\">hits</span>\n<span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"k\">domain</span><span class=\"p\">,</span> <span class=\"n\">referrer</span><span class=\"p\">,</span> <span class=\"n\">device_type</span>\n<span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"n\">cnt</span> <span class=\"k\">DESC</span>\n<span class=\"k\">LIMIT</span> <span class=\"mi\">5</span> <span class=\"k\">BY</span> <span class=\"k\">domain</span><span class=\"p\">,</span> <span class=\"n\">device_type</span>\n<span class=\"k\">LIMIT</span> <span class=\"mi\">100</span>\n</pre></div>\n\n\n<p>The query will select the top 5 referrers for each <code>domain, device_type</code> pair, but not more than 100 rows (<code>LIMIT n BY + LIMIT</code>).</p>\n<h4 id=\"having-clause\">HAVING Clause<a class=\"headerlink\" href=\"#having-clause\" title=\"Permanent link\">&para;</a></h4>\n<p>Allows filtering the result received after GROUP BY, similar to the WHERE clause.\nWHERE and HAVING differ in that WHERE is performed before aggregation (GROUP BY), while HAVING is performed after it.\nIf aggregation is not performed, HAVING can't be used.</p>\n<h4 id=\"order-by-clause\">ORDER BY Clause<a class=\"headerlink\" href=\"#order-by-clause\" title=\"Permanent link\">&para;</a></h4>\n<p>The ORDER BY clause contains a list of expressions, which can each be assigned DESC or ASC (the sorting direction). If the direction is not specified, ASC is assumed. ASC is sorted in ascending order, and DESC in descending order. The sorting direction applies to a single expression, not to the entire list. Example: <code>ORDER BY Visits DESC, SearchPhrase</code></p>\n<p>For sorting by String values, you can specify collation (comparison). Example: <code>ORDER BY SearchPhrase COLLATE 'tr'</code> - for sorting by keyword in ascending order, using the Turkish alphabet, case insensitive, assuming that strings are UTF-8 encoded. COLLATE can be specified or not for each expression in ORDER BY independently. If ASC or DESC is specified, COLLATE is specified after it. When using COLLATE, sorting is always case-insensitive.</p>\n<p>We only recommend using COLLATE for final sorting of a small number of rows, since sorting with COLLATE is less efficient than normal sorting by bytes.</p>\n<p>Rows that have identical values for the list of sorting expressions are output in an arbitrary order, which can also be nondeterministic (different each time).\nIf the ORDER BY clause is omitted, the order of the rows is also undefined, and may be nondeterministic as well.</p>\n<p><code>NaN</code> and <code>NULL</code> sorting order:</p>\n<ul>\n<li>With the modifier <code>NULLS FIRST</code> \u2014 First <code>NULL</code>, then <code>NaN</code>, then other values.</li>\n<li>With the modifier <code>NULLS LAST</code> \u2014 First the values, then <code>NaN</code>, then <code>NULL</code>.</li>\n<li>Default \u2014 The same as with the <code>NULLS LAST</code> modifier.</li>\n</ul>\n<p>Example:</p>\n<p>For the table</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500x\u2500\u252c\u2500\u2500\u2500\u2500y\u2500\u2510</span>\n<span class=\"err\">\u2502 1 \u2502 \u1d3a\u1d41\u1d38\u1d38 \u2502</span>\n<span class=\"err\">\u2502 2 \u2502    2 \u2502</span>\n<span class=\"err\">\u2502 1 \u2502  nan \u2502</span>\n<span class=\"err\">\u2502 2 \u2502    2 \u2502</span>\n<span class=\"err\">\u2502 3 \u2502    4 \u2502</span>\n<span class=\"err\">\u2502 5 \u2502    6 \u2502</span>\n<span class=\"err\">\u2502 6 \u2502  nan \u2502</span>\n<span class=\"err\">\u2502 7 \u2502 \u1d3a\u1d41\u1d38\u1d38 \u2502</span>\n<span class=\"err\">\u2502 6 \u2502    7 \u2502</span>\n<span class=\"err\">\u2502 8 \u2502    9 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>Run the query <code>SELECT * FROM t_null_nan ORDER BY y NULLS FIRST</code> to get:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500x\u2500\u252c\u2500\u2500\u2500\u2500y\u2500\u2510</span>\n<span class=\"err\">\u2502 1 \u2502 \u1d3a\u1d41\u1d38\u1d38 \u2502</span>\n<span class=\"err\">\u2502 7 \u2502 \u1d3a\u1d41\u1d38\u1d38 \u2502</span>\n<span class=\"err\">\u2502 1 \u2502  nan \u2502</span>\n<span class=\"err\">\u2502 6 \u2502  nan \u2502</span>\n<span class=\"err\">\u2502 2 \u2502    2 \u2502</span>\n<span class=\"err\">\u2502 2 \u2502    2 \u2502</span>\n<span class=\"err\">\u2502 3 \u2502    4 \u2502</span>\n<span class=\"err\">\u2502 5 \u2502    6 \u2502</span>\n<span class=\"err\">\u2502 6 \u2502    7 \u2502</span>\n<span class=\"err\">\u2502 8 \u2502    9 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>When floating point numbers are sorted, NaNs are separate from the other values. Regardless of the sorting order, NaNs come at the end. In other words, for ascending sorting they are placed as if they are larger than all the other numbers, while for descending sorting they are placed as if they are smaller than the rest.</p>\n<p>Less RAM is used if a small enough LIMIT is specified in addition to ORDER BY. Otherwise, the amount of memory spent is proportional to the volume of data for sorting. For distributed query processing, if GROUP BY is omitted, sorting is partially done on remote servers, and the results are merged on the requestor server. This means that for distributed sorting, the volume of data to sort can be greater than the amount of memory on a single server.</p>\n<p>If there is not enough RAM, it is possible to perform sorting in external memory (creating temporary files on a disk). Use the setting <code>max_bytes_before_external_sort</code> for this purpose. If it is set to 0 (the default), external sorting is disabled. If it is enabled, when the volume of data to sort reaches the specified number of bytes, the collected data is sorted and dumped into a temporary file. After all data is read, all the sorted files are merged and the results are output. Files are written to the /var/lib/clickhouse/tmp/ directory in the config (by default, but you can use the 'tmp_path' parameter to change this setting).</p>\n<p>Running a query may use more memory than 'max_bytes_before_external_sort'. For this reason, this setting must have a value significantly smaller than 'max_memory_usage'. As an example, if your server has 128 GB of RAM and you need to run a single query, set 'max_memory_usage' to 100 GB, and 'max_bytes_before_external_sort' to 80 GB.</p>\n<p>External sorting works much less effectively than sorting in RAM.</p>\n<h4 id=\"select-clause\">SELECT Clause<a class=\"headerlink\" href=\"#select-clause\" title=\"Permanent link\">&para;</a></h4>\n<p>The expressions specified in the SELECT clause are analyzed after the calculations for all the clauses listed above are completed.\nMore specifically, expressions are analyzed that are above the aggregate functions, if there are any aggregate functions.\nThe aggregate functions and everything below them are calculated during aggregation (GROUP BY).\nThese expressions work as if they are applied to separate rows in the result.</p>\n<h4 id=\"select-distinct\">DISTINCT Clause<a class=\"headerlink\" href=\"#select-distinct\" title=\"Permanent link\">&para;</a></h4>\n<p>If DISTINCT is specified, only a single row will remain out of all the sets of fully matching rows in the result.\nThe result will be the same as if GROUP BY were specified across all the fields specified in SELECT without aggregate functions. But there are several differences from GROUP BY:</p>\n<ul>\n<li>DISTINCT can be applied together with GROUP BY.</li>\n<li>When ORDER BY is omitted and LIMIT is defined, the query stops running immediately after the required number of different rows has been read.</li>\n<li>Data blocks are output as they are processed, without waiting for the entire query to finish running.</li>\n</ul>\n<p>DISTINCT is not supported if SELECT has at least one array column.</p>\n<p><code>DISTINCT</code> works with <a href=\"#syntax/\">NULL</a> as if <code>NULL</code> were a specific value, and <code>NULL=NULL</code>. In other words, in the <code>DISTINCT</code> results, different combinations with <code>NULL</code> only occur once.</p>\n<h4 id=\"limit-clause\">LIMIT Clause<a class=\"headerlink\" href=\"#limit-clause\" title=\"Permanent link\">&para;</a></h4>\n<p><code>LIMIT m</code> allows you to select the first <code>m</code> rows from the result.</p>\n<p><code>LIMIT n, m</code> allows you to select the first <code>m</code> rows from the result after skipping the first <code>n</code> rows. The <code>LIMIT m OFFSET n</code> syntax is also supported.</p>\n<p><code>n</code> and <code>m</code> must be non-negative integers.</p>\n<p>If there isn't an <code>ORDER BY</code> clause that explicitly sorts results, the result may be arbitrary and nondeterministic.</p>\n<h4 id=\"union-all-clause\">UNION ALL Clause<a class=\"headerlink\" href=\"#union-all-clause\" title=\"Permanent link\">&para;</a></h4>\n<p>You can use UNION ALL to combine any number of queries. Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">CounterID</span><span class=\"p\">,</span> <span class=\"mi\">1</span> <span class=\"k\">AS</span> <span class=\"k\">table</span><span class=\"p\">,</span> <span class=\"n\">toInt64</span><span class=\"p\">(</span><span class=\"k\">count</span><span class=\"p\">())</span> <span class=\"k\">AS</span> <span class=\"k\">c</span>\n    <span class=\"k\">FROM</span> <span class=\"n\">test</span><span class=\"p\">.</span><span class=\"n\">hits</span>\n    <span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">CounterID</span>\n\n<span class=\"k\">UNION</span> <span class=\"k\">ALL</span>\n\n<span class=\"k\">SELECT</span> <span class=\"n\">CounterID</span><span class=\"p\">,</span> <span class=\"mi\">2</span> <span class=\"k\">AS</span> <span class=\"k\">table</span><span class=\"p\">,</span> <span class=\"k\">sum</span><span class=\"p\">(</span><span class=\"n\">Sign</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"k\">c</span>\n    <span class=\"k\">FROM</span> <span class=\"n\">test</span><span class=\"p\">.</span><span class=\"n\">visits</span>\n    <span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">CounterID</span>\n    <span class=\"k\">HAVING</span> <span class=\"k\">c</span> <span class=\"o\">&gt;</span> <span class=\"mi\">0</span>\n</pre></div>\n\n\n<p>Only UNION ALL is supported. The regular UNION (UNION DISTINCT) is not supported. If you need UNION DISTINCT, you can write SELECT DISTINCT from a subquery containing UNION ALL.</p>\n<p>Queries that are parts of UNION ALL can be run simultaneously, and their results can be mixed together.</p>\n<p>The structure of results (the number and type of columns) must match for the queries. But the column names can differ. In this case, the column names for the final result will be taken from the first query. Type casting is performed for unions. For example, if two queries being combined have the same field with non-<code>Nullable</code> and <code>Nullable</code> types from a compatible type, the resulting <code>UNION ALL</code> has a <code>Nullable</code> type field.</p>\n<p>Queries that are parts of UNION ALL can't be enclosed in brackets. ORDER BY and LIMIT are applied to separate queries, not to the final result. If you need to apply a conversion to the final result, you can put all the queries with UNION ALL in a subquery in the FROM clause.</p>\n<h4 id=\"into-outfile-clause\">INTO OUTFILE Clause<a class=\"headerlink\" href=\"#into-outfile-clause\" title=\"Permanent link\">&para;</a></h4>\n<p>Add the <code>INTO OUTFILE filename</code> clause (where filename is a string literal) to redirect query output to the specified file.\nIn contrast to MySQL, the file is created on the client side. The query will fail if a file with the same filename already exists.\nThis functionality is available in the command-line client and clickhouse-local (a query sent via HTTP interface will fail).</p>\n<p>The default output format is TabSeparated (the same as in the command-line client batch mode).</p>\n<h4 id=\"format-clause\">FORMAT Clause<a class=\"headerlink\" href=\"#format-clause\" title=\"Permanent link\">&para;</a></h4>\n<p>Specify 'FORMAT format' to get data in any specified format.\nYou can use this for convenience, or for creating dumps.\nFor more information, see the section \"Formats\".\nIf the FORMAT clause is omitted, the default format is used, which depends on both the settings and the interface used for accessing the DB. For the HTTP interface and the command-line client in batch mode, the default format is TabSeparated. For the command-line client in interactive mode, the default format is PrettyCompact (it has attractive and compact tables).</p>\n<p>When using the command-line client, data is passed to the client in an internal efficient format. The client independently interprets the FORMAT clause of the query and formats the data itself (thus relieving the network and the server from the load).</p>\n<h4 id=\"select-in-operators\">IN Operators<a class=\"headerlink\" href=\"#select-in-operators\" title=\"Permanent link\">&para;</a></h4>\n<p>The <code>IN</code>, <code>NOT IN</code>, <code>GLOBAL IN</code>, and <code>GLOBAL NOT IN</code> operators are covered separately, since their functionality is quite rich.</p>\n<p>The left side of the operator is either a single column or a tuple.</p>\n<p>Examples:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">UserID</span> <span class=\"k\">IN</span> <span class=\"p\">(</span><span class=\"mi\">123</span><span class=\"p\">,</span> <span class=\"mi\">456</span><span class=\"p\">)</span> <span class=\"k\">FROM</span> <span class=\"p\">...</span>\n<span class=\"k\">SELECT</span> <span class=\"p\">(</span><span class=\"n\">CounterID</span><span class=\"p\">,</span> <span class=\"n\">UserID</span><span class=\"p\">)</span> <span class=\"k\">IN</span> <span class=\"p\">((</span><span class=\"mi\">34</span><span class=\"p\">,</span> <span class=\"mi\">123</span><span class=\"p\">),</span> <span class=\"p\">(</span><span class=\"mi\">101500</span><span class=\"p\">,</span> <span class=\"mi\">456</span><span class=\"p\">))</span> <span class=\"k\">FROM</span> <span class=\"p\">...</span>\n</pre></div>\n\n\n<p>If the left side is a single column that is in the index, and the right side is a set of constants, the system uses the index for processing the query.</p>\n<p>Don't list too many values explicitly (i.e. millions). If a data set is large, put it in a temporary table (for example, see the section \"External data for query processing\"), then use a subquery.</p>\n<p>The right side of the operator can be a set of constant expressions, a set of tuples with constant expressions (shown in the examples above), or the name of a database table or SELECT subquery in brackets.</p>\n<p>If the right side of the operator is the name of a table (for example, <code>UserID IN users</code>), this is equivalent to the subquery <code>UserID IN (SELECT * FROM users)</code>. Use this when working with external data that is sent along with the query. For example, the query can be sent together with a set of user IDs loaded to the 'users' temporary table, which should be filtered.</p>\n<p>If the right side of the operator is a table name that has the Set engine (a prepared data set that is always in RAM), the data set will not be created over again for each query.</p>\n<p>The subquery may specify more than one column for filtering tuples.\nExample:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"p\">(</span><span class=\"n\">CounterID</span><span class=\"p\">,</span> <span class=\"n\">UserID</span><span class=\"p\">)</span> <span class=\"k\">IN</span> <span class=\"p\">(</span><span class=\"k\">SELECT</span> <span class=\"n\">CounterID</span><span class=\"p\">,</span> <span class=\"n\">UserID</span> <span class=\"k\">FROM</span> <span class=\"p\">...)</span> <span class=\"k\">FROM</span> <span class=\"p\">...</span>\n</pre></div>\n\n\n<p>The columns to the left and right of the IN operator should have the same type.</p>\n<p>The IN operator and subquery may occur in any part of the query, including in aggregate functions and lambda functions.\nExample:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span>\n    <span class=\"n\">EventDate</span><span class=\"p\">,</span>\n    <span class=\"k\">avg</span><span class=\"p\">(</span><span class=\"n\">UserID</span> <span class=\"k\">IN</span>\n    <span class=\"p\">(</span>\n        <span class=\"k\">SELECT</span> <span class=\"n\">UserID</span>\n        <span class=\"k\">FROM</span> <span class=\"n\">test</span><span class=\"p\">.</span><span class=\"n\">hits</span>\n        <span class=\"k\">WHERE</span> <span class=\"n\">EventDate</span> <span class=\"o\">=</span> <span class=\"n\">toDate</span><span class=\"p\">(</span><span class=\"s1\">&#39;2014-03-17&#39;</span><span class=\"p\">)</span>\n    <span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">ratio</span>\n<span class=\"k\">FROM</span> <span class=\"n\">test</span><span class=\"p\">.</span><span class=\"n\">hits</span>\n<span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">EventDate</span>\n<span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"n\">EventDate</span> <span class=\"k\">ASC</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500\u2500EventDate\u2500\u252c\u2500\u2500\u2500\u2500ratio\u2500\u2510</span>\n<span class=\"err\">\u2502 2014-03-17 \u2502        1 \u2502</span>\n<span class=\"err\">\u2502 2014-03-18 \u2502 0.807696 \u2502</span>\n<span class=\"err\">\u2502 2014-03-19 \u2502 0.755406 \u2502</span>\n<span class=\"err\">\u2502 2014-03-20 \u2502 0.723218 \u2502</span>\n<span class=\"err\">\u2502 2014-03-21 \u2502 0.697021 \u2502</span>\n<span class=\"err\">\u2502 2014-03-22 \u2502 0.647851 \u2502</span>\n<span class=\"err\">\u2502 2014-03-23 \u2502 0.648416 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>For each day after March 17th, count the percentage of pageviews made by users who visited the site on March 17th.\nA subquery in the IN clause is always run just one time on a single server. There are no dependent subqueries.</p>\n<h5 id=\"null-processing_1\">NULL processing<a class=\"headerlink\" href=\"#null-processing_1\" title=\"Permanent link\">&para;</a></h5>\n<p>During request processing, the IN operator assumes that the result of an operation with <a href=\"#syntax/\">NULL</a> is always equal to <code>0</code>, regardless of whether <code>NULL</code> is on the right or left side of the operator. <code>NULL</code> values are not included in any dataset, do not correspond to each other and cannot be compared.</p>\n<p>Here is an example with the <code>t_null</code> table:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500x\u2500\u252c\u2500\u2500\u2500\u2500y\u2500\u2510</span>\n<span class=\"err\">\u2502 1 \u2502 \u1d3a\u1d41\u1d38\u1d38 \u2502</span>\n<span class=\"err\">\u2502 2 \u2502    3 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>Running the query <code>SELECT x FROM t_null WHERE y IN (NULL,3)</code> gives you the following result:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500x\u2500\u2510</span>\n<span class=\"err\">\u2502 2 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>You can see that the row in which <code>y = NULL</code> is thrown out of the query results. This is because ClickHouse can't decide whether <code>NULL</code> is included in the <code>(NULL,3)</code> set, returns <code>0</code> as the result of the operation, and <code>SELECT</code> excludes this row from the final output.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">y</span> <span class=\"k\">IN</span> <span class=\"p\">(</span><span class=\"k\">NULL</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">)</span>\n<span class=\"k\">FROM</span> <span class=\"n\">t_null</span>\n\n<span class=\"err\">\u250c\u2500</span><span class=\"k\">in</span><span class=\"p\">(</span><span class=\"n\">y</span><span class=\"p\">,</span> <span class=\"n\">tuple</span><span class=\"p\">(</span><span class=\"k\">NULL</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">))</span><span class=\"err\">\u2500\u2510</span>\n<span class=\"err\">\u2502</span>                     <span class=\"mi\">0</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span>                     <span class=\"mi\">1</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h5 id=\"select-distributed-subqueries\">Distributed Subqueries<a class=\"headerlink\" href=\"#select-distributed-subqueries\" title=\"Permanent link\">&para;</a></h5>\n<p>There are two options for IN-s with subqueries (similar to JOINs): normal <code>IN</code> / <code>JOIN</code> and <code>GLOBAL IN</code> / <code>GLOBAL JOIN</code>. They differ in how they are run for distributed query processing.</p>\n<div class=\"admonition attention\">\n<p class=\"admonition-title\">Attention</p>\n<p>Remember that the algorithms described below may work differently depending on the <a href=\"#../operations/settings/settings/\">settings</a> <code>distributed_product_mode</code> setting.</p>\n</div>\n<p>When using the regular IN, the query is sent to remote servers, and each of them runs the subqueries in the <code>IN</code> or <code>JOIN</code> clause.</p>\n<p>When using <code>GLOBAL IN</code> / <code>GLOBAL JOINs</code>, first all the subqueries are run for <code>GLOBAL IN</code> / <code>GLOBAL JOINs</code>, and the results are collected in temporary tables. Then the temporary tables are sent to each remote server, where the queries are run using this temporary data.</p>\n<p>For a non-distributed query, use the regular <code>IN</code> / <code>JOIN</code>.</p>\n<p>Be careful when using subqueries in the <code>IN</code> / <code>JOIN</code> clauses for distributed query processing.</p>\n<p>Let's look at some examples. Assume that each server in the cluster has a normal <strong>local_table</strong>. Each server also has a <strong>distributed_table</strong> table with the <strong>Distributed</strong> type, which looks at all the servers in the cluster.</p>\n<p>For a query to the <strong>distributed_table</strong>, the query will be sent to all the remote servers and run on them using the <strong>local_table</strong>.</p>\n<p>For example, the query</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">uniq</span><span class=\"p\">(</span><span class=\"n\">UserID</span><span class=\"p\">)</span> <span class=\"k\">FROM</span> <span class=\"n\">distributed_table</span>\n</pre></div>\n\n\n<p>will be sent to all remote servers as</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">uniq</span><span class=\"p\">(</span><span class=\"n\">UserID</span><span class=\"p\">)</span> <span class=\"k\">FROM</span> <span class=\"n\">local_table</span>\n</pre></div>\n\n\n<p>and run on each of them in parallel, until it reaches the stage where intermediate results can be combined. Then the intermediate results will be returned to the requestor server and merged on it, and the final result will be sent to the client.</p>\n<p>Now let's examine a query with IN:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">uniq</span><span class=\"p\">(</span><span class=\"n\">UserID</span><span class=\"p\">)</span> <span class=\"k\">FROM</span> <span class=\"n\">distributed_table</span> <span class=\"k\">WHERE</span> <span class=\"n\">CounterID</span> <span class=\"o\">=</span> <span class=\"mi\">101500</span> <span class=\"k\">AND</span> <span class=\"n\">UserID</span> <span class=\"k\">IN</span> <span class=\"p\">(</span><span class=\"k\">SELECT</span> <span class=\"n\">UserID</span> <span class=\"k\">FROM</span> <span class=\"n\">local_table</span> <span class=\"k\">WHERE</span> <span class=\"n\">CounterID</span> <span class=\"o\">=</span> <span class=\"mi\">34</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<ul>\n<li>Calculation of the intersection of audiences of two sites.</li>\n</ul>\n<p>This query will be sent to all remote servers as</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">uniq</span><span class=\"p\">(</span><span class=\"n\">UserID</span><span class=\"p\">)</span> <span class=\"k\">FROM</span> <span class=\"n\">local_table</span> <span class=\"k\">WHERE</span> <span class=\"n\">CounterID</span> <span class=\"o\">=</span> <span class=\"mi\">101500</span> <span class=\"k\">AND</span> <span class=\"n\">UserID</span> <span class=\"k\">IN</span> <span class=\"p\">(</span><span class=\"k\">SELECT</span> <span class=\"n\">UserID</span> <span class=\"k\">FROM</span> <span class=\"n\">local_table</span> <span class=\"k\">WHERE</span> <span class=\"n\">CounterID</span> <span class=\"o\">=</span> <span class=\"mi\">34</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>In other words, the data set in the IN clause will be collected on each server independently, only across the data that is stored locally on each of the servers.</p>\n<p>This will work correctly and optimally if you are prepared for this case and have spread data across the cluster servers such that the data for a single UserID resides entirely on a single server. In this case, all the necessary data will be available locally on each server. Otherwise, the result will be inaccurate. We refer to this variation of the query as \"local IN\".</p>\n<p>To correct how the query works when data is spread randomly across the cluster servers, you could specify <strong>distributed_table</strong> inside a subquery. The query would look like this:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">uniq</span><span class=\"p\">(</span><span class=\"n\">UserID</span><span class=\"p\">)</span> <span class=\"k\">FROM</span> <span class=\"n\">distributed_table</span> <span class=\"k\">WHERE</span> <span class=\"n\">CounterID</span> <span class=\"o\">=</span> <span class=\"mi\">101500</span> <span class=\"k\">AND</span> <span class=\"n\">UserID</span> <span class=\"k\">IN</span> <span class=\"p\">(</span><span class=\"k\">SELECT</span> <span class=\"n\">UserID</span> <span class=\"k\">FROM</span> <span class=\"n\">distributed_table</span> <span class=\"k\">WHERE</span> <span class=\"n\">CounterID</span> <span class=\"o\">=</span> <span class=\"mi\">34</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>This query will be sent to all remote servers as</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">uniq</span><span class=\"p\">(</span><span class=\"n\">UserID</span><span class=\"p\">)</span> <span class=\"k\">FROM</span> <span class=\"n\">local_table</span> <span class=\"k\">WHERE</span> <span class=\"n\">CounterID</span> <span class=\"o\">=</span> <span class=\"mi\">101500</span> <span class=\"k\">AND</span> <span class=\"n\">UserID</span> <span class=\"k\">IN</span> <span class=\"p\">(</span><span class=\"k\">SELECT</span> <span class=\"n\">UserID</span> <span class=\"k\">FROM</span> <span class=\"n\">distributed_table</span> <span class=\"k\">WHERE</span> <span class=\"n\">CounterID</span> <span class=\"o\">=</span> <span class=\"mi\">34</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>The subquery will begin running on each remote server. Since the subquery uses a distributed table, the subquery that is on each remote server will be resent to every remote server as</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">UserID</span> <span class=\"k\">FROM</span> <span class=\"n\">local_table</span> <span class=\"k\">WHERE</span> <span class=\"n\">CounterID</span> <span class=\"o\">=</span> <span class=\"mi\">34</span>\n</pre></div>\n\n\n<p>For example, if you have a cluster of 100 servers, executing the entire query will require 10,000 elementary requests, which is generally considered unacceptable.</p>\n<p>In such cases, you should always use GLOBAL IN instead of IN. Let's look at how it works for the query</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">uniq</span><span class=\"p\">(</span><span class=\"n\">UserID</span><span class=\"p\">)</span> <span class=\"k\">FROM</span> <span class=\"n\">distributed_table</span> <span class=\"k\">WHERE</span> <span class=\"n\">CounterID</span> <span class=\"o\">=</span> <span class=\"mi\">101500</span> <span class=\"k\">AND</span> <span class=\"n\">UserID</span> <span class=\"k\">GLOBAL</span> <span class=\"k\">IN</span> <span class=\"p\">(</span><span class=\"k\">SELECT</span> <span class=\"n\">UserID</span> <span class=\"k\">FROM</span> <span class=\"n\">distributed_table</span> <span class=\"k\">WHERE</span> <span class=\"n\">CounterID</span> <span class=\"o\">=</span> <span class=\"mi\">34</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>The requestor server will run the subquery</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">UserID</span> <span class=\"k\">FROM</span> <span class=\"n\">distributed_table</span> <span class=\"k\">WHERE</span> <span class=\"n\">CounterID</span> <span class=\"o\">=</span> <span class=\"mi\">34</span>\n</pre></div>\n\n\n<p>and the result will be put in a temporary table in RAM. Then the request will be sent to each remote server as</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">uniq</span><span class=\"p\">(</span><span class=\"n\">UserID</span><span class=\"p\">)</span> <span class=\"k\">FROM</span> <span class=\"n\">local_table</span> <span class=\"k\">WHERE</span> <span class=\"n\">CounterID</span> <span class=\"o\">=</span> <span class=\"mi\">101500</span> <span class=\"k\">AND</span> <span class=\"n\">UserID</span> <span class=\"k\">GLOBAL</span> <span class=\"k\">IN</span> <span class=\"n\">_data1</span>\n</pre></div>\n\n\n<p>and the temporary table <code>_data1</code> will be sent to every remote server with the query (the name of the temporary table is implementation-defined).</p>\n<p>This is more optimal than using the normal IN. However, keep the following points in mind:</p>\n<ol>\n<li>When creating a temporary table, data is not made unique. To reduce the volume of data transmitted over the network, specify DISTINCT in the subquery. (You don't need to do this for a normal IN.)</li>\n<li>The temporary table will be sent to all the remote servers. Transmission does not account for network topology. For example, if 10 remote servers reside in a datacenter that is very remote in relation to the requestor server, the data will be sent 10 times over the channel to the remote datacenter. Try to avoid large data sets when using GLOBAL IN.</li>\n<li>When transmitting data to remote servers, restrictions on network bandwidth are not configurable. You might overload the network.</li>\n<li>Try to distribute data across servers so that you don't need to use GLOBAL IN on a regular basis.</li>\n<li>If you need to use GLOBAL IN often, plan the location of the ClickHouse cluster so that a single group of replicas resides in no more than one data center with a fast network between them, so that a query can be processed entirely within a single data center.</li>\n</ol>\n<p>It also makes sense to specify a local table in the <code>GLOBAL IN</code> clause, in case this local table is only available on the requestor server and you want to use data from it on remote servers.</p>\n<h4 id=\"extreme-values\">Extreme Values<a class=\"headerlink\" href=\"#extreme-values\" title=\"Permanent link\">&para;</a></h4>\n<p>In addition to results, you can also get minimum and maximum values for the results columns. To do this, set the <strong>extremes</strong> setting to 1. Minimums and maximums are calculated for numeric types, dates, and dates with times. For other columns, the default values are output.</p>\n<p>An extra two rows are calculated \u2013 the minimums and maximums, respectively. These extra two rows are output in JSON*, TabSeparated*, and Pretty* formats, separate from the other rows. They are not output for other formats.</p>\n<p>In JSON* formats, the extreme values are output in a separate 'extremes' field. In TabSeparated* formats, the row comes after the main result, and after 'totals' if present. It is preceded by an empty row (after the other data). In Pretty* formats, the row is output as a separate table after the main result, and after 'totals' if present.</p>\n<p>Extreme values are calculated for rows that have passed through LIMIT. However, when using 'LIMIT offset, size', the rows before 'offset' are included in 'extremes'. In stream requests, the result may also include a small number of rows that passed through LIMIT.</p>\n<h4 id=\"notes\">Notes<a class=\"headerlink\" href=\"#notes\" title=\"Permanent link\">&para;</a></h4>\n<p>The <code>GROUP BY</code> and <code>ORDER BY</code> clauses do not support positional arguments. This contradicts MySQL, but conforms to standard SQL.\nFor example, <code>GROUP BY 1, 2</code> will be interpreted as grouping by constants (i.e. aggregation of all rows into one).</p>\n<p>You can use synonyms (<code>AS</code> aliases) in any part of a query.</p>\n<p>You can put an asterisk in any part of a query instead of an expression. When the query is analyzed, the asterisk is expanded to a list of all table columns (excluding the <code>MATERIALIZED</code> and <code>ALIAS</code> columns). There are only a few cases when using an asterisk is justified:</p>\n<ul>\n<li>When creating a table dump.</li>\n<li>For tables containing just a few columns, such as system tables.</li>\n<li>For getting information about what columns are in a table. In this case, set <code>LIMIT 1</code>. But it is better to use the <code>DESC TABLE</code> query.</li>\n<li>When there is strong filtration on a small number of columns using <code>PREWHERE</code>.</li>\n<li>In subqueries (since columns that aren't needed for the external query are excluded from subqueries).</li>\n</ul>\n<p>In all other cases, we don't recommend using the asterisk, since it only gives you the drawbacks of a columnar DBMS instead of the advantages. In other words using the asterisk is not recommended.</p>\n<p><a name=\"../query_language/insert_into/\"></a>\n<a name=\"../../../../query_language/insert_into/\"></a>\n<a name=\"../../query_language/insert_into/\"></a>\n<a name=\"../../../query_language/insert_into/\"></a>\n<a name=\"insert_into/\"></a>\n<a name=\"../../../../../query_language/insert_into/\"></a>\n<a name=\"query_language/insert_into/\"></a></p>\n<h3 id=\"insert\">INSERT<a class=\"headerlink\" href=\"#insert\" title=\"Permanent link\">&para;</a></h3>\n<p>Adding data.</p>\n<p>Basic query format:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">INSERT</span> <span class=\"k\">INTO</span> <span class=\"p\">[</span><span class=\"n\">db</span><span class=\"p\">.]</span><span class=\"k\">table</span> <span class=\"p\">[(</span><span class=\"n\">c1</span><span class=\"p\">,</span> <span class=\"n\">c2</span><span class=\"p\">,</span> <span class=\"n\">c3</span><span class=\"p\">)]</span> <span class=\"k\">VALUES</span> <span class=\"p\">(</span><span class=\"n\">v11</span><span class=\"p\">,</span> <span class=\"n\">v12</span><span class=\"p\">,</span> <span class=\"n\">v13</span><span class=\"p\">),</span> <span class=\"p\">(</span><span class=\"n\">v21</span><span class=\"p\">,</span> <span class=\"n\">v22</span><span class=\"p\">,</span> <span class=\"n\">v23</span><span class=\"p\">),</span> <span class=\"p\">...</span>\n</pre></div>\n\n\n<p>The query can specify a list of columns to insert <code>[(c1, c2, c3)]</code>. In this case, the rest of the columns are filled with:</p>\n<ul>\n<li>The values calculated from the <code>DEFAULT</code> expressions specified in the table definition.</li>\n<li>Zeros and empty strings, if <code>DEFAULT</code> expressions are not defined.</li>\n</ul>\n<p>If <a href=\"#../operations/settings/settings/\">strict_insert_defaults=1</a>, columns that do not have <code>DEFAULT</code> defined must be listed in the query.</p>\n<p>Data can be passed to the INSERT in any <a href=\"#formats\">format</a> supported by ClickHouse. The format must be specified explicitly in the query:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">INSERT</span> <span class=\"k\">INTO</span> <span class=\"p\">[</span><span class=\"n\">db</span><span class=\"p\">.]</span><span class=\"k\">table</span> <span class=\"p\">[(</span><span class=\"n\">c1</span><span class=\"p\">,</span> <span class=\"n\">c2</span><span class=\"p\">,</span> <span class=\"n\">c3</span><span class=\"p\">)]</span> <span class=\"n\">FORMAT</span> <span class=\"n\">format_name</span> <span class=\"n\">data_set</span>\n</pre></div>\n\n\n<p>For example, the following query format is identical to the basic version of INSERT ... VALUES:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">INSERT</span> <span class=\"k\">INTO</span> <span class=\"p\">[</span><span class=\"n\">db</span><span class=\"p\">.]</span><span class=\"k\">table</span> <span class=\"p\">[(</span><span class=\"n\">c1</span><span class=\"p\">,</span> <span class=\"n\">c2</span><span class=\"p\">,</span> <span class=\"n\">c3</span><span class=\"p\">)]</span> <span class=\"n\">FORMAT</span> <span class=\"k\">Values</span> <span class=\"p\">(</span><span class=\"n\">v11</span><span class=\"p\">,</span> <span class=\"n\">v12</span><span class=\"p\">,</span> <span class=\"n\">v13</span><span class=\"p\">),</span> <span class=\"p\">(</span><span class=\"n\">v21</span><span class=\"p\">,</span> <span class=\"n\">v22</span><span class=\"p\">,</span> <span class=\"n\">v23</span><span class=\"p\">),</span> <span class=\"p\">...</span>\n</pre></div>\n\n\n<p>ClickHouse removes all spaces and one line feed (if there is one) before the data. When forming a query, we recommend putting the data on a new line after the query operators (this is important if the data begins with spaces).</p>\n<p>Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">INSERT</span> <span class=\"k\">INTO</span> <span class=\"n\">t</span> <span class=\"n\">FORMAT</span> <span class=\"n\">TabSeparated</span>\n<span class=\"mi\">11</span>  <span class=\"n\">Hello</span><span class=\"p\">,</span> <span class=\"n\">world</span><span class=\"o\">!</span>\n<span class=\"mi\">22</span>  <span class=\"n\">Qwerty</span>\n</pre></div>\n\n\n<p>You can insert data separately from the query by using the command-line client or the HTTP interface. For more information, see the section \"<a href=\"#interfaces\">Interfaces</a>\".</p>\n<h4 id=\"insert_query_insert-select\">Inserting The Results of <code>SELECT</code><a class=\"headerlink\" href=\"#insert_query_insert-select\" title=\"Permanent link\">&para;</a></h4>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">INSERT</span> <span class=\"k\">INTO</span> <span class=\"p\">[</span><span class=\"n\">db</span><span class=\"p\">.]</span><span class=\"k\">table</span> <span class=\"p\">[(</span><span class=\"n\">c1</span><span class=\"p\">,</span> <span class=\"n\">c2</span><span class=\"p\">,</span> <span class=\"n\">c3</span><span class=\"p\">)]</span> <span class=\"k\">SELECT</span> <span class=\"p\">...</span>\n</pre></div>\n\n\n<p>Columns are mapped according to their position in the SELECT clause. However, their names in the SELECT expression and the table for INSERT may differ. If necessary, type casting is performed.</p>\n<p>None of the data formats except Values allow setting values to expressions such as <code>now()</code>, <code>1 + 2</code>, and so on. The Values format allows limited use of expressions, but this is not recommended, because in this case inefficient code is used for their execution.</p>\n<p>Other queries for modifying data parts are not supported: <code>UPDATE</code>, <code>DELETE</code>, <code>REPLACE</code>, <code>MERGE</code>, <code>UPSERT</code>, <code>INSERT UPDATE</code>.\nHowever, you can delete old data using <code>ALTER TABLE ... DROP PARTITION</code>.</p>\n<h4 id=\"performance-considerations\">Performance Considerations<a class=\"headerlink\" href=\"#performance-considerations\" title=\"Permanent link\">&para;</a></h4>\n<p><code>INSERT</code> sorts the input data by primary key and splits them into partitions by month. If you insert data for mixed months, it can significantly reduce the performance of the <code>INSERT</code> query. To avoid this:</p>\n<ul>\n<li>Add data in fairly large batches, such as 100,000 rows at a time.</li>\n<li>Group data by month before uploading it to ClickHouse.</li>\n</ul>\n<p>Performance will not decrease if:</p>\n<ul>\n<li>Data is added in real time.</li>\n<li>You upload data that is usually sorted by time.</li>\n</ul>\n<p><a name=\"../query_language/create/\"></a>\n<a name=\"../../../../../query_language/create/\"></a>\n<a name=\"create/\"></a>\n<a name=\"../../query_language/create/\"></a>\n<a name=\"../../../query_language/create/\"></a>\n<a name=\"../../../../query_language/create/\"></a>\n<a name=\"query_language/create/\"></a></p>\n<h3 id=\"create-database\">CREATE DATABASE<a class=\"headerlink\" href=\"#create-database\" title=\"Permanent link\">&para;</a></h3>\n<p>Creating db_name databases</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span> <span class=\"k\">DATABASE</span> <span class=\"p\">[</span><span class=\"k\">IF</span> <span class=\"k\">NOT</span> <span class=\"k\">EXISTS</span><span class=\"p\">]</span> <span class=\"n\">db_name</span>\n</pre></div>\n\n\n<p><code>A database</code> is just a directory for tables.\nIf <code>IF NOT EXISTS</code> is included, the query won't return an error if the database already exists.</p>\n<h3 id=\"create-table-query\">CREATE TABLE<a class=\"headerlink\" href=\"#create-table-query\" title=\"Permanent link\">&para;</a></h3>\n<p>The <code>CREATE TABLE</code> query can have several forms.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"p\">[</span><span class=\"k\">IF</span> <span class=\"k\">NOT</span> <span class=\"k\">EXISTS</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">db</span><span class=\"p\">.]</span><span class=\"k\">table_name</span> <span class=\"p\">[</span><span class=\"k\">ON</span> <span class=\"k\">CLUSTER</span> <span class=\"k\">cluster</span><span class=\"p\">]</span>\n<span class=\"p\">(</span>\n    <span class=\"n\">name1</span> <span class=\"p\">[</span><span class=\"n\">type1</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"k\">DEFAULT</span><span class=\"o\">|</span><span class=\"n\">MATERIALIZED</span><span class=\"o\">|</span><span class=\"k\">ALIAS</span> <span class=\"n\">expr1</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">compression_codec</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">TTL</span> <span class=\"n\">expr1</span><span class=\"p\">],</span>\n    <span class=\"n\">name2</span> <span class=\"p\">[</span><span class=\"n\">type2</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"k\">DEFAULT</span><span class=\"o\">|</span><span class=\"n\">MATERIALIZED</span><span class=\"o\">|</span><span class=\"k\">ALIAS</span> <span class=\"n\">expr2</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">compression_codec</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">TTL</span> <span class=\"n\">expr2</span><span class=\"p\">],</span>\n    <span class=\"p\">...</span>\n<span class=\"p\">)</span> <span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">engine</span>\n</pre></div>\n\n\n<p>Creates a table named 'name' in the 'db' database or the current database if 'db' is not set, with the structure specified in brackets and the 'engine' engine.\nThe structure of the table is a list of column descriptions. If indexes are supported by the engine, they are indicated as parameters for the table engine.</p>\n<p>A column description is <code>name type</code> in the simplest case. Example: <code>RegionID UInt32</code>.\nExpressions can also be defined for default values (see below).</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"p\">[</span><span class=\"k\">IF</span> <span class=\"k\">NOT</span> <span class=\"k\">EXISTS</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">db</span><span class=\"p\">.]</span><span class=\"k\">table_name</span> <span class=\"k\">AS</span> <span class=\"p\">[</span><span class=\"n\">db2</span><span class=\"p\">.]</span><span class=\"n\">name2</span> <span class=\"p\">[</span><span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">engine</span><span class=\"p\">]</span>\n</pre></div>\n\n\n<p>Creates a table with the same structure as another table. You can specify a different engine for the table. If the engine is not specified, the same engine will be used as for the <code>db2.name2</code> table.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"p\">[</span><span class=\"k\">IF</span> <span class=\"k\">NOT</span> <span class=\"k\">EXISTS</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">db</span><span class=\"p\">.]</span><span class=\"k\">table_name</span> <span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">engine</span> <span class=\"k\">AS</span> <span class=\"k\">SELECT</span> <span class=\"p\">...</span>\n</pre></div>\n\n\n<p>Creates a table with a structure like the result of the <code>SELECT</code> query, with the 'engine' engine, and fills it with data from SELECT.</p>\n<p>In all cases, if <code>IF NOT EXISTS</code> is specified, the query won't return an error if the table already exists. In this case, the query won't do anything.</p>\n<p>There can be other clauses after the <code>ENGINE</code> clause in the query. See detailed documentation on how to create tables in the descriptions of <a href=\"#table_engines\">table engines</a>.</p>\n<h4 id=\"create-default-values\">Default Values<a class=\"headerlink\" href=\"#create-default-values\" title=\"Permanent link\">&para;</a></h4>\n<p>The column description can specify an expression for a default value, in one of the following ways:<code>DEFAULT expr</code>, <code>MATERIALIZED expr</code>, <code>ALIAS expr</code>.\nExample: <code>URLDomain String DEFAULT domain(URL)</code>.</p>\n<p>If an expression for the default value is not defined, the default values will be set to zeros for numbers, empty strings for strings, empty arrays for arrays, and <code>0000-00-00</code> for dates or <code>0000-00-00 00:00:00</code> for dates with time. NULLs are not supported.</p>\n<p>If the default expression is defined, the column type is optional. If there isn't an explicitly defined type, the default expression type is used. Example: <code>EventDate DEFAULT toDate(EventTime)</code> \u2013 the 'Date' type will be used for the 'EventDate' column.</p>\n<p>If the data type and default expression are defined explicitly, this expression will be cast to the specified type using type casting functions. Example: <code>Hits UInt32 DEFAULT 0</code> means the same thing as <code>Hits UInt32 DEFAULT toUInt32(0)</code>.</p>\n<p>Default expressions may be defined as an arbitrary expression from table constants and columns. When creating and changing the table structure, it checks that expressions don't contain loops. For INSERT, it checks that expressions are resolvable \u2013 that all columns they can be calculated from have been passed.</p>\n<p><code>DEFAULT expr</code></p>\n<p>Normal default value. If the INSERT query doesn't specify the corresponding column, it will be filled in by computing the corresponding expression.</p>\n<p><code>MATERIALIZED expr</code></p>\n<p>Materialized expression. Such a column can't be specified for INSERT, because it is always calculated.\nFor an INSERT without a list of columns, these columns are not considered.\nIn addition, this column is not substituted when using an asterisk in a SELECT query. This is to preserve the invariant that the dump obtained using <code>SELECT *</code> can be inserted back into the table using INSERT without specifying the list of columns.</p>\n<p><code>ALIAS expr</code></p>\n<p>Synonym. Such a column isn't stored in the table at all.\nIts values can't be inserted in a table, and it is not substituted when using an asterisk in a SELECT query.\nIt can be used in SELECTs if the alias is expanded during query parsing.</p>\n<p>When using the ALTER query to add new columns, old data for these columns is not written. Instead, when reading old data that does not have values for the new columns, expressions are computed on the fly by default. However, if running the expressions requires different columns that are not indicated in the query, these columns will additionally be read, but only for the blocks of data that need it.</p>\n<p>If you add a new column to a table but later change its default expression, the values used for old data will change (for data where values were not stored on the disk). Note that when running background merges, data for columns that are missing in one of the merging parts is written to the merged part.</p>\n<p>It is not possible to set default values for elements in nested data structures.</p>\n<h4 id=\"ttl-expression\">TTL expression<a class=\"headerlink\" href=\"#ttl-expression\" title=\"Permanent link\">&para;</a></h4>\n<p>Can be specified only for MergeTree-family tables. An expression for setting storage time for values. It must depends on <code>Date</code> or <code>DateTime</code> column and has one <code>Date</code> or <code>DateTime</code> column as a result. Example:\n    <code>TTL date + INTERVAL 1 DAY</code></p>\n<p>You are not allowed to set TTL for key columns. For more details, see <a href=\"#../operations/table_engines/mergetree/\">TTL for columns and tables</a></p>\n<h3 id=\"column-compression-codecs\">Column Compression Codecs<a class=\"headerlink\" href=\"#column-compression-codecs\" title=\"Permanent link\">&para;</a></h3>\n<p>Besides default data compression, defined in <a href=\"#compression\">server settings</a>, per-column specification is also available.</p>\n<p>Supported compression algorithms:</p>\n<ul>\n<li><code>NONE</code> - no compression for data applied</li>\n<li><code>LZ4</code></li>\n<li><code>LZ4HC(level)</code> - (level) - LZ4_HC compression algorithm with defined level.\nPossible <code>level</code> range: [3, 12]. Default value: 9. Greater values stands for better compression and higher CPU usage. Recommended value range: [4,9].</li>\n<li><code>ZSTD(level)</code> - ZSTD compression algorithm with defined <code>level</code>. Possible <code>level</code> value range: [1, 22]. Default value: 1.\nGreater values stands for better compression and higher CPU usage.</li>\n<li><code>Delta(delta_bytes)</code> - compression approach when raw values are replace with difference of two neighbour values. Up to <code>delta_bytes</code> are used for storing delta value.\nPossible <code>delta_bytes</code> values: 1, 2, 4, 8. Default value for delta bytes is <code>sizeof(type)</code>, if it is equals to 1, 2, 4, 8 and equals to 1 otherwise.</li>\n</ul>\n<p>Syntax example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">CREATE TABLE codec_example</span>\n<span class=\"err\">(</span>\n<span class=\"err\">    dt Date CODEC(ZSTD), /* \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0443\u0440\u043e\u0432\u0435\u043d\u044c \u0441\u0436\u0430\u0442\u0438\u044f \u043f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e */</span>\n<span class=\"err\">    ts DateTime CODEC(LZ4HC),</span>\n<span class=\"err\">    float_value Float32 CODEC(NONE),</span>\n<span class=\"err\">    double_value Float64 CODEC(LZ4HC(9))</span>\n<span class=\"err\">)</span>\n<span class=\"err\">ENGINE = MergeTree</span>\n<span class=\"err\">PARTITION BY tuple()</span>\n<span class=\"err\">ORDER BY dt</span>\n</pre></div>\n\n\n<p>Codecs can be combined in a pipeline. Default table codec is not included into pipeline (if it should be applied to a column, you have to specify it explicitly in pipeline). Example below shows an optimization approach for storing timeseries metrics.\nUsually, values for particular metric, stored in <code>path</code> does not differ significantly from point to point. Using delta-encoding allows to reduce disk space usage significantly.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">CREATE TABLE timeseries_example</span>\n<span class=\"err\">(</span>\n<span class=\"err\">    dt Date,</span>\n<span class=\"err\">    ts DateTime,</span>\n<span class=\"err\">    path String,</span>\n<span class=\"err\">    value Float32 CODEC(Delta, ZSTD)</span>\n<span class=\"err\">)</span>\n<span class=\"err\">ENGINE = MergeTree</span>\n<span class=\"err\">PARTITION BY dt</span>\n<span class=\"err\">ORDER BY (path, ts)</span>\n</pre></div>\n\n\n<h3 id=\"temporary-tables\">Temporary Tables<a class=\"headerlink\" href=\"#temporary-tables\" title=\"Permanent link\">&para;</a></h3>\n<p>ClickHouse supports temporary tables which have the following characteristics:</p>\n<ul>\n<li>Temporary tables disappear when the session ends, including if the connection is lost.</li>\n<li>A temporary table use the Memory engine only.</li>\n<li>The DB can't be specified for a temporary table. It is created outside of databases.</li>\n<li>If a temporary table has the same name as another one and a query specifies the table name without specifying the DB, the temporary table will be used.</li>\n<li>For distributed query processing, temporary tables used in a query are passed to remote servers.</li>\n</ul>\n<p>To create a temporary table, use the following syntax:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span> <span class=\"k\">TEMPORARY</span> <span class=\"k\">TABLE</span> <span class=\"p\">[</span><span class=\"k\">IF</span> <span class=\"k\">NOT</span> <span class=\"k\">EXISTS</span><span class=\"p\">]</span> <span class=\"k\">table_name</span> <span class=\"p\">[</span><span class=\"k\">ON</span> <span class=\"k\">CLUSTER</span> <span class=\"k\">cluster</span><span class=\"p\">]</span>\n<span class=\"p\">(</span>\n    <span class=\"n\">name1</span> <span class=\"p\">[</span><span class=\"n\">type1</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"k\">DEFAULT</span><span class=\"o\">|</span><span class=\"n\">MATERIALIZED</span><span class=\"o\">|</span><span class=\"k\">ALIAS</span> <span class=\"n\">expr1</span><span class=\"p\">],</span>\n    <span class=\"n\">name2</span> <span class=\"p\">[</span><span class=\"n\">type2</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"k\">DEFAULT</span><span class=\"o\">|</span><span class=\"n\">MATERIALIZED</span><span class=\"o\">|</span><span class=\"k\">ALIAS</span> <span class=\"n\">expr2</span><span class=\"p\">],</span>\n    <span class=\"p\">...</span>\n<span class=\"p\">)</span>\n</pre></div>\n\n\n<p>In most cases, temporary tables are not created manually, but when using external data for a query, or for distributed <code>(GLOBAL) IN</code>. For more information, see the appropriate sections</p>\n<h3 id=\"distributed-ddl-queries-on-cluster-clause\">Distributed DDL queries (ON CLUSTER clause)<a class=\"headerlink\" href=\"#distributed-ddl-queries-on-cluster-clause\" title=\"Permanent link\">&para;</a></h3>\n<p>The <code>CREATE</code>, <code>DROP</code>, <code>ALTER</code>, and <code>RENAME</code> queries support distributed execution on a cluster.\nFor example, the following query creates the <code>all_hits</code> <code>Distributed</code> table on each host in <code>cluster</code>:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"k\">IF</span> <span class=\"k\">NOT</span> <span class=\"k\">EXISTS</span> <span class=\"n\">all_hits</span> <span class=\"k\">ON</span> <span class=\"k\">CLUSTER</span> <span class=\"k\">cluster</span> <span class=\"p\">(</span><span class=\"n\">p</span> <span class=\"nb\">Date</span><span class=\"p\">,</span> <span class=\"n\">i</span> <span class=\"n\">Int32</span><span class=\"p\">)</span> <span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">Distributed</span><span class=\"p\">(</span><span class=\"k\">cluster</span><span class=\"p\">,</span> <span class=\"k\">default</span><span class=\"p\">,</span> <span class=\"n\">hits</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>In order to run these queries correctly, each host must have the same cluster definition (to simplify syncing configs, you can use substitutions from ZooKeeper). They must also connect to the ZooKeeper servers.\nThe local version of the query will eventually be implemented on each host in the cluster, even if some hosts are currently not available. The order for executing queries within a single host is guaranteed.\n<code>ALTER</code> queries are not yet supported for replicated tables.</p>\n<h3 id=\"create-view\">CREATE VIEW<a class=\"headerlink\" href=\"#create-view\" title=\"Permanent link\">&para;</a></h3>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span> <span class=\"p\">[</span><span class=\"n\">MATERIALIZED</span><span class=\"p\">]</span> <span class=\"k\">VIEW</span> <span class=\"p\">[</span><span class=\"k\">IF</span> <span class=\"k\">NOT</span> <span class=\"k\">EXISTS</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">db</span><span class=\"p\">.]</span><span class=\"k\">table_name</span> <span class=\"p\">[</span><span class=\"k\">TO</span><span class=\"p\">[</span><span class=\"n\">db</span><span class=\"p\">.]</span><span class=\"n\">name</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">engine</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">POPULATE</span><span class=\"p\">]</span> <span class=\"k\">AS</span> <span class=\"k\">SELECT</span> <span class=\"p\">...</span>\n</pre></div>\n\n\n<p>Creates a view. There are two types of views: normal and MATERIALIZED.</p>\n<p>Normal views don't store any data, but just perform a read from another table. In other words, a normal view is nothing more than a saved query. When reading from a view, this saved query is used as a subquery in the FROM clause.</p>\n<p>As an example, assume you've created a view:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span> <span class=\"k\">VIEW</span> <span class=\"k\">view</span> <span class=\"k\">AS</span> <span class=\"k\">SELECT</span> <span class=\"p\">...</span>\n</pre></div>\n\n\n<p>and written a query:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">b</span><span class=\"p\">,</span> <span class=\"k\">c</span> <span class=\"k\">FROM</span> <span class=\"k\">view</span>\n</pre></div>\n\n\n<p>This query is fully equivalent to using the subquery:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">b</span><span class=\"p\">,</span> <span class=\"k\">c</span> <span class=\"k\">FROM</span> <span class=\"p\">(</span><span class=\"k\">SELECT</span> <span class=\"p\">...)</span>\n</pre></div>\n\n\n<p>Materialized views store data transformed by the corresponding SELECT query.</p>\n<p>When creating a materialized view, you must specify ENGINE \u2013 the table engine for storing data.</p>\n<p>A materialized view is arranged as follows: when inserting data to the table specified in SELECT, part of the inserted data is converted by this SELECT query, and the result is inserted in the view.</p>\n<p>If you specify POPULATE, the existing table data is inserted in the view when creating it, as if making a <code>CREATE TABLE ... AS SELECT ...</code> . Otherwise, the query contains only the data inserted in the table after creating the view. We don't recommend using POPULATE, since data inserted in the table during the view creation will not be inserted in it.</p>\n<p>A <code>SELECT</code> query can contain <code>DISTINCT</code>, <code>GROUP BY</code>, <code>ORDER BY</code>, <code>LIMIT</code>... Note that the corresponding conversions are performed independently on each block of inserted data. For example, if <code>GROUP BY</code> is set, data is aggregated during insertion, but only within a single packet of inserted data. The data won't be further aggregated. The exception is when using an ENGINE that independently performs data aggregation, such as <code>SummingMergeTree</code>.</p>\n<p>The execution of <code>ALTER</code> queries on materialized views has not been fully developed, so they might be inconvenient. If the materialized view uses the construction <code>TO [db.]name</code>, you can <code>DETACH</code> the view, run <code>ALTER</code> for the target table, and then <code>ATTACH</code> the previously detached (<code>DETACH</code>) view.</p>\n<p>Views look the same as normal tables. For example, they are listed in the result of the <code>SHOW TABLES</code> query.</p>\n<p>There isn't a separate query for deleting views. To delete a view, use <code>DROP TABLE</code>.</p>\n<p><a name=\"alter/\"></a>\n<a name=\"../../../../query_language/alter/\"></a>\n<a name=\"query_language/alter/\"></a>\n<a name=\"../../../query_language/alter/\"></a>\n<a name=\"../query_language/alter/\"></a>\n<a name=\"../../query_language/alter/\"></a>\n<a name=\"../../../../../query_language/alter/\"></a></p>\n<h3 id=\"query_language_queries_alter\">ALTER<a class=\"headerlink\" href=\"#query_language_queries_alter\" title=\"Permanent link\">&para;</a></h3>\n<p>The <code>ALTER</code> query is only supported for <code>*MergeTree</code> tables, as well as <code>Merge</code>and<code>Distributed</code>. The query has several variations.</p>\n<h4 id=\"column-manipulations\">Column Manipulations<a class=\"headerlink\" href=\"#column-manipulations\" title=\"Permanent link\">&para;</a></h4>\n<p>Changing the table structure.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">ALTER</span> <span class=\"k\">TABLE</span> <span class=\"p\">[</span><span class=\"n\">db</span><span class=\"p\">].</span><span class=\"n\">name</span> <span class=\"p\">[</span><span class=\"k\">ON</span> <span class=\"k\">CLUSTER</span> <span class=\"k\">cluster</span><span class=\"p\">]</span> <span class=\"k\">ADD</span><span class=\"o\">|</span><span class=\"k\">DROP</span><span class=\"o\">|</span><span class=\"n\">CLEAR</span><span class=\"o\">|</span><span class=\"k\">COMMENT</span><span class=\"o\">|</span><span class=\"k\">MODIFY</span> <span class=\"k\">COLUMN</span> <span class=\"p\">...</span>\n</pre></div>\n\n\n<p>In the query, specify a list of one or more comma-separated actions.\nEach action is an operation on a column.</p>\n<p>The following actions are supported:</p>\n<ul>\n<li><a href=\"#alter_add-column\">ADD COLUMN</a> \u2014 Adds a new column to the table.</li>\n<li><a href=\"#alter_drop-column\">DROP COLUMN</a> \u2014 Deletes the column.</li>\n<li><a href=\"#alter_clear-column\">CLEAR COLUMN</a> \u2014 Resets column values.</li>\n<li><a href=\"#alter_comment-column\">COMMENT COLUMN</a> \u2014 Adds a text comment to the column.</li>\n<li><a href=\"#alter_modify-column\">MODIFY COLUMN</a> \u2014 Changes column's type and/or default expression.</li>\n</ul>\n<p>Detailed description of these actions is shown below.</p>\n<h5 id=\"alter_add-column\">ADD COLUMN<a class=\"headerlink\" href=\"#alter_add-column\" title=\"Permanent link\">&para;</a></h5>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">ADD</span> <span class=\"k\">COLUMN</span> <span class=\"p\">[</span><span class=\"k\">IF</span> <span class=\"k\">NOT</span> <span class=\"k\">EXISTS</span><span class=\"p\">]</span> <span class=\"n\">name</span> <span class=\"p\">[</span><span class=\"k\">type</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">default_expr</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"k\">AFTER</span> <span class=\"n\">name_after</span><span class=\"p\">]</span>\n</pre></div>\n\n\n<p>Adds a new column to the table with the specified <code>name</code>, <code>type</code>, and <code>default_expr</code> (see the section <a href=\"#create-default-values\">Default expressions</a>). </p>\n<p>If the <code>IF NOT EXISTS</code> clause is included, the query won't return an error if the column already exists. If you specify <code>AFTER name_after</code> (the name of another column), the column is added after the specified one in the list of table columns. Otherwise, the column is added to the end of the table. Note that there is no way to add a column to the beginning of a table. For a chain of actions, <code>name_after</code> can be the name of a column that is added in one of the previous actions.</p>\n<p>Adding a column just changes the table structure, without performing any actions with data. The data doesn't appear on the disk after <code>ALTER</code>. If the data is missing for a column when reading from the table, it is filled in with default values (by performing the default expression if there is one, or using zeros or empty strings). The column appears on the disk after merging data parts (see <a href=\"#../operations/table_engines/mergetree/\">MergeTree</a>).</p>\n<p>This approach allows us to complete the <code>ALTER</code> query instantly, without increasing the volume of old data.</p>\n<p>Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">ALTER</span> <span class=\"k\">TABLE</span> <span class=\"n\">visits</span> <span class=\"k\">ADD</span> <span class=\"k\">COLUMN</span> <span class=\"n\">browser</span> <span class=\"n\">String</span> <span class=\"k\">AFTER</span> <span class=\"n\">user_id</span>\n</pre></div>\n\n\n<h5 id=\"alter_drop-column\">DROP COLUMN<a class=\"headerlink\" href=\"#alter_drop-column\" title=\"Permanent link\">&para;</a></h5>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">DROP</span> <span class=\"k\">COLUMN</span> <span class=\"p\">[</span><span class=\"k\">IF</span> <span class=\"k\">EXISTS</span><span class=\"p\">]</span> <span class=\"n\">name</span>\n</pre></div>\n\n\n<p>Deletes the column with the name <code>name</code>. If the <code>IF EXISTS</code> clause is specified, the query won't return an error if the column doesn't exist.</p>\n<p>Deletes data from the file system. Since this deletes entire files, the query is completed almost instantly.</p>\n<p>Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">ALTER</span> <span class=\"k\">TABLE</span> <span class=\"n\">visits</span> <span class=\"k\">DROP</span> <span class=\"k\">COLUMN</span> <span class=\"n\">browser</span>\n</pre></div>\n\n\n<h5 id=\"alter_clear-column\">CLEAR COLUMN<a class=\"headerlink\" href=\"#alter_clear-column\" title=\"Permanent link\">&para;</a></h5>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">CLEAR</span> <span class=\"k\">COLUMN</span> <span class=\"p\">[</span><span class=\"k\">IF</span> <span class=\"k\">EXISTS</span><span class=\"p\">]</span> <span class=\"n\">name</span> <span class=\"k\">IN</span> <span class=\"n\">PARTITION</span> <span class=\"n\">partition_name</span>\n</pre></div>\n\n\n<p>Resets all data in a column for a specified partition. Read more about setting the partition name in the section <a href=\"#alter-how-to-specify-part-expr\">How to specify the partition expression</a>.</p>\n<p>If the <code>IF EXISTS</code> clause is specified, the query won't return an error if the column doesn't exist.</p>\n<p>Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">ALTER</span> <span class=\"k\">TABLE</span> <span class=\"n\">visits</span> <span class=\"n\">CLEAR</span> <span class=\"k\">COLUMN</span> <span class=\"n\">browser</span> <span class=\"k\">IN</span> <span class=\"n\">PARTITION</span> <span class=\"n\">tuple</span><span class=\"p\">()</span>\n</pre></div>\n\n\n<h5 id=\"alter_comment-column\">COMMENT COLUMN<a class=\"headerlink\" href=\"#alter_comment-column\" title=\"Permanent link\">&para;</a></h5>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">COMMENT</span> <span class=\"k\">COLUMN</span> <span class=\"p\">[</span><span class=\"k\">IF</span> <span class=\"k\">EXISTS</span><span class=\"p\">]</span> <span class=\"n\">name</span> <span class=\"s1\">&#39;comment&#39;</span>\n</pre></div>\n\n\n<p>Adds a comment to the column. If the <code>IF EXISTS</code> clause is specified, the query won't return an error if the column doesn't exist.</p>\n<p>Each column can have one comment. If a comment already exists for the column, a new comment overwrites the previous comment.</p>\n<p>Comments are stored in the <code>comment_expression</code> column returned by the <a href=\"#misc-describe-table\">DESCRIBE TABLE</a> query. </p>\n<p>Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">ALTER</span> <span class=\"k\">TABLE</span> <span class=\"n\">visits</span> <span class=\"k\">COMMENT</span> <span class=\"k\">COLUMN</span> <span class=\"n\">browser</span> <span class=\"s1\">&#39;The table shows the browser used for accessing the site.&#39;</span>\n</pre></div>\n\n\n<h5 id=\"alter_modify-column\">MODIFY COLUMN<a class=\"headerlink\" href=\"#alter_modify-column\" title=\"Permanent link\">&para;</a></h5>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">MODIFY</span> <span class=\"k\">COLUMN</span> <span class=\"p\">[</span><span class=\"k\">IF</span> <span class=\"k\">EXISTS</span><span class=\"p\">]</span> <span class=\"n\">name</span> <span class=\"p\">[</span><span class=\"k\">type</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">default_expr</span><span class=\"p\">]</span>\n</pre></div>\n\n\n<p>This query changes the <code>name</code> column's type to <code>type</code> and/or the default expression to <code>default_expr</code>. If the <code>IF EXISTS</code> clause is specified, the query won't return an error if the column doesn't exist.</p>\n<p>When changing the type, values are converted as if the <a href=\"#functions/type_conversion_functions/\">toType</a> functions were applied to them. If only the default expression is changed, the query doesn't do anything complex, and is completed almost instantly.</p>\n<p>Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">ALTER</span> <span class=\"k\">TABLE</span> <span class=\"n\">visits</span> <span class=\"k\">MODIFY</span> <span class=\"k\">COLUMN</span> <span class=\"n\">browser</span> <span class=\"nb\">Array</span><span class=\"p\">(</span><span class=\"n\">String</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>Changing the column type is the only complex action \u2013 it changes the contents of files with data. For large tables, this may take a long time.</p>\n<p>There are several processing stages:</p>\n<ul>\n<li>Preparing temporary (new) files with modified data.</li>\n<li>Renaming old files.</li>\n<li>Renaming the temporary (new) files to the old names.</li>\n<li>Deleting the old files.</li>\n</ul>\n<p>Only the first stage takes time. If there is a failure at this stage, the data is not changed.\nIf there is a failure during one of the successive stages, data can be restored manually. The exception is if the old files were deleted from the file system but the data for the new files did not get written to the disk and was lost.</p>\n<p>The <code>ALTER</code> query for changing columns is replicated. The instructions are saved in ZooKeeper, then each replica applies them. All <code>ALTER</code> queries are run in the same order. The query waits for the appropriate actions to be completed on the other replicas. However, a query to change columns in a replicated table can be interrupted, and all actions will be performed asynchronously.</p>\n<h5 id=\"alter-query-limitations\">ALTER Query Limitations<a class=\"headerlink\" href=\"#alter-query-limitations\" title=\"Permanent link\">&para;</a></h5>\n<p>The <code>ALTER</code> query lets you create and delete separate elements (columns) in nested data structures, but not whole nested data structures. To add a nested data structure, you can add columns with a name like <code>name.nested_name</code> and the type <code>Array(T)</code>. A nested data structure is equivalent to multiple array columns with a name that has the same prefix before the dot.</p>\n<p>There is no support for deleting columns in the primary key or the sampling key (columns that are used in the <code>ENGINE</code> expression). Changing the type for columns that are included in the primary key is only possible if this change does not cause the data to be modified (for example, it is allowed to add values to an Enum or to change a type from <code>DateTime</code> to <code>UInt32</code>).</p>\n<p>If the <code>ALTER</code> query is not sufficient to make the table changes you need, you can create a new table, copy the data to it using the <a href=\"#insert_query_insert-select\">INSERT SELECT</a> query, then switch the tables using the <a href=\"#misc_operations-rename\">RENAME</a> query and delete the old table. You can use the <a href=\"#../operations/utils/clickhouse-copier/\">clickhouse-copier</a> as an alternative to the <code>INSERT SELECT</code> query. </p>\n<p>The <code>ALTER</code> query blocks all reads and writes for the table. In other words, if a long <code>SELECT</code> is running at the time of the <code>ALTER</code> query, the <code>ALTER</code> query will wait for it to complete. At the same time, all new queries to the same table will wait while this <code>ALTER</code> is running.</p>\n<p>For tables that don't store data themselves (such as <code>Merge</code> and <code>Distributed</code>), <code>ALTER</code> just changes the table structure, and does not change the structure of subordinate tables. For example, when running ALTER for a <code>Distributed</code> table, you will also need to run <code>ALTER</code> for the tables on all remote servers.</p>\n<h4 id=\"manipulations-with-key-expressions\">Manipulations With Key Expressions<a class=\"headerlink\" href=\"#manipulations-with-key-expressions\" title=\"Permanent link\">&para;</a></h4>\n<p>The following command is supported:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">MODIFY</span> <span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"n\">new_expression</span>\n</pre></div>\n\n\n<p>It only works for tables in the <a href=\"#../operations/table_engines/mergetree/\"><code>MergeTree</code></a> family (including\n<a href=\"#../operations/table_engines/replication/\">replicated</a> tables). The command changes the\n<a href=\"#../operations/table_engines/mergetree/\">sorting key</a> of the table\nto <code>new_expression</code> (an expression or a tuple of expressions). Primary key remains the same.</p>\n<p>The command is lightweight in a sense that it only changes metadata. To keep the property that data part\nrows are ordered by the sorting key expression you cannot add expressions containing existing columns\nto the sorting key (only columns added by the <code>ADD COLUMN</code> command in the same <code>ALTER</code> query).</p>\n<h4 id=\"manipulations-with-data-skipping-indices\">Manipulations With Data Skipping Indices<a class=\"headerlink\" href=\"#manipulations-with-data-skipping-indices\" title=\"Permanent link\">&para;</a></h4>\n<p>It only works for tables in the <a href=\"#../operations/table_engines/mergetree/\"><code>*MergeTree</code></a> family (including\n<a href=\"#../operations/table_engines/replication/\">replicated</a> tables). The following operations\nare available:</p>\n<ul>\n<li>\n<p><code>ALTER TABLE [db].name ADD INDEX name expression TYPE type GRANULARITY value AFTER name [AFTER name2]</code> - Adds index description to tables metadata.</p>\n</li>\n<li>\n<p><code>ALTER TABLE [db].name DROP INDEX name</code> - Removes index description from tables metadata and deletes index files from disk.</p>\n</li>\n</ul>\n<p>These commands are lightweight in a sense that they only change metadata or remove files.\nAlso, they are replicated (syncing indices metadata through ZooKeeper).</p>\n<h4 id=\"alter_manipulations-with-partitions\">Manipulations With Partitions and Parts<a class=\"headerlink\" href=\"#alter_manipulations-with-partitions\" title=\"Permanent link\">&para;</a></h4>\n<p>The following operations with <a href=\"#../operations/table_engines/custom_partitioning_key/\">partitions</a> are available:</p>\n<ul>\n<li><a href=\"#alter_detach-partition\">DETACH PARTITION</a> \u2013 Moves a partition to the <code>detached</code> directory and forget it.</li>\n<li><a href=\"#alter_drop-partition\">DROP PARTITION</a> \u2013 Deletes a partition.</li>\n<li><a href=\"#alter_attach-partition\">ATTACH PART|PARTITION</a> \u2013 Adds a part or partition from the <code>detached</code> directory to the table.</li>\n<li><a href=\"#alter_replace-partition\">REPLACE PARTITION</a> - Copies the data partition from one table to another.</li>\n<li><a href=\"#alter_clear-column-partition\">CLEAR COLUMN IN PARTITION</a> - Resets the value of a specified column in a partition.</li>\n<li><a href=\"#alter_freeze-partition\">FREEZE PARTITION</a> \u2013 Creates a backup of a partition.</li>\n<li><a href=\"#alter_fetch-partition\">FETCH PARTITION</a> \u2013 Downloads a partition from another server.</li>\n</ul>\n<h5 id=\"alter_detach-partition\">DETACH PARTITION<a class=\"headerlink\" href=\"#alter_detach-partition\" title=\"Permanent link\">&para;</a></h5>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">ALTER</span> <span class=\"k\">TABLE</span> <span class=\"k\">table_name</span> <span class=\"n\">DETACH</span> <span class=\"n\">PARTITION</span> <span class=\"n\">partition_expr</span>\n</pre></div>\n\n\n<p>Moves all data for the specified partition to the <code>detached</code> directory. The server forgets about the detached data partition as if it does not exist. The server will not know about this data until you make the <a href=\"#alter_attach-partition\">ATTACH</a> query.</p>\n<p>Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">ALTER</span> <span class=\"k\">TABLE</span> <span class=\"n\">visits</span> <span class=\"n\">DETACH</span> <span class=\"n\">PARTITION</span> <span class=\"mi\">201901</span>\n</pre></div>\n\n\n<p>Read about setting the partition expression in a section <a href=\"#alter-how-to-specify-part-expr\">How to specify the partition expression</a>.</p>\n<p>After the query is executed, you can do whatever you want with the data in the <code>detached</code> directory \u2014 delete it from the file system, or just leave it.</p>\n<p>This query is replicated \u2013 it moves the data to the <code>detached</code> directory on all replicas. Note that you can execute this query only on a leader replica. To find out if a replica is a leader, perform the <code>SELECT</code> query to the <a href=\"#system_tables-replicas\">system.replicas</a> table. Alternatively, it is easier to make a <code>DETACH</code> query on all replicas - all the replicas throw an exception, except the leader replica.</p>\n<h5 id=\"alter_drop-partition\">DROP PARTITION<a class=\"headerlink\" href=\"#alter_drop-partition\" title=\"Permanent link\">&para;</a></h5>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">ALTER</span> <span class=\"k\">TABLE</span> <span class=\"k\">table_name</span> <span class=\"k\">DROP</span> <span class=\"n\">PARTITION</span> <span class=\"n\">partition_expr</span>\n</pre></div>\n\n\n<p>Deletes the specified partition from the table. This query tags the partition as inactive and deletes data completely, approximately in 10 minutes.</p>\n<p>Read about setting the partition expression in a section <a href=\"#alter-how-to-specify-part-expr\">How to specify the partition expression</a>.</p>\n<p>The query is replicated \u2013 it deletes data on all replicas.</p>\n<h5 id=\"alter_attach-partition\">ATTACH PARTITION|PART<a class=\"headerlink\" href=\"#alter_attach-partition\" title=\"Permanent link\">&para;</a></h5>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">ALTER</span> <span class=\"k\">TABLE</span> <span class=\"k\">table_name</span> <span class=\"n\">ATTACH</span> <span class=\"n\">PARTITION</span><span class=\"o\">|</span><span class=\"n\">PART</span> <span class=\"n\">partition_expr</span>\n</pre></div>\n\n\n<p>Adds data to the table from the <code>detached</code> directory. It is possible to add data for an entire partition or for a separate part. Examples:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">ALTER</span> <span class=\"k\">TABLE</span> <span class=\"n\">visits</span> <span class=\"n\">ATTACH</span> <span class=\"n\">PARTITION</span> <span class=\"mi\">201901</span><span class=\"p\">;</span>\n<span class=\"k\">ALTER</span> <span class=\"k\">TABLE</span> <span class=\"n\">visits</span> <span class=\"n\">ATTACH</span> <span class=\"n\">PART</span> <span class=\"mi\">201901</span><span class=\"n\">_2_2_0</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<p>Read more about setting the partition expression in a section <a href=\"#alter-how-to-specify-part-expr\">How to specify the partition expression</a>.</p>\n<p>This query is replicated. Each replica checks whether there is data in the <code>detached</code> directory. If the data is in this directory, the query checks the integrity, verifies that it matches the data on the server that initiated the query. If everything is correct, the query adds data to the replica. If not, it downloads data from the query requestor replica, or from another replica where the data has already been added.</p>\n<p>So you can put data to the <code>detached</code> directory on one replica, and use the <code>ALTER ... ATTACH</code> query to add it to the table on all replicas.</p>\n<h5 id=\"alter_replace-partition\">REPLACE PARTITION<a class=\"headerlink\" href=\"#alter_replace-partition\" title=\"Permanent link\">&para;</a></h5>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">ALTER</span> <span class=\"k\">TABLE</span> <span class=\"n\">table2</span> <span class=\"k\">REPLACE</span> <span class=\"n\">PARTITION</span> <span class=\"n\">partition_expr</span> <span class=\"k\">FROM</span> <span class=\"n\">table1</span>\n</pre></div>\n\n\n<p>This query copies the data partition from the <code>table1</code> to <code>table2</code>. Note that data won't be deleted from <code>table1</code>.</p>\n<p>For the query to run successfully, the following conditions must be met:</p>\n<ul>\n<li>Both tables must have the same structure.</li>\n<li>Both tables must have the same partition key.  </li>\n</ul>\n<h5 id=\"alter_clear-column-partition\">CLEAR COLUMN IN PARTITION<a class=\"headerlink\" href=\"#alter_clear-column-partition\" title=\"Permanent link\">&para;</a></h5>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">ALTER</span> <span class=\"k\">TABLE</span> <span class=\"k\">table_name</span> <span class=\"n\">CLEAR</span> <span class=\"k\">COLUMN</span> <span class=\"k\">column_name</span> <span class=\"k\">IN</span> <span class=\"n\">PARTITION</span> <span class=\"n\">partition_expr</span>\n</pre></div>\n\n\n<p>Resets all values in the specified column in a partition. If the <code>DEFAULT</code> clause was determined when creating a table, this query sets the column value to a specified default value.</p>\n<p>Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">ALTER</span> <span class=\"k\">TABLE</span> <span class=\"n\">visits</span> <span class=\"n\">CLEAR</span> <span class=\"k\">COLUMN</span> <span class=\"n\">hour</span> <span class=\"k\">in</span> <span class=\"n\">PARTITION</span> <span class=\"mi\">201902</span>\n</pre></div>\n\n\n<h5 id=\"alter_freeze-partition\">FREEZE PARTITION<a class=\"headerlink\" href=\"#alter_freeze-partition\" title=\"Permanent link\">&para;</a></h5>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">ALTER</span> <span class=\"k\">TABLE</span> <span class=\"k\">table_name</span> <span class=\"k\">FREEZE</span> <span class=\"p\">[</span><span class=\"n\">PARTITION</span> <span class=\"n\">partition_expr</span><span class=\"p\">]</span>\n</pre></div>\n\n\n<p>This query creates a local backup of a specified partition. If the <code>PARTITION</code> clause is omitted, the query creates the backup of all partitions at once. </p>\n<p>Note that for old-styled tables you can specify the prefix of the partition name (for example, '2019') - then the query creates the backup for all the corresponding partitions. Read about setting the partition expression in a section <a href=\"#alter-how-to-specify-part-expr\">How to specify the partition expression</a>.</p>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n</div>\n<p>The entire backup process is performed without stopping the server.</p>\n<p>At the time of execution, for a data snapshot, the query creates hardlinks to a table data. Hardlinks are placed in the directory <code>/var/lib/clickhouse/shadow/N/...</code>, where:</p>\n<ul>\n<li><code>/var/lib/clickhouse/</code> is the working ClickHouse directory specified in the config.</li>\n<li><code>N</code> is the incremental number of the backup.</li>\n</ul>\n<p>The same structure of directories is created inside the backup as inside <code>/var/lib/clickhouse/</code>. The query performs 'chmod' for all files, forbidding writing into them.</p>\n<p>After creating the backup, you can copy the data from <code>/var/lib/clickhouse/shadow/</code> to the remote server and then delete it from the local server. Note that the <code>ALTER t FREEZE PARTITION</code> query is not replicated. It creates a local backup only on the local server.</p>\n<p>The query creates backup almost instantly (but first it waits for the current queries to the corresponding table to finish running).</p>\n<p><code>ALTER TABLE t FREEZE PARTITION</code> copies only the data, not table metadata. To make a backup of table metadata, copy the file <code>/var/lib/clickhouse/metadata/database/table.sql</code></p>\n<p>To restore data from a backup, do the following:</p>\n<ol>\n<li>Create the table if it does not exist. To view the query, use the .sql file (replace <code>ATTACH</code> in it with <code>CREATE</code>).</li>\n<li>Copy the data from the <code>data/database/table/</code> directory inside the backup to the <code>/var/lib/clickhouse/data/database/table/detached/</code> directory.</li>\n<li>Run <code>ALTER TABLE t ATTACH PARTITION</code> queries to add the data to a table.</li>\n</ol>\n<p>Restoring from a backup doesn't require stopping the server.</p>\n<p>For more information about backups and restoring data, see the <a href=\"#../operations/backup/\">Data Backup</a> section.</p>\n<h5 id=\"alter_fetch-partition\">FETCH PARTITION<a class=\"headerlink\" href=\"#alter_fetch-partition\" title=\"Permanent link\">&para;</a></h5>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">ALTER</span> <span class=\"k\">TABLE</span> <span class=\"k\">table_name</span> <span class=\"k\">FETCH</span> <span class=\"n\">PARTITION</span> <span class=\"n\">partition_expr</span> <span class=\"k\">FROM</span> <span class=\"s1\">&#39;path-in-zookeeper&#39;</span>\n</pre></div>\n\n\n<p>Downloads a partition from another server. This query only works for the replicated tables.</p>\n<p>The query does the following:</p>\n<ol>\n<li>Downloads the partition from the specified shard. In 'path-in-zookeeper' you must specify a path to the shard in ZooKeeper.</li>\n<li>Then the query puts the downloaded data to the <code>detached</code> directory of the <code>table_name</code> table. Use the <a href=\"#alter_attach-partition\">ATTACH PARTITION|PART</a> query to add the data to the table.</li>\n</ol>\n<p>For example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">ALTER</span> <span class=\"k\">TABLE</span> <span class=\"n\">users</span> <span class=\"k\">FETCH</span> <span class=\"n\">PARTITION</span> <span class=\"mi\">201902</span> <span class=\"k\">FROM</span> <span class=\"s1\">&#39;/clickhouse/tables/01-01/visits&#39;</span><span class=\"p\">;</span>\n<span class=\"k\">ALTER</span> <span class=\"k\">TABLE</span> <span class=\"n\">users</span> <span class=\"n\">ATTACH</span> <span class=\"n\">PARTITION</span> <span class=\"mi\">201902</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<p>Note that:</p>\n<ul>\n<li>The <code>ALTER ... FETCH PARTITION</code> query isn't replicated. It places the partition to the <code>detached</code> directory only on the local server. </li>\n<li>The <code>ALTER TABLE ... ATTACH</code> query is replicated. It adds the data to all replicas. The data is added to one of the replicas from the <code>detached</code> directory, and to the others - from neighboring replicas.</li>\n</ul>\n<p>Before downloading, the system checks if the partition exists and the table structure matches. The most appropriate replica is selected automatically from the healthy replicas.</p>\n<p>Although the query is called <code>ALTER TABLE</code>, it does not change the table structure and does not immediately change the data available in the table.</p>\n<h5 id=\"alter-how-to-specify-part-expr\">How To Set Partition Expression<a class=\"headerlink\" href=\"#alter-how-to-specify-part-expr\" title=\"Permanent link\">&para;</a></h5>\n<p>You can specify the partition expression in <code>ALTER ... PARTITION</code> queries in different ways:</p>\n<ul>\n<li>As a value from the <code>partition</code> column of the <code>system.parts</code> table. For example, <code>ALTER TABLE visits DETACH PARTITION 201901</code>.</li>\n<li>As the expression from the table column. Constants and constant expressions are supported. For example, <code>ALTER TABLE visits DETACH PARTITION toYYYYMM(toDate('2019-01-25'))</code>.</li>\n<li>Using the partition ID. Partition ID is a string identifier of the partition (human-readable, if possible) that is used as the names of partitions in the file system and in ZooKeeper. The partition ID must be specified in the <code>PARTITION ID</code> clause, in a single quotes. For example, <code>ALTER TABLE visits DETACH PARTITION ID '201901'</code>.</li>\n<li>In the <a href=\"#alter_attach-partition\">ALTER ATTACH PART</a> query, to specify the name of a part, use a value from the <code>name</code> column of the <code>system.parts</code> table. For example, <code>ALTER TABLE visits ATTACH PART 201901_1_1_0</code>.</li>\n</ul>\n<p>Usage of quotes when specifying the partition depends on the type of partition expression. For example, for the <code>String</code> type, you have to specify its name in quotes (<code>'</code>). For the <code>Date</code> and <code>Int*</code> types no quotes are needed.</p>\n<p>For old-style tables, you can specify the partition either as a number <code>201901</code> or a string <code>'201901'</code>. The syntax for the new-style tables is stricter with types (similar to the parser for the VALUES input format).</p>\n<p>All the rules above are also true for the <a href=\"#misc_operations-optimize\">OPTIMIZE</a> query. If you need to specify the only partition when optimizing a non-partitioned table, set the expression <code>PARTITION tuple()</code>. For example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">OPTIMIZE</span> <span class=\"k\">TABLE</span> <span class=\"n\">table_not_partitioned</span> <span class=\"n\">PARTITION</span> <span class=\"n\">tuple</span><span class=\"p\">()</span> <span class=\"k\">FINAL</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<p>The examples of <code>ALTER ... PARTITION</code> queries are demonstrated in the tests <a href=\"https://github.com/yandex/ClickHouse/blob/master/dbms/tests/queries/0_stateless/00502_custom_partitioning_local.sql\" rel=\"external nofollow\"><code>00502_custom_partitioning_local</code></a> and <a href=\"https://github.com/yandex/ClickHouse/blob/master/dbms/tests/queries/0_stateless/00502_custom_partitioning_replicated_zookeeper.sql\" rel=\"external nofollow\"><code>00502_custom_partitioning_replicated_zookeeper</code></a>.</p>\n<h4 id=\"synchronicity-of-alter-queries\">Synchronicity of ALTER Queries<a class=\"headerlink\" href=\"#synchronicity-of-alter-queries\" title=\"Permanent link\">&para;</a></h4>\n<p>For non-replicatable tables, all <code>ALTER</code> queries are performed synchronously. For replicatable tables, the query just adds instructions for the appropriate actions to <code>ZooKeeper</code>, and the actions themselves are performed as soon as possible. However, the query can wait for these actions to be completed on all the replicas.</p>\n<p>For <code>ALTER ... ATTACH|DETACH|DROP</code> queries, you can use the <code>replication_alter_partitions_sync</code> setting to set up waiting.\nPossible values: <code>0</code> \u2013 do not wait; <code>1</code> \u2013 only wait for own execution (default); <code>2</code> \u2013 wait for all.</p>\n<h4 id=\"alter-mutations\">Mutations<a class=\"headerlink\" href=\"#alter-mutations\" title=\"Permanent link\">&para;</a></h4>\n<p>Mutations are an ALTER query variant that allows changing or deleting rows in a table. In contrast to standard <code>UPDATE</code> and <code>DELETE</code> queries that are intended for point data changes, mutations are intended for heavy operations that change a lot of rows in a table.</p>\n<p>The functionality is in beta stage and is available starting with the 1.1.54388 version. Currently <code>*MergeTree</code> table engines are supported (both replicated and unreplicated).</p>\n<p>Existing tables are ready for mutations as-is (no conversion necessary), but after the first mutation is applied to a table, its metadata format becomes incompatible with previous server versions and falling back to a previous version becomes impossible.</p>\n<p>Currently available commands:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">ALTER</span> <span class=\"k\">TABLE</span> <span class=\"p\">[</span><span class=\"n\">db</span><span class=\"p\">.]</span><span class=\"k\">table</span> <span class=\"k\">DELETE</span> <span class=\"k\">WHERE</span> <span class=\"n\">filter_expr</span>\n</pre></div>\n\n\n<p>The <code>filter_expr</code> must be of type UInt8. The query deletes rows in the table for which this expression takes a non-zero value.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">ALTER</span> <span class=\"k\">TABLE</span> <span class=\"p\">[</span><span class=\"n\">db</span><span class=\"p\">.]</span><span class=\"k\">table</span> <span class=\"k\">UPDATE</span> <span class=\"n\">column1</span> <span class=\"o\">=</span> <span class=\"n\">expr1</span> <span class=\"p\">[,</span> <span class=\"p\">...]</span> <span class=\"k\">WHERE</span> <span class=\"n\">filter_expr</span>\n</pre></div>\n\n\n<p>The command is available starting with the 18.12.14 version. The <code>filter_expr</code> must be of type UInt8. This query updates values of specified columns to the values of corresponding expressions in rows for which the <code>filter_expr</code> takes a non-zero value. Values are casted to the column type using the <code>CAST</code> operator. Updating columns that are used in the calculation of the primary or the partition key is not supported.</p>\n<p>One query can contain several commands separated by commas.</p>\n<p>For *MergeTree tables mutations execute by rewriting whole data parts. There is no atomicity - parts are substituted for mutated parts as soon as they are ready and a <code>SELECT</code> query that started executing during a mutation will see data from parts that have already been mutated along with data from parts that have not been mutated yet.</p>\n<p>Mutations are totally ordered by their creation order and are applied to each part in that order. Mutations are also partially ordered with INSERTs - data that was inserted into the table before the mutation was submitted will be mutated and data that was inserted after that will not be mutated. Note that mutations do not block INSERTs in any way.</p>\n<p>A mutation query returns immediately after the mutation entry is added (in case of replicated tables to ZooKeeper, for nonreplicated tables - to the filesystem). The mutation itself executes asynchronously using the system profile settings. To track the progress of mutations you can use the <a href=\"#system_tables-mutations\"><code>system.mutations</code></a> table. A mutation that was successfully submitted will continue to execute even if ClickHouse servers are restarted. There is no way to roll back the mutation once it is submitted, but if the mutation is stuck for some reason it can be cancelled with the <a href=\"#kill-mutation\"><code>KILL MUTATION</code></a> query.</p>\n<p>Entries for finished mutations are not deleted right away (the number of preserved entries is determined by the <code>finished_mutations_to_keep</code> storage engine parameter). Older mutation entries are deleted.</p>\n<p><a name=\"../../../query_language/misc/\"></a>\n<a name=\"../../../../query_language/misc/\"></a>\n<a name=\"../../../../../query_language/misc/\"></a>\n<a name=\"misc/\"></a>\n<a name=\"../../query_language/misc/\"></a>\n<a name=\"../query_language/misc/\"></a>\n<a name=\"query_language/misc/\"></a></p>\n<h2 id=\"miscellaneous-queries\">Miscellaneous Queries<a class=\"headerlink\" href=\"#miscellaneous-queries\" title=\"Permanent link\">&para;</a></h2>\n<h3 id=\"attach\">ATTACH<a class=\"headerlink\" href=\"#attach\" title=\"Permanent link\">&para;</a></h3>\n<p>This query is exactly the same as <code>CREATE</code>, but</p>\n<ul>\n<li>Instead of the word <code>CREATE</code> it uses the word <code>ATTACH</code>.</li>\n<li>The query does not create data on the disk, but assumes that data is already in the appropriate places, and just adds information about the table to the server.\nAfter executing an ATTACH query, the server will know about the existence of the table.</li>\n</ul>\n<p>If the table was previously detached (<code>DETACH</code>), meaning that its structure is known, you can use shorthand without defining the structure.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">ATTACH</span> <span class=\"k\">TABLE</span> <span class=\"p\">[</span><span class=\"k\">IF</span> <span class=\"k\">NOT</span> <span class=\"k\">EXISTS</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">db</span><span class=\"p\">.]</span><span class=\"n\">name</span> <span class=\"p\">[</span><span class=\"k\">ON</span> <span class=\"k\">CLUSTER</span> <span class=\"k\">cluster</span><span class=\"p\">]</span>\n</pre></div>\n\n\n<p>This query is used when starting the server. The server stores table metadata as files with <code>ATTACH</code> queries, which it simply runs at launch (with the exception of system tables, which are explicitly created on the server).</p>\n<h3 id=\"check-table\">CHECK TABLE<a class=\"headerlink\" href=\"#check-table\" title=\"Permanent link\">&para;</a></h3>\n<p>Checks if the data in the table is corrupted.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CHECK</span> <span class=\"k\">TABLE</span> <span class=\"p\">[</span><span class=\"n\">db</span><span class=\"p\">.]</span><span class=\"n\">name</span>\n</pre></div>\n\n\n<p>The <code>CHECK TABLE</code> query compares actual file sizes with the expected values which are stored on the server. If the file sizes do not match the stored values, it means the data is corrupted. This can be caused, for example, by a system crash during query execution.</p>\n<p>The query response contains the <code>result</code> column with a single row. The row has a value of\n <a href=\"#../data_types/boolean/\">Boolean</a> type:</p>\n<ul>\n<li>0 - The data in the table is corrupted.</li>\n<li>1 - The data maintains integrity.</li>\n</ul>\n<p>The <code>CHECK TABLE</code> query is only supported for the following table engines:</p>\n<ul>\n<li><a href=\"#../operations/table_engines/log/\">Log</a></li>\n<li><a href=\"#../operations/table_engines/tinylog/\">TinyLog</a></li>\n<li><a href=\"#../operations/table_engines/stripelog/\">StripeLog</a></li>\n</ul>\n<p>These engines do not provide automatic data recovery on failure. Use the <code>CHECK TABLE</code> query to track data loss in a timely manner.</p>\n<p>To avoid data loss use the <a href=\"#../operations/table_engines/mergetree/\">MergeTree</a> family tables.</p>\n<p><strong>If the data is corrupted</strong></p>\n<p>If the table is corrupted, you can copy the non-corrupted data to another table. To do this:</p>\n<ol>\n<li>Create a new table with the same structure as damaged table. To do this execute the query <code>CREATE TABLE &lt;new_table_name&gt; AS &lt;damaged_table_name&gt;</code>.</li>\n<li>Set the <a href=\"#settings-max_threads\">max_threads</a> value to 1 to process the next query in a single thread. To do this run the query <code>SET max_threads = 1</code>.</li>\n<li>Execute the query <code>INSERT INTO &lt;new_table_name&gt; SELECT * FROM &lt;damaged_table_name&gt;</code>. This request copies the non-corrupted data from the damaged table to another table. Only the data before the corrupted part will be copied.</li>\n<li>Restart the <code>clickhouse-client</code> to reset the <code>max_threads</code> value.</li>\n</ol>\n<h3 id=\"misc-describe-table\">DESCRIBE TABLE<a class=\"headerlink\" href=\"#misc-describe-table\" title=\"Permanent link\">&para;</a></h3>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">DESC</span><span class=\"o\">|</span><span class=\"k\">DESCRIBE</span> <span class=\"k\">TABLE</span> <span class=\"p\">[</span><span class=\"n\">db</span><span class=\"p\">.]</span><span class=\"k\">table</span> <span class=\"p\">[</span><span class=\"k\">INTO</span> <span class=\"n\">OUTFILE</span> <span class=\"n\">filename</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">FORMAT</span> <span class=\"n\">format</span><span class=\"p\">]</span>\n</pre></div>\n\n\n<p>Returns the following <code>String</code> type columns: </p>\n<ul>\n<li><code>name</code> \u2014 Column name.</li>\n<li><code>type</code>\u2014 Column type.</li>\n<li><code>default_type</code> \u2014 Clause that is used in <a href=\"#create-default-values\">default expression</a> (<code>DEFAULT</code>, <code>MATERIALIZED</code> or <code>ALIAS</code>). Column contains an empty string, if the default expression isn't specified.</li>\n<li><code>default_expression</code> \u2014 Value specified in the <code>DEFAULT</code> clause.</li>\n<li><code>comment_expression</code> \u2014 Comment text.</li>\n</ul>\n<p>Nested data structures are output in \"expanded\" format. Each column is shown separately, with the name after a dot.</p>\n<h3 id=\"detach\">DETACH<a class=\"headerlink\" href=\"#detach\" title=\"Permanent link\">&para;</a></h3>\n<p>Deletes information about the 'name' table from the server. The server stops knowing about the table's existence.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">DETACH</span> <span class=\"k\">TABLE</span> <span class=\"p\">[</span><span class=\"k\">IF</span> <span class=\"k\">EXISTS</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">db</span><span class=\"p\">.]</span><span class=\"n\">name</span> <span class=\"p\">[</span><span class=\"k\">ON</span> <span class=\"k\">CLUSTER</span> <span class=\"k\">cluster</span><span class=\"p\">]</span>\n</pre></div>\n\n\n<p>This does not delete the table's data or metadata. On the next server launch, the server will read the metadata and find out about the table again.\nSimilarly, a \"detached\" table can be re-attached using the <code>ATTACH</code> query (with the exception of system tables, which do not have metadata stored for them).</p>\n<p>There is no <code>DETACH DATABASE</code> query.</p>\n<h3 id=\"drop\">DROP<a class=\"headerlink\" href=\"#drop\" title=\"Permanent link\">&para;</a></h3>\n<p>This query has two types: <code>DROP DATABASE</code> and <code>DROP TABLE</code>.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">DROP</span> <span class=\"k\">DATABASE</span> <span class=\"p\">[</span><span class=\"k\">IF</span> <span class=\"k\">EXISTS</span><span class=\"p\">]</span> <span class=\"n\">db</span> <span class=\"p\">[</span><span class=\"k\">ON</span> <span class=\"k\">CLUSTER</span> <span class=\"k\">cluster</span><span class=\"p\">]</span>\n</pre></div>\n\n\n<p>Deletes all tables inside the 'db' database, then deletes the 'db' database itself.\nIf <code>IF EXISTS</code> is specified, it doesn't return an error if the database doesn't exist.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">DROP</span> <span class=\"p\">[</span><span class=\"k\">TEMPORARY</span><span class=\"p\">]</span> <span class=\"k\">TABLE</span> <span class=\"p\">[</span><span class=\"k\">IF</span> <span class=\"k\">EXISTS</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">db</span><span class=\"p\">.]</span><span class=\"n\">name</span> <span class=\"p\">[</span><span class=\"k\">ON</span> <span class=\"k\">CLUSTER</span> <span class=\"k\">cluster</span><span class=\"p\">]</span>\n</pre></div>\n\n\n<p>Deletes the table.\nIf <code>IF EXISTS</code> is specified, it doesn't return an error if the table doesn't exist or the database doesn't exist.</p>\n<h3 id=\"exists\">EXISTS<a class=\"headerlink\" href=\"#exists\" title=\"Permanent link\">&para;</a></h3>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">EXISTS</span> <span class=\"p\">[</span><span class=\"k\">TEMPORARY</span><span class=\"p\">]</span> <span class=\"k\">TABLE</span> <span class=\"p\">[</span><span class=\"n\">db</span><span class=\"p\">.]</span><span class=\"n\">name</span> <span class=\"p\">[</span><span class=\"k\">INTO</span> <span class=\"n\">OUTFILE</span> <span class=\"n\">filename</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">FORMAT</span> <span class=\"n\">format</span><span class=\"p\">]</span>\n</pre></div>\n\n\n<p>Returns a single <code>UInt8</code>-type column, which contains the single value <code>0</code> if the table or database doesn't exist, or <code>1</code> if the table exists in the specified database.</p>\n<h3 id=\"kill-query\">KILL QUERY<a class=\"headerlink\" href=\"#kill-query\" title=\"Permanent link\">&para;</a></h3>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">KILL</span> <span class=\"n\">QUERY</span> <span class=\"p\">[</span><span class=\"k\">ON</span> <span class=\"k\">CLUSTER</span> <span class=\"k\">cluster</span><span class=\"p\">]</span>\n  <span class=\"k\">WHERE</span> <span class=\"o\">&lt;</span><span class=\"k\">where</span> <span class=\"n\">expression</span> <span class=\"k\">to</span> <span class=\"k\">SELECT</span> <span class=\"k\">FROM</span> <span class=\"k\">system</span><span class=\"p\">.</span><span class=\"n\">processes</span> <span class=\"n\">query</span><span class=\"o\">&gt;</span>\n  <span class=\"p\">[</span><span class=\"n\">SYNC</span><span class=\"o\">|</span><span class=\"n\">ASYNC</span><span class=\"o\">|</span><span class=\"n\">TEST</span><span class=\"p\">]</span>\n  <span class=\"p\">[</span><span class=\"n\">FORMAT</span> <span class=\"n\">format</span><span class=\"p\">]</span>\n</pre></div>\n\n\n<p>Attempts to forcibly terminate the currently running queries.\nThe queries to terminate are selected from the system.processes table using the criteria defined in the <code>WHERE</code> clause of the <code>KILL</code> query.</p>\n<p>Examples:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"c1\">-- Forcibly terminates all queries with the specified query_id:</span>\n<span class=\"n\">KILL</span> <span class=\"n\">QUERY</span> <span class=\"k\">WHERE</span> <span class=\"n\">query_id</span><span class=\"o\">=</span><span class=\"s1\">&#39;2-857d-4a57-9ee0-327da5d60a90&#39;</span>\n\n<span class=\"c1\">-- Synchronously terminates all queries run by &#39;username&#39;:</span>\n<span class=\"n\">KILL</span> <span class=\"n\">QUERY</span> <span class=\"k\">WHERE</span> <span class=\"k\">user</span><span class=\"o\">=</span><span class=\"s1\">&#39;username&#39;</span> <span class=\"n\">SYNC</span>\n</pre></div>\n\n\n<p>Read-only users can only stop their own queries.</p>\n<p>By default, the asynchronous version of queries is used (<code>ASYNC</code>), which doesn't wait for confirmation that queries have stopped.</p>\n<p>The synchronous version (<code>SYNC</code>) waits for all queries to stop and displays information about each process as it stops.\nThe response contains the <code>kill_status</code> column, which can take the following values:</p>\n<ol>\n<li>'finished' \u2013 The query was terminated successfully.</li>\n<li>'waiting' \u2013 Waiting for the query to end after sending it a signal to terminate.</li>\n<li>The other values \u200b\u200bexplain why the query can't be stopped.</li>\n</ol>\n<p>A test query (<code>TEST</code>) only checks the user's rights and displays a list of queries to stop.</p>\n<h3 id=\"kill-mutation\">KILL MUTATION<a class=\"headerlink\" href=\"#kill-mutation\" title=\"Permanent link\">&para;</a></h3>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">KILL</span> <span class=\"n\">MUTATION</span> <span class=\"p\">[</span><span class=\"k\">ON</span> <span class=\"k\">CLUSTER</span> <span class=\"k\">cluster</span><span class=\"p\">]</span>\n  <span class=\"k\">WHERE</span> <span class=\"o\">&lt;</span><span class=\"k\">where</span> <span class=\"n\">expression</span> <span class=\"k\">to</span> <span class=\"k\">SELECT</span> <span class=\"k\">FROM</span> <span class=\"k\">system</span><span class=\"p\">.</span><span class=\"n\">mutations</span> <span class=\"n\">query</span><span class=\"o\">&gt;</span>\n  <span class=\"p\">[</span><span class=\"n\">TEST</span><span class=\"p\">]</span>\n  <span class=\"p\">[</span><span class=\"n\">FORMAT</span> <span class=\"n\">format</span><span class=\"p\">]</span>\n</pre></div>\n\n\n<p>Tries to cancel and remove <a href=\"#alter-mutations\">mutations</a> that are currently executing. Mutations to cancel are selected from the <a href=\"#system_tables-mutations\"><code>system.mutations</code></a> table using the filter specified by the <code>WHERE</code> clause of the <code>KILL</code> query.</p>\n<p>A test query (<code>TEST</code>) only checks the user's rights and displays a list of queries to stop.</p>\n<p>Examples:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"c1\">-- Cancel and remove all mutations of the single table:</span>\n<span class=\"n\">KILL</span> <span class=\"n\">MUTATION</span> <span class=\"k\">WHERE</span> <span class=\"k\">database</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;default&#39;</span> <span class=\"k\">AND</span> <span class=\"k\">table</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;table&#39;</span>\n\n<span class=\"c1\">-- Cancel the specific mutation:</span>\n<span class=\"n\">KILL</span> <span class=\"n\">MUTATION</span> <span class=\"k\">WHERE</span> <span class=\"k\">database</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;default&#39;</span> <span class=\"k\">AND</span> <span class=\"k\">table</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;table&#39;</span> <span class=\"k\">AND</span> <span class=\"n\">mutation_id</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;mutation_3.txt&#39;</span>\n</pre></div>\n\n\n<p>The query is useful when a mutation is stuck and cannot finish (e.g. if some function in the mutation query throws an exception when applied to the data contained in the table).</p>\n<p>Changes already made by the mutation are not rolled back.</p>\n<h3 id=\"misc_operations-optimize\">OPTIMIZE<a class=\"headerlink\" href=\"#misc_operations-optimize\" title=\"Permanent link\">&para;</a></h3>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">OPTIMIZE</span> <span class=\"k\">TABLE</span> <span class=\"p\">[</span><span class=\"n\">db</span><span class=\"p\">.]</span><span class=\"n\">name</span> <span class=\"p\">[</span><span class=\"k\">ON</span> <span class=\"k\">CLUSTER</span> <span class=\"k\">cluster</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">PARTITION</span> <span class=\"n\">partition</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"k\">FINAL</span><span class=\"p\">]</span>\n</pre></div>\n\n\n<p>Asks the table engine to do something for optimization.\nSupported only by <code>*MergeTree</code> engines, in which this query initializes a non-scheduled merge of data parts.\nIf you specify a <code>PARTITION</code>, only the specified partition will be optimized.\nIf you specify <code>FINAL</code>, optimization will be performed even when all the data is already in one part.</p>\n<div class=\"admonition warning\">\n<p class=\"admonition-title\">Warning</p>\n<p>OPTIMIZE can't fix the \"Too many parts\" error.</p>\n</div>\n<h3 id=\"misc_operations-rename\">RENAME<a class=\"headerlink\" href=\"#misc_operations-rename\" title=\"Permanent link\">&para;</a></h3>\n<p>Renames one or more tables.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">RENAME</span> <span class=\"k\">TABLE</span> <span class=\"p\">[</span><span class=\"n\">db11</span><span class=\"p\">.]</span><span class=\"n\">name11</span> <span class=\"k\">TO</span> <span class=\"p\">[</span><span class=\"n\">db12</span><span class=\"p\">.]</span><span class=\"n\">name12</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"n\">db21</span><span class=\"p\">.]</span><span class=\"n\">name21</span> <span class=\"k\">TO</span> <span class=\"p\">[</span><span class=\"n\">db22</span><span class=\"p\">.]</span><span class=\"n\">name22</span><span class=\"p\">,</span> <span class=\"p\">...</span> <span class=\"p\">[</span><span class=\"k\">ON</span> <span class=\"k\">CLUSTER</span> <span class=\"k\">cluster</span><span class=\"p\">]</span>\n</pre></div>\n\n\n<p>All tables are renamed under global locking. Renaming tables is a light operation. If you indicated another database after TO, the table will be moved to this database. However, the directories with databases must reside in the same file system (otherwise, an error is returned).</p>\n<h3 id=\"set_2\">SET<a class=\"headerlink\" href=\"#set_2\" title=\"Permanent link\">&para;</a></h3>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SET</span> <span class=\"n\">param</span> <span class=\"o\">=</span> <span class=\"n\">value</span>\n</pre></div>\n\n\n<p>Allows you to set <code>param</code> to <code>value</code>. You can also make all the settings from the specified settings profile in a single query. To do this, specify 'profile' as the setting name. For more information, see the section \"Settings\".\nThe setting is made for the session, or for the server (globally) if <code>GLOBAL</code> is specified.\nWhen making a global setting, the setting is not applied to sessions already running, including the current session. It will only be used for new sessions.</p>\n<p>When the server is restarted, global settings made using <code>SET</code> are lost.\nTo make settings that persist after a server restart, you can only use the server's config file.</p>\n<h3 id=\"show-create-table\">SHOW CREATE TABLE<a class=\"headerlink\" href=\"#show-create-table\" title=\"Permanent link\">&para;</a></h3>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SHOW</span> <span class=\"k\">CREATE</span> <span class=\"p\">[</span><span class=\"k\">TEMPORARY</span><span class=\"p\">]</span> <span class=\"k\">TABLE</span> <span class=\"p\">[</span><span class=\"n\">db</span><span class=\"p\">.]</span><span class=\"k\">table</span> <span class=\"p\">[</span><span class=\"k\">INTO</span> <span class=\"n\">OUTFILE</span> <span class=\"n\">filename</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">FORMAT</span> <span class=\"n\">format</span><span class=\"p\">]</span>\n</pre></div>\n\n\n<p>Returns a single <code>String</code>-type 'statement' column, which contains a single value \u2013 the <code>CREATE</code> query used for creating the specified table.</p>\n<h3 id=\"show-databases\">SHOW DATABASES<a class=\"headerlink\" href=\"#show-databases\" title=\"Permanent link\">&para;</a></h3>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SHOW</span> <span class=\"n\">DATABASES</span> <span class=\"p\">[</span><span class=\"k\">INTO</span> <span class=\"n\">OUTFILE</span> <span class=\"n\">filename</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">FORMAT</span> <span class=\"n\">format</span><span class=\"p\">]</span>\n</pre></div>\n\n\n<p>Prints a list of all databases.\nThis query is identical to <code>SELECT name FROM system.databases [INTO OUTFILE filename] [FORMAT format]</code>.</p>\n<p>See also the section \"Formats\".</p>\n<h3 id=\"show-processlist\">SHOW PROCESSLIST<a class=\"headerlink\" href=\"#show-processlist\" title=\"Permanent link\">&para;</a></h3>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SHOW</span> <span class=\"n\">PROCESSLIST</span> <span class=\"p\">[</span><span class=\"k\">INTO</span> <span class=\"n\">OUTFILE</span> <span class=\"n\">filename</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">FORMAT</span> <span class=\"n\">format</span><span class=\"p\">]</span>\n</pre></div>\n\n\n<p>Outputs a list of queries currently being processed, other than <code>SHOW PROCESSLIST</code> queries.</p>\n<p>Prints a table containing the columns:</p>\n<p><strong>user</strong> \u2013 The user who made the query. Keep in mind that for distributed processing, queries are sent to remote servers under the 'default' user. SHOW PROCESSLIST shows the username for a specific query, not for a query that this query initiated.</p>\n<p><strong>address</strong> \u2013 The name of the host that the query was sent from. For distributed processing, on remote servers, this is the name of the query requestor host. To track where a distributed query was originally made from, look at SHOW PROCESSLIST on the query requestor server.</p>\n<p><strong>elapsed</strong> \u2013 The execution time, in seconds. Queries are output in order of decreasing execution time.</p>\n<p><strong>rows_read</strong>, <strong>bytes_read</strong> \u2013 How many rows and bytes of uncompressed data were read when processing the query. For distributed processing, data is totaled from all the remote servers. This is the data used for restrictions and quotas.</p>\n<p><strong>memory_usage</strong> \u2013 Current RAM usage in bytes. See the setting 'max_memory_usage'.</p>\n<p><strong>query</strong> \u2013 The query itself. In INSERT queries, the data for insertion is not output.</p>\n<p><strong>query_id</strong> \u2013 The query identifier. Non-empty only if it was explicitly defined by the user. For distributed processing, the query ID is not passed to remote servers.</p>\n<p>This query is nearly identical to: <code>SELECT * FROM system.processes</code>. The difference is that the <code>SHOW PROCESSLIST</code> query does not show itself in a list, when the <code>SELECT .. FROM system.processes</code> query does.</p>\n<p>Tip (execute in the console):</p>\n<div class=\"codehilite\"><pre><span></span>watch -n1 <span class=\"s2\">&quot;clickhouse-client --query=&#39;SHOW PROCESSLIST&#39;&quot;</span>\n</pre></div>\n\n\n<h3 id=\"show-tables\">SHOW TABLES<a class=\"headerlink\" href=\"#show-tables\" title=\"Permanent link\">&para;</a></h3>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SHOW</span> <span class=\"p\">[</span><span class=\"k\">TEMPORARY</span><span class=\"p\">]</span> <span class=\"n\">TABLES</span> <span class=\"p\">[</span><span class=\"k\">FROM</span> <span class=\"n\">db</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"k\">LIKE</span> <span class=\"s1\">&#39;pattern&#39;</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"k\">INTO</span> <span class=\"n\">OUTFILE</span> <span class=\"n\">filename</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">FORMAT</span> <span class=\"n\">format</span><span class=\"p\">]</span>\n</pre></div>\n\n\n<p>Displays a list of tables</p>\n<ul>\n<li>Tables from the current database, or from the 'db' database if \"FROM db\" is specified.</li>\n<li>All tables, or tables whose name matches the pattern, if \"LIKE 'pattern'\" is specified.</li>\n</ul>\n<p>This query is identical to: <code>SELECT name FROM system.tables WHERE database = 'db' [AND name LIKE 'pattern'] [INTO OUTFILE filename] [FORMAT format]</code>.</p>\n<p>See also the section \"LIKE operator\".</p>\n<h3 id=\"truncate\">TRUNCATE<a class=\"headerlink\" href=\"#truncate\" title=\"Permanent link\">&para;</a></h3>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">TRUNCATE</span> <span class=\"k\">TABLE</span> <span class=\"p\">[</span><span class=\"k\">IF</span> <span class=\"k\">EXISTS</span><span class=\"p\">]</span> <span class=\"p\">[</span><span class=\"n\">db</span><span class=\"p\">.]</span><span class=\"n\">name</span> <span class=\"p\">[</span><span class=\"k\">ON</span> <span class=\"k\">CLUSTER</span> <span class=\"k\">cluster</span><span class=\"p\">]</span>\n</pre></div>\n\n\n<p>Removes all data from a table. When the clause <code>IF EXISTS</code> is omitted, the query returns an error if the table does not exist.</p>\n<p>The <code>TRUNCATE</code> query is not supported for <a href=\"#../operations/table_engines/view/\">View</a>, <a href=\"#../operations/table_engines/file/\">File</a>, <a href=\"#../operations/table_engines/url/\">URL</a> and <a href=\"#../operations/table_engines/null/\">Null</a> table engines.</p>\n<h3 id=\"use\">USE<a class=\"headerlink\" href=\"#use\" title=\"Permanent link\">&para;</a></h3>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">USE</span> <span class=\"n\">db</span>\n</pre></div>\n\n\n<p>Lets you set the current database for the session.\nThe current database is used for searching for tables if the database is not explicitly defined in the query with a dot before the table name.\nThis query can't be made when using the HTTP protocol, since there is no concept of a session.</p>\n<p><a name=\"../../../query_language/functions/\"></a>\n<a name=\"functions/\"></a>\n<a name=\"../../../../query_language/functions/\"></a>\n<a name=\"query_language/functions/\"></a>\n<a name=\"../query_language/functions/\"></a>\n<a name=\"../../query_language/functions/\"></a>\n<a name=\"../../../../../query_language/functions/\"></a></p>\n<h2 id=\"functions\">Functions<a class=\"headerlink\" href=\"#functions\" title=\"Permanent link\">&para;</a></h2>\n<p>There are at least* two types of functions - regular functions (they are just called \"functions\") and aggregate functions. These are completely different concepts. Regular functions work as if they are applied to each row separately (for each row, the result of the function doesn't depend on the other rows). Aggregate functions accumulate a set of values from various rows (i.e. they depend on the entire set of rows).</p>\n<p>In this section we discuss regular functions. For aggregate functions, see the section \"Aggregate functions\".</p>\n<p>* - There is a third type of function that the 'arrayJoin' function belongs to; table functions can also be mentioned separately.*</p>\n<h3 id=\"strong-typing\">Strong typing<a class=\"headerlink\" href=\"#strong-typing\" title=\"Permanent link\">&para;</a></h3>\n<p>In contrast to standard SQL, ClickHouse has strong typing. In other words, it doesn't make implicit conversions between types. Each function works for a specific set of types. This means that sometimes you need to use type conversion functions.</p>\n<h3 id=\"common-subexpression-elimination\">Common subexpression elimination<a class=\"headerlink\" href=\"#common-subexpression-elimination\" title=\"Permanent link\">&para;</a></h3>\n<p>All expressions in a query that have the same AST (the same record or same result of syntactic parsing) are considered to have identical values. Such expressions are concatenated and executed once. Identical subqueries are also eliminated this way.</p>\n<h3 id=\"types-of-results\">Types of results<a class=\"headerlink\" href=\"#types-of-results\" title=\"Permanent link\">&para;</a></h3>\n<p>All functions return a single return as the result (not several values, and not zero values). The type of result is usually defined only by the types of arguments, not by the values. Exceptions are the tupleElement function (the a.N operator), and the toFixedString function.</p>\n<h3 id=\"constants\">Constants<a class=\"headerlink\" href=\"#constants\" title=\"Permanent link\">&para;</a></h3>\n<p>For simplicity, certain functions can only work with constants for some arguments. For example, the right argument of the LIKE operator must be a constant.\nAlmost all functions return a constant for constant arguments. The exception is functions that generate random numbers.\nThe 'now' function returns different values for queries that were run at different times, but the result is considered a constant, since constancy is only important within a single query.\nA constant expression is also considered a constant (for example, the right half of the LIKE operator can be constructed from multiple constants).</p>\n<p>Functions can be implemented in different ways for constant and non-constant arguments (different code is executed). But the results for a constant and for a true column containing only the same value should match each other.</p>\n<h3 id=\"null-processing_2\">NULL processing<a class=\"headerlink\" href=\"#null-processing_2\" title=\"Permanent link\">&para;</a></h3>\n<p>Functions have the following behaviors:</p>\n<ul>\n<li>If at least one of the arguments of the function is <code>NULL</code>, the function result is also <code>NULL</code>.</li>\n<li>Special behavior that is specified individually in the description of each function. In the ClickHouse source code, these functions have <code>UseDefaultImplementationForNulls=false</code>.</li>\n</ul>\n<h3 id=\"constancy\">Constancy<a class=\"headerlink\" href=\"#constancy\" title=\"Permanent link\">&para;</a></h3>\n<p>Functions can't change the values of their arguments \u2013 any changes are returned as the result. Thus, the result of calculating separate functions does not depend on the order in which the functions are written in the query.</p>\n<h3 id=\"error-handling\">Error handling<a class=\"headerlink\" href=\"#error-handling\" title=\"Permanent link\">&para;</a></h3>\n<p>Some functions might throw an exception if the data is invalid. In this case, the query is canceled and an error text is returned to the client. For distributed processing, when an exception occurs on one of the servers, the other servers also attempt to abort the query.</p>\n<h3 id=\"evaluation-of-argument-expressions\">Evaluation of argument expressions<a class=\"headerlink\" href=\"#evaluation-of-argument-expressions\" title=\"Permanent link\">&para;</a></h3>\n<p>In almost all programming languages, one of the arguments might not be evaluated for certain operators. This is usually the operators <code>&amp;&amp;</code>, <code>||</code>, and <code>?:</code>.\nBut in ClickHouse, arguments of functions (operators) are always evaluated. This is because entire parts of columns are evaluated at once, instead of calculating each row separately.</p>\n<h3 id=\"performing-functions-for-distributed-query-processing\">Performing functions for distributed query processing<a class=\"headerlink\" href=\"#performing-functions-for-distributed-query-processing\" title=\"Permanent link\">&para;</a></h3>\n<p>For distributed query processing, as many stages of query processing as possible are performed on remote servers, and the rest of the stages (merging intermediate results and everything after that) are performed on the requestor server.</p>\n<p>This means that functions can be performed on different servers.\nFor example, in the query <code>SELECT f(sum(g(x))) FROM distributed_table GROUP BY h(y),</code></p>\n<ul>\n<li>if a <code>distributed_table</code> has at least two shards, the functions 'g' and 'h' are performed on remote servers, and the function 'f' is performed on the requestor server.</li>\n<li>if a <code>distributed_table</code> has only one shard, all the 'f', 'g', and 'h' functions are performed on this shard's server.</li>\n</ul>\n<p>The result of a function usually doesn't depend on which server it is performed on. However, sometimes this is important.\nFor example, functions that work with dictionaries use the dictionary that exists on the server they are running on.\nAnother example is the <code>hostName</code> function, which returns the name of the server it is running on in order to make <code>GROUP BY</code> by servers in a <code>SELECT</code> query.</p>\n<p>If a function in a query is performed on the requestor server, but you need to perform it on remote servers, you can wrap it in an 'any' aggregate function or add it to a key in <code>GROUP BY</code>.</p>\n<p><a name=\"../functions/arithmetic_functions/\"></a>\n<a name=\"../../../functions/arithmetic_functions/\"></a>\n<a name=\"../../query_language/functions/arithmetic_functions/\"></a>\n<a name=\"../../../../functions/arithmetic_functions/\"></a>\n<a name=\"../../../../../../functions/arithmetic_functions/\"></a>\n<a name=\"../../../../query_language/functions/arithmetic_functions/\"></a>\n<a name=\"../../functions/arithmetic_functions/\"></a>\n<a name=\"arithmetic_functions/\"></a>\n<a name=\"query_language/functions/arithmetic_functions/\"></a>\n<a name=\"../query_language/functions/arithmetic_functions/\"></a>\n<a name=\"../../../../../functions/arithmetic_functions/\"></a>\n<a name=\"functions/arithmetic_functions/\"></a>\n<a name=\"../../../query_language/functions/arithmetic_functions/\"></a>\n<a name=\"../../../../../query_language/functions/arithmetic_functions/\"></a></p>\n<h2 id=\"arithmetic-functions\">Arithmetic functions<a class=\"headerlink\" href=\"#arithmetic-functions\" title=\"Permanent link\">&para;</a></h2>\n<p>For all arithmetic functions, the result type is calculated as the smallest number type that the result fits in, if there is such a type. The minimum is taken simultaneously based on the number of bits, whether it is signed, and whether it floats. If there are not enough bits, the highest bit type is taken.</p>\n<p>Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">toTypeName</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">),</span> <span class=\"n\">toTypeName</span><span class=\"p\">(</span><span class=\"mi\">0</span> <span class=\"o\">+</span> <span class=\"mi\">0</span><span class=\"p\">),</span> <span class=\"n\">toTypeName</span><span class=\"p\">(</span><span class=\"mi\">0</span> <span class=\"o\">+</span> <span class=\"mi\">0</span> <span class=\"o\">+</span> <span class=\"mi\">0</span><span class=\"p\">),</span> <span class=\"n\">toTypeName</span><span class=\"p\">(</span><span class=\"mi\">0</span> <span class=\"o\">+</span> <span class=\"mi\">0</span> <span class=\"o\">+</span> <span class=\"mi\">0</span> <span class=\"o\">+</span> <span class=\"mi\">0</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500toTypeName(0)\u2500\u252c\u2500toTypeName(plus(0, 0))\u2500\u252c\u2500toTypeName(plus(plus(0, 0), 0))\u2500\u252c\u2500toTypeName(plus(plus(plus(0, 0), 0), 0))\u2500\u2510</span>\n<span class=\"err\">\u2502 UInt8         \u2502 UInt16                 \u2502 UInt32                          \u2502 UInt64                                   \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>Arithmetic functions work for any pair of types from UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64, Float32, or Float64.</p>\n<p>Overflow is produced the same way as in C++.</p>\n<h3 id=\"plus-a-b-a-b-operator\">plus(a, b), a + b operator<a class=\"headerlink\" href=\"#plus-a-b-a-b-operator\" title=\"Permanent link\">&para;</a></h3>\n<p>Calculates the sum of the numbers.\nYou can also add integer numbers with a date or date and time. In the case of a date, adding an integer means adding the corresponding number of days. For a date with time, it means adding the corresponding number of seconds.</p>\n<h3 id=\"minus-a-b-a-b-operator\">minus(a, b), a - b operator<a class=\"headerlink\" href=\"#minus-a-b-a-b-operator\" title=\"Permanent link\">&para;</a></h3>\n<p>Calculates the difference. The result is always signed.</p>\n<p>You can also calculate integer numbers from a date or date with time. The idea is the same \u2013 see above for 'plus'.</p>\n<h3 id=\"multiply-a-b-a-42-b-operator\">multiply(a, b), a * b operator<a class=\"headerlink\" href=\"#multiply-a-b-a-42-b-operator\" title=\"Permanent link\">&para;</a></h3>\n<p>Calculates the product of the numbers.</p>\n<h3 id=\"divide-a-b-a-b-operator\">divide(a, b), a / b operator<a class=\"headerlink\" href=\"#divide-a-b-a-b-operator\" title=\"Permanent link\">&para;</a></h3>\n<p>Calculates the quotient of the numbers. The result type is always a floating-point type.\nIt is not integer division. For integer division, use the 'intDiv' function.\nWhen dividing by zero you get 'inf', '-inf', or 'nan'.</p>\n<h3 id=\"intdiv-a-b\">intDiv(a, b)<a class=\"headerlink\" href=\"#intdiv-a-b\" title=\"Permanent link\">&para;</a></h3>\n<p>Calculates the quotient of the numbers. Divides into integers, rounding down (by the absolute value).\nAn exception is thrown when dividing by zero or when dividing a minimal negative number by minus one.</p>\n<h3 id=\"intdivorzero-a-b\">intDivOrZero(a, b)<a class=\"headerlink\" href=\"#intdivorzero-a-b\" title=\"Permanent link\">&para;</a></h3>\n<p>Differs from 'intDiv' in that it returns zero when dividing by zero or when dividing a minimal negative number by minus one.</p>\n<h3 id=\"modulo-a-b-a-b-operator\">modulo(a, b), a % b operator<a class=\"headerlink\" href=\"#modulo-a-b-a-b-operator\" title=\"Permanent link\">&para;</a></h3>\n<p>Calculates the remainder after division.\nIf arguments are floating-point numbers, they are pre-converted to integers by dropping the decimal portion.\nThe remainder is taken in the same sense as in C++. Truncated division is used for negative numbers.\nAn exception is thrown when dividing by zero or when dividing a minimal negative number by minus one.</p>\n<h3 id=\"negate-a-a-operator\">negate(a), -a operator<a class=\"headerlink\" href=\"#negate-a-a-operator\" title=\"Permanent link\">&para;</a></h3>\n<p>Calculates a number with the reverse sign. The result is always signed.</p>\n<h3 id=\"arithm_func-abs\">abs(a)<a class=\"headerlink\" href=\"#arithm_func-abs\" title=\"Permanent link\">&para;</a></h3>\n<p>Calculates the absolute value of the number (a). That is, if a &lt; 0, it returns -a. For unsigned types it doesn't do anything. For signed integer types, it returns an unsigned number.</p>\n<h3 id=\"gcd-a-b\">gcd(a, b)<a class=\"headerlink\" href=\"#gcd-a-b\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns the greatest common divisor of the numbers.\nAn exception is thrown when dividing by zero or when dividing a minimal negative number by minus one.</p>\n<h3 id=\"lcm-a-b\">lcm(a, b)<a class=\"headerlink\" href=\"#lcm-a-b\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns the least common multiple of the numbers.\nAn exception is thrown when dividing by zero or when dividing a minimal negative number by minus one.</p>\n<p><a name=\"../../../../../query_language/functions/comparison_functions/\"></a>\n<a name=\"../../../../../functions/comparison_functions/\"></a>\n<a name=\"../../../functions/comparison_functions/\"></a>\n<a name=\"../query_language/functions/comparison_functions/\"></a>\n<a name=\"query_language/functions/comparison_functions/\"></a>\n<a name=\"../../../../../../functions/comparison_functions/\"></a>\n<a name=\"../functions/comparison_functions/\"></a>\n<a name=\"../../../../functions/comparison_functions/\"></a>\n<a name=\"../../query_language/functions/comparison_functions/\"></a>\n<a name=\"../../../../query_language/functions/comparison_functions/\"></a>\n<a name=\"functions/comparison_functions/\"></a>\n<a name=\"../../../query_language/functions/comparison_functions/\"></a>\n<a name=\"comparison_functions/\"></a>\n<a name=\"../../functions/comparison_functions/\"></a></p>\n<h2 id=\"comparison-functions\">Comparison functions<a class=\"headerlink\" href=\"#comparison-functions\" title=\"Permanent link\">&para;</a></h2>\n<p>Comparison functions always return 0 or 1 (Uint8).</p>\n<p>The following types can be compared:</p>\n<ul>\n<li>numbers</li>\n<li>strings and fixed strings</li>\n<li>dates</li>\n<li>dates with times</li>\n</ul>\n<p>within each group, but not between different groups.</p>\n<p>For example, you can't compare a date with a string. You have to use a function to convert the string to a date, or vice versa.</p>\n<p>Strings are compared by bytes. A shorter string is smaller than all strings that start with it and that contain at least one more character.</p>\n<p>Note. Up until version 1.1.54134, signed and unsigned numbers were compared the same way as in C++. In other words, you could get an incorrect result in cases like SELECT 9223372036854775807 &gt; -1. This behavior changed in version 1.1.54134 and is now mathematically correct.</p>\n<h3 id=\"equals-a-b-and-a-b-operator\">equals, a = b and a == b operator<a class=\"headerlink\" href=\"#equals-a-b-and-a-b-operator\" title=\"Permanent link\">&para;</a></h3>\n<h3 id=\"notequals-a-operator-b-and-a-b\">notEquals, a ! operator= b and a <code>&lt;&gt;</code> b<a class=\"headerlink\" href=\"#notequals-a-operator-b-and-a-b\" title=\"Permanent link\">&para;</a></h3>\n<h3 id=\"less-operator\">less, <code>&lt; operator</code><a class=\"headerlink\" href=\"#less-operator\" title=\"Permanent link\">&para;</a></h3>\n<h3 id=\"greater-operator\">greater, <code>&gt; operator</code><a class=\"headerlink\" href=\"#greater-operator\" title=\"Permanent link\">&para;</a></h3>\n<h3 id=\"lessorequals-operator\">lessOrEquals, <code>&lt;= operator</code><a class=\"headerlink\" href=\"#lessorequals-operator\" title=\"Permanent link\">&para;</a></h3>\n<h3 id=\"greaterorequals-operator\">greaterOrEquals, <code>&gt;= operator</code><a class=\"headerlink\" href=\"#greaterorequals-operator\" title=\"Permanent link\">&para;</a></h3>\n<p><a name=\"functions/logical_functions/\"></a>\n<a name=\"../../functions/logical_functions/\"></a>\n<a name=\"../../../../../../functions/logical_functions/\"></a>\n<a name=\"../../../query_language/functions/logical_functions/\"></a>\n<a name=\"../../../functions/logical_functions/\"></a>\n<a name=\"../../../../../functions/logical_functions/\"></a>\n<a name=\"../../../../../query_language/functions/logical_functions/\"></a>\n<a name=\"query_language/functions/logical_functions/\"></a>\n<a name=\"../functions/logical_functions/\"></a>\n<a name=\"../../../../functions/logical_functions/\"></a>\n<a name=\"../../../../query_language/functions/logical_functions/\"></a>\n<a name=\"logical_functions/\"></a>\n<a name=\"../query_language/functions/logical_functions/\"></a>\n<a name=\"../../query_language/functions/logical_functions/\"></a></p>\n<h2 id=\"logical-functions\">Logical functions<a class=\"headerlink\" href=\"#logical-functions\" title=\"Permanent link\">&para;</a></h2>\n<p>Logical functions accept any numeric types, but return a UInt8 number equal to 0 or 1.</p>\n<p>Zero as an argument is considered \"false,\" while any non-zero value is considered \"true\".</p>\n<h3 id=\"and-and-operator\">and, AND operator<a class=\"headerlink\" href=\"#and-and-operator\" title=\"Permanent link\">&para;</a></h3>\n<h3 id=\"or-or-operator\">or, OR operator<a class=\"headerlink\" href=\"#or-or-operator\" title=\"Permanent link\">&para;</a></h3>\n<h3 id=\"not-not-operator\">not, NOT operator<a class=\"headerlink\" href=\"#not-not-operator\" title=\"Permanent link\">&para;</a></h3>\n<h3 id=\"xor\">xor<a class=\"headerlink\" href=\"#xor\" title=\"Permanent link\">&para;</a></h3>\n<p><a name=\"../../query_language/functions/type_conversion_functions/\"></a>\n<a name=\"../../functions/type_conversion_functions/\"></a>\n<a name=\"query_language/functions/type_conversion_functions/\"></a>\n<a name=\"../../../../../functions/type_conversion_functions/\"></a>\n<a name=\"../../../functions/type_conversion_functions/\"></a>\n<a name=\"../functions/type_conversion_functions/\"></a>\n<a name=\"../../../../../query_language/functions/type_conversion_functions/\"></a>\n<a name=\"../query_language/functions/type_conversion_functions/\"></a>\n<a name=\"type_conversion_functions/\"></a>\n<a name=\"../../../query_language/functions/type_conversion_functions/\"></a>\n<a name=\"functions/type_conversion_functions/\"></a>\n<a name=\"../../../../../../functions/type_conversion_functions/\"></a>\n<a name=\"../../../../functions/type_conversion_functions/\"></a>\n<a name=\"../../../../query_language/functions/type_conversion_functions/\"></a></p>\n<h2 id=\"type-conversion-functions\">Type conversion functions<a class=\"headerlink\" href=\"#type-conversion-functions\" title=\"Permanent link\">&para;</a></h2>\n<h3 id=\"touint8-touint16-touint32-touint64\">toUInt8, toUInt16, toUInt32, toUInt64<a class=\"headerlink\" href=\"#touint8-touint16-touint32-touint64\" title=\"Permanent link\">&para;</a></h3>\n<h3 id=\"toint8-toint16-toint32-toint64\">toInt8, toInt16, toInt32, toInt64<a class=\"headerlink\" href=\"#toint8-toint16-toint32-toint64\" title=\"Permanent link\">&para;</a></h3>\n<h3 id=\"tofloat32-tofloat64\">toFloat32, toFloat64<a class=\"headerlink\" href=\"#tofloat32-tofloat64\" title=\"Permanent link\">&para;</a></h3>\n<h3 id=\"todate-todatetime\">toDate, toDateTime<a class=\"headerlink\" href=\"#todate-todatetime\" title=\"Permanent link\">&para;</a></h3>\n<h3 id=\"touint8orzero-touint16orzero-touint32orzero-touint64orzero-toint8orzero-toint16orzero-toint32orzero-toint64orzero-tofloat32orzero-tofloat64orzero-todateorzero-todatetimeorzero\">toUInt8OrZero, toUInt16OrZero, toUInt32OrZero, toUInt64OrZero, toInt8OrZero, toInt16OrZero, toInt32OrZero, toInt64OrZero, toFloat32OrZero, toFloat64OrZero, toDateOrZero, toDateTimeOrZero<a class=\"headerlink\" href=\"#touint8orzero-touint16orzero-touint32orzero-touint64orzero-toint8orzero-toint16orzero-toint32orzero-toint64orzero-tofloat32orzero-tofloat64orzero-todateorzero-todatetimeorzero\" title=\"Permanent link\">&para;</a></h3>\n<h3 id=\"touint8ornull-touint16ornull-touint32ornull-touint64ornull-toint8ornull-toint16ornull-toint32ornull-toint64ornull-tofloat32ornull-tofloat64ornull-todateornull-todatetimeornull\">toUInt8OrNull, toUInt16OrNull, toUInt32OrNull, toUInt64OrNull, toInt8OrNull, toInt16OrNull, toInt32OrNull, toInt64OrNull, toFloat32OrNull, toFloat64OrNull, toDateOrNull, toDateTimeOrNull<a class=\"headerlink\" href=\"#touint8ornull-touint16ornull-touint32ornull-touint64ornull-toint8ornull-toint16ornull-toint32ornull-toint64ornull-tofloat32ornull-tofloat64ornull-todateornull-todatetimeornull\" title=\"Permanent link\">&para;</a></h3>\n<h3 id=\"todecimal32-value-s-todecimal64-value-s-todecimal128-value-s\">toDecimal32(value, S), toDecimal64(value, S), toDecimal128(value, S)<a class=\"headerlink\" href=\"#todecimal32-value-s-todecimal64-value-s-todecimal128-value-s\" title=\"Permanent link\">&para;</a></h3>\n<p>Converts <code>value</code> to <a href=\"#../../data_types/decimal/\">Decimal</a> of precision <code>S</code>. The <code>value</code> can be a number or a string. The <code>S</code> (scale) parameter specifies the number of decimal places.</p>\n<h3 id=\"tostring\">toString<a class=\"headerlink\" href=\"#tostring\" title=\"Permanent link\">&para;</a></h3>\n<p>Functions for converting between numbers, strings (but not fixed strings), dates, and dates with times.\nAll these functions accept one argument.</p>\n<p>When converting to or from a string, the value is formatted or parsed using the same rules as for the TabSeparated format (and almost all other text formats). If the string can't be parsed, an exception is thrown and the request is canceled.</p>\n<p>When converting dates to numbers or vice versa, the date corresponds to the number of days since the beginning of the Unix epoch.\nWhen converting dates with times to numbers or vice versa, the date with time corresponds to the number of seconds since the beginning of the Unix epoch.</p>\n<p>The date and date-with-time formats for the toDate/toDateTime functions are defined as follows:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">YYYY-MM-DD</span>\n<span class=\"err\">YYYY-MM-DD hh:mm:ss</span>\n</pre></div>\n\n\n<p>As an exception, if converting from UInt32, Int32, UInt64, or Int64 numeric types to Date, and if the number is greater than or equal to 65536, the number is interpreted as a Unix timestamp (and not as the number of days) and is rounded to the date. This allows support for the common occurrence of writing 'toDate(unix_timestamp)', which otherwise would be an error and would require writing the more cumbersome 'toDate(toDateTime(unix_timestamp))'.</p>\n<p>Conversion between a date and date with time is performed the natural way: by adding a null time or dropping the time.</p>\n<p>Conversion between numeric types uses the same rules as assignments between different numeric types in C++.</p>\n<p>Additionally, the toString function of the DateTime argument can take a second String argument containing the name of the time zone. Example: <code>Asia/Yekaterinburg</code> In this case, the time is formatted according to the specified time zone.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span>\n    <span class=\"n\">now</span><span class=\"p\">()</span> <span class=\"k\">AS</span> <span class=\"n\">now_local</span><span class=\"p\">,</span>\n    <span class=\"n\">toString</span><span class=\"p\">(</span><span class=\"n\">now</span><span class=\"p\">(),</span> <span class=\"s1\">&#39;Asia/Yekaterinburg&#39;</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">now_yekat</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500now_local\u2500\u252c\u2500now_yekat\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502 2016-06-15 00:11:21 \u2502 2016-06-15 02:11:21 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>Also see the <code>toUnixTimestamp</code> function.</p>\n<h3 id=\"tofixedstring-s-n\">toFixedString(s, N)<a class=\"headerlink\" href=\"#tofixedstring-s-n\" title=\"Permanent link\">&para;</a></h3>\n<p>Converts a String type argument to a FixedString(N) type (a string with fixed length N). N must be a constant.\nIf the string has fewer bytes than N, it is passed with null bytes to the right. If the string has more bytes than N, an exception is thrown.</p>\n<h3 id=\"tostringcuttozero-s\">toStringCutToZero(s)<a class=\"headerlink\" href=\"#tostringcuttozero-s\" title=\"Permanent link\">&para;</a></h3>\n<p>Accepts a String or FixedString argument. Returns the String with the content truncated at the first zero byte found.</p>\n<p>Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">toFixedString</span><span class=\"p\">(</span><span class=\"s1\">&#39;foo&#39;</span><span class=\"p\">,</span> <span class=\"mi\">8</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">s</span><span class=\"p\">,</span> <span class=\"n\">toStringCutToZero</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">s_cut</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500s\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500s_cut\u2500\u2510</span>\n<span class=\"err\">\u2502 foo\\0\\0\\0\\0\\0 \u2502 foo   \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">toFixedString</span><span class=\"p\">(</span><span class=\"s1\">&#39;foo\\0bar&#39;</span><span class=\"p\">,</span> <span class=\"mi\">8</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">s</span><span class=\"p\">,</span> <span class=\"n\">toStringCutToZero</span><span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">s_cut</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500s\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500s_cut\u2500\u2510</span>\n<span class=\"err\">\u2502 foo\\0bar\\0 \u2502 foo   \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"reinterpretasuint8-reinterpretasuint16-reinterpretasuint32-reinterpretasuint64\">reinterpretAsUInt8, reinterpretAsUInt16, reinterpretAsUInt32, reinterpretAsUInt64<a class=\"headerlink\" href=\"#reinterpretasuint8-reinterpretasuint16-reinterpretasuint32-reinterpretasuint64\" title=\"Permanent link\">&para;</a></h3>\n<h3 id=\"reinterpretasint8-reinterpretasint16-reinterpretasint32-reinterpretasint64\">reinterpretAsInt8, reinterpretAsInt16, reinterpretAsInt32, reinterpretAsInt64<a class=\"headerlink\" href=\"#reinterpretasint8-reinterpretasint16-reinterpretasint32-reinterpretasint64\" title=\"Permanent link\">&para;</a></h3>\n<h3 id=\"reinterpretasfloat32-reinterpretasfloat64\">reinterpretAsFloat32, reinterpretAsFloat64<a class=\"headerlink\" href=\"#reinterpretasfloat32-reinterpretasfloat64\" title=\"Permanent link\">&para;</a></h3>\n<h3 id=\"reinterpretasdate-reinterpretasdatetime\">reinterpretAsDate, reinterpretAsDateTime<a class=\"headerlink\" href=\"#reinterpretasdate-reinterpretasdatetime\" title=\"Permanent link\">&para;</a></h3>\n<p>These functions accept a string and interpret the bytes placed at the beginning of the string as a number in host order (little endian). If the string isn't long enough, the functions work as if the string is padded with the necessary number of null bytes. If the string is longer than needed, the extra bytes are ignored. A date is interpreted as the number of days since the beginning of the Unix Epoch, and a date with time is interpreted as the number of seconds since the beginning of the Unix Epoch.</p>\n<h3 id=\"type_conversion_functions-reinterpretAsString\">reinterpretAsString<a class=\"headerlink\" href=\"#type_conversion_functions-reinterpretAsString\" title=\"Permanent link\">&para;</a></h3>\n<p>This function accepts a number or date or date with time, and returns a string containing bytes representing the corresponding value in host order (little endian). Null bytes are dropped from the end. For example, a UInt32 type value of 255 is a string that is one byte long.</p>\n<h3 id=\"reinterpretasfixedstring\">reinterpretAsFixedString<a class=\"headerlink\" href=\"#reinterpretasfixedstring\" title=\"Permanent link\">&para;</a></h3>\n<p>This function accepts a number or date or date with time, and returns a FixedString containing bytes representing the corresponding value in host order (little endian). Null bytes are dropped from the end. For example, a UInt32 type value of 255 is a FixedString that is one byte long.</p>\n<h3 id=\"type_conversion_function-cast\">CAST(x, t)<a class=\"headerlink\" href=\"#type_conversion_function-cast\" title=\"Permanent link\">&para;</a></h3>\n<p>Converts 'x' to the 't' data type. The syntax CAST(x AS t) is also supported.</p>\n<p>Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span>\n    <span class=\"s1\">&#39;2016-06-15 23:00:00&#39;</span> <span class=\"k\">AS</span> <span class=\"k\">timestamp</span><span class=\"p\">,</span>\n    <span class=\"k\">CAST</span><span class=\"p\">(</span><span class=\"k\">timestamp</span> <span class=\"k\">AS</span> <span class=\"n\">DateTime</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">datetime</span><span class=\"p\">,</span>\n    <span class=\"k\">CAST</span><span class=\"p\">(</span><span class=\"k\">timestamp</span> <span class=\"k\">AS</span> <span class=\"nb\">Date</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"nb\">date</span><span class=\"p\">,</span>\n    <span class=\"k\">CAST</span><span class=\"p\">(</span><span class=\"k\">timestamp</span><span class=\"p\">,</span> <span class=\"s1\">&#39;String&#39;</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">string</span><span class=\"p\">,</span>\n    <span class=\"k\">CAST</span><span class=\"p\">(</span><span class=\"k\">timestamp</span><span class=\"p\">,</span> <span class=\"s1\">&#39;FixedString(22)&#39;</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">fixed_string</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500timestamp\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500datetime\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500date\u2500\u252c\u2500string\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500fixed_string\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502 2016-06-15 23:00:00 \u2502 2016-06-15 23:00:00 \u2502 2016-06-15 \u2502 2016-06-15 23:00:00 \u2502 2016-06-15 23:00:00\\0\\0\\0 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>Conversion to FixedString(N) only works for arguments of type String or FixedString(N).</p>\n<p>Type conversion to <a href=\"#../../data_types/nullable/\">Nullable</a> and back is supported. Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">toTypeName</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">)</span> <span class=\"k\">FROM</span> <span class=\"n\">t_null</span>\n\n<span class=\"err\">\u250c\u2500</span><span class=\"n\">toTypeName</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">)</span><span class=\"err\">\u2500\u2510</span>\n<span class=\"err\">\u2502</span> <span class=\"nb\">Int8</span>          <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span> <span class=\"nb\">Int8</span>          <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n\n<span class=\"k\">SELECT</span> <span class=\"n\">toTypeName</span><span class=\"p\">(</span><span class=\"k\">CAST</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Nullable(UInt16)&#39;</span><span class=\"p\">))</span> <span class=\"k\">FROM</span> <span class=\"n\">t_null</span>\n\n<span class=\"err\">\u250c\u2500</span><span class=\"n\">toTypeName</span><span class=\"p\">(</span><span class=\"k\">CAST</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Nullable(UInt16)&#39;</span><span class=\"p\">))</span><span class=\"err\">\u2500\u2510</span>\n<span class=\"err\">\u2502</span> <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">UInt16</span><span class=\"p\">)</span>                        <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span> <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">UInt16</span><span class=\"p\">)</span>                        <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"tointervalyear-tointervalquarter-tointervalmonth-tointervalweek-tointervalday-tointervalhour-tointervalminute-tointervalsecond\">toIntervalYear, toIntervalQuarter, toIntervalMonth, toIntervalWeek, toIntervalDay, toIntervalHour, toIntervalMinute, toIntervalSecond<a class=\"headerlink\" href=\"#tointervalyear-tointervalquarter-tointervalmonth-tointervalweek-tointervalday-tointervalhour-tointervalminute-tointervalsecond\" title=\"Permanent link\">&para;</a></h3>\n<p>Converts a Number type argument to a Interval type (duration).\nThe interval type is actually very useful, you can use this type of data to perform arithmetic operations directly with Date or DateTime. At the same time, ClickHouse provides a more convenient syntax for declaring Interval type data. For example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">WITH</span>\n    <span class=\"n\">toDate</span><span class=\"p\">(</span><span class=\"s1\">&#39;2019-01-01&#39;</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"nb\">date</span><span class=\"p\">,</span>\n    <span class=\"nb\">INTERVAL</span> <span class=\"mi\">1</span> <span class=\"n\">WEEK</span> <span class=\"k\">AS</span> <span class=\"n\">interval_week</span><span class=\"p\">,</span>\n    <span class=\"n\">toIntervalWeek</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">interval_to_week</span>\n<span class=\"k\">SELECT</span>\n    <span class=\"nb\">date</span> <span class=\"o\">+</span> <span class=\"n\">interval_week</span><span class=\"p\">,</span>\n    <span class=\"nb\">date</span> <span class=\"o\">+</span> <span class=\"n\">interval_to_week</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500plus(date, interval_week)\u2500\u252c\u2500plus(date, interval_to_week)\u2500\u2510</span>\n<span class=\"err\">\u2502                2019-01-08 \u2502                   2019-01-08 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"type_conversion_functions-parsedatetimebesteffort\">parseDateTimeBestEffort<a class=\"headerlink\" href=\"#type_conversion_functions-parsedatetimebesteffort\" title=\"Permanent link\">&para;</a></h3>\n<p>Parse a number type argument to a Date or DateTime type.\ndifferent from toDate and toDateTime, parseDateTimeBestEffort can progress more complex date format.\nFor more information, see the link: <a href=\"https://xkcd.com/1179/\" rel=\"external nofollow\">Complex Date Format</a></p>\n<h3 id=\"parsedatetimebesteffortornull\">parseDateTimeBestEffortOrNull<a class=\"headerlink\" href=\"#parsedatetimebesteffortornull\" title=\"Permanent link\">&para;</a></h3>\n<p>Same as for <a href=\"#type_conversion_functions-parsedatetimebesteffort\">parseDateTimeBestEffort</a> except that it returns null when it encounters a date format that cannot be processed.</p>\n<h3 id=\"parsedatetimebesteffortorzero\">parseDateTimeBestEffortOrZero<a class=\"headerlink\" href=\"#parsedatetimebesteffortorzero\" title=\"Permanent link\">&para;</a></h3>\n<p>Same as for <a href=\"#type_conversion_functions-parsedatetimebesteffort\">parseDateTimeBestEffort</a> except that it returns zero date or zero date time when it encounters a date format that cannot be processed.</p>\n<p><a name=\"../../../../query_language/functions/date_time_functions/\"></a>\n<a name=\"functions/date_time_functions/\"></a>\n<a name=\"../../../functions/date_time_functions/\"></a>\n<a name=\"../../../../functions/date_time_functions/\"></a>\n<a name=\"../../../../../functions/date_time_functions/\"></a>\n<a name=\"../functions/date_time_functions/\"></a>\n<a name=\"../../../../../query_language/functions/date_time_functions/\"></a>\n<a name=\"../../query_language/functions/date_time_functions/\"></a>\n<a name=\"../../../query_language/functions/date_time_functions/\"></a>\n<a name=\"query_language/functions/date_time_functions/\"></a>\n<a name=\"../../../../../../functions/date_time_functions/\"></a>\n<a name=\"../../functions/date_time_functions/\"></a>\n<a name=\"../query_language/functions/date_time_functions/\"></a>\n<a name=\"date_time_functions/\"></a></p>\n<h2 id=\"functions-for-working-with-dates-and-times\">Functions for working with dates and times<a class=\"headerlink\" href=\"#functions-for-working-with-dates-and-times\" title=\"Permanent link\">&para;</a></h2>\n<p>Support for time zones</p>\n<p>All functions for working with the date and time that have a logical use for the time zone can accept a second optional time zone argument. Example: Asia/Yekaterinburg. In this case, they use the specified time zone instead of the local (default) one.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span>\n    <span class=\"n\">toDateTime</span><span class=\"p\">(</span><span class=\"s1\">&#39;2016-06-15 23:00:00&#39;</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">time</span><span class=\"p\">,</span>\n    <span class=\"n\">toDate</span><span class=\"p\">(</span><span class=\"n\">time</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">date_local</span><span class=\"p\">,</span>\n    <span class=\"n\">toDate</span><span class=\"p\">(</span><span class=\"n\">time</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Asia/Yekaterinburg&#39;</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">date_yekat</span><span class=\"p\">,</span>\n    <span class=\"n\">toString</span><span class=\"p\">(</span><span class=\"n\">time</span><span class=\"p\">,</span> <span class=\"s1\">&#39;US/Samoa&#39;</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">time_samoa</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500time\u2500\u252c\u2500date_local\u2500\u252c\u2500date_yekat\u2500\u252c\u2500time_samoa\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502 2016-06-15 23:00:00 \u2502 2016-06-15 \u2502 2016-06-16 \u2502 2016-06-15 09:00:00 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>Only time zones that differ from UTC by a whole number of hours are supported.</p>\n<h3 id=\"totimezone\">toTimeZone<a class=\"headerlink\" href=\"#totimezone\" title=\"Permanent link\">&para;</a></h3>\n<p>Convert time or date and time to the specified time zone.</p>\n<h3 id=\"toyear\">toYear<a class=\"headerlink\" href=\"#toyear\" title=\"Permanent link\">&para;</a></h3>\n<p>Converts a date or date with time to a UInt16 number containing the year number (AD).</p>\n<h3 id=\"toquarter\">toQuarter<a class=\"headerlink\" href=\"#toquarter\" title=\"Permanent link\">&para;</a></h3>\n<p>Converts a date or date with time to a UInt8 number containing the quarter number.</p>\n<h3 id=\"tomonth\">toMonth<a class=\"headerlink\" href=\"#tomonth\" title=\"Permanent link\">&para;</a></h3>\n<p>Converts a date or date with time to a UInt8 number containing the month number (1-12).</p>\n<h3 id=\"todayofyear\">toDayOfYear<a class=\"headerlink\" href=\"#todayofyear\" title=\"Permanent link\">&para;</a></h3>\n<p>Converts a date or date with time to a UInt8 number containing the number of the day of the year (1-366).</p>\n<h3 id=\"todayofmonth\">toDayOfMonth<a class=\"headerlink\" href=\"#todayofmonth\" title=\"Permanent link\">&para;</a></h3>\n<p>Converts a date or date with time to a UInt8 number containing the number of the day of the month (1-31).</p>\n<h3 id=\"todayofweek\">toDayOfWeek<a class=\"headerlink\" href=\"#todayofweek\" title=\"Permanent link\">&para;</a></h3>\n<p>Converts a date or date with time to a UInt8 number containing the number of the day of the week (Monday is 1, and Sunday is 7).</p>\n<h3 id=\"tohour\">toHour<a class=\"headerlink\" href=\"#tohour\" title=\"Permanent link\">&para;</a></h3>\n<p>Converts a date with time to a UInt8 number containing the number of the hour in 24-hour time (0-23).\nThis function assumes that if clocks are moved ahead, it is by one hour and occurs at 2 a.m., and if clocks are moved back, it is by one hour and occurs at 3 a.m. (which is not always true \u2013 even in Moscow the clocks were twice changed at a different time).</p>\n<h3 id=\"tominute\">toMinute<a class=\"headerlink\" href=\"#tominute\" title=\"Permanent link\">&para;</a></h3>\n<p>Converts a date with time to a UInt8 number containing the number of the minute of the hour (0-59).</p>\n<h3 id=\"tosecond\">toSecond<a class=\"headerlink\" href=\"#tosecond\" title=\"Permanent link\">&para;</a></h3>\n<p>Converts a date with time to a UInt8 number containing the number of the second in the minute (0-59).\nLeap seconds are not accounted for.</p>\n<h3 id=\"tounixtimestamp\">toUnixTimestamp<a class=\"headerlink\" href=\"#tounixtimestamp\" title=\"Permanent link\">&para;</a></h3>\n<p>Converts a date with time to a unix timestamp.</p>\n<h3 id=\"tostartofyear\">toStartOfYear<a class=\"headerlink\" href=\"#tostartofyear\" title=\"Permanent link\">&para;</a></h3>\n<p>Rounds down a date or date with time to the first day of the year.\nReturns the date.</p>\n<h3 id=\"tostartofisoyear\">toStartOfISOYear<a class=\"headerlink\" href=\"#tostartofisoyear\" title=\"Permanent link\">&para;</a></h3>\n<p>Rounds down a date or date with time to the first day of ISO year.\nReturns the date.</p>\n<h3 id=\"tostartofquarter\">toStartOfQuarter<a class=\"headerlink\" href=\"#tostartofquarter\" title=\"Permanent link\">&para;</a></h3>\n<p>Rounds down a date or date with time to the first day of the quarter.\nThe first day of the quarter is either 1 January, 1 April, 1 July, or 1 October.\nReturns the date.</p>\n<h3 id=\"tostartofmonth\">toStartOfMonth<a class=\"headerlink\" href=\"#tostartofmonth\" title=\"Permanent link\">&para;</a></h3>\n<p>Rounds down a date or date with time to the first day of the month.\nReturns the date.</p>\n<div class=\"admonition attention\">\n<p class=\"admonition-title\">Attention</p>\n<p>The behavior of parsing incorrect dates is implementation specific. ClickHouse may return zero date, throw an exception or do \"natural\" overflow.</p>\n</div>\n<h3 id=\"tomonday\">toMonday<a class=\"headerlink\" href=\"#tomonday\" title=\"Permanent link\">&para;</a></h3>\n<p>Rounds down a date or date with time to the nearest Monday.\nReturns the date.</p>\n<h3 id=\"tostartofday\">toStartOfDay<a class=\"headerlink\" href=\"#tostartofday\" title=\"Permanent link\">&para;</a></h3>\n<p>Rounds down a date with time to the start of the day.</p>\n<h3 id=\"tostartofhour\">toStartOfHour<a class=\"headerlink\" href=\"#tostartofhour\" title=\"Permanent link\">&para;</a></h3>\n<p>Rounds down a date with time to the start of the hour.</p>\n<h3 id=\"tostartofminute\">toStartOfMinute<a class=\"headerlink\" href=\"#tostartofminute\" title=\"Permanent link\">&para;</a></h3>\n<p>Rounds down a date with time to the start of the minute.</p>\n<h3 id=\"tostartoffiveminute\">toStartOfFiveMinute<a class=\"headerlink\" href=\"#tostartoffiveminute\" title=\"Permanent link\">&para;</a></h3>\n<p>Rounds down a date with time to the start of the five-minute interval.</p>\n<h3 id=\"tostartoftenminutes\">toStartOfTenMinutes<a class=\"headerlink\" href=\"#tostartoftenminutes\" title=\"Permanent link\">&para;</a></h3>\n<p>Rounds down a date with time to the start of the ten-minute interval.</p>\n<h3 id=\"tostartoffifteenminutes\">toStartOfFifteenMinutes<a class=\"headerlink\" href=\"#tostartoffifteenminutes\" title=\"Permanent link\">&para;</a></h3>\n<p>Rounds down the date with time to the start of the fifteen-minute interval.</p>\n<h3 id=\"tostartofinterval-time-or-data-interval-x-unit-time-zone\">toStartOfInterval(time_or_data, INTERVAL x unit [, time_zone])<a class=\"headerlink\" href=\"#tostartofinterval-time-or-data-interval-x-unit-time-zone\" title=\"Permanent link\">&para;</a></h3>\n<p>This is a generalization of other functions named <code>toStartOf*</code>. For example,<br />\n<code>toStartOfInterval(t, INTERVAL 1 year)</code> returns the same as <code>toStartOfYear(t)</code>,<br />\n<code>toStartOfInterval(t, INTERVAL 1 month)</code> returns the same as <code>toStartOfMonth(t)</code>,<br />\n<code>toStartOfInterval(t, INTERVAL 1 day)</code> returns the same as <code>toStartOfDay(t)</code>,<br />\n<code>toStartOfInterval(t, INTERVAL 15 minute)</code> returns the same as <code>toStartOfFifteenMinutes(t)</code> etc.</p>\n<h3 id=\"totime\">toTime<a class=\"headerlink\" href=\"#totime\" title=\"Permanent link\">&para;</a></h3>\n<p>Converts a date with time to a certain fixed date, while preserving the time.</p>\n<h3 id=\"torelativeyearnum\">toRelativeYearNum<a class=\"headerlink\" href=\"#torelativeyearnum\" title=\"Permanent link\">&para;</a></h3>\n<p>Converts a date with time or date to the number of the year, starting from a certain fixed point in the past.</p>\n<h3 id=\"torelativequarternum\">toRelativeQuarterNum<a class=\"headerlink\" href=\"#torelativequarternum\" title=\"Permanent link\">&para;</a></h3>\n<p>Converts a date with time or date to the number of the quarter, starting from a certain fixed point in the past.</p>\n<h3 id=\"torelativemonthnum\">toRelativeMonthNum<a class=\"headerlink\" href=\"#torelativemonthnum\" title=\"Permanent link\">&para;</a></h3>\n<p>Converts a date with time or date to the number of the month, starting from a certain fixed point in the past.</p>\n<h3 id=\"torelativeweeknum\">toRelativeWeekNum<a class=\"headerlink\" href=\"#torelativeweeknum\" title=\"Permanent link\">&para;</a></h3>\n<p>Converts a date with time or date to the number of the week, starting from a certain fixed point in the past.</p>\n<h3 id=\"torelativedaynum\">toRelativeDayNum<a class=\"headerlink\" href=\"#torelativedaynum\" title=\"Permanent link\">&para;</a></h3>\n<p>Converts a date with time or date to the number of the day, starting from a certain fixed point in the past.</p>\n<h3 id=\"torelativehournum\">toRelativeHourNum<a class=\"headerlink\" href=\"#torelativehournum\" title=\"Permanent link\">&para;</a></h3>\n<p>Converts a date with time or date to the number of the hour, starting from a certain fixed point in the past.</p>\n<h3 id=\"torelativeminutenum\">toRelativeMinuteNum<a class=\"headerlink\" href=\"#torelativeminutenum\" title=\"Permanent link\">&para;</a></h3>\n<p>Converts a date with time or date to the number of the minute, starting from a certain fixed point in the past.</p>\n<h3 id=\"torelativesecondnum\">toRelativeSecondNum<a class=\"headerlink\" href=\"#torelativesecondnum\" title=\"Permanent link\">&para;</a></h3>\n<p>Converts a date with time or date to the number of the second, starting from a certain fixed point in the past.</p>\n<h3 id=\"toisoyear\">toISOYear<a class=\"headerlink\" href=\"#toisoyear\" title=\"Permanent link\">&para;</a></h3>\n<p>Converts a date or date with time to a UInt16 number containing the ISO Year number.</p>\n<h3 id=\"toisoweek\">toISOWeek<a class=\"headerlink\" href=\"#toisoweek\" title=\"Permanent link\">&para;</a></h3>\n<p>Converts a date or date with time to a UInt8 number containing the ISO Week number.</p>\n<h3 id=\"now\">now<a class=\"headerlink\" href=\"#now\" title=\"Permanent link\">&para;</a></h3>\n<p>Accepts zero arguments and returns the current time at one of the moments of request execution.\nThis function returns a constant, even if the request took a long time to complete.</p>\n<h3 id=\"today\">today<a class=\"headerlink\" href=\"#today\" title=\"Permanent link\">&para;</a></h3>\n<p>Accepts zero arguments and returns the current date at one of the moments of request execution.\nThe same as 'toDate(now())'.</p>\n<h3 id=\"yesterday\">yesterday<a class=\"headerlink\" href=\"#yesterday\" title=\"Permanent link\">&para;</a></h3>\n<p>Accepts zero arguments and returns yesterday's date at one of the moments of request execution.\nThe same as 'today() - 1'.</p>\n<h3 id=\"timeslot\">timeSlot<a class=\"headerlink\" href=\"#timeslot\" title=\"Permanent link\">&para;</a></h3>\n<p>Rounds the time to the half hour.\nThis function is specific to Yandex.Metrica, since half an hour is the minimum amount of time for breaking a session into two sessions if a tracking tag shows a single user's consecutive pageviews that differ in time by strictly more than this amount. This means that tuples (the tag ID, user ID, and time slot) can be used to search for pageviews that are included in the corresponding session.</p>\n<h3 id=\"toyyyymm\">toYYYYMM<a class=\"headerlink\" href=\"#toyyyymm\" title=\"Permanent link\">&para;</a></h3>\n<p>Converts a date or date with time to a UInt32 number containing the year and month number (YYYY * 100 + MM).</p>\n<h3 id=\"toyyyymmdd\">toYYYYMMDD<a class=\"headerlink\" href=\"#toyyyymmdd\" title=\"Permanent link\">&para;</a></h3>\n<p>Converts a date or date with time to a UInt32 number containing the year and month number (YYYY * 10000 + MM * 100 + DD).</p>\n<h3 id=\"toyyyymmddhhmmss\">toYYYYMMDDhhmmss<a class=\"headerlink\" href=\"#toyyyymmddhhmmss\" title=\"Permanent link\">&para;</a></h3>\n<p>Converts a date or date with time to a UInt64 number containing the year and month number (YYYY * 10000000000 + MM * 100000000 + DD * 1000000 + hh * 10000 + mm * 100 + ss).</p>\n<h3 id=\"addyears-addmonths-addweeks-adddays-addhours-addminutes-addseconds-addquarters\">addYears, addMonths, addWeeks, addDays, addHours, addMinutes, addSeconds, addQuarters<a class=\"headerlink\" href=\"#addyears-addmonths-addweeks-adddays-addhours-addminutes-addseconds-addquarters\" title=\"Permanent link\">&para;</a></h3>\n<p>Function adds a Date/DateTime interval to a Date/DateTime and then return the Date/DateTime. For example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">WITH</span>\n    <span class=\"n\">toDate</span><span class=\"p\">(</span><span class=\"s1\">&#39;2018-01-01&#39;</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"nb\">date</span><span class=\"p\">,</span>\n    <span class=\"n\">toDateTime</span><span class=\"p\">(</span><span class=\"s1\">&#39;2018-01-01 00:00:00&#39;</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">date_time</span>\n<span class=\"k\">SELECT</span>\n    <span class=\"n\">addYears</span><span class=\"p\">(</span><span class=\"nb\">date</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">add_years_with_date</span><span class=\"p\">,</span>\n    <span class=\"n\">addYears</span><span class=\"p\">(</span><span class=\"n\">date_time</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">add_years_with_date_time</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500add_years_with_date\u2500\u252c\u2500add_years_with_date_time\u2500\u2510</span>\n<span class=\"err\">\u2502          2019-01-01 \u2502      2019-01-01 00:00:00 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"subtractyears-subtractmonths-subtractweeks-subtractdays-subtracthours-subtractminutes-subtractseconds-subtractquarters\">subtractYears, subtractMonths, subtractWeeks, subtractDays, subtractHours, subtractMinutes, subtractSeconds, subtractQuarters<a class=\"headerlink\" href=\"#subtractyears-subtractmonths-subtractweeks-subtractdays-subtracthours-subtractminutes-subtractseconds-subtractquarters\" title=\"Permanent link\">&para;</a></h3>\n<p>Function subtract a Date/DateTime interval to a Date/DateTime and then return the Date/DateTime. For example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">WITH</span>\n    <span class=\"n\">toDate</span><span class=\"p\">(</span><span class=\"s1\">&#39;2019-01-01&#39;</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"nb\">date</span><span class=\"p\">,</span>\n    <span class=\"n\">toDateTime</span><span class=\"p\">(</span><span class=\"s1\">&#39;2019-01-01 00:00:00&#39;</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">date_time</span>\n<span class=\"k\">SELECT</span>\n    <span class=\"n\">subtractYears</span><span class=\"p\">(</span><span class=\"nb\">date</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">subtract_years_with_date</span><span class=\"p\">,</span>\n    <span class=\"n\">subtractYears</span><span class=\"p\">(</span><span class=\"n\">date_time</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">subtract_years_with_date_time</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500subtract_years_with_date\u2500\u252c\u2500subtract_years_with_date_time\u2500\u2510</span>\n<span class=\"err\">\u2502               2018-01-01 \u2502           2018-01-01 00:00:00 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"datediff-unit-t1-t2-91-timezone-93\">dateDiff('unit', t1, t2, [timezone])<a class=\"headerlink\" href=\"#datediff-unit-t1-t2-91-timezone-93\" title=\"Permanent link\">&para;</a></h3>\n<p>Return the difference between two times expressed in 'unit' e.g. <code>'hours'</code>. 't1' and 't2' can be Date or DateTime, If 'timezone' is specified, it applied to both arguments. If not, timezones from datatypes 't1' and 't2' are used. If that timezones are not the same, the result is unspecified.</p>\n<p>Supported unit values:</p>\n<table>\n<thead>\n<tr>\n<th>unit</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>second</td>\n</tr>\n<tr>\n<td>minute</td>\n</tr>\n<tr>\n<td>hour</td>\n</tr>\n<tr>\n<td>day</td>\n</tr>\n<tr>\n<td>week</td>\n</tr>\n<tr>\n<td>month</td>\n</tr>\n<tr>\n<td>quarter</td>\n</tr>\n<tr>\n<td>year</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"timeslots-starttime-duration-91-size-93\">timeSlots(StartTime, Duration,[, Size])<a class=\"headerlink\" href=\"#timeslots-starttime-duration-91-size-93\" title=\"Permanent link\">&para;</a></h3>\n<p>For a time interval starting at 'StartTime' and continuing for 'Duration' seconds, it returns an array of moments in time, consisting of points from this interval rounded down to the 'Size' in seconds. 'Size' is an optional parameter: a constant UInt32, set to 1800 by default.\nFor example, <code>timeSlots(toDateTime('2012-01-01 12:20:00'), 600) = [toDateTime('2012-01-01 12:00:00'), toDateTime('2012-01-01 12:30:00')]</code>.\nThis is necessary for searching for pageviews in the corresponding session.</p>\n<h3 id=\"formatdatetime-time-format-91-timezone-93\">formatDateTime(Time, Format[, Timezone])<a class=\"headerlink\" href=\"#formatdatetime-time-format-91-timezone-93\" title=\"Permanent link\">&para;</a></h3>\n<p>Function formats a Time according given Format string. N.B.: Format is a constant expression, e.g. you can not have multiple formats for single result column.</p>\n<p>Supported modifiers for Format:\n(\"Example\" column shows formatting result for time <code>2018-01-02 22:33:44</code>)</p>\n<table>\n<thead>\n<tr>\n<th>Modifier</th>\n<th>Description</th>\n<th>Example</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>%C</td>\n<td>year divided by 100 and truncated to integer (00-99)</td>\n<td>20</td>\n</tr>\n<tr>\n<td>%d</td>\n<td>day of the month, zero-padded (01-31)</td>\n<td>02</td>\n</tr>\n<tr>\n<td>%D</td>\n<td>Short MM/DD/YY date, equivalent to %m/%d/%y</td>\n<td>01/02/2018</td>\n</tr>\n<tr>\n<td>%e</td>\n<td>day of the month, space-padded ( 1-31)</td>\n<td>2</td>\n</tr>\n<tr>\n<td>%F</td>\n<td>short YYYY-MM-DD date, equivalent to %Y-%m-%d</td>\n<td>2018-01-02</td>\n</tr>\n<tr>\n<td>%H</td>\n<td>hour in 24h format (00-23)</td>\n<td>22</td>\n</tr>\n<tr>\n<td>%I</td>\n<td>hour in 12h format (01-12)</td>\n<td>10</td>\n</tr>\n<tr>\n<td>%j</td>\n<td>day of the year (001-366)</td>\n<td>002</td>\n</tr>\n<tr>\n<td>%m</td>\n<td>month as a decimal number (01-12)</td>\n<td>01</td>\n</tr>\n<tr>\n<td>%M</td>\n<td>minute (00-59)</td>\n<td>33</td>\n</tr>\n<tr>\n<td>%n</td>\n<td>new-line character ('\\n')</td>\n<td></td>\n</tr>\n<tr>\n<td>%p</td>\n<td>AM or PM designation</td>\n<td>PM</td>\n</tr>\n<tr>\n<td>%R</td>\n<td>24-hour HH:MM time, equivalent to %H:%M</td>\n<td>22:33</td>\n</tr>\n<tr>\n<td>%S</td>\n<td>second (00-59)</td>\n<td>44</td>\n</tr>\n<tr>\n<td>%t</td>\n<td>horizontal-tab character ('\\t')</td>\n<td></td>\n</tr>\n<tr>\n<td>%T</td>\n<td>ISO 8601 time format (HH:MM:SS), equivalent to %H:%M:%S</td>\n<td>22:33:44</td>\n</tr>\n<tr>\n<td>%u</td>\n<td>ISO 8601 weekday as number with Monday as 1 (1-7)</td>\n<td>2</td>\n</tr>\n<tr>\n<td>%V</td>\n<td>ISO 8601 week number (01-53)</td>\n<td>01</td>\n</tr>\n<tr>\n<td>%w</td>\n<td>weekday as a decimal number with Sunday as 0 (0-6)</td>\n<td>2</td>\n</tr>\n<tr>\n<td>%y</td>\n<td>Year, last two digits (00-99)</td>\n<td>18</td>\n</tr>\n<tr>\n<td>%Y</td>\n<td>Year</td>\n<td>2018</td>\n</tr>\n<tr>\n<td>%%</td>\n<td>a % sign</td>\n<td>%</td>\n</tr>\n</tbody>\n</table>\n<p><a name=\"query_language/functions/string_functions/\"></a>\n<a name=\"string_functions/\"></a>\n<a name=\"../../query_language/functions/string_functions/\"></a>\n<a name=\"../../../functions/string_functions/\"></a>\n<a name=\"../../../../functions/string_functions/\"></a>\n<a name=\"../query_language/functions/string_functions/\"></a>\n<a name=\"functions/string_functions/\"></a>\n<a name=\"../../../query_language/functions/string_functions/\"></a>\n<a name=\"../../../../query_language/functions/string_functions/\"></a>\n<a name=\"../../../../../../functions/string_functions/\"></a>\n<a name=\"../functions/string_functions/\"></a>\n<a name=\"../../functions/string_functions/\"></a>\n<a name=\"../../../../../query_language/functions/string_functions/\"></a>\n<a name=\"../../../../../functions/string_functions/\"></a></p>\n<h2 id=\"functions-for-working-with-strings\">Functions for working with strings<a class=\"headerlink\" href=\"#functions-for-working-with-strings\" title=\"Permanent link\">&para;</a></h2>\n<h3 id=\"string_functions-empty\">empty<a class=\"headerlink\" href=\"#string_functions-empty\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns 1 for an empty string or 0 for a non-empty string.\nThe result type is UInt8.\nA string is considered non-empty if it contains at least one byte, even if this is a space or a null byte.\nThe function also works for arrays.</p>\n<h3 id=\"notempty\">notEmpty<a class=\"headerlink\" href=\"#notempty\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns 0 for an empty string or 1 for a non-empty string.\nThe result type is UInt8.\nThe function also works for arrays.</p>\n<h3 id=\"length\">length<a class=\"headerlink\" href=\"#length\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns the length of a string in bytes (not in characters, and not in code points).\nThe result type is UInt64.\nThe function also works for arrays.</p>\n<h3 id=\"lengthutf8\">lengthUTF8<a class=\"headerlink\" href=\"#lengthutf8\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns the length of a string in Unicode code points (not in characters), assuming that the string contains a set of bytes that make up UTF-8 encoded text. If this assumption is not met, it returns some result (it doesn't throw an exception).\nThe result type is UInt64.</p>\n<h3 id=\"char-length-char-length\">char_length, CHAR_LENGTH<a class=\"headerlink\" href=\"#char-length-char-length\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns the length of a string in Unicode code points (not in characters), assuming that the string contains a set of bytes that make up UTF-8 encoded text. If this assumption is not met, it returns some result (it doesn't throw an exception).\nThe result type is UInt64.</p>\n<h3 id=\"character-length-character-length\">character_length, CHARACTER_LENGTH<a class=\"headerlink\" href=\"#character-length-character-length\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns the length of a string in Unicode code points (not in characters), assuming that the string contains a set of bytes that make up UTF-8 encoded text. If this assumption is not met, it returns some result (it doesn't throw an exception).\nThe result type is UInt64.</p>\n<h3 id=\"lower-lcase\">lower, lcase<a class=\"headerlink\" href=\"#lower-lcase\" title=\"Permanent link\">&para;</a></h3>\n<p>Converts ASCII Latin symbols in a string to lowercase.</p>\n<h3 id=\"upper-ucase\">upper, ucase<a class=\"headerlink\" href=\"#upper-ucase\" title=\"Permanent link\">&para;</a></h3>\n<p>Converts ASCII Latin symbols in a string to uppercase.</p>\n<h3 id=\"lowerutf8\">lowerUTF8<a class=\"headerlink\" href=\"#lowerutf8\" title=\"Permanent link\">&para;</a></h3>\n<p>Converts a string to lowercase, assuming the string contains a set of bytes that make up a UTF-8 encoded text.\nIt doesn't detect the language. So for Turkish the result might not be exactly correct.\nIf the length of the UTF-8 byte sequence is different for upper and lower case of a code point, the result may be incorrect for this code point.\nIf the string contains a set of bytes that is not UTF-8, then the behavior is undefined.</p>\n<h3 id=\"upperutf8\">upperUTF8<a class=\"headerlink\" href=\"#upperutf8\" title=\"Permanent link\">&para;</a></h3>\n<p>Converts a string to uppercase, assuming the string contains a set of bytes that make up a UTF-8 encoded text.\nIt doesn't detect the language. So for Turkish the result might not be exactly correct.\nIf the length of the UTF-8 byte sequence is different for upper and lower case of a code point, the result may be incorrect for this code point.\nIf the string contains a set of bytes that is not UTF-8, then the behavior is undefined.</p>\n<h3 id=\"isvalidutf8\">isValidUTF8<a class=\"headerlink\" href=\"#isvalidutf8\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns 1, if the set of bytes is valid UTF-8 encoded, otherwise 0.</p>\n<h3 id=\"reverse\">reverse<a class=\"headerlink\" href=\"#reverse\" title=\"Permanent link\">&para;</a></h3>\n<p>Reverses the string (as a sequence of bytes).</p>\n<h3 id=\"reverseutf8\">reverseUTF8<a class=\"headerlink\" href=\"#reverseutf8\" title=\"Permanent link\">&para;</a></h3>\n<p>Reverses a sequence of Unicode code points, assuming that the string contains a set of bytes representing a UTF-8 text. Otherwise, it does something else (it doesn't throw an exception).</p>\n<h3 id=\"concat-s1-s2\">concat(s1, s2, ...)<a class=\"headerlink\" href=\"#concat-s1-s2\" title=\"Permanent link\">&para;</a></h3>\n<p>Concatenates the strings listed in the arguments, without a separator.</p>\n<h3 id=\"concatassumeinjective-s1-s2\">concatAssumeInjective(s1, s2, ...)<a class=\"headerlink\" href=\"#concatassumeinjective-s1-s2\" title=\"Permanent link\">&para;</a></h3>\n<p>Same as <a href=\"#concat-s1-s2\">concat</a>, the difference is that you need to ensure that concat(s1, s2, s3) -&gt; s4 is injective, it will be used for optimization of GROUP BY</p>\n<h3 id=\"substring-s-offset-length-mid-s-offset-length-substr-s-offset-length\">substring(s, offset, length), mid(s, offset, length), substr(s, offset, length)<a class=\"headerlink\" href=\"#substring-s-offset-length-mid-s-offset-length-substr-s-offset-length\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns a substring starting with the byte from the 'offset' index that is 'length' bytes long. Character indexing starts from one (as in standard SQL). The 'offset' and 'length' arguments must be constants.</p>\n<h3 id=\"substringutf8-s-offset-length\">substringUTF8(s, offset, length)<a class=\"headerlink\" href=\"#substringutf8-s-offset-length\" title=\"Permanent link\">&para;</a></h3>\n<p>The same as 'substring', but for Unicode code points. Works under the assumption that the string contains a set of bytes representing a UTF-8 encoded text. If this assumption is not met, it returns some result (it doesn't throw an exception).</p>\n<h3 id=\"appendtrailingcharifabsent-s-c\">appendTrailingCharIfAbsent(s, c)<a class=\"headerlink\" href=\"#appendtrailingcharifabsent-s-c\" title=\"Permanent link\">&para;</a></h3>\n<p>If the 's' string is non-empty and does not contain the 'c' character at the end, it appends the 'c' character to the end.</p>\n<h3 id=\"convertcharset-s-from-to\">convertCharset(s, from, to)<a class=\"headerlink\" href=\"#convertcharset-s-from-to\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns the string 's' that was converted from the encoding in 'from' to the encoding in 'to'.</p>\n<h3 id=\"base64encode-s\">base64Encode(s)<a class=\"headerlink\" href=\"#base64encode-s\" title=\"Permanent link\">&para;</a></h3>\n<p>Encodes 's' string into base64</p>\n<h3 id=\"base64decode-s\">base64Decode(s)<a class=\"headerlink\" href=\"#base64decode-s\" title=\"Permanent link\">&para;</a></h3>\n<p>Decode base64-encoded string 's' into original string. In case of failure raises an exception.</p>\n<h3 id=\"trybase64decode-s\">tryBase64Decode(s)<a class=\"headerlink\" href=\"#trybase64decode-s\" title=\"Permanent link\">&para;</a></h3>\n<p>Similar to base64Decode, but in case of error an empty string would be returned.</p>\n<h3 id=\"endswith-s-suffix\">endsWith(s, suffix)<a class=\"headerlink\" href=\"#endswith-s-suffix\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns whether to end with the specified suffix. Returns 1 if the string ends with the specified suffix, otherwise it returns 0.</p>\n<h3 id=\"startswith-s-prefix\">startsWith(s, prefix)<a class=\"headerlink\" href=\"#startswith-s-prefix\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns whether to start with the specified prefix. Returns 1 if the string starts with the specified prefix, otherwise it returns 0.</p>\n<h3 id=\"trimleft-s\">trimLeft(s)<a class=\"headerlink\" href=\"#trimleft-s\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns a string that removes the whitespace characters on left side.</p>\n<h3 id=\"trimright-s\">trimRight(s)<a class=\"headerlink\" href=\"#trimright-s\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns a string that removes the whitespace characters on right side.</p>\n<h3 id=\"trimboth-s\">trimBoth(s)<a class=\"headerlink\" href=\"#trimboth-s\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns a string that removes the whitespace characters on either side.</p>\n<p><a name=\"../../query_language/functions/string_search_functions/\"></a>\n<a name=\"../../../../query_language/functions/string_search_functions/\"></a>\n<a name=\"functions/string_search_functions/\"></a>\n<a name=\"../../../functions/string_search_functions/\"></a>\n<a name=\"../../../../../query_language/functions/string_search_functions/\"></a>\n<a name=\"../../../../../functions/string_search_functions/\"></a>\n<a name=\"../../../../../../functions/string_search_functions/\"></a>\n<a name=\"../../../query_language/functions/string_search_functions/\"></a>\n<a name=\"../query_language/functions/string_search_functions/\"></a>\n<a name=\"string_search_functions/\"></a>\n<a name=\"query_language/functions/string_search_functions/\"></a>\n<a name=\"../../../../functions/string_search_functions/\"></a>\n<a name=\"../functions/string_search_functions/\"></a>\n<a name=\"../../functions/string_search_functions/\"></a></p>\n<h2 id=\"functions-for-searching-strings\">Functions for Searching Strings<a class=\"headerlink\" href=\"#functions-for-searching-strings\" title=\"Permanent link\">&para;</a></h2>\n<p>The search is case-sensitive by default in all these functions. There are separate variants for case insensitive search.</p>\n<h3 id=\"position-haystack-needle-locate-haystack-needle\">position(haystack, needle), locate(haystack, needle)<a class=\"headerlink\" href=\"#position-haystack-needle-locate-haystack-needle\" title=\"Permanent link\">&para;</a></h3>\n<p>Search for the substring <code>needle</code> in the string <code>haystack</code>.\nReturns the position (in bytes) of the found substring, starting from 1, or returns 0 if the substring was not found.</p>\n<p>For a case-insensitive search, use the function <code>positionCaseInsensitive</code>.</p>\n<h3 id=\"positionutf8-haystack-needle\">positionUTF8(haystack, needle)<a class=\"headerlink\" href=\"#positionutf8-haystack-needle\" title=\"Permanent link\">&para;</a></h3>\n<p>The same as <code>position</code>, but the position is returned in Unicode code points. Works under the assumption that the string contains a set of bytes representing a UTF-8 encoded text. If this assumption is not met, it returns some result (it doesn't throw an exception).</p>\n<p>For a case-insensitive search, use the function <code>positionCaseInsensitiveUTF8</code>.</p>\n<h3 id=\"multisearchallpositions-haystack-needle1-needle2-needlen\">multiSearchAllPositions(haystack, [needle<sub>1</sub>, needle<sub>2</sub>, ..., needle<sub>n</sub>])<a class=\"headerlink\" href=\"#multisearchallpositions-haystack-needle1-needle2-needlen\" title=\"Permanent link\">&para;</a></h3>\n<p>The same as <code>position</code>, but returns <code>Array</code> of the <code>position</code>s for all needle<sub>i</sub>.</p>\n<p>For a case-insensitive search or/and in UTF-8 format use functions <code>multiSearchAllPositionsCaseInsensitive, multiSearchAllPositionsUTF8, multiSearchAllPositionsCaseInsensitiveUTF8</code>.</p>\n<h3 id=\"multisearchfirstposition-haystack-needle1-needle2-needlen\">multiSearchFirstPosition(haystack, [needle<sub>1</sub>, needle<sub>2</sub>, ..., needle<sub>n</sub>])<a class=\"headerlink\" href=\"#multisearchfirstposition-haystack-needle1-needle2-needlen\" title=\"Permanent link\">&para;</a></h3>\n<p>The same as <code>position</code> but returns the leftmost offset of the string <code>haystack</code> that is matched to some of the needles.</p>\n<p>For a case-insensitive search or/and in UTF-8 format use functions <code>multiSearchFirstPositionCaseInsensitive, multiSearchFirstPositionUTF8, multiSearchFirstPositionCaseInsensitiveUTF8</code>.</p>\n<h3 id=\"multisearchfirstindex-haystack-needle1-needle2-needlen\">multiSearchFirstIndex(haystack, [needle<sub>1</sub>, needle<sub>2</sub>, ..., needle<sub>n</sub>])<a class=\"headerlink\" href=\"#multisearchfirstindex-haystack-needle1-needle2-needlen\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns the index <code>i</code> (starting from 1) of the leftmost found needle<sub>i</sub> in the string <code>haystack</code> and 0 otherwise.</p>\n<p>For a case-insensitive search or/and in UTF-8 format use functions <code>multiSearchFirstIndexCaseInsensitive, multiSearchFirstIndexUTF8, multiSearchFirstIndexCaseInsensitiveUTF8</code>.</p>\n<h3 id=\"multisearchany-haystack-needle1-needle2-needlen\">multiSearchAny(haystack, [needle<sub>1</sub>, needle<sub>2</sub>, ..., needle<sub>n</sub>])<a class=\"headerlink\" href=\"#multisearchany-haystack-needle1-needle2-needlen\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns 1, if at least one string needle<sub>i</sub> matches the string <code>haystack</code> and 0 otherwise.</p>\n<p>For a case-insensitive search or/and in UTF-8 format use functions <code>multiSearchAnyCaseInsensitive, multiSearchAnyUTF8, multiSearchAnyCaseInsensitiveUTF8</code>.</p>\n<p><strong>Note: in all <code>multiSearch*</code> functions the number of needles should be less than 2<sup>8</sup> because of implementation specification.</strong></p>\n<h3 id=\"match-haystack-pattern\">match(haystack, pattern)<a class=\"headerlink\" href=\"#match-haystack-pattern\" title=\"Permanent link\">&para;</a></h3>\n<p>Checks whether the string matches the <code>pattern</code> regular expression. A <code>re2</code> regular expression. The <a href=\"https://github.com/google/re2/wiki/Syntax\" rel=\"external nofollow\">syntax</a> of the <code>re2</code> regular expressions is more limited than the syntax of the Perl regular expressions.</p>\n<p>Returns 0 if it doesn't match, or 1 if it matches.</p>\n<p>Note that the backslash symbol (<code>\\</code>) is used for escaping in the regular expression. The same symbol is used for escaping in string literals. So in order to escape the symbol in a regular expression, you must write two backslashes (\\) in a string literal.</p>\n<p>The regular expression works with the string as if it is a set of bytes. The regular expression can't contain null bytes.\nFor patterns to search for substrings in a string, it is better to use LIKE or 'position', since they work much faster.</p>\n<h3 id=\"multimatchany-haystack-pattern1-pattern2-patternn\">multiMatchAny(haystack, [pattern<sub>1</sub>, pattern<sub>2</sub>, ..., pattern<sub>n</sub>])<a class=\"headerlink\" href=\"#multimatchany-haystack-pattern1-pattern2-patternn\" title=\"Permanent link\">&para;</a></h3>\n<p>The same as <code>match</code>, but returns 0 if none of the regular expressions are matched and 1 if any of the patterns matches. It uses <a href=\"https://github.com/intel/hyperscan\" rel=\"external nofollow\">hyperscan</a> library. For patterns to search substrings in a string, it is better to use <code>multiSearchAny</code> since it works much faster.</p>\n<p><strong>Note: the length of any of the <code>haystack</code> string must be less than 2<sup>32</sup> bytes otherwise the exception is thrown. This restriction takes place because of hyperscan API.</strong></p>\n<h3 id=\"multimatchanyindex-haystack-pattern1-pattern2-patternn\">multiMatchAnyIndex(haystack, [pattern<sub>1</sub>, pattern<sub>2</sub>, ..., pattern<sub>n</sub>])<a class=\"headerlink\" href=\"#multimatchanyindex-haystack-pattern1-pattern2-patternn\" title=\"Permanent link\">&para;</a></h3>\n<p>The same as <code>multiMatchAny</code>, but returns any index that matches the haystack.</p>\n<h3 id=\"multifuzzymatchany-haystack-distance-pattern1-pattern2-patternn\">multiFuzzyMatchAny(haystack, distance, [pattern<sub>1</sub>, pattern<sub>2</sub>, ..., pattern<sub>n</sub>])<a class=\"headerlink\" href=\"#multifuzzymatchany-haystack-distance-pattern1-pattern2-patternn\" title=\"Permanent link\">&para;</a></h3>\n<p>The same as <code>multiMatchAny</code>, but returns 1 if any pattern matches the haystack within a constant <a href=\"https://en.wikipedia.org/wiki/Edit_distance\" rel=\"external nofollow\">edit distance</a>. This function is also in an experimental mode and can be extremely slow. For more information see <a href=\"https://intel.github.io/hyperscan/dev-reference/compilation.html#approximate-matching\" rel=\"external nofollow\">hyperscan documentation</a>.</p>\n<h3 id=\"multifuzzymatchanyindex-haystack-distance-pattern1-pattern2-patternn\">multiFuzzyMatchAnyIndex(haystack, distance, [pattern<sub>1</sub>, pattern<sub>2</sub>, ..., pattern<sub>n</sub>])<a class=\"headerlink\" href=\"#multifuzzymatchanyindex-haystack-distance-pattern1-pattern2-patternn\" title=\"Permanent link\">&para;</a></h3>\n<p>The same as <code>multiFuzzyMatchAny</code>, but returns any index that matches the haystack within a constant edit distance.</p>\n<p><strong>Note: <code>multiFuzzyMatch*</code> functions do not support UTF-8 regular expressions, and such expressions are treated as bytes because of hyperscan restriction.</strong></p>\n<p><strong>Note: to turn off all functions that use hyperscan, use setting <code>SET allow_hyperscan = 0;</code>.</strong></p>\n<h3 id=\"extract-haystack-pattern\">extract(haystack, pattern)<a class=\"headerlink\" href=\"#extract-haystack-pattern\" title=\"Permanent link\">&para;</a></h3>\n<p>Extracts a fragment of a string using a regular expression. If 'haystack' doesn't match the 'pattern' regex, an empty string is returned. If the regex doesn't contain subpatterns, it takes the fragment that matches the entire regex. Otherwise, it takes the fragment that matches the first subpattern.</p>\n<h3 id=\"extractall-haystack-pattern\">extractAll(haystack, pattern)<a class=\"headerlink\" href=\"#extractall-haystack-pattern\" title=\"Permanent link\">&para;</a></h3>\n<p>Extracts all the fragments of a string using a regular expression. If 'haystack' doesn't match the 'pattern' regex, an empty string is returned. Returns an array of strings consisting of all matches to the regex. In general, the behavior is the same as the 'extract' function (it takes the first subpattern, or the entire expression if there isn't a subpattern).</p>\n<h3 id=\"like-haystack-pattern-haystack-like-pattern-operator\">like(haystack, pattern), haystack LIKE pattern operator<a class=\"headerlink\" href=\"#like-haystack-pattern-haystack-like-pattern-operator\" title=\"Permanent link\">&para;</a></h3>\n<p>Checks whether a string matches a simple regular expression.\nThe regular expression can contain the metasymbols <code>%</code> and <code>_</code>.</p>\n<p>``% indicates any quantity of any bytes (including zero characters).</p>\n<p><code>_</code> indicates any one byte.</p>\n<p>Use the backslash (<code>\\</code>) for escaping metasymbols. See the note on escaping in the description of the 'match' function.</p>\n<p>For regular expressions like <code>%needle%</code>, the code is more optimal and works as fast as the <code>position</code> function.\nFor other regular expressions, the code is the same as for the 'match' function.</p>\n<h3 id=\"notlike-haystack-pattern-haystack-not-like-pattern-operator\">notLike(haystack, pattern), haystack NOT LIKE pattern operator<a class=\"headerlink\" href=\"#notlike-haystack-pattern-haystack-not-like-pattern-operator\" title=\"Permanent link\">&para;</a></h3>\n<p>The same thing as 'like', but negative.</p>\n<h3 id=\"ngramdistance-haystack-needle\">ngramDistance(haystack, needle)<a class=\"headerlink\" href=\"#ngramdistance-haystack-needle\" title=\"Permanent link\">&para;</a></h3>\n<p>Calculates the 4-gram distance between <code>haystack</code> and <code>needle</code>: counts the symmetric difference between two multisets of 4-grams and normalizes it by the sum of their cardinalities. Returns float number from 0 to 1 -- the closer to zero, the more strings are similar to each other. If the <code>needle</code> is more than 32Kb, throws an exception. If some of the <code>haystack</code> strings are more than 32Kb, the distance is always one.</p>\n<p>For case-insensitive search or/and in UTF-8 format use functions <code>ngramDistanceCaseInsensitive, ngramDistanceUTF8, ngramDistanceCaseInsensitiveUTF8</code>.</p>\n<p><strong>Note: For UTF-8 case we use 3-gram distance. All these are not perfectly fair n-gram distances. We use 2-byte hashes to hash n-grams and then calculate the symmetric difference between these hash tables -- collisions may occur. With UTF-8 case-insensitive format we do not use fair <code>tolower</code> function -- we zero the 5-th bit (starting from zero) of each codepoint byte -- this works for Latin and mostly for all Cyrillic letters.</strong></p>\n<p><a name=\"../../../../functions/string_replace_functions/\"></a>\n<a name=\"string_replace_functions/\"></a>\n<a name=\"../functions/string_replace_functions/\"></a>\n<a name=\"../../../../query_language/functions/string_replace_functions/\"></a>\n<a name=\"../../query_language/functions/string_replace_functions/\"></a>\n<a name=\"../../../../../query_language/functions/string_replace_functions/\"></a>\n<a name=\"../../functions/string_replace_functions/\"></a>\n<a name=\"../query_language/functions/string_replace_functions/\"></a>\n<a name=\"../../../../../../functions/string_replace_functions/\"></a>\n<a name=\"functions/string_replace_functions/\"></a>\n<a name=\"../../../../../functions/string_replace_functions/\"></a>\n<a name=\"query_language/functions/string_replace_functions/\"></a>\n<a name=\"../../../functions/string_replace_functions/\"></a>\n<a name=\"../../../query_language/functions/string_replace_functions/\"></a></p>\n<h2 id=\"functions-for-searching-and-replacing-in-strings\">Functions for searching and replacing in strings<a class=\"headerlink\" href=\"#functions-for-searching-and-replacing-in-strings\" title=\"Permanent link\">&para;</a></h2>\n<h3 id=\"replaceone-haystack-pattern-replacement\">replaceOne(haystack, pattern, replacement)<a class=\"headerlink\" href=\"#replaceone-haystack-pattern-replacement\" title=\"Permanent link\">&para;</a></h3>\n<p>Replaces the first occurrence, if it exists, of the 'pattern' substring in 'haystack' with the 'replacement' substring.\nHereafter, 'pattern' and 'replacement' must be constants.</p>\n<h3 id=\"replaceall-haystack-pattern-replacement-replace-haystack-pattern-replacement\">replaceAll(haystack, pattern, replacement), replace(haystack, pattern, replacement)<a class=\"headerlink\" href=\"#replaceall-haystack-pattern-replacement-replace-haystack-pattern-replacement\" title=\"Permanent link\">&para;</a></h3>\n<p>Replaces all occurrences of the 'pattern' substring in 'haystack' with the 'replacement' substring.</p>\n<h3 id=\"replaceregexpone-haystack-pattern-replacement\">replaceRegexpOne(haystack, pattern, replacement)<a class=\"headerlink\" href=\"#replaceregexpone-haystack-pattern-replacement\" title=\"Permanent link\">&para;</a></h3>\n<p>Replacement using the 'pattern' regular expression. A re2 regular expression.\nReplaces only the first occurrence, if it exists.\nA pattern can be specified as 'replacement'. This pattern can include substitutions <code>\\0-\\9</code>.\nThe substitution <code>\\0</code> includes the entire regular expression. Substitutions <code>\\1-\\9</code> correspond to the subpattern numbers.To use the <code>\\</code> character in a template, escape it using <code>\\</code>.\nAlso keep in mind that a string literal requires an extra escape.</p>\n<p>Example 1. Converting the date to American format:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"k\">DISTINCT</span>\n    <span class=\"n\">EventDate</span><span class=\"p\">,</span>\n    <span class=\"n\">replaceRegexpOne</span><span class=\"p\">(</span><span class=\"n\">toString</span><span class=\"p\">(</span><span class=\"n\">EventDate</span><span class=\"p\">),</span> <span class=\"s1\">&#39;(\\\\d{4})-(\\\\d{2})-(\\\\d{2})&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;\\\\2/\\\\3/\\\\1&#39;</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">res</span>\n<span class=\"k\">FROM</span> <span class=\"n\">test</span><span class=\"p\">.</span><span class=\"n\">hits</span>\n<span class=\"k\">LIMIT</span> <span class=\"mi\">7</span>\n<span class=\"n\">FORMAT</span> <span class=\"n\">TabSeparated</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">2014-03-17      03/17/2014</span>\n<span class=\"err\">2014-03-18      03/18/2014</span>\n<span class=\"err\">2014-03-19      03/19/2014</span>\n<span class=\"err\">2014-03-20      03/20/2014</span>\n<span class=\"err\">2014-03-21      03/21/2014</span>\n<span class=\"err\">2014-03-22      03/22/2014</span>\n<span class=\"err\">2014-03-23      03/23/2014</span>\n</pre></div>\n\n\n<p>Example 2. Copying a string ten times:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">replaceRegexpOne</span><span class=\"p\">(</span><span class=\"s1\">&#39;Hello, World!&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;.*&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;\\\\0\\\\0\\\\0\\\\0\\\\0\\\\0\\\\0\\\\0\\\\0\\\\0&#39;</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">res</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500res\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502 Hello, World!Hello, World!Hello, World!Hello, World!Hello, World!Hello, World!Hello, World!Hello, World!Hello, World!Hello, World! \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"replaceregexpall-haystack-pattern-replacement\">replaceRegexpAll(haystack, pattern, replacement)<a class=\"headerlink\" href=\"#replaceregexpall-haystack-pattern-replacement\" title=\"Permanent link\">&para;</a></h3>\n<p>This does the same thing, but replaces all the occurrences. Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">replaceRegexpAll</span><span class=\"p\">(</span><span class=\"s1\">&#39;Hello, World!&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;.&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;\\\\0\\\\0&#39;</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">res</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500res\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502 HHeelllloo,,  WWoorrlldd!! \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>As an exception, if a regular expression worked on an empty substring, the replacement is not made more than once.\nExample:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">replaceRegexpAll</span><span class=\"p\">(</span><span class=\"s1\">&#39;Hello, World!&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;^&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;here: &#39;</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">res</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500res\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502 here: Hello, World! \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"regexpquotemeta-s\">regexpQuoteMeta(s)<a class=\"headerlink\" href=\"#regexpquotemeta-s\" title=\"Permanent link\">&para;</a></h3>\n<p>The function adds a backslash before some predefined characters in the string.\nPredefined characters: '0', '\\', '|', '(', ')', '^', '$', '.', '[', ']', '?', '*', '+', '{', ':', '-'.\nThis implementation slightly differs from re2::RE2::QuoteMeta. It escapes zero byte as \\0 instead of \\x00 and it escapes only required characters.\nFor more information, see the link: <a href=\"https://github.com/google/re2/blob/master/re2/re2.cc#L473\" rel=\"external nofollow\">RE2</a></p>\n<p><a name=\"../../../query_language/functions/conditional_functions/\"></a>\n<a name=\"functions/conditional_functions/\"></a>\n<a name=\"../../../../query_language/functions/conditional_functions/\"></a>\n<a name=\"../../functions/conditional_functions/\"></a>\n<a name=\"../../../../../query_language/functions/conditional_functions/\"></a>\n<a name=\"../../../functions/conditional_functions/\"></a>\n<a name=\"../../../../../../functions/conditional_functions/\"></a>\n<a name=\"../../query_language/functions/conditional_functions/\"></a>\n<a name=\"../../../../functions/conditional_functions/\"></a>\n<a name=\"query_language/functions/conditional_functions/\"></a>\n<a name=\"../../../../../functions/conditional_functions/\"></a>\n<a name=\"../functions/conditional_functions/\"></a>\n<a name=\"../query_language/functions/conditional_functions/\"></a>\n<a name=\"conditional_functions/\"></a></p>\n<h2 id=\"conditional-functions\">Conditional functions<a class=\"headerlink\" href=\"#conditional-functions\" title=\"Permanent link\">&para;</a></h2>\n<h3 id=\"if-cond-then-else-cond-operator-then-else\">if(cond, then, else), cond ? operator then : else<a class=\"headerlink\" href=\"#if-cond-then-else-cond-operator-then-else\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns <code>then</code> if <code>cond != 0</code>, or <code>else</code> if <code>cond = 0</code>.\n<code>cond</code> must be of type <code>UInt8</code>, and <code>then</code> and <code>else</code> must have the lowest common type.</p>\n<p><code>then</code> and <code>else</code> can be <code>NULL</code></p>\n<h3 id=\"multiif\">multiIf<a class=\"headerlink\" href=\"#multiif\" title=\"Permanent link\">&para;</a></h3>\n<p>Allows you to write the <a href=\"#operator_case\">CASE</a> operator more compactly in the query.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">multiIf(cond_1, then_1, cond_2, then_2...else)</span>\n</pre></div>\n\n\n<p><strong>Parameters:</strong></p>\n<ul>\n<li><code>cond_N</code> \u2014 The condition for the function to return <code>then_N</code>.</li>\n<li><code>then_N</code> \u2014 The result of the function when executed.</li>\n<li><code>else</code> \u2014 The result of the function if none of the conditions is met.</li>\n</ul>\n<p>The function accepts <code>2N+1</code> parameters.</p>\n<p><strong>Returned values</strong></p>\n<p>The function returns one of the values <code>then_N</code> or <code>else</code>, depending on the conditions <code>cond_N</code>.</p>\n<p><strong>Example</strong></p>\n<p>Take the table</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500x\u2500\u252c\u2500\u2500\u2500\u2500y\u2500\u2510</span>\n<span class=\"err\">\u2502 1 \u2502 \u1d3a\u1d41\u1d38\u1d38 \u2502</span>\n<span class=\"err\">\u2502 2 \u2502    3 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>Run the query <code>SELECT multiIf(isNull(y) x, y &lt; 3, y, NULL) FROM t_null</code>. Result:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500multiIf(isNull(y), x, less(y, 3), y, NULL)\u2500\u2510</span>\n<span class=\"err\">\u2502                                          1 \u2502</span>\n<span class=\"err\">\u2502                                       \u1d3a\u1d41\u1d38\u1d38 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p><a name=\"functions/math_functions/\"></a>\n<a name=\"../../../../functions/math_functions/\"></a>\n<a name=\"../../../query_language/functions/math_functions/\"></a>\n<a name=\"../../../../query_language/functions/math_functions/\"></a>\n<a name=\"../../functions/math_functions/\"></a>\n<a name=\"../../../../../functions/math_functions/\"></a>\n<a name=\"../../../functions/math_functions/\"></a>\n<a name=\"math_functions/\"></a>\n<a name=\"../query_language/functions/math_functions/\"></a>\n<a name=\"../functions/math_functions/\"></a>\n<a name=\"../../../../../query_language/functions/math_functions/\"></a>\n<a name=\"../../../../../../functions/math_functions/\"></a>\n<a name=\"query_language/functions/math_functions/\"></a>\n<a name=\"../../query_language/functions/math_functions/\"></a></p>\n<h2 id=\"mathematical-functions\">Mathematical functions<a class=\"headerlink\" href=\"#mathematical-functions\" title=\"Permanent link\">&para;</a></h2>\n<p>All the functions return a Float64 number. The accuracy of the result is close to the maximum precision possible, but the result might not coincide with the machine representable number nearest to the corresponding real number.</p>\n<h3 id=\"e\">e()<a class=\"headerlink\" href=\"#e\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns a Float64 number that is close to the number e.</p>\n<h3 id=\"pi\">pi()<a class=\"headerlink\" href=\"#pi\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns a Float64 number that is close to the number \u03c0.</p>\n<h3 id=\"exp-x\">exp(x)<a class=\"headerlink\" href=\"#exp-x\" title=\"Permanent link\">&para;</a></h3>\n<p>Accepts a numeric argument and returns a Float64 number close to the exponent of the argument.</p>\n<h3 id=\"log-x-ln-x\">log(x), ln(x)<a class=\"headerlink\" href=\"#log-x-ln-x\" title=\"Permanent link\">&para;</a></h3>\n<p>Accepts a numeric argument and returns a Float64 number close to the natural logarithm of the argument.</p>\n<h3 id=\"exp2-x\">exp2(x)<a class=\"headerlink\" href=\"#exp2-x\" title=\"Permanent link\">&para;</a></h3>\n<p>Accepts a numeric argument and returns a Float64 number close to 2 to the power of x.</p>\n<h3 id=\"log2-x\">log2(x)<a class=\"headerlink\" href=\"#log2-x\" title=\"Permanent link\">&para;</a></h3>\n<p>Accepts a numeric argument and returns a Float64 number close to the binary logarithm of the argument.</p>\n<h3 id=\"exp10-x\">exp10(x)<a class=\"headerlink\" href=\"#exp10-x\" title=\"Permanent link\">&para;</a></h3>\n<p>Accepts a numeric argument and returns a Float64 number close to 10 to the power of x.</p>\n<h3 id=\"log10-x\">log10(x)<a class=\"headerlink\" href=\"#log10-x\" title=\"Permanent link\">&para;</a></h3>\n<p>Accepts a numeric argument and returns a Float64 number close to the decimal logarithm of the argument.</p>\n<h3 id=\"sqrt-x\">sqrt(x)<a class=\"headerlink\" href=\"#sqrt-x\" title=\"Permanent link\">&para;</a></h3>\n<p>Accepts a numeric argument and returns a Float64 number close to the square root of the argument.</p>\n<h3 id=\"cbrt-x\">cbrt(x)<a class=\"headerlink\" href=\"#cbrt-x\" title=\"Permanent link\">&para;</a></h3>\n<p>Accepts a numeric argument and returns a Float64 number close to the cubic root of the argument.</p>\n<h3 id=\"erf-x\">erf(x)<a class=\"headerlink\" href=\"#erf-x\" title=\"Permanent link\">&para;</a></h3>\n<p>If 'x' is non-negative, then erf(x / \u03c3\u221a2)<g> is the probability that a random variable having a normal distribution with standard deviation '\u03c3' takes the value that is separated from the expected value by more than 'x'.</p>\n<p>Example (three sigma rule):</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">erf</span><span class=\"p\">(</span><span class=\"mi\">3</span> <span class=\"o\">/</span> <span class=\"n\">sqrt</span><span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">))</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500erf(divide(3, sqrt(2)))\u2500\u2510</span>\n<span class=\"err\">\u2502      0.9973002039367398 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"erfc-x\">erfc(x)<a class=\"headerlink\" href=\"#erfc-x\" title=\"Permanent link\">&para;</a></h3>\n<p>Accepts a numeric argument and returns a Float64 number close to 1 - erf(x), but without loss of precision for large 'x' values.</p>\n<h3 id=\"lgamma-x\">lgamma(x)<a class=\"headerlink\" href=\"#lgamma-x\" title=\"Permanent link\">&para;</a></h3>\n<p>The logarithm of the gamma function.</p>\n<h3 id=\"tgamma-x\">tgamma(x)<a class=\"headerlink\" href=\"#tgamma-x\" title=\"Permanent link\">&para;</a></h3>\n<p>Gamma function.</p>\n<h3 id=\"sin-x\">sin(x)<a class=\"headerlink\" href=\"#sin-x\" title=\"Permanent link\">&para;</a></h3>\n<p>The sine.</p>\n<h3 id=\"cos-x\">cos(x)<a class=\"headerlink\" href=\"#cos-x\" title=\"Permanent link\">&para;</a></h3>\n<p>The cosine.</p>\n<h3 id=\"tan-x\">tan(x)<a class=\"headerlink\" href=\"#tan-x\" title=\"Permanent link\">&para;</a></h3>\n<p>The tangent.</p>\n<h3 id=\"asin-x\">asin(x)<a class=\"headerlink\" href=\"#asin-x\" title=\"Permanent link\">&para;</a></h3>\n<p>The arc sine.</p>\n<h3 id=\"acos-x\">acos(x)<a class=\"headerlink\" href=\"#acos-x\" title=\"Permanent link\">&para;</a></h3>\n<p>The arc cosine.</p>\n<h3 id=\"atan-x\">atan(x)<a class=\"headerlink\" href=\"#atan-x\" title=\"Permanent link\">&para;</a></h3>\n<p>The arc tangent.</p>\n<h3 id=\"pow-x-y-power-x-y\">pow(x, y), power(x, y)<a class=\"headerlink\" href=\"#pow-x-y-power-x-y\" title=\"Permanent link\">&para;</a></h3>\n<p>Takes two numeric arguments x and y. Returns a Float64 number close to x to the power of y.</p>\n<h3 id=\"intexp2\">intExp2<a class=\"headerlink\" href=\"#intexp2\" title=\"Permanent link\">&para;</a></h3>\n<p>Accepts a numeric argument and returns a UInt64 number close to 2 to the power of x.</p>\n<h3 id=\"intexp10\">intExp10<a class=\"headerlink\" href=\"#intexp10\" title=\"Permanent link\">&para;</a></h3>\n<p>Accepts a numeric argument and returns a UInt64 number close to 10 to the power of x.</p>\n<p><a name=\"../../functions/rounding_functions/\"></a>\n<a name=\"../../../../query_language/functions/rounding_functions/\"></a>\n<a name=\"../../../query_language/functions/rounding_functions/\"></a>\n<a name=\"../../../functions/rounding_functions/\"></a>\n<a name=\"../query_language/functions/rounding_functions/\"></a>\n<a name=\"../functions/rounding_functions/\"></a>\n<a name=\"query_language/functions/rounding_functions/\"></a>\n<a name=\"../../../../../../functions/rounding_functions/\"></a>\n<a name=\"../../query_language/functions/rounding_functions/\"></a>\n<a name=\"../../../../../functions/rounding_functions/\"></a>\n<a name=\"rounding_functions/\"></a>\n<a name=\"../../../../../query_language/functions/rounding_functions/\"></a>\n<a name=\"../../../../functions/rounding_functions/\"></a>\n<a name=\"functions/rounding_functions/\"></a></p>\n<h2 id=\"rounding-functions\">Rounding functions<a class=\"headerlink\" href=\"#rounding-functions\" title=\"Permanent link\">&para;</a></h2>\n<h3 id=\"floor-x-91-n-93\">floor(x[, N])<a class=\"headerlink\" href=\"#floor-x-91-n-93\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns the largest round number that is less than or equal to x. A round number is a multiple of 1/10N, or the nearest number of the appropriate data type if 1 / 10N isn't exact.\n'N' is an integer constant, optional parameter. By default it is zero, which means to round to an integer.\n'N' may be negative.</p>\n<p>Examples: <code>floor(123.45, 1) = 123.4, floor(123.45, -1) = 120.</code></p>\n<p><code>x</code> is any numeric type. The result is a number of the same type.\nFor integer arguments, it makes sense to round with a negative 'N' value (for non-negative 'N', the function doesn't do anything).\nIf rounding causes overflow (for example, floor(-128, -1)), an implementation-specific result is returned.</p>\n<h3 id=\"ceil-x-91-n-93-ceiling-x-91-n-93\">ceil(x[, N]), ceiling(x[, N])<a class=\"headerlink\" href=\"#ceil-x-91-n-93-ceiling-x-91-n-93\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns the smallest round number that is greater than or equal to 'x'. In every other way, it is the same as the 'floor' function (see above).</p>\n<h3 id=\"rounding_functions-round\">round(x[, N])<a class=\"headerlink\" href=\"#rounding_functions-round\" title=\"Permanent link\">&para;</a></h3>\n<p>Rounds a value to a specified number of decimal places.</p>\n<p>The function returns the nearest number of the specified order. In case when given number has equal distance to surrounding numbers the function returns the number having the nearest even digit (banker's rounding).</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">round(expression [, decimal_places])</span>\n</pre></div>\n\n\n<p><strong>Parameters:</strong></p>\n<ul>\n<li><code>expression</code> \u2014 A number to be rounded. Can be any <a href=\"#syntax-expressions\">expression</a> returning the numeric <a href=\"#data_types\">data type</a>.</li>\n<li><code>decimal-places</code> \u2014 An integer value.<ul>\n<li>If <code>decimal-places &gt; 0</code> then the function rounds the value to the right of the decimal point.</li>\n<li>If <code>decimal-places &lt; 0</code> then the function rounds the value to the left of the decimal point.</li>\n<li>If <code>decimal-places = 0</code> then the function rounds the value to integer. In this case the argument can be omitted.</li>\n</ul>\n</li>\n</ul>\n<p><strong>Returned value:</strong></p>\n<p>The rounded number of the same type as the input number.</p>\n<h4 id=\"examples\">Examples<a class=\"headerlink\" href=\"#examples\" title=\"Permanent link\">&para;</a></h4>\n<p><strong>Example of use</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"nb\">number</span> <span class=\"o\">/</span> <span class=\"mi\">2</span> <span class=\"k\">AS</span> <span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">round</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">)</span> <span class=\"k\">FROM</span> <span class=\"k\">system</span><span class=\"p\">.</span><span class=\"n\">numbers</span> <span class=\"k\">LIMIT</span> <span class=\"mi\">3</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500\u2500\u2500x\u2500\u252c\u2500round(divide(number, 2))\u2500\u2510</span>\n<span class=\"err\">\u2502   0 \u2502                        0 \u2502</span>\n<span class=\"err\">\u2502 0.5 \u2502                        0 \u2502</span>\n<span class=\"err\">\u2502   1 \u2502                        1 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p><strong>Examples of rounding</strong></p>\n<p>Rounding to the nearest number.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">round(3.2, 0) = 3</span>\n<span class=\"err\">round(4.1267, 2) = 4.13</span>\n<span class=\"err\">round(22,-1) = 20</span>\n<span class=\"err\">round(467,-2) = 500</span>\n<span class=\"err\">round(-467,-2) = -500</span>\n</pre></div>\n\n\n<p>Banker's rounding.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">round(3.5) = 4</span>\n<span class=\"err\">round(4.5) = 4</span>\n<span class=\"err\">round(3.55, 1) = 3.6</span>\n<span class=\"err\">round(3.65, 1) = 3.6</span>\n</pre></div>\n\n\n<h3 id=\"roundtoexp2-num\">roundToExp2(num)<a class=\"headerlink\" href=\"#roundtoexp2-num\" title=\"Permanent link\">&para;</a></h3>\n<p>Accepts a number. If the number is less than one, it returns 0. Otherwise, it rounds the number down to the nearest (whole non-negative) degree of two.</p>\n<h3 id=\"roundduration-num\">roundDuration(num)<a class=\"headerlink\" href=\"#roundduration-num\" title=\"Permanent link\">&para;</a></h3>\n<p>Accepts a number. If the number is less than one, it returns 0. Otherwise, it rounds the number down to numbers from the set: 1, 10, 30, 60, 120, 180, 240, 300, 600, 1200, 1800, 3600, 7200, 18000, 36000. This function is specific to Yandex.Metrica and used for implementing the report on session length</p>\n<h3 id=\"roundage-num\">roundAge(num)<a class=\"headerlink\" href=\"#roundage-num\" title=\"Permanent link\">&para;</a></h3>\n<p>Accepts a number. If the number is less than 18, it returns 0. Otherwise, it rounds the number down to a number from the set: 18, 25, 35, 45, 55. This function is specific to Yandex.Metrica and used for implementing the report on user age.</p>\n<h3 id=\"rounddown-num-arr\">roundDown(num, arr)<a class=\"headerlink\" href=\"#rounddown-num-arr\" title=\"Permanent link\">&para;</a></h3>\n<p>Accept a number, round it down to an element in the specified array. If the value is less than the lowest bound, the lowest bound is returned.</p>\n<p><a name=\"functions/array_functions/\"></a>\n<a name=\"../../../../../functions/array_functions/\"></a>\n<a name=\"../../../../query_language/functions/array_functions/\"></a>\n<a name=\"../../../functions/array_functions/\"></a>\n<a name=\"../../query_language/functions/array_functions/\"></a>\n<a name=\"../../../../../../functions/array_functions/\"></a>\n<a name=\"../../../query_language/functions/array_functions/\"></a>\n<a name=\"../../../../functions/array_functions/\"></a>\n<a name=\"array_functions/\"></a>\n<a name=\"../functions/array_functions/\"></a>\n<a name=\"query_language/functions/array_functions/\"></a>\n<a name=\"../../functions/array_functions/\"></a>\n<a name=\"../query_language/functions/array_functions/\"></a>\n<a name=\"../../../../../query_language/functions/array_functions/\"></a></p>\n<h2 id=\"functions-for-working-with-arrays\">Functions for working with arrays<a class=\"headerlink\" href=\"#functions-for-working-with-arrays\" title=\"Permanent link\">&para;</a></h2>\n<h3 id=\"empty\">empty<a class=\"headerlink\" href=\"#empty\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns 1 for an empty array, or 0 for a non-empty array.\nThe result type is UInt8.\nThe function also works for strings.</p>\n<h3 id=\"notempty_1\">notEmpty<a class=\"headerlink\" href=\"#notempty_1\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns 0 for an empty array, or 1 for a non-empty array.\nThe result type is UInt8.\nThe function also works for strings.</p>\n<h3 id=\"array_functions-length\">length<a class=\"headerlink\" href=\"#array_functions-length\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns the number of items in the array.\nThe result type is UInt64.\nThe function also works for strings.</p>\n<h3 id=\"emptyarrayuint8-emptyarrayuint16-emptyarrayuint32-emptyarrayuint64\">emptyArrayUInt8, emptyArrayUInt16, emptyArrayUInt32, emptyArrayUInt64<a class=\"headerlink\" href=\"#emptyarrayuint8-emptyarrayuint16-emptyarrayuint32-emptyarrayuint64\" title=\"Permanent link\">&para;</a></h3>\n<h3 id=\"emptyarrayint8-emptyarrayint16-emptyarrayint32-emptyarrayint64\">emptyArrayInt8, emptyArrayInt16, emptyArrayInt32, emptyArrayInt64<a class=\"headerlink\" href=\"#emptyarrayint8-emptyarrayint16-emptyarrayint32-emptyarrayint64\" title=\"Permanent link\">&para;</a></h3>\n<h3 id=\"emptyarrayfloat32-emptyarrayfloat64\">emptyArrayFloat32, emptyArrayFloat64<a class=\"headerlink\" href=\"#emptyarrayfloat32-emptyarrayfloat64\" title=\"Permanent link\">&para;</a></h3>\n<h3 id=\"emptyarraydate-emptyarraydatetime\">emptyArrayDate, emptyArrayDateTime<a class=\"headerlink\" href=\"#emptyarraydate-emptyarraydatetime\" title=\"Permanent link\">&para;</a></h3>\n<h3 id=\"emptyarraystring\">emptyArrayString<a class=\"headerlink\" href=\"#emptyarraystring\" title=\"Permanent link\">&para;</a></h3>\n<p>Accepts zero arguments and returns an empty array of the appropriate type.</p>\n<h3 id=\"emptyarraytosingle\">emptyArrayToSingle<a class=\"headerlink\" href=\"#emptyarraytosingle\" title=\"Permanent link\">&para;</a></h3>\n<p>Accepts an empty array and returns a one-element array that is equal to the default value.</p>\n<h3 id=\"range-n\">range(N)<a class=\"headerlink\" href=\"#range-n\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns an array of numbers from 0 to N-1.\nJust in case, an exception is thrown if arrays with a total length of more than 100,000,000 elements are created in a data block.</p>\n<h3 id=\"array-x1-operator-91-x1-93\">array(x1, ...), operator [x1, ...]<a class=\"headerlink\" href=\"#array-x1-operator-91-x1-93\" title=\"Permanent link\">&para;</a></h3>\n<p>Creates an array from the function arguments.\nThe arguments must be constants and have types that have the smallest common type. At least one argument must be passed, because otherwise it isn't clear which type of array to create. That is, you can't use this function to create an empty array (to do that, use the 'emptyArray*' function described above).\nReturns an 'Array(T)' type result, where 'T' is the smallest common type out of the passed arguments.</p>\n<h3 id=\"arrayconcat\">arrayConcat<a class=\"headerlink\" href=\"#arrayconcat\" title=\"Permanent link\">&para;</a></h3>\n<p>Combines arrays passed as arguments.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">arrayConcat(arrays)</span>\n</pre></div>\n\n\n<p><strong>Parameters</strong></p>\n<ul>\n<li><code>arrays</code> \u2013 Arbitrary number of arguments of <a href=\"#../../data_types/array/\">Array</a> type.\n<strong>Example</strong></li>\n</ul>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">arrayConcat</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"mi\">6</span><span class=\"p\">])</span> <span class=\"k\">AS</span> <span class=\"n\">res</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500res\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502 [1,2,3,4,5,6] \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"arrayelement-arr-n-operator-arr-n\">arrayElement(arr, n), operator arr[n]<a class=\"headerlink\" href=\"#arrayelement-arr-n-operator-arr-n\" title=\"Permanent link\">&para;</a></h3>\n<p>Get the element with the index <code>n</code> from the array <code>arr</code>. <code>n</code> must be any integer type.\nIndexes in an array begin from one.\nNegative indexes are supported. In this case, it selects the corresponding element numbered from the end. For example, <code>arr[-1]</code> is the last item in the array.</p>\n<p>If the index falls outside of the bounds of an array, it returns some default value (0 for numbers, an empty string for strings, etc.).</p>\n<h3 id=\"has-arr-elem\">has(arr, elem)<a class=\"headerlink\" href=\"#has-arr-elem\" title=\"Permanent link\">&para;</a></h3>\n<p>Checks whether the 'arr' array has the 'elem' element.\nReturns 0 if the the element is not in the array, or 1 if it is.</p>\n<p><code>NULL</code> is processed as a value.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">has</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"k\">NULL</span><span class=\"p\">],</span> <span class=\"k\">NULL</span><span class=\"p\">)</span>\n\n<span class=\"err\">\u250c\u2500</span><span class=\"n\">has</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"k\">NULL</span><span class=\"p\">],</span> <span class=\"k\">NULL</span><span class=\"p\">)</span><span class=\"err\">\u2500\u2510</span>\n<span class=\"err\">\u2502</span>                       <span class=\"mi\">1</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"hasall\">hasAll<a class=\"headerlink\" href=\"#hasall\" title=\"Permanent link\">&para;</a></h3>\n<p>Checks whether one array is a subset of another.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">hasAll(set, subset)</span>\n</pre></div>\n\n\n<p><strong>Parameters</strong></p>\n<ul>\n<li><code>set</code> \u2013 Array of any type with a set of elements.</li>\n<li><code>subset</code> \u2013 Array of any type with elements that should be tested to be a subset of <code>set</code>.</li>\n</ul>\n<p><strong>Return values</strong></p>\n<ul>\n<li><code>1</code>, if <code>set</code> contains all of the elements from <code>subset</code>.</li>\n<li><code>0</code>, otherwise.</li>\n</ul>\n<p><strong>Peculiar properties</strong></p>\n<ul>\n<li>An empty array is a subset of any array.</li>\n<li><code>Null</code> processed as a value.</li>\n<li>Order of values in both of arrays doesn't matter.</li>\n</ul>\n<p><strong>Examples</strong></p>\n<p><code>SELECT hasAll([], [])</code> returns 1.</p>\n<p><code>SELECT hasAll([1, Null], [Null])</code> returns 1.</p>\n<p><code>SELECT hasAll([1.0, 2, 3, 4], [1, 3])</code> returns 1.</p>\n<p><code>SELECT hasAll(['a', 'b'], ['a'])</code> returns 1.</p>\n<p><code>SELECT hasAll([1], ['a'])</code> returns 0.</p>\n<p><code>SELECT hasAll([[1, 2], [3, 4]], [[1, 2], [3, 5]])</code> returns 0.</p>\n<h3 id=\"hasany\">hasAny<a class=\"headerlink\" href=\"#hasany\" title=\"Permanent link\">&para;</a></h3>\n<p>Checks whether two arrays have intersection by some elements.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">hasAny(array1, array2)</span>\n</pre></div>\n\n\n<p><strong>Parameters</strong></p>\n<ul>\n<li><code>array1</code> \u2013 Array of any type with a set of elements.</li>\n<li><code>array2</code> \u2013 Array of any type with a set of elements.</li>\n</ul>\n<p><strong>Return values</strong></p>\n<ul>\n<li><code>1</code>, if <code>array1</code> and <code>array2</code> have one similar element at least.</li>\n<li><code>0</code>, otherwise.</li>\n</ul>\n<p><strong>Peculiar properties</strong></p>\n<ul>\n<li><code>Null</code> processed as a value.</li>\n<li>Order of values in both of arrays doesn't matter.</li>\n</ul>\n<p><strong>Examples</strong></p>\n<p><code>SELECT hasAny([1], [])</code> returns <code>0</code>.</p>\n<p><code>SELECT hasAny([Null], [Null, 1])</code> returns <code>1</code>.</p>\n<p><code>SELECT hasAny([-128, 1., 512], [1])</code> returns <code>1</code>.</p>\n<p><code>SELECT hasAny([[1, 2], [3, 4]], ['a', 'c'])</code> returns <code>0</code>.</p>\n<p><code>SELECT hasAll([[1, 2], [3, 4]], [[1, 2], [1, 2]])</code> returns <code>1</code>.</p>\n<h3 id=\"indexof-arr-x\">indexOf(arr, x)<a class=\"headerlink\" href=\"#indexof-arr-x\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns the index of the first 'x' element (starting from 1) if it is in the array, or 0 if it is not.</p>\n<p>Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"p\">:)</span> <span class=\"k\">SELECT</span> <span class=\"n\">indexOf</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"k\">NULL</span><span class=\"p\">,</span><span class=\"k\">NULL</span><span class=\"p\">],</span><span class=\"k\">NULL</span><span class=\"p\">)</span>\n\n<span class=\"k\">SELECT</span> <span class=\"n\">indexOf</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"k\">NULL</span><span class=\"p\">,</span> <span class=\"k\">NULL</span><span class=\"p\">],</span> <span class=\"k\">NULL</span><span class=\"p\">)</span>\n\n<span class=\"err\">\u250c\u2500</span><span class=\"n\">indexOf</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"k\">NULL</span><span class=\"p\">,</span> <span class=\"k\">NULL</span><span class=\"p\">],</span> <span class=\"k\">NULL</span><span class=\"p\">)</span><span class=\"err\">\u2500\u2510</span>\n<span class=\"err\">\u2502</span>                                 <span class=\"mi\">3</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>Elements set to <code>NULL</code> are handled as normal values.</p>\n<h3 id=\"countequal-arr-x\">countEqual(arr, x)<a class=\"headerlink\" href=\"#countequal-arr-x\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns the number of elements in the array equal to x. Equivalent to arrayCount (elem -&gt; elem = x, arr).</p>\n<p><code>NULL</code> elements are handled as separate values.</p>\n<p>Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">countEqual</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"k\">NULL</span><span class=\"p\">,</span> <span class=\"k\">NULL</span><span class=\"p\">],</span> <span class=\"k\">NULL</span><span class=\"p\">)</span>\n\n<span class=\"err\">\u250c\u2500</span><span class=\"n\">countEqual</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"k\">NULL</span><span class=\"p\">,</span> <span class=\"k\">NULL</span><span class=\"p\">],</span> <span class=\"k\">NULL</span><span class=\"p\">)</span><span class=\"err\">\u2500\u2510</span>\n<span class=\"err\">\u2502</span>                                    <span class=\"mi\">2</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"array_functions-arrayenumerate\">arrayEnumerate(arr)<a class=\"headerlink\" href=\"#array_functions-arrayenumerate\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns the array [1, 2, 3, ..., length (arr) ]</p>\n<p>This function is normally used with ARRAY JOIN. It allows counting something just once for each array after applying ARRAY JOIN. Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span>\n    <span class=\"k\">count</span><span class=\"p\">()</span> <span class=\"k\">AS</span> <span class=\"n\">Reaches</span><span class=\"p\">,</span>\n    <span class=\"n\">countIf</span><span class=\"p\">(</span><span class=\"n\">num</span> <span class=\"o\">=</span> <span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">Hits</span>\n<span class=\"k\">FROM</span> <span class=\"n\">test</span><span class=\"p\">.</span><span class=\"n\">hits</span>\n<span class=\"nb\">ARRAY</span> <span class=\"k\">JOIN</span>\n    <span class=\"n\">GoalsReached</span><span class=\"p\">,</span>\n    <span class=\"n\">arrayEnumerate</span><span class=\"p\">(</span><span class=\"n\">GoalsReached</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">num</span>\n<span class=\"k\">WHERE</span> <span class=\"n\">CounterID</span> <span class=\"o\">=</span> <span class=\"mi\">160656</span>\n<span class=\"k\">LIMIT</span> <span class=\"mi\">10</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500Reaches\u2500\u252c\u2500\u2500Hits\u2500\u2510</span>\n<span class=\"err\">\u2502   95606 \u2502 31406 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>In this example, Reaches is the number of conversions (the strings received after applying ARRAY JOIN), and Hits is the number of pageviews (strings before ARRAY JOIN). In this particular case, you can get the same result in an easier way:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span>\n    <span class=\"k\">sum</span><span class=\"p\">(</span><span class=\"k\">length</span><span class=\"p\">(</span><span class=\"n\">GoalsReached</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">Reaches</span><span class=\"p\">,</span>\n    <span class=\"k\">count</span><span class=\"p\">()</span> <span class=\"k\">AS</span> <span class=\"n\">Hits</span>\n<span class=\"k\">FROM</span> <span class=\"n\">test</span><span class=\"p\">.</span><span class=\"n\">hits</span>\n<span class=\"k\">WHERE</span> <span class=\"p\">(</span><span class=\"n\">CounterID</span> <span class=\"o\">=</span> <span class=\"mi\">160656</span><span class=\"p\">)</span> <span class=\"k\">AND</span> <span class=\"n\">notEmpty</span><span class=\"p\">(</span><span class=\"n\">GoalsReached</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500Reaches\u2500\u252c\u2500\u2500Hits\u2500\u2510</span>\n<span class=\"err\">\u2502   95606 \u2502 31406 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>This function can also be used in higher-order functions. For example, you can use it to get array indexes for elements that match a condition.</p>\n<h3 id=\"arrayenumerateuniq-arr\">arrayEnumerateUniq(arr, ...)<a class=\"headerlink\" href=\"#arrayenumerateuniq-arr\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns an array the same size as the source array, indicating for each element what its position is among elements with the same value.\nFor example: arrayEnumerateUniq([10, 20, 10, 30]) = [1, 1, 2, 1].</p>\n<p>This function is useful when using ARRAY JOIN and aggregation of array elements.\nExample:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span>\n    <span class=\"n\">Goals</span><span class=\"p\">.</span><span class=\"n\">ID</span> <span class=\"k\">AS</span> <span class=\"n\">GoalID</span><span class=\"p\">,</span>\n    <span class=\"k\">sum</span><span class=\"p\">(</span><span class=\"n\">Sign</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">Reaches</span><span class=\"p\">,</span>\n    <span class=\"n\">sumIf</span><span class=\"p\">(</span><span class=\"n\">Sign</span><span class=\"p\">,</span> <span class=\"n\">num</span> <span class=\"o\">=</span> <span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">Visits</span>\n<span class=\"k\">FROM</span> <span class=\"n\">test</span><span class=\"p\">.</span><span class=\"n\">visits</span>\n<span class=\"nb\">ARRAY</span> <span class=\"k\">JOIN</span>\n    <span class=\"n\">Goals</span><span class=\"p\">,</span>\n    <span class=\"n\">arrayEnumerateUniq</span><span class=\"p\">(</span><span class=\"n\">Goals</span><span class=\"p\">.</span><span class=\"n\">ID</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">num</span>\n<span class=\"k\">WHERE</span> <span class=\"n\">CounterID</span> <span class=\"o\">=</span> <span class=\"mi\">160656</span>\n<span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">GoalID</span>\n<span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"n\">Reaches</span> <span class=\"k\">DESC</span>\n<span class=\"k\">LIMIT</span> <span class=\"mi\">10</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500\u2500GoalID\u2500\u252c\u2500Reaches\u2500\u252c\u2500Visits\u2500\u2510</span>\n<span class=\"err\">\u2502   53225 \u2502    3214 \u2502   1097 \u2502</span>\n<span class=\"err\">\u2502 2825062 \u2502    3188 \u2502   1097 \u2502</span>\n<span class=\"err\">\u2502   56600 \u2502    2803 \u2502    488 \u2502</span>\n<span class=\"err\">\u2502 1989037 \u2502    2401 \u2502    365 \u2502</span>\n<span class=\"err\">\u2502 2830064 \u2502    2396 \u2502    910 \u2502</span>\n<span class=\"err\">\u2502 1113562 \u2502    2372 \u2502    373 \u2502</span>\n<span class=\"err\">\u2502 3270895 \u2502    2262 \u2502    812 \u2502</span>\n<span class=\"err\">\u2502 1084657 \u2502    2262 \u2502    345 \u2502</span>\n<span class=\"err\">\u2502   56599 \u2502    2260 \u2502    799 \u2502</span>\n<span class=\"err\">\u2502 3271094 \u2502    2256 \u2502    812 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>In this example, each goal ID has a calculation of the number of conversions (each element in the Goals nested data structure is a goal that was reached, which we refer to as a conversion) and the number of sessions. Without ARRAY JOIN, we would have counted the number of sessions as sum(Sign). But in this particular case, the rows were multiplied by the nested Goals structure, so in order to count each session one time after this, we apply a condition to the value of the arrayEnumerateUniq(Goals.ID) function.</p>\n<p>The arrayEnumerateUniq function can take multiple arrays of the same size as arguments. In this case, uniqueness is considered for tuples of elements in the same positions in all the arrays.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">arrayEnumerateUniq</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">])</span> <span class=\"k\">AS</span> <span class=\"n\">res</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500res\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502 [1,2,1,1,2,1] \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>This is necessary when using ARRAY JOIN with a nested data structure and further aggregation across multiple elements in this structure.</p>\n<h3 id=\"arraypopback\">arrayPopBack<a class=\"headerlink\" href=\"#arraypopback\" title=\"Permanent link\">&para;</a></h3>\n<p>Removes the last item from the array.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">arrayPopBack(array)</span>\n</pre></div>\n\n\n<p><strong>Parameters</strong></p>\n<ul>\n<li><code>array</code> \u2013 Array.</li>\n</ul>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">arrayPopBack</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">])</span> <span class=\"k\">AS</span> <span class=\"n\">res</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500res\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502 [1,2] \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"arraypopfront\">arrayPopFront<a class=\"headerlink\" href=\"#arraypopfront\" title=\"Permanent link\">&para;</a></h3>\n<p>Removes the first item from the array.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">arrayPopFront(array)</span>\n</pre></div>\n\n\n<p><strong>Parameters</strong></p>\n<ul>\n<li><code>array</code> \u2013 Array.</li>\n</ul>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">arrayPopFront</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">])</span> <span class=\"k\">AS</span> <span class=\"n\">res</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500res\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502 [2,3] \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"arraypushback\">arrayPushBack<a class=\"headerlink\" href=\"#arraypushback\" title=\"Permanent link\">&para;</a></h3>\n<p>Adds one item to the end of the array.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">arrayPushBack(array, single_value)</span>\n</pre></div>\n\n\n<p><strong>Parameters</strong></p>\n<ul>\n<li><code>array</code> \u2013 Array.</li>\n<li><code>single_value</code> \u2013 A single value. Only numbers can be added to an array with numbers, and only strings can be added to an array of strings. When adding numbers, ClickHouse automatically sets the <code>single_value</code> type for the data type of the array. For more information about the types of data in ClickHouse, see \"<a href=\"#data_types\">Data types</a>\". Can be <code>NULL</code>. The function adds a <code>NULL</code> element to an array, and the type of array elements converts to <code>Nullable</code>.</li>\n</ul>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">arrayPushBack</span><span class=\"p\">([</span><span class=\"s1\">&#39;a&#39;</span><span class=\"p\">],</span> <span class=\"s1\">&#39;b&#39;</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">res</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500res\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502 [&#39;a&#39;,&#39;b&#39;] \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"arraypushfront\">arrayPushFront<a class=\"headerlink\" href=\"#arraypushfront\" title=\"Permanent link\">&para;</a></h3>\n<p>Adds one element to the beginning of the array.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">arrayPushFront(array, single_value)</span>\n</pre></div>\n\n\n<p><strong>Parameters</strong></p>\n<ul>\n<li><code>array</code> \u2013 Array.</li>\n<li><code>single_value</code> \u2013 A single value. Only numbers can be added to an array with numbers, and only strings can be added to an array of strings. When adding numbers, ClickHouse automatically sets the <code>single_value</code> type for the data type of the array. For more information about the types of data in ClickHouse, see \"<a href=\"#data_types\">Data types</a>\". Can be <code>NULL</code>. The function adds a <code>NULL</code> element to an array, and the type of array elements converts to <code>Nullable</code>.</li>\n</ul>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">arrayPushBack</span><span class=\"p\">([</span><span class=\"s1\">&#39;b&#39;</span><span class=\"p\">],</span> <span class=\"s1\">&#39;a&#39;</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">res</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500res\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502 [&#39;a&#39;,&#39;b&#39;] \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"arrayresize\">arrayResize<a class=\"headerlink\" href=\"#arrayresize\" title=\"Permanent link\">&para;</a></h3>\n<p>Changes the length of the array.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">arrayResize(array, size[, extender])</span>\n</pre></div>\n\n\n<p><strong>Parameters:</strong></p>\n<ul>\n<li><code>array</code> \u2014 Array.</li>\n<li><code>size</code> \u2014 Required length of the array.<ul>\n<li>If <code>size</code> is less than the original size of the array, the array is truncated from the right.</li>\n</ul>\n</li>\n<li>If <code>size</code> is larger than the initial size of the array, the array is extended to the right with <code>extender</code> values or default values for the data type of the array items.</li>\n<li><code>extender</code> \u2014 Value for extending an array. Can be <code>NULL</code>.</li>\n</ul>\n<p><strong>Returned value:</strong></p>\n<p>An array of length <code>size</code>.</p>\n<p><strong>Examples of calls</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">arrayResize</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">],</span> <span class=\"mi\">3</span><span class=\"p\">)</span>\n\n<span class=\"err\">\u250c\u2500</span><span class=\"n\">arrayResize</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">],</span> <span class=\"mi\">3</span><span class=\"p\">)</span><span class=\"err\">\u2500\u2510</span>\n<span class=\"err\">\u2502</span> <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">]</span>             <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">arrayResize</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">],</span> <span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"k\">NULL</span><span class=\"p\">)</span>\n\n<span class=\"err\">\u250c\u2500</span><span class=\"n\">arrayResize</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">],</span> <span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"k\">NULL</span><span class=\"p\">)</span><span class=\"err\">\u2500\u2510</span>\n<span class=\"err\">\u2502</span> <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"k\">NULL</span><span class=\"p\">,</span><span class=\"k\">NULL</span><span class=\"p\">]</span>             <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"arrayslice\">arraySlice<a class=\"headerlink\" href=\"#arrayslice\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns a slice of the array.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">arraySlice(array, offset[, length])</span>\n</pre></div>\n\n\n<p><strong>Parameters</strong></p>\n<ul>\n<li><code>array</code> \u2013  Array of data.</li>\n<li><code>offset</code> \u2013 Indent from the edge of the array. A positive value indicates an offset on the left, and a negative value is an indent on the right. Numbering of the array items begins with 1.</li>\n<li><code>length</code> - The length of the required slice. If you specify a negative value, the function returns an open slice <code>[offset, array_length - length)</code>. If you omit the value, the function returns the slice <code>[offset, the_end_of_array]</code>.</li>\n</ul>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">arraySlice</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"k\">NULL</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"mi\">5</span><span class=\"p\">],</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">res</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500res\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502 [2,NULL,4] \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>Array elements set to <code>NULL</code> are handled as normal values.</p>\n<h3 id=\"arrayuniq-arr\">arrayUniq(arr, ...)<a class=\"headerlink\" href=\"#arrayuniq-arr\" title=\"Permanent link\">&para;</a></h3>\n<p>If one argument is passed, it counts the number of different elements in the array.\nIf multiple arguments are passed, it counts the number of different tuples of elements at corresponding positions in multiple arrays.</p>\n<p>If you want to get a list of unique items in an array, you can use arrayReduce('groupUniqArray', arr).</p>\n<h3 id=\"array_functions-join\">arrayJoin(arr)<a class=\"headerlink\" href=\"#array_functions-join\" title=\"Permanent link\">&para;</a></h3>\n<p>A special function. See the section <a href=\"#functions_arrayjoin\">\"ArrayJoin function\"</a>.</p>\n<h3 id=\"arraydifference-arr\">arrayDifference(arr)<a class=\"headerlink\" href=\"#arraydifference-arr\" title=\"Permanent link\">&para;</a></h3>\n<p>Takes an array, returns an array with the difference between all pairs of neighboring elements. For example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">arrayDifference</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">])</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500arrayDifference([1, 2, 3, 4])\u2500\u2510</span>\n<span class=\"err\">\u2502 [0,1,1,1]                     \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"arraydistinct-arr\">arrayDistinct(arr)<a class=\"headerlink\" href=\"#arraydistinct-arr\" title=\"Permanent link\">&para;</a></h3>\n<p>Takes an array, returns an array containing the different elements in all the arrays. For example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">arrayDistinct</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">])</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500arrayDistinct([1, 2, 2, 3, 1])\u2500\u2510</span>\n<span class=\"err\">\u2502 [1,2,3]                        \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"arrayenumeratedense-arr\">arrayEnumerateDense(arr)<a class=\"headerlink\" href=\"#arrayenumeratedense-arr\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns an array of the same size as the source array, indicating where each element first appears in the source array. For example: arrayEnumerateDense([10,20,10,30]) = [1,2,1,3].</p>\n<h3 id=\"arrayintersect-arr\">arrayIntersect(arr)<a class=\"headerlink\" href=\"#arrayintersect-arr\" title=\"Permanent link\">&para;</a></h3>\n<p>Takes an array, returns the intersection of all array elements. For example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span>\n    <span class=\"n\">arrayIntersect</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">])</span> <span class=\"k\">AS</span> <span class=\"n\">no_intersect</span><span class=\"p\">,</span>\n    <span class=\"n\">arrayIntersect</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">])</span> <span class=\"k\">AS</span> <span class=\"k\">intersect</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500no_intersect\u2500\u252c\u2500intersect\u2500\u2510</span>\n<span class=\"err\">\u2502 []           \u2502 [1]       \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"arrayreduce-agg-func-arr1\">arrayReduce(agg_func, arr1, ...)<a class=\"headerlink\" href=\"#arrayreduce-agg-func-arr1\" title=\"Permanent link\">&para;</a></h3>\n<p>Applies an aggregate function to array and returns its result.If aggregate function has multiple arguments, then this function can be applied to multiple arrays of the same size.</p>\n<p>arrayReduce('agg_func', arr1, ...) - apply the aggregate function <code>agg_func</code> to arrays <code>arr1...</code>. If multiple arrays passed, then elements on corresponding positions are passed as multiple arguments to the aggregate function. For example: SELECT arrayReduce('max', [1,2,3]) = 3</p>\n<h3 id=\"arrayreverse-arr\">arrayReverse(arr)<a class=\"headerlink\" href=\"#arrayreverse-arr\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns an array of the same size as the source array, containing the result of inverting all elements of the source array.</p>\n<p><a name=\"splitting_merging_functions/\"></a>\n<a name=\"../../../../query_language/functions/splitting_merging_functions/\"></a>\n<a name=\"../../../../../functions/splitting_merging_functions/\"></a>\n<a name=\"../../functions/splitting_merging_functions/\"></a>\n<a name=\"../../../query_language/functions/splitting_merging_functions/\"></a>\n<a name=\"../../../../functions/splitting_merging_functions/\"></a>\n<a name=\"../functions/splitting_merging_functions/\"></a>\n<a name=\"../../query_language/functions/splitting_merging_functions/\"></a>\n<a name=\"../../../../../query_language/functions/splitting_merging_functions/\"></a>\n<a name=\"query_language/functions/splitting_merging_functions/\"></a>\n<a name=\"../../../../../../functions/splitting_merging_functions/\"></a>\n<a name=\"functions/splitting_merging_functions/\"></a>\n<a name=\"../query_language/functions/splitting_merging_functions/\"></a>\n<a name=\"../../../functions/splitting_merging_functions/\"></a></p>\n<h2 id=\"functions-for-splitting-and-merging-strings-and-arrays\">Functions for splitting and merging strings and arrays<a class=\"headerlink\" href=\"#functions-for-splitting-and-merging-strings-and-arrays\" title=\"Permanent link\">&para;</a></h2>\n<h3 id=\"splitbychar-separator-s\">splitByChar(separator, s)<a class=\"headerlink\" href=\"#splitbychar-separator-s\" title=\"Permanent link\">&para;</a></h3>\n<p>Splits a string into substrings separated by 'separator'.'separator' must be a string constant consisting of exactly one character.\nReturns an array of selected substrings. Empty substrings may be selected if the separator occurs at the beginning or end of the string, or if there are multiple consecutive separators.</p>\n<h3 id=\"splitbystring-separator-s\">splitByString(separator, s)<a class=\"headerlink\" href=\"#splitbystring-separator-s\" title=\"Permanent link\">&para;</a></h3>\n<p>The same as above, but it uses a string of multiple characters as the separator. The string must be non-empty.</p>\n<h3 id=\"arraystringconcat-arr-91-separator-93\">arrayStringConcat(arr[, separator])<a class=\"headerlink\" href=\"#arraystringconcat-arr-91-separator-93\" title=\"Permanent link\">&para;</a></h3>\n<p>Concatenates the strings listed in the array with the separator.'separator' is an optional parameter: a constant string, set to an empty string by default.\nReturns the string.</p>\n<h3 id=\"alphatokens-s\">alphaTokens(s)<a class=\"headerlink\" href=\"#alphatokens-s\" title=\"Permanent link\">&para;</a></h3>\n<p>Selects substrings of consecutive bytes from the ranges a-z and A-Z.Returns an array of substrings.</p>\n<p><strong>Example:</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">alphaTokens</span><span class=\"p\">(</span><span class=\"s1\">&#39;abca1abc&#39;</span><span class=\"p\">)</span>\n\n<span class=\"err\">\u250c\u2500</span><span class=\"n\">alphaTokens</span><span class=\"p\">(</span><span class=\"s1\">&#39;abca1abc&#39;</span><span class=\"p\">)</span><span class=\"err\">\u2500\u2510</span>\n<span class=\"err\">\u2502</span> <span class=\"p\">[</span><span class=\"s1\">&#39;abca&#39;</span><span class=\"p\">,</span><span class=\"s1\">&#39;abc&#39;</span><span class=\"p\">]</span>          <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p><a name=\"../../../../../functions/bit_functions/\"></a>\n<a name=\"../../../../query_language/functions/bit_functions/\"></a>\n<a name=\"functions/bit_functions/\"></a>\n<a name=\"../../../query_language/functions/bit_functions/\"></a>\n<a name=\"../../../functions/bit_functions/\"></a>\n<a name=\"../../query_language/functions/bit_functions/\"></a>\n<a name=\"../../functions/bit_functions/\"></a>\n<a name=\"../query_language/functions/bit_functions/\"></a>\n<a name=\"../functions/bit_functions/\"></a>\n<a name=\"query_language/functions/bit_functions/\"></a>\n<a name=\"bit_functions/\"></a>\n<a name=\"../../../../../../functions/bit_functions/\"></a>\n<a name=\"../../../../functions/bit_functions/\"></a>\n<a name=\"../../../../../query_language/functions/bit_functions/\"></a></p>\n<h2 id=\"bit-functions\">Bit functions<a class=\"headerlink\" href=\"#bit-functions\" title=\"Permanent link\">&para;</a></h2>\n<p>Bit functions work for any pair of types from UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64, Float32, or Float64.</p>\n<p>The result type is an integer with bits equal to the maximum bits of its arguments. If at least one of the arguments is signed, the result is a signed number. If an argument is a floating-point number, it is cast to Int64.</p>\n<h3 id=\"bitand-a-b\">bitAnd(a, b)<a class=\"headerlink\" href=\"#bitand-a-b\" title=\"Permanent link\">&para;</a></h3>\n<h3 id=\"bitor-a-b\">bitOr(a, b)<a class=\"headerlink\" href=\"#bitor-a-b\" title=\"Permanent link\">&para;</a></h3>\n<h3 id=\"bitxor-a-b\">bitXor(a, b)<a class=\"headerlink\" href=\"#bitxor-a-b\" title=\"Permanent link\">&para;</a></h3>\n<h3 id=\"bitnot-a\">bitNot(a)<a class=\"headerlink\" href=\"#bitnot-a\" title=\"Permanent link\">&para;</a></h3>\n<h3 id=\"bitshiftleft-a-b\">bitShiftLeft(a, b)<a class=\"headerlink\" href=\"#bitshiftleft-a-b\" title=\"Permanent link\">&para;</a></h3>\n<h3 id=\"bitshiftright-a-b\">bitShiftRight(a, b)<a class=\"headerlink\" href=\"#bitshiftright-a-b\" title=\"Permanent link\">&para;</a></h3>\n<h3 id=\"bitrotateleft-a-b\">bitRotateLeft(a, b)<a class=\"headerlink\" href=\"#bitrotateleft-a-b\" title=\"Permanent link\">&para;</a></h3>\n<h3 id=\"bitrotateright-a-b\">bitRotateRight(a, b)<a class=\"headerlink\" href=\"#bitrotateright-a-b\" title=\"Permanent link\">&para;</a></h3>\n<h3 id=\"bittest-a-b\">bitTest(a, b)<a class=\"headerlink\" href=\"#bittest-a-b\" title=\"Permanent link\">&para;</a></h3>\n<h3 id=\"bittestall-a-b\">bitTestAll(a, b)<a class=\"headerlink\" href=\"#bittestall-a-b\" title=\"Permanent link\">&para;</a></h3>\n<h3 id=\"bittestany-a-b\">bitTestAny(a, b)<a class=\"headerlink\" href=\"#bittestany-a-b\" title=\"Permanent link\">&para;</a></h3>\n<p><a name=\"../../../../query_language/functions/bitmap_functions/\"></a>\n<a name=\"../functions/bitmap_functions/\"></a>\n<a name=\"query_language/functions/bitmap_functions/\"></a>\n<a name=\"../../../../../functions/bitmap_functions/\"></a>\n<a name=\"../query_language/functions/bitmap_functions/\"></a>\n<a name=\"../../functions/bitmap_functions/\"></a>\n<a name=\"functions/bitmap_functions/\"></a>\n<a name=\"../../../../../query_language/functions/bitmap_functions/\"></a>\n<a name=\"../../query_language/functions/bitmap_functions/\"></a>\n<a name=\"../../../../../../functions/bitmap_functions/\"></a>\n<a name=\"bitmap_functions/\"></a>\n<a name=\"../../../query_language/functions/bitmap_functions/\"></a>\n<a name=\"../../../functions/bitmap_functions/\"></a>\n<a name=\"../../../../functions/bitmap_functions/\"></a></p>\n<h2 id=\"bitmap-functions\">Bitmap functions<a class=\"headerlink\" href=\"#bitmap-functions\" title=\"Permanent link\">&para;</a></h2>\n<p>Bitmap functions work for two bitmaps Object value calculation, it is to return new bitmap or cardinality while using formula calculation, such as and, or, xor, and not, etc.</p>\n<p>There are 2 kinds of construction methods for Bitmap Object. One is to be constructed by aggregation function groupBitmap with -State, the other is to be constructed by Array Object. It is also to convert Bitmap Object to Array Object.</p>\n<p>RoaringBitmap is wrapped into a data structure while actual storage of Bitmap objects. When the cardinality is less than or equal to 32, it uses Set objet. When the cardinality is greater than 32, it uses RoaringBitmap object. That is why storage of low cardinality set is faster. </p>\n<p>For more information on RoaringBitmap, see: <a href=\"https://github.com/RoaringBitmap/CRoaring\" rel=\"external nofollow\">CRoaring</a>.</p>\n<h3 id=\"bitmapbuild\">bitmapBuild<a class=\"headerlink\" href=\"#bitmapbuild\" title=\"Permanent link\">&para;</a></h3>\n<p>Build a bitmap from unsigned integer array.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">bitmapBuild(array)</span>\n</pre></div>\n\n\n<p><strong>Parameters</strong></p>\n<ul>\n<li><code>array</code> \u2013 unsigned integer array.</li>\n</ul>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">bitmapBuild</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"mi\">5</span><span class=\"p\">])</span> <span class=\"k\">AS</span> <span class=\"n\">res</span>\n</pre></div>\n\n\n<h3 id=\"bitmaptoarray\">bitmapToArray<a class=\"headerlink\" href=\"#bitmaptoarray\" title=\"Permanent link\">&para;</a></h3>\n<p>Convert bitmap to integer array.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">bitmapToArray(bitmap)</span>\n</pre></div>\n\n\n<p><strong>Parameters</strong></p>\n<ul>\n<li><code>bitmap</code> \u2013 bitmap object.</li>\n</ul>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">bitmapToArray</span><span class=\"p\">(</span><span class=\"n\">bitmapBuild</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"mi\">5</span><span class=\"p\">]))</span> <span class=\"k\">AS</span> <span class=\"n\">res</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500res\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502 [1,2,3,4,5] \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"bitmaphasany\">bitmapHasAny<a class=\"headerlink\" href=\"#bitmaphasany\" title=\"Permanent link\">&para;</a></h3>\n<p>Analogous to <code>hasAny(array, array)</code> returns 1 if bitmaps have any common elements, 0 otherwise.\nFor empty bitmaps returns 0.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">bitmapHasAny(bitmap,bitmap)</span>\n</pre></div>\n\n\n<p><strong>Parameters</strong></p>\n<ul>\n<li><code>bitmap</code> \u2013 bitmap object.</li>\n</ul>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">bitmapHasAny</span><span class=\"p\">(</span><span class=\"n\">bitmapBuild</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">]),</span><span class=\"n\">bitmapBuild</span><span class=\"p\">([</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">4</span><span class=\"p\">,</span><span class=\"mi\">5</span><span class=\"p\">]))</span> <span class=\"k\">AS</span> <span class=\"n\">res</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500res\u2500\u2510</span>\n<span class=\"err\">\u2502  1  \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"bitmaphasall\">bitmapHasAll<a class=\"headerlink\" href=\"#bitmaphasall\" title=\"Permanent link\">&para;</a></h3>\n<p>Analogous to <code>hasAll(array, array)</code> returns 1 if the first bitmap contains all the elements of the second one, 0 otherwise. \nIf the second argument is an empty bitmap then returns 1. </p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">bitmapHasAll(bitmap,bitmap)</span>\n</pre></div>\n\n\n<p><strong>Parameters</strong></p>\n<ul>\n<li><code>bitmap</code> \u2013 bitmap object.</li>\n</ul>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">bitmapHasAll</span><span class=\"p\">(</span><span class=\"n\">bitmapBuild</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">]),</span><span class=\"n\">bitmapBuild</span><span class=\"p\">([</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">4</span><span class=\"p\">,</span><span class=\"mi\">5</span><span class=\"p\">]))</span> <span class=\"k\">AS</span> <span class=\"n\">res</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500res\u2500\u2510</span>\n<span class=\"err\">\u2502  0  \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"bitmapand\">bitmapAnd<a class=\"headerlink\" href=\"#bitmapand\" title=\"Permanent link\">&para;</a></h3>\n<p>Two bitmap and calculation, the result is a new bitmap.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">bitmapAnd(bitmap,bitmap)</span>\n</pre></div>\n\n\n<p><strong>Parameters</strong></p>\n<ul>\n<li><code>bitmap</code> \u2013 bitmap object.</li>\n</ul>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">bitmapToArray</span><span class=\"p\">(</span><span class=\"n\">bitmapAnd</span><span class=\"p\">(</span><span class=\"n\">bitmapBuild</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">]),</span><span class=\"n\">bitmapBuild</span><span class=\"p\">([</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">4</span><span class=\"p\">,</span><span class=\"mi\">5</span><span class=\"p\">])))</span> <span class=\"k\">AS</span> <span class=\"n\">res</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500res\u2500\u2510</span>\n<span class=\"err\">\u2502 [3] \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"bitmapor\">bitmapOr<a class=\"headerlink\" href=\"#bitmapor\" title=\"Permanent link\">&para;</a></h3>\n<p>Two bitmap or calculation, the result is a new bitmap.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">bitmapOr(bitmap,bitmap)</span>\n</pre></div>\n\n\n<p><strong>Parameters</strong></p>\n<ul>\n<li><code>bitmap</code> \u2013 bitmap object.</li>\n</ul>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">bitmapToArray</span><span class=\"p\">(</span><span class=\"n\">bitmapOr</span><span class=\"p\">(</span><span class=\"n\">bitmapBuild</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">]),</span><span class=\"n\">bitmapBuild</span><span class=\"p\">([</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">4</span><span class=\"p\">,</span><span class=\"mi\">5</span><span class=\"p\">])))</span> <span class=\"k\">AS</span> <span class=\"n\">res</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500res\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502 [1,2,3,4,5] \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"bitmapxor\">bitmapXor<a class=\"headerlink\" href=\"#bitmapxor\" title=\"Permanent link\">&para;</a></h3>\n<p>Two bitmap xor calculation, the result is a new bitmap.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">bitmapXor(bitmap,bitmap)</span>\n</pre></div>\n\n\n<p><strong>Parameters</strong></p>\n<ul>\n<li><code>bitmap</code> \u2013 bitmap object.</li>\n</ul>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">bitmapToArray</span><span class=\"p\">(</span><span class=\"n\">bitmapXor</span><span class=\"p\">(</span><span class=\"n\">bitmapBuild</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">]),</span><span class=\"n\">bitmapBuild</span><span class=\"p\">([</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">4</span><span class=\"p\">,</span><span class=\"mi\">5</span><span class=\"p\">])))</span> <span class=\"k\">AS</span> <span class=\"n\">res</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500res\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502 [1,2,4,5] \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"bitmapandnot\">bitmapAndnot<a class=\"headerlink\" href=\"#bitmapandnot\" title=\"Permanent link\">&para;</a></h3>\n<p>Two bitmap andnot calculation, the result is a new bitmap.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">bitmapAndnot(bitmap,bitmap)</span>\n</pre></div>\n\n\n<p><strong>Parameters</strong></p>\n<ul>\n<li><code>bitmap</code> \u2013 bitmap object.</li>\n</ul>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">bitmapToArray</span><span class=\"p\">(</span><span class=\"n\">bitmapAndnot</span><span class=\"p\">(</span><span class=\"n\">bitmapBuild</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">]),</span><span class=\"n\">bitmapBuild</span><span class=\"p\">([</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">4</span><span class=\"p\">,</span><span class=\"mi\">5</span><span class=\"p\">])))</span> <span class=\"k\">AS</span> <span class=\"n\">res</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500res\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502 [1,2] \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"bitmapcardinality\">bitmapCardinality<a class=\"headerlink\" href=\"#bitmapcardinality\" title=\"Permanent link\">&para;</a></h3>\n<p>Retrun bitmap cardinality of type UInt64.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">bitmapCardinality(bitmap)</span>\n</pre></div>\n\n\n<p><strong>Parameters</strong></p>\n<ul>\n<li><code>bitmap</code> \u2013 bitmap object.</li>\n</ul>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">bitmapCardinality</span><span class=\"p\">(</span><span class=\"n\">bitmapBuild</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"mi\">5</span><span class=\"p\">]))</span> <span class=\"k\">AS</span> <span class=\"n\">res</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500res\u2500\u2510</span>\n<span class=\"err\">\u2502   5 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"bitmapandcardinality\">bitmapAndCardinality<a class=\"headerlink\" href=\"#bitmapandcardinality\" title=\"Permanent link\">&para;</a></h3>\n<p>Two bitmap and calculation, return cardinality of type UInt64.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">bitmapAndCardinality(bitmap,bitmap)</span>\n</pre></div>\n\n\n<p><strong>Parameters</strong></p>\n<ul>\n<li><code>bitmap</code> \u2013 bitmap object.</li>\n</ul>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">bitmapAndCardinality</span><span class=\"p\">(</span><span class=\"n\">bitmapBuild</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">]),</span><span class=\"n\">bitmapBuild</span><span class=\"p\">([</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">4</span><span class=\"p\">,</span><span class=\"mi\">5</span><span class=\"p\">]))</span> <span class=\"k\">AS</span> <span class=\"n\">res</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500res\u2500\u2510</span>\n<span class=\"err\">\u2502   1 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"bitmaporcardinality\">bitmapOrCardinality<a class=\"headerlink\" href=\"#bitmaporcardinality\" title=\"Permanent link\">&para;</a></h3>\n<p>Two bitmap or calculation, return cardinality of type UInt64.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">bitmapOrCardinality(bitmap,bitmap)</span>\n</pre></div>\n\n\n<p><strong>Parameters</strong></p>\n<ul>\n<li><code>bitmap</code> \u2013 bitmap object.</li>\n</ul>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">bitmapOrCardinality</span><span class=\"p\">(</span><span class=\"n\">bitmapBuild</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">]),</span><span class=\"n\">bitmapBuild</span><span class=\"p\">([</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">4</span><span class=\"p\">,</span><span class=\"mi\">5</span><span class=\"p\">]))</span> <span class=\"k\">AS</span> <span class=\"n\">res</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500res\u2500\u2510</span>\n<span class=\"err\">\u2502   5 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"bitmapxorcardinality\">bitmapXorCardinality<a class=\"headerlink\" href=\"#bitmapxorcardinality\" title=\"Permanent link\">&para;</a></h3>\n<p>Two bitmap xor calculation, return cardinality of type UInt64.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">bitmapXorCardinality(bitmap,bitmap)</span>\n</pre></div>\n\n\n<p><strong>Parameters</strong></p>\n<ul>\n<li><code>bitmap</code> \u2013 bitmap object.</li>\n</ul>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">bitmapXorCardinality</span><span class=\"p\">(</span><span class=\"n\">bitmapBuild</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">]),</span><span class=\"n\">bitmapBuild</span><span class=\"p\">([</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">4</span><span class=\"p\">,</span><span class=\"mi\">5</span><span class=\"p\">]))</span> <span class=\"k\">AS</span> <span class=\"n\">res</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500res\u2500\u2510</span>\n<span class=\"err\">\u2502   4 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"bitmapandnotcardinality\">bitmapAndnotCardinality<a class=\"headerlink\" href=\"#bitmapandnotcardinality\" title=\"Permanent link\">&para;</a></h3>\n<p>Two bitmap andnot calculation, return cardinality of type UInt64.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">bitmapAndnotCardinality(bitmap,bitmap)</span>\n</pre></div>\n\n\n<p><strong>Parameters</strong></p>\n<ul>\n<li><code>bitmap</code> \u2013 bitmap object.</li>\n</ul>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">bitmapAndnotCardinality</span><span class=\"p\">(</span><span class=\"n\">bitmapBuild</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">]),</span><span class=\"n\">bitmapBuild</span><span class=\"p\">([</span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"mi\">4</span><span class=\"p\">,</span><span class=\"mi\">5</span><span class=\"p\">]))</span> <span class=\"k\">AS</span> <span class=\"n\">res</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500res\u2500\u2510</span>\n<span class=\"err\">\u2502   2 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p><a name=\"../functions/hash_functions/\"></a>\n<a name=\"../../../../../query_language/functions/hash_functions/\"></a>\n<a name=\"hash_functions/\"></a>\n<a name=\"functions/hash_functions/\"></a>\n<a name=\"../../../functions/hash_functions/\"></a>\n<a name=\"../../query_language/functions/hash_functions/\"></a>\n<a name=\"../../../../functions/hash_functions/\"></a>\n<a name=\"../query_language/functions/hash_functions/\"></a>\n<a name=\"../../../../../../functions/hash_functions/\"></a>\n<a name=\"../../../../../functions/hash_functions/\"></a>\n<a name=\"../../../query_language/functions/hash_functions/\"></a>\n<a name=\"../../../../query_language/functions/hash_functions/\"></a>\n<a name=\"../../functions/hash_functions/\"></a>\n<a name=\"query_language/functions/hash_functions/\"></a></p>\n<h2 id=\"hash-functions\">Hash functions<a class=\"headerlink\" href=\"#hash-functions\" title=\"Permanent link\">&para;</a></h2>\n<p>Hash functions can be used for deterministic pseudo-random shuffling of elements.</p>\n<h3 id=\"hash_functions-halfmd5\">halfMD5<a class=\"headerlink\" href=\"#hash_functions-halfmd5\" title=\"Permanent link\">&para;</a></h3>\n<p><a href=\"#type_conversion_functions-reinterpretAsString\">Interprets</a> all the input parameters as strings and calculates the MD5 hash value for each of them. Then combines hashes. Then from the resulting string, takes the first 8 bytes of the hash and interprets them as <code>UInt64</code> in big-endian byte order.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">halfMD5(par1, ...)</span>\n</pre></div>\n\n\n<p>The function works relatively slow (5 million short strings per second per processor core).\nConsider using the <a href=\"#hash_functions-siphash64\">sipHash64</a> function instead.</p>\n<p><strong>Parameters</strong></p>\n<p>The function takes a variable number of input parameters. Parameters can be any of the <a href=\"#../../data_types/\">supported data types</a>.</p>\n<p><strong>Returned Value</strong></p>\n<p>Hash value having the <a href=\"#../../data_types/int_uint/\">UInt64</a> data type.</p>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">halfMD5</span><span class=\"p\">(</span><span class=\"nb\">array</span><span class=\"p\">(</span><span class=\"s1\">&#39;e&#39;</span><span class=\"p\">,</span><span class=\"s1\">&#39;x&#39;</span><span class=\"p\">,</span><span class=\"s1\">&#39;a&#39;</span><span class=\"p\">),</span> <span class=\"s1\">&#39;mple&#39;</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"n\">toDateTime</span><span class=\"p\">(</span><span class=\"s1\">&#39;2019-06-15 23:00:00&#39;</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">halfMD5hash</span><span class=\"p\">,</span> <span class=\"n\">toTypeName</span><span class=\"p\">(</span><span class=\"n\">halfMD5hash</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"k\">type</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500halfMD5hash\u2500\u252c\u2500type\u2500\u2500\u2500\u2510\n\u2502 186182704141653334 \u2502 UInt64 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</pre></div>\n\n\n<h3 id=\"hash_functions-md5\">MD5<a class=\"headerlink\" href=\"#hash_functions-md5\" title=\"Permanent link\">&para;</a></h3>\n<p>Calculates the MD5 from a string and returns the resulting set of bytes as FixedString(16).\nIf you don't need MD5 in particular, but you need a decent cryptographic 128-bit hash, use the 'sipHash128' function instead.\nIf you want to get the same result as output by the md5sum utility, use lower(hex(MD5(s))).</p>\n<h3 id=\"hash_functions-siphash64\">sipHash64<a class=\"headerlink\" href=\"#hash_functions-siphash64\" title=\"Permanent link\">&para;</a></h3>\n<p>Produces 64-bit <a href=\"https://131002.net/siphash/\" rel=\"external nofollow\">SipHash</a> hash value.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">sipHash64(par1,...)</span>\n</pre></div>\n\n\n<p>This function <a href=\"#type_conversion_functions-reinterpretAsString\">interprets</a> all the input parameters as strings and calculates the hash value for each of them. Then combines hashes.</p>\n<p>This is a cryptographic hash function. It works at least three times faster than the <a href=\"#hash_functions-md5\">MD5</a> function.</p>\n<p><strong>Parameters</strong></p>\n<p>The function takes a variable number of input parameters. Parameters can be any of the <a href=\"#../../data_types/\">supported data types</a>.</p>\n<p><strong>Returned Value</strong></p>\n<p>Hash value having the <a href=\"#../../data_types/int_uint/\">UInt64</a> data type.</p>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">sipHash64</span><span class=\"p\">(</span><span class=\"nb\">array</span><span class=\"p\">(</span><span class=\"s1\">&#39;e&#39;</span><span class=\"p\">,</span><span class=\"s1\">&#39;x&#39;</span><span class=\"p\">,</span><span class=\"s1\">&#39;a&#39;</span><span class=\"p\">),</span> <span class=\"s1\">&#39;mple&#39;</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"n\">toDateTime</span><span class=\"p\">(</span><span class=\"s1\">&#39;2019-06-15 23:00:00&#39;</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">SipHash</span><span class=\"p\">,</span> <span class=\"n\">toTypeName</span><span class=\"p\">(</span><span class=\"n\">SipHash</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"k\">type</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500SipHash\u2500\u252c\u2500type\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502 13726873534472839665 \u2502 UInt64 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"siphash128\">sipHash128<a class=\"headerlink\" href=\"#siphash128\" title=\"Permanent link\">&para;</a></h3>\n<p>Calculates SipHash from a string.\nAccepts a String-type argument. Returns FixedString(16).\nDiffers from sipHash64 in that the final xor-folding state is only done up to 128 bytes.</p>\n<h3 id=\"cityhash64\">cityHash64<a class=\"headerlink\" href=\"#cityhash64\" title=\"Permanent link\">&para;</a></h3>\n<p>Produces 64-bit hash value.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">cityHash64(par1,...)</span>\n</pre></div>\n\n\n<p>This is the fast non-cryptographic hash function. It uses <a href=\"https://github.com/google/cityhash\" rel=\"external nofollow\">CityHash</a> algorithm for string parameters and implementation-specific fast non-cryptographic hash function for the parameters with other data types. To get the final result, the function uses the CityHash combinator.</p>\n<p><strong>Parameters</strong></p>\n<p>The function takes a variable number of input parameters. Parameters can be any of the <a href=\"#../../data_types/\">supported data types</a>.</p>\n<p><strong>Returned Value</strong></p>\n<p>Hash value having the <a href=\"#../../data_types/int_uint/\">UInt64</a> data type.</p>\n<p><strong>Examples</strong></p>\n<p>Call example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">cityHash64</span><span class=\"p\">(</span><span class=\"nb\">array</span><span class=\"p\">(</span><span class=\"s1\">&#39;e&#39;</span><span class=\"p\">,</span><span class=\"s1\">&#39;x&#39;</span><span class=\"p\">,</span><span class=\"s1\">&#39;a&#39;</span><span class=\"p\">),</span> <span class=\"s1\">&#39;mple&#39;</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"n\">toDateTime</span><span class=\"p\">(</span><span class=\"s1\">&#39;2019-06-15 23:00:00&#39;</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">CityHash</span><span class=\"p\">,</span> <span class=\"n\">toTypeName</span><span class=\"p\">(</span><span class=\"n\">CityHash</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"k\">type</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500CityHash\u2500\u252c\u2500type\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502 12072650598913549138 \u2502 UInt64 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>The following example shows how to compute the checksum of the entire table with accuracy up to the row order:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">SELECT sum(cityHash64(*)) FROM table</span>\n</pre></div>\n\n\n<h3 id=\"inthash32\">intHash32<a class=\"headerlink\" href=\"#inthash32\" title=\"Permanent link\">&para;</a></h3>\n<p>Calculates a 32-bit hash code from any type of integer.\nThis is a relatively fast non-cryptographic hash function of average quality for numbers.</p>\n<h3 id=\"inthash64\">intHash64<a class=\"headerlink\" href=\"#inthash64\" title=\"Permanent link\">&para;</a></h3>\n<p>Calculates a 64-bit hash code from any type of integer.\nIt works faster than intHash32. Average quality.</p>\n<h3 id=\"sha1\">SHA1<a class=\"headerlink\" href=\"#sha1\" title=\"Permanent link\">&para;</a></h3>\n<h3 id=\"sha224\">SHA224<a class=\"headerlink\" href=\"#sha224\" title=\"Permanent link\">&para;</a></h3>\n<h3 id=\"sha256\">SHA256<a class=\"headerlink\" href=\"#sha256\" title=\"Permanent link\">&para;</a></h3>\n<p>Calculates SHA-1, SHA-224, or SHA-256 from a string and returns the resulting set of bytes as FixedString(20), FixedString(28), or FixedString(32).\nThe function works fairly slowly (SHA-1 processes about 5 million short strings per second per processor core, while SHA-224 and SHA-256 process about 2.2 million).\nWe recommend using this function only in cases when you need a specific hash function and you can't select it.\nEven in these cases, we recommend applying the function offline and pre-calculating values when inserting them into the table, instead of applying it in SELECTS.</p>\n<h3 id=\"urlhash-url-91-n-93\">URLHash(url[, N])<a class=\"headerlink\" href=\"#urlhash-url-91-n-93\" title=\"Permanent link\">&para;</a></h3>\n<p>A fast, decent-quality non-cryptographic hash function for a string obtained from a URL using some type of normalization.\n<code>URLHash(s)</code> \u2013 Calculates a hash from a string without one of the trailing symbols <code>/</code>,<code>?</code> or <code>#</code> at the end, if present.\n<code>URLHash(s, N)</code> \u2013 Calculates a hash from a string up to the N level in the URL hierarchy, without one of the trailing symbols <code>/</code>,<code>?</code> or <code>#</code> at the end, if present.\nLevels are the same as in URLHierarchy. This function is specific to Yandex.Metrica.</p>\n<h3 id=\"farmhash64\">farmHash64<a class=\"headerlink\" href=\"#farmhash64\" title=\"Permanent link\">&para;</a></h3>\n<p>Produces a 64-bit <a href=\"https://github.com/google/farmhash\" rel=\"external nofollow\">FarmHash</a> hash value.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">farmHash64(par1, ...)</span>\n</pre></div>\n\n\n<p>The function uses the <code>Hash64</code> method from all <a href=\"https://github.com/google/farmhash/blob/master/src/farmhash.h\" rel=\"external nofollow\">available methods</a>.</p>\n<p><strong>Parameters</strong></p>\n<p>The function takes a variable number of input parameters. Parameters can be any of the <a href=\"#../../data_types/\">supported data types</a>.</p>\n<p><strong>Returned Value</strong></p>\n<p>Hash value having the <a href=\"#../../data_types/int_uint/\">UInt64</a> data type.</p>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">farmHash64</span><span class=\"p\">(</span><span class=\"nb\">array</span><span class=\"p\">(</span><span class=\"s1\">&#39;e&#39;</span><span class=\"p\">,</span><span class=\"s1\">&#39;x&#39;</span><span class=\"p\">,</span><span class=\"s1\">&#39;a&#39;</span><span class=\"p\">),</span> <span class=\"s1\">&#39;mple&#39;</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"n\">toDateTime</span><span class=\"p\">(</span><span class=\"s1\">&#39;2019-06-15 23:00:00&#39;</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">FarmHash</span><span class=\"p\">,</span> <span class=\"n\">toTypeName</span><span class=\"p\">(</span><span class=\"n\">FarmHash</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"k\">type</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500FarmHash\u2500\u252c\u2500type\u2500\u2500\u2500\u2510\n\u2502 17790458267262532859 \u2502 UInt64 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</pre></div>\n\n\n<h3 id=\"hash_functions-javahash\">javaHash<a class=\"headerlink\" href=\"#hash_functions-javahash\" title=\"Permanent link\">&para;</a></h3>\n<p>Calculates JavaHash from a string.\nAccepts a String-type argument. Returns Int32.\nFor more information, see the link: <a href=\"http://hg.openjdk.java.net/jdk8u/jdk8u/jdk/file/478a4add975b/src/share/classes/java/lang/String.java#l1452\" rel=\"external nofollow\">JavaHash</a></p>\n<h3 id=\"hivehash\">hiveHash<a class=\"headerlink\" href=\"#hivehash\" title=\"Permanent link\">&para;</a></h3>\n<p>Calculates HiveHash from a string.\nAccepts a String-type argument. Returns Int32.\nSame as for <a href=\"#hash_functions-javahash\">JavaHash</a>, except that the return value never has a negative number.</p>\n<h3 id=\"metrohash64\">metroHash64<a class=\"headerlink\" href=\"#metrohash64\" title=\"Permanent link\">&para;</a></h3>\n<p>Produces a 64-bit <a href=\"http://www.jandrewrogers.com/2015/05/27/metrohash/\" rel=\"external nofollow\">MetroHash</a> hash value.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">metroHash64(par1, ...)</span>\n</pre></div>\n\n\n<p><strong>Parameters</strong></p>\n<p>The function takes a variable number of input parameters. Parameters can be any of the <a href=\"#../../data_types/\">supported data types</a>.</p>\n<p><strong>Returned Value</strong></p>\n<p>Hash value having the <a href=\"#../../data_types/int_uint/\">UInt64</a> data type.</p>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">metroHash64</span><span class=\"p\">(</span><span class=\"nb\">array</span><span class=\"p\">(</span><span class=\"s1\">&#39;e&#39;</span><span class=\"p\">,</span><span class=\"s1\">&#39;x&#39;</span><span class=\"p\">,</span><span class=\"s1\">&#39;a&#39;</span><span class=\"p\">),</span> <span class=\"s1\">&#39;mple&#39;</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"n\">toDateTime</span><span class=\"p\">(</span><span class=\"s1\">&#39;2019-06-15 23:00:00&#39;</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">MetroHash</span><span class=\"p\">,</span> <span class=\"n\">toTypeName</span><span class=\"p\">(</span><span class=\"n\">MetroHash</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"k\">type</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500MetroHash\u2500\u252c\u2500type\u2500\u2500\u2500\u2510\n\u2502 14235658766382344533 \u2502 UInt64 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</pre></div>\n\n\n<h3 id=\"jumpconsistenthash\">jumpConsistentHash<a class=\"headerlink\" href=\"#jumpconsistenthash\" title=\"Permanent link\">&para;</a></h3>\n<p>Calculates JumpConsistentHash form a UInt64.\nAccepts a UInt64-type argument. Returns Int32.\nFor more information, see the link: <a href=\"https://arxiv.org/pdf/1406.2294.pdf\" rel=\"external nofollow\">JumpConsistentHash</a></p>\n<h3 id=\"murmurhash2-32-murmurhash2-64\">murmurHash2_32, murmurHash2_64<a class=\"headerlink\" href=\"#murmurhash2-32-murmurhash2-64\" title=\"Permanent link\">&para;</a></h3>\n<p>Produces a <a href=\"https://github.com/aappleby/smhasher\" rel=\"external nofollow\">MurmurHash2</a> hash value.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">murmurHash2_32(par1, ...)</span>\n<span class=\"err\">murmurHash2_64(par1, ...)</span>\n</pre></div>\n\n\n<p><strong>Parameters</strong></p>\n<p>Both functions take a variable number of input parameters. Parameters can be any of the <a href=\"#../../data_types/\">supported data types</a>.</p>\n<p><strong>Returned Value</strong></p>\n<ul>\n<li>The <code>murmurHash2_32</code> function returns hash value having the <a href=\"#../../data_types/int_uint/\">UInt32</a> data type.</li>\n<li>The <code>murmurHash2_64</code> function returns hash value having the <a href=\"#../../data_types/int_uint/\">UInt64</a> data type.</li>\n</ul>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">murmurHash2_64</span><span class=\"p\">(</span><span class=\"nb\">array</span><span class=\"p\">(</span><span class=\"s1\">&#39;e&#39;</span><span class=\"p\">,</span><span class=\"s1\">&#39;x&#39;</span><span class=\"p\">,</span><span class=\"s1\">&#39;a&#39;</span><span class=\"p\">),</span> <span class=\"s1\">&#39;mple&#39;</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"n\">toDateTime</span><span class=\"p\">(</span><span class=\"s1\">&#39;2019-06-15 23:00:00&#39;</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">MurmurHash2</span><span class=\"p\">,</span> <span class=\"n\">toTypeName</span><span class=\"p\">(</span><span class=\"n\">MurmurHash2</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"k\">type</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500MurmurHash2\u2500\u252c\u2500type\u2500\u2500\u2500\u2510\n\u2502 11832096901709403633 \u2502 UInt64 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</pre></div>\n\n\n<h3 id=\"murmurhash3-32-murmurhash3-64\">murmurHash3_32, murmurHash3_64<a class=\"headerlink\" href=\"#murmurhash3-32-murmurhash3-64\" title=\"Permanent link\">&para;</a></h3>\n<p>Produces a <a href=\"https://github.com/aappleby/smhasher\" rel=\"external nofollow\">MurmurHash3</a> hash value.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">murmurHash3_32(par1, ...)</span>\n<span class=\"err\">murmurHash3_64(par1, ...)</span>\n</pre></div>\n\n\n<p><strong>Parameters</strong></p>\n<p>Both functions take a variable number of input parameters. Parameters can be any of the <a href=\"#../../data_types/\">supported data types</a>.</p>\n<p><strong>Returned Value</strong></p>\n<ul>\n<li>The <code>murmurHash3_32</code> function returns hash value having the <a href=\"#../../data_types/int_uint/\">UInt32</a> data type.</li>\n<li>The <code>murmurHash3_64</code> function returns hash value having the <a href=\"#../../data_types/int_uint/\">UInt64</a> data type.</li>\n</ul>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">murmurHash3_32</span><span class=\"p\">(</span><span class=\"nb\">array</span><span class=\"p\">(</span><span class=\"s1\">&#39;e&#39;</span><span class=\"p\">,</span><span class=\"s1\">&#39;x&#39;</span><span class=\"p\">,</span><span class=\"s1\">&#39;a&#39;</span><span class=\"p\">),</span> <span class=\"s1\">&#39;mple&#39;</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"n\">toDateTime</span><span class=\"p\">(</span><span class=\"s1\">&#39;2019-06-15 23:00:00&#39;</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">MurmurHash3</span><span class=\"p\">,</span> <span class=\"n\">toTypeName</span><span class=\"p\">(</span><span class=\"n\">MurmurHash3</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"k\">type</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span>\u250c\u2500MurmurHash3\u2500\u252c\u2500type\u2500\u2500\u2500\u2510\n\u2502     2152717 \u2502 UInt32 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</pre></div>\n\n\n<h3 id=\"murmurhash3-128\">murmurHash3_128<a class=\"headerlink\" href=\"#murmurhash3-128\" title=\"Permanent link\">&para;</a></h3>\n<p>Produces a 128-bit <a href=\"https://github.com/aappleby/smhasher\" rel=\"external nofollow\">MurmurHash3</a> hash value.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">murmurHash3_128( expr )</span>\n</pre></div>\n\n\n<p><strong>Parameters</strong></p>\n<ul>\n<li><code>expr</code> \u2014 <a href=\"#syntax-expressions\">Expressions</a> returning <a href=\"#../../data_types/string/\">String</a>-typed value.</li>\n</ul>\n<p><strong>Returned Value</strong></p>\n<p>Hash value having <a href=\"#../../data_types/fixedstring/\">FixedString(16) data type</a>.</p>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">murmurHash3_128</span><span class=\"p\">(</span><span class=\"s1\">&#39;example_string&#39;</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">MurmurHash3</span><span class=\"p\">,</span> <span class=\"n\">toTypeName</span><span class=\"p\">(</span><span class=\"n\">MurmurHash3</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"k\">type</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span>\u250c\u2500MurmurHash3\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500type\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 6\ufffd\u001a1\u001c\ufffd4&quot;S5KT\ufffd~~q \u2502 FixedString(16) \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</pre></div>\n\n\n<h3 id=\"xxhash32-xxhash64\">xxHash32, xxHash64<a class=\"headerlink\" href=\"#xxhash32-xxhash64\" title=\"Permanent link\">&para;</a></h3>\n<p>Calculates xxHash from a string.\nccepts a String-type argument. Returns UInt64 Or UInt32.\nFor more information, see the link: <a href=\"http://cyan4973.github.io/xxHash/\" rel=\"external nofollow\">xxHash</a></p>\n<p><a name=\"../query_language/functions/random_functions/\"></a>\n<a name=\"../../../functions/random_functions/\"></a>\n<a name=\"random_functions/\"></a>\n<a name=\"../../../../../query_language/functions/random_functions/\"></a>\n<a name=\"../functions/random_functions/\"></a>\n<a name=\"../../query_language/functions/random_functions/\"></a>\n<a name=\"../../../../functions/random_functions/\"></a>\n<a name=\"../../../../../../functions/random_functions/\"></a>\n<a name=\"../../../../query_language/functions/random_functions/\"></a>\n<a name=\"../../../query_language/functions/random_functions/\"></a>\n<a name=\"functions/random_functions/\"></a>\n<a name=\"../../../../../functions/random_functions/\"></a>\n<a name=\"query_language/functions/random_functions/\"></a>\n<a name=\"../../functions/random_functions/\"></a></p>\n<h2 id=\"functions-for-generating-pseudo-random-numbers\">Functions for generating pseudo-random numbers<a class=\"headerlink\" href=\"#functions-for-generating-pseudo-random-numbers\" title=\"Permanent link\">&para;</a></h2>\n<p>Non-cryptographic generators of pseudo-random numbers are used.</p>\n<p>All the functions accept zero arguments or one argument.\nIf an argument is passed, it can be any type, and its value is not used for anything.\nThe only purpose of this argument is to prevent common subexpression elimination, so that two different instances of the same function return different columns with different random numbers.</p>\n<h3 id=\"rand\">rand<a class=\"headerlink\" href=\"#rand\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns a pseudo-random UInt32 number, evenly distributed among all UInt32-type numbers.\nUses a linear congruential generator.</p>\n<h3 id=\"rand64\">rand64<a class=\"headerlink\" href=\"#rand64\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns a pseudo-random UInt64 number, evenly distributed among all UInt64-type numbers.\nUses a linear congruential generator.</p>\n<h3 id=\"randconstant\">randConstant<a class=\"headerlink\" href=\"#randconstant\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns a pseudo-random UInt32 number, The value is one for different blocks.</p>\n<p><a name=\"../../query_language/functions/encoding_functions/\"></a>\n<a name=\"../../../../../functions/encoding_functions/\"></a>\n<a name=\"functions/encoding_functions/\"></a>\n<a name=\"encoding_functions/\"></a>\n<a name=\"../../../../functions/encoding_functions/\"></a>\n<a name=\"../../../query_language/functions/encoding_functions/\"></a>\n<a name=\"../../functions/encoding_functions/\"></a>\n<a name=\"../../../../../query_language/functions/encoding_functions/\"></a>\n<a name=\"../../../../query_language/functions/encoding_functions/\"></a>\n<a name=\"../../../../../../functions/encoding_functions/\"></a>\n<a name=\"../query_language/functions/encoding_functions/\"></a>\n<a name=\"../../../functions/encoding_functions/\"></a>\n<a name=\"query_language/functions/encoding_functions/\"></a>\n<a name=\"../functions/encoding_functions/\"></a></p>\n<h2 id=\"encoding-functions\">Encoding functions<a class=\"headerlink\" href=\"#encoding-functions\" title=\"Permanent link\">&para;</a></h2>\n<h3 id=\"hex\">hex<a class=\"headerlink\" href=\"#hex\" title=\"Permanent link\">&para;</a></h3>\n<p>Accepts arguments of types: <code>String</code>, <code>unsigned integer</code>, <code>Date</code>, or <code>DateTime</code>. Returns a string containing the argument's hexadecimal representation. Uses uppercase letters <code>A-F</code>. Does not use <code>0x</code> prefixes or <code>h</code> suffixes. For strings, all bytes are simply encoded as two hexadecimal numbers. Numbers are converted to big endian (\"human readable\") format. For numbers, older zeros are trimmed, but only by entire bytes. For example, <code>hex (1) = '01'</code>. <code>Date</code> is encoded as the number of days since the beginning of the Unix epoch. <code>DateTime</code> is encoded as the number of seconds since the beginning of the Unix epoch.</p>\n<h3 id=\"unhex-str\">unhex(str)<a class=\"headerlink\" href=\"#unhex-str\" title=\"Permanent link\">&para;</a></h3>\n<p>Accepts a string containing any number of hexadecimal digits, and returns a string containing the corresponding bytes. Supports both uppercase and lowercase letters A-F. The number of hexadecimal digits does not have to be even. If it is odd, the last digit is interpreted as the younger half of the 00-0F byte. If the argument string contains anything other than hexadecimal digits, some implementation-defined result is returned (an exception isn't thrown).\nIf you want to convert the result to a number, you can use the 'reverse' and 'reinterpretAsType' functions.</p>\n<h3 id=\"uuidstringtonum-str\">UUIDStringToNum(str)<a class=\"headerlink\" href=\"#uuidstringtonum-str\" title=\"Permanent link\">&para;</a></h3>\n<p>Accepts a string containing 36 characters in the format <code>123e4567-e89b-12d3-a456-426655440000</code>, and returns it as a set of bytes in a FixedString(16).</p>\n<h3 id=\"uuidnumtostring-str\">UUIDNumToString(str)<a class=\"headerlink\" href=\"#uuidnumtostring-str\" title=\"Permanent link\">&para;</a></h3>\n<p>Accepts a FixedString(16) value. Returns a string containing 36 characters in text format.</p>\n<h3 id=\"bitmasktolist-num\">bitmaskToList(num)<a class=\"headerlink\" href=\"#bitmasktolist-num\" title=\"Permanent link\">&para;</a></h3>\n<p>Accepts an integer. Returns a string containing the list of powers of two that total the source number when summed. They are comma-separated without spaces in text format, in ascending order.</p>\n<h3 id=\"bitmasktoarray-num\">bitmaskToArray(num)<a class=\"headerlink\" href=\"#bitmasktoarray-num\" title=\"Permanent link\">&para;</a></h3>\n<p>Accepts an integer. Returns an array of UInt64 numbers containing the list of powers of two that total the source number when summed. Numbers in the array are in ascending order.</p>\n<p><a name=\"../../../../query_language/functions/uuid_functions/\"></a>\n<a name=\"../../functions/uuid_functions/\"></a>\n<a name=\"../../../functions/uuid_functions/\"></a>\n<a name=\"../../query_language/functions/uuid_functions/\"></a>\n<a name=\"../../../../../../functions/uuid_functions/\"></a>\n<a name=\"../query_language/functions/uuid_functions/\"></a>\n<a name=\"../../../query_language/functions/uuid_functions/\"></a>\n<a name=\"../functions/uuid_functions/\"></a>\n<a name=\"functions/uuid_functions/\"></a>\n<a name=\"../../../../../functions/uuid_functions/\"></a>\n<a name=\"../../../../../query_language/functions/uuid_functions/\"></a>\n<a name=\"query_language/functions/uuid_functions/\"></a>\n<a name=\"uuid_functions/\"></a>\n<a name=\"../../../../functions/uuid_functions/\"></a></p>\n<h2 id=\"functions-for-working-with-uuid\">Functions for working with UUID<a class=\"headerlink\" href=\"#functions-for-working-with-uuid\" title=\"Permanent link\">&para;</a></h2>\n<p>The functions for working with UUID are listed below.</p>\n<h3 id=\"uuid_function-generate\">generateUUIDv4<a class=\"headerlink\" href=\"#uuid_function-generate\" title=\"Permanent link\">&para;</a></h3>\n<p>Generates the <a href=\"#../../data_types/uuid/\">UUID</a> of <a href=\"https://tools.ietf.org/html/rfc4122#section-4.4\" rel=\"external nofollow\">version 4</a>.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">generateUUIDv4</span><span class=\"p\">()</span>\n</pre></div>\n\n\n<p><strong>Returned value</strong></p>\n<p>The UUID type value.</p>\n<p><strong>Usage example</strong></p>\n<p>This example demonstrates creating a table with the UUID type column and inserting a value into the table.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"p\">:)</span> <span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">t_uuid</span> <span class=\"p\">(</span><span class=\"n\">x</span> <span class=\"n\">UUID</span><span class=\"p\">)</span> <span class=\"n\">ENGINE</span><span class=\"o\">=</span><span class=\"n\">TinyLog</span>\n\n<span class=\"p\">:)</span> <span class=\"k\">INSERT</span> <span class=\"k\">INTO</span> <span class=\"n\">t_uuid</span> <span class=\"k\">SELECT</span> <span class=\"n\">generateUUIDv4</span><span class=\"p\">()</span>\n\n<span class=\"p\">:)</span> <span class=\"k\">SELECT</span> <span class=\"o\">*</span> <span class=\"k\">FROM</span> <span class=\"n\">t_uuid</span>\n\n<span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500</span><span class=\"n\">x</span><span class=\"err\">\u2500\u2510</span>\n<span class=\"err\">\u2502</span> <span class=\"n\">f4bf890f</span><span class=\"o\">-</span><span class=\"n\">f9dc</span><span class=\"o\">-</span><span class=\"mi\">4332</span><span class=\"o\">-</span><span class=\"n\">ad5c</span><span class=\"o\">-</span><span class=\"mi\">0</span><span class=\"n\">c18e73f28e9</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"touuid-x\">toUUID (x)<a class=\"headerlink\" href=\"#touuid-x\" title=\"Permanent link\">&para;</a></h3>\n<p>Converts String type value to UUID type. </p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">toUUID</span><span class=\"p\">(</span><span class=\"n\">String</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p><strong>Returned value</strong></p>\n<p>The UUID type value.</p>\n<p><strong>Usage example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"p\">:)</span> <span class=\"k\">SELECT</span> <span class=\"n\">toUUID</span><span class=\"p\">(</span><span class=\"s1\">&#39;61f0c404-5cb3-11e7-907b-a6006ad3dba0&#39;</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">uuid</span>\n\n<span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500</span><span class=\"n\">uuid</span><span class=\"err\">\u2500\u2510</span>\n<span class=\"err\">\u2502</span> <span class=\"mi\">61</span><span class=\"n\">f0c404</span><span class=\"o\">-</span><span class=\"mi\">5</span><span class=\"n\">cb3</span><span class=\"o\">-</span><span class=\"mi\">11</span><span class=\"n\">e7</span><span class=\"o\">-</span><span class=\"mi\">907</span><span class=\"n\">b</span><span class=\"o\">-</span><span class=\"n\">a6006ad3dba0</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"uuidstringtonum\">UUIDStringToNum<a class=\"headerlink\" href=\"#uuidstringtonum\" title=\"Permanent link\">&para;</a></h3>\n<p>Accepts a string containing 36 characters in the format <code>xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</code>, and returns it as a set of bytes in a <a href=\"#../../data_types/fixedstring/\">FixedString(16)</a>.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">UUIDStringToNum</span><span class=\"p\">(</span><span class=\"n\">String</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p><strong>Returned value</strong></p>\n<p>FixedString(16)</p>\n<p><strong>Usage examples</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"p\">:)</span> <span class=\"k\">SELECT</span> \n    <span class=\"s1\">&#39;612f3c40-5d3b-217e-707b-6a546a3d7b29&#39;</span> <span class=\"k\">AS</span> <span class=\"n\">uuid</span><span class=\"p\">,</span> \n    <span class=\"n\">UUIDStringToNum</span><span class=\"p\">(</span><span class=\"n\">uuid</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">bytes</span>\n\n<span class=\"err\">\u250c\u2500</span><span class=\"n\">uuid</span><span class=\"err\">\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500</span><span class=\"n\">bytes</span><span class=\"err\">\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502</span> <span class=\"mi\">612</span><span class=\"n\">f3c40</span><span class=\"o\">-</span><span class=\"mi\">5</span><span class=\"n\">d3b</span><span class=\"o\">-</span><span class=\"mi\">217</span><span class=\"n\">e</span><span class=\"o\">-</span><span class=\"mi\">707</span><span class=\"n\">b</span><span class=\"o\">-</span><span class=\"mi\">6</span><span class=\"n\">a546a3d7b29</span> <span class=\"err\">\u2502</span> <span class=\"n\">a</span><span class=\"o\">/&lt;@</span><span class=\"p\">];</span><span class=\"o\">!~</span><span class=\"n\">p</span><span class=\"err\">{</span><span class=\"n\">jTj</span><span class=\"o\">=</span><span class=\"err\">{</span><span class=\"p\">)</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"uuidnumtostring\">UUIDNumToString<a class=\"headerlink\" href=\"#uuidnumtostring\" title=\"Permanent link\">&para;</a></h3>\n<p>Accepts a <a href=\"#../../data_types/fixedstring/\">FixedString(16)</a> value, and returns a string containing 36 characters in text format.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">UUIDNumToString</span><span class=\"p\">(</span><span class=\"n\">FixedString</span><span class=\"p\">(</span><span class=\"mi\">16</span><span class=\"p\">))</span>\n</pre></div>\n\n\n<p><strong>Returned value</strong></p>\n<p>String.</p>\n<p><strong>Usage example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> \n    <span class=\"s1\">&#39;a/&lt;@];!~p{jTj={)&#39;</span> <span class=\"k\">AS</span> <span class=\"n\">bytes</span><span class=\"p\">,</span> \n    <span class=\"n\">UUIDNumToString</span><span class=\"p\">(</span><span class=\"n\">toFixedString</span><span class=\"p\">(</span><span class=\"n\">bytes</span><span class=\"p\">,</span> <span class=\"mi\">16</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">uuid</span>\n\n<span class=\"err\">\u250c\u2500</span><span class=\"n\">bytes</span><span class=\"err\">\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500</span><span class=\"n\">uuid</span><span class=\"err\">\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502</span> <span class=\"n\">a</span><span class=\"o\">/&lt;@</span><span class=\"p\">];</span><span class=\"o\">!~</span><span class=\"n\">p</span><span class=\"err\">{</span><span class=\"n\">jTj</span><span class=\"o\">=</span><span class=\"err\">{</span><span class=\"p\">)</span> <span class=\"err\">\u2502</span> <span class=\"mi\">612</span><span class=\"n\">f3c40</span><span class=\"o\">-</span><span class=\"mi\">5</span><span class=\"n\">d3b</span><span class=\"o\">-</span><span class=\"mi\">217</span><span class=\"n\">e</span><span class=\"o\">-</span><span class=\"mi\">707</span><span class=\"n\">b</span><span class=\"o\">-</span><span class=\"mi\">6</span><span class=\"n\">a546a3d7b29</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"see-also\">See also<a class=\"headerlink\" href=\"#see-also\" title=\"Permanent link\">&para;</a></h3>\n<ul>\n<li><a href=\"#ext_dict_functions/\">dictGetUUID</a></li>\n<li><a href=\"#ext_dict_functions_dictGetTOrDefault\">dictGetUUIDOrDefault</a></li>\n</ul>\n<p><a name=\"../../../../../functions/url_functions/\"></a>\n<a name=\"../../../../query_language/functions/url_functions/\"></a>\n<a name=\"url_functions/\"></a>\n<a name=\"../query_language/functions/url_functions/\"></a>\n<a name=\"functions/url_functions/\"></a>\n<a name=\"../../../../../../functions/url_functions/\"></a>\n<a name=\"query_language/functions/url_functions/\"></a>\n<a name=\"../../../functions/url_functions/\"></a>\n<a name=\"../../query_language/functions/url_functions/\"></a>\n<a name=\"../../../../functions/url_functions/\"></a>\n<a name=\"../../../query_language/functions/url_functions/\"></a>\n<a name=\"../../../../../query_language/functions/url_functions/\"></a>\n<a name=\"../functions/url_functions/\"></a>\n<a name=\"../../functions/url_functions/\"></a></p>\n<h2 id=\"functions-for-working-with-urls\">Functions for working with URLs<a class=\"headerlink\" href=\"#functions-for-working-with-urls\" title=\"Permanent link\">&para;</a></h2>\n<p>All these functions don't follow the RFC. They are maximally simplified for improved performance.</p>\n<h3 id=\"functions-that-extract-part-of-a-url\">Functions that extract part of a URL<a class=\"headerlink\" href=\"#functions-that-extract-part-of-a-url\" title=\"Permanent link\">&para;</a></h3>\n<p>If there isn't anything similar in a URL, an empty string is returned.</p>\n<h4 id=\"protocol\">protocol<a class=\"headerlink\" href=\"#protocol\" title=\"Permanent link\">&para;</a></h4>\n<p>Returns the protocol. Examples: http, ftp, mailto, magnet...</p>\n<h4 id=\"domain\">domain<a class=\"headerlink\" href=\"#domain\" title=\"Permanent link\">&para;</a></h4>\n<p>Gets the domain.</p>\n<h4 id=\"domainwithoutwww\">domainWithoutWWW<a class=\"headerlink\" href=\"#domainwithoutwww\" title=\"Permanent link\">&para;</a></h4>\n<p>Returns the domain and removes no more than one 'www.' from the beginning of it, if present.</p>\n<h4 id=\"topleveldomain\">topLevelDomain<a class=\"headerlink\" href=\"#topleveldomain\" title=\"Permanent link\">&para;</a></h4>\n<p>Returns the top-level domain. Example: .ru.</p>\n<h4 id=\"firstsignificantsubdomain\">firstSignificantSubdomain<a class=\"headerlink\" href=\"#firstsignificantsubdomain\" title=\"Permanent link\">&para;</a></h4>\n<p>Returns the \"first significant subdomain\". This is a non-standard concept specific to Yandex.Metrica. The first significant subdomain is a second-level domain if it is 'com', 'net', 'org', or 'co'. Otherwise, it is a third-level domain. For example, firstSignificantSubdomain ('<a href=\"https://news.yandex.ru/\" rel=\"external nofollow\">https://news.yandex.ru/</a>') = 'yandex ', firstSignificantSubdomain ('<a href=\"https://news.yandex.com.tr/\" rel=\"external nofollow\">https://news.yandex.com.tr/</a>') = 'yandex '. The list of \"insignificant\" second-level domains and other implementation details may change in the future.</p>\n<h4 id=\"cuttofirstsignificantsubdomain\">cutToFirstSignificantSubdomain<a class=\"headerlink\" href=\"#cuttofirstsignificantsubdomain\" title=\"Permanent link\">&para;</a></h4>\n<p>Returns the part of the domain that includes top-level subdomains up to the \"first significant subdomain\" (see the explanation above).</p>\n<p>For example, <code>cutToFirstSignificantSubdomain('https://news.yandex.com.tr/') = 'yandex.com.tr'</code>.</p>\n<h4 id=\"path\">path<a class=\"headerlink\" href=\"#path\" title=\"Permanent link\">&para;</a></h4>\n<p>Returns the path. Example: <code>/top/news.html</code> The path does not include the query string.</p>\n<h4 id=\"pathfull\">pathFull<a class=\"headerlink\" href=\"#pathfull\" title=\"Permanent link\">&para;</a></h4>\n<p>The same as above, but including query string and fragment. Example: /top/news.html?page=2#comments</p>\n<h4 id=\"querystring\">queryString<a class=\"headerlink\" href=\"#querystring\" title=\"Permanent link\">&para;</a></h4>\n<p>Returns the query string. Example: page=1&amp;lr=213. query-string does not include the initial question mark, as well as # and everything after #.</p>\n<h4 id=\"fragment\">fragment<a class=\"headerlink\" href=\"#fragment\" title=\"Permanent link\">&para;</a></h4>\n<p>Returns the fragment identifier. fragment does not include the initial hash symbol.</p>\n<h4 id=\"querystringandfragment\">queryStringAndFragment<a class=\"headerlink\" href=\"#querystringandfragment\" title=\"Permanent link\">&para;</a></h4>\n<p>Returns the query string and fragment identifier. Example: page=1#29390.</p>\n<h4 id=\"extracturlparameter-url-name\">extractURLParameter(URL, name)<a class=\"headerlink\" href=\"#extracturlparameter-url-name\" title=\"Permanent link\">&para;</a></h4>\n<p>Returns the value of the 'name' parameter in the URL, if present. Otherwise, an empty string. If there are many parameters with this name, it returns the first occurrence. This function works under the assumption that the parameter name is encoded in the URL exactly the same way as in the passed argument.</p>\n<h4 id=\"extracturlparameters-url\">extractURLParameters(URL)<a class=\"headerlink\" href=\"#extracturlparameters-url\" title=\"Permanent link\">&para;</a></h4>\n<p>Returns an array of name=value strings corresponding to the URL parameters. The values are not decoded in any way.</p>\n<h4 id=\"extracturlparameternames-url\">extractURLParameterNames(URL)<a class=\"headerlink\" href=\"#extracturlparameternames-url\" title=\"Permanent link\">&para;</a></h4>\n<p>Returns an array of name strings corresponding to the names of URL parameters. The values are not decoded in any way.</p>\n<h4 id=\"urlhierarchy-url\">URLHierarchy(URL)<a class=\"headerlink\" href=\"#urlhierarchy-url\" title=\"Permanent link\">&para;</a></h4>\n<p>Returns an array containing the URL, truncated at the end by the symbols /,? in the path and query-string. Consecutive separator characters are counted as one. The cut is made in the position after all the consecutive separator characters. Example:</p>\n<h4 id=\"urlpathhierarchy-url\">URLPathHierarchy(URL)<a class=\"headerlink\" href=\"#urlpathhierarchy-url\" title=\"Permanent link\">&para;</a></h4>\n<p>The same as above, but without the protocol and host in the result. The / element (root) is not included. Example: the function is used to implement tree reports the URL in Yandex. Metric.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">URLPathHierarchy(&#39;https://example.com/browse/CONV-6788&#39;) =</span>\n<span class=\"err\">[</span>\n<span class=\"err\">    &#39;/browse/&#39;,</span>\n<span class=\"err\">    &#39;/browse/CONV-6788&#39;</span>\n<span class=\"err\">]</span>\n</pre></div>\n\n\n<h4 id=\"decodeurlcomponent-url\">decodeURLComponent(URL)<a class=\"headerlink\" href=\"#decodeurlcomponent-url\" title=\"Permanent link\">&para;</a></h4>\n<p>Returns the decoded URL.\nExample:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">decodeURLComponent</span><span class=\"p\">(</span><span class=\"s1\">&#39;http://127.0.0.1:8123/?query=SELECT%201%3B&#39;</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">DecodedURL</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500DecodedURL\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502 http://127.0.0.1:8123/?query=SELECT 1; \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"functions-that-remove-part-of-a-url\">Functions that remove part of a URL.<a class=\"headerlink\" href=\"#functions-that-remove-part-of-a-url\" title=\"Permanent link\">&para;</a></h3>\n<p>If the URL doesn't have anything similar, the URL remains unchanged.</p>\n<h4 id=\"cutwww\">cutWWW<a class=\"headerlink\" href=\"#cutwww\" title=\"Permanent link\">&para;</a></h4>\n<p>Removes no more than one 'www.' from the beginning of the URL's domain, if present.</p>\n<h4 id=\"cutquerystring\">cutQueryString<a class=\"headerlink\" href=\"#cutquerystring\" title=\"Permanent link\">&para;</a></h4>\n<p>Removes query string. The question mark is also removed.</p>\n<h4 id=\"cutfragment\">cutFragment<a class=\"headerlink\" href=\"#cutfragment\" title=\"Permanent link\">&para;</a></h4>\n<p>Removes the fragment identifier. The number sign is also removed.</p>\n<h4 id=\"cutquerystringandfragment\">cutQueryStringAndFragment<a class=\"headerlink\" href=\"#cutquerystringandfragment\" title=\"Permanent link\">&para;</a></h4>\n<p>Removes the query string and fragment identifier. The question mark and number sign are also removed.</p>\n<h4 id=\"cuturlparameter-url-name\">cutURLParameter(URL, name)<a class=\"headerlink\" href=\"#cuturlparameter-url-name\" title=\"Permanent link\">&para;</a></h4>\n<p>Removes the 'name' URL parameter, if present. This function works under the assumption that the parameter name is encoded in the URL exactly the same way as in the passed argument.</p>\n<p><a name=\"../query_language/functions/ip_address_functions/\"></a>\n<a name=\"../../../../../query_language/functions/ip_address_functions/\"></a>\n<a name=\"../../../../../../functions/ip_address_functions/\"></a>\n<a name=\"ip_address_functions/\"></a>\n<a name=\"../../../../query_language/functions/ip_address_functions/\"></a>\n<a name=\"../../../../functions/ip_address_functions/\"></a>\n<a name=\"../../../../../functions/ip_address_functions/\"></a>\n<a name=\"../../functions/ip_address_functions/\"></a>\n<a name=\"../../../query_language/functions/ip_address_functions/\"></a>\n<a name=\"../functions/ip_address_functions/\"></a>\n<a name=\"query_language/functions/ip_address_functions/\"></a>\n<a name=\"../../../functions/ip_address_functions/\"></a>\n<a name=\"functions/ip_address_functions/\"></a>\n<a name=\"../../query_language/functions/ip_address_functions/\"></a></p>\n<h2 id=\"functions-for-working-with-ip-addresses\">Functions for working with IP addresses<a class=\"headerlink\" href=\"#functions-for-working-with-ip-addresses\" title=\"Permanent link\">&para;</a></h2>\n<h3 id=\"ipv4numtostring-num\">IPv4NumToString(num)<a class=\"headerlink\" href=\"#ipv4numtostring-num\" title=\"Permanent link\">&para;</a></h3>\n<p>Takes a UInt32 number. Interprets it as an IPv4 address in big endian. Returns a string containing the corresponding IPv4 address in the format A.B.C.d (dot-separated numbers in decimal form).</p>\n<h3 id=\"ipv4stringtonum-s\">IPv4StringToNum(s)<a class=\"headerlink\" href=\"#ipv4stringtonum-s\" title=\"Permanent link\">&para;</a></h3>\n<p>The reverse function of IPv4NumToString. If the IPv4 address has an invalid format, it returns 0.</p>\n<h3 id=\"ipv4numtostringclassc-num\">IPv4NumToStringClassC(num)<a class=\"headerlink\" href=\"#ipv4numtostringclassc-num\" title=\"Permanent link\">&para;</a></h3>\n<p>Similar to IPv4NumToString, but using xxx instead of the last octet.</p>\n<p>Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span>\n    <span class=\"n\">IPv4NumToStringClassC</span><span class=\"p\">(</span><span class=\"n\">ClientIP</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">k</span><span class=\"p\">,</span>\n    <span class=\"k\">count</span><span class=\"p\">()</span> <span class=\"k\">AS</span> <span class=\"k\">c</span>\n<span class=\"k\">FROM</span> <span class=\"n\">test</span><span class=\"p\">.</span><span class=\"n\">hits</span>\n<span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">k</span>\n<span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"k\">c</span> <span class=\"k\">DESC</span>\n<span class=\"k\">LIMIT</span> <span class=\"mi\">10</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500k\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500c\u2500\u2510</span>\n<span class=\"err\">\u2502 83.149.9.xxx   \u2502 26238 \u2502</span>\n<span class=\"err\">\u2502 217.118.81.xxx \u2502 26074 \u2502</span>\n<span class=\"err\">\u2502 213.87.129.xxx \u2502 25481 \u2502</span>\n<span class=\"err\">\u2502 83.149.8.xxx   \u2502 24984 \u2502</span>\n<span class=\"err\">\u2502 217.118.83.xxx \u2502 22797 \u2502</span>\n<span class=\"err\">\u2502 78.25.120.xxx  \u2502 22354 \u2502</span>\n<span class=\"err\">\u2502 213.87.131.xxx \u2502 21285 \u2502</span>\n<span class=\"err\">\u2502 78.25.121.xxx  \u2502 20887 \u2502</span>\n<span class=\"err\">\u2502 188.162.65.xxx \u2502 19694 \u2502</span>\n<span class=\"err\">\u2502 83.149.48.xxx  \u2502 17406 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>Since using 'xxx' is highly unusual, this may be changed in the future. We recommend that you don't rely on the exact format of this fragment.</p>\n<h4 id=\"ipv6numtostring-x\">IPv6NumToString(x)<a class=\"headerlink\" href=\"#ipv6numtostring-x\" title=\"Permanent link\">&para;</a></h4>\n<p>Accepts a FixedString(16) value containing the IPv6 address in binary format. Returns a string containing this address in text format.\nIPv6-mapped IPv4 addresses are output in the format ::ffff:111.222.33.44. Examples:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">IPv6NumToString</span><span class=\"p\">(</span><span class=\"n\">toFixedString</span><span class=\"p\">(</span><span class=\"n\">unhex</span><span class=\"p\">(</span><span class=\"s1\">&#39;2A0206B8000000000000000000000011&#39;</span><span class=\"p\">),</span> <span class=\"mi\">16</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">addr</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500addr\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502 2a02:6b8::11 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span>\n    <span class=\"n\">IPv6NumToString</span><span class=\"p\">(</span><span class=\"n\">ClientIP6</span> <span class=\"k\">AS</span> <span class=\"n\">k</span><span class=\"p\">),</span>\n    <span class=\"k\">count</span><span class=\"p\">()</span> <span class=\"k\">AS</span> <span class=\"k\">c</span>\n<span class=\"k\">FROM</span> <span class=\"n\">hits_all</span>\n<span class=\"k\">WHERE</span> <span class=\"n\">EventDate</span> <span class=\"o\">=</span> <span class=\"n\">today</span><span class=\"p\">()</span> <span class=\"k\">AND</span> <span class=\"k\">substring</span><span class=\"p\">(</span><span class=\"n\">ClientIP6</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">12</span><span class=\"p\">)</span> <span class=\"o\">!=</span> <span class=\"n\">unhex</span><span class=\"p\">(</span><span class=\"s1\">&#39;00000000000000000000FFFF&#39;</span><span class=\"p\">)</span>\n<span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">k</span>\n<span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"k\">c</span> <span class=\"k\">DESC</span>\n<span class=\"k\">LIMIT</span> <span class=\"mi\">10</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500IPv6NumToString(ClientIP6)\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500c\u2500\u2510</span>\n<span class=\"err\">\u2502 2a02:2168:aaa:bbbb::2                   \u2502 24695 \u2502</span>\n<span class=\"err\">\u2502 2a02:2698:abcd:abcd:abcd:abcd:8888:5555 \u2502 22408 \u2502</span>\n<span class=\"err\">\u2502 2a02:6b8:0:fff::ff                      \u2502 16389 \u2502</span>\n<span class=\"err\">\u2502 2a01:4f8:111:6666::2                    \u2502 16016 \u2502</span>\n<span class=\"err\">\u2502 2a02:2168:888:222::1                    \u2502 15896 \u2502</span>\n<span class=\"err\">\u2502 2a01:7e00::ffff:ffff:ffff:222           \u2502 14774 \u2502</span>\n<span class=\"err\">\u2502 2a02:8109:eee:ee:eeee:eeee:eeee:eeee    \u2502 14443 \u2502</span>\n<span class=\"err\">\u2502 2a02:810b:8888:888:8888:8888:8888:8888  \u2502 14345 \u2502</span>\n<span class=\"err\">\u2502 2a02:6b8:0:444:4444:4444:4444:4444      \u2502 14279 \u2502</span>\n<span class=\"err\">\u2502 2a01:7e00::ffff:ffff:ffff:ffff          \u2502 13880 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span>\n    <span class=\"n\">IPv6NumToString</span><span class=\"p\">(</span><span class=\"n\">ClientIP6</span> <span class=\"k\">AS</span> <span class=\"n\">k</span><span class=\"p\">),</span>\n    <span class=\"k\">count</span><span class=\"p\">()</span> <span class=\"k\">AS</span> <span class=\"k\">c</span>\n<span class=\"k\">FROM</span> <span class=\"n\">hits_all</span>\n<span class=\"k\">WHERE</span> <span class=\"n\">EventDate</span> <span class=\"o\">=</span> <span class=\"n\">today</span><span class=\"p\">()</span>\n<span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">k</span>\n<span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"k\">c</span> <span class=\"k\">DESC</span>\n<span class=\"k\">LIMIT</span> <span class=\"mi\">10</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500IPv6NumToString(ClientIP6)\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500c\u2500\u2510</span>\n<span class=\"err\">\u2502 ::ffff:94.26.111.111       \u2502 747440 \u2502</span>\n<span class=\"err\">\u2502 ::ffff:37.143.222.4        \u2502 529483 \u2502</span>\n<span class=\"err\">\u2502 ::ffff:5.166.111.99        \u2502 317707 \u2502</span>\n<span class=\"err\">\u2502 ::ffff:46.38.11.77         \u2502 263086 \u2502</span>\n<span class=\"err\">\u2502 ::ffff:79.105.111.111      \u2502 186611 \u2502</span>\n<span class=\"err\">\u2502 ::ffff:93.92.111.88        \u2502 176773 \u2502</span>\n<span class=\"err\">\u2502 ::ffff:84.53.111.33        \u2502 158709 \u2502</span>\n<span class=\"err\">\u2502 ::ffff:217.118.11.22       \u2502 154004 \u2502</span>\n<span class=\"err\">\u2502 ::ffff:217.118.11.33       \u2502 148449 \u2502</span>\n<span class=\"err\">\u2502 ::ffff:217.118.11.44       \u2502 148243 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"ipv6stringtonum-s\">IPv6StringToNum(s)<a class=\"headerlink\" href=\"#ipv6stringtonum-s\" title=\"Permanent link\">&para;</a></h3>\n<p>The reverse function of IPv6NumToString. If the IPv6 address has an invalid format, it returns a string of null bytes.\nHEX can be uppercase or lowercase.</p>\n<h3 id=\"ipv4toipv6-x\">IPv4ToIPv6(x)<a class=\"headerlink\" href=\"#ipv4toipv6-x\" title=\"Permanent link\">&para;</a></h3>\n<p>Takes a UInt32 number. Interprets it as an IPv4 address in big endian. Returns a FixedString(16) value containing the IPv6 address in binary format. Examples:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">IPv6NumToString</span><span class=\"p\">(</span><span class=\"n\">IPv4ToIPv6</span><span class=\"p\">(</span><span class=\"n\">IPv4StringToNum</span><span class=\"p\">(</span><span class=\"s1\">&#39;192.168.0.1&#39;</span><span class=\"p\">)))</span> <span class=\"k\">AS</span> <span class=\"n\">addr</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500addr\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502 ::ffff:192.168.0.1 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"cutipv6-x-bitstocutforipv6-bitstocutforipv4\">cutIPv6(x, bitsToCutForIPv6, bitsToCutForIPv4)<a class=\"headerlink\" href=\"#cutipv6-x-bitstocutforipv6-bitstocutforipv4\" title=\"Permanent link\">&para;</a></h3>\n<p>Accepts a FixedString(16) value containing the IPv6 address in binary format. Returns a string containing the address of the specified number of bits removed in text format. For example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">WITH</span>\n    <span class=\"n\">IPv6StringToNum</span><span class=\"p\">(</span><span class=\"s1\">&#39;2001:0DB8:AC10:FE01:FEED:BABE:CAFE:F00D&#39;</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">ipv6</span><span class=\"p\">,</span>\n    <span class=\"n\">IPv4ToIPv6</span><span class=\"p\">(</span><span class=\"n\">IPv4StringToNum</span><span class=\"p\">(</span><span class=\"s1\">&#39;192.168.0.1&#39;</span><span class=\"p\">))</span> <span class=\"k\">AS</span> <span class=\"n\">ipv4</span>\n<span class=\"k\">SELECT</span>\n    <span class=\"n\">cutIPv6</span><span class=\"p\">(</span><span class=\"n\">ipv6</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">),</span>\n    <span class=\"n\">cutIPv6</span><span class=\"p\">(</span><span class=\"n\">ipv4</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500cutIPv6(ipv6, 2, 0)\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500cutIPv6(ipv4, 0, 2)\u2500\u2510</span>\n<span class=\"err\">\u2502 2001:db8:ac10:fe01:feed:babe:cafe:0 \u2502 ::ffff:192.168.0.0  \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p><a name=\"../../../functions/json_functions/\"></a>\n<a name=\"../../query_language/functions/json_functions/\"></a>\n<a name=\"../../functions/json_functions/\"></a>\n<a name=\"../../../../functions/json_functions/\"></a>\n<a name=\"../../../../../../functions/json_functions/\"></a>\n<a name=\"../../../../query_language/functions/json_functions/\"></a>\n<a name=\"../../../query_language/functions/json_functions/\"></a>\n<a name=\"../../../../../functions/json_functions/\"></a>\n<a name=\"functions/json_functions/\"></a>\n<a name=\"../query_language/functions/json_functions/\"></a>\n<a name=\"../functions/json_functions/\"></a>\n<a name=\"json_functions/\"></a>\n<a name=\"query_language/functions/json_functions/\"></a>\n<a name=\"../../../../../query_language/functions/json_functions/\"></a></p>\n<h2 id=\"functions-for-working-with-json\">Functions for working with JSON<a class=\"headerlink\" href=\"#functions-for-working-with-json\" title=\"Permanent link\">&para;</a></h2>\n<p>In Yandex.Metrica, JSON is transmitted by users as session parameters. There are some special functions for working with this JSON. (Although in most of the cases, the JSONs are additionally pre-processed, and the resulting values are put in separate columns in their processed format.) All these functions are based on strong assumptions about what the JSON can be, but they try to do as little as possible to get the job done.</p>\n<p>The following assumptions are made:</p>\n<ol>\n<li>The field name (function argument) must be a constant.</li>\n<li>The field name is somehow canonically encoded in JSON. For example: <code>visitParamHas('{\"abc\":\"def\"}', 'abc') = 1</code>, but <code>visitParamHas('{\"\\\\u0061\\\\u0062\\\\u0063\":\"def\"}', 'abc') = 0</code></li>\n<li>Fields are searched for on any nesting level, indiscriminately. If there are multiple matching fields, the first occurrence is used.</li>\n<li>The JSON doesn't have space characters outside of string literals.</li>\n</ol>\n<h3 id=\"visitparamhas-params-name\">visitParamHas(params, name)<a class=\"headerlink\" href=\"#visitparamhas-params-name\" title=\"Permanent link\">&para;</a></h3>\n<p>Checks whether there is a field with the 'name' name.</p>\n<h3 id=\"visitparamextractuint-params-name\">visitParamExtractUInt(params, name)<a class=\"headerlink\" href=\"#visitparamextractuint-params-name\" title=\"Permanent link\">&para;</a></h3>\n<p>Parses UInt64 from the value of the field named 'name'. If this is a string field, it tries to parse a number from the beginning of the string. If the field doesn't exist, or it exists but doesn't contain a number, it returns 0.</p>\n<h3 id=\"visitparamextractint-params-name\">visitParamExtractInt(params, name)<a class=\"headerlink\" href=\"#visitparamextractint-params-name\" title=\"Permanent link\">&para;</a></h3>\n<p>The same as for Int64.</p>\n<h3 id=\"visitparamextractfloat-params-name\">visitParamExtractFloat(params, name)<a class=\"headerlink\" href=\"#visitparamextractfloat-params-name\" title=\"Permanent link\">&para;</a></h3>\n<p>The same as for Float64.</p>\n<h3 id=\"visitparamextractbool-params-name\">visitParamExtractBool(params, name)<a class=\"headerlink\" href=\"#visitparamextractbool-params-name\" title=\"Permanent link\">&para;</a></h3>\n<p>Parses a true/false value. The result is UInt8.</p>\n<h3 id=\"visitparamextractraw-params-name\">visitParamExtractRaw(params, name)<a class=\"headerlink\" href=\"#visitparamextractraw-params-name\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns the value of a field, including separators.</p>\n<p>Examples:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">visitParamExtractRaw(&#39;{&quot;abc&quot;:&quot;\\\\n\\\\u0000&quot;}&#39;, &#39;abc&#39;) = &#39;&quot;\\\\n\\\\u0000&quot;&#39;</span>\n<span class=\"err\">visitParamExtractRaw(&#39;{&quot;abc&quot;:{&quot;def&quot;:[1,2,3]}}&#39;, &#39;abc&#39;) = &#39;{&quot;def&quot;:[1,2,3]}&#39;</span>\n</pre></div>\n\n\n<h3 id=\"visitparamextractstring-params-name\">visitParamExtractString(params, name)<a class=\"headerlink\" href=\"#visitparamextractstring-params-name\" title=\"Permanent link\">&para;</a></h3>\n<p>Parses the string in double quotes. The value is unescaped. If unescaping failed, it returns an empty string.</p>\n<p>Examples:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">visitParamExtractString(&#39;{&quot;abc&quot;:&quot;\\\\n\\\\u0000&quot;}&#39;, &#39;abc&#39;) = &#39;\\n\\0&#39;</span>\n<span class=\"err\">visitParamExtractString(&#39;{&quot;abc&quot;:&quot;\\\\u263a&quot;}&#39;, &#39;abc&#39;) = &#39;\u263a&#39;</span>\n<span class=\"err\">visitParamExtractString(&#39;{&quot;abc&quot;:&quot;\\\\u263&quot;}&#39;, &#39;abc&#39;) = &#39;&#39;</span>\n<span class=\"err\">visitParamExtractString(&#39;{&quot;abc&quot;:&quot;hello}&#39;, &#39;abc&#39;) = &#39;&#39;</span>\n</pre></div>\n\n\n<p>There is currently no support for code points in the format <code>\\uXXXX\\uYYYY</code> that are not from the basic multilingual plane (they are converted to CESU-8 instead of UTF-8).</p>\n<p><a name=\"../../../../../../functions/higher_order_functions/\"></a>\n<a name=\"../../../query_language/functions/higher_order_functions/\"></a>\n<a name=\"../../../functions/higher_order_functions/\"></a>\n<a name=\"../functions/higher_order_functions/\"></a>\n<a name=\"../query_language/functions/higher_order_functions/\"></a>\n<a name=\"../../../../functions/higher_order_functions/\"></a>\n<a name=\"../../query_language/functions/higher_order_functions/\"></a>\n<a name=\"../../functions/higher_order_functions/\"></a>\n<a name=\"../../../../../query_language/functions/higher_order_functions/\"></a>\n<a name=\"functions/higher_order_functions/\"></a>\n<a name=\"higher_order_functions/\"></a>\n<a name=\"query_language/functions/higher_order_functions/\"></a>\n<a name=\"../../../../../functions/higher_order_functions/\"></a>\n<a name=\"../../../../query_language/functions/higher_order_functions/\"></a></p>\n<h2 id=\"higher-order-functions\">Higher-order functions<a class=\"headerlink\" href=\"#higher-order-functions\" title=\"Permanent link\">&para;</a></h2>\n<h3 id=\"operator-lambda-params-expr-function\"><code>-&gt;</code> operator, lambda(params, expr) function<a class=\"headerlink\" href=\"#operator-lambda-params-expr-function\" title=\"Permanent link\">&para;</a></h3>\n<p>Allows describing a lambda function for passing to a higher-order function. The left side of the arrow has a formal parameter, which is any ID, or multiple formal parameters \u2013 any IDs in a tuple. The right side of the arrow has an expression that can use these formal parameters, as well as any table columns.</p>\n<p>Examples: <code>x -&gt; 2 * x, str -&gt; str != Referer.</code></p>\n<p>Higher-order functions can only accept lambda functions as their functional argument.</p>\n<p>A lambda function that accepts multiple arguments can be passed to a higher-order function. In this case, the higher-order function is passed several arrays of identical length that these arguments will correspond to.</p>\n<p>For all functions other than 'arrayMap' and 'arrayFilter', the first argument (the lambda function) can be omitted. In this case, identical mapping is assumed.</p>\n<h4 id=\"arraymap-func-arr1\">arrayMap(func, arr1, ...)<a class=\"headerlink\" href=\"#arraymap-func-arr1\" title=\"Permanent link\">&para;</a></h4>\n<p>Returns an array obtained from the original application of the 'func' function to each element in the 'arr' array.</p>\n<h4 id=\"arrayfilter-func-arr1\">arrayFilter(func, arr1, ...)<a class=\"headerlink\" href=\"#arrayfilter-func-arr1\" title=\"Permanent link\">&para;</a></h4>\n<p>Returns an array containing only the elements in 'arr1' for which 'func' returns something other than 0.</p>\n<p>Examples:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">arrayFilter</span><span class=\"p\">(</span><span class=\"n\">x</span> <span class=\"o\">-&gt;</span> <span class=\"n\">x</span> <span class=\"k\">LIKE</span> <span class=\"s1\">&#39;%World%&#39;</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"s1\">&#39;Hello&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;abc World&#39;</span><span class=\"p\">])</span> <span class=\"k\">AS</span> <span class=\"n\">res</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500res\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502 [&#39;abc World&#39;] \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span>\n    <span class=\"n\">arrayFilter</span><span class=\"p\">(</span>\n        <span class=\"p\">(</span><span class=\"n\">i</span><span class=\"p\">,</span> <span class=\"n\">x</span><span class=\"p\">)</span> <span class=\"o\">-&gt;</span> <span class=\"n\">x</span> <span class=\"k\">LIKE</span> <span class=\"s1\">&#39;%World%&#39;</span><span class=\"p\">,</span>\n        <span class=\"n\">arrayEnumerate</span><span class=\"p\">(</span><span class=\"n\">arr</span><span class=\"p\">),</span>\n        <span class=\"p\">[</span><span class=\"s1\">&#39;Hello&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;abc World&#39;</span><span class=\"p\">]</span> <span class=\"k\">AS</span> <span class=\"n\">arr</span><span class=\"p\">)</span>\n    <span class=\"k\">AS</span> <span class=\"n\">res</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500res\u2500\u2510</span>\n<span class=\"err\">\u2502 [2] \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h4 id=\"arraycount-91-func-93-arr1\">arrayCount([func,] arr1, ...)<a class=\"headerlink\" href=\"#arraycount-91-func-93-arr1\" title=\"Permanent link\">&para;</a></h4>\n<p>Returns the number of elements in the arr array for which func returns something other than 0. If 'func' is not specified, it returns the number of non-zero elements in the array.</p>\n<h4 id=\"arrayexists-91-func-93-arr1\">arrayExists([func,] arr1, ...)<a class=\"headerlink\" href=\"#arrayexists-91-func-93-arr1\" title=\"Permanent link\">&para;</a></h4>\n<p>Returns 1 if there is at least one element in 'arr' for which 'func' returns something other than 0. Otherwise, it returns 0.</p>\n<h4 id=\"arrayall-91-func-93-arr1\">arrayAll([func,] arr1, ...)<a class=\"headerlink\" href=\"#arrayall-91-func-93-arr1\" title=\"Permanent link\">&para;</a></h4>\n<p>Returns 1 if 'func' returns something other than 0 for all the elements in 'arr'. Otherwise, it returns 0.</p>\n<h4 id=\"arraysum-91-func-93-arr1\">arraySum([func,] arr1, ...)<a class=\"headerlink\" href=\"#arraysum-91-func-93-arr1\" title=\"Permanent link\">&para;</a></h4>\n<p>Returns the sum of the 'func' values. If the function is omitted, it just returns the sum of the array elements.</p>\n<h4 id=\"arrayfirst-func-arr1\">arrayFirst(func, arr1, ...)<a class=\"headerlink\" href=\"#arrayfirst-func-arr1\" title=\"Permanent link\">&para;</a></h4>\n<p>Returns the first element in the 'arr1' array for which 'func' returns something other than 0.</p>\n<h4 id=\"arrayfirstindex-func-arr1\">arrayFirstIndex(func, arr1, ...)<a class=\"headerlink\" href=\"#arrayfirstindex-func-arr1\" title=\"Permanent link\">&para;</a></h4>\n<p>Returns the index of the first element in the 'arr1' array for which 'func' returns something other than 0.</p>\n<h4 id=\"arraycumsum-91-func-93-arr1\">arrayCumSum([func,] arr1, ...)<a class=\"headerlink\" href=\"#arraycumsum-91-func-93-arr1\" title=\"Permanent link\">&para;</a></h4>\n<p>Returns an array of partial sums of elements in the source array (a running sum). If the <code>func</code> function is specified, then the values of the array elements are converted by this function before summing.</p>\n<p>Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">arrayCumSum</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">])</span> <span class=\"k\">AS</span> <span class=\"n\">res</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500res\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502 [1, 2, 3, 4] \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h4 id=\"arraycumsumnonnegative-arr\">arrayCumSumNonNegative(arr)<a class=\"headerlink\" href=\"#arraycumsumnonnegative-arr\" title=\"Permanent link\">&para;</a></h4>\n<p>Same as arrayCumSum, returns an array of partial sums of elements in the source array (a running sum). Different arrayCumSum, when then returned value contains a value less than zero, the value is replace with zero and the subsequent calculation is performed with zero parameters. For example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">arrayCumSumNonNegative</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">])</span> <span class=\"k\">AS</span> <span class=\"n\">res</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500res\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502 [1,2,0,1] \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h4 id=\"arraysort-91-func-93-arr1\">arraySort([func,] arr1, ...)<a class=\"headerlink\" href=\"#arraysort-91-func-93-arr1\" title=\"Permanent link\">&para;</a></h4>\n<p>Returns an array as result of sorting the elements of <code>arr1</code> in ascending order. If the <code>func</code> function is specified, sorting order is determined by the result of the function <code>func</code> applied to the elements of array (arrays)  </p>\n<p>The <a href=\"https://en.wikipedia.org/wiki/Schwartzian_transform\" rel=\"external nofollow\">Schwartzian transform</a> is used to impove sorting efficiency.</p>\n<p>Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">arraySort</span><span class=\"p\">((</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">y</span><span class=\"p\">)</span> <span class=\"o\">-&gt;</span> <span class=\"n\">y</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"s1\">&#39;hello&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;world&#39;</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">]);</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500res\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502 [&#39;world&#39;, &#39;hello&#39;] \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>Note that NULLs and NaNs go last (NaNs go before NULLs). For example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">arraySort</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"n\">nan</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"k\">NULL</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"n\">nan</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"k\">NULL</span><span class=\"p\">])</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500arraySort([1, nan, 2, NULL, 3, nan, 4, NULL])\u2500\u2510</span>\n<span class=\"err\">\u2502 [1,2,3,4,nan,nan,NULL,NULL]                   \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h4 id=\"arrayreversesort-91-func-93-arr1\">arrayReverseSort([func,] arr1, ...)<a class=\"headerlink\" href=\"#arrayreversesort-91-func-93-arr1\" title=\"Permanent link\">&para;</a></h4>\n<p>Returns an array as result of sorting the elements of <code>arr1</code> in descending order. If the <code>func</code> function is specified, sorting order is determined by the result of the function <code>func</code> applied to the elements of array (arrays)  </p>\n<p>Note that NULLs and NaNs go last (NaNs go before NULLs). For example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">arrayReverseSort</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"n\">nan</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"k\">NULL</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"n\">nan</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"k\">NULL</span><span class=\"p\">])</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500arrayReverseSort([1, nan, 2, NULL, 3, nan, 4, NULL])\u2500\u2510</span>\n<span class=\"err\">\u2502 [4,3,2,1,nan,nan,NULL,NULL]                          \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p><a name=\"functions/ext_dict_functions/\"></a>\n<a name=\"../../../../query_language/functions/ext_dict_functions/\"></a>\n<a name=\"../../functions/ext_dict_functions/\"></a>\n<a name=\"../functions/ext_dict_functions/\"></a>\n<a name=\"../../../../../query_language/functions/ext_dict_functions/\"></a>\n<a name=\"query_language/functions/ext_dict_functions/\"></a>\n<a name=\"ext_dict_functions/\"></a>\n<a name=\"../../../query_language/functions/ext_dict_functions/\"></a>\n<a name=\"../../query_language/functions/ext_dict_functions/\"></a>\n<a name=\"../../../../../functions/ext_dict_functions/\"></a>\n<a name=\"../../../../../../functions/ext_dict_functions/\"></a>\n<a name=\"../../../functions/ext_dict_functions/\"></a>\n<a name=\"../query_language/functions/ext_dict_functions/\"></a>\n<a name=\"../../../../functions/ext_dict_functions/\"></a></p>\n<h2 id=\"ext_dict_functions\">Functions for working with external dictionaries<a class=\"headerlink\" href=\"#ext_dict_functions\" title=\"Permanent link\">&para;</a></h2>\n<p>For information on connecting and configuring external dictionaries, see <a href=\"#../dicts/external_dicts/\">External dictionaries</a>.</p>\n<h3 id=\"dictgetuint8-dictgetuint16-dictgetuint32-dictgetuint64\">dictGetUInt8, dictGetUInt16, dictGetUInt32, dictGetUInt64<a class=\"headerlink\" href=\"#dictgetuint8-dictgetuint16-dictgetuint32-dictgetuint64\" title=\"Permanent link\">&para;</a></h3>\n<h3 id=\"dictgetint8-dictgetint16-dictgetint32-dictgetint64\">dictGetInt8, dictGetInt16, dictGetInt32, dictGetInt64<a class=\"headerlink\" href=\"#dictgetint8-dictgetint16-dictgetint32-dictgetint64\" title=\"Permanent link\">&para;</a></h3>\n<h3 id=\"dictgetfloat32-dictgetfloat64\">dictGetFloat32, dictGetFloat64<a class=\"headerlink\" href=\"#dictgetfloat32-dictgetfloat64\" title=\"Permanent link\">&para;</a></h3>\n<h3 id=\"dictgetdate-dictgetdatetime\">dictGetDate, dictGetDateTime<a class=\"headerlink\" href=\"#dictgetdate-dictgetdatetime\" title=\"Permanent link\">&para;</a></h3>\n<h3 id=\"dictgetuuid\">dictGetUUID<a class=\"headerlink\" href=\"#dictgetuuid\" title=\"Permanent link\">&para;</a></h3>\n<h3 id=\"dictgetstring\">dictGetString<a class=\"headerlink\" href=\"#dictgetstring\" title=\"Permanent link\">&para;</a></h3>\n<p><code>dictGetT('dict_name', 'attr_name', id)</code></p>\n<ul>\n<li>Get the value of the attr_name attribute from the dict_name dictionary using the 'id' key.<code>dict_name</code> and <code>attr_name</code> are constant strings.<code>id</code>must be UInt64.\nIf there is no <code>id</code> key in the dictionary, it returns the default value specified in the dictionary description.</li>\n</ul>\n<h3 id=\"ext_dict_functions_dictGetTOrDefault\">dictGetTOrDefault<a class=\"headerlink\" href=\"#ext_dict_functions_dictGetTOrDefault\" title=\"Permanent link\">&para;</a></h3>\n<p><code>dictGetTOrDefault('dict_name', 'attr_name', id, default)</code></p>\n<p>The same as the <code>dictGetT</code> functions, but the default value is taken from the function's last argument.</p>\n<h3 id=\"dictisin\">dictIsIn<a class=\"headerlink\" href=\"#dictisin\" title=\"Permanent link\">&para;</a></h3>\n<p><code>dictIsIn ('dict_name', child_id, ancestor_id)</code></p>\n<ul>\n<li>For the 'dict_name' hierarchical dictionary, finds out whether the 'child_id' key is located inside 'ancestor_id' (or matches 'ancestor_id'). Returns UInt8.</li>\n</ul>\n<h3 id=\"dictgethierarchy\">dictGetHierarchy<a class=\"headerlink\" href=\"#dictgethierarchy\" title=\"Permanent link\">&para;</a></h3>\n<p><code>dictGetHierarchy('dict_name', id)</code></p>\n<ul>\n<li>For the 'dict_name' hierarchical dictionary, returns an array of dictionary keys starting from 'id' and continuing along the chain of parent elements. Returns Array(UInt64).</li>\n</ul>\n<h3 id=\"dicthas\">dictHas<a class=\"headerlink\" href=\"#dicthas\" title=\"Permanent link\">&para;</a></h3>\n<p><code>dictHas('dict_name', id)</code></p>\n<ul>\n<li>Check whether the dictionary has the key. Returns a UInt8 value equal to 0 if there is no key and 1 if there is a key.</li>\n</ul>\n<p><a name=\"../../../functions/ym_dict_functions/\"></a>\n<a name=\"../../../../functions/ym_dict_functions/\"></a>\n<a name=\"../../../query_language/functions/ym_dict_functions/\"></a>\n<a name=\"../functions/ym_dict_functions/\"></a>\n<a name=\"../query_language/functions/ym_dict_functions/\"></a>\n<a name=\"functions/ym_dict_functions/\"></a>\n<a name=\"../../../../../../functions/ym_dict_functions/\"></a>\n<a name=\"../../functions/ym_dict_functions/\"></a>\n<a name=\"../../../../../query_language/functions/ym_dict_functions/\"></a>\n<a name=\"ym_dict_functions/\"></a>\n<a name=\"query_language/functions/ym_dict_functions/\"></a>\n<a name=\"../../../../../functions/ym_dict_functions/\"></a>\n<a name=\"../../query_language/functions/ym_dict_functions/\"></a>\n<a name=\"../../../../query_language/functions/ym_dict_functions/\"></a></p>\n<h2 id=\"functions-for-working-with-yandex-metrica-dictionaries\">Functions for working with Yandex.Metrica dictionaries<a class=\"headerlink\" href=\"#functions-for-working-with-yandex-metrica-dictionaries\" title=\"Permanent link\">&para;</a></h2>\n<p>In order for the functions below to work, the server config must specify the paths and addresses for getting all the Yandex.Metrica dictionaries. The dictionaries are loaded at the first call of any of these functions. If the reference lists can't be loaded, an exception is thrown.</p>\n<p>For information about creating reference lists, see the section \"Dictionaries\".</p>\n<h3 id=\"multiple-geobases\">Multiple geobases<a class=\"headerlink\" href=\"#multiple-geobases\" title=\"Permanent link\">&para;</a></h3>\n<p>ClickHouse supports working with multiple alternative geobases (regional hierarchies) simultaneously, in order to support various perspectives on which countries certain regions belong to.</p>\n<p>The 'clickhouse-server' config specifies the file with the regional hierarchy::<code>&lt;path_to_regions_hierarchy_file&gt;/opt/geo/regions_hierarchy.txt&lt;/path_to_regions_hierarchy_file&gt;</code></p>\n<p>Besides this file, it also searches for files nearby that have the _ symbol and any suffix appended to the name (before the file extension).\nFor example, it will also find the file <code>/opt/geo/regions_hierarchy_ua.txt</code>, if present.</p>\n<p><code>ua</code> is called the dictionary key. For a dictionary without a suffix, the key is an empty string.</p>\n<p>All the dictionaries are re-loaded in runtime (once every certain number of seconds, as defined in the builtin_dictionaries_reload_interval config parameter, or once an hour by default). However, the list of available dictionaries is defined one time, when the server starts.</p>\n<p>All functions for working with regions have an optional argument at the end \u2013 the dictionary key. It is referred to as the geobase.\nExample:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">regionToCountry(RegionID) \u2013 Uses the default dictionary: /opt/geo/regions_hierarchy.txt</span>\n<span class=\"err\">regionToCountry(RegionID, &#39;&#39;) \u2013 Uses the default dictionary: /opt/geo/regions_hierarchy.txt</span>\n<span class=\"err\">regionToCountry(RegionID, &#39;ua&#39;) \u2013 Uses the dictionary for the &#39;ua&#39; key: /opt/geo/regions_hierarchy_ua.txt</span>\n</pre></div>\n\n\n<h4 id=\"regiontocity-id-geobase\">regionToCity(id[, geobase])<a class=\"headerlink\" href=\"#regiontocity-id-geobase\" title=\"Permanent link\">&para;</a></h4>\n<p>Accepts a UInt32 number \u2013 the region ID from the Yandex geobase. If this region is a city or part of a city, it returns the region ID for the appropriate city. Otherwise, returns 0.</p>\n<h4 id=\"regiontoarea-id-91-geobase-93\">regionToArea(id[, geobase])<a class=\"headerlink\" href=\"#regiontoarea-id-91-geobase-93\" title=\"Permanent link\">&para;</a></h4>\n<p>Converts a region to an area (type 5 in the geobase). In every other way, this function is the same as 'regionToCity'.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"k\">DISTINCT</span> <span class=\"n\">regionToName</span><span class=\"p\">(</span><span class=\"n\">regionToArea</span><span class=\"p\">(</span><span class=\"n\">toUInt32</span><span class=\"p\">(</span><span class=\"nb\">number</span><span class=\"p\">),</span> <span class=\"s1\">&#39;ua&#39;</span><span class=\"p\">))</span>\n<span class=\"k\">FROM</span> <span class=\"k\">system</span><span class=\"p\">.</span><span class=\"n\">numbers</span>\n<span class=\"k\">LIMIT</span> <span class=\"mi\">15</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500regionToName(regionToArea(toUInt32(number), \\&#39;ua\\&#39;))\u2500\u2510</span>\n<span class=\"err\">\u2502                                                      \u2502</span>\n<span class=\"err\">\u2502 Moscow and Moscow region                             \u2502</span>\n<span class=\"err\">\u2502 St. Petersburg and Leningrad region                  \u2502</span>\n<span class=\"err\">\u2502 Belgorod region                                      \u2502</span>\n<span class=\"err\">\u2502 Ivanovsk region                                      \u2502</span>\n<span class=\"err\">\u2502 Kaluga region                                        \u2502</span>\n<span class=\"err\">\u2502 Kostroma region                                      \u2502</span>\n<span class=\"err\">\u2502 Kursk region                                         \u2502</span>\n<span class=\"err\">\u2502 Lipetsk region                                       \u2502</span>\n<span class=\"err\">\u2502 Orlov region                                         \u2502</span>\n<span class=\"err\">\u2502 Ryazan region                                        \u2502</span>\n<span class=\"err\">\u2502 Smolensk region                                      \u2502</span>\n<span class=\"err\">\u2502 Tambov region                                        \u2502</span>\n<span class=\"err\">\u2502 Tver region                                          \u2502</span>\n<span class=\"err\">\u2502 Tula region                                          \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h4 id=\"regiontodistrict-id-geobase\">regionToDistrict(id[, geobase])<a class=\"headerlink\" href=\"#regiontodistrict-id-geobase\" title=\"Permanent link\">&para;</a></h4>\n<p>Converts a region to a federal district (type 4 in the geobase). In every other way, this function is the same as 'regionToCity'.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"k\">DISTINCT</span> <span class=\"n\">regionToName</span><span class=\"p\">(</span><span class=\"n\">regionToDistrict</span><span class=\"p\">(</span><span class=\"n\">toUInt32</span><span class=\"p\">(</span><span class=\"nb\">number</span><span class=\"p\">),</span> <span class=\"s1\">&#39;ua&#39;</span><span class=\"p\">))</span>\n<span class=\"k\">FROM</span> <span class=\"k\">system</span><span class=\"p\">.</span><span class=\"n\">numbers</span>\n<span class=\"k\">LIMIT</span> <span class=\"mi\">15</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500regionToName(regionToDistrict(toUInt32(number), \\&#39;ua\\&#39;))\u2500\u2510</span>\n<span class=\"err\">\u2502                                                          \u2502</span>\n<span class=\"err\">\u2502 Central federal district                                 \u2502</span>\n<span class=\"err\">\u2502 Northwest federal district                               \u2502</span>\n<span class=\"err\">\u2502 South federal district                                   \u2502</span>\n<span class=\"err\">\u2502 North Caucases federal district                          \u2502</span>\n<span class=\"err\">\u2502 Privolga federal district                                \u2502</span>\n<span class=\"err\">\u2502 Ural federal district                                    \u2502</span>\n<span class=\"err\">\u2502 Siberian federal district                                \u2502</span>\n<span class=\"err\">\u2502 Far East federal district                                \u2502</span>\n<span class=\"err\">\u2502 Scotland                                                 \u2502</span>\n<span class=\"err\">\u2502 Faroe Islands                                            \u2502</span>\n<span class=\"err\">\u2502 Flemish region                                           \u2502</span>\n<span class=\"err\">\u2502 Brussels capital region                                  \u2502</span>\n<span class=\"err\">\u2502 Wallonia                                                 \u2502</span>\n<span class=\"err\">\u2502 Federation of Bosnia and Herzegovina                     \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h4 id=\"regiontocountry-id-geobase\">regionToCountry(id[, geobase])<a class=\"headerlink\" href=\"#regiontocountry-id-geobase\" title=\"Permanent link\">&para;</a></h4>\n<p>Converts a region to a country. In every other way, this function is the same as 'regionToCity'.\nExample: <code>regionToCountry(toUInt32(213)) = 225</code> converts Moscow (213) to Russia (225).</p>\n<h4 id=\"regiontocontinent-id-geobase\">regionToContinent(id[, geobase])<a class=\"headerlink\" href=\"#regiontocontinent-id-geobase\" title=\"Permanent link\">&para;</a></h4>\n<p>Converts a region to a continent. In every other way, this function is the same as 'regionToCity'.\nExample: <code>regionToContinent(toUInt32(213)) = 10001</code> converts Moscow (213) to Eurasia (10001).</p>\n<h4 id=\"regiontopopulation-id-geobase\">regionToPopulation(id[, geobase])<a class=\"headerlink\" href=\"#regiontopopulation-id-geobase\" title=\"Permanent link\">&para;</a></h4>\n<p>Gets the population for a region.\nThe population can be recorded in files with the geobase. See the section \"External dictionaries\".\nIf the population is not recorded for the region, it returns 0.\nIn the Yandex geobase, the population might be recorded for child regions, but not for parent regions.</p>\n<h4 id=\"regionin-lhs-rhs-geobase\">regionIn(lhs, rhs[, geobase])<a class=\"headerlink\" href=\"#regionin-lhs-rhs-geobase\" title=\"Permanent link\">&para;</a></h4>\n<p>Checks whether a 'lhs' region belongs to a 'rhs' region. Returns a UInt8 number equal to 1 if it belongs, or 0 if it doesn't belong.\nThe relationship is reflexive \u2013 any region also belongs to itself.</p>\n<h4 id=\"regionhierarchy-id-91-geobase-93\">regionHierarchy(id[, geobase])<a class=\"headerlink\" href=\"#regionhierarchy-id-91-geobase-93\" title=\"Permanent link\">&para;</a></h4>\n<p>Accepts a UInt32 number \u2013 the region ID from the Yandex geobase. Returns an array of region IDs consisting of the passed region and all parents along the chain.\nExample: <code>regionHierarchy(toUInt32(213)) = [213,1,3,225,10001,10000]</code>.</p>\n<h4 id=\"regiontoname-id-91-lang-93\">regionToName(id[, lang])<a class=\"headerlink\" href=\"#regiontoname-id-91-lang-93\" title=\"Permanent link\">&para;</a></h4>\n<p>Accepts a UInt32 number \u2013 the region ID from the Yandex geobase. A string with the name of the language can be passed as a second argument. Supported languages are: ru, en, ua, uk, by, kz, tr. If the second argument is omitted, the language 'ru' is used. If the language is not supported, an exception is thrown. Returns a string \u2013 the name of the region in the corresponding language. If the region with the specified ID doesn't exist, an empty string is returned.</p>\n<p><code>ua</code> and <code>uk</code> both mean Ukrainian.</p>\n<p><a name=\"../../../../query_language/functions/in_functions/\"></a>\n<a name=\"in_functions/\"></a>\n<a name=\"../functions/in_functions/\"></a>\n<a name=\"functions/in_functions/\"></a>\n<a name=\"../../../query_language/functions/in_functions/\"></a>\n<a name=\"../../../functions/in_functions/\"></a>\n<a name=\"query_language/functions/in_functions/\"></a>\n<a name=\"../../../../functions/in_functions/\"></a>\n<a name=\"../../../../../functions/in_functions/\"></a>\n<a name=\"../query_language/functions/in_functions/\"></a>\n<a name=\"../../functions/in_functions/\"></a>\n<a name=\"../../../../../../functions/in_functions/\"></a>\n<a name=\"../../../../../query_language/functions/in_functions/\"></a>\n<a name=\"../../query_language/functions/in_functions/\"></a></p>\n<h2 id=\"functions-for-implementing-the-in-operator\">Functions for implementing the IN operator<a class=\"headerlink\" href=\"#functions-for-implementing-the-in-operator\" title=\"Permanent link\">&para;</a></h2>\n<h3 id=\"in-notin-globalin-globalnotin\">in, notIn, globalIn, globalNotIn<a class=\"headerlink\" href=\"#in-notin-globalin-globalnotin\" title=\"Permanent link\">&para;</a></h3>\n<p>See the section <a href=\"#select-in-operators\">IN operators</a>.</p>\n<h3 id=\"tuple-x-y-operator-x-y\">tuple(x, y, ...), operator (x, y, ...)<a class=\"headerlink\" href=\"#tuple-x-y-operator-x-y\" title=\"Permanent link\">&para;</a></h3>\n<p>A function that allows grouping multiple columns.\nFor columns with the types T1, T2, ..., it returns a Tuple(T1, T2, ...) type tuple containing these columns. There is no cost to execute the function.\nTuples are normally used as intermediate values for an argument of IN operators, or for creating a list of formal parameters of lambda functions. Tuples can't be written to a table.</p>\n<h3 id=\"tupleelement-tuple-n-operator-x-n\">tupleElement(tuple, n), operator x.N<a class=\"headerlink\" href=\"#tupleelement-tuple-n-operator-x-n\" title=\"Permanent link\">&para;</a></h3>\n<p>A function that allows getting a column from a tuple.\n'N' is the column index, starting from 1. N must be a constant. 'N' must be a constant. 'N' must be a strict postive integer no greater than the size of the tuple.\nThere is no cost to execute the function.</p>\n<p><a name=\"array_join/\"></a>\n<a name=\"../../query_language/functions/array_join/\"></a>\n<a name=\"../../../../../../functions/array_join/\"></a>\n<a name=\"../functions/array_join/\"></a>\n<a name=\"../../../../../query_language/functions/array_join/\"></a>\n<a name=\"../../functions/array_join/\"></a>\n<a name=\"query_language/functions/array_join/\"></a>\n<a name=\"../../../query_language/functions/array_join/\"></a>\n<a name=\"functions/array_join/\"></a>\n<a name=\"../query_language/functions/array_join/\"></a>\n<a name=\"../../../functions/array_join/\"></a>\n<a name=\"../../../../query_language/functions/array_join/\"></a>\n<a name=\"../../../../../functions/array_join/\"></a>\n<a name=\"../../../../functions/array_join/\"></a></p>\n<h2 id=\"functions_arrayjoin\">arrayJoin function<a class=\"headerlink\" href=\"#functions_arrayjoin\" title=\"Permanent link\">&para;</a></h2>\n<p>This is a very unusual function.</p>\n<p>Normal functions don't change a set of rows, but just change the values in each row (map).\nAggregate functions compress a set of rows (fold or reduce).\nThe 'arrayJoin' function takes each row and generates a set of rows (unfold).</p>\n<p>This function takes an array as an argument, and propagates the source row to multiple rows for the number of elements in the array.\nAll the values in columns are simply copied, except the values in the column where this function is applied; it is replaced with the corresponding array value.</p>\n<p>A query can use multiple <code>arrayJoin</code> functions. In this case, the transformation is performed multiple times.</p>\n<p>Note the ARRAY JOIN syntax in the SELECT query, which provides broader possibilities.</p>\n<p>Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">arrayJoin</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">]</span> <span class=\"k\">AS</span> <span class=\"n\">src</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">dst</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Hello&#39;</span><span class=\"p\">,</span> <span class=\"n\">src</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500dst\u2500\u252c\u2500\\&#39;Hello\\&#39;\u2500\u252c\u2500src\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502   1 \u2502 Hello     \u2502 [1,2,3] \u2502</span>\n<span class=\"err\">\u2502   2 \u2502 Hello     \u2502 [1,2,3] \u2502</span>\n<span class=\"err\">\u2502   3 \u2502 Hello     \u2502 [1,2,3] \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p><a name=\"query_language/functions/geo/\"></a>\n<a name=\"../../../../functions/geo/\"></a>\n<a name=\"../../query_language/functions/geo/\"></a>\n<a name=\"../../../../../functions/geo/\"></a>\n<a name=\"../../../../query_language/functions/geo/\"></a>\n<a name=\"../../../functions/geo/\"></a>\n<a name=\"../functions/geo/\"></a>\n<a name=\"../../../query_language/functions/geo/\"></a>\n<a name=\"../../../../../query_language/functions/geo/\"></a>\n<a name=\"../query_language/functions/geo/\"></a>\n<a name=\"../../functions/geo/\"></a>\n<a name=\"geo/\"></a>\n<a name=\"functions/geo/\"></a>\n<a name=\"../../../../../../functions/geo/\"></a></p>\n<h2 id=\"functions-for-working-with-geographical-coordinates\">Functions for working with geographical coordinates<a class=\"headerlink\" href=\"#functions-for-working-with-geographical-coordinates\" title=\"Permanent link\">&para;</a></h2>\n<h3 id=\"greatcircledistance\">greatCircleDistance<a class=\"headerlink\" href=\"#greatcircledistance\" title=\"Permanent link\">&para;</a></h3>\n<p>Calculate the distance between two points on the Earth's surface using <a href=\"https://en.wikipedia.org/wiki/Great-circle_distance\" rel=\"external nofollow\">the great-circle formula</a>.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">greatCircleDistance(lon1Deg, lat1Deg, lon2Deg, lat2Deg)</span>\n</pre></div>\n\n\n<p><strong>Input parameters</strong></p>\n<ul>\n<li><code>lon1Deg</code> \u2014 Longitude of the first point in degrees. Range: <code>[-180\u00b0, 180\u00b0]</code>.</li>\n<li><code>lat1Deg</code> \u2014 Latitude of the first point in degrees. Range: <code>[-90\u00b0, 90\u00b0]</code>.</li>\n<li><code>lon2Deg</code> \u2014 Longitude of the second point in degrees. Range: <code>[-180\u00b0, 180\u00b0]</code>.</li>\n<li><code>lat2Deg</code> \u2014 Latitude of the second point in degrees. Range: <code>[-90\u00b0, 90\u00b0]</code>.</li>\n</ul>\n<p>Positive values correspond to North latitude and East longitude, and negative values correspond to South latitude and West longitude.</p>\n<p><strong>Returned value</strong></p>\n<p>The distance between two points on the Earth's surface, in meters.</p>\n<p>Generates an exception when the input parameter values fall outside of the range.</p>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">greatCircleDistance</span><span class=\"p\">(</span><span class=\"mi\">55</span><span class=\"p\">.</span><span class=\"mi\">755831</span><span class=\"p\">,</span> <span class=\"mi\">37</span><span class=\"p\">.</span><span class=\"mi\">617673</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mi\">55</span><span class=\"p\">.</span><span class=\"mi\">755831</span><span class=\"p\">,</span> <span class=\"o\">-</span><span class=\"mi\">37</span><span class=\"p\">.</span><span class=\"mi\">617673</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500greatCircleDistance(55.755831, 37.617673, -55.755831, -37.617673)\u2500\u2510</span>\n<span class=\"err\">\u2502                                                14132374.194975413 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"pointinellipses\">pointInEllipses<a class=\"headerlink\" href=\"#pointinellipses\" title=\"Permanent link\">&para;</a></h3>\n<p>Checks whether the point belongs to at least one of the ellipses.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">pointInEllipses(x, y, x\u2080, y\u2080, a\u2080, b\u2080,...,x\u2099, y\u2099, a\u2099, b\u2099)</span>\n</pre></div>\n\n\n<p><strong>Input parameters</strong></p>\n<ul>\n<li><code>x, y</code> \u2014 Coordinates of a point on the plane.</li>\n<li><code>x\u1d62, y\u1d62</code> \u2014 Coordinates of the center of the <code>i</code>-th ellipsis.</li>\n<li><code>a\u1d62, b\u1d62</code> \u2014 Axes of the <code>i</code>-th ellipsis in meters.</li>\n</ul>\n<p>The input parameters must be <code>2+4\u22c5n</code>, where <code>n</code> is the number of ellipses.</p>\n<p><strong>Returned values</strong></p>\n<p><code>1</code> if the point is inside at least one of the ellipses; <code>0</code>if it is not.</p>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">pointInEllipses</span><span class=\"p\">(</span><span class=\"mi\">55</span><span class=\"p\">.</span><span class=\"mi\">755831</span><span class=\"p\">,</span> <span class=\"mi\">37</span><span class=\"p\">.</span><span class=\"mi\">617673</span><span class=\"p\">,</span> <span class=\"mi\">55</span><span class=\"p\">.</span><span class=\"mi\">755831</span><span class=\"p\">,</span> <span class=\"mi\">37</span><span class=\"p\">.</span><span class=\"mi\">617673</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">.</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">.</span><span class=\"mi\">0</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500pointInEllipses(55.755831, 37.617673, 55.755831, 37.617673, 1., 2.)\u2500\u2510</span>\n<span class=\"err\">\u2502                                                                   1 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"pointinpolygon\">pointInPolygon<a class=\"headerlink\" href=\"#pointinpolygon\" title=\"Permanent link\">&para;</a></h3>\n<p>Checks whether the point belongs to the polygon on the plane.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">pointInPolygon((x, y), [(a, b), (c, d) ...], ...)</span>\n</pre></div>\n\n\n<p><strong>Input values</strong></p>\n<ul>\n<li><code>(x, y)</code> \u2014 Coordinates of a point on the plane. Data type \u2014 <a href=\"#../../data_types/tuple/\">Tuple</a> \u2014  A tuple of two numbers.</li>\n<li><code>[(a, b), (c, d) ...]</code> \u2014 Polygon vertices. Data type \u2014 <a href=\"#../../data_types/array/\">Array</a>. Each vertex is represented by a pair of coordinates <code>(a, b)</code>. Vertices should be specified in a clockwise or counterclockwise order. The minimum number of vertices is 3. The polygon must be constant.</li>\n<li>The function also supports polygons with holes (cut out sections). In this case, add polygons that define the cut out sections using additional arguments of the function. The function does not support non-simply-connected polygons.</li>\n</ul>\n<p><strong>Returned values</strong></p>\n<p><code>1</code> if the point is inside the polygon, <code>0</code> if it is not.\nIf the point is on the polygon boundary, the function may return either 0 or 1.</p>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">pointInPolygon</span><span class=\"p\">((</span><span class=\"mi\">3</span><span class=\"p\">.,</span> <span class=\"mi\">3</span><span class=\"p\">.),</span> <span class=\"p\">[(</span><span class=\"mi\">6</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">),</span> <span class=\"p\">(</span><span class=\"mi\">8</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">),</span> <span class=\"p\">(</span><span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"mi\">8</span><span class=\"p\">),</span> <span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">)])</span> <span class=\"k\">AS</span> <span class=\"n\">res</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500res\u2500\u2510</span>\n<span class=\"err\">\u2502   1 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p><a name=\"../../../../query_language/functions/functions_for_nulls/\"></a>\n<a name=\"../../../../functions/functions_for_nulls/\"></a>\n<a name=\"functions/functions_for_nulls/\"></a>\n<a name=\"../../../query_language/functions/functions_for_nulls/\"></a>\n<a name=\"../../../../../../functions/functions_for_nulls/\"></a>\n<a name=\"../functions/functions_for_nulls/\"></a>\n<a name=\"../../../../../functions/functions_for_nulls/\"></a>\n<a name=\"../../query_language/functions/functions_for_nulls/\"></a>\n<a name=\"../../functions/functions_for_nulls/\"></a>\n<a name=\"../query_language/functions/functions_for_nulls/\"></a>\n<a name=\"query_language/functions/functions_for_nulls/\"></a>\n<a name=\"../../../../../query_language/functions/functions_for_nulls/\"></a>\n<a name=\"functions_for_nulls/\"></a>\n<a name=\"../../../functions/functions_for_nulls/\"></a></p>\n<h2 id=\"functions-for-working-with-nullable-aggregates\">Functions for working with Nullable aggregates<a class=\"headerlink\" href=\"#functions-for-working-with-nullable-aggregates\" title=\"Permanent link\">&para;</a></h2>\n<h3 id=\"isnull\">isNull<a class=\"headerlink\" href=\"#isnull\" title=\"Permanent link\">&para;</a></h3>\n<p>Checks whether the argument is <a href=\"#null\">NULL</a>.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">isNull(x)</span>\n</pre></div>\n\n\n<p><strong>Parameters</strong></p>\n<ul>\n<li><code>x</code> \u2014 A value with a non-compound data type.</li>\n</ul>\n<p><strong>Returned value</strong></p>\n<ul>\n<li><code>1</code> if <code>x</code> is <code>NULL</code>.</li>\n<li><code>0</code> if <code>x</code> is not <code>NULL</code>.</li>\n</ul>\n<p><strong>Example</strong></p>\n<p>Input table</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500x\u2500\u252c\u2500\u2500\u2500\u2500y\u2500\u2510</span>\n<span class=\"err\">\u2502 1 \u2502 \u1d3a\u1d41\u1d38\u1d38 \u2502</span>\n<span class=\"err\">\u2502 2 \u2502    3 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>Query</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"p\">:)</span> <span class=\"k\">SELECT</span> <span class=\"n\">x</span> <span class=\"k\">FROM</span> <span class=\"n\">t_null</span> <span class=\"k\">WHERE</span> <span class=\"k\">isNull</span><span class=\"p\">(</span><span class=\"n\">y</span><span class=\"p\">)</span>\n\n<span class=\"k\">SELECT</span> <span class=\"n\">x</span>\n<span class=\"k\">FROM</span> <span class=\"n\">t_null</span>\n<span class=\"k\">WHERE</span> <span class=\"k\">isNull</span><span class=\"p\">(</span><span class=\"n\">y</span><span class=\"p\">)</span>\n\n<span class=\"err\">\u250c\u2500</span><span class=\"n\">x</span><span class=\"err\">\u2500\u2510</span>\n<span class=\"err\">\u2502</span> <span class=\"mi\">1</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2518</span>\n\n<span class=\"mi\">1</span> <span class=\"k\">rows</span> <span class=\"k\">in</span> <span class=\"k\">set</span><span class=\"p\">.</span> <span class=\"n\">Elapsed</span><span class=\"p\">:</span> <span class=\"mi\">0</span><span class=\"p\">.</span><span class=\"mi\">010</span> <span class=\"n\">sec</span><span class=\"p\">.</span>\n</pre></div>\n\n\n<h3 id=\"isnotnull\">isNotNull<a class=\"headerlink\" href=\"#isnotnull\" title=\"Permanent link\">&para;</a></h3>\n<p>Checks whether the argument is <a href=\"#null\">NULL</a>.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">isNotNull(x)</span>\n</pre></div>\n\n\n<p><strong>Parameters:</strong></p>\n<ul>\n<li><code>x</code> \u2014 A value with a non-compound data type.</li>\n</ul>\n<p><strong>Returned value</strong></p>\n<ul>\n<li><code>0</code> if <code>x</code> is <code>NULL</code>.</li>\n<li><code>1</code> if <code>x</code> is not <code>NULL</code>.</li>\n</ul>\n<p><strong>Example</strong></p>\n<p>Input table</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500x\u2500\u252c\u2500\u2500\u2500\u2500y\u2500\u2510</span>\n<span class=\"err\">\u2502 1 \u2502 \u1d3a\u1d41\u1d38\u1d38 \u2502</span>\n<span class=\"err\">\u2502 2 \u2502    3 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>Query</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"p\">:)</span> <span class=\"k\">SELECT</span> <span class=\"n\">x</span> <span class=\"k\">FROM</span> <span class=\"n\">t_null</span> <span class=\"k\">WHERE</span> <span class=\"n\">isNotNull</span><span class=\"p\">(</span><span class=\"n\">y</span><span class=\"p\">)</span>\n\n<span class=\"k\">SELECT</span> <span class=\"n\">x</span>\n<span class=\"k\">FROM</span> <span class=\"n\">t_null</span>\n<span class=\"k\">WHERE</span> <span class=\"n\">isNotNull</span><span class=\"p\">(</span><span class=\"n\">y</span><span class=\"p\">)</span>\n\n<span class=\"err\">\u250c\u2500</span><span class=\"n\">x</span><span class=\"err\">\u2500\u2510</span>\n<span class=\"err\">\u2502</span> <span class=\"mi\">2</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2518</span>\n\n<span class=\"mi\">1</span> <span class=\"k\">rows</span> <span class=\"k\">in</span> <span class=\"k\">set</span><span class=\"p\">.</span> <span class=\"n\">Elapsed</span><span class=\"p\">:</span> <span class=\"mi\">0</span><span class=\"p\">.</span><span class=\"mi\">010</span> <span class=\"n\">sec</span><span class=\"p\">.</span>\n</pre></div>\n\n\n<h3 id=\"coalesce\">coalesce<a class=\"headerlink\" href=\"#coalesce\" title=\"Permanent link\">&para;</a></h3>\n<p>Checks from left to right whether <code>NULL</code> arguments were passed and returns the first non-<code>NULL</code> argument.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">coalesce(x,...)</span>\n</pre></div>\n\n\n<p><strong>Parameters:</strong></p>\n<ul>\n<li>Any number of parameters of a non-compound type. All parameters must be compatible by data type.</li>\n</ul>\n<p><strong>Returned values</strong></p>\n<ul>\n<li>The first non-<code>NULL</code> argument.</li>\n<li><code>NULL</code>, if all arguments are <code>NULL</code>.</li>\n</ul>\n<p><strong>Example</strong></p>\n<p>Consider a list of contacts that may specify multiple ways to contact a customer.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500name\u2500\u2500\u2500\u2500\u2500\u252c\u2500mail\u2500\u252c\u2500phone\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500icq\u2500\u2510</span>\n<span class=\"err\">\u2502 client 1 \u2502 \u1d3a\u1d41\u1d38\u1d38 \u2502 123-45-67 \u2502  123 \u2502</span>\n<span class=\"err\">\u2502 client 2 \u2502 \u1d3a\u1d41\u1d38\u1d38 \u2502 \u1d3a\u1d41\u1d38\u1d38      \u2502 \u1d3a\u1d41\u1d38\u1d38 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>The <code>mail</code> and <code>phone</code> fields are of type String, but the <code>icq</code> field is <code>UInt32</code>, so it needs to be converted to <code>String</code>.</p>\n<p>Get the first available contact method for the customer from the contact list:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"p\">:)</span> <span class=\"k\">SELECT</span> <span class=\"n\">coalesce</span><span class=\"p\">(</span><span class=\"n\">mail</span><span class=\"p\">,</span> <span class=\"n\">phone</span><span class=\"p\">,</span> <span class=\"k\">CAST</span><span class=\"p\">(</span><span class=\"n\">icq</span><span class=\"p\">,</span><span class=\"s1\">&#39;Nullable(String)&#39;</span><span class=\"p\">))</span> <span class=\"k\">FROM</span> <span class=\"n\">aBook</span>\n\n<span class=\"k\">SELECT</span> <span class=\"n\">coalesce</span><span class=\"p\">(</span><span class=\"n\">mail</span><span class=\"p\">,</span> <span class=\"n\">phone</span><span class=\"p\">,</span> <span class=\"k\">CAST</span><span class=\"p\">(</span><span class=\"n\">icq</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Nullable(String)&#39;</span><span class=\"p\">))</span>\n<span class=\"k\">FROM</span> <span class=\"n\">aBook</span>\n\n<span class=\"err\">\u250c\u2500</span><span class=\"n\">name</span><span class=\"err\">\u2500\u2500\u2500\u2500\u2500\u252c\u2500</span><span class=\"n\">coalesce</span><span class=\"p\">(</span><span class=\"n\">mail</span><span class=\"p\">,</span> <span class=\"n\">phone</span><span class=\"p\">,</span> <span class=\"k\">CAST</span><span class=\"p\">(</span><span class=\"n\">icq</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Nullable(String)&#39;</span><span class=\"p\">))</span><span class=\"err\">\u2500\u2510</span>\n<span class=\"err\">\u2502</span> <span class=\"n\">client</span> <span class=\"mi\">1</span> <span class=\"err\">\u2502</span> <span class=\"mi\">123</span><span class=\"o\">-</span><span class=\"mi\">45</span><span class=\"o\">-</span><span class=\"mi\">67</span>                                            <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span> <span class=\"n\">client</span> <span class=\"mi\">2</span> <span class=\"err\">\u2502</span> <span class=\"err\">\u1d3a\u1d41\u1d38\u1d38</span>                                                 <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n\n<span class=\"mi\">2</span> <span class=\"k\">rows</span> <span class=\"k\">in</span> <span class=\"k\">set</span><span class=\"p\">.</span> <span class=\"n\">Elapsed</span><span class=\"p\">:</span> <span class=\"mi\">0</span><span class=\"p\">.</span><span class=\"mi\">006</span> <span class=\"n\">sec</span><span class=\"p\">.</span>\n</pre></div>\n\n\n<h3 id=\"ifnull\">ifNull<a class=\"headerlink\" href=\"#ifnull\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns an alternative value if the main argument is <code>NULL</code>.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">ifNull(x,alt)</span>\n</pre></div>\n\n\n<p><strong>Parameters:</strong></p>\n<ul>\n<li><code>x</code> \u2014 The value to check for <code>NULL</code>.</li>\n<li><code>alt</code> \u2014 The value that the function returns if <code>x</code> is <code>NULL</code>.</li>\n</ul>\n<p><strong>Returned values</strong></p>\n<ul>\n<li>The value <code>x</code>, if <code>x</code> is not <code>NULL</code>.</li>\n<li>The value <code>alt</code>, if <code>x</code> is <code>NULL</code>.</li>\n</ul>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">ifNull</span><span class=\"p\">(</span><span class=\"s1\">&#39;a&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;b&#39;</span><span class=\"p\">)</span>\n\n<span class=\"err\">\u250c\u2500</span><span class=\"n\">ifNull</span><span class=\"p\">(</span><span class=\"s1\">&#39;a&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;b&#39;</span><span class=\"p\">)</span><span class=\"err\">\u2500\u2510</span>\n<span class=\"err\">\u2502</span> <span class=\"n\">a</span>                <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">ifNull</span><span class=\"p\">(</span><span class=\"k\">NULL</span><span class=\"p\">,</span> <span class=\"s1\">&#39;b&#39;</span><span class=\"p\">)</span>\n\n<span class=\"err\">\u250c\u2500</span><span class=\"n\">ifNull</span><span class=\"p\">(</span><span class=\"k\">NULL</span><span class=\"p\">,</span> <span class=\"s1\">&#39;b&#39;</span><span class=\"p\">)</span><span class=\"err\">\u2500\u2510</span>\n<span class=\"err\">\u2502</span> <span class=\"n\">b</span>                 <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"nullif\">nullIf<a class=\"headerlink\" href=\"#nullif\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns <code>NULL</code> if the arguments are equal.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">nullIf(x, y)</span>\n</pre></div>\n\n\n<p><strong>Parameters:</strong></p>\n<p><code>x</code>, <code>y</code> \u2014 Values for comparison. They must be compatible types, or ClickHouse will generate an exception.</p>\n<p><strong>Returned values</strong></p>\n<ul>\n<li><code>NULL</code>, if the arguments are equal.</li>\n<li>The <code>x</code> value, if the arguments are not equal.</li>\n</ul>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"k\">nullIf</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">)</span>\n\n<span class=\"err\">\u250c\u2500</span><span class=\"k\">nullIf</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">)</span><span class=\"err\">\u2500\u2510</span>\n<span class=\"err\">\u2502</span>         <span class=\"err\">\u1d3a\u1d41\u1d38\u1d38</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"k\">nullIf</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">)</span>\n\n<span class=\"err\">\u250c\u2500</span><span class=\"k\">nullIf</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">)</span><span class=\"err\">\u2500\u2510</span>\n<span class=\"err\">\u2502</span>            <span class=\"mi\">1</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"assumenotnull\">assumeNotNull<a class=\"headerlink\" href=\"#assumenotnull\" title=\"Permanent link\">&para;</a></h3>\n<p>Results in a value of type <a href=\"#../../data_types/nullable/\">Nullable</a> for a non- <code>Nullable</code>, if the value is not <code>NULL</code>.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">assumeNotNull(x)</span>\n</pre></div>\n\n\n<p><strong>Parameters:</strong></p>\n<ul>\n<li><code>x</code> \u2014 The original value.</li>\n</ul>\n<p><strong>Returned values</strong></p>\n<ul>\n<li>The original value from the non-<code>Nullable</code> type, if it is not <code>NULL</code>.</li>\n<li>The default value for the non-<code>Nullable</code> type if the original value was <code>NULL</code>.</li>\n</ul>\n<p><strong>Example</strong></p>\n<p>Consider the <code>t_null</code> table.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SHOW</span> <span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">t_null</span>\n\n<span class=\"err\">\u250c\u2500</span><span class=\"k\">statement</span><span class=\"err\">\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502</span> <span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"k\">default</span><span class=\"p\">.</span><span class=\"n\">t_null</span> <span class=\"p\">(</span> <span class=\"n\">x</span> <span class=\"nb\">Int8</span><span class=\"p\">,</span>  <span class=\"n\">y</span> <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"nb\">Int8</span><span class=\"p\">))</span> <span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">TinyLog</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500x\u2500\u252c\u2500\u2500\u2500\u2500y\u2500\u2510</span>\n<span class=\"err\">\u2502 1 \u2502 \u1d3a\u1d41\u1d38\u1d38 \u2502</span>\n<span class=\"err\">\u2502 2 \u2502    3 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>Apply the <code>resumenotnull</code> function to the <code>y</code> column.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">assumeNotNull</span><span class=\"p\">(</span><span class=\"n\">y</span><span class=\"p\">)</span> <span class=\"k\">FROM</span> <span class=\"n\">t_null</span>\n\n<span class=\"err\">\u250c\u2500</span><span class=\"n\">assumeNotNull</span><span class=\"p\">(</span><span class=\"n\">y</span><span class=\"p\">)</span><span class=\"err\">\u2500\u2510</span>\n<span class=\"err\">\u2502</span>                <span class=\"mi\">0</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span>                <span class=\"mi\">3</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">toTypeName</span><span class=\"p\">(</span><span class=\"n\">assumeNotNull</span><span class=\"p\">(</span><span class=\"n\">y</span><span class=\"p\">))</span> <span class=\"k\">FROM</span> <span class=\"n\">t_null</span>\n\n<span class=\"err\">\u250c\u2500</span><span class=\"n\">toTypeName</span><span class=\"p\">(</span><span class=\"n\">assumeNotNull</span><span class=\"p\">(</span><span class=\"n\">y</span><span class=\"p\">))</span><span class=\"err\">\u2500\u2510</span>\n<span class=\"err\">\u2502</span> <span class=\"nb\">Int8</span>                         <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span> <span class=\"nb\">Int8</span>                         <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"tonullable\">toNullable<a class=\"headerlink\" href=\"#tonullable\" title=\"Permanent link\">&para;</a></h3>\n<p>Converts the argument type to <code>Nullable</code>.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">toNullable(x)</span>\n</pre></div>\n\n\n<p><strong>Parameters:</strong></p>\n<ul>\n<li><code>x</code> \u2014 The value of any non-compound type.</li>\n</ul>\n<p><strong>Returned value</strong></p>\n<ul>\n<li>The input value with a non-<code>Nullable</code> type.</li>\n</ul>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">toTypeName</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">)</span>\n\n<span class=\"err\">\u250c\u2500</span><span class=\"n\">toTypeName</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">)</span><span class=\"err\">\u2500\u2510</span>\n<span class=\"err\">\u2502</span> <span class=\"n\">UInt8</span>          <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n\n<span class=\"k\">SELECT</span> <span class=\"n\">toTypeName</span><span class=\"p\">(</span><span class=\"n\">toNullable</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">))</span>\n\n<span class=\"err\">\u250c\u2500</span><span class=\"n\">toTypeName</span><span class=\"p\">(</span><span class=\"n\">toNullable</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">))</span><span class=\"err\">\u2500\u2510</span>\n<span class=\"err\">\u2502</span> <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"n\">UInt8</span><span class=\"p\">)</span>            <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p><a name=\"../../query_language/functions/other_functions/\"></a>\n<a name=\"other_functions/\"></a>\n<a name=\"../query_language/functions/other_functions/\"></a>\n<a name=\"../functions/other_functions/\"></a>\n<a name=\"../../../../functions/other_functions/\"></a>\n<a name=\"functions/other_functions/\"></a>\n<a name=\"query_language/functions/other_functions/\"></a>\n<a name=\"../../../query_language/functions/other_functions/\"></a>\n<a name=\"../../../../../functions/other_functions/\"></a>\n<a name=\"../../../../query_language/functions/other_functions/\"></a>\n<a name=\"../../../../../query_language/functions/other_functions/\"></a>\n<a name=\"../../functions/other_functions/\"></a>\n<a name=\"../../../../../../functions/other_functions/\"></a>\n<a name=\"../../../functions/other_functions/\"></a></p>\n<h2 id=\"other-functions\">Other functions<a class=\"headerlink\" href=\"#other-functions\" title=\"Permanent link\">&para;</a></h2>\n<h3 id=\"hostname\">hostName()<a class=\"headerlink\" href=\"#hostname\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns a string with the name of the host that this function was performed on. For distributed processing, this is the name of the remote server host, if the function is performed on a remote server.</p>\n<h3 id=\"visiblewidth-x\">visibleWidth(x)<a class=\"headerlink\" href=\"#visiblewidth-x\" title=\"Permanent link\">&para;</a></h3>\n<p>Calculates the approximate width when outputting values to the console in text format (tab-separated).\nThis function is used by the system for implementing Pretty formats.</p>\n<p><code>NULL</code> is represented as a string corresponding to <code>NULL</code> in <code>Pretty</code> formats.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">visibleWidth</span><span class=\"p\">(</span><span class=\"k\">NULL</span><span class=\"p\">)</span>\n\n<span class=\"err\">\u250c\u2500</span><span class=\"n\">visibleWidth</span><span class=\"p\">(</span><span class=\"k\">NULL</span><span class=\"p\">)</span><span class=\"err\">\u2500\u2510</span>\n<span class=\"err\">\u2502</span>                  <span class=\"mi\">4</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"totypename-x\">toTypeName(x)<a class=\"headerlink\" href=\"#totypename-x\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns a string containing the type name of the passed argument.</p>\n<p>If <code>NULL</code> is passed to the function as input, then it returns the <code>Nullable(Nothing)</code> type, which corresponds to an internal <code>NULL</code> representation in ClickHouse.</p>\n<h3 id=\"blocksize\">blockSize()<a class=\"headerlink\" href=\"#blocksize\" title=\"Permanent link\">&para;</a></h3>\n<p>Gets the size of the block.\nIn ClickHouse, queries are always run on blocks (sets of column parts). This function allows getting the size of the block that you called it for.</p>\n<h3 id=\"materialize-x\">materialize(x)<a class=\"headerlink\" href=\"#materialize-x\" title=\"Permanent link\">&para;</a></h3>\n<p>Turns a constant into a full column containing just one value.\nIn ClickHouse, full columns and constants are represented differently in memory. Functions work differently for constant arguments and normal arguments (different code is executed), although the result is almost always the same. This function is for debugging this behavior.</p>\n<h3 id=\"ignore\">ignore(...)<a class=\"headerlink\" href=\"#ignore\" title=\"Permanent link\">&para;</a></h3>\n<p>Accepts any arguments, including <code>NULL</code>. Always returns 0.\nHowever, the argument is still evaluated. This can be used for benchmarks.</p>\n<h3 id=\"sleep-seconds\">sleep(seconds)<a class=\"headerlink\" href=\"#sleep-seconds\" title=\"Permanent link\">&para;</a></h3>\n<p>Sleeps 'seconds' seconds on each data block. You can specify an integer or a floating-point number.</p>\n<h3 id=\"sleepeachrow-seconds\">sleepEachRow(seconds)<a class=\"headerlink\" href=\"#sleepeachrow-seconds\" title=\"Permanent link\">&para;</a></h3>\n<p>Sleeps 'seconds' seconds on each row. You can specify an integer or a floating-point number.</p>\n<h3 id=\"currentdatabase\">currentDatabase()<a class=\"headerlink\" href=\"#currentdatabase\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns the name of the current database.\nYou can use this function in table engine parameters in a CREATE TABLE query where you need to specify the database.</p>\n<h3 id=\"isfinite-x\">isFinite(x)<a class=\"headerlink\" href=\"#isfinite-x\" title=\"Permanent link\">&para;</a></h3>\n<p>Accepts Float32 and Float64 and returns UInt8 equal to 1 if the argument is not infinite and not a NaN, otherwise 0.</p>\n<h3 id=\"isinfinite-x\">isInfinite(x)<a class=\"headerlink\" href=\"#isinfinite-x\" title=\"Permanent link\">&para;</a></h3>\n<p>Accepts Float32 and Float64 and returns UInt8 equal to 1 if the argument is infinite, otherwise 0. Note that 0 is returned for a NaN.</p>\n<h3 id=\"isnan-x\">isNaN(x)<a class=\"headerlink\" href=\"#isnan-x\" title=\"Permanent link\">&para;</a></h3>\n<p>Accepts Float32 and Float64 and returns UInt8 equal to 1 if the argument is a NaN, otherwise 0.</p>\n<h3 id=\"hascolumnintable-91-hostname-91-username-91-password-93-93-93-database-table-column\">hasColumnInTable(['hostname'[, 'username'[, 'password']],] 'database', 'table', 'column')<a class=\"headerlink\" href=\"#hascolumnintable-91-hostname-91-username-91-password-93-93-93-database-table-column\" title=\"Permanent link\">&para;</a></h3>\n<p>Accepts constant strings: database name, table name, and column name. Returns a UInt8 constant expression equal to 1 if there is a column, otherwise 0. If the hostname parameter is set, the test will run on a remote server.\nThe function throws an exception if the table does not exist.\nFor elements in a nested data structure, the function checks for the existence of a column. For the nested data structure itself, the function returns 0.</p>\n<h3 id=\"bar\">bar<a class=\"headerlink\" href=\"#bar\" title=\"Permanent link\">&para;</a></h3>\n<p>Allows building a unicode-art diagram.</p>\n<p><code>bar(x, min, max, width)</code> draws a band with a width proportional to <code>(x - min)</code> and equal to <code>width</code> characters when <code>x = max</code>.</p>\n<p>Parameters:</p>\n<ul>\n<li><code>x</code> \u2014 Size to display.</li>\n<li><code>min, max</code> \u2014 Integer constants. The value must fit in <code>Int64</code>.</li>\n<li><code>width</code> \u2014 Constant, positive integer, can be fractional.</li>\n</ul>\n<p>The band is drawn with accuracy to one eighth of a symbol.</p>\n<p>Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span>\n    <span class=\"n\">toHour</span><span class=\"p\">(</span><span class=\"n\">EventTime</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">h</span><span class=\"p\">,</span>\n    <span class=\"k\">count</span><span class=\"p\">()</span> <span class=\"k\">AS</span> <span class=\"k\">c</span><span class=\"p\">,</span>\n    <span class=\"n\">bar</span><span class=\"p\">(</span><span class=\"k\">c</span><span class=\"p\">,</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">600000</span><span class=\"p\">,</span> <span class=\"mi\">20</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">bar</span>\n<span class=\"k\">FROM</span> <span class=\"n\">test</span><span class=\"p\">.</span><span class=\"n\">hits</span>\n<span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">h</span>\n<span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"n\">h</span> <span class=\"k\">ASC</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500\u2500h\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500c\u2500\u252c\u2500bar\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502  0 \u2502 292907 \u2502 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258b         \u2502</span>\n<span class=\"err\">\u2502  1 \u2502 180563 \u2502 \u2588\u2588\u2588\u2588\u2588\u2588             \u2502</span>\n<span class=\"err\">\u2502  2 \u2502 114861 \u2502 \u2588\u2588\u2588\u258b               \u2502</span>\n<span class=\"err\">\u2502  3 \u2502  85069 \u2502 \u2588\u2588\u258b                \u2502</span>\n<span class=\"err\">\u2502  4 \u2502  68543 \u2502 \u2588\u2588\u258e                \u2502</span>\n<span class=\"err\">\u2502  5 \u2502  78116 \u2502 \u2588\u2588\u258c                \u2502</span>\n<span class=\"err\">\u2502  6 \u2502 113474 \u2502 \u2588\u2588\u2588\u258b               \u2502</span>\n<span class=\"err\">\u2502  7 \u2502 170678 \u2502 \u2588\u2588\u2588\u2588\u2588\u258b             \u2502</span>\n<span class=\"err\">\u2502  8 \u2502 278380 \u2502 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e         \u2502</span>\n<span class=\"err\">\u2502  9 \u2502 391053 \u2502 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588      \u2502</span>\n<span class=\"err\">\u2502 10 \u2502 457681 \u2502 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e   \u2502</span>\n<span class=\"err\">\u2502 11 \u2502 493667 \u2502 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d  \u2502</span>\n<span class=\"err\">\u2502 12 \u2502 509641 \u2502 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a  \u2502</span>\n<span class=\"err\">\u2502 13 \u2502 522947 \u2502 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d \u2502</span>\n<span class=\"err\">\u2502 14 \u2502 539954 \u2502 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a \u2502</span>\n<span class=\"err\">\u2502 15 \u2502 528460 \u2502 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258c \u2502</span>\n<span class=\"err\">\u2502 16 \u2502 539201 \u2502 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a \u2502</span>\n<span class=\"err\">\u2502 17 \u2502 523539 \u2502 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d \u2502</span>\n<span class=\"err\">\u2502 18 \u2502 506467 \u2502 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258a  \u2502</span>\n<span class=\"err\">\u2502 19 \u2502 520915 \u2502 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e \u2502</span>\n<span class=\"err\">\u2502 20 \u2502 521665 \u2502 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d \u2502</span>\n<span class=\"err\">\u2502 21 \u2502 542078 \u2502 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 \u2502</span>\n<span class=\"err\">\u2502 22 \u2502 493642 \u2502 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258d  \u2502</span>\n<span class=\"err\">\u2502 23 \u2502 400397 \u2502 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u258e     \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"transform\">transform<a class=\"headerlink\" href=\"#transform\" title=\"Permanent link\">&para;</a></h3>\n<p>Transforms a value according to the explicitly defined mapping of some elements to other ones.\nThere are two variations of this function:</p>\n<ol>\n<li><code>transform(x, array_from, array_to, default)</code></li>\n</ol>\n<p><code>x</code> \u2013 What to transform.</p>\n<p><code>array_from</code> \u2013 Constant array of values for converting.</p>\n<p><code>array_to</code> \u2013 Constant array of values to convert the values in 'from' to.</p>\n<p><code>default</code> \u2013 Which value to use if 'x' is not equal to any of the values in 'from'.</p>\n<p><code>array_from</code> and <code>array_to</code> \u2013 Arrays of the same size.</p>\n<p>Types:</p>\n<p><code>transform(T, Array(T), Array(U), U) -&gt; U</code></p>\n<p><code>T</code> and <code>U</code> can be numeric, string, or Date or DateTime types.\nWhere the same letter is indicated (T or U), for numeric types these might not be matching types, but types that have a common type.\nFor example, the first argument can have the Int64 type, while the second has the Array(Uint16) type.</p>\n<p>If the 'x' value is equal to one of the elements in the 'array_from' array, it returns the existing element (that is numbered the same) from the 'array_to' array. Otherwise, it returns 'default'. If there are multiple matching elements in 'array_from', it returns one of the matches.</p>\n<p>Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span>\n    <span class=\"k\">transform</span><span class=\"p\">(</span><span class=\"n\">SearchEngineID</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"s1\">&#39;Yandex&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Google&#39;</span><span class=\"p\">],</span> <span class=\"s1\">&#39;Other&#39;</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">title</span><span class=\"p\">,</span>\n    <span class=\"k\">count</span><span class=\"p\">()</span> <span class=\"k\">AS</span> <span class=\"k\">c</span>\n<span class=\"k\">FROM</span> <span class=\"n\">test</span><span class=\"p\">.</span><span class=\"n\">hits</span>\n<span class=\"k\">WHERE</span> <span class=\"n\">SearchEngineID</span> <span class=\"o\">!=</span> <span class=\"mi\">0</span>\n<span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">title</span>\n<span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"k\">c</span> <span class=\"k\">DESC</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500title\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500c\u2500\u2510</span>\n<span class=\"err\">\u2502 Yandex    \u2502 498635 \u2502</span>\n<span class=\"err\">\u2502 Google    \u2502 229872 \u2502</span>\n<span class=\"err\">\u2502 Other     \u2502 104472 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<ol>\n<li><code>transform(x, array_from, array_to)</code></li>\n</ol>\n<p>Differs from the first variation in that the 'default' argument is omitted.\nIf the 'x' value is equal to one of the elements in the 'array_from' array, it returns the matching element (that is numbered the same) from the 'array_to' array. Otherwise, it returns 'x'.</p>\n<p>Types:</p>\n<p><code>transform(T, Array(T), Array(T)) -&gt; T</code></p>\n<p>Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span>\n    <span class=\"k\">transform</span><span class=\"p\">(</span><span class=\"k\">domain</span><span class=\"p\">(</span><span class=\"n\">Referer</span><span class=\"p\">),</span> <span class=\"p\">[</span><span class=\"s1\">&#39;yandex.ru&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;google.ru&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;vk.com&#39;</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"s1\">&#39;www.yandex&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;example.com&#39;</span><span class=\"p\">])</span> <span class=\"k\">AS</span> <span class=\"n\">s</span><span class=\"p\">,</span>\n    <span class=\"k\">count</span><span class=\"p\">()</span> <span class=\"k\">AS</span> <span class=\"k\">c</span>\n<span class=\"k\">FROM</span> <span class=\"n\">test</span><span class=\"p\">.</span><span class=\"n\">hits</span>\n<span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"k\">domain</span><span class=\"p\">(</span><span class=\"n\">Referer</span><span class=\"p\">)</span>\n<span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"k\">count</span><span class=\"p\">()</span> <span class=\"k\">DESC</span>\n<span class=\"k\">LIMIT</span> <span class=\"mi\">10</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500s\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500c\u2500\u2510</span>\n<span class=\"err\">\u2502                \u2502 2906259 \u2502</span>\n<span class=\"err\">\u2502 www.yandex     \u2502  867767 \u2502</span>\n<span class=\"err\">\u2502 \u2588\u2588\u2588\u2588\u2588\u2588\u2588.ru     \u2502  313599 \u2502</span>\n<span class=\"err\">\u2502 mail.yandex.ru \u2502  107147 \u2502</span>\n<span class=\"err\">\u2502 \u2588\u2588\u2588\u2588\u2588\u2588.ru      \u2502  100355 \u2502</span>\n<span class=\"err\">\u2502 \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588.ru   \u2502   65040 \u2502</span>\n<span class=\"err\">\u2502 news.yandex.ru \u2502   64515 \u2502</span>\n<span class=\"err\">\u2502 \u2588\u2588\u2588\u2588\u2588\u2588.net     \u2502   59141 \u2502</span>\n<span class=\"err\">\u2502 example.com    \u2502   57316 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"formatreadablesize-x\">formatReadableSize(x)<a class=\"headerlink\" href=\"#formatreadablesize-x\" title=\"Permanent link\">&para;</a></h3>\n<p>Accepts the size (number of bytes). Returns a rounded size with a suffix (KiB, MiB, etc.) as a string.</p>\n<p>Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span>\n    <span class=\"n\">arrayJoin</span><span class=\"p\">([</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">1024</span><span class=\"p\">,</span> <span class=\"mi\">1024</span><span class=\"o\">*</span><span class=\"mi\">1024</span><span class=\"p\">,</span> <span class=\"mi\">192851925</span><span class=\"p\">])</span> <span class=\"k\">AS</span> <span class=\"n\">filesize_bytes</span><span class=\"p\">,</span>\n    <span class=\"n\">formatReadableSize</span><span class=\"p\">(</span><span class=\"n\">filesize_bytes</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">filesize</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500filesize_bytes\u2500\u252c\u2500filesize\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502              1 \u2502 1.00 B     \u2502</span>\n<span class=\"err\">\u2502           1024 \u2502 1.00 KiB   \u2502</span>\n<span class=\"err\">\u2502        1048576 \u2502 1.00 MiB   \u2502</span>\n<span class=\"err\">\u2502      192851925 \u2502 183.92 MiB \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"least-a-b\">least(a, b)<a class=\"headerlink\" href=\"#least-a-b\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns the smallest value from a and b.</p>\n<h3 id=\"greatest-a-b\">greatest(a, b)<a class=\"headerlink\" href=\"#greatest-a-b\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns the largest value of a and b.</p>\n<h3 id=\"uptime\">uptime()<a class=\"headerlink\" href=\"#uptime\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns the server's uptime in seconds.</p>\n<h3 id=\"version\">version()<a class=\"headerlink\" href=\"#version\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns the version of the server as a string.</p>\n<h3 id=\"timezone\">timezone()<a class=\"headerlink\" href=\"#timezone\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns the timezone of the server.</p>\n<h3 id=\"blocknumber\">blockNumber<a class=\"headerlink\" href=\"#blocknumber\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns the sequence number of the data block where the row is located.</p>\n<h3 id=\"rownumberinblock\">rowNumberInBlock<a class=\"headerlink\" href=\"#rownumberinblock\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns the ordinal number of the row in the data block. Different data blocks are always recalculated.</p>\n<h3 id=\"rownumberinallblocks\">rowNumberInAllBlocks()<a class=\"headerlink\" href=\"#rownumberinallblocks\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns the ordinal number of the row in the data block. This function only considers the affected data blocks.</p>\n<h3 id=\"other_functions-runningdifference\">runningDifference(x)<a class=\"headerlink\" href=\"#other_functions-runningdifference\" title=\"Permanent link\">&para;</a></h3>\n<p>Calculates the difference between successive row values \u200b\u200bin the data block.\nReturns 0 for the first row and the difference from the previous row for each subsequent row.</p>\n<p>The result of the function depends on the affected data blocks and the order of data in the block.\nIf you make a subquery with ORDER BY and call the function from outside the subquery, you can get the expected result.</p>\n<p>Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span>\n    <span class=\"n\">EventID</span><span class=\"p\">,</span>\n    <span class=\"n\">EventTime</span><span class=\"p\">,</span>\n    <span class=\"n\">runningDifference</span><span class=\"p\">(</span><span class=\"n\">EventTime</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">delta</span>\n<span class=\"k\">FROM</span>\n<span class=\"p\">(</span>\n    <span class=\"k\">SELECT</span>\n        <span class=\"n\">EventID</span><span class=\"p\">,</span>\n        <span class=\"n\">EventTime</span>\n    <span class=\"k\">FROM</span> <span class=\"n\">events</span>\n    <span class=\"k\">WHERE</span> <span class=\"n\">EventDate</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;2016-11-24&#39;</span>\n    <span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"n\">EventTime</span> <span class=\"k\">ASC</span>\n    <span class=\"k\">LIMIT</span> <span class=\"mi\">5</span>\n<span class=\"p\">)</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500EventID\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500EventTime\u2500\u252c\u2500delta\u2500\u2510</span>\n<span class=\"err\">\u2502    1106 \u2502 2016-11-24 00:00:04 \u2502     0 \u2502</span>\n<span class=\"err\">\u2502    1107 \u2502 2016-11-24 00:00:05 \u2502     1 \u2502</span>\n<span class=\"err\">\u2502    1108 \u2502 2016-11-24 00:00:05 \u2502     0 \u2502</span>\n<span class=\"err\">\u2502    1109 \u2502 2016-11-24 00:00:09 \u2502     4 \u2502</span>\n<span class=\"err\">\u2502    1110 \u2502 2016-11-24 00:00:10 \u2502     1 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"runningdifferencestartingwithfirstvalue\">runningDifferenceStartingWithFirstValue<a class=\"headerlink\" href=\"#runningdifferencestartingwithfirstvalue\" title=\"Permanent link\">&para;</a></h3>\n<p>Same as for <a href=\"#other_functions-runningdifference\">runningDifference</a>, the difference is the value of the first row, returned the value of the first row, and each subsequent row returns the difference from the previous row.</p>\n<h3 id=\"macnumtostring-num\">MACNumToString(num)<a class=\"headerlink\" href=\"#macnumtostring-num\" title=\"Permanent link\">&para;</a></h3>\n<p>Accepts a UInt64 number. Interprets it as a MAC address in big endian. Returns a string containing the corresponding MAC address in the format AA:BB:CC:DD:EE:FF (colon-separated numbers in hexadecimal form).</p>\n<h3 id=\"macstringtonum-s\">MACStringToNum(s)<a class=\"headerlink\" href=\"#macstringtonum-s\" title=\"Permanent link\">&para;</a></h3>\n<p>The inverse function of MACNumToString. If the MAC address has an invalid format, it returns 0.</p>\n<h3 id=\"macstringtooui-s\">MACStringToOUI(s)<a class=\"headerlink\" href=\"#macstringtooui-s\" title=\"Permanent link\">&para;</a></h3>\n<p>Accepts a MAC address in the format AA:BB:CC:DD:EE:FF (colon-separated numbers in hexadecimal form). Returns the first three octets as a UInt64 number. If the MAC address has an invalid format, it returns 0.</p>\n<h3 id=\"getsizeofenumtype\">getSizeOfEnumType<a class=\"headerlink\" href=\"#getsizeofenumtype\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns the number of fields in <a href=\"#../../data_types/enum/\">Enum</a>.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">getSizeOfEnumType(value)</span>\n</pre></div>\n\n\n<p><strong>Parameters:</strong></p>\n<ul>\n<li><code>value</code> \u2014 Value of type <code>Enum</code>.</li>\n</ul>\n<p><strong>Returned values</strong></p>\n<ul>\n<li>The number of fields with <code>Enum</code> input values.</li>\n<li>An exception is thrown if the type is not <code>Enum</code>.</li>\n</ul>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">getSizeOfEnumType</span><span class=\"p\">(</span> <span class=\"k\">CAST</span><span class=\"p\">(</span><span class=\"s1\">&#39;a&#39;</span> <span class=\"k\">AS</span> <span class=\"n\">Enum8</span><span class=\"p\">(</span><span class=\"s1\">&#39;a&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"s1\">&#39;b&#39;</span> <span class=\"o\">=</span> <span class=\"mi\">2</span><span class=\"p\">)</span> <span class=\"p\">)</span> <span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">x</span>\n\n<span class=\"err\">\u250c\u2500</span><span class=\"n\">x</span><span class=\"err\">\u2500\u2510</span>\n<span class=\"err\">\u2502</span> <span class=\"mi\">2</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"tocolumntypename\">toColumnTypeName<a class=\"headerlink\" href=\"#tocolumntypename\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns the name of the class that represents the data type of the column in RAM.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">toColumnTypeName(value)</span>\n</pre></div>\n\n\n<p><strong>Parameters:</strong></p>\n<ul>\n<li><code>value</code> \u2014 Any type of value.</li>\n</ul>\n<p><strong>Returned values</strong></p>\n<ul>\n<li>A string with the name of the class that is used for representing the <code>value</code> data type in RAM.</li>\n</ul>\n<p><strong>Example of the difference between<code>toTypeName ' and ' toColumnTypeName</code></strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"p\">:)</span> <span class=\"k\">select</span> <span class=\"n\">toTypeName</span><span class=\"p\">(</span><span class=\"k\">cast</span><span class=\"p\">(</span><span class=\"s1\">&#39;2018-01-01 01:02:03&#39;</span> <span class=\"k\">AS</span> <span class=\"n\">DateTime</span><span class=\"p\">))</span>\n\n<span class=\"k\">SELECT</span> <span class=\"n\">toTypeName</span><span class=\"p\">(</span><span class=\"k\">CAST</span><span class=\"p\">(</span><span class=\"s1\">&#39;2018-01-01 01:02:03&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;DateTime&#39;</span><span class=\"p\">))</span>\n\n<span class=\"err\">\u250c\u2500</span><span class=\"n\">toTypeName</span><span class=\"p\">(</span><span class=\"k\">CAST</span><span class=\"p\">(</span><span class=\"s1\">&#39;2018-01-01 01:02:03&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;DateTime&#39;</span><span class=\"p\">))</span><span class=\"err\">\u2500\u2510</span>\n<span class=\"err\">\u2502</span> <span class=\"n\">DateTime</span>                                            <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n\n<span class=\"mi\">1</span> <span class=\"k\">rows</span> <span class=\"k\">in</span> <span class=\"k\">set</span><span class=\"p\">.</span> <span class=\"n\">Elapsed</span><span class=\"p\">:</span> <span class=\"mi\">0</span><span class=\"p\">.</span><span class=\"mi\">008</span> <span class=\"n\">sec</span><span class=\"p\">.</span>\n\n<span class=\"p\">:)</span> <span class=\"k\">select</span> <span class=\"n\">toColumnTypeName</span><span class=\"p\">(</span><span class=\"k\">cast</span><span class=\"p\">(</span><span class=\"s1\">&#39;2018-01-01 01:02:03&#39;</span> <span class=\"k\">AS</span> <span class=\"n\">DateTime</span><span class=\"p\">))</span>\n\n<span class=\"k\">SELECT</span> <span class=\"n\">toColumnTypeName</span><span class=\"p\">(</span><span class=\"k\">CAST</span><span class=\"p\">(</span><span class=\"s1\">&#39;2018-01-01 01:02:03&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;DateTime&#39;</span><span class=\"p\">))</span>\n\n<span class=\"err\">\u250c\u2500</span><span class=\"n\">toColumnTypeName</span><span class=\"p\">(</span><span class=\"k\">CAST</span><span class=\"p\">(</span><span class=\"s1\">&#39;2018-01-01 01:02:03&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;DateTime&#39;</span><span class=\"p\">))</span><span class=\"err\">\u2500\u2510</span>\n<span class=\"err\">\u2502</span> <span class=\"n\">Const</span><span class=\"p\">(</span><span class=\"n\">UInt32</span><span class=\"p\">)</span>                                             <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>The example shows that the <code>DateTime</code> data type is stored in memory as <code>Const(UInt32)</code>.</p>\n<h3 id=\"dumpcolumnstructure\">dumpColumnStructure<a class=\"headerlink\" href=\"#dumpcolumnstructure\" title=\"Permanent link\">&para;</a></h3>\n<p>Outputs a detailed description of data structures in RAM</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">dumpColumnStructure(value)</span>\n</pre></div>\n\n\n<p><strong>Parameters:</strong></p>\n<ul>\n<li><code>value</code> \u2014 Any type of value.</li>\n</ul>\n<p><strong>Returned values</strong></p>\n<ul>\n<li>A string describing the structure that is used for representing the <code>value</code> data type in RAM.</li>\n</ul>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">dumpColumnStructure</span><span class=\"p\">(</span><span class=\"k\">CAST</span><span class=\"p\">(</span><span class=\"s1\">&#39;2018-01-01 01:02:03&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;DateTime&#39;</span><span class=\"p\">))</span>\n\n<span class=\"err\">\u250c\u2500</span><span class=\"n\">dumpColumnStructure</span><span class=\"p\">(</span><span class=\"k\">CAST</span><span class=\"p\">(</span><span class=\"s1\">&#39;2018-01-01 01:02:03&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;DateTime&#39;</span><span class=\"p\">))</span><span class=\"err\">\u2500\u2510</span>\n<span class=\"err\">\u2502</span> <span class=\"n\">DateTime</span><span class=\"p\">,</span> <span class=\"n\">Const</span><span class=\"p\">(</span><span class=\"k\">size</span> <span class=\"o\">=</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"n\">UInt32</span><span class=\"p\">(</span><span class=\"k\">size</span> <span class=\"o\">=</span> <span class=\"mi\">1</span><span class=\"p\">))</span>                  <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"defaultvalueofargumenttype\">defaultValueOfArgumentType<a class=\"headerlink\" href=\"#defaultvalueofargumenttype\" title=\"Permanent link\">&para;</a></h3>\n<p>Outputs the default value for the data type.</p>\n<p>Does not include default values for custom columns set by the user.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">defaultValueOfArgumentType(expression)</span>\n</pre></div>\n\n\n<p><strong>Parameters:</strong></p>\n<ul>\n<li><code>expression</code> \u2014 Arbitrary type of value or an expression that results in a value of an arbitrary type.</li>\n</ul>\n<p><strong>Returned values</strong></p>\n<ul>\n<li><code>0</code> for numbers.</li>\n<li>Empty string for strings.</li>\n<li><code>\u1d3a\u1d41\u1d38\u1d38</code> for <a href=\"#../../data_types/nullable/\">Nullable</a>.</li>\n</ul>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"p\">:)</span> <span class=\"k\">SELECT</span> <span class=\"n\">defaultValueOfArgumentType</span><span class=\"p\">(</span> <span class=\"k\">CAST</span><span class=\"p\">(</span><span class=\"mi\">1</span> <span class=\"k\">AS</span> <span class=\"nb\">Int8</span><span class=\"p\">)</span> <span class=\"p\">)</span>\n\n<span class=\"k\">SELECT</span> <span class=\"n\">defaultValueOfArgumentType</span><span class=\"p\">(</span><span class=\"k\">CAST</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Int8&#39;</span><span class=\"p\">))</span>\n\n<span class=\"err\">\u250c\u2500</span><span class=\"n\">defaultValueOfArgumentType</span><span class=\"p\">(</span><span class=\"k\">CAST</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Int8&#39;</span><span class=\"p\">))</span><span class=\"err\">\u2500\u2510</span>\n<span class=\"err\">\u2502</span>                                           <span class=\"mi\">0</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n\n<span class=\"mi\">1</span> <span class=\"k\">rows</span> <span class=\"k\">in</span> <span class=\"k\">set</span><span class=\"p\">.</span> <span class=\"n\">Elapsed</span><span class=\"p\">:</span> <span class=\"mi\">0</span><span class=\"p\">.</span><span class=\"mi\">002</span> <span class=\"n\">sec</span><span class=\"p\">.</span>\n\n<span class=\"p\">:)</span> <span class=\"k\">SELECT</span> <span class=\"n\">defaultValueOfArgumentType</span><span class=\"p\">(</span> <span class=\"k\">CAST</span><span class=\"p\">(</span><span class=\"mi\">1</span> <span class=\"k\">AS</span> <span class=\"k\">Nullable</span><span class=\"p\">(</span><span class=\"nb\">Int8</span><span class=\"p\">)</span> <span class=\"p\">)</span> <span class=\"p\">)</span>\n\n<span class=\"k\">SELECT</span> <span class=\"n\">defaultValueOfArgumentType</span><span class=\"p\">(</span><span class=\"k\">CAST</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Nullable(Int8)&#39;</span><span class=\"p\">))</span>\n\n<span class=\"err\">\u250c\u2500</span><span class=\"n\">defaultValueOfArgumentType</span><span class=\"p\">(</span><span class=\"k\">CAST</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Nullable(Int8)&#39;</span><span class=\"p\">))</span><span class=\"err\">\u2500\u2510</span>\n<span class=\"err\">\u2502</span>                                                  <span class=\"err\">\u1d3a\u1d41\u1d38\u1d38</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n\n<span class=\"mi\">1</span> <span class=\"k\">rows</span> <span class=\"k\">in</span> <span class=\"k\">set</span><span class=\"p\">.</span> <span class=\"n\">Elapsed</span><span class=\"p\">:</span> <span class=\"mi\">0</span><span class=\"p\">.</span><span class=\"mi\">002</span> <span class=\"n\">sec</span><span class=\"p\">.</span>\n</pre></div>\n\n\n<h3 id=\"indexhint\">indexHint<a class=\"headerlink\" href=\"#indexhint\" title=\"Permanent link\">&para;</a></h3>\n<p>Outputs data in the range selected by the index without filtering by the expression specified as an argument.</p>\n<p>The expression passed to the function is not calculated, but ClickHouse applies the index to this expression in the same way as if the expression was in the query without <code>indexHint</code>.</p>\n<p><strong>Returned value</strong></p>\n<ul>\n<li>1.</li>\n</ul>\n<p><strong>Example</strong></p>\n<p>Here is a table with the test data for <a href=\"#../../getting_started/example_datasets/ontime/\">ontime</a>.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"k\">count</span><span class=\"p\">()</span> <span class=\"k\">FROM</span> <span class=\"n\">ontime</span>\n\n<span class=\"err\">\u250c\u2500</span><span class=\"k\">count</span><span class=\"p\">()</span><span class=\"err\">\u2500\u2510</span>\n<span class=\"err\">\u2502</span> <span class=\"mi\">4276457</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>The table has indexes for the fields <code>(FlightDate, (Year, FlightDate))</code>.</p>\n<p>Create a selection by date like this:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"p\">:)</span> <span class=\"k\">SELECT</span> <span class=\"n\">FlightDate</span> <span class=\"k\">AS</span> <span class=\"n\">k</span><span class=\"p\">,</span> <span class=\"k\">count</span><span class=\"p\">()</span> <span class=\"k\">FROM</span> <span class=\"n\">ontime</span> <span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">k</span> <span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"n\">k</span>\n\n<span class=\"k\">SELECT</span>\n    <span class=\"n\">FlightDate</span> <span class=\"k\">AS</span> <span class=\"n\">k</span><span class=\"p\">,</span>\n    <span class=\"k\">count</span><span class=\"p\">()</span>\n<span class=\"k\">FROM</span> <span class=\"n\">ontime</span>\n<span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">k</span>\n<span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"n\">k</span> <span class=\"k\">ASC</span>\n\n<span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500</span><span class=\"n\">k</span><span class=\"err\">\u2500\u252c\u2500</span><span class=\"k\">count</span><span class=\"p\">()</span><span class=\"err\">\u2500\u2510</span>\n<span class=\"err\">\u2502</span> <span class=\"mi\">2017</span><span class=\"o\">-</span><span class=\"mi\">01</span><span class=\"o\">-</span><span class=\"mi\">01</span> <span class=\"err\">\u2502</span>   <span class=\"mi\">13970</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span> <span class=\"mi\">2017</span><span class=\"o\">-</span><span class=\"mi\">01</span><span class=\"o\">-</span><span class=\"mi\">02</span> <span class=\"err\">\u2502</span>   <span class=\"mi\">15882</span> <span class=\"err\">\u2502</span>\n<span class=\"p\">........................</span>\n<span class=\"err\">\u2502</span> <span class=\"mi\">2017</span><span class=\"o\">-</span><span class=\"mi\">09</span><span class=\"o\">-</span><span class=\"mi\">28</span> <span class=\"err\">\u2502</span>   <span class=\"mi\">16411</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span> <span class=\"mi\">2017</span><span class=\"o\">-</span><span class=\"mi\">09</span><span class=\"o\">-</span><span class=\"mi\">29</span> <span class=\"err\">\u2502</span>   <span class=\"mi\">16384</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span> <span class=\"mi\">2017</span><span class=\"o\">-</span><span class=\"mi\">09</span><span class=\"o\">-</span><span class=\"mi\">30</span> <span class=\"err\">\u2502</span>   <span class=\"mi\">12520</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n\n<span class=\"mi\">273</span> <span class=\"k\">rows</span> <span class=\"k\">in</span> <span class=\"k\">set</span><span class=\"p\">.</span> <span class=\"n\">Elapsed</span><span class=\"p\">:</span> <span class=\"mi\">0</span><span class=\"p\">.</span><span class=\"mi\">072</span> <span class=\"n\">sec</span><span class=\"p\">.</span> <span class=\"n\">Processed</span> <span class=\"mi\">4</span><span class=\"p\">.</span><span class=\"mi\">28</span> <span class=\"n\">million</span> <span class=\"k\">rows</span><span class=\"p\">,</span> <span class=\"mi\">8</span><span class=\"p\">.</span><span class=\"mi\">55</span> <span class=\"n\">MB</span> <span class=\"p\">(</span><span class=\"mi\">59</span><span class=\"p\">.</span><span class=\"mi\">00</span> <span class=\"n\">million</span> <span class=\"k\">rows</span><span class=\"o\">/</span><span class=\"n\">s</span><span class=\"p\">.,</span> <span class=\"mi\">118</span><span class=\"p\">.</span><span class=\"mi\">01</span> <span class=\"n\">MB</span><span class=\"o\">/</span><span class=\"n\">s</span><span class=\"p\">.)</span>\n</pre></div>\n\n\n<p>In this selection, the index is not used and ClickHouse processed the entire table (<code>Processed 4.28 million rows</code>). To apply the index, select a specific date and run the following query:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"p\">:)</span> <span class=\"k\">SELECT</span> <span class=\"n\">FlightDate</span> <span class=\"k\">AS</span> <span class=\"n\">k</span><span class=\"p\">,</span> <span class=\"k\">count</span><span class=\"p\">()</span> <span class=\"k\">FROM</span> <span class=\"n\">ontime</span> <span class=\"k\">WHERE</span> <span class=\"n\">k</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;2017-09-15&#39;</span> <span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">k</span> <span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"n\">k</span>\n\n<span class=\"k\">SELECT</span>\n    <span class=\"n\">FlightDate</span> <span class=\"k\">AS</span> <span class=\"n\">k</span><span class=\"p\">,</span>\n    <span class=\"k\">count</span><span class=\"p\">()</span>\n<span class=\"k\">FROM</span> <span class=\"n\">ontime</span>\n<span class=\"k\">WHERE</span> <span class=\"n\">k</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;2017-09-15&#39;</span>\n<span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">k</span>\n<span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"n\">k</span> <span class=\"k\">ASC</span>\n\n<span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500</span><span class=\"n\">k</span><span class=\"err\">\u2500\u252c\u2500</span><span class=\"k\">count</span><span class=\"p\">()</span><span class=\"err\">\u2500\u2510</span>\n<span class=\"err\">\u2502</span> <span class=\"mi\">2017</span><span class=\"o\">-</span><span class=\"mi\">09</span><span class=\"o\">-</span><span class=\"mi\">15</span> <span class=\"err\">\u2502</span>   <span class=\"mi\">16428</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n\n<span class=\"mi\">1</span> <span class=\"k\">rows</span> <span class=\"k\">in</span> <span class=\"k\">set</span><span class=\"p\">.</span> <span class=\"n\">Elapsed</span><span class=\"p\">:</span> <span class=\"mi\">0</span><span class=\"p\">.</span><span class=\"mi\">014</span> <span class=\"n\">sec</span><span class=\"p\">.</span> <span class=\"n\">Processed</span> <span class=\"mi\">32</span><span class=\"p\">.</span><span class=\"mi\">74</span> <span class=\"n\">thousand</span> <span class=\"k\">rows</span><span class=\"p\">,</span> <span class=\"mi\">65</span><span class=\"p\">.</span><span class=\"mi\">49</span> <span class=\"n\">KB</span> <span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">.</span><span class=\"mi\">31</span> <span class=\"n\">million</span> <span class=\"k\">rows</span><span class=\"o\">/</span><span class=\"n\">s</span><span class=\"p\">.,</span> <span class=\"mi\">4</span><span class=\"p\">.</span><span class=\"mi\">63</span> <span class=\"n\">MB</span><span class=\"o\">/</span><span class=\"n\">s</span><span class=\"p\">.)</span>\n</pre></div>\n\n\n<p>The last line of output shows that by using the index, ClickHouse processed a significantly smaller number of rows (<code>Processed 32.74 thousand rows</code>).</p>\n<p>Now pass the expression <code>k = '2017-09-15'</code> to the <code>indexHint</code> function:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"p\">:)</span> <span class=\"k\">SELECT</span> <span class=\"n\">FlightDate</span> <span class=\"k\">AS</span> <span class=\"n\">k</span><span class=\"p\">,</span> <span class=\"k\">count</span><span class=\"p\">()</span> <span class=\"k\">FROM</span> <span class=\"n\">ontime</span> <span class=\"k\">WHERE</span> <span class=\"n\">indexHint</span><span class=\"p\">(</span><span class=\"n\">k</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;2017-09-15&#39;</span><span class=\"p\">)</span> <span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">k</span> <span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"n\">k</span>\n\n<span class=\"k\">SELECT</span>\n    <span class=\"n\">FlightDate</span> <span class=\"k\">AS</span> <span class=\"n\">k</span><span class=\"p\">,</span>\n    <span class=\"k\">count</span><span class=\"p\">()</span>\n<span class=\"k\">FROM</span> <span class=\"n\">ontime</span>\n<span class=\"k\">WHERE</span> <span class=\"n\">indexHint</span><span class=\"p\">(</span><span class=\"n\">k</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;2017-09-15&#39;</span><span class=\"p\">)</span>\n<span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">k</span>\n<span class=\"k\">ORDER</span> <span class=\"k\">BY</span> <span class=\"n\">k</span> <span class=\"k\">ASC</span>\n\n<span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500</span><span class=\"n\">k</span><span class=\"err\">\u2500\u252c\u2500</span><span class=\"k\">count</span><span class=\"p\">()</span><span class=\"err\">\u2500\u2510</span>\n<span class=\"err\">\u2502</span> <span class=\"mi\">2017</span><span class=\"o\">-</span><span class=\"mi\">09</span><span class=\"o\">-</span><span class=\"mi\">14</span> <span class=\"err\">\u2502</span>    <span class=\"mi\">7071</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span> <span class=\"mi\">2017</span><span class=\"o\">-</span><span class=\"mi\">09</span><span class=\"o\">-</span><span class=\"mi\">15</span> <span class=\"err\">\u2502</span>   <span class=\"mi\">16428</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span> <span class=\"mi\">2017</span><span class=\"o\">-</span><span class=\"mi\">09</span><span class=\"o\">-</span><span class=\"mi\">16</span> <span class=\"err\">\u2502</span>    <span class=\"mi\">1077</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span> <span class=\"mi\">2017</span><span class=\"o\">-</span><span class=\"mi\">09</span><span class=\"o\">-</span><span class=\"mi\">30</span> <span class=\"err\">\u2502</span>    <span class=\"mi\">8167</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n\n<span class=\"mi\">4</span> <span class=\"k\">rows</span> <span class=\"k\">in</span> <span class=\"k\">set</span><span class=\"p\">.</span> <span class=\"n\">Elapsed</span><span class=\"p\">:</span> <span class=\"mi\">0</span><span class=\"p\">.</span><span class=\"mi\">004</span> <span class=\"n\">sec</span><span class=\"p\">.</span> <span class=\"n\">Processed</span> <span class=\"mi\">32</span><span class=\"p\">.</span><span class=\"mi\">74</span> <span class=\"n\">thousand</span> <span class=\"k\">rows</span><span class=\"p\">,</span> <span class=\"mi\">65</span><span class=\"p\">.</span><span class=\"mi\">49</span> <span class=\"n\">KB</span> <span class=\"p\">(</span><span class=\"mi\">8</span><span class=\"p\">.</span><span class=\"mi\">97</span> <span class=\"n\">million</span> <span class=\"k\">rows</span><span class=\"o\">/</span><span class=\"n\">s</span><span class=\"p\">.,</span> <span class=\"mi\">17</span><span class=\"p\">.</span><span class=\"mi\">94</span> <span class=\"n\">MB</span><span class=\"o\">/</span><span class=\"n\">s</span><span class=\"p\">.)</span>\n</pre></div>\n\n\n<p>The response to the request shows that ClickHouse applied the index in the same way as the previous time (<code>Processed 32.74 thousand rows</code>). However, the resulting set of rows shows that the expression <code>k = '2017-09-15'</code> was not used when generating the result.</p>\n<p>Because the index is sparse in ClickHouse, \"extra\" data ends up in the response when reading a range (in this case, the adjacent dates). Use the <code>indexHint</code> function to see it.</p>\n<h3 id=\"replicate\">replicate<a class=\"headerlink\" href=\"#replicate\" title=\"Permanent link\">&para;</a></h3>\n<p>Creates an array with a single value.</p>\n<p>Used for internal implementation of <a href=\"#functions_arrayjoin\">arrayJoin</a>.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">replicate(x, arr)</span>\n</pre></div>\n\n\n<p><strong>Parameters:</strong></p>\n<ul>\n<li><code>arr</code> \u2014 Original array. ClickHouse creates a new array of the same length as the original and fills it with the value <code>x</code>.</li>\n<li><code>x</code> \u2014 The value that the resulting array will be filled with.</li>\n</ul>\n<p><strong>Output value</strong></p>\n<ul>\n<li>An array filled with the value <code>x</code>.</li>\n</ul>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">replicate</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"s1\">&#39;a&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;b&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;c&#39;</span><span class=\"p\">])</span>\n\n<span class=\"err\">\u250c\u2500</span><span class=\"n\">replicate</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"s1\">&#39;a&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;b&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;c&#39;</span><span class=\"p\">])</span><span class=\"err\">\u2500\u2510</span>\n<span class=\"err\">\u2502</span> <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">]</span>                       <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"filesystemavailable\">filesystemAvailable<a class=\"headerlink\" href=\"#filesystemavailable\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns the remaining space information of the disk, in bytes. This information is evaluated using the configured by path.</p>\n<h3 id=\"filesystemcapacity\">filesystemCapacity<a class=\"headerlink\" href=\"#filesystemcapacity\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns the capacity information of the disk, in bytes. This information is evaluated using the configured by path.</p>\n<h3 id=\"finalizeaggregation\">finalizeAggregation<a class=\"headerlink\" href=\"#finalizeaggregation\" title=\"Permanent link\">&para;</a></h3>\n<p>Takes state of aggregate function. Returns result of aggregation (finalized state).</p>\n<h3 id=\"runningaccumulate\">runningAccumulate<a class=\"headerlink\" href=\"#runningaccumulate\" title=\"Permanent link\">&para;</a></h3>\n<p>Takes the states of the aggregate function and returns a column with values, are the result of the accumulation of these states for a set of block lines, from the first to the current line.\nFor example, takes state of aggregate function (example runningAccumulate(uniqState(UserID))), and for each row of block, return result of aggregate function on merge of states of all previous rows and current row.\nSo, result of function depends on partition of data to blocks and on order of data in block.</p>\n<h3 id=\"joinget-join-storage-table-name-get-column-join-key\">joinGet('join_storage_table_name', 'get_column', join_key)<a class=\"headerlink\" href=\"#joinget-join-storage-table-name-get-column-join-key\" title=\"Permanent link\">&para;</a></h3>\n<p>Get data from a table of type Join using the specified join key.</p>\n<h3 id=\"modelevaluate-model-name\">modelEvaluate(model_name, ...)<a class=\"headerlink\" href=\"#modelevaluate-model-name\" title=\"Permanent link\">&para;</a></h3>\n<p>Evaluate external model.\nAccepts a model name and model arguments. Returns Float64.</p>\n<h3 id=\"throwif-x\">throwIf(x)<a class=\"headerlink\" href=\"#throwif-x\" title=\"Permanent link\">&para;</a></h3>\n<p>Throw an exception if the argument is non zero.</p>\n<p><a name=\"../../query_language/agg_functions/\"></a>\n<a name=\"agg_functions/\"></a>\n<a name=\"../../../../../query_language/agg_functions/\"></a>\n<a name=\"../query_language/agg_functions/\"></a>\n<a name=\"../../../../query_language/agg_functions/\"></a>\n<a name=\"query_language/agg_functions/\"></a>\n<a name=\"../../../query_language/agg_functions/\"></a></p>\n<h2 id=\"aggregate_functions\">Aggregate functions<a class=\"headerlink\" href=\"#aggregate_functions\" title=\"Permanent link\">&para;</a></h2>\n<p>Aggregate functions work in the <a href=\"http://www.sql-tutorial.com/sql-aggregate-functions-sql-tutorial\" rel=\"external nofollow\">normal</a> way as expected by database experts.</p>\n<p>ClickHouse also supports:</p>\n<ul>\n<li><a href=\"#aggregate_functions_parametric\">Parametric aggregate functions</a>, which accept other parameters in addition to columns.</li>\n<li><a href=\"#aggregate_functions_combinators\">Combinators</a>, which change the behavior of aggregate functions.</li>\n</ul>\n<h3 id=\"null-processing_3\">NULL processing<a class=\"headerlink\" href=\"#null-processing_3\" title=\"Permanent link\">&para;</a></h3>\n<p>During aggregation, all <code>NULL</code>s are skipped.</p>\n<p><strong>Examples:</strong></p>\n<p>Consider this table:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500x\u2500\u252c\u2500\u2500\u2500\u2500y\u2500\u2510</span>\n<span class=\"err\">\u2502 1 \u2502    2 \u2502</span>\n<span class=\"err\">\u2502 2 \u2502 \u1d3a\u1d41\u1d38\u1d38 \u2502</span>\n<span class=\"err\">\u2502 3 \u2502    2 \u2502</span>\n<span class=\"err\">\u2502 3 \u2502    3 \u2502</span>\n<span class=\"err\">\u2502 3 \u2502 \u1d3a\u1d41\u1d38\u1d38 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>Let's say you need to total the values in the <code>y</code> column:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"p\">:)</span> <span class=\"k\">SELECT</span> <span class=\"k\">sum</span><span class=\"p\">(</span><span class=\"n\">y</span><span class=\"p\">)</span> <span class=\"k\">FROM</span> <span class=\"n\">t_null_big</span>\n\n<span class=\"k\">SELECT</span> <span class=\"k\">sum</span><span class=\"p\">(</span><span class=\"n\">y</span><span class=\"p\">)</span>\n<span class=\"k\">FROM</span> <span class=\"n\">t_null_big</span>\n\n<span class=\"err\">\u250c\u2500</span><span class=\"k\">sum</span><span class=\"p\">(</span><span class=\"n\">y</span><span class=\"p\">)</span><span class=\"err\">\u2500\u2510</span>\n<span class=\"err\">\u2502</span>      <span class=\"mi\">7</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n\n<span class=\"mi\">1</span> <span class=\"k\">rows</span> <span class=\"k\">in</span> <span class=\"k\">set</span><span class=\"p\">.</span> <span class=\"n\">Elapsed</span><span class=\"p\">:</span> <span class=\"mi\">0</span><span class=\"p\">.</span><span class=\"mi\">002</span> <span class=\"n\">sec</span><span class=\"p\">.</span>\n</pre></div>\n\n\n<p>The <code>sum</code> function interprets <code>NULL</code> as <code>0</code>. In particular, this means that if the function receives input of a selection where all the values are <code>NULL</code>, then the result will be <code>0</code>, not <code>NULL</code>.</p>\n<p>Now you can use the <code>groupArray</code> function to create an array from the <code>y</code> column:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"p\">:)</span> <span class=\"k\">SELECT</span> <span class=\"n\">groupArray</span><span class=\"p\">(</span><span class=\"n\">y</span><span class=\"p\">)</span> <span class=\"k\">FROM</span> <span class=\"n\">t_null_big</span>\n\n<span class=\"k\">SELECT</span> <span class=\"n\">groupArray</span><span class=\"p\">(</span><span class=\"n\">y</span><span class=\"p\">)</span>\n<span class=\"k\">FROM</span> <span class=\"n\">t_null_big</span>\n\n<span class=\"err\">\u250c\u2500</span><span class=\"n\">groupArray</span><span class=\"p\">(</span><span class=\"n\">y</span><span class=\"p\">)</span><span class=\"err\">\u2500\u2510</span>\n<span class=\"err\">\u2502</span> <span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">]</span>       <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n\n<span class=\"mi\">1</span> <span class=\"k\">rows</span> <span class=\"k\">in</span> <span class=\"k\">set</span><span class=\"p\">.</span> <span class=\"n\">Elapsed</span><span class=\"p\">:</span> <span class=\"mi\">0</span><span class=\"p\">.</span><span class=\"mi\">002</span> <span class=\"n\">sec</span><span class=\"p\">.</span>\n</pre></div>\n\n\n<p><code>groupArray</code> does not include <code>NULL</code> in the resulting array.</p>\n<p><a name=\"../../query_language/agg_functions/reference/\"></a>\n<a name=\"query_language/agg_functions/reference/\"></a>\n<a name=\"../agg_functions/reference/\"></a>\n<a name=\"reference/\"></a>\n<a name=\"../../../../query_language/agg_functions/reference/\"></a>\n<a name=\"../../agg_functions/reference/\"></a>\n<a name=\"../../../../../query_language/agg_functions/reference/\"></a>\n<a name=\"../../../query_language/agg_functions/reference/\"></a>\n<a name=\"agg_functions/reference/\"></a>\n<a name=\"../../../../../agg_functions/reference/\"></a>\n<a name=\"../../../agg_functions/reference/\"></a>\n<a name=\"../../../../agg_functions/reference/\"></a>\n<a name=\"../../../../../../agg_functions/reference/\"></a>\n<a name=\"../query_language/agg_functions/reference/\"></a></p>\n<h2 id=\"function-reference\">Function reference<a class=\"headerlink\" href=\"#function-reference\" title=\"Permanent link\">&para;</a></h2>\n<h3 id=\"agg_function-count\">count()<a class=\"headerlink\" href=\"#agg_function-count\" title=\"Permanent link\">&para;</a></h3>\n<p>Counts the number of rows. Accepts zero arguments and returns UInt64.\nThe syntax <code>COUNT(DISTINCT x)</code> is not supported. The separate <code>uniq</code> aggregate function exists for this purpose.</p>\n<p>A <code>SELECT count() FROM table</code> query is not optimized, because the number of entries in the table is not stored separately. It will select some small column from the table and count the number of values in it.</p>\n<h3 id=\"agg_function-any\">any(x)<a class=\"headerlink\" href=\"#agg_function-any\" title=\"Permanent link\">&para;</a></h3>\n<p>Selects the first encountered value.\nThe query can be executed in any order and even in a different order each time, so the result of this function is indeterminate.\nTo get a determinate result, you can use the 'min' or 'max' function instead of 'any'.</p>\n<p>In some cases, you can rely on the order of execution. This applies to cases when SELECT comes from a subquery that uses ORDER BY.</p>\n<p>When a <code>SELECT</code> query has the <code>GROUP BY</code> clause or at least one aggregate function, ClickHouse (in contrast to MySQL) requires that all expressions in the <code>SELECT</code>, <code>HAVING</code>, and <code>ORDER BY</code> clauses be calculated from keys or from aggregate functions. In other words, each column selected from the table must be used either in keys or inside aggregate functions. To get behavior like in MySQL, you can put the other columns in the <code>any</code> aggregate function.</p>\n<h3 id=\"anyheavy-x\">anyHeavy(x)<a class=\"headerlink\" href=\"#anyheavy-x\" title=\"Permanent link\">&para;</a></h3>\n<p>Selects a frequently occurring value using the <a href=\"http://www.cs.umd.edu/~samir/498/karp.pdf\" rel=\"external nofollow\">heavy hitters</a> algorithm. If there is a value that occurs more than in half the cases in each of the query's execution threads, this value is returned. Normally, the result is nondeterministic.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">anyHeavy(column)</span>\n</pre></div>\n\n\n<p><strong>Arguments</strong></p>\n<ul>\n<li><code>column</code> \u2013 The column name.</li>\n</ul>\n<p><strong>Example</strong></p>\n<p>Take the <a href=\"#../../getting_started/example_datasets/ontime/\">OnTime</a> data set and select any frequently occurring value in the <code>AirlineID</code> column.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">anyHeavy</span><span class=\"p\">(</span><span class=\"n\">AirlineID</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">res</span>\n<span class=\"k\">FROM</span> <span class=\"n\">ontime</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500\u2500\u2500res\u2500\u2510</span>\n<span class=\"err\">\u2502 19690 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"anylast-x\">anyLast(x)<a class=\"headerlink\" href=\"#anylast-x\" title=\"Permanent link\">&para;</a></h3>\n<p>Selects the last value encountered.\nThe result is just as indeterminate as for the <code>any</code> function.</p>\n<h3 id=\"groupbitand\">groupBitAnd<a class=\"headerlink\" href=\"#groupbitand\" title=\"Permanent link\">&para;</a></h3>\n<p>Applies bitwise <code>AND</code> for series of numbers.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">groupBitAnd(expr)</span>\n</pre></div>\n\n\n<p><strong>Parameters</strong></p>\n<p><code>expr</code> \u2013 An expression that results in <code>UInt*</code> type.</p>\n<p><strong>Return value</strong></p>\n<p>Value of the <code>UInt*</code> type.</p>\n<p><strong>Example</strong></p>\n<p>Test data:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">binary     decimal</span>\n<span class=\"err\">00101100 = 44</span>\n<span class=\"err\">00011100 = 28</span>\n<span class=\"err\">00001101 = 13</span>\n<span class=\"err\">01010101 = 85</span>\n</pre></div>\n\n\n<p>Query:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">SELECT groupBitAnd(num) FROM t</span>\n</pre></div>\n\n\n<p>Where <code>num</code> is the column with the test data.</p>\n<p>Result:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">binary     decimal</span>\n<span class=\"err\">00000100 = 4</span>\n</pre></div>\n\n\n<h3 id=\"groupbitor\">groupBitOr<a class=\"headerlink\" href=\"#groupbitor\" title=\"Permanent link\">&para;</a></h3>\n<p>Applies bitwise <code>OR</code> for series of numbers.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">groupBitOr(expr)</span>\n</pre></div>\n\n\n<p><strong>Parameters</strong></p>\n<p><code>expr</code> \u2013 An expression that results in <code>UInt*</code> type.</p>\n<p><strong>Return value</strong></p>\n<p>Value of the <code>UInt*</code> type.</p>\n<p><strong>Example</strong></p>\n<p>Test data:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">binary     decimal</span>\n<span class=\"err\">00101100 = 44</span>\n<span class=\"err\">00011100 = 28</span>\n<span class=\"err\">00001101 = 13</span>\n<span class=\"err\">01010101 = 85</span>\n</pre></div>\n\n\n<p>Query:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">SELECT groupBitOr(num) FROM t</span>\n</pre></div>\n\n\n<p>Where <code>num</code> is the column with the test data.</p>\n<p>Result:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">binary     decimal</span>\n<span class=\"err\">01111101 = 125</span>\n</pre></div>\n\n\n<h3 id=\"groupbitxor\">groupBitXor<a class=\"headerlink\" href=\"#groupbitxor\" title=\"Permanent link\">&para;</a></h3>\n<p>Applies bitwise <code>XOR</code> for series of numbers.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">groupBitXor(expr)</span>\n</pre></div>\n\n\n<p><strong>Parameters</strong></p>\n<p><code>expr</code> \u2013 An expression that results in <code>UInt*</code> type.</p>\n<p><strong>Return value</strong></p>\n<p>Value of the <code>UInt*</code> type.</p>\n<p><strong>Example</strong></p>\n<p>Test data:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">binary     decimal</span>\n<span class=\"err\">00101100 = 44</span>\n<span class=\"err\">00011100 = 28</span>\n<span class=\"err\">00001101 = 13</span>\n<span class=\"err\">01010101 = 85</span>\n</pre></div>\n\n\n<p>Query:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">SELECT groupBitXor(num) FROM t</span>\n</pre></div>\n\n\n<p>Where <code>num</code> is the column with the test data.</p>\n<p>Result:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">binary     decimal</span>\n<span class=\"err\">01101000 = 104</span>\n</pre></div>\n\n\n<h3 id=\"groupbitmap\">groupBitmap<a class=\"headerlink\" href=\"#groupbitmap\" title=\"Permanent link\">&para;</a></h3>\n<p>Bitmap or Aggregate calculations from a unsigned integer column, return cardinality of type UInt64, if add suffix -State, then return <a href=\"#../functions/bitmap_functions/\">bitmap object</a>.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">groupBitmap(expr)</span>\n</pre></div>\n\n\n<p><strong>Parameters</strong></p>\n<p><code>expr</code> \u2013 An expression that results in <code>UInt*</code> type.</p>\n<p><strong>Return value</strong></p>\n<p>Value of the <code>UInt64</code> type.</p>\n<p><strong>Example</strong></p>\n<p>Test data:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">userid</span>\n<span class=\"err\">1</span>\n<span class=\"err\">1</span>\n<span class=\"err\">2</span>\n<span class=\"err\">3</span>\n</pre></div>\n\n\n<p>Query:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">SELECT groupBitmap(userid) as num FROM t</span>\n</pre></div>\n\n\n<p>Result:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">num</span>\n<span class=\"err\">3</span>\n</pre></div>\n\n\n<h3 id=\"agg_function-min\">min(x)<a class=\"headerlink\" href=\"#agg_function-min\" title=\"Permanent link\">&para;</a></h3>\n<p>Calculates the minimum.</p>\n<h3 id=\"agg_function-max\">max(x)<a class=\"headerlink\" href=\"#agg_function-max\" title=\"Permanent link\">&para;</a></h3>\n<p>Calculates the maximum.</p>\n<h3 id=\"agg_function-argMin\">argMin(arg, val)<a class=\"headerlink\" href=\"#agg_function-argMin\" title=\"Permanent link\">&para;</a></h3>\n<p>Calculates the 'arg' value for a minimal 'val' value. If there are several different values of 'arg' for minimal values of 'val', the first of these values encountered is output.</p>\n<p><strong>Example:</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500</span><span class=\"k\">user</span><span class=\"err\">\u2500\u2500\u2500\u2500\u2500\u252c\u2500</span><span class=\"n\">salary</span><span class=\"err\">\u2500\u2510</span>\n<span class=\"err\">\u2502</span> <span class=\"n\">director</span> <span class=\"err\">\u2502</span>   <span class=\"mi\">5000</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span> <span class=\"n\">manager</span>  <span class=\"err\">\u2502</span>   <span class=\"mi\">3000</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2502</span> <span class=\"n\">worker</span>   <span class=\"err\">\u2502</span>   <span class=\"mi\">1000</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n\n<span class=\"k\">SELECT</span> <span class=\"n\">argMin</span><span class=\"p\">(</span><span class=\"k\">user</span><span class=\"p\">,</span> <span class=\"n\">salary</span><span class=\"p\">)</span> <span class=\"k\">FROM</span> <span class=\"n\">salary</span>\n\n<span class=\"err\">\u250c\u2500</span><span class=\"n\">argMin</span><span class=\"p\">(</span><span class=\"k\">user</span><span class=\"p\">,</span> <span class=\"n\">salary</span><span class=\"p\">)</span><span class=\"err\">\u2500\u2510</span>\n<span class=\"err\">\u2502</span> <span class=\"n\">worker</span>               <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"agg_function-argMax\">argMax(arg, val)<a class=\"headerlink\" href=\"#agg_function-argMax\" title=\"Permanent link\">&para;</a></h3>\n<p>Calculates the 'arg' value for a maximum 'val' value. If there are several different values of 'arg' for maximum values of 'val', the first of these values encountered is output.</p>\n<h3 id=\"agg_function-sum\">sum(x)<a class=\"headerlink\" href=\"#agg_function-sum\" title=\"Permanent link\">&para;</a></h3>\n<p>Calculates the sum.\nOnly works for numbers.</p>\n<h3 id=\"sumwithoverflow-x\">sumWithOverflow(x)<a class=\"headerlink\" href=\"#sumwithoverflow-x\" title=\"Permanent link\">&para;</a></h3>\n<p>Computes the sum of the numbers, using the same data type for the result as for the input parameters. If the sum exceeds the maximum value for this data type, the function returns an error.</p>\n<p>Only works for numbers.</p>\n<h3 id=\"agg_functions-summap\">sumMap(key, value)<a class=\"headerlink\" href=\"#agg_functions-summap\" title=\"Permanent link\">&para;</a></h3>\n<p>Totals the 'value' array according to the keys specified in the 'key' array.\nThe number of elements in 'key' and 'value' must be the same for each row that is totaled.\nReturns a tuple of two arrays: keys in sorted order, and values \u200b\u200bsummed for the corresponding keys.</p>\n<p>Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">sum_map</span><span class=\"p\">(</span>\n    <span class=\"nb\">date</span> <span class=\"nb\">Date</span><span class=\"p\">,</span>\n    <span class=\"n\">timeslot</span> <span class=\"n\">DateTime</span><span class=\"p\">,</span>\n    <span class=\"n\">statusMap</span> <span class=\"n\">Nested</span><span class=\"p\">(</span>\n        <span class=\"n\">status</span> <span class=\"n\">UInt16</span><span class=\"p\">,</span>\n        <span class=\"n\">requests</span> <span class=\"n\">UInt64</span>\n    <span class=\"p\">)</span>\n<span class=\"p\">)</span> <span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">Log</span><span class=\"p\">;</span>\n<span class=\"k\">INSERT</span> <span class=\"k\">INTO</span> <span class=\"n\">sum_map</span> <span class=\"k\">VALUES</span>\n    <span class=\"p\">(</span><span class=\"s1\">&#39;2000-01-01&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;2000-01-01 00:00:00&#39;</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">]),</span>\n    <span class=\"p\">(</span><span class=\"s1\">&#39;2000-01-01&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;2000-01-01 00:00:00&#39;</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"mi\">5</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">]),</span>\n    <span class=\"p\">(</span><span class=\"s1\">&#39;2000-01-01&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;2000-01-01 00:01:00&#39;</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"mi\">6</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">]),</span>\n    <span class=\"p\">(</span><span class=\"s1\">&#39;2000-01-01&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;2000-01-01 00:01:00&#39;</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"mi\">6</span><span class=\"p\">,</span> <span class=\"mi\">7</span><span class=\"p\">,</span> <span class=\"mi\">8</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">]);</span>\n<span class=\"k\">SELECT</span>\n    <span class=\"n\">timeslot</span><span class=\"p\">,</span>\n    <span class=\"n\">sumMap</span><span class=\"p\">(</span><span class=\"n\">statusMap</span><span class=\"p\">.</span><span class=\"n\">status</span><span class=\"p\">,</span> <span class=\"n\">statusMap</span><span class=\"p\">.</span><span class=\"n\">requests</span><span class=\"p\">)</span>\n<span class=\"k\">FROM</span> <span class=\"n\">sum_map</span>\n<span class=\"k\">GROUP</span> <span class=\"k\">BY</span> <span class=\"n\">timeslot</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500timeslot\u2500\u252c\u2500sumMap(statusMap.status, statusMap.requests)\u2500\u2510</span>\n<span class=\"err\">\u2502 2000-01-01 00:00:00 \u2502 ([1,2,3,4,5],[10,10,20,10,10])               \u2502</span>\n<span class=\"err\">\u2502 2000-01-01 00:01:00 \u2502 ([4,5,6,7,8],[10,10,20,10,10])               \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"agg_function-avg\">avg(x)<a class=\"headerlink\" href=\"#agg_function-avg\" title=\"Permanent link\">&para;</a></h3>\n<p>Calculates the average.\nOnly works for numbers.\nThe result is always Float64.</p>\n<h3 id=\"agg_function-uniq\">uniq(x)<a class=\"headerlink\" href=\"#agg_function-uniq\" title=\"Permanent link\">&para;</a></h3>\n<p>Calculates the approximate number of different values of the argument. Works for numbers, strings, dates, date-with-time, and for multiple arguments and tuple arguments.</p>\n<p>Uses an adaptive sampling algorithm: for the calculation state, it uses a sample of element hash values with a size up to 65536.\nThis algorithm is also very accurate for data sets with low cardinality (up to 65536) and very efficient on CPU (when computing not too many of these functions, using <code>uniq</code> is almost as fast as using other aggregate functions).</p>\n<p>The result is determinate (it doesn't depend on the order of query processing).</p>\n<p>This function provides excellent accuracy even for data sets with extremely high cardinality (over 10 billion elements). It is recommended for default use.</p>\n<h3 id=\"uniqcombined-hll-precision-x\">uniqCombined(HLL_precision)(x)<a class=\"headerlink\" href=\"#uniqcombined-hll-precision-x\" title=\"Permanent link\">&para;</a></h3>\n<p>Calculates the approximate number of different values of the argument. Works for numbers, strings, dates, date-with-time, and for multiple arguments and tuple arguments.</p>\n<p>A combination of three algorithms is used: array, hash table and <a href=\"https://en.wikipedia.org/wiki/HyperLogLog\" rel=\"external nofollow\">HyperLogLog</a> with an error correction table. For small number of distinct elements, the array is used. When the set size becomes larger the hash table is used, while it is smaller than HyperLogLog data structure. For larger number of elements, the HyperLogLog is used, and it will occupy fixed amount of memory.</p>\n<p>The parameter \"HLL_precision\" is the base-2 logarithm of the number of cells in HyperLogLog. You can omit the parameter (omit first parens). The default value is 17, that is effectively 96 KiB of space (2^17 cells of 6 bits each). The memory consumption is several times smaller than for the <code>uniq</code> function, and the accuracy is several times higher. Performance is slightly lower than for the <code>uniq</code> function, but sometimes it can be even higher than it, such as with distributed queries that transmit a large number of aggregation states over the network.</p>\n<p>The result is deterministic (it doesn't depend on the order of query processing).</p>\n<p>The <code>uniqCombined</code> function is a good default choice for calculating the number of different values, but keep in mind that the estimation error for large sets (200 million elements and more) will become larger than theoretical value due to poor choice of hash function.</p>\n<h3 id=\"uniqhll12-x\">uniqHLL12(x)<a class=\"headerlink\" href=\"#uniqhll12-x\" title=\"Permanent link\">&para;</a></h3>\n<p>Uses the <a href=\"https://en.wikipedia.org/wiki/HyperLogLog\" rel=\"external nofollow\">HyperLogLog</a> algorithm to approximate the number of different values of the argument.\n212 5-bit cells are used. The size of the state is slightly more than 2.5 KB. The result is not very accurate (up to ~10% error) for small data sets (&lt;10K elements). However, the result is fairly accurate for high-cardinality data sets (10K-100M), with a maximum error of ~1.6%. Starting from 100M, the estimation error increases, and the function will return very inaccurate results for data sets with extremely high cardinality (1B+ elements).</p>\n<p>The result is determinate (it doesn't depend on the order of query processing).</p>\n<p>We don't recommend using this function. In most cases, use the <code>uniq</code> or <code>uniqCombined</code> function.</p>\n<h3 id=\"uniqexact-x\">uniqExact(x)<a class=\"headerlink\" href=\"#uniqexact-x\" title=\"Permanent link\">&para;</a></h3>\n<p>Calculates the number of different values of the argument, exactly.\nThere is no reason to fear approximations. It's better to use the <code>uniq</code> function.\nUse the <code>uniqExact</code> function if you definitely need an exact result.</p>\n<p>The <code>uniqExact</code> function uses more memory than the <code>uniq</code> function, because the size of the state has unbounded growth as the number of different values increases.</p>\n<h3 id=\"grouparray-x-grouparray-max-size-x\">groupArray(x), groupArray(max_size)(x)<a class=\"headerlink\" href=\"#grouparray-x-grouparray-max-size-x\" title=\"Permanent link\">&para;</a></h3>\n<p>Creates an array of argument values.\nValues can be added to the array in any (indeterminate) order.</p>\n<p>The second version (with the <code>max_size</code> parameter) limits the size of the resulting array to <code>max_size</code> elements.\nFor example, <code>groupArray (1) (x)</code> is equivalent to <code>[any (x)]</code>.</p>\n<p>In some cases, you can still rely on the order of execution. This applies to cases when <code>SELECT</code> comes from a subquery that uses <code>ORDER BY</code>.</p>\n<h3 id=\"grouparrayinsertat-x\">groupArrayInsertAt(x)<a class=\"headerlink\" href=\"#grouparrayinsertat-x\" title=\"Permanent link\">&para;</a></h3>\n<p>Inserts a value into the array in the specified position.</p>\n<p>Accepts the value and position as input. If several values \u200b\u200bare inserted into the same position, any of them might end up in the resulting array (the first one will be used in the case of single-threaded execution). If no value is inserted into a position, the position is assigned the default value.</p>\n<p>Optional parameters:</p>\n<ul>\n<li>The default value for substituting in empty positions.</li>\n<li>The length of the resulting array. This allows you to receive arrays of the same size for all the aggregate keys. When using this parameter, the default value must be specified.</li>\n</ul>\n<h3 id=\"groupuniqarray-x-groupuniqarray-max-size-x\">groupUniqArray(x), groupUniqArray(max_size)(x)<a class=\"headerlink\" href=\"#groupuniqarray-x-groupuniqarray-max-size-x\" title=\"Permanent link\">&para;</a></h3>\n<p>Creates an array from different argument values. Memory consumption is the same as for the <code>uniqExact</code> function.</p>\n<p>The second version (with the <code>max_size</code> parameter) limits the size of the resulting array to <code>max_size</code> elements.\nFor example, <code>groupUniqArray (1) (x)</code> is equivalent to <code>[any (x)]</code>.</p>\n<h3 id=\"quantile-level-x\">quantile(level)(x)<a class=\"headerlink\" href=\"#quantile-level-x\" title=\"Permanent link\">&para;</a></h3>\n<p>Approximates the <code>level</code> quantile. <code>level</code> is a constant, a floating-point number from 0 to 1.\nWe recommend using a <code>level</code> value in the range of <code>[0.01, 0.99]</code>\nDon't use a <code>level</code> value equal to 0 or 1 \u2013 use the <code>min</code> and <code>max</code> functions for these cases.</p>\n<p>In this function, as well as in all functions for calculating quantiles, the <code>level</code> parameter can be omitted. In this case, it is assumed to be equal to 0.5 (in other words, the function will calculate the median).</p>\n<p>Works for numbers, dates, and dates with times.\nReturns: for numbers \u2013 <code>Float64</code>; for dates \u2013 a date; for dates with times \u2013 a date with time.</p>\n<p>Uses <a href=\"https://en.wikipedia.org/wiki/Reservoir_sampling\" rel=\"external nofollow\">reservoir sampling</a> with a reservoir size up to 8192.\nIf necessary, the result is output with linear approximation from the two neighboring values.\nThis algorithm provides very low accuracy. See also: <code>quantileTiming</code>, <code>quantileTDigest</code>, <code>quantileExact</code>.</p>\n<p>The result depends on the order of running the query, and is nondeterministic.</p>\n<p>When using multiple <code>quantile</code> (and similar) functions with different levels in a query, the internal states are not combined (that is, the query works less efficiently than it could). In this case, use the <code>quantiles</code> (and similar) functions.</p>\n<h3 id=\"quantiledeterministic-level-x-determinator\">quantileDeterministic(level)(x, determinator)<a class=\"headerlink\" href=\"#quantiledeterministic-level-x-determinator\" title=\"Permanent link\">&para;</a></h3>\n<p>Works the same way as the <code>quantile</code> function, but the result is deterministic and does not depend on the order of query execution.</p>\n<p>To achieve this, the function takes a second argument \u2013 the \"determinator\". This is a number whose hash is used instead of a random number generator in the reservoir sampling algorithm. For the function to work correctly, the same determinator value should not occur too often. For the determinator, you can use an event ID, user ID, and so on.</p>\n<p>Don't use this function for calculating timings. There is a more suitable function for this purpose: <code>quantileTiming</code>.</p>\n<h3 id=\"quantiletiming-level-x\">quantileTiming(level)(x)<a class=\"headerlink\" href=\"#quantiletiming-level-x\" title=\"Permanent link\">&para;</a></h3>\n<p>Computes the quantile of 'level' with a fixed precision.\nWorks for numbers. Intended for calculating quantiles of page loading time in milliseconds.</p>\n<p>If the value is greater than 30,000 (a page loading time of more than 30 seconds), the result is equated to 30,000.</p>\n<p>If the total value is not more than about 5670, then the calculation is accurate.</p>\n<p>Otherwise:</p>\n<ul>\n<li>if the time is less than 1024 ms, then the calculation is accurate.</li>\n<li>otherwise the calculation is rounded to a multiple of 16 ms.</li>\n</ul>\n<p>When passing negative values to the function, the behavior is undefined.</p>\n<p>The returned value has the Float32 type. If no values were passed to the function (when using <code>quantileTimingIf</code>), 'nan' is returned. The purpose of this is to differentiate these instances from zeros. See the note on sorting NaNs in \"ORDER BY clause\".</p>\n<p>The result is determinate (it doesn't depend on the order of query processing).</p>\n<p>For its purpose (calculating quantiles of page loading times), using this function is more effective and the result is more accurate than for the <code>quantile</code> function.</p>\n<h3 id=\"quantiletimingweighted-level-x-weight\">quantileTimingWeighted(level)(x, weight)<a class=\"headerlink\" href=\"#quantiletimingweighted-level-x-weight\" title=\"Permanent link\">&para;</a></h3>\n<p>Differs from the <code>quantileTiming</code> function in that it has a second argument, \"weights\". Weight is a non-negative integer.\nThe result is calculated as if the <code>x</code> value were passed <code>weight</code> number of times to the <code>quantileTiming</code> function.</p>\n<h3 id=\"quantileexact-level-x\">quantileExact(level)(x)<a class=\"headerlink\" href=\"#quantileexact-level-x\" title=\"Permanent link\">&para;</a></h3>\n<p>Computes the quantile of 'level' exactly. To do this, all the passed values \u200b\u200bare combined into an array, which is then partially sorted. Therefore, the function consumes O(n) memory, where 'n' is the number of values that were passed. However, for a small number of values, the function is very effective.</p>\n<h3 id=\"quantileexactweighted-level-x-weight\">quantileExactWeighted(level)(x, weight)<a class=\"headerlink\" href=\"#quantileexactweighted-level-x-weight\" title=\"Permanent link\">&para;</a></h3>\n<p>Computes the quantile of 'level' exactly. In addition, each value is counted with its weight, as if it is present 'weight' times. The arguments of the function can be considered as histograms, where the value 'x' corresponds to a histogram \"column\" of the height 'weight', and the function itself can be considered as a summation of histograms.</p>\n<p>A hash table is used as the algorithm. Because of this, if the passed values \u200b\u200bare frequently repeated, the function consumes less RAM than <code>quantileExact</code>. You can use this function instead of <code>quantileExact</code> and specify the weight as 1.</p>\n<h3 id=\"quantiletdigest-level-x\">quantileTDigest(level)(x)<a class=\"headerlink\" href=\"#quantiletdigest-level-x\" title=\"Permanent link\">&para;</a></h3>\n<p>Approximates the quantile level using the <a href=\"https://github.com/tdunning/t-digest/blob/master/docs/t-digest-paper/histo.pdf\" rel=\"external nofollow\">t-digest</a> algorithm. The maximum error is 1%. Memory consumption by State is proportional to the logarithm of the number of passed values.</p>\n<p>The performance of the function is lower than for <code>quantile</code> or <code>quantileTiming</code>. In terms of the ratio of State size to precision, this function is much better than <code>quantile</code>.</p>\n<p>The result depends on the order of running the query, and is nondeterministic.</p>\n<h3 id=\"median-x\">median(x)<a class=\"headerlink\" href=\"#median-x\" title=\"Permanent link\">&para;</a></h3>\n<p>All the quantile functions have corresponding median functions: <code>median</code>, <code>medianDeterministic</code>, <code>medianTiming</code>, <code>medianTimingWeighted</code>, <code>medianExact</code>, <code>medianExactWeighted</code>, <code>medianTDigest</code>. They are synonyms and their behavior is identical.</p>\n<h3 id=\"quantiles-level1-level2-x\">quantiles(level1, level2, ...)(x)<a class=\"headerlink\" href=\"#quantiles-level1-level2-x\" title=\"Permanent link\">&para;</a></h3>\n<p>All the quantile functions also have corresponding quantiles functions: <code>quantiles</code>, <code>quantilesDeterministic</code>, <code>quantilesTiming</code>, <code>quantilesTimingWeighted</code>, <code>quantilesExact</code>, <code>quantilesExactWeighted</code>, <code>quantilesTDigest</code>. These functions calculate all the quantiles of the listed levels in one pass, and return an array of the resulting values.</p>\n<h3 id=\"varsamp-x\">varSamp(x)<a class=\"headerlink\" href=\"#varsamp-x\" title=\"Permanent link\">&para;</a></h3>\n<p>Calculates the amount <code>\u03a3((x - x\u0305)^2) / (n - 1)</code>, where <code>n</code> is the sample size and <code>x\u0305</code>is the average value of <code>x</code>.</p>\n<p>It represents an unbiased estimate of the variance of a random variable, if the values passed to the function are a sample of this random amount.</p>\n<p>Returns <code>Float64</code>. When <code>n &lt;= 1</code>, returns <code>+\u221e</code>.</p>\n<h3 id=\"varpop-x\">varPop(x)<a class=\"headerlink\" href=\"#varpop-x\" title=\"Permanent link\">&para;</a></h3>\n<p>Calculates the amount <code>\u03a3((x - x\u0305)^2) / n</code>, where <code>n</code> is the sample size and <code>x\u0305</code>is the average value of <code>x</code>.</p>\n<p>In other words, dispersion for a set of values. Returns <code>Float64</code>.</p>\n<h3 id=\"stddevsamp-x\">stddevSamp(x)<a class=\"headerlink\" href=\"#stddevsamp-x\" title=\"Permanent link\">&para;</a></h3>\n<p>The result is equal to the square root of <code>varSamp(x)</code>.</p>\n<h3 id=\"stddevpop-x\">stddevPop(x)<a class=\"headerlink\" href=\"#stddevpop-x\" title=\"Permanent link\">&para;</a></h3>\n<p>The result is equal to the square root of <code>varPop(x)</code>.</p>\n<h3 id=\"topk-n-column\">topK(N)(column)<a class=\"headerlink\" href=\"#topk-n-column\" title=\"Permanent link\">&para;</a></h3>\n<p>Returns an array of the most frequent values in the specified column. The resulting array is sorted in descending order of frequency of values (not by the values themselves).</p>\n<p>Implements the <a href=\"http://www.l2f.inesc-id.pt/~fmmb/wiki/uploads/Work/misnis.ref0a.pdf\" rel=\"external nofollow\"> Filtered Space-Saving</a> algorithm for analyzing TopK, based on the reduce-and-combine algorithm from <a href=\"https://arxiv.org/pdf/1401.0702.pdf\" rel=\"external nofollow\">Parallel Space Saving</a>.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">topK(N)(column)</span>\n</pre></div>\n\n\n<p>This function doesn't provide a guaranteed result. In certain situations, errors might occur and it might return frequent values that aren't the most frequent values.</p>\n<p>We recommend using the <code>N &lt; 10</code> value; performance is reduced with large <code>N</code> values. Maximum value of <code>N = 65536</code>.</p>\n<p><strong>Arguments</strong></p>\n<ul>\n<li>'N' is the number of values.</li>\n<li>' x ' \u2013 The column.</li>\n</ul>\n<p><strong>Example</strong></p>\n<p>Take the <a href=\"#../../getting_started/example_datasets/ontime/\">OnTime</a> data set and select the three most frequently occurring values in the <code>AirlineID</code> column.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">topK</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">)(</span><span class=\"n\">AirlineID</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">res</span>\n<span class=\"k\">FROM</span> <span class=\"n\">ontime</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500res\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510</span>\n<span class=\"err\">\u2502 [19393,19790,19805] \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"covarsamp-x-y\">covarSamp(x, y)<a class=\"headerlink\" href=\"#covarsamp-x-y\" title=\"Permanent link\">&para;</a></h3>\n<p>Calculates the value of <code>\u03a3((x - x\u0305)(y - y\u0305)) / (n - 1)</code>.</p>\n<p>Returns Float64. When <code>n &lt;= 1</code>, returns +\u221e.</p>\n<h3 id=\"covarpop-x-y\">covarPop(x, y)<a class=\"headerlink\" href=\"#covarpop-x-y\" title=\"Permanent link\">&para;</a></h3>\n<p>Calculates the value of <code>\u03a3((x - x\u0305)(y - y\u0305)) / n</code>.</p>\n<h3 id=\"corr-x-y\">corr(x, y)<a class=\"headerlink\" href=\"#corr-x-y\" title=\"Permanent link\">&para;</a></h3>\n<p>Calculates the Pearson correlation coefficient: <code>\u03a3((x - x\u0305)(y - y\u0305)) / sqrt(\u03a3((x - x\u0305)^2) * \u03a3((y - y\u0305)^2))</code>.</p>\n<h3 id=\"simplelinearregression\">simpleLinearRegression<a class=\"headerlink\" href=\"#simplelinearregression\" title=\"Permanent link\">&para;</a></h3>\n<p>Performs simple (unidimensional) linear regression.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">simpleLinearRegression(x, y)</span>\n</pre></div>\n\n\n<p>Parameters:</p>\n<ul>\n<li><code>x</code> \u2014 Column with values of dependent variable.</li>\n<li><code>y</code> \u2014 Column with explanatory variable.</li>\n</ul>\n<p>Returned values:</p>\n<p>Parameters <code>(a, b)</code> of the resulting line <code>x = a*y + b</code>.</p>\n<p><strong>Examples</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">arrayReduce</span><span class=\"p\">(</span><span class=\"s1\">&#39;simpleLinearRegression&#39;</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">])</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span>\u250c\u2500arrayReduce(&#39;simpleLinearRegression&#39;, [0, 1, 2, 3], [0, 1, 2, 3])\u2500\u2510\n\u2502 (1,0)                                                             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"n\">arrayReduce</span><span class=\"p\">(</span><span class=\"s1\">&#39;simpleLinearRegression&#39;</span><span class=\"p\">,</span> <span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">],</span> <span class=\"p\">[</span><span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">,</span> <span class=\"mi\">5</span><span class=\"p\">,</span> <span class=\"mi\">6</span><span class=\"p\">])</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span>\u250c\u2500arrayReduce(&#39;simpleLinearRegression&#39;, [0, 1, 2, 3], [3, 4, 5, 6])\u2500\u2510\n\u2502 (1,3)                                                             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</pre></div>\n\n\n<p><a name=\"combinators/\"></a>\n<a name=\"../../../query_language/agg_functions/combinators/\"></a>\n<a name=\"../../../../../../agg_functions/combinators/\"></a>\n<a name=\"query_language/agg_functions/combinators/\"></a>\n<a name=\"../agg_functions/combinators/\"></a>\n<a name=\"agg_functions/combinators/\"></a>\n<a name=\"../../query_language/agg_functions/combinators/\"></a>\n<a name=\"../query_language/agg_functions/combinators/\"></a>\n<a name=\"../../../../agg_functions/combinators/\"></a>\n<a name=\"../../../../../query_language/agg_functions/combinators/\"></a>\n<a name=\"../../agg_functions/combinators/\"></a>\n<a name=\"../../../agg_functions/combinators/\"></a>\n<a name=\"../../../../../agg_functions/combinators/\"></a>\n<a name=\"../../../../query_language/agg_functions/combinators/\"></a></p>\n<h2 id=\"aggregate_functions_combinators\">Aggregate function combinators<a class=\"headerlink\" href=\"#aggregate_functions_combinators\" title=\"Permanent link\">&para;</a></h2>\n<p>The name of an aggregate function can have a suffix appended to it. This changes the way the aggregate function works.</p>\n<h3 id=\"agg-functions-combinator-if\">-If<a class=\"headerlink\" href=\"#agg-functions-combinator-if\" title=\"Permanent link\">&para;</a></h3>\n<p>The suffix -If can be appended to the name of any aggregate function. In this case, the aggregate function accepts an extra argument \u2013 a condition (Uint8 type). The aggregate function processes only the rows that trigger the condition. If the condition was not triggered even once, it returns a default value (usually zeros or empty strings).</p>\n<p>Examples: <code>sumIf(column, cond)</code>, <code>countIf(cond)</code>, <code>avgIf(x, cond)</code>, <code>quantilesTimingIf(level1, level2)(x, cond)</code>, <code>argMinIf(arg, val, cond)</code> and so on.</p>\n<p>With conditional aggregate functions, you can calculate aggregates for several conditions at once, without using subqueries and <code>JOIN</code>s. For example, in Yandex.Metrica, conditional aggregate functions are used to implement the segment comparison functionality.</p>\n<h3 id=\"array\">-Array<a class=\"headerlink\" href=\"#array\" title=\"Permanent link\">&para;</a></h3>\n<p>The -Array suffix can be appended to any aggregate function. In this case, the aggregate function takes arguments of the 'Array(T)' type (arrays) instead of 'T' type arguments. If the aggregate function accepts multiple arguments, this must be arrays of equal lengths. When processing arrays, the aggregate function works like the original aggregate function across all array elements.</p>\n<p>Example 1: <code>sumArray(arr)</code> - Totals all the elements of all 'arr' arrays. In this example, it could have been written more simply: <code>sum(arraySum(arr))</code>.</p>\n<p>Example 2: <code>uniqArray(arr)</code> \u2013 Count the number of unique elements in all 'arr' arrays. This could be done an easier way: <code>uniq(arrayJoin(arr))</code>, but it's not always possible to add 'arrayJoin' to a query.</p>\n<p>-If and -Array can be combined. However, 'Array' must come first, then 'If'. Examples: <code>uniqArrayIf(arr, cond)</code>, <code>quantilesTimingArrayIf(level1, level2)(arr, cond)</code>. Due to this order, the 'cond' argument can't be an array.</p>\n<h3 id=\"state\">-State<a class=\"headerlink\" href=\"#state\" title=\"Permanent link\">&para;</a></h3>\n<p>If you apply this combinator, the aggregate function doesn't return the resulting value (such as the number of unique values for the <code>uniq</code> function), but an intermediate state of the aggregation (for <code>uniq</code>, this is the hash table for calculating the number of unique values). This is an AggregateFunction(...) that can be used for further processing or stored in a table to finish aggregating later. See the sections \"AggregatingMergeTree\" and \"Functions for working with intermediate aggregation states\".</p>\n<h3 id=\"merge_1\">-Merge<a class=\"headerlink\" href=\"#merge_1\" title=\"Permanent link\">&para;</a></h3>\n<p>If you apply this combinator, the aggregate function takes the intermediate aggregation state as an argument, combines the states to finish aggregation, and returns the resulting value.</p>\n<h3 id=\"mergestate\">-MergeState.<a class=\"headerlink\" href=\"#mergestate\" title=\"Permanent link\">&para;</a></h3>\n<p>Merges the intermediate aggregation states in the same way as the -Merge combinator. However, it doesn't return the resulting value, but an intermediate aggregation state, similar to the -State combinator.</p>\n<h3 id=\"foreach\">-ForEach<a class=\"headerlink\" href=\"#foreach\" title=\"Permanent link\">&para;</a></h3>\n<p>Converts an aggregate function for tables into an aggregate function for arrays that aggregates the corresponding array items and returns an array of results. For example, <code>sumForEach</code> for the arrays <code>[1, 2]</code>, <code>[3, 4, 5]</code>and<code>[6, 7]</code>returns the result <code>[10, 13, 5]</code> after adding together the corresponding array items.</p>\n<p><a name=\"../../agg_functions/parametric_functions/\"></a>\n<a name=\"query_language/agg_functions/parametric_functions/\"></a>\n<a name=\"../../../agg_functions/parametric_functions/\"></a>\n<a name=\"../../query_language/agg_functions/parametric_functions/\"></a>\n<a name=\"parametric_functions/\"></a>\n<a name=\"agg_functions/parametric_functions/\"></a>\n<a name=\"../../../../agg_functions/parametric_functions/\"></a>\n<a name=\"../../../../../query_language/agg_functions/parametric_functions/\"></a>\n<a name=\"../../../query_language/agg_functions/parametric_functions/\"></a>\n<a name=\"../../../../../../agg_functions/parametric_functions/\"></a>\n<a name=\"../../../../../agg_functions/parametric_functions/\"></a>\n<a name=\"../agg_functions/parametric_functions/\"></a>\n<a name=\"../../../../query_language/agg_functions/parametric_functions/\"></a>\n<a name=\"../query_language/agg_functions/parametric_functions/\"></a></p>\n<h2 id=\"aggregate_functions_parametric\">Parametric aggregate functions<a class=\"headerlink\" href=\"#aggregate_functions_parametric\" title=\"Permanent link\">&para;</a></h2>\n<p>Some aggregate functions can accept not only argument columns (used for compression), but a set of parameters \u2013 constants for initialization. The syntax is two pairs of brackets instead of one. The first is for parameters, and the second is for arguments.</p>\n<h3 id=\"sequencematch-pattern-time-cond1-cond2\">sequenceMatch(pattern)(time, cond1, cond2, ...)<a class=\"headerlink\" href=\"#sequencematch-pattern-time-cond1-cond2\" title=\"Permanent link\">&para;</a></h3>\n<p>Pattern matching for event chains.</p>\n<p><code>pattern</code> is a string containing a pattern to match. The pattern is similar to a regular expression.</p>\n<p><code>time</code> is the time of the event with the DateTime type.</p>\n<p><code>cond1</code>, <code>cond2</code> ... is from one to 32 arguments of type UInt8 that indicate whether a certain condition was met for the event.</p>\n<p>The function collects a sequence of events in RAM. Then it checks whether this sequence matches the pattern.\nIt returns UInt8: 0 if the pattern isn't matched, or 1 if it matches.</p>\n<p>Example: <code>sequenceMatch ('(?1).*(?2)')(EventTime, URL LIKE '%company%', URL LIKE '%cart%')</code></p>\n<ul>\n<li>whether there was a chain of events in which a pageview with 'company' in the address occurred earlier than a pageview with 'cart' in the address.</li>\n</ul>\n<p>This is a singular example. You could write it using other aggregate functions:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">minIf(EventTime, URL LIKE &#39;%company%&#39;) &lt; maxIf(EventTime, URL LIKE &#39;%cart%&#39;).</span>\n</pre></div>\n\n\n<p>However, there is no such solution for more complex situations.</p>\n<p>Pattern syntax:</p>\n<p><code>(?1)</code> refers to the condition (any number can be used in place of 1).</p>\n<p><code>.*</code> is any number of any events.</p>\n<p><code>(?t&gt;=1800)</code> is a time condition.</p>\n<p>Any quantity of any type of events is allowed over the specified time.</p>\n<p>Instead of <code>&gt;=</code>, the following operators can be used:<code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>.</p>\n<p>Any number may be specified in place of 1800.</p>\n<p>Events that occur during the same second can be put in the chain in any order. This may affect the result of the function.</p>\n<h3 id=\"sequencecount-pattern-time-cond1-cond2\">sequenceCount(pattern)(time, cond1, cond2, ...)<a class=\"headerlink\" href=\"#sequencecount-pattern-time-cond1-cond2\" title=\"Permanent link\">&para;</a></h3>\n<p>Works the same way as the sequenceMatch function, but instead of returning whether there is an event chain, it returns UInt64 with the number of event chains found.\nChains are searched for without overlapping. In other words, the next chain can start only after the end of the previous one.</p>\n<h3 id=\"windowfunnel-window-timestamp-cond1-cond2-cond3\">windowFunnel(window)(timestamp, cond1, cond2, cond3, ...)<a class=\"headerlink\" href=\"#windowfunnel-window-timestamp-cond1-cond2-cond3\" title=\"Permanent link\">&para;</a></h3>\n<p>Searches for event chains in a sliding time window and calculates the maximum number of events that occurred from the chain.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">windowFunnel(window)(timestamp, cond1, cond2, cond3, ...)</span>\n</pre></div>\n\n\n<p><strong>Parameters:</strong></p>\n<ul>\n<li><code>window</code> \u2014 Length of the sliding window in seconds.</li>\n<li><code>timestamp</code> \u2014 Name of the column containing the timestamp. Data type: <a href=\"#../../data_types/datetime/\">DateTime</a> or <a href=\"#../../data_types/int_uint/\">UInt32</a>.</li>\n<li><code>cond1</code>, <code>cond2</code>... \u2014 Conditions or data describing the chain of events. Data type: <code>UInt8</code>. Values can be 0 or 1.</li>\n</ul>\n<p><strong>Algorithm</strong></p>\n<ul>\n<li>The function searches for data that triggers the first condition in the chain and sets the event counter to 1. This is the moment when the sliding window starts.</li>\n<li>If events from the chain occur sequentially within the window, the counter is incremented. If the sequence of events is disrupted, the counter isn't incremented.</li>\n<li>If the data has multiple event chains at varying points of completion, the function will only output the size of the longest chain.</li>\n</ul>\n<p><strong>Returned value</strong></p>\n<ul>\n<li>Integer. The maximum number of consecutive triggered conditions from the chain within the sliding time window. All the chains in the selection are analyzed.</li>\n</ul>\n<p><strong>Example</strong></p>\n<p>Determine if one hour is enough for the user to select a phone and purchase it in the online store.</p>\n<p>Set the following chain of events:</p>\n<ol>\n<li>The user logged in to their account on the store (<code>eventID=1001</code>).</li>\n<li>The user searches for a phone (<code>eventID = 1003, product = 'phone'</code>).</li>\n<li>The user placed an order (<code>eventID = 1009</code>).</li>\n</ol>\n<p>To find out how far the user <code>user_id</code> could get through the chain in an hour in January of 2017, make the query:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">SELECT</span>\n<span class=\"err\">    level,</span>\n<span class=\"err\">    count() AS c</span>\n<span class=\"err\">FROM</span>\n<span class=\"err\">(</span>\n<span class=\"err\">    SELECT</span>\n<span class=\"err\">        user_id,</span>\n<span class=\"err\">        windowFunnel(3600)(timestamp, eventID = 1001, eventID = 1003 AND product = &#39;phone&#39;, eventID = 1009) AS level</span>\n<span class=\"err\">    FROM trend_event</span>\n<span class=\"err\">    WHERE (event_date &gt;= &#39;2017-01-01&#39;) AND (event_date &lt;= &#39;2017-01-31&#39;)</span>\n<span class=\"err\">    GROUP BY user_id</span>\n<span class=\"err\">)</span>\n<span class=\"err\">GROUP BY level</span>\n<span class=\"err\">ORDER BY level</span>\n</pre></div>\n\n\n<p>Simply, the level value could only be 0, 1, 2, 3, it means the maxium event action stage that one user could reach.</p>\n<h3 id=\"retention-cond1-cond2\">retention(cond1, cond2, ...)<a class=\"headerlink\" href=\"#retention-cond1-cond2\" title=\"Permanent link\">&para;</a></h3>\n<p>Retention refers to the ability of a company or product to retain its customers over some specified periods.</p>\n<p><code>cond1</code>, <code>cond2</code> ... is from one to 32 arguments of type UInt8 that indicate whether a certain condition was met for the event</p>\n<p>Example:</p>\n<p>Consider you are doing a website analytics, intend to calculate the retention of customers</p>\n<p>This could be easily calculate by <code>retention</code></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">SELECT</span>\n<span class=\"err\">    sum(r[1]) AS r1,</span>\n<span class=\"err\">    sum(r[2]) AS r2,</span>\n<span class=\"err\">    sum(r[3]) AS r3</span>\n<span class=\"err\">FROM</span>\n<span class=\"err\">(</span>\n<span class=\"err\">    SELECT</span>\n<span class=\"err\">        uid,</span>\n<span class=\"err\">        retention(date = &#39;2018-08-10&#39;, date = &#39;2018-08-11&#39;, date = &#39;2018-08-12&#39;) AS r</span>\n<span class=\"err\">    FROM events</span>\n<span class=\"err\">    WHERE date IN (&#39;2018-08-10&#39;, &#39;2018-08-11&#39;, &#39;2018-08-12&#39;)</span>\n<span class=\"err\">    GROUP BY uid</span>\n<span class=\"err\">)</span>\n</pre></div>\n\n\n<p>Simply, <code>r1</code> means the number of unique visitors who met the <code>cond1</code> condition, <code>r2</code> means the number of unique visitors who met <code>cond1</code> and <code>cond2</code> conditions, <code>r3</code> means the number of unique visitors who met <code>cond1</code> and <code>cond3</code> conditions.</p>\n<h3 id=\"uniqupto-n-x\">uniqUpTo(N)(x)<a class=\"headerlink\" href=\"#uniqupto-n-x\" title=\"Permanent link\">&para;</a></h3>\n<p>Calculates the number of different argument values \u200b\u200bif it is less than or equal to N. If the number of different argument values is greater than N, it returns N + 1.</p>\n<p>Recommended for use with small Ns, up to 10. The maximum value of N is 100.</p>\n<p>For the state of an aggregate function, it uses the amount of memory equal to 1 + N * the size of one value of bytes.\nFor strings, it stores a non-cryptographic hash of 8 bytes. That is, the calculation is approximated for strings.</p>\n<p>The function also works for several arguments.</p>\n<p>It works as fast as possible, except for cases when a large N value is used and the number of unique values is slightly less than N.</p>\n<p>Usage example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">Problem</span><span class=\"o\">:</span> <span class=\"n\">Generate</span> <span class=\"n\">a</span> <span class=\"n\">report</span> <span class=\"n\">that</span> <span class=\"n\">shows</span> <span class=\"n\">only</span> <span class=\"n\">keywords</span> <span class=\"n\">that</span> <span class=\"n\">produced</span> <span class=\"n\">at</span> <span class=\"n\">least</span> <span class=\"mi\">5</span> <span class=\"n\">unique</span> <span class=\"n\">users</span><span class=\"o\">.</span>\n<span class=\"n\">Solution</span><span class=\"o\">:</span> <span class=\"n\">Write</span> <span class=\"k\">in</span> <span class=\"n\">the</span> <span class=\"n\">GROUP</span> <span class=\"n\">BY</span> <span class=\"n\">query</span> <span class=\"n\">SearchPhrase</span> <span class=\"n\">HAVING</span> <span class=\"n\">uniqUpTo</span><span class=\"o\">(</span><span class=\"mi\">4</span><span class=\"o\">)(</span><span class=\"n\">UserID</span><span class=\"o\">)</span> <span class=\"o\">&gt;=</span> <span class=\"mi\">5</span>\n</pre></div>\n\n\n<h3 id=\"summapfiltered-keys-to-keep-keys-values\">sumMapFiltered(keys_to_keep)(keys, values)<a class=\"headerlink\" href=\"#summapfiltered-keys-to-keep-keys-values\" title=\"Permanent link\">&para;</a></h3>\n<p>Same behavior as <a href=\"#agg_functions-summap\">sumMap</a> except that an array of keys is passed as a parameter. This can be especially useful when working with a high cardinality of keys.\n<a name=\"../query_language/table_functions/\"></a>\n<a name=\"table_functions/\"></a>\n<a name=\"../../../../../query_language/table_functions/\"></a>\n<a name=\"../../query_language/table_functions/\"></a>\n<a name=\"query_language/table_functions/\"></a>\n<a name=\"../../../../query_language/table_functions/\"></a>\n<a name=\"../../../query_language/table_functions/\"></a></p>\n<h2 id=\"table-functions\">Table functions<a class=\"headerlink\" href=\"#table-functions\" title=\"Permanent link\">&para;</a></h2>\n<p>Table functions can be specified in the FROM clause instead of the database and table names.\nTable functions can only be used if 'readonly' is not set.\nTable functions aren't related to other functions.</p>\n<p><a name=\"../../../../table_functions/file/\"></a>\n<a name=\"../query_language/table_functions/file/\"></a>\n<a name=\"../../../query_language/table_functions/file/\"></a>\n<a name=\"../table_functions/file/\"></a>\n<a name=\"query_language/table_functions/file/\"></a>\n<a name=\"../../../../query_language/table_functions/file/\"></a>\n<a name=\"../../query_language/table_functions/file/\"></a>\n<a name=\"table_functions/file/\"></a>\n<a name=\"../../../../../query_language/table_functions/file/\"></a>\n<a name=\"../../../../../../table_functions/file/\"></a>\n<a name=\"../../../../../table_functions/file/\"></a>\n<a name=\"../../../table_functions/file/\"></a>\n<a name=\"file/\"></a>\n<a name=\"../../table_functions/file/\"></a></p>\n<h2 id=\"file\">file<a class=\"headerlink\" href=\"#file\" title=\"Permanent link\">&para;</a></h2>\n<p>Creates a table from a file.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">file(path, format, structure)</span>\n</pre></div>\n\n\n<p><strong>Input parameters</strong></p>\n<ul>\n<li><code>path</code> \u2014 The relative path to the file from <a href=\"#server_settings-user_files_path\">user_files_path</a>.</li>\n<li><code>format</code> \u2014  The <a href=\"#formats\">format</a> of the file.</li>\n<li><code>structure</code> \u2014 Structure of the table. Format <code>'colunmn1_name column1_ype, column2_name column2_type, ...'</code>.</li>\n</ul>\n<p><strong>Returned value</strong></p>\n<p>A table with the specified structure for reading or writing data in the specified file.</p>\n<p><strong>Example</strong></p>\n<p>Setting <code>user_files_path</code> and the contents of the file <code>test.csv</code>:</p>\n<div class=\"codehilite\"><pre><span></span>$ grep user_files_path /etc/clickhouse-server/config.xml\n    &lt;user_files_path&gt;/var/lib/clickhouse/user_files/&lt;/user_files_path&gt;\n\n$ cat /var/lib/clickhouse/user_files/test.csv\n    <span class=\"m\">1</span>,2,3\n    <span class=\"m\">3</span>,2,1\n    <span class=\"m\">78</span>,43,45\n</pre></div>\n\n\n<p>Table from<code>test.csv</code> and selection of the first two rows from it:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"o\">*</span>\n<span class=\"k\">FROM</span> <span class=\"n\">file</span><span class=\"p\">(</span><span class=\"s1\">&#39;test.csv&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;CSV&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;column1 UInt32, column2 UInt32, column3 UInt32&#39;</span><span class=\"p\">)</span>\n<span class=\"k\">LIMIT</span> <span class=\"mi\">2</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500column1\u2500\u252c\u2500column2\u2500\u252c\u2500column3\u2500\u2510</span>\n<span class=\"err\">\u2502       1 \u2502       2 \u2502       3 \u2502</span>\n<span class=\"err\">\u2502       3 \u2502       2 \u2502       1 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"c1\">-- getting the first 10 lines of a table that contains 3 columns of UInt32 type from a CSV file</span>\n<span class=\"k\">SELECT</span> <span class=\"o\">*</span> <span class=\"k\">FROM</span> <span class=\"n\">file</span><span class=\"p\">(</span><span class=\"s1\">&#39;test.csv&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;CSV&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;column1 UInt32, column2 UInt32, column3 UInt32&#39;</span><span class=\"p\">)</span> <span class=\"k\">LIMIT</span> <span class=\"mi\">10</span>\n</pre></div>\n\n\n<p><a name=\"../../../table_functions/merge/\"></a>\n<a name=\"../../../../../query_language/table_functions/merge/\"></a>\n<a name=\"table_functions/merge/\"></a>\n<a name=\"../../../query_language/table_functions/merge/\"></a>\n<a name=\"../../table_functions/merge/\"></a>\n<a name=\"../../../../../table_functions/merge/\"></a>\n<a name=\"../../../../query_language/table_functions/merge/\"></a>\n<a name=\"../table_functions/merge/\"></a>\n<a name=\"../query_language/table_functions/merge/\"></a>\n<a name=\"merge/\"></a>\n<a name=\"../../../../../../table_functions/merge/\"></a>\n<a name=\"query_language/table_functions/merge/\"></a>\n<a name=\"../../../../table_functions/merge/\"></a>\n<a name=\"../../query_language/table_functions/merge/\"></a></p>\n<h2 id=\"merge_2\">merge<a class=\"headerlink\" href=\"#merge_2\" title=\"Permanent link\">&para;</a></h2>\n<p><code>merge(db_name, 'tables_regexp')</code> \u2013 Creates a temporary Merge table. For more information, see the section \"Table engines, Merge\".</p>\n<p>The table structure is taken from the first table encountered that matches the regular expression.</p>\n<p><a name=\"../../table_functions/numbers/\"></a>\n<a name=\"../query_language/table_functions/numbers/\"></a>\n<a name=\"../../../table_functions/numbers/\"></a>\n<a name=\"table_functions/numbers/\"></a>\n<a name=\"query_language/table_functions/numbers/\"></a>\n<a name=\"../../../../query_language/table_functions/numbers/\"></a>\n<a name=\"numbers/\"></a>\n<a name=\"../../../../../query_language/table_functions/numbers/\"></a>\n<a name=\"../table_functions/numbers/\"></a>\n<a name=\"../../../../table_functions/numbers/\"></a>\n<a name=\"../../../query_language/table_functions/numbers/\"></a>\n<a name=\"../../../../../table_functions/numbers/\"></a>\n<a name=\"../../../../../../table_functions/numbers/\"></a>\n<a name=\"../../query_language/table_functions/numbers/\"></a></p>\n<h2 id=\"numbers\">numbers<a class=\"headerlink\" href=\"#numbers\" title=\"Permanent link\">&para;</a></h2>\n<p><code>numbers(N)</code> \u2013 Returns a table with the single 'number' column (UInt64) that contains integers from 0 to N-1.\n<code>numbers(N, M)</code> - Returns a table with the single 'number' column (UInt64) that contains integers from N to (N + M - 1).</p>\n<p>Similar to the <code>system.numbers</code> table, it can be used for testing and generating successive values, <code>numbers(N, M)</code> more efficient than <code>system.numbers</code>.</p>\n<p>The following queries are equivalent:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"o\">*</span> <span class=\"k\">FROM</span> <span class=\"n\">numbers</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">);</span>\n<span class=\"k\">SELECT</span> <span class=\"o\">*</span> <span class=\"k\">FROM</span> <span class=\"n\">numbers</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">);</span>\n<span class=\"k\">SELECT</span> <span class=\"o\">*</span> <span class=\"k\">FROM</span> <span class=\"k\">system</span><span class=\"p\">.</span><span class=\"n\">numbers</span> <span class=\"k\">LIMIT</span> <span class=\"mi\">10</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<p>Examples:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"c1\">-- Generate a sequence of dates from 2010-01-01 to 2010-12-31</span>\n<span class=\"k\">select</span> <span class=\"n\">toDate</span><span class=\"p\">(</span><span class=\"s1\">&#39;2010-01-01&#39;</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"nb\">number</span> <span class=\"k\">as</span> <span class=\"n\">d</span> <span class=\"k\">FROM</span> <span class=\"n\">numbers</span><span class=\"p\">(</span><span class=\"mi\">365</span><span class=\"p\">);</span>\n</pre></div>\n\n\n<p><a name=\"../table_functions/remote/\"></a>\n<a name=\"query_language/table_functions/remote/\"></a>\n<a name=\"../../../table_functions/remote/\"></a>\n<a name=\"../../../query_language/table_functions/remote/\"></a>\n<a name=\"table_functions/remote/\"></a>\n<a name=\"remote/\"></a>\n<a name=\"../../../../../../table_functions/remote/\"></a>\n<a name=\"../../../../../query_language/table_functions/remote/\"></a>\n<a name=\"../../../../../table_functions/remote/\"></a>\n<a name=\"../../query_language/table_functions/remote/\"></a>\n<a name=\"../../table_functions/remote/\"></a>\n<a name=\"../query_language/table_functions/remote/\"></a>\n<a name=\"../../../../query_language/table_functions/remote/\"></a>\n<a name=\"../../../../table_functions/remote/\"></a></p>\n<h2 id=\"remote-remotesecure\">remote, remoteSecure<a class=\"headerlink\" href=\"#remote-remotesecure\" title=\"Permanent link\">&para;</a></h2>\n<p>Allows you to access remote servers without creating a <code>Distributed</code> table.</p>\n<p>Signatures:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">remote</span><span class=\"p\">(</span><span class=\"s1\">&#39;addresses_expr&#39;</span><span class=\"p\">,</span> <span class=\"n\">db</span><span class=\"p\">,</span> <span class=\"k\">table</span><span class=\"p\">[,</span> <span class=\"s1\">&#39;user&#39;</span><span class=\"p\">[,</span> <span class=\"s1\">&#39;password&#39;</span><span class=\"p\">]])</span>\n<span class=\"n\">remote</span><span class=\"p\">(</span><span class=\"s1\">&#39;addresses_expr&#39;</span><span class=\"p\">,</span> <span class=\"n\">db</span><span class=\"p\">.</span><span class=\"k\">table</span><span class=\"p\">[,</span> <span class=\"s1\">&#39;user&#39;</span><span class=\"p\">[,</span> <span class=\"s1\">&#39;password&#39;</span><span class=\"p\">]])</span>\n</pre></div>\n\n\n<p><code>addresses_expr</code> \u2013 An expression that generates addresses of remote servers. This may be just one server address. The server address is <code>host:port</code>, or just <code>host</code>. The host can be specified as the server name, or as the IPv4 or IPv6 address. An IPv6 address is specified in square brackets. The port is the TCP port on the remote server. If the port is omitted, it uses <code>tcp_port</code> from the server's config file (by default, 9000).</p>\n<div class=\"admonition important\">\n<p class=\"admonition-title\">Important</p>\n<p>The port is required for an IPv6 address.</p>\n</div>\n<p>Examples:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">example01-01-1</span>\n<span class=\"c\">example01-01-1:9000</span>\n<span class=\"err\">localhost</span>\n<span class=\"err\">127.0.0.1</span>\n<span class=\"err\">[::]:9000</span>\n<span class=\"err\">[2a02:6b8:0:1111::11]:9000</span>\n</pre></div>\n\n\n<p>Multiple addresses can be comma-separated. In this case, ClickHouse will use distributed processing, so it will send the query to all specified addresses (like to shards with different data).</p>\n<p>Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">example01-01-1,example01-02-1</span>\n</pre></div>\n\n\n<p>Part of the expression can be specified in curly brackets. The previous example can be written as follows:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">example01-0{1,2}-1</span>\n</pre></div>\n\n\n<p>Curly brackets can contain a range of numbers separated by two dots (non-negative integers). In this case, the range is expanded to a set of values that generate shard addresses. If the first number starts with zero, the values are formed with the same zero alignment. The previous example can be written as follows:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">example01-{01..02}-1</span>\n</pre></div>\n\n\n<p>If you have multiple pairs of curly brackets, it generates the direct product of the corresponding sets.</p>\n<p>Addresses and parts of addresses in curly brackets can be separated by the pipe symbol (|). In this case, the corresponding sets of addresses are interpreted as replicas, and the query will be sent to the first healthy replica. However, the replicas are iterated in the order currently set in the <a href=\"#../../operations/settings/settings/\">load_balancing</a> setting.</p>\n<p>Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">example01-{01..02}-{1|2}</span>\n</pre></div>\n\n\n<p>This example specifies two shards that each have two replicas.</p>\n<p>The number of addresses generated is limited by a constant. Right now this is 1000 addresses.</p>\n<p>Using the <code>remote</code> table function is less optimal than creating a <code>Distributed</code> table, because in this case, the server connection is re-established for every request. In addition, if host names are set, the names are resolved, and errors are not counted when working with various replicas. When processing a large number of queries, always create the <code>Distributed</code> table ahead of time, and don't use the <code>remote</code> table function.</p>\n<p>The <code>remote</code> table function can be useful in the following cases:</p>\n<ul>\n<li>Accessing a specific server for data comparison, debugging, and testing.</li>\n<li>Queries between various ClickHouse clusters for research purposes.</li>\n<li>Infrequent distributed requests that are made manually.</li>\n<li>Distributed requests where the set of servers is re-defined each time.</li>\n</ul>\n<p>If the user is not specified, <code>default</code> is used.\nIf the password is not specified, an empty password is used.</p>\n<p><code>remoteSecure</code> - same as <code>remote</code> but with secured connection. Default port \u2014 <a href=\"#server_settings-tcp_port_secure\">tcp_port_secure</a> from config or 9440.</p>\n<p><a name=\"../../../../table_functions/url/\"></a>\n<a name=\"../../query_language/table_functions/url/\"></a>\n<a name=\"../../../../../table_functions/url/\"></a>\n<a name=\"../../../../query_language/table_functions/url/\"></a>\n<a name=\"url/\"></a>\n<a name=\"table_functions/url/\"></a>\n<a name=\"../table_functions/url/\"></a>\n<a name=\"../query_language/table_functions/url/\"></a>\n<a name=\"../../../../../query_language/table_functions/url/\"></a>\n<a name=\"../../table_functions/url/\"></a>\n<a name=\"../../../table_functions/url/\"></a>\n<a name=\"../../../query_language/table_functions/url/\"></a>\n<a name=\"query_language/table_functions/url/\"></a>\n<a name=\"../../../../../../table_functions/url/\"></a></p>\n<h2 id=\"url\">url<a class=\"headerlink\" href=\"#url\" title=\"Permanent link\">&para;</a></h2>\n<p><code>url(URL, format, structure)</code> - returns a table created from the <code>URL</code> with given\n<code>format</code> and <code>structure</code>.</p>\n<p>URL - HTTP or HTTPS server address, which can accept <code>GET</code> and/or <code>POST</code> requests.</p>\n<p>format - <a href=\"#formats\">format</a> of the data.</p>\n<p>structure - table structure in <code>'UserID UInt64, Name String'</code> format. Determines column names and types.</p>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"c1\">-- getting the first 3 lines of a table that contains columns of String and UInt32 type from HTTP-server which answers in CSV format.</span>\n<span class=\"k\">SELECT</span> <span class=\"o\">*</span> <span class=\"k\">FROM</span> <span class=\"n\">url</span><span class=\"p\">(</span><span class=\"s1\">&#39;http://127.0.0.1:12345/&#39;</span><span class=\"p\">,</span> <span class=\"n\">CSV</span><span class=\"p\">,</span> <span class=\"s1\">&#39;column1 String, column2 UInt32&#39;</span><span class=\"p\">)</span> <span class=\"k\">LIMIT</span> <span class=\"mi\">3</span>\n</pre></div>\n\n\n<p><a name=\"../../../query_language/table_functions/jdbc/\"></a>\n<a name=\"../../table_functions/jdbc/\"></a>\n<a name=\"../../../../../query_language/table_functions/jdbc/\"></a>\n<a name=\"../table_functions/jdbc/\"></a>\n<a name=\"../../../../query_language/table_functions/jdbc/\"></a>\n<a name=\"table_functions/jdbc/\"></a>\n<a name=\"../../../../table_functions/jdbc/\"></a>\n<a name=\"../../../table_functions/jdbc/\"></a>\n<a name=\"../query_language/table_functions/jdbc/\"></a>\n<a name=\"../../../../../table_functions/jdbc/\"></a>\n<a name=\"../../query_language/table_functions/jdbc/\"></a>\n<a name=\"jdbc/\"></a>\n<a name=\"../../../../../../table_functions/jdbc/\"></a>\n<a name=\"query_language/table_functions/jdbc/\"></a></p>\n<h2 id=\"jdbc\">jdbc<a class=\"headerlink\" href=\"#jdbc\" title=\"Permanent link\">&para;</a></h2>\n<p><code>jdbc(jdbc_connection_uri, schema, table)</code> - returns table that is connected via JDBC driver.</p>\n<p>This table function requires separate <code>clickhouse-jdbc-bridge</code> program to be running.\nIt supports Nullable types (based on DDL of remote table that is queried).</p>\n<p><strong>Examples</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"o\">*</span> <span class=\"k\">FROM</span> <span class=\"n\">jdbc</span><span class=\"p\">(</span><span class=\"s1\">&#39;jdbc:mysql://localhost:3306/?user=root&amp;password=root&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;schema&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;table&#39;</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"o\">*</span> <span class=\"k\">FROM</span> <span class=\"n\">jdbc</span><span class=\"p\">(</span><span class=\"s1\">&#39;mysql://localhost:3306/?user=root&amp;password=root&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;schema&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;table&#39;</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"o\">*</span> <span class=\"k\">FROM</span> <span class=\"n\">jdbc</span><span class=\"p\">(</span><span class=\"s1\">&#39;datasource://mysql-local&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;schema&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;table&#39;</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p><a name=\"dicts/\"></a>\n<a name=\"../query_language/dicts/\"></a>\n<a name=\"../../../query_language/dicts/\"></a>\n<a name=\"query_language/dicts/\"></a>\n<a name=\"../../query_language/dicts/\"></a>\n<a name=\"../../../../../query_language/dicts/\"></a>\n<a name=\"../../../../query_language/dicts/\"></a></p>\n<h2 id=\"dictionaries\">Dictionaries<a class=\"headerlink\" href=\"#dictionaries\" title=\"Permanent link\">&para;</a></h2>\n<p>A dictionary is a mapping (<code>key -&gt; attributes</code>) that is convenient for various types of reference lists.</p>\n<p>ClickHouse supports special functions for working with dictionaries that can be used in queries. It is easier and more efficient to use dictionaries with functions than a <code>JOIN</code> with reference tables.</p>\n<p><a href=\"#null\">NULL</a> values can't be stored in a dictionary.</p>\n<p>ClickHouse supports:</p>\n<ul>\n<li><a href=\"#internal_dicts\">Built-in dictionaries</a> with a specific <a href=\"#../functions/ym_dict_functions/\">set of functions</a>.</li>\n<li><a href=\"#external_dicts/\">Plug-in (external) dictionaries</a> with a <a href=\"#../functions/ext_dict_functions/\">set of functions</a>.</li>\n</ul>\n<p><a name=\"external_dicts/\"></a>\n<a name=\"dicts/external_dicts/\"></a>\n<a name=\"../../../../../../dicts/external_dicts/\"></a>\n<a name=\"../../../../dicts/external_dicts/\"></a>\n<a name=\"../../../query_language/dicts/external_dicts/\"></a>\n<a name=\"../../dicts/external_dicts/\"></a>\n<a name=\"../../../../../query_language/dicts/external_dicts/\"></a>\n<a name=\"../../query_language/dicts/external_dicts/\"></a>\n<a name=\"../../../../query_language/dicts/external_dicts/\"></a>\n<a name=\"../../../dicts/external_dicts/\"></a>\n<a name=\"../query_language/dicts/external_dicts/\"></a>\n<a name=\"../../../../../dicts/external_dicts/\"></a>\n<a name=\"query_language/dicts/external_dicts/\"></a>\n<a name=\"../dicts/external_dicts/\"></a></p>\n<h2 id=\"dicts-external_dicts\">External Dictionaries<a class=\"headerlink\" href=\"#dicts-external_dicts\" title=\"Permanent link\">&para;</a></h2>\n<p>You can add your own dictionaries from various data sources. The data source for a dictionary can be a local text or executable file, an HTTP(s) resource, or another DBMS. For more information, see \"<a href=\"#external_dicts_dict_sources/\">Sources for external dictionaries</a>\".</p>\n<p>ClickHouse:</p>\n<blockquote>\n<ul>\n<li>Fully or partially stores dictionaries in RAM.</li>\n<li>Periodically updates dictionaries and dynamically loads missing values. In other words, dictionaries can be loaded dynamically.</li>\n</ul>\n</blockquote>\n<p>The configuration of external dictionaries is located in one or more files. The path to the configuration is specified in the <a href=\"#../../operations/server_settings/settings/\">dictionaries_config</a> parameter.</p>\n<p>Dictionaries can be loaded at server startup or at first use, depending on the <a href=\"#../../operations/server_settings/settings/\">dictionaries_lazy_load</a> setting.</p>\n<p>The dictionary config file has the following format:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;yandex&gt;</span>\n    <span class=\"nt\">&lt;comment&gt;</span>An optional element with any content. Ignored by the ClickHouse server.<span class=\"nt\">&lt;/comment&gt;</span>\n\n    <span class=\"c\">&lt;!--Optional element. File name with substitutions--&gt;</span>\n    <span class=\"nt\">&lt;include_from&gt;</span>/etc/metrika.xml<span class=\"nt\">&lt;/include_from&gt;</span>\n\n\n    <span class=\"nt\">&lt;dictionary&gt;</span>\n        <span class=\"c\">&lt;!-- Dictionary configuration --&gt;</span>\n    <span class=\"nt\">&lt;/dictionary&gt;</span>\n\n    ...\n\n    <span class=\"nt\">&lt;dictionary&gt;</span>\n        <span class=\"c\">&lt;!-- Dictionary configuration --&gt;</span>\n    <span class=\"nt\">&lt;/dictionary&gt;</span>\n<span class=\"nt\">&lt;/yandex&gt;</span>\n</pre></div>\n\n\n<p>You can <a href=\"#external_dicts_dict/\">configure</a> any number of dictionaries in the same file. The file format is preserved even if there is only one dictionary (i.e. <code>&lt;yandex&gt;&lt;dictionary&gt; &lt;!--configuration -&gt; &lt;/dictionary&gt;&lt;/yandex&gt;</code>).</p>\n<p>See also \"<a href=\"#ext_dict_functions\">Functions for working with external dictionaries</a>\".</p>\n<div class=\"admonition attention\">\n<p class=\"admonition-title\">Attention</p>\n<p>You can convert values for a small dictionary by describing it in a <code>SELECT</code> query (see the <a href=\"#../functions/other_functions/\">transform</a> function). This functionality is not related to external dictionaries.</p>\n</div>\n<p><a name=\"../query_language/dicts/external_dicts_dict/\"></a>\n<a name=\"dicts/external_dicts_dict/\"></a>\n<a name=\"../../../../query_language/dicts/external_dicts_dict/\"></a>\n<a name=\"../../../dicts/external_dicts_dict/\"></a>\n<a name=\"../../../../dicts/external_dicts_dict/\"></a>\n<a name=\"query_language/dicts/external_dicts_dict/\"></a>\n<a name=\"../../../../../../dicts/external_dicts_dict/\"></a>\n<a name=\"../../../../../query_language/dicts/external_dicts_dict/\"></a>\n<a name=\"external_dicts_dict/\"></a>\n<a name=\"../../../../../dicts/external_dicts_dict/\"></a>\n<a name=\"../../dicts/external_dicts_dict/\"></a>\n<a name=\"../../query_language/dicts/external_dicts_dict/\"></a>\n<a name=\"../../../query_language/dicts/external_dicts_dict/\"></a>\n<a name=\"../dicts/external_dicts_dict/\"></a></p>\n<h2 id=\"dicts-external_dicts_dict\">Configuring an External Dictionary<a class=\"headerlink\" href=\"#dicts-external_dicts_dict\" title=\"Permanent link\">&para;</a></h2>\n<p>The dictionary configuration has the following structure:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;dictionary&gt;</span>\n    <span class=\"nt\">&lt;name&gt;</span>dict_name<span class=\"nt\">&lt;/name&gt;</span>\n\n    <span class=\"nt\">&lt;source&gt;</span>\n      <span class=\"c\">&lt;!-- Source configuration --&gt;</span>\n    <span class=\"nt\">&lt;/source&gt;</span>\n\n    <span class=\"nt\">&lt;layout&gt;</span>\n      <span class=\"c\">&lt;!-- Memory layout configuration --&gt;</span>\n    <span class=\"nt\">&lt;/layout&gt;</span>\n\n    <span class=\"nt\">&lt;structure&gt;</span>\n      <span class=\"c\">&lt;!-- Complex key configuration --&gt;</span>\n    <span class=\"nt\">&lt;/structure&gt;</span>\n\n    <span class=\"nt\">&lt;lifetime&gt;</span>\n      <span class=\"c\">&lt;!-- Lifetime of dictionary in memory --&gt;</span>\n    <span class=\"nt\">&lt;/lifetime&gt;</span>\n<span class=\"nt\">&lt;/dictionary&gt;</span>\n</pre></div>\n\n\n<ul>\n<li>name \u2013 The identifier that can be used to access the dictionary. Use the characters <code>[a-zA-Z0-9_\\-]</code>.</li>\n<li><a href=\"#external_dicts_dict_sources/\">source</a> \u2014 Source of the dictionary.</li>\n<li><a href=\"#external_dicts_dict_layout/\">layout</a> \u2014 Dictionary layout in memory.</li>\n<li><a href=\"#external_dicts_dict_structure/\">structure</a> \u2014 Structure of the dictionary . A key and attributes that can be retrieved by this key.</li>\n<li><a href=\"#external_dicts_dict_lifetime/\">lifetime</a> \u2014 Frequency of dictionary updates.</li>\n</ul>\n<p><a name=\"../../../../query_language/dicts/external_dicts_dict_layout/\"></a>\n<a name=\"../../../../../../dicts/external_dicts_dict_layout/\"></a>\n<a name=\"../dicts/external_dicts_dict_layout/\"></a>\n<a name=\"../../../../../query_language/dicts/external_dicts_dict_layout/\"></a>\n<a name=\"../../query_language/dicts/external_dicts_dict_layout/\"></a>\n<a name=\"../../../query_language/dicts/external_dicts_dict_layout/\"></a>\n<a name=\"external_dicts_dict_layout/\"></a>\n<a name=\"query_language/dicts/external_dicts_dict_layout/\"></a>\n<a name=\"../../../../dicts/external_dicts_dict_layout/\"></a>\n<a name=\"../../../../../dicts/external_dicts_dict_layout/\"></a>\n<a name=\"../../dicts/external_dicts_dict_layout/\"></a>\n<a name=\"../query_language/dicts/external_dicts_dict_layout/\"></a>\n<a name=\"dicts/external_dicts_dict_layout/\"></a>\n<a name=\"../../../dicts/external_dicts_dict_layout/\"></a></p>\n<h2 id=\"dicts-external_dicts_dict_layout\">Storing Dictionaries in Memory<a class=\"headerlink\" href=\"#dicts-external_dicts_dict_layout\" title=\"Permanent link\">&para;</a></h2>\n<p>There are a variety of ways to store dictionaries in memory.</p>\n<p>We recommend <a href=\"#flat\">flat</a>, <a href=\"#dicts-external_dicts_dict_layout-hashed\">hashed</a> and <a href=\"#complex-key-hashed\">complex_key_hashed</a>. which provide optimal processing speed.</p>\n<p>Caching is not recommended because of potentially poor performance and difficulties in selecting optimal parameters. Read more in the section \"<a href=\"#cache\">cache</a>\".</p>\n<p>There are several ways to improve dictionary performance:</p>\n<ul>\n<li>Call the function for working with the dictionary after <code>GROUP BY</code>.</li>\n<li>Mark attributes to extract as injective. An attribute is called injective if different attribute values correspond to different keys. So when <code>GROUP BY</code> uses a function that fetches an attribute value by the key, this function is automatically taken out of <code>GROUP BY</code>.</li>\n</ul>\n<p>ClickHouse generates an exception for errors with dictionaries. Examples of errors:</p>\n<ul>\n<li>The dictionary being accessed could not be loaded.</li>\n<li>Error querying a <code>cached</code> dictionary.</li>\n</ul>\n<p>You can view the list of external dictionaries and their statuses in the <code>system.dictionaries</code> table.</p>\n<p>The configuration looks like this:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;yandex&gt;</span>\n    <span class=\"nt\">&lt;dictionary&gt;</span>\n        ...\n        <span class=\"nt\">&lt;layout&gt;</span>\n            <span class=\"nt\">&lt;layout_type&gt;</span>\n                <span class=\"c\">&lt;!-- layout settings --&gt;</span>\n            <span class=\"nt\">&lt;/layout_type&gt;</span>\n        <span class=\"nt\">&lt;/layout&gt;</span>\n        ...\n    <span class=\"nt\">&lt;/dictionary&gt;</span>\n<span class=\"nt\">&lt;/yandex&gt;</span>\n</pre></div>\n\n\n<h3 id=\"ways-to-store-dictionaries-in-memory\">Ways to Store Dictionaries in Memory<a class=\"headerlink\" href=\"#ways-to-store-dictionaries-in-memory\" title=\"Permanent link\">&para;</a></h3>\n<ul>\n<li><a href=\"#flat\">flat</a></li>\n<li><a href=\"#dicts-external_dicts_dict_layout-hashed\">hashed</a></li>\n<li><a href=\"#cache\">cache</a></li>\n<li><a href=\"#range-hashed\">range_hashed</a></li>\n<li><a href=\"#complex-key-hashed\">complex_key_hashed</a></li>\n<li><a href=\"#complex-key-cache\">complex_key_cache</a></li>\n<li><a href=\"#ip-trie\">ip_trie</a></li>\n</ul>\n<h4 id=\"flat\">flat<a class=\"headerlink\" href=\"#flat\" title=\"Permanent link\">&para;</a></h4>\n<p>The dictionary is completely stored in memory in the form of flat arrays. How much memory does the dictionary use? The amount is proportional to the size of the largest key (in space used).</p>\n<p>The dictionary key has the <code>UInt64</code> type and the value is limited to 500,000. If a larger key is discovered when creating the dictionary, ClickHouse throws an exception and does not create the dictionary.</p>\n<p>All types of sources are supported. When updating, data (from a file or from a table) is read in its entirety.</p>\n<p>This method provides the best performance among all available methods of storing the dictionary.</p>\n<p>Configuration example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;layout&gt;</span>\n  <span class=\"nt\">&lt;flat</span> <span class=\"nt\">/&gt;</span>\n<span class=\"nt\">&lt;/layout&gt;</span>\n</pre></div>\n\n\n<h4 id=\"dicts-external_dicts_dict_layout-hashed\">hashed<a class=\"headerlink\" href=\"#dicts-external_dicts_dict_layout-hashed\" title=\"Permanent link\">&para;</a></h4>\n<p>The dictionary is completely stored in memory in the form of a hash table. The dictionary can contain any number of elements with any identifiers In practice, the number of keys can reach tens of millions of items.</p>\n<p>All types of sources are supported. When updating, data (from a file or from a table) is read in its entirety.</p>\n<p>Configuration example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;layout&gt;</span>\n  <span class=\"nt\">&lt;hashed</span> <span class=\"nt\">/&gt;</span>\n<span class=\"nt\">&lt;/layout&gt;</span>\n</pre></div>\n\n\n<h4 id=\"complex-key-hashed\">complex_key_hashed<a class=\"headerlink\" href=\"#complex-key-hashed\" title=\"Permanent link\">&para;</a></h4>\n<p>This type of storage is for use with composite <a href=\"#external_dicts_dict_structure/\">keys</a>. Similar to <code>hashed</code>.</p>\n<p>Configuration example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;layout&gt;</span>\n  <span class=\"nt\">&lt;complex_key_hashed</span> <span class=\"nt\">/&gt;</span>\n<span class=\"nt\">&lt;/layout&gt;</span>\n</pre></div>\n\n\n<h4 id=\"range-hashed\">range_hashed<a class=\"headerlink\" href=\"#range-hashed\" title=\"Permanent link\">&para;</a></h4>\n<p>The dictionary is stored in memory in the form of a hash table with an ordered array of ranges and their corresponding values.</p>\n<p>This storage method works the same way as hashed and allows using date/time ranges in addition to the key, if they appear in the dictionary.</p>\n<p>Example: The table contains discounts for each advertiser in the format:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">+---------------+---------------------+-------------------+--------+</span>\n<span class=\"err\">| advertiser id | discount start date | discount end date | amount |</span>\n<span class=\"err\">+===============+=====================+===================+========+</span>\n<span class=\"err\">| 123           | 2015-01-01          | 2015-01-15        | 0.15   |</span>\n<span class=\"err\">+---------------+---------------------+-------------------+--------+</span>\n<span class=\"err\">| 123           | 2015-01-16          | 2015-01-31        | 0.25   |</span>\n<span class=\"err\">+---------------+---------------------+-------------------+--------+</span>\n<span class=\"err\">| 456           | 2015-01-01          | 2015-01-15        | 0.05   |</span>\n<span class=\"err\">+---------------+---------------------+-------------------+--------+</span>\n</pre></div>\n\n\n<p>To use a sample for date ranges, define the <code>range_min</code> and <code>range_max</code> elements in the <a href=\"#external_dicts_dict_structure/\">structure</a>.</p>\n<p>Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;structure&gt;</span>\n    <span class=\"nt\">&lt;id&gt;</span>\n        <span class=\"nt\">&lt;name&gt;</span>Id<span class=\"nt\">&lt;/name&gt;</span>\n    <span class=\"nt\">&lt;/id&gt;</span>\n    <span class=\"nt\">&lt;range_min&gt;</span>\n        <span class=\"nt\">&lt;name&gt;</span>first<span class=\"nt\">&lt;/name&gt;</span>\n    <span class=\"nt\">&lt;/range_min&gt;</span>\n    <span class=\"nt\">&lt;range_max&gt;</span>\n        <span class=\"nt\">&lt;name&gt;</span>last<span class=\"nt\">&lt;/name&gt;</span>\n    <span class=\"nt\">&lt;/range_max&gt;</span>\n    ...\n</pre></div>\n\n\n<p>To work with these dictionaries, you need to pass an additional date argument to the <code>dictGetT</code> function:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">dictGetT(&#39;dict_name&#39;, &#39;attr_name&#39;, id, date)</span>\n</pre></div>\n\n\n<p>This function returns the value for the specified <code>id</code>s and the date range that includes the passed date.</p>\n<p>Details of the algorithm:</p>\n<ul>\n<li>If the <code>id</code> is not found or a range is not found for the <code>id</code>, it returns the default value for the dictionary.</li>\n<li>If there are overlapping ranges, you can use any.</li>\n<li>If the range delimiter is <code>NULL</code> or an invalid date (such as 1900-01-01 or 2039-01-01), the range is left open. The range can be open on both sides.</li>\n</ul>\n<p>Configuration example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;yandex&gt;</span>\n        <span class=\"nt\">&lt;dictionary&gt;</span>\n\n                ...\n\n                <span class=\"nt\">&lt;layout&gt;</span>\n                        <span class=\"nt\">&lt;range_hashed</span> <span class=\"nt\">/&gt;</span>\n                <span class=\"nt\">&lt;/layout&gt;</span>\n\n                <span class=\"nt\">&lt;structure&gt;</span>\n                        <span class=\"nt\">&lt;id&gt;</span>\n                                <span class=\"nt\">&lt;name&gt;</span>Abcdef<span class=\"nt\">&lt;/name&gt;</span>\n                        <span class=\"nt\">&lt;/id&gt;</span>\n                        <span class=\"nt\">&lt;range_min&gt;</span>\n                                <span class=\"nt\">&lt;name&gt;</span>StartDate<span class=\"nt\">&lt;/name&gt;</span>\n                        <span class=\"nt\">&lt;/range_min&gt;</span>\n                        <span class=\"nt\">&lt;range_max&gt;</span>\n                                <span class=\"nt\">&lt;name&gt;</span>EndDate<span class=\"nt\">&lt;/name&gt;</span>\n                        <span class=\"nt\">&lt;/range_max&gt;</span>\n                        <span class=\"nt\">&lt;attribute&gt;</span>\n                                <span class=\"nt\">&lt;name&gt;</span>XXXType<span class=\"nt\">&lt;/name&gt;</span>\n                                <span class=\"nt\">&lt;type&gt;</span>String<span class=\"nt\">&lt;/type&gt;</span>\n                                <span class=\"nt\">&lt;null_value</span> <span class=\"nt\">/&gt;</span>\n                        <span class=\"nt\">&lt;/attribute&gt;</span>\n                <span class=\"nt\">&lt;/structure&gt;</span>\n\n        <span class=\"nt\">&lt;/dictionary&gt;</span>\n<span class=\"nt\">&lt;/yandex&gt;</span>\n</pre></div>\n\n\n<h4 id=\"cache\">cache<a class=\"headerlink\" href=\"#cache\" title=\"Permanent link\">&para;</a></h4>\n<p>The dictionary is stored in a cache that has a fixed number of cells. These cells contain frequently used elements.</p>\n<p>When searching for a dictionary, the cache is searched first. For each block of data, all keys that are not found in the cache or are outdated are requested from the source using <code>SELECT attrs... FROM db.table WHERE id IN (k1, k2, ...)</code>. The received data is then written to the cache.</p>\n<p>For cache dictionaries, the expiration <a href=\"#external_dicts_dict_lifetime/\">lifetime</a> of data in the cache can be set. If more time than <code>lifetime</code> has passed since loading the data in a cell, the cell's value is not used, and it is re-requested the next time it needs to be used.\nThis is the least effective of all the ways to store dictionaries. The speed of the cache depends strongly on correct settings and the usage scenario. A cache type dictionary performs well only when the hit rates are high enough (recommended 99% and higher). You can view the average hit rate in the <code>system.dictionaries</code> table.</p>\n<p>To improve cache performance, use a subquery with <code>LIMIT</code>, and call the function with the dictionary externally.</p>\n<p>Supported <a href=\"#external_dicts_dict_sources/\">sources</a>: MySQL, ClickHouse, executable, HTTP.</p>\n<p>Example of settings:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;layout&gt;</span>\n    <span class=\"nt\">&lt;cache&gt;</span>\n        <span class=\"c\">&lt;!-- The size of the cache, in number of cells. Rounded up to a power of two. --&gt;</span>\n        <span class=\"nt\">&lt;size_in_cells&gt;</span>1000000000<span class=\"nt\">&lt;/size_in_cells&gt;</span>\n    <span class=\"nt\">&lt;/cache&gt;</span>\n<span class=\"nt\">&lt;/layout&gt;</span>\n</pre></div>\n\n\n<p>Set a large enough cache size. You need to experiment to select the number of cells:</p>\n<ol>\n<li>Set some value.</li>\n<li>Run queries until the cache is completely full.</li>\n<li>Assess memory consumption using the <code>system.dictionaries</code> table.</li>\n<li>Increase or decrease the number of cells until the required memory consumption is reached.</li>\n</ol>\n<div class=\"admonition warning\">\n<p class=\"admonition-title\">Warning</p>\n<p>Do not use ClickHouse as a source, because it is slow to process queries with random reads.</p>\n</div>\n<h4 id=\"complex-key-cache\">complex_key_cache<a class=\"headerlink\" href=\"#complex-key-cache\" title=\"Permanent link\">&para;</a></h4>\n<p>This type of storage is for use with composite <a href=\"#external_dicts_dict_structure/\">keys</a>. Similar to <code>cache</code>.</p>\n<h4 id=\"ip-trie\">ip_trie<a class=\"headerlink\" href=\"#ip-trie\" title=\"Permanent link\">&para;</a></h4>\n<p>This type of storage is for mapping network prefixes (IP addresses) to metadata such as ASN.</p>\n<p>Example: The table contains network prefixes and their corresponding AS number and country code:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">  +-----------------+-------+--------+</span>\n<span class=\"err\">  | prefix          | asn   | cca2   |</span>\n<span class=\"err\">  +=================+=======+========+</span>\n<span class=\"err\">  | 202.79.32.0/20  | 17501 | NP     |</span>\n<span class=\"err\">  +-----------------+-------+--------+</span>\n<span class=\"err\">  | 2620:0:870::/48 | 3856  | US     |</span>\n<span class=\"err\">  +-----------------+-------+--------+</span>\n<span class=\"err\">  | 2a02:6b8:1::/48 | 13238 | RU     |</span>\n<span class=\"err\">  +-----------------+-------+--------+</span>\n<span class=\"err\">  | 2001:db8::/32   | 65536 | ZZ     |</span>\n<span class=\"err\">  +-----------------+-------+--------+</span>\n</pre></div>\n\n\n<p>When using this type of layout, the structure must have a composite key.</p>\n<p>Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;structure&gt;</span>\n    <span class=\"nt\">&lt;key&gt;</span>\n        <span class=\"nt\">&lt;attribute&gt;</span>\n            <span class=\"nt\">&lt;name&gt;</span>prefix<span class=\"nt\">&lt;/name&gt;</span>\n            <span class=\"nt\">&lt;type&gt;</span>String<span class=\"nt\">&lt;/type&gt;</span>\n        <span class=\"nt\">&lt;/attribute&gt;</span>\n    <span class=\"nt\">&lt;/key&gt;</span>\n    <span class=\"nt\">&lt;attribute&gt;</span>\n            <span class=\"nt\">&lt;name&gt;</span>asn<span class=\"nt\">&lt;/name&gt;</span>\n            <span class=\"nt\">&lt;type&gt;</span>UInt32<span class=\"nt\">&lt;/type&gt;</span>\n            <span class=\"nt\">&lt;null_value</span> <span class=\"nt\">/&gt;</span>\n    <span class=\"nt\">&lt;/attribute&gt;</span>\n    <span class=\"nt\">&lt;attribute&gt;</span>\n            <span class=\"nt\">&lt;name&gt;</span>cca2<span class=\"nt\">&lt;/name&gt;</span>\n            <span class=\"nt\">&lt;type&gt;</span>String<span class=\"nt\">&lt;/type&gt;</span>\n            <span class=\"nt\">&lt;null_value&gt;</span>??<span class=\"nt\">&lt;/null_value&gt;</span>\n    <span class=\"nt\">&lt;/attribute&gt;</span>\n    ...\n</pre></div>\n\n\n<p>The key must have only one String type attribute that contains an allowed IP prefix. Other types are not supported yet.</p>\n<p>For queries, you must use the same functions (<code>dictGetT</code> with a tuple) as for dictionaries with composite keys:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">dictGetT(&#39;dict_name&#39;, &#39;attr_name&#39;, tuple(ip))</span>\n</pre></div>\n\n\n<p>The function takes either <code>UInt32</code> for IPv4, or <code>FixedString(16)</code> for IPv6:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">dictGetString(&#39;prefix&#39;, &#39;asn&#39;, tuple(IPv6StringToNum(&#39;2001:db8::1&#39;)))</span>\n</pre></div>\n\n\n<p>Other types are not supported yet. The function returns the attribute for the prefix that corresponds to this IP address. If there are overlapping prefixes, the most specific one is returned.</p>\n<p>Data is stored in a <code>trie</code>. It must completely fit into RAM.</p>\n<p><a name=\"../../../query_language/dicts/external_dicts_dict_lifetime/\"></a>\n<a name=\"query_language/dicts/external_dicts_dict_lifetime/\"></a>\n<a name=\"../../../../../../dicts/external_dicts_dict_lifetime/\"></a>\n<a name=\"../../dicts/external_dicts_dict_lifetime/\"></a>\n<a name=\"../../../../query_language/dicts/external_dicts_dict_lifetime/\"></a>\n<a name=\"external_dicts_dict_lifetime/\"></a>\n<a name=\"../dicts/external_dicts_dict_lifetime/\"></a>\n<a name=\"../query_language/dicts/external_dicts_dict_lifetime/\"></a>\n<a name=\"../../../../../query_language/dicts/external_dicts_dict_lifetime/\"></a>\n<a name=\"../../query_language/dicts/external_dicts_dict_lifetime/\"></a>\n<a name=\"../../../dicts/external_dicts_dict_lifetime/\"></a>\n<a name=\"dicts/external_dicts_dict_lifetime/\"></a>\n<a name=\"../../../../dicts/external_dicts_dict_lifetime/\"></a>\n<a name=\"../../../../../dicts/external_dicts_dict_lifetime/\"></a></p>\n<h2 id=\"dictionary-updates\">Dictionary Updates<a class=\"headerlink\" href=\"#dictionary-updates\" title=\"Permanent link\">&para;</a></h2>\n<p>ClickHouse periodically updates the dictionaries. The update interval for fully downloaded dictionaries and the invalidation interval for cached dictionaries are defined in the <code>&lt;lifetime&gt;</code> tag in seconds.</p>\n<p>Dictionary updates (other than loading for first use) do not block queries. During updates, the old version of a dictionary is used. If an error occurs during an update, the error is written to the server log, and queries continue using the old version of dictionaries.</p>\n<p>Example of settings:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;dictionary&gt;</span>\n    ...\n    <span class=\"nt\">&lt;lifetime&gt;</span>300<span class=\"nt\">&lt;/lifetime&gt;</span>\n    ...\n<span class=\"nt\">&lt;/dictionary&gt;</span>\n</pre></div>\n\n\n<p>Setting <code>&lt;lifetime&gt; 0&lt;/lifetime&gt;</code> prevents updating dictionaries.</p>\n<p>You can set a time interval for upgrades, and ClickHouse will choose a uniformly random time within this range. This is necessary in order to distribute the load on the dictionary source when upgrading on a large number of servers.</p>\n<p>Example of settings:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;dictionary&gt;</span>\n    ...\n    <span class=\"nt\">&lt;lifetime&gt;</span>\n        <span class=\"nt\">&lt;min&gt;</span>300<span class=\"nt\">&lt;/min&gt;</span>\n        <span class=\"nt\">&lt;max&gt;</span>360<span class=\"nt\">&lt;/max&gt;</span>\n    <span class=\"nt\">&lt;/lifetime&gt;</span>\n    ...\n<span class=\"nt\">&lt;/dictionary&gt;</span>\n</pre></div>\n\n\n<p>When upgrading the dictionaries, the ClickHouse server applies different logic depending on the type of <a href=\"#external_dicts_dict_sources/\"> source</a>:</p>\n<ul>\n<li>For a text file, it checks the time of modification. If the time differs from the previously recorded time, the dictionary is updated.</li>\n<li>For MyISAM tables, the time of modification is checked using a <code>SHOW TABLE STATUS</code> query.</li>\n<li>Dictionaries from other sources are updated every time by default.</li>\n</ul>\n<p>For MySQL (InnoDB), ODBC and ClickHouse sources, you can set up a query that will update the dictionaries only if they really changed, rather than each time. To do this, follow these steps:</p>\n<ul>\n<li>The dictionary table must have a field that always changes when the source data is updated.</li>\n<li>The settings of the source must specify a query that retrieves the changing field. The ClickHouse server interprets the query result as a row, and if this row has changed relative to its previous state, the dictionary is updated. Specify the query in the <code>&lt;invalidate_query&gt;</code> field in the settings for the <a href=\"#external_dicts_dict_sources/\">source</a>.</li>\n</ul>\n<p>Example of settings:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;dictionary&gt;</span>\n    ...\n    <span class=\"nt\">&lt;odbc&gt;</span>\n      ...\n      <span class=\"nt\">&lt;invalidate_query&gt;</span>SELECT update_time FROM dictionary_source where id = 1<span class=\"nt\">&lt;/invalidate_query&gt;</span>\n    <span class=\"nt\">&lt;/odbc&gt;</span>\n    ...\n<span class=\"nt\">&lt;/dictionary&gt;</span>\n</pre></div>\n\n\n<p><a name=\"../../dicts/external_dicts_dict_sources/\"></a>\n<a name=\"dicts/external_dicts_dict_sources/\"></a>\n<a name=\"../query_language/dicts/external_dicts_dict_sources/\"></a>\n<a name=\"../../../../../dicts/external_dicts_dict_sources/\"></a>\n<a name=\"../../../../query_language/dicts/external_dicts_dict_sources/\"></a>\n<a name=\"external_dicts_dict_sources/\"></a>\n<a name=\"../../query_language/dicts/external_dicts_dict_sources/\"></a>\n<a name=\"query_language/dicts/external_dicts_dict_sources/\"></a>\n<a name=\"../dicts/external_dicts_dict_sources/\"></a>\n<a name=\"../../../query_language/dicts/external_dicts_dict_sources/\"></a>\n<a name=\"../../../dicts/external_dicts_dict_sources/\"></a>\n<a name=\"../../../../../../dicts/external_dicts_dict_sources/\"></a>\n<a name=\"../../../../dicts/external_dicts_dict_sources/\"></a>\n<a name=\"../../../../../query_language/dicts/external_dicts_dict_sources/\"></a></p>\n<h2 id=\"dicts-external_dicts_dict_sources\">Sources of External Dictionaries<a class=\"headerlink\" href=\"#dicts-external_dicts_dict_sources\" title=\"Permanent link\">&para;</a></h2>\n<p>An external dictionary can be connected from many different sources.</p>\n<p>The configuration looks like this:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;yandex&gt;</span>\n  <span class=\"nt\">&lt;dictionary&gt;</span>\n    ...\n    <span class=\"nt\">&lt;source&gt;</span>\n      <span class=\"nt\">&lt;source_type&gt;</span>\n        <span class=\"c\">&lt;!-- Source configuration --&gt;</span>\n      <span class=\"nt\">&lt;/source_type&gt;</span>\n    <span class=\"nt\">&lt;/source&gt;</span>\n    ...\n  <span class=\"nt\">&lt;/dictionary&gt;</span>\n  ...\n<span class=\"nt\">&lt;/yandex&gt;</span>\n</pre></div>\n\n\n<p>The source is configured in the <code>source</code> section.</p>\n<p>Types of sources (<code>source_type</code>):</p>\n<ul>\n<li><a href=\"#dicts-external_dicts_dict_sources-local_file\">Local file</a></li>\n<li><a href=\"#dicts-external_dicts_dict_sources-executable\">Executable file</a></li>\n<li><a href=\"#dicts-external_dicts_dict_sources-http\">HTTP(s)</a></li>\n<li>DBMS<ul>\n<li><a href=\"#dicts-external_dicts_dict_sources-mysql\">MySQL</a></li>\n<li><a href=\"#dicts-external_dicts_dict_sources-clickhouse\">ClickHouse</a></li>\n<li><a href=\"#dicts-external_dicts_dict_sources-mongodb\">MongoDB</a></li>\n<li><a href=\"#dicts-external_dicts_dict_sources-odbc\">ODBC</a></li>\n</ul>\n</li>\n</ul>\n<h3 id=\"dicts-external_dicts_dict_sources-local_file\">Local File<a class=\"headerlink\" href=\"#dicts-external_dicts_dict_sources-local_file\" title=\"Permanent link\">&para;</a></h3>\n<p>Example of settings:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;source&gt;</span>\n  <span class=\"nt\">&lt;file&gt;</span>\n    <span class=\"nt\">&lt;path&gt;</span>/opt/dictionaries/os.tsv<span class=\"nt\">&lt;/path&gt;</span>\n    <span class=\"nt\">&lt;format&gt;</span>TabSeparated<span class=\"nt\">&lt;/format&gt;</span>\n  <span class=\"nt\">&lt;/file&gt;</span>\n<span class=\"nt\">&lt;/source&gt;</span>\n</pre></div>\n\n\n<p>Setting fields:</p>\n<ul>\n<li><code>path</code> \u2013 The absolute path to the file.</li>\n<li><code>format</code> \u2013 The file format. All the formats described in \"<a href=\"#formats\">Formats</a>\" are supported.</li>\n</ul>\n<h3 id=\"dicts-external_dicts_dict_sources-executable\">Executable File<a class=\"headerlink\" href=\"#dicts-external_dicts_dict_sources-executable\" title=\"Permanent link\">&para;</a></h3>\n<p>Working with executable files depends on <a href=\"#external_dicts_dict_layout/\">how the dictionary is stored in memory</a>. If the dictionary is stored using <code>cache</code> and <code>complex_key_cache</code>, ClickHouse requests the necessary keys by sending a request to the executable file's <code>STDIN</code>.</p>\n<p>Example of settings:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;source&gt;</span>\n    <span class=\"nt\">&lt;executable&gt;</span>\n        <span class=\"nt\">&lt;command&gt;</span>cat /opt/dictionaries/os.tsv<span class=\"nt\">&lt;/command&gt;</span>\n        <span class=\"nt\">&lt;format&gt;</span>TabSeparated<span class=\"nt\">&lt;/format&gt;</span>\n    <span class=\"nt\">&lt;/executable&gt;</span>\n<span class=\"nt\">&lt;/source&gt;</span>\n</pre></div>\n\n\n<p>Setting fields:</p>\n<ul>\n<li><code>command</code> \u2013 The absolute path to the executable file, or the file name (if the program directory is written to <code>PATH</code>).</li>\n<li><code>format</code> \u2013 The file format. All the formats described in \"<a href=\"#formats\">Formats</a>\" are supported.</li>\n</ul>\n<h3 id=\"dicts-external_dicts_dict_sources-http\">HTTP(s)<a class=\"headerlink\" href=\"#dicts-external_dicts_dict_sources-http\" title=\"Permanent link\">&para;</a></h3>\n<p>Working with an HTTP(s) server depends on <a href=\"#external_dicts_dict_layout/\">how the dictionary is stored in memory</a>. If the dictionary is stored using <code>cache</code> and <code>complex_key_cache</code>, ClickHouse requests the necessary keys by sending a request via the <code>POST</code> method.</p>\n<p>Example of settings:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;source&gt;</span>\n    <span class=\"nt\">&lt;http&gt;</span>\n        <span class=\"nt\">&lt;url&gt;</span>http://[::1]/os.tsv<span class=\"nt\">&lt;/url&gt;</span>\n        <span class=\"nt\">&lt;format&gt;</span>TabSeparated<span class=\"nt\">&lt;/format&gt;</span>\n    <span class=\"nt\">&lt;/http&gt;</span>\n<span class=\"nt\">&lt;/source&gt;</span>\n</pre></div>\n\n\n<p>In order for ClickHouse to access an HTTPS resource, you must <a href=\"#server_settings-openssl\">configure openSSL</a> in the server configuration.</p>\n<p>Setting fields:</p>\n<ul>\n<li><code>url</code> \u2013 The source URL.</li>\n<li><code>format</code> \u2013 The file format. All the formats described in \"<a href=\"#formats\">Formats</a>\" are supported.</li>\n</ul>\n<h3 id=\"dicts-external_dicts_dict_sources-odbc\">ODBC<a class=\"headerlink\" href=\"#dicts-external_dicts_dict_sources-odbc\" title=\"Permanent link\">&para;</a></h3>\n<p>You can use this method to connect any database that has an ODBC driver.</p>\n<p>Example of settings:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;odbc&gt;</span>\n    <span class=\"nt\">&lt;db&gt;</span>DatabaseName<span class=\"nt\">&lt;/db&gt;</span>\n    <span class=\"nt\">&lt;table&gt;</span>ShemaName.TableName<span class=\"nt\">&lt;/table&gt;</span>\n    <span class=\"nt\">&lt;connection_string&gt;</span>DSN=some_parameters<span class=\"nt\">&lt;/connection_string&gt;</span>\n    <span class=\"nt\">&lt;invalidate_query&gt;</span>SQL_QUERY<span class=\"nt\">&lt;/invalidate_query&gt;</span>\n<span class=\"nt\">&lt;/odbc&gt;</span>\n</pre></div>\n\n\n<p>Setting fields:</p>\n<ul>\n<li><code>db</code> \u2013 Name of the database. Omit it if the database name is set in the <code>&lt;connection_string&gt;</code> parameters.</li>\n<li><code>table</code> \u2013 Name of the table and schema if exists.</li>\n<li><code>connection_string</code> \u2013 Connection string.</li>\n<li><code>invalidate_query</code> \u2013 Query for checking the dictionary status. Optional parameter. Read more in the section <a href=\"#external_dicts_dict_lifetime/\">Updating dictionaries</a>.</li>\n</ul>\n<p>ClickHouse receives quoting symbols from ODBC-driver and quote all settings in queries to driver, so it's necessary to set table name accordingly to table name case in database.</p>\n<h4 id=\"known-vulnerability-of-the-odbc-dictionary-functionality\">Known vulnerability of the ODBC dictionary functionality<a class=\"headerlink\" href=\"#known-vulnerability-of-the-odbc-dictionary-functionality\" title=\"Permanent link\">&para;</a></h4>\n<div class=\"admonition attention\">\n<p class=\"admonition-title\">Attention</p>\n<p>When connecting to the database through the ODBC driver connection parameter <code>Servername</code> can be substituted. In this case values of <code>USERNAME</code> and <code>PASSWORD</code> from <code>odbc.ini</code> are sent to the remote server and can be compromised.</p>\n</div>\n<p><strong>Example of insecure use</strong></p>\n<p>Let's configure unixODBC for PostgreSQL. Content of <code>/etc/odbc.ini</code>:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">[gregtest]</span>\n<span class=\"na\">Driver</span> <span class=\"o\">=</span> <span class=\"s\">/usr/lib/psqlodbca.so</span>\n<span class=\"na\">Servername</span> <span class=\"o\">=</span> <span class=\"s\">localhost</span>\n<span class=\"na\">PORT</span> <span class=\"o\">=</span> <span class=\"s\">5432</span>\n<span class=\"na\">DATABASE</span> <span class=\"o\">=</span> <span class=\"s\">test_db</span>\n<span class=\"c1\">##OPTION = 3</span>\n<span class=\"na\">USERNAME</span> <span class=\"o\">=</span> <span class=\"s\">test</span>\n<span class=\"na\">PASSWORD</span> <span class=\"o\">=</span> <span class=\"s\">test</span>\n</pre></div>\n\n\n<p>If you then make a query such as</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">SELECT * FROM odbc(&#39;DSN=gregtest;Servername=some-server.com&#39;, &#39;test_db&#39;);    </span>\n</pre></div>\n\n\n<p>ODBC driver will send values of <code>USERNAME</code> and <code>PASSWORD</code> from <code>odbc.ini</code> to <code>some-server.com</code>.</p>\n<h4 id=\"example-of-connecting-postgresql\">Example of Connecting PostgreSQL<a class=\"headerlink\" href=\"#example-of-connecting-postgresql\" title=\"Permanent link\">&para;</a></h4>\n<p>Ubuntu OS.</p>\n<p>Installing unixODBC and the ODBC driver for PostgreSQL:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">sudo apt-get install -y unixodbc odbcinst odbc-postgresql</span>\n</pre></div>\n\n\n<p>Configuring <code>/etc/odbc.ini</code> (or <code>~/.odbc.ini</code>):</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">DEFAULT</span><span class=\"o\">]</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">Driver</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">myconnection</span><span class=\"w\"></span>\n\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">myconnection</span><span class=\"o\">]</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">Description</span><span class=\"w\">         </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">PostgreSQL</span><span class=\"w\"> </span><span class=\"k\">connection</span><span class=\"w\"> </span><span class=\"k\">to</span><span class=\"w\"> </span><span class=\"n\">my_db</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">Driver</span><span class=\"w\">              </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">PostgreSQL</span><span class=\"w\"> </span><span class=\"nf\">Unicode</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"k\">Database</span><span class=\"w\">            </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">my_db</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">Servername</span><span class=\"w\">          </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">127.0.0.1</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">UserName</span><span class=\"w\">            </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">username</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">Password</span><span class=\"w\">            </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">password</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">Port</span><span class=\"w\">                </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">5432</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">Protocol</span><span class=\"w\">            </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">9.3</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">ReadOnly</span><span class=\"w\">            </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">No</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">RowVersioning</span><span class=\"w\">       </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">No</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">ShowSystemTables</span><span class=\"w\">    </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">No</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">ConnSettings</span><span class=\"w\">        </span><span class=\"o\">=</span><span class=\"w\"></span>\n</pre></div>\n\n\n<p>The dictionary configuration in ClickHouse:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;yandex&gt;</span>\n    <span class=\"nt\">&lt;dictionary&gt;</span>\n        <span class=\"nt\">&lt;name&gt;</span>table_name<span class=\"nt\">&lt;/name&gt;</span>\n        <span class=\"nt\">&lt;source&gt;</span>\n            <span class=\"nt\">&lt;odbc&gt;</span>\n                <span class=\"c\">&lt;!-- You can specify the following parameters in connection_string: --&gt;</span>\n                <span class=\"c\">&lt;!-- DSN=myconnection;UID=username;PWD=password;HOST=127.0.0.1;PORT=5432;DATABASE=my_db --&gt;</span>\n                <span class=\"nt\">&lt;connection_string&gt;</span>DSN=myconnection<span class=\"nt\">&lt;/connection_string&gt;</span>\n                <span class=\"nt\">&lt;table&gt;</span>postgresql_table<span class=\"nt\">&lt;/table&gt;</span>\n            <span class=\"nt\">&lt;/odbc&gt;</span>\n        <span class=\"nt\">&lt;/source&gt;</span>\n        <span class=\"nt\">&lt;lifetime&gt;</span>\n            <span class=\"nt\">&lt;min&gt;</span>300<span class=\"nt\">&lt;/min&gt;</span>\n            <span class=\"nt\">&lt;max&gt;</span>360<span class=\"nt\">&lt;/max&gt;</span>\n        <span class=\"nt\">&lt;/lifetime&gt;</span>\n        <span class=\"nt\">&lt;layout&gt;</span>\n            <span class=\"nt\">&lt;hashed/&gt;</span>\n        <span class=\"nt\">&lt;/layout&gt;</span>\n        <span class=\"nt\">&lt;structure&gt;</span>\n            <span class=\"nt\">&lt;id&gt;</span>\n                <span class=\"nt\">&lt;name&gt;</span>id<span class=\"nt\">&lt;/name&gt;</span>\n            <span class=\"nt\">&lt;/id&gt;</span>\n            <span class=\"nt\">&lt;attribute&gt;</span>\n                <span class=\"nt\">&lt;name&gt;</span>some_column<span class=\"nt\">&lt;/name&gt;</span>\n                <span class=\"nt\">&lt;type&gt;</span>UInt64<span class=\"nt\">&lt;/type&gt;</span>\n                <span class=\"nt\">&lt;null_value&gt;</span>0<span class=\"nt\">&lt;/null_value&gt;</span>\n            <span class=\"nt\">&lt;/attribute&gt;</span>\n        <span class=\"nt\">&lt;/structure&gt;</span>\n    <span class=\"nt\">&lt;/dictionary&gt;</span>\n<span class=\"nt\">&lt;/yandex&gt;</span>\n</pre></div>\n\n\n<p>You may need to edit <code>odbc.ini</code> to specify the full path to the library with the driver <code>DRIVER=/usr/local/lib/psqlodbcw.so</code>.</p>\n<h4 id=\"example-of-connecting-ms-sql-server\">Example of Connecting MS SQL Server<a class=\"headerlink\" href=\"#example-of-connecting-ms-sql-server\" title=\"Permanent link\">&para;</a></h4>\n<p>Ubuntu OS.</p>\n<p>Installing the driver: :</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">    sudo apt-get install tdsodbc freetds-bin sqsh</span>\n</pre></div>\n\n\n<p>Configuring the driver: :</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"w\">    </span><span class=\"err\">$</span><span class=\"w\"> </span><span class=\"n\">cat</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">etc</span><span class=\"o\">/</span><span class=\"n\">freetds</span><span class=\"o\">/</span><span class=\"n\">freetds</span><span class=\"p\">.</span><span class=\"n\">conf</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">...</span><span class=\"w\"></span>\n\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">MSSQL</span><span class=\"o\">]</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"k\">host</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">192.168.56.101</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">port</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">1433</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">tds</span><span class=\"w\"> </span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">7.0</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">client</span><span class=\"w\"> </span><span class=\"n\">charset</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">UTF</span><span class=\"o\">-</span><span class=\"mi\">8</span><span class=\"w\"></span>\n\n<span class=\"w\">    </span><span class=\"err\">$</span><span class=\"w\"> </span><span class=\"n\">cat</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">etc</span><span class=\"o\">/</span><span class=\"n\">odbcinst</span><span class=\"p\">.</span><span class=\"n\">ini</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">...</span><span class=\"w\"></span>\n\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">FreeTDS</span><span class=\"o\">]</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">Description</span><span class=\"w\">     </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">FreeTDS</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">Driver</span><span class=\"w\">          </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">usr</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"o\">/</span><span class=\"n\">x86_64</span><span class=\"o\">-</span><span class=\"n\">linux</span><span class=\"o\">-</span><span class=\"n\">gnu</span><span class=\"o\">/</span><span class=\"n\">odbc</span><span class=\"o\">/</span><span class=\"n\">libtdsodbc</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">Setup</span><span class=\"w\">           </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">usr</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"o\">/</span><span class=\"n\">x86_64</span><span class=\"o\">-</span><span class=\"n\">linux</span><span class=\"o\">-</span><span class=\"n\">gnu</span><span class=\"o\">/</span><span class=\"n\">odbc</span><span class=\"o\">/</span><span class=\"n\">libtdsS</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">FileUsage</span><span class=\"w\">       </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">UsageCount</span><span class=\"w\">      </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">5</span><span class=\"w\"></span>\n\n<span class=\"w\">    </span><span class=\"err\">$</span><span class=\"w\"> </span><span class=\"n\">cat</span><span class=\"w\"> </span><span class=\"o\">~/</span><span class=\"p\">.</span><span class=\"n\">odbc</span><span class=\"p\">.</span><span class=\"n\">ini</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">...</span><span class=\"w\"></span>\n\n<span class=\"w\">    </span><span class=\"o\">[</span><span class=\"n\">MSSQL</span><span class=\"o\">]</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">Description</span><span class=\"w\">     </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">FreeTDS</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">Driver</span><span class=\"w\">          </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">FreeTDS</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">Servername</span><span class=\"w\">      </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">MSSQL</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"k\">Database</span><span class=\"w\">        </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">test</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">UID</span><span class=\"w\">             </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">test</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">PWD</span><span class=\"w\">             </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">test</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">Port</span><span class=\"w\">            </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">1433</span><span class=\"w\"></span>\n</pre></div>\n\n\n<p>Configuring the dictionary in ClickHouse:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;yandex&gt;</span>\n    <span class=\"nt\">&lt;dictionary&gt;</span>\n        <span class=\"nt\">&lt;name&gt;</span>test<span class=\"nt\">&lt;/name&gt;</span>\n        <span class=\"nt\">&lt;source&gt;</span>\n            <span class=\"nt\">&lt;odbc&gt;</span>\n                <span class=\"nt\">&lt;table&gt;</span>dict<span class=\"nt\">&lt;/table&gt;</span>\n                <span class=\"nt\">&lt;connection_string&gt;</span>DSN=MSSQL;UID=test;PWD=test<span class=\"nt\">&lt;/connection_string&gt;</span>\n            <span class=\"nt\">&lt;/odbc&gt;</span>\n        <span class=\"nt\">&lt;/source&gt;</span>\n\n        <span class=\"nt\">&lt;lifetime&gt;</span>\n            <span class=\"nt\">&lt;min&gt;</span>300<span class=\"nt\">&lt;/min&gt;</span>\n            <span class=\"nt\">&lt;max&gt;</span>360<span class=\"nt\">&lt;/max&gt;</span>\n        <span class=\"nt\">&lt;/lifetime&gt;</span>\n\n        <span class=\"nt\">&lt;layout&gt;</span>\n            <span class=\"nt\">&lt;flat</span> <span class=\"nt\">/&gt;</span>\n        <span class=\"nt\">&lt;/layout&gt;</span>\n\n        <span class=\"nt\">&lt;structure&gt;</span>\n            <span class=\"nt\">&lt;id&gt;</span>\n                <span class=\"nt\">&lt;name&gt;</span>k<span class=\"nt\">&lt;/name&gt;</span>\n            <span class=\"nt\">&lt;/id&gt;</span>\n            <span class=\"nt\">&lt;attribute&gt;</span>\n                <span class=\"nt\">&lt;name&gt;</span>s<span class=\"nt\">&lt;/name&gt;</span>\n                <span class=\"nt\">&lt;type&gt;</span>String<span class=\"nt\">&lt;/type&gt;</span>\n                <span class=\"nt\">&lt;null_value&gt;&lt;/null_value&gt;</span>\n            <span class=\"nt\">&lt;/attribute&gt;</span>\n        <span class=\"nt\">&lt;/structure&gt;</span>\n    <span class=\"nt\">&lt;/dictionary&gt;</span>\n<span class=\"nt\">&lt;/yandex&gt;</span>\n</pre></div>\n\n\n<h3 id=\"dbms\">DBMS<a class=\"headerlink\" href=\"#dbms\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"dicts-external_dicts_dict_sources-mysql\">MySQL<a class=\"headerlink\" href=\"#dicts-external_dicts_dict_sources-mysql\" title=\"Permanent link\">&para;</a></h4>\n<p>Example of settings:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;source&gt;</span>\n  <span class=\"nt\">&lt;mysql&gt;</span>\n      <span class=\"nt\">&lt;port&gt;</span>3306<span class=\"nt\">&lt;/port&gt;</span>\n      <span class=\"nt\">&lt;user&gt;</span>clickhouse<span class=\"nt\">&lt;/user&gt;</span>\n      <span class=\"nt\">&lt;password&gt;</span>qwerty<span class=\"nt\">&lt;/password&gt;</span>\n      <span class=\"nt\">&lt;replica&gt;</span>\n          <span class=\"nt\">&lt;host&gt;</span>example01-1<span class=\"nt\">&lt;/host&gt;</span>\n          <span class=\"nt\">&lt;priority&gt;</span>1<span class=\"nt\">&lt;/priority&gt;</span>\n      <span class=\"nt\">&lt;/replica&gt;</span>\n      <span class=\"nt\">&lt;replica&gt;</span>\n          <span class=\"nt\">&lt;host&gt;</span>example01-2<span class=\"nt\">&lt;/host&gt;</span>\n          <span class=\"nt\">&lt;priority&gt;</span>1<span class=\"nt\">&lt;/priority&gt;</span>\n      <span class=\"nt\">&lt;/replica&gt;</span>\n      <span class=\"nt\">&lt;db&gt;</span>db_name<span class=\"nt\">&lt;/db&gt;</span>\n      <span class=\"nt\">&lt;table&gt;</span>table_name<span class=\"nt\">&lt;/table&gt;</span>\n      <span class=\"nt\">&lt;where&gt;</span>id=10<span class=\"nt\">&lt;/where&gt;</span>\n      <span class=\"nt\">&lt;invalidate_query&gt;</span>SQL_QUERY<span class=\"nt\">&lt;/invalidate_query&gt;</span>\n  <span class=\"nt\">&lt;/mysql&gt;</span>\n<span class=\"nt\">&lt;/source&gt;</span>\n</pre></div>\n\n\n<p>Setting fields:</p>\n<ul>\n<li>\n<p><code>port</code> \u2013 The port on the MySQL server. You can specify it for all replicas, or for each one individually (inside <code>&lt;replica&gt;</code>).</p>\n</li>\n<li>\n<p><code>user</code> \u2013 Name of the MySQL user. You can specify it for all replicas, or for each one individually (inside <code>&lt;replica&gt;</code>).</p>\n</li>\n<li>\n<p><code>password</code> \u2013 Password of the MySQL user. You can specify it for all replicas, or for each one individually (inside <code>&lt;replica&gt;</code>).</p>\n</li>\n<li>\n<p><code>replica</code> \u2013 Section of replica configurations. There can be multiple sections.</p>\n<ul>\n<li><code>replica/host</code> \u2013 The MySQL host.</li>\n</ul>\n<p>* <code>replica/priority</code> \u2013 The replica priority. When attempting to connect, ClickHouse traverses the replicas in order of priority. The lower the number, the higher the priority.</p>\n</li>\n<li>\n<p><code>db</code> \u2013 Name of the database.</p>\n</li>\n<li>\n<p><code>table</code> \u2013 Name of the table.</p>\n</li>\n<li>\n<p><code>where</code> \u2013 The selection criteria. Optional parameter.</p>\n</li>\n<li>\n<p><code>invalidate_query</code> \u2013 Query for checking the dictionary status. Optional parameter. Read more in the section <a href=\"#external_dicts_dict_lifetime/\">Updating dictionaries</a>.</p>\n</li>\n</ul>\n<p>MySQL can be connected on a local host via sockets. To do this, set <code>host</code> and <code>socket</code>.</p>\n<p>Example of settings:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;source&gt;</span>\n  <span class=\"nt\">&lt;mysql&gt;</span>\n      <span class=\"nt\">&lt;host&gt;</span>localhost<span class=\"nt\">&lt;/host&gt;</span>\n      <span class=\"nt\">&lt;socket&gt;</span>/path/to/socket/file.sock<span class=\"nt\">&lt;/socket&gt;</span>\n      <span class=\"nt\">&lt;user&gt;</span>clickhouse<span class=\"nt\">&lt;/user&gt;</span>\n      <span class=\"nt\">&lt;password&gt;</span>qwerty<span class=\"nt\">&lt;/password&gt;</span>\n      <span class=\"nt\">&lt;db&gt;</span>db_name<span class=\"nt\">&lt;/db&gt;</span>\n      <span class=\"nt\">&lt;table&gt;</span>table_name<span class=\"nt\">&lt;/table&gt;</span>\n      <span class=\"nt\">&lt;where&gt;</span>id=10<span class=\"nt\">&lt;/where&gt;</span>\n      <span class=\"nt\">&lt;invalidate_query&gt;</span>SQL_QUERY<span class=\"nt\">&lt;/invalidate_query&gt;</span>\n  <span class=\"nt\">&lt;/mysql&gt;</span>\n<span class=\"nt\">&lt;/source&gt;</span>\n</pre></div>\n\n\n<h4 id=\"dicts-external_dicts_dict_sources-clickhouse\">ClickHouse<a class=\"headerlink\" href=\"#dicts-external_dicts_dict_sources-clickhouse\" title=\"Permanent link\">&para;</a></h4>\n<p>Example of settings:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;source&gt;</span>\n    <span class=\"nt\">&lt;clickhouse&gt;</span>\n        <span class=\"nt\">&lt;host&gt;</span>example01-01-1<span class=\"nt\">&lt;/host&gt;</span>\n        <span class=\"nt\">&lt;port&gt;</span>9000<span class=\"nt\">&lt;/port&gt;</span>\n        <span class=\"nt\">&lt;user&gt;</span>default<span class=\"nt\">&lt;/user&gt;</span>\n        <span class=\"nt\">&lt;password&gt;&lt;/password&gt;</span>\n        <span class=\"nt\">&lt;db&gt;</span>default<span class=\"nt\">&lt;/db&gt;</span>\n        <span class=\"nt\">&lt;table&gt;</span>ids<span class=\"nt\">&lt;/table&gt;</span>\n        <span class=\"nt\">&lt;where&gt;</span>id=10<span class=\"nt\">&lt;/where&gt;</span>\n    <span class=\"nt\">&lt;/clickhouse&gt;</span>\n<span class=\"nt\">&lt;/source&gt;</span>\n</pre></div>\n\n\n<p>Setting fields:</p>\n<ul>\n<li><code>host</code> \u2013 The ClickHouse host. If it is a local host, the query is processed without any network activity. To improve fault tolerance, you can create a <a href=\"#../../operations/table_engines/distributed/\">Distributed</a> table and enter it in subsequent configurations.</li>\n<li><code>port</code> \u2013 The port on the ClickHouse server.</li>\n<li><code>user</code> \u2013 Name of the ClickHouse user.</li>\n<li><code>password</code> \u2013 Password of the ClickHouse user.</li>\n<li><code>db</code> \u2013 Name of the database.</li>\n<li><code>table</code> \u2013 Name of the table.</li>\n<li><code>where</code> \u2013 The selection criteria. May be omitted.</li>\n<li><code>invalidate_query</code> \u2013 Query for checking the dictionary status. Optional parameter. Read more in the section <a href=\"#external_dicts_dict_lifetime/\">Updating dictionaries</a>.</li>\n</ul>\n<h4 id=\"dicts-external_dicts_dict_sources-mongodb\">MongoDB<a class=\"headerlink\" href=\"#dicts-external_dicts_dict_sources-mongodb\" title=\"Permanent link\">&para;</a></h4>\n<p>Example of settings:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;source&gt;</span>\n    <span class=\"nt\">&lt;mongodb&gt;</span>\n        <span class=\"nt\">&lt;host&gt;</span>localhost<span class=\"nt\">&lt;/host&gt;</span>\n        <span class=\"nt\">&lt;port&gt;</span>27017<span class=\"nt\">&lt;/port&gt;</span>\n        <span class=\"nt\">&lt;user&gt;&lt;/user&gt;</span>\n        <span class=\"nt\">&lt;password&gt;&lt;/password&gt;</span>\n        <span class=\"nt\">&lt;db&gt;</span>test<span class=\"nt\">&lt;/db&gt;</span>\n        <span class=\"nt\">&lt;collection&gt;</span>dictionary_source<span class=\"nt\">&lt;/collection&gt;</span>\n    <span class=\"nt\">&lt;/mongodb&gt;</span>\n<span class=\"nt\">&lt;/source&gt;</span>\n</pre></div>\n\n\n<p>Setting fields:</p>\n<ul>\n<li><code>host</code> \u2013 The MongoDB host.</li>\n<li><code>port</code> \u2013 The port on the MongoDB server.</li>\n<li><code>user</code> \u2013 Name of the MongoDB user.</li>\n<li><code>password</code> \u2013 Password of the MongoDB user.</li>\n<li><code>db</code> \u2013 Name of the database.</li>\n<li><code>collection</code> \u2013 Name of the collection.</li>\n</ul>\n<p><a name=\"../../query_language/dicts/external_dicts_dict_structure/\"></a>\n<a name=\"dicts/external_dicts_dict_structure/\"></a>\n<a name=\"../../../../query_language/dicts/external_dicts_dict_structure/\"></a>\n<a name=\"external_dicts_dict_structure/\"></a>\n<a name=\"../../../query_language/dicts/external_dicts_dict_structure/\"></a>\n<a name=\"../../../../../../dicts/external_dicts_dict_structure/\"></a>\n<a name=\"../../../../../query_language/dicts/external_dicts_dict_structure/\"></a>\n<a name=\"../../../dicts/external_dicts_dict_structure/\"></a>\n<a name=\"../../../../../dicts/external_dicts_dict_structure/\"></a>\n<a name=\"../../dicts/external_dicts_dict_structure/\"></a>\n<a name=\"../../../../dicts/external_dicts_dict_structure/\"></a>\n<a name=\"query_language/dicts/external_dicts_dict_structure/\"></a>\n<a name=\"../query_language/dicts/external_dicts_dict_structure/\"></a>\n<a name=\"../dicts/external_dicts_dict_structure/\"></a></p>\n<h2 id=\"dictionary-key-and-fields\">Dictionary Key and Fields<a class=\"headerlink\" href=\"#dictionary-key-and-fields\" title=\"Permanent link\">&para;</a></h2>\n<p>The <code>&lt;structure&gt;</code> clause describes the dictionary key and fields available for queries.</p>\n<p>Overall structure:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;dictionary&gt;</span>\n    <span class=\"nt\">&lt;structure&gt;</span>\n        <span class=\"nt\">&lt;id&gt;</span>\n            <span class=\"nt\">&lt;name&gt;</span>Id<span class=\"nt\">&lt;/name&gt;</span>\n        <span class=\"nt\">&lt;/id&gt;</span>\n\n        <span class=\"nt\">&lt;attribute&gt;</span>\n            <span class=\"c\">&lt;!-- Attribute parameters --&gt;</span>\n        <span class=\"nt\">&lt;/attribute&gt;</span>\n\n        ...\n\n    <span class=\"nt\">&lt;/structure&gt;</span>\n<span class=\"nt\">&lt;/dictionary&gt;</span>\n</pre></div>\n\n\n<p>Columns are described in the structure:</p>\n<ul>\n<li><code>&lt;id&gt;</code> - <a href=\"#external_dicts_dict_structure/\">key column</a>.</li>\n<li><code>&lt;attribute&gt;</code> - <a href=\"#external_dicts_dict_structure/\">data column</a>. There can be a large number of columns.</li>\n</ul>\n<h3 id=\"key\">Key<a class=\"headerlink\" href=\"#key\" title=\"Permanent link\">&para;</a></h3>\n<p>ClickHouse supports the following types of keys:</p>\n<ul>\n<li>Numeric key. UInt64. Defined in the tag <code>&lt;id&gt;</code> .</li>\n<li>Composite key. Set of values of different types. Defined in the tag <code>&lt;key&gt;</code> .</li>\n</ul>\n<p>A structure can contain either <code>&lt;id&gt;</code> or <code>&lt;key&gt;</code> .</p>\n<div class=\"admonition warning\">\n<p class=\"admonition-title\">Warning</p>\n<p>The key doesn't need to be defined separately in attributes.</p>\n</div>\n<h4 id=\"numeric-key\">Numeric Key<a class=\"headerlink\" href=\"#numeric-key\" title=\"Permanent link\">&para;</a></h4>\n<p>Format: <code>UInt64</code>.</p>\n<p>Configuration example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;id&gt;</span>\n    <span class=\"nt\">&lt;name&gt;</span>Id<span class=\"nt\">&lt;/name&gt;</span>\n<span class=\"nt\">&lt;/id&gt;</span>\n</pre></div>\n\n\n<p>Configuration fields:</p>\n<ul>\n<li>name \u2013 The name of the column with keys.</li>\n</ul>\n<h4 id=\"composite-key\">Composite Key<a class=\"headerlink\" href=\"#composite-key\" title=\"Permanent link\">&para;</a></h4>\n<p>The key can be a <code>tuple</code> from any types of fields. The <a href=\"#external_dicts_dict_layout/\">layout</a> in this case must be <code>complex_key_hashed</code> or <code>complex_key_cache</code>.</p>\n<div class=\"admonition tip\">\n<p class=\"admonition-title\">Tip</p>\n<p>A composite key can consist of a single element. This makes it possible to use a string as the key, for instance.</p>\n</div>\n<p>The key structure is set in the element <code>&lt;key&gt;</code>. Key fields are specified in the same format as the dictionary <a href=\"#external_dicts_dict_structure/\">attributes</a>. Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;structure&gt;</span>\n    <span class=\"nt\">&lt;key&gt;</span>\n        <span class=\"nt\">&lt;attribute&gt;</span>\n            <span class=\"nt\">&lt;name&gt;</span>field1<span class=\"nt\">&lt;/name&gt;</span>\n            <span class=\"nt\">&lt;type&gt;</span>String<span class=\"nt\">&lt;/type&gt;</span>\n        <span class=\"nt\">&lt;/attribute&gt;</span>\n        <span class=\"nt\">&lt;attribute&gt;</span>\n            <span class=\"nt\">&lt;name&gt;</span>field2<span class=\"nt\">&lt;/name&gt;</span>\n            <span class=\"nt\">&lt;type&gt;</span>UInt32<span class=\"nt\">&lt;/type&gt;</span>\n        <span class=\"nt\">&lt;/attribute&gt;</span>\n        ...\n    <span class=\"nt\">&lt;/key&gt;</span>\n...\n</pre></div>\n\n\n<p>For a query to the <code>dictGet*</code> function, a tuple is passed as the key. Example: <code>dictGetString('dict_name', 'attr_name', tuple('string for field1', num_for_field2))</code>.</p>\n<h3 id=\"attributes\">Attributes<a class=\"headerlink\" href=\"#attributes\" title=\"Permanent link\">&para;</a></h3>\n<p>Configuration example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;structure&gt;</span>\n    ...\n    <span class=\"nt\">&lt;attribute&gt;</span>\n        <span class=\"nt\">&lt;name&gt;</span>Name<span class=\"nt\">&lt;/name&gt;</span>\n        <span class=\"nt\">&lt;type&gt;</span>Type<span class=\"nt\">&lt;/type&gt;</span>\n        <span class=\"nt\">&lt;null_value&gt;&lt;/null_value&gt;</span>\n        <span class=\"nt\">&lt;expression&gt;</span>rand64()<span class=\"nt\">&lt;/expression&gt;</span>\n        <span class=\"nt\">&lt;hierarchical&gt;</span>true<span class=\"nt\">&lt;/hierarchical&gt;</span>\n        <span class=\"nt\">&lt;injective&gt;</span>true<span class=\"nt\">&lt;/injective&gt;</span>\n        <span class=\"nt\">&lt;is_object_id&gt;</span>true<span class=\"nt\">&lt;/is_object_id&gt;</span>\n    <span class=\"nt\">&lt;/attribute&gt;</span>\n<span class=\"nt\">&lt;/structure&gt;</span>\n</pre></div>\n\n\n<p>Configuration fields:</p>\n<ul>\n<li><code>name</code> \u2013 The column name.</li>\n<li><code>type</code> \u2013 The column type. Sets the method for interpreting data in the source. For example, for MySQL, the field might be <code>TEXT</code>, <code>VARCHAR</code>, or <code>BLOB</code> in the source table, but it can be uploaded as <code>String</code>.</li>\n<li><code>null_value</code> \u2013 The default value for a non-existing element. In the example, it is an empty string.</li>\n<li><code>expression</code> \u2013 The attribute can be an expression. The tag is not required.</li>\n<li><code>hierarchical</code> \u2013 Hierarchical support. Mirrored to the parent identifier. By default, <code>false</code>.</li>\n<li><code>injective</code> \u2013 Whether the <code>id -&gt; attribute</code> image is injective. If <code>true</code>, then you can optimize the <code>GROUP BY</code> clause. By default, <code>false</code>.</li>\n<li><code>is_object_id</code> \u2013 Whether the query is executed for a MongoDB document by <code>ObjectID</code>.</li>\n</ul>\n<p><a name=\"../../../../dicts/internal_dicts/\"></a>\n<a name=\"dicts/internal_dicts/\"></a>\n<a name=\"../../../query_language/dicts/internal_dicts/\"></a>\n<a name=\"internal_dicts/\"></a>\n<a name=\"query_language/dicts/internal_dicts/\"></a>\n<a name=\"../../dicts/internal_dicts/\"></a>\n<a name=\"../../../../../../dicts/internal_dicts/\"></a>\n<a name=\"../../query_language/dicts/internal_dicts/\"></a>\n<a name=\"../../../dicts/internal_dicts/\"></a>\n<a name=\"../../../../../dicts/internal_dicts/\"></a>\n<a name=\"../../../../../query_language/dicts/internal_dicts/\"></a>\n<a name=\"../../../../query_language/dicts/internal_dicts/\"></a>\n<a name=\"../query_language/dicts/internal_dicts/\"></a>\n<a name=\"../dicts/internal_dicts/\"></a></p>\n<h2 id=\"internal_dicts\">Internal dictionaries<a class=\"headerlink\" href=\"#internal_dicts\" title=\"Permanent link\">&para;</a></h2>\n<p>ClickHouse contains a built-in feature for working with a geobase.</p>\n<p>This allows you to:</p>\n<ul>\n<li>Use a region's ID to get its name in the desired language.</li>\n<li>Use a region's ID to get the ID of a city, area, federal district, country, or continent.</li>\n<li>Check whether a region is part of another region.</li>\n<li>Get a chain of parent regions.</li>\n</ul>\n<p>All the functions support \"translocality,\" the ability to simultaneously use different perspectives on region ownership. For more information, see the section \"Functions for working with Yandex.Metrica dictionaries\".</p>\n<p>The internal dictionaries are disabled in the default package.\nTo enable them, uncomment the parameters <code>path_to_regions_hierarchy_file</code> and <code>path_to_regions_names_files</code> in the server configuration file.</p>\n<p>The geobase is loaded from text files.</p>\n<p>Place the <code>regions_hierarchy*.txt</code> files into the <code>path_to_regions_hierarchy_file</code> directory. This configuration parameter must contain the path to the <code>regions_hierarchy.txt</code> file (the default regional hierarchy), and the other files (<code>regions_hierarchy_ua.txt</code>) must be located in the same directory.</p>\n<p>Put the <code>regions_names_*.txt</code> files in the <code>path_to_regions_names_files</code> directory.</p>\n<p>You can also create these files yourself. The file format is as follows:</p>\n<p><code>regions_hierarchy*.txt</code>: TabSeparated (no header), columns:</p>\n<ul>\n<li>region ID (<code>UInt32</code>)</li>\n<li>parent region ID (<code>UInt32</code>)</li>\n<li>region type (<code>UInt8</code>): 1 - continent, 3 - country, 4 - federal district, 5 - region, 6 - city; other types don't have values</li>\n<li>population (<code>UInt32</code>) \u2014 optional column</li>\n</ul>\n<p><code>regions_names_*.txt</code>: TabSeparated (no header), columns:</p>\n<ul>\n<li>region ID (<code>UInt32</code>)</li>\n<li>region name (<code>String</code>) \u2014 Can't contain tabs or line feeds, even escaped ones.</li>\n</ul>\n<p>A flat array is used for storing in RAM. For this reason, IDs shouldn't be more than a million.</p>\n<p>Dictionaries can be updated without restarting the server. However, the set of available dictionaries is not updated.\nFor updates, the file modification times are checked. If a file has changed, the dictionary is updated.\nThe interval to check for changes is configured in the <code>builtin_dictionaries_reload_interval</code> parameter.\nDictionary updates (other than loading at first use) do not block queries. During updates, queries use the old versions of dictionaries. If an error occurs during an update, the error is written to the server log, and queries continue using the old version of dictionaries.</p>\n<p>We recommend periodically updating the dictionaries with the geobase. During an update, generate new files and write them to a separate location. When everything is ready, rename them to the files used by the server.</p>\n<p>There are also functions for working with OS identifiers and Yandex.Metrica search engines, but they shouldn't be used.</p>\n<p><a name=\"../../../../../query_language/operators/\"></a>\n<a name=\"../query_language/operators/\"></a>\n<a name=\"operators/\"></a>\n<a name=\"../../../query_language/operators/\"></a>\n<a name=\"query_language/operators/\"></a>\n<a name=\"../../../../query_language/operators/\"></a>\n<a name=\"../../query_language/operators/\"></a></p>\n<h2 id=\"operators\">Operators<a class=\"headerlink\" href=\"#operators\" title=\"Permanent link\">&para;</a></h2>\n<p>All operators are transformed to the corresponding functions at the query parsing stage, in accordance with their precedence and associativity.\nGroups of operators are listed in order of priority (the higher it is in the list, the earlier the operator is connected to its arguments).</p>\n<h3 id=\"access-operators\">Access Operators<a class=\"headerlink\" href=\"#access-operators\" title=\"Permanent link\">&para;</a></h3>\n<p><code>a[N]</code> Access to an element of an array; <code>arrayElement(a, N) function</code>.</p>\n<p><code>a.N</code> \u2013 Access to a tuble element; <code>tupleElement(a, N)</code> function.</p>\n<h3 id=\"numeric-negation-operator\">Numeric Negation Operator<a class=\"headerlink\" href=\"#numeric-negation-operator\" title=\"Permanent link\">&para;</a></h3>\n<p><code>-a</code>  \u2013 The <code>negate (a)</code> function.</p>\n<h3 id=\"multiplication-and-division-operators\">Multiplication and Division Operators<a class=\"headerlink\" href=\"#multiplication-and-division-operators\" title=\"Permanent link\">&para;</a></h3>\n<p><code>a * b</code>  \u2013 The <code>multiply (a, b) function.</code></p>\n<p><code>a / b</code>  \u2013 The <code>divide(a, b) function.</code></p>\n<p><code>a % b</code> \u2013 The <code>modulo(a, b) function.</code></p>\n<h3 id=\"addition-and-subtraction-operators\">Addition and Subtraction Operators<a class=\"headerlink\" href=\"#addition-and-subtraction-operators\" title=\"Permanent link\">&para;</a></h3>\n<p><code>a + b</code> \u2013 The <code>plus(a, b) function.</code></p>\n<p><code>a - b</code>  \u2013 The <code>minus(a, b) function.</code></p>\n<h3 id=\"comparison-operators\">Comparison Operators<a class=\"headerlink\" href=\"#comparison-operators\" title=\"Permanent link\">&para;</a></h3>\n<p><code>a = b</code> \u2013 The <code>equals(a, b) function.</code></p>\n<p><code>a == b</code> \u2013 The <code>equals(a, b) function.</code></p>\n<p><code>a != b</code> \u2013 The <code>notEquals(a, b) function.</code></p>\n<p><code>a &lt;&gt; b</code> \u2013 The <code>notEquals(a, b) function.</code></p>\n<p><code>a &lt;= b</code> \u2013 The <code>lessOrEquals(a, b) function.</code></p>\n<p><code>a &gt;= b</code> \u2013 The <code>greaterOrEquals(a, b) function.</code></p>\n<p><code>a &lt; b</code> \u2013 The <code>less(a, b) function.</code></p>\n<p><code>a &gt; b</code> \u2013 The <code>greater(a, b) function.</code></p>\n<p><code>a LIKE s</code> \u2013 The <code>like(a, b) function.</code></p>\n<p><code>a NOT LIKE s</code> \u2013 The <code>notLike(a, b) function.</code></p>\n<p><code>a BETWEEN b AND c</code> \u2013 The same as <code>a &gt;= b AND a &lt;= c.</code></p>\n<p><code>a NOT BETWEEN b AND c</code> \u2013 The same as <code>a &lt; b OR a &gt; c.</code></p>\n<h3 id=\"operators-for-working-with-data-sets\">Operators for Working With Data Sets<a class=\"headerlink\" href=\"#operators-for-working-with-data-sets\" title=\"Permanent link\">&para;</a></h3>\n<p><em>See the section <a href=\"#select-in-operators\">IN operators</a>.</em></p>\n<p><code>a IN ...</code> \u2013 The <code>in(a, b) function</code></p>\n<p><code>a NOT IN ...</code> \u2013 The <code>notIn(a, b) function.</code></p>\n<p><code>a GLOBAL IN ...</code> \u2013 The <code>globalIn(a, b) function.</code></p>\n<p><code>a GLOBAL NOT IN ...</code> \u2013 The <code>globalNotIn(a, b) function.</code></p>\n<h3 id=\"operator-for-working-with-dates-and-times\">Operator for Working With Dates and Times<a class=\"headerlink\" href=\"#operator-for-working-with-dates-and-times\" title=\"Permanent link\">&para;</a></h3>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">EXTRACT</span><span class=\"p\">(</span><span class=\"n\">part</span> <span class=\"k\">FROM</span> <span class=\"nb\">date</span><span class=\"p\">);</span>\n</pre></div>\n\n\n<p>Extracts a part from a given date. For example, you can retrieve a month from a given date, or a second from a time.</p>\n<p>The <code>part</code> parameter specifies which part of the date to retrieve. The following values are available:</p>\n<ul>\n<li><code>DAY</code> \u2014 The day of the month. Possible values: 1\u201331.</li>\n<li><code>MONTH</code> \u2014 The number of a month. Possible values: 1\u201312.</li>\n<li><code>YEAR</code> \u2014 The year.</li>\n<li><code>SECOND</code> \u2014 The second. Possible values: 0\u201359.</li>\n<li><code>MINUTE</code> \u2014 The minute. Possible values: 0\u201359.</li>\n<li><code>HOUR</code> \u2014 The hour. Possible values: 0\u201323.</li>\n</ul>\n<p>The <code>part</code> parameter is case-insensitive.</p>\n<p>The <code>date</code> parameter specifies the date or the time to process. Either <a href=\"#../data_types/date/\">Date</a> or <a href=\"#../data_types/datetime/\">DateTime</a> type is supported.</p>\n<p>Examples:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"k\">EXTRACT</span><span class=\"p\">(</span><span class=\"k\">DAY</span> <span class=\"k\">FROM</span> <span class=\"n\">toDate</span><span class=\"p\">(</span><span class=\"s1\">&#39;2017-06-15&#39;</span><span class=\"p\">));</span>\n<span class=\"k\">SELECT</span> <span class=\"k\">EXTRACT</span><span class=\"p\">(</span><span class=\"k\">MONTH</span> <span class=\"k\">FROM</span> <span class=\"n\">toDate</span><span class=\"p\">(</span><span class=\"s1\">&#39;2017-06-15&#39;</span><span class=\"p\">));</span>\n<span class=\"k\">SELECT</span> <span class=\"k\">EXTRACT</span><span class=\"p\">(</span><span class=\"k\">YEAR</span> <span class=\"k\">FROM</span> <span class=\"n\">toDate</span><span class=\"p\">(</span><span class=\"s1\">&#39;2017-06-15&#39;</span><span class=\"p\">));</span>\n</pre></div>\n\n\n<p>In the following example we create a table and insert into it a value with the <code>DateTime</code> type. </p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CREATE</span> <span class=\"k\">TABLE</span> <span class=\"n\">test</span><span class=\"p\">.</span><span class=\"n\">Orders</span>\n<span class=\"p\">(</span>\n    <span class=\"n\">OrderId</span> <span class=\"n\">UInt64</span><span class=\"p\">,</span> \n    <span class=\"n\">OrderName</span> <span class=\"n\">String</span><span class=\"p\">,</span> \n    <span class=\"n\">OrderDate</span> <span class=\"n\">DateTime</span>\n<span class=\"p\">)</span>\n<span class=\"n\">ENGINE</span> <span class=\"o\">=</span> <span class=\"n\">Log</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">INSERT</span> <span class=\"k\">INTO</span> <span class=\"n\">test</span><span class=\"p\">.</span><span class=\"n\">Orders</span> <span class=\"k\">VALUES</span> <span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Jarlsberg Cheese&#39;</span><span class=\"p\">,</span> <span class=\"n\">toDateTime</span><span class=\"p\">(</span><span class=\"s1\">&#39;2008-10-11 13:23:44&#39;</span><span class=\"p\">));</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> \n    <span class=\"n\">toYear</span><span class=\"p\">(</span><span class=\"n\">OrderDate</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">OrderYear</span><span class=\"p\">,</span> \n    <span class=\"n\">toMonth</span><span class=\"p\">(</span><span class=\"n\">OrderDate</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">OrderMonth</span><span class=\"p\">,</span> \n    <span class=\"n\">toDayOfMonth</span><span class=\"p\">(</span><span class=\"n\">OrderDate</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">OrderDay</span><span class=\"p\">,</span> \n    <span class=\"n\">toHour</span><span class=\"p\">(</span><span class=\"n\">OrderDate</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">OrderHour</span><span class=\"p\">,</span> \n    <span class=\"n\">toMinute</span><span class=\"p\">(</span><span class=\"n\">OrderDate</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">OrderMinute</span><span class=\"p\">,</span>\n    <span class=\"n\">toSecond</span><span class=\"p\">(</span><span class=\"n\">OrderDate</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">OrderSecond</span>\n<span class=\"k\">FROM</span> <span class=\"n\">test</span><span class=\"p\">.</span><span class=\"n\">Orders</span><span class=\"p\">;</span>\n\n<span class=\"err\">\u250c\u2500</span><span class=\"n\">OrderYear</span><span class=\"err\">\u2500\u252c\u2500</span><span class=\"n\">OrderMonth</span><span class=\"err\">\u2500\u252c\u2500</span><span class=\"n\">OrderDay</span><span class=\"err\">\u2500\u252c\u2500</span><span class=\"n\">OrderHour</span><span class=\"err\">\u2500\u252c\u2500</span><span class=\"n\">OrderMinute</span><span class=\"err\">\u2500\u252c\u2500</span><span class=\"n\">OrderSecond</span><span class=\"err\">\u2500\u2510</span>\n<span class=\"err\">\u2502</span>      <span class=\"mi\">2008</span> <span class=\"err\">\u2502</span>         <span class=\"mi\">10</span> <span class=\"err\">\u2502</span>       <span class=\"mi\">11</span> <span class=\"err\">\u2502</span>        <span class=\"mi\">13</span> <span class=\"err\">\u2502</span>          <span class=\"mi\">23</span> <span class=\"err\">\u2502</span>          <span class=\"mi\">44</span> <span class=\"err\">\u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<p>You can see more examples in <a href=\"https://github.com/yandex/ClickHouse/blob/master/dbms/tests/queries/0_stateless/00619_extract.sql\" rel=\"external nofollow\">tests</a>.</p>\n<h3 id=\"logical-negation-operator\">Logical Negation Operator<a class=\"headerlink\" href=\"#logical-negation-operator\" title=\"Permanent link\">&para;</a></h3>\n<p><code>NOT a</code> The <code>not(a) function.</code></p>\n<h3 id=\"logical-and-operator\">Logical AND Operator<a class=\"headerlink\" href=\"#logical-and-operator\" title=\"Permanent link\">&para;</a></h3>\n<p><code>a AND b</code> \u2013 The<code>and(a, b) function.</code></p>\n<h3 id=\"logical-or-operator\">Logical OR Operator<a class=\"headerlink\" href=\"#logical-or-operator\" title=\"Permanent link\">&para;</a></h3>\n<p><code>a OR b</code> \u2013 The <code>or(a, b) function.</code></p>\n<h3 id=\"conditional-operator\">Conditional Operator<a class=\"headerlink\" href=\"#conditional-operator\" title=\"Permanent link\">&para;</a></h3>\n<p><code>a ? b : c</code> \u2013 The <code>if(a, b, c) function.</code></p>\n<p>Note:</p>\n<p>The conditional operator calculates the values of b and c, then checks whether condition a is met, and then returns the corresponding value. If <code>b</code> or <code>C</code> is an <a href=\"#functions_arrayjoin\">arrayJoin()</a> function, each row will be replicated regardless of the \"a\" condition.</p>\n<h3 id=\"operator_case\">Conditional Expression<a class=\"headerlink\" href=\"#operator_case\" title=\"Permanent link\">&para;</a></h3>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">CASE</span> <span class=\"p\">[</span><span class=\"n\">x</span><span class=\"p\">]</span>\n    <span class=\"k\">WHEN</span> <span class=\"n\">a</span> <span class=\"k\">THEN</span> <span class=\"n\">b</span>\n    <span class=\"p\">[</span><span class=\"k\">WHEN</span> <span class=\"p\">...</span> <span class=\"k\">THEN</span> <span class=\"p\">...]</span>\n    <span class=\"p\">[</span><span class=\"k\">ELSE</span> <span class=\"k\">c</span><span class=\"p\">]</span>\n<span class=\"k\">END</span>\n</pre></div>\n\n\n<p>If <code>x</code> is specified, then <code>transform(x, [a, ...], [b, ...], c)</code> function is used. Otherwise \u2013 <code>multiIf(a, b, ..., c)</code>.</p>\n<p>If there is no <code>ELSE c</code> clause in the expression, the default value is <code>NULL</code>.</p>\n<p>The <code>transform</code> function does not work with <code>NULL</code>.</p>\n<h3 id=\"concatenation-operator\">Concatenation Operator<a class=\"headerlink\" href=\"#concatenation-operator\" title=\"Permanent link\">&para;</a></h3>\n<p><code>s1 || s2</code> \u2013 The <code>concat(s1, s2) function.</code></p>\n<h3 id=\"lambda-creation-operator\">Lambda Creation Operator<a class=\"headerlink\" href=\"#lambda-creation-operator\" title=\"Permanent link\">&para;</a></h3>\n<p><code>x -&gt; expr</code> \u2013 The <code>lambda(x, expr) function.</code></p>\n<p>The following operators do not have a priority, since they are brackets:</p>\n<h3 id=\"array-creation-operator\">Array Creation Operator<a class=\"headerlink\" href=\"#array-creation-operator\" title=\"Permanent link\">&para;</a></h3>\n<p><code>[x1, ...]</code> \u2013 The <code>array(x1, ...) function.</code></p>\n<h3 id=\"tuple-creation-operator\">Tuple Creation Operator<a class=\"headerlink\" href=\"#tuple-creation-operator\" title=\"Permanent link\">&para;</a></h3>\n<p><code>(x1, x2, ...)</code> \u2013 The <code>tuple(x2, x2, ...) function.</code></p>\n<h3 id=\"associativity\">Associativity<a class=\"headerlink\" href=\"#associativity\" title=\"Permanent link\">&para;</a></h3>\n<p>All binary operators have left associativity. For example, <code>1 + 2 + 3</code> is transformed to <code>plus(plus(1, 2), 3)</code>.\nSometimes this doesn't work the way you expect. For example, <code>SELECT 4 &gt; 2 &gt; 3</code> will result in 0.</p>\n<p>For efficiency, the <code>and</code> and <code>or</code> functions accept any number of arguments. The corresponding chains of <code>AND</code> and <code>OR</code> operators are transformed to a single call of these functions.</p>\n<h3 id=\"checking-for-null\">Checking for <code>NULL</code><a class=\"headerlink\" href=\"#checking-for-null\" title=\"Permanent link\">&para;</a></h3>\n<p>ClickHouse supports the <code>IS NULL</code> and <code>IS NOT NULL</code> operators.</p>\n<h4 id=\"operator-is-null\">IS NULL<a class=\"headerlink\" href=\"#operator-is-null\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>For <a href=\"#../data_types/nullable/\">Nullable</a> type values, the <code>IS NULL</code> operator returns:<ul>\n<li><code>1</code>, if the value is <code>NULL</code>.</li>\n<li><code>0</code> otherwise.</li>\n</ul>\n</li>\n<li>For other values, the <code>IS NULL</code> operator always returns <code>0</code>.</li>\n</ul>\n<div class=\"codehilite\"><pre><span></span>:<span class=\"o\">)</span> SELECT x+100 FROM t_null WHERE y IS NULL\n\nSELECT x + <span class=\"m\">100</span>\nFROM t_null\nWHERE isNull<span class=\"o\">(</span>y<span class=\"o\">)</span>\n\n\u250c\u2500plus<span class=\"o\">(</span>x, <span class=\"m\">100</span><span class=\"o\">)</span>\u2500\u2510\n\u2502          <span class=\"m\">101</span> \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n<span class=\"m\">1</span> rows in set. Elapsed: <span class=\"m\">0</span>.002 sec.\n</pre></div>\n\n\n<h4 id=\"is-not-null\">IS NOT NULL<a class=\"headerlink\" href=\"#is-not-null\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>For <a href=\"#../data_types/nullable/\">Nullable</a> type values, the <code>IS NOT NULL</code> operator returns:<ul>\n<li><code>0</code>, if the value is <code>NULL</code>.</li>\n<li><code>1</code> otherwise.</li>\n</ul>\n</li>\n<li>For other values, the <code>IS NOT NULL</code> operator always returns <code>1</code>.</li>\n</ul>\n<div class=\"codehilite\"><pre><span></span>:<span class=\"o\">)</span> SELECT * FROM t_null WHERE y IS NOT NULL\n\nSELECT *\nFROM t_null\nWHERE isNotNull<span class=\"o\">(</span>y<span class=\"o\">)</span>\n\n\u250c\u2500x\u2500\u252c\u2500y\u2500\u2510\n\u2502 <span class=\"m\">2</span> \u2502 <span class=\"m\">3</span> \u2502\n\u2514\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2518\n\n<span class=\"m\">1</span> rows in set. Elapsed: <span class=\"m\">0</span>.002 sec.\n</pre></div>\n\n\n<p><a name=\"../../query_language/syntax/\"></a>\n<a name=\"../../../query_language/syntax/\"></a>\n<a name=\"../query_language/syntax/\"></a>\n<a name=\"../../../../query_language/syntax/\"></a>\n<a name=\"syntax/\"></a>\n<a name=\"../../../../../query_language/syntax/\"></a>\n<a name=\"query_language/syntax/\"></a></p>\n<h2 id=\"syntax\">Syntax<a class=\"headerlink\" href=\"#syntax\" title=\"Permanent link\">&para;</a></h2>\n<p>There are two types of parsers in the system: the full SQL parser (a recursive descent parser), and the data format parser (a fast stream parser).\nIn all cases except the <code>INSERT</code> query, only the full SQL parser is used.\nThe <code>INSERT</code> query uses both parsers:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">INSERT</span> <span class=\"k\">INTO</span> <span class=\"n\">t</span> <span class=\"k\">VALUES</span> <span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"s1\">&#39;Hello, world&#39;</span><span class=\"p\">),</span> <span class=\"p\">(</span><span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"s1\">&#39;abc&#39;</span><span class=\"p\">),</span> <span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">,</span> <span class=\"s1\">&#39;def&#39;</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>The <code>INSERT INTO t VALUES</code> fragment is parsed by the full parser, and the data <code>(1, 'Hello, world'), (2, 'abc'), (3, 'def')</code> is parsed by the fast stream parser. You can also turn on the full parser for the data by using the <a href=\"#settings-input_format_values_interpret_expressions\">input_format_values_interpret_expressions</a> setting. When <code>input_format_values_interpret_expressions = 1</code>, ClickHouse first tries to parse values with the fast stream parser. If it fails, ClickHouse tries to use the full parser for the data, treating it like an SQL <a href=\"#syntax-expressions\">expression</a>.</p>\n<p>Data can have any format. When a query is received, the server calculates no more than <a href=\"#settings-max_query_size\">max_query_size</a> bytes of the request in RAM (by default, 1 MB), and the rest is stream parsed.\nThis means the system doesn't have problems with large <code>INSERT</code> queries, like MySQL does.</p>\n<p>When using the <code>Values</code> format in an <code>INSERT</code> query, it may seem that data is parsed the same as expressions in a <code>SELECT</code> query, but this is not true. The <code>Values</code> format is much more limited.</p>\n<p>Next we will cover the full parser. For more information about format parsers, see the <a href=\"#../interfaces/formats/\">Formats</a> section.</p>\n<h3 id=\"spaces\">Spaces<a class=\"headerlink\" href=\"#spaces\" title=\"Permanent link\">&para;</a></h3>\n<p>There may be any number of space symbols between syntactical constructions (including the beginning and end of a query). Space symbols include the space, tab, line feed, CR, and form feed.</p>\n<h3 id=\"comments\">Comments<a class=\"headerlink\" href=\"#comments\" title=\"Permanent link\">&para;</a></h3>\n<p>SQL-style and C-style comments are supported.\nSQL-style comments: from <code>--</code> to the end of the line. The space after <code>--</code> can be omitted.\nComments in C-style: from <code>/*</code> to <code>*/</code>. These comments can be multiline. Spaces are not required here, either.</p>\n<h3 id=\"syntax-keywords\">Keywords<a class=\"headerlink\" href=\"#syntax-keywords\" title=\"Permanent link\">&para;</a></h3>\n<p>Keywords (such as <code>SELECT</code>) are not case-sensitive. Everything else (column names, functions, and so on), in contrast to standard SQL, is case-sensitive.</p>\n<p>Keywords are not reserved (they are just parsed as keywords in the corresponding context). If you use <a href=\"#syntax-identifiers\">identifiers</a> the same as the keywords, enclose them into quotes. For example, the query <code>SELECT \"FROM\" FROM table_name</code> is valid if the table <code>table_name</code> has column with the name <code>\"FROM\"</code>.</p>\n<h3 id=\"syntax-identifiers\">Identifiers<a class=\"headerlink\" href=\"#syntax-identifiers\" title=\"Permanent link\">&para;</a></h3>\n<p>Identifiers are:</p>\n<ul>\n<li>Cluster, database, table, partition and column names.</li>\n<li>Functions.</li>\n<li>Data types.</li>\n<li><a href=\"#syntax-expression_aliases\">Expression aliases</a>.</li>\n</ul>\n<p>Identifiers can be quoted or non-quoted. It is recommended to use non-quoted identifiers.</p>\n<p>Non-quoted identifiers must match the regex <code>^[a-zA-Z_][0-9a-zA-Z_]*$</code> and can not be equal to <a href=\"#syntax-keywords\">keywords</a>.  Examples: <code>x, _1, X_y__Z123_.</code></p>\n<p>If you want to use identifiers the same as keywords or you want to use other symbols in identifiers, quote it using double quotes or backticks, for example, <code>\"id\"</code>, <code>`id`</code>.</p>\n<h3 id=\"literals\">Literals<a class=\"headerlink\" href=\"#literals\" title=\"Permanent link\">&para;</a></h3>\n<p>There are: numeric, string, compound and <code>NULL</code> literals.</p>\n<h4 id=\"numeric\">Numeric<a class=\"headerlink\" href=\"#numeric\" title=\"Permanent link\">&para;</a></h4>\n<p>A numeric literal tries to be parsed:</p>\n<ul>\n<li>First as a 64-bit signed number, using the <a href=\"https://en.cppreference.com/w/cpp/string/byte/strtoul\" rel=\"external nofollow\">strtoull</a> function.</li>\n<li>If unsuccessful, as a 64-bit unsigned number, using the <a href=\"https://en.cppreference.com/w/cpp/string/byte/strtol\" rel=\"external nofollow\">strtoll</a> function.</li>\n<li>If unsuccessful, as a floating-point number using the <a href=\"https://en.cppreference.com/w/cpp/string/byte/strtof\" rel=\"external nofollow\">strtod</a> function.</li>\n<li>Otherwise, an error is returned.</li>\n</ul>\n<p>The corresponding value will have the smallest type that the value fits in.\nFor example, 1 is parsed as <code>UInt8</code>, but 256 is parsed as <code>UInt16</code>. For more information, see <a href=\"#../data_types/\">Data types</a>.</p>\n<p>Examples: <code>1</code>, <code>18446744073709551615</code>, <code>0xDEADBEEF</code>, <code>01</code>, <code>0.1</code>, <code>1e100</code>, <code>-1e-100</code>, <code>inf</code>, <code>nan</code>.</p>\n<h4 id=\"string_1\">String<a class=\"headerlink\" href=\"#string_1\" title=\"Permanent link\">&para;</a></h4>\n<p>Only string literals in single quotes are supported. The enclosed characters can be backslash-escaped. The following escape sequences have a corresponding special value: <code>\\b</code>, <code>\\f</code>, <code>\\r</code>, <code>\\n</code>, <code>\\t</code>, <code>\\0</code>, <code>\\a</code>, <code>\\v</code>, <code>\\xHH</code>. In all other cases, escape sequences in the format <code>\\c</code>, where <code>c</code> is any character, are converted to <code>c</code>. This means that you can use the sequences <code>\\'</code>and<code>\\\\</code>. The value will have the <a href=\"#../data_types/string/\">String</a> type.</p>\n<p>The minimum set of characters that you need to escape in string literals: <code>'</code> and <code>\\</code>. Single quote can be escaped with the single quote, literals <code>'It\\'s'</code> and <code>'It''s'</code> are equal.</p>\n<h4 id=\"compound\">Compound<a class=\"headerlink\" href=\"#compound\" title=\"Permanent link\">&para;</a></h4>\n<p>Constructions are supported for arrays: <code>[1, 2, 3]</code> and tuples: <code>(1, 'Hello, world!', 2)</code>..\nActually, these are not literals, but expressions with the array creation operator and the tuple creation operator, respectively.\nAn array must consist of at least one item, and a tuple must have at least two items.\nTuples have a special purpose for use in the <code>IN</code> clause of a <code>SELECT</code> query. Tuples can be obtained as the result of a query, but they can't be saved to a database (with the exception of <a href=\"#../operations/table_engines/memory/\">Memory</a> tables).</p>\n<h4 id=\"null-literal\">NULL<a class=\"headerlink\" href=\"#null-literal\" title=\"Permanent link\">&para;</a></h4>\n<p>Indicates that the value is missing.</p>\n<p>In order to store <code>NULL</code> in a table field, it must be of the <a href=\"#../data_types/nullable/\">Nullable</a> type.</p>\n<p>Depending on the data format (input or output), <code>NULL</code> may have a different representation. For more information, see the documentation for <a href=\"#formats\">data formats</a>.</p>\n<p>There are many nuances to processing <code>NULL</code>. For example, if at least one of the arguments of a comparison operation is <code>NULL</code>, the result of this operation will also be <code>NULL</code>. The same is true for multiplication, addition, and other operations. For more information, read the documentation for each operation.</p>\n<p>In queries, you can check <code>NULL</code> using the <a href=\"#operator-is-null\">IS NULL</a> and <a href=\"#operators/\">IS NOT NULL</a> operators and the related functions <code>isNull</code> and <code>isNotNull</code>.</p>\n<h3 id=\"functions_1\">Functions<a class=\"headerlink\" href=\"#functions_1\" title=\"Permanent link\">&para;</a></h3>\n<p>Functions are written like an identifier with a list of arguments (possibly empty) in brackets. In contrast to standard SQL, the brackets are required, even for an empty arguments list. Example: <code>now()</code>.\nThere are regular and aggregate functions (see the section \"Aggregate functions\"). Some aggregate functions can contain two lists of arguments in brackets. Example: <code>quantile (0.9) (x)</code>. These aggregate functions are called \"parametric\" functions, and the arguments in the first list are called \"parameters\". The syntax of aggregate functions without parameters is the same as for regular functions.</p>\n<h3 id=\"operators_1\">Operators<a class=\"headerlink\" href=\"#operators_1\" title=\"Permanent link\">&para;</a></h3>\n<p>Operators are converted to their corresponding functions during query parsing, taking their priority and associativity into account.\nFor example, the expression <code>1 + 2 * 3 + 4</code> is transformed to <code>plus(plus(1, multiply(2, 3)), 4)</code>.</p>\n<h3 id=\"data-types-and-database-table-engines\">Data Types and Database Table Engines<a class=\"headerlink\" href=\"#data-types-and-database-table-engines\" title=\"Permanent link\">&para;</a></h3>\n<p>Data types and table engines in the <code>CREATE</code> query are written the same way as identifiers or functions. In other words, they may or may not contain an arguments list in brackets. For more information, see the sections \"Data types,\" \"Table engines,\" and \"CREATE\".</p>\n<h3 id=\"syntax-expression_aliases\">Expression Aliases<a class=\"headerlink\" href=\"#syntax-expression_aliases\" title=\"Permanent link\">&para;</a></h3>\n<p>An alias is a user-defined name for an expression in a query.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">expr AS alias</span>\n</pre></div>\n\n\n<ul>\n<li>\n<p><code>AS</code> \u2014 The keyword for defining aliases. You can define the alias for a table name or a column name in a <code>SELECT</code> clause without using the <code>AS</code> keyword.</p>\n<p>For example, <code>SELECT table_name_alias.column_name FROM table_name table_name_alias</code>.</p>\n<p>In the <a href=\"#type_conversion_function-cast\">CAST</a> function, the <code>AS</code> keyword has another meaning. See the description of the function.</p>\n</li>\n<li>\n<p><code>expr</code> \u2014 Any expression supported by ClickHouse.</p>\n<p>For example, <code>SELECT column_name * 2 AS double FROM some_table</code>.</p>\n</li>\n<li>\n<p><code>alias</code> \u2014 Name for <code>expr</code>. Aliases should comply with the <a href=\"#syntax-identifiers\">identifiers</a> syntax.</p>\n<p>For example, <code>SELECT \"table t\".column_name FROM table_name AS \"table t\"</code>.</p>\n</li>\n</ul>\n<h4 id=\"notes-on-usage\">Notes on Usage<a class=\"headerlink\" href=\"#notes-on-usage\" title=\"Permanent link\">&para;</a></h4>\n<p>Aliases are global for a query or subquery and you can define an alias in any part of a query for any expression. For example, <code>SELECT (1 AS n) + 2, n</code>.</p>\n<p>Aliases are not visible in subqueries and between subqueries. For example, while executing the query <code>SELECT (SELECT sum(b.a) + num FROM b) - a.a AS num FROM a</code> ClickHouse generates the exception <code>Unknown identifier: num</code>.</p>\n<p>If an alias is defined for the result columns in the <code>SELECT</code> clause of a subquery, these columns are visible in the outer query. For example, <code>SELECT n + m FROM (SELECT 1 AS n, 2 AS m)</code>.</p>\n<p>Be careful with aliases that are the same as column or table names. Let's consider the following example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">CREATE TABLE t</span>\n<span class=\"err\">(</span>\n<span class=\"err\">    a Int,</span>\n<span class=\"err\">    b Int</span>\n<span class=\"err\">)</span>\n<span class=\"err\">ENGINE = TinyLog()</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span>\n    <span class=\"n\">argMax</span><span class=\"p\">(</span><span class=\"n\">a</span><span class=\"p\">,</span> <span class=\"n\">b</span><span class=\"p\">),</span>\n    <span class=\"k\">sum</span><span class=\"p\">(</span><span class=\"n\">b</span><span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">b</span>\n<span class=\"k\">FROM</span> <span class=\"n\">t</span>\n\n<span class=\"n\">Received</span> <span class=\"k\">exception</span> <span class=\"k\">from</span> <span class=\"n\">server</span> <span class=\"p\">(</span><span class=\"k\">version</span> <span class=\"mi\">18</span><span class=\"p\">.</span><span class=\"mi\">14</span><span class=\"p\">.</span><span class=\"mi\">17</span><span class=\"p\">):</span>\n<span class=\"n\">Code</span><span class=\"p\">:</span> <span class=\"mi\">184</span><span class=\"p\">.</span> <span class=\"n\">DB</span><span class=\"p\">::</span><span class=\"k\">Exception</span><span class=\"p\">:</span> <span class=\"n\">Received</span> <span class=\"k\">from</span> <span class=\"n\">localhost</span><span class=\"p\">:</span><span class=\"mi\">9000</span><span class=\"p\">,</span> <span class=\"mi\">127</span><span class=\"p\">.</span><span class=\"mi\">0</span><span class=\"p\">.</span><span class=\"mi\">0</span><span class=\"p\">.</span><span class=\"mi\">1</span><span class=\"p\">.</span> <span class=\"n\">DB</span><span class=\"p\">::</span><span class=\"k\">Exception</span><span class=\"p\">:</span> <span class=\"k\">Aggregate</span> <span class=\"k\">function</span> <span class=\"k\">sum</span><span class=\"p\">(</span><span class=\"n\">b</span><span class=\"p\">)</span> <span class=\"k\">is</span> <span class=\"k\">found</span> <span class=\"n\">inside</span> <span class=\"n\">another</span> <span class=\"k\">aggregate</span> <span class=\"k\">function</span> <span class=\"k\">in</span> <span class=\"n\">query</span><span class=\"p\">.</span>\n</pre></div>\n\n\n<p>In this example, we declared table <code>t</code> with column <code>b</code>. Then, when selecting data, we defined the <code>sum(b) AS b</code> alias. As aliases are global, ClickHouse substituted the literal <code>b</code> in the expression <code>argMax(a, b)</code> with the expression <code>sum(b)</code>. This substitution caused the exception.</p>\n<h3 id=\"asterisk\">Asterisk<a class=\"headerlink\" href=\"#asterisk\" title=\"Permanent link\">&para;</a></h3>\n<p>In a <code>SELECT</code> query, an asterisk can replace the expression. For more information, see the section \"SELECT\".</p>\n<h3 id=\"syntax-expressions\">Expressions<a class=\"headerlink\" href=\"#syntax-expressions\" title=\"Permanent link\">&para;</a></h3>\n<p>An expression is a function, identifier, literal, application of an operator, expression in brackets, subquery, or asterisk. It can also contain an alias.\nA list of expressions is one or more expressions separated by commas.\nFunctions and operators, in turn, can have expressions as arguments.</p>\n<p><a name=\"../../operations/\"></a>\n<a name=\"../../../../../operations/\"></a>\n<a name=\"../../../../operations/\"></a>\n<a name=\"operations/\"></a>\n<a name=\"../operations/\"></a>\n<a name=\"../../../operations/\"></a></p>\n<h2 id=\"settings\">Settings<a class=\"headerlink\" href=\"#settings\" title=\"Permanent link\">&para;</a></h2>\n<p>There are multiple ways to make all the settings described below.\nSettings are configured in layers, so each subsequent layer redefines the previous settings.</p>\n<p>Ways to configure settings, in order of priority:</p>\n<ul>\n<li>\n<p>Settings in the <code>users.xml</code> server configuration file.</p>\n<p>Set in the element <code>&lt;profiles&gt;</code>.</p>\n</li>\n<li>\n<p>Session settings.</p>\n<p>Send <code>SET setting=value</code> from the ClickHouse console client in interactive mode.\nSimilarly, you can use ClickHouse sessions in the HTTP protocol. To do this, you need to specify the <code>session_id</code> HTTP parameter.</p>\n</li>\n<li>\n<p>Query settings.</p>\n<ul>\n<li>When starting the ClickHouse console client in non-interactive mode, set the startup parameter <code>--setting=value</code>.</li>\n<li>When using the HTTP API, pass CGI parameters (<code>URL?setting_1=value&amp;setting_2=value...</code>).</li>\n</ul>\n</li>\n</ul>\n<p>Settings that can only be made in the server config file are not covered in this section.</p>\n<p><a name=\"operations/requirements/\"></a>\n<a name=\"../../../operations/requirements/\"></a>\n<a name=\"../operations/requirements/\"></a>\n<a name=\"../../../../operations/requirements/\"></a>\n<a name=\"../../../../../operations/requirements/\"></a>\n<a name=\"../../operations/requirements/\"></a>\n<a name=\"requirements/\"></a></p>\n<h2 id=\"requirements\">Requirements<a class=\"headerlink\" href=\"#requirements\" title=\"Permanent link\">&para;</a></h2>\n<h3 id=\"cpu_1\">CPU<a class=\"headerlink\" href=\"#cpu_1\" title=\"Permanent link\">&para;</a></h3>\n<p>For installation from prebuilt deb packages, use a CPU with x86_64 architecture and support for SSE 4.2 instructions. To run ClickHouse with processors that do not support SSE 4.2 or have AArch64 or PowerPC64LE architecture, you should build ClickHouse from sources.</p>\n<p>ClickHouse implements parallel data processing and uses all the hardware resources available. When choosing a processor, take into account that ClickHouse works more efficiently at configurations with a large number of cores but a lower clock rate than at configurations with fewer cores and a higher clock rate. For example, 16 cores with 2600 MHz is preferable to 8 cores with 3600 MHz.</p>\n<p>Use of <strong>Turbo Boost</strong> and <strong>hyper-threading</strong> technologies is recommended. It significantly improves performance with a typical load.</p>\n<h3 id=\"ram\">RAM<a class=\"headerlink\" href=\"#ram\" title=\"Permanent link\">&para;</a></h3>\n<p>We recommend to use a minimum of 4GB of RAM in order to perform non-trivial queries. The ClickHouse server can run with a much smaller amount of RAM, but it requires memory for processing queries.</p>\n<p>The required volume of RAM depends on:</p>\n<ul>\n<li>The complexity of queries.</li>\n<li>The amount of data that is processed in queries.</li>\n</ul>\n<p>To calculate the required volume of RAM, you should estimate the size of temporary data for <a href=\"#select-group-by-clause\">GROUP BY</a>, <a href=\"#select-distinct\">DISTINCT</a>, <a href=\"#select-join\">JOIN</a> and other operations you use.</p>\n<p>ClickHouse can use external memory for temporary data. See <a href=\"#select-group-by-in-external-memory\">GROUP BY in External Memory</a> for details.</p>\n<h3 id=\"swap-file\">Swap File<a class=\"headerlink\" href=\"#swap-file\" title=\"Permanent link\">&para;</a></h3>\n<p>Disable the swap file for production environments.</p>\n<h3 id=\"storage-subsystem\">Storage Subsystem<a class=\"headerlink\" href=\"#storage-subsystem\" title=\"Permanent link\">&para;</a></h3>\n<p>You need to have 2GB of free disk space to install ClickHouse.</p>\n<p>The volume of storage required for your data should be calculated separately. Assessment should include:</p>\n<ul>\n<li>\n<p>Estimation of the data volume.</p>\n<p>You can take a sample of the data and get the average size of a row from it. Then multiply the value by the number of rows you plan to store.</p>\n</li>\n<li>\n<p>The data compression coefficient.</p>\n<p>To estimate the data compression coefficient, load a sample of your data into ClickHouse and compare the actual size of the data with the size of the table stored. For example, clickstream data is usually compressed by 6-10 times.</p>\n</li>\n</ul>\n<p>To calculate the final volume of data to be stored, apply the compression coefficient to the estimated data volume. If you plan to store data in several replicas, then multiply the estimated volume by the number of replicas.</p>\n<h3 id=\"network\">Network<a class=\"headerlink\" href=\"#network\" title=\"Permanent link\">&para;</a></h3>\n<p>If possible, use networks of 10G or higher class.</p>\n<p>The network bandwidth is critical for processing distributed queries with a large amount of intermediate data. In addition, network speed affects replication processes.</p>\n<h3 id=\"software\">Software<a class=\"headerlink\" href=\"#software\" title=\"Permanent link\">&para;</a></h3>\n<p>ClickHouse is developed for the Linux family of operating systems. The recommended Linux distribution is Ubuntu. The <code>tzdata</code> package should be installed in the system.</p>\n<p>ClickHouse can also work in other operating system families. See details in the <a href=\"#../getting_started/\">Getting started</a> section of the documentation.\n<a name=\"../../../../operations/monitoring/\"></a>\n<a name=\"../../../../../operations/monitoring/\"></a>\n<a name=\"operations/monitoring/\"></a>\n<a name=\"monitoring/\"></a>\n<a name=\"../../operations/monitoring/\"></a>\n<a name=\"../operations/monitoring/\"></a>\n<a name=\"../../../operations/monitoring/\"></a></p>\n<h2 id=\"monitoring\">Monitoring<a class=\"headerlink\" href=\"#monitoring\" title=\"Permanent link\">&para;</a></h2>\n<p>You can monitor:</p>\n<ul>\n<li>Utilization of hardware resources.</li>\n<li>ClickHouse server metrics.</li>\n</ul>\n<h3 id=\"resource-utilization\">Resource Utilization<a class=\"headerlink\" href=\"#resource-utilization\" title=\"Permanent link\">&para;</a></h3>\n<p>ClickHouse does not monitor the state of hardware resources by itself.</p>\n<p>It is highly recommended to set up monitoring for:</p>\n<ul>\n<li>\n<p>Load and temperature on processors.</p>\n<p>You can use <a href=\"https://en.wikipedia.org/wiki/Dmesg\" rel=\"external nofollow\">dmesg</a>, <a href=\"https://www.linux.org/docs/man8/turbostat.html\" rel=\"external nofollow\">turbostat</a> or other instruments.</p>\n</li>\n<li>\n<p>Utilization of storage system, RAM and network.</p>\n</li>\n</ul>\n<h3 id=\"clickhouse-server-metrics\">ClickHouse Server Metrics<a class=\"headerlink\" href=\"#clickhouse-server-metrics\" title=\"Permanent link\">&para;</a></h3>\n<p>ClickHouse server has embedded instruments for self-state monitoring.</p>\n<p>To track server events use server logs. See the <a href=\"#server_settings-logger\">logger</a> section of the configuration file.</p>\n<p>ClickHouse collects:</p>\n<ul>\n<li>Different metrics of how the server uses computational resources.</li>\n<li>Common statistics on query processing.</li>\n</ul>\n<p>You can find metrics in the <a href=\"#system_tables-metrics\">system.metrics</a>, <a href=\"#system_tables-events\">system.events</a>, and <a href=\"#system_tables-asynchronous_metrics\">system.asynchronous_metrics</a> tables.</p>\n<p>You can configure ClickHouse to export metrics to <a href=\"https://github.com/graphite-project\" rel=\"external nofollow\">Graphite</a>. See the <a href=\"#server_settings-graphite\">Graphite section</a> in the ClickHouse server configuration file. Before configuring export of metrics, you should set up Graphite by following their official guide https://graphite.readthedocs.io/en/latest/install.html.</p>\n<p>Additionally, you can monitor server availability through the HTTP API. Send the <code>HTTP GET</code> request to <code>/</code>. If the server is available, it responds with <code>200 OK</code>.</p>\n<p>To monitor servers in a cluster configuration, you should set the <a href=\"#settings-max_replica_delay_for_distributed_queries\">max_replica_delay_for_distributed_queries</a> parameter and use the HTTP resource <code>/replicas-delay</code>. A request to <code>/replicas-delay</code> returns <code>200 OK</code> if the replica is available and is not delayed behind the other replicas. If a replica is delayed, it returns information about the gap.\n<a name=\"../../../../../operations/troubleshooting/\"></a>\n<a name=\"operations/troubleshooting/\"></a>\n<a name=\"../../operations/troubleshooting/\"></a>\n<a name=\"troubleshooting/\"></a>\n<a name=\"../operations/troubleshooting/\"></a>\n<a name=\"../../../operations/troubleshooting/\"></a>\n<a name=\"../../../../operations/troubleshooting/\"></a></p>\n<h2 id=\"troubleshooting\">Troubleshooting<a class=\"headerlink\" href=\"#troubleshooting\" title=\"Permanent link\">&para;</a></h2>\n<ul>\n<li><a href=\"#troubleshooting-installation-errors\">Installation</a></li>\n<li><a href=\"#troubleshooting-accepts-no-connections\">Connecting to the server</a></li>\n<li><a href=\"#troubleshooting-does-not-process-queries\">Query processing</a></li>\n<li><a href=\"#troubleshooting-too-slow\">Efficiency of query processing</a></li>\n</ul>\n<h3 id=\"troubleshooting-installation-errors\">Installation<a class=\"headerlink\" href=\"#troubleshooting-installation-errors\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"you-cannot-get-deb-packages-from-clickhouse-repository-with-apt-get\">You Cannot Get Deb Packages from ClickHouse Repository With apt-get<a class=\"headerlink\" href=\"#you-cannot-get-deb-packages-from-clickhouse-repository-with-apt-get\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>Check firewall settings.</li>\n<li>If you cannot access the repository for any reason, download packages as described in the <a href=\"#../getting_started/\">Getting started</a> article and install them manually using the <code>sudo dpkg -i &lt;packages&gt;</code> command. You will also need the <code>tzdata</code> package.</li>\n</ul>\n<h3 id=\"troubleshooting-accepts-no-connections\">Connecting to the Server<a class=\"headerlink\" href=\"#troubleshooting-accepts-no-connections\" title=\"Permanent link\">&para;</a></h3>\n<p>Possible issues:</p>\n<ul>\n<li>The server is not running.</li>\n<li>Unexpected or wrong configuration parameters.</li>\n</ul>\n<h4 id=\"server-is-not-running\">Server Is Not Running<a class=\"headerlink\" href=\"#server-is-not-running\" title=\"Permanent link\">&para;</a></h4>\n<p><strong>Check if server is runnnig</strong></p>\n<p>Command:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">sudo service clickhouse-server status</span>\n</pre></div>\n\n\n<p>If the server is not running, start it with the command:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">sudo service clickhouse-server start</span>\n</pre></div>\n\n\n<p><strong>Check logs</strong></p>\n<p>The main log of <code>clickhouse-server</code> is in <code>/var/log/clickhouse-server/clickhouse-server.log</code> by default.</p>\n<p>If the server started successfully, you should see the strings:</p>\n<ul>\n<li><code>&lt;Information&gt; Application: starting up.</code> \u2014 Server started.</li>\n<li><code>&lt;Information&gt; Application: Ready for connections.</code> \u2014 Server is running and ready for connections.</li>\n</ul>\n<p>If <code>clickhouse-server</code> start failed with a configuration error, you should see the <code>&lt;Error&gt;</code> string with an error description. For example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">2019.01.11 15:23:25.549505 [ 45 ] {} &lt;Error&gt; ExternalDictionaries: Failed reloading &#39;event2id&#39; external dictionary: Poco::Exception. Code: 1000, e.code() = 111, e.displayText() = Connection refused, e.what() = Connection refused</span>\n</pre></div>\n\n\n<p>If you don't see an error at the end of the file, look through the entire file starting from the string:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">&lt;Information&gt; Application: starting up.</span>\n</pre></div>\n\n\n<p>If you try to start a second instance of <code>clickhouse-server</code> on the server, you see the following log:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"mi\">2019</span><span class=\"p\">.</span><span class=\"mi\">01</span><span class=\"p\">.</span><span class=\"mi\">11</span> <span class=\"mi\">15</span><span class=\"p\">:</span><span class=\"mi\">25</span><span class=\"p\">:</span><span class=\"mi\">11</span><span class=\"p\">.</span><span class=\"mi\">151730</span> <span class=\"p\">[</span> <span class=\"mi\">1</span> <span class=\"p\">]</span> <span class=\"err\">{}</span> <span class=\"o\">&lt;</span><span class=\"n\">Information</span><span class=\"o\">&gt;</span> <span class=\"p\">:</span> <span class=\"n\">Starting</span> <span class=\"n\">ClickHouse</span> <span class=\"mi\">19</span><span class=\"p\">.</span><span class=\"mi\">1</span><span class=\"p\">.</span><span class=\"mi\">0</span> <span class=\"k\">with</span> <span class=\"n\">revision</span> <span class=\"mi\">54413</span>\n<span class=\"mi\">2019</span><span class=\"p\">.</span><span class=\"mi\">01</span><span class=\"p\">.</span><span class=\"mi\">11</span> <span class=\"mi\">15</span><span class=\"p\">:</span><span class=\"mi\">25</span><span class=\"p\">:</span><span class=\"mi\">11</span><span class=\"p\">.</span><span class=\"mi\">154578</span> <span class=\"p\">[</span> <span class=\"mi\">1</span> <span class=\"p\">]</span> <span class=\"err\">{}</span> <span class=\"o\">&lt;</span><span class=\"n\">Information</span><span class=\"o\">&gt;</span> <span class=\"n\">Application</span><span class=\"p\">:</span> <span class=\"n\">starting</span> <span class=\"n\">up</span>\n<span class=\"mi\">2019</span><span class=\"p\">.</span><span class=\"mi\">01</span><span class=\"p\">.</span><span class=\"mi\">11</span> <span class=\"mi\">15</span><span class=\"p\">:</span><span class=\"mi\">25</span><span class=\"p\">:</span><span class=\"mi\">11</span><span class=\"p\">.</span><span class=\"mi\">156361</span> <span class=\"p\">[</span> <span class=\"mi\">1</span> <span class=\"p\">]</span> <span class=\"err\">{}</span> <span class=\"o\">&lt;</span><span class=\"n\">Information</span><span class=\"o\">&gt;</span> <span class=\"n\">StatusFile</span><span class=\"p\">:</span> <span class=\"n\">Status</span> <span class=\"n\">file</span> <span class=\"p\">.</span><span class=\"o\">/</span><span class=\"n\">status</span> <span class=\"n\">already</span> <span class=\"k\">exists</span> <span class=\"o\">-</span> <span class=\"n\">unclean</span> <span class=\"k\">restart</span><span class=\"p\">.</span> <span class=\"n\">Contents</span><span class=\"p\">:</span>\n<span class=\"n\">PID</span><span class=\"p\">:</span> <span class=\"mi\">8510</span>\n<span class=\"n\">Started</span> <span class=\"k\">at</span><span class=\"p\">:</span> <span class=\"mi\">2019</span><span class=\"o\">-</span><span class=\"mi\">01</span><span class=\"o\">-</span><span class=\"mi\">11</span> <span class=\"mi\">15</span><span class=\"p\">:</span><span class=\"mi\">24</span><span class=\"p\">:</span><span class=\"mi\">23</span>\n<span class=\"n\">Revision</span><span class=\"p\">:</span> <span class=\"mi\">54413</span>\n\n<span class=\"mi\">2019</span><span class=\"p\">.</span><span class=\"mi\">01</span><span class=\"p\">.</span><span class=\"mi\">11</span> <span class=\"mi\">15</span><span class=\"p\">:</span><span class=\"mi\">25</span><span class=\"p\">:</span><span class=\"mi\">11</span><span class=\"p\">.</span><span class=\"mi\">156673</span> <span class=\"p\">[</span> <span class=\"mi\">1</span> <span class=\"p\">]</span> <span class=\"err\">{}</span> <span class=\"o\">&lt;</span><span class=\"n\">Error</span><span class=\"o\">&gt;</span> <span class=\"n\">Application</span><span class=\"p\">:</span> <span class=\"n\">DB</span><span class=\"p\">::</span><span class=\"k\">Exception</span><span class=\"p\">:</span> <span class=\"n\">Cannot</span> <span class=\"k\">lock</span> <span class=\"n\">file</span> <span class=\"p\">.</span><span class=\"o\">/</span><span class=\"n\">status</span><span class=\"p\">.</span> <span class=\"n\">Another</span> <span class=\"n\">server</span> <span class=\"n\">instance</span> <span class=\"k\">in</span> <span class=\"n\">same</span> <span class=\"n\">directory</span> <span class=\"k\">is</span> <span class=\"n\">already</span> <span class=\"n\">running</span><span class=\"p\">.</span>\n<span class=\"mi\">2019</span><span class=\"p\">.</span><span class=\"mi\">01</span><span class=\"p\">.</span><span class=\"mi\">11</span> <span class=\"mi\">15</span><span class=\"p\">:</span><span class=\"mi\">25</span><span class=\"p\">:</span><span class=\"mi\">11</span><span class=\"p\">.</span><span class=\"mi\">156682</span> <span class=\"p\">[</span> <span class=\"mi\">1</span> <span class=\"p\">]</span> <span class=\"err\">{}</span> <span class=\"o\">&lt;</span><span class=\"n\">Information</span><span class=\"o\">&gt;</span> <span class=\"n\">Application</span><span class=\"p\">:</span> <span class=\"n\">shutting</span> <span class=\"n\">down</span>\n<span class=\"mi\">2019</span><span class=\"p\">.</span><span class=\"mi\">01</span><span class=\"p\">.</span><span class=\"mi\">11</span> <span class=\"mi\">15</span><span class=\"p\">:</span><span class=\"mi\">25</span><span class=\"p\">:</span><span class=\"mi\">11</span><span class=\"p\">.</span><span class=\"mi\">156686</span> <span class=\"p\">[</span> <span class=\"mi\">1</span> <span class=\"p\">]</span> <span class=\"err\">{}</span> <span class=\"o\">&lt;</span><span class=\"n\">Debug</span><span class=\"o\">&gt;</span> <span class=\"n\">Application</span><span class=\"p\">:</span> <span class=\"n\">Uninitializing</span> <span class=\"n\">subsystem</span><span class=\"p\">:</span> <span class=\"n\">Logging</span> <span class=\"n\">Subsystem</span>\n<span class=\"mi\">2019</span><span class=\"p\">.</span><span class=\"mi\">01</span><span class=\"p\">.</span><span class=\"mi\">11</span> <span class=\"mi\">15</span><span class=\"p\">:</span><span class=\"mi\">25</span><span class=\"p\">:</span><span class=\"mi\">11</span><span class=\"p\">.</span><span class=\"mi\">156716</span> <span class=\"p\">[</span> <span class=\"mi\">2</span> <span class=\"p\">]</span> <span class=\"err\">{}</span> <span class=\"o\">&lt;</span><span class=\"n\">Information</span><span class=\"o\">&gt;</span> <span class=\"n\">BaseDaemon</span><span class=\"p\">:</span> <span class=\"n\">Stop</span> <span class=\"n\">SignalListener</span> <span class=\"n\">thread</span>\n</pre></div>\n\n\n<p><strong>See system.d logs</strong></p>\n<p>If you don't find any useful information in <code>clickhouse-server</code> logs or there aren't any logs, you can view <code>system.d</code> logs using the command:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">sudo journalctl -u clickhouse-server</span>\n</pre></div>\n\n\n<p><strong>Start clickhouse-server in interactive mode</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">sudo -u clickhouse /usr/bin/clickhouse-server --config-file /etc/clickhouse-server/config.xml</span>\n</pre></div>\n\n\n<p>This command starts the server as an interactive app with standard parameters of the autostart script. In this mode <code>clickhouse-server</code> prints all the event messages in the console.</p>\n<h4 id=\"configuration-parameters\">Configuration Parameters<a class=\"headerlink\" href=\"#configuration-parameters\" title=\"Permanent link\">&para;</a></h4>\n<p>Check:</p>\n<ul>\n<li>\n<p>Docker settings.</p>\n<p>If you run ClickHouse in Docker in an IPv6 network, make sure that <code>network=host</code> is set.</p>\n</li>\n<li>\n<p>Endpoint settings.</p>\n<p>Check <a href=\"#server_settings-listen_host\">listen_host</a> and <a href=\"#server_settings-tcp_port\">tcp_port</a> settings.</p>\n<p>ClickHouse server accepts localhost connections only by default.</p>\n</li>\n<li>\n<p>HTTP protocol settings.</p>\n<p>Check protocol settings for the HTTP API.</p>\n</li>\n<li>\n<p>Secure connection settings.</p>\n<p>Check:</p>\n<ul>\n<li>The <a href=\"#server_settings-tcp_port_secure\">tcp_port_secure</a> setting.</li>\n<li>Settings for <a href=\"#server_settings-openssl\">SSL sertificates</a>.</li>\n</ul>\n<p>Use proper parameters while connecting. For example, use the <code>port_secure</code> parameter with <code>clickhouse_client</code>.</p>\n</li>\n<li>\n<p>User settings.</p>\n<p>You might be using the wrong user name or password.</p>\n</li>\n</ul>\n<h3 id=\"troubleshooting-does-not-process-queries\">Query Processing<a class=\"headerlink\" href=\"#troubleshooting-does-not-process-queries\" title=\"Permanent link\">&para;</a></h3>\n<p>If ClickHouse is not able to process the query, it sends an error description to the client. In the <code>clickhouse-client</code> you get a description of the error in the console. If you are using the HTTP interface, ClickHouse sends the error description in the response body. For example:</p>\n<div class=\"codehilite\"><pre><span></span>$ curl <span class=\"s1\">&#39;http://localhost:8123/&#39;</span> --data-binary <span class=\"s2\">&quot;SELECT a&quot;</span>\nCode: <span class=\"m\">47</span>, e.displayText<span class=\"o\">()</span> <span class=\"o\">=</span> DB::Exception: Unknown identifier: a. Note that there are no tables <span class=\"o\">(</span>FROM clause<span class=\"o\">)</span> in your query, context: required_names: <span class=\"s1\">&#39;a&#39;</span> source_tables: table_aliases: private_aliases: column_aliases: public_columns: <span class=\"s1\">&#39;a&#39;</span> masked_columns: array_join_columns: source_columns: , e.what<span class=\"o\">()</span> <span class=\"o\">=</span> DB::Exception\n</pre></div>\n\n\n<p>If you start <code>clickhouse-client</code> with the <code>stack-trace</code> parameter, ClickHouse returns the server stack trace with the description of an error.</p>\n<p>You might see a message about a broken connection. In this case, you can repeat the query. If the connection breaks every time you perform the query, check the server logs for errors.</p>\n<h3 id=\"troubleshooting-too-slow\">Efficiency of Query Processing<a class=\"headerlink\" href=\"#troubleshooting-too-slow\" title=\"Permanent link\">&para;</a></h3>\n<p>If you see that ClickHouse is working too slowly, you need to profile the load on the server resources and network for your queries.</p>\n<p>You can use the clickhouse-benchmark utility to profile queries. It shows the number of queries processed per second, the number of rows processed per second, and percentiles of query processing times.\n<a name=\"operations/tips/\"></a>\n<a name=\"../../../../operations/tips/\"></a>\n<a name=\"../../operations/tips/\"></a>\n<a name=\"../operations/tips/\"></a>\n<a name=\"tips/\"></a>\n<a name=\"../../../../../operations/tips/\"></a>\n<a name=\"../../../operations/tips/\"></a></p>\n<h2 id=\"usage-recommendations_1\">Usage Recommendations<a class=\"headerlink\" href=\"#usage-recommendations_1\" title=\"Permanent link\">&para;</a></h2>\n<h3 id=\"cpu-scaling-governor\">CPU Scaling Governor<a class=\"headerlink\" href=\"#cpu-scaling-governor\" title=\"Permanent link\">&para;</a></h3>\n<p>Always use the <code>performance</code> scaling governor. The <code>on-demand</code> scaling governor works much worse with constantly high demand.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nb\">echo</span> <span class=\"s1\">&#39;performance&#39;</span> <span class=\"p\">|</span> sudo tee /sys/devices/system/cpu/cpu*/cpufreq/scaling_governor\n</pre></div>\n\n\n<h3 id=\"cpu-limitations\">CPU Limitations<a class=\"headerlink\" href=\"#cpu-limitations\" title=\"Permanent link\">&para;</a></h3>\n<p>Processors can overheat. Use <code>dmesg</code> to see if the CPU's clock rate was limited due to overheating.\nThe restriction can also be set externally at the datacenter level. You can use <code>turbostat</code> to monitor it under a load.</p>\n<h3 id=\"ram_1\">RAM<a class=\"headerlink\" href=\"#ram_1\" title=\"Permanent link\">&para;</a></h3>\n<p>For small amounts of data (up to ~200 GB compressed), it is best to use as much memory as the volume of data.\nFor large amounts of data and when processing interactive (online) queries, you should use a reasonable amount of RAM (128 GB or more) so the hot data subset will fit in the cache of pages.\nEven for data volumes of ~50 TB per server, using 128 GB of RAM significantly improves query performance compared to 64 GB.</p>\n<p>Do not disable overcommit. The value <code>cat /proc/sys/vm/overcommit_memory</code> should be 0 or 1. Run</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">echo 0 | sudo tee /proc/sys/vm/overcommit_memory</span>\n</pre></div>\n\n\n<h3 id=\"huge-pages\">Huge Pages<a class=\"headerlink\" href=\"#huge-pages\" title=\"Permanent link\">&para;</a></h3>\n<p>Always disable transparent huge pages. It interferes with memory allocators, which leads to significant performance degradation.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nb\">echo</span> <span class=\"s1\">&#39;never&#39;</span> <span class=\"p\">|</span> sudo tee /sys/kernel/mm/transparent_hugepage/enabled\n</pre></div>\n\n\n<p>Use <code>perf top</code> to watch the time spent in the kernel for memory management.\nPermanent huge pages also do not need to be allocated.</p>\n<h3 id=\"storage-subsystem_1\">Storage Subsystem<a class=\"headerlink\" href=\"#storage-subsystem_1\" title=\"Permanent link\">&para;</a></h3>\n<p>If your budget allows you to use SSD, use SSD.\nIf not, use HDD. SATA HDDs 7200 RPM will do.</p>\n<p>Give preference to a lot of servers with local hard drives over a smaller number of servers with attached disk shelves.\nBut for storing archives with rare queries, shelves will work.</p>\n<h3 id=\"raid\">RAID<a class=\"headerlink\" href=\"#raid\" title=\"Permanent link\">&para;</a></h3>\n<p>When using HDD, you can combine their RAID-10, RAID-5, RAID-6 or RAID-50.\nFor Linux, software RAID is better (with <code>mdadm</code>). We don't recommend using LVM.\nWhen creating RAID-10, select the <code>far</code> layout.\nIf your budget allows, choose RAID-10.</p>\n<p>If you have more than 4 disks, use RAID-6 (preferred) or RAID-50, instead of RAID-5.\nWhen using RAID-5, RAID-6 or RAID-50, always increase stripe_cache_size, since the default value is usually not the best choice.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nb\">echo</span> <span class=\"m\">4096</span> <span class=\"p\">|</span> sudo tee /sys/block/md2/md/stripe_cache_size\n</pre></div>\n\n\n<p>Calculate the exact number from the number of devices and the block size, using the formula: <code>2 * num_devices * chunk_size_in_bytes / 4096</code>.</p>\n<p>A block size of 1024 KB is sufficient for all RAID configurations.\nNever set the block size too small or too large.</p>\n<p>You can use RAID-0 on SSD.\nRegardless of RAID use, always use replication for data security.</p>\n<p>Enable NCQ with a long queue. For HDD, choose the CFQ scheduler, and for SSD, choose noop. Don't reduce the 'readahead' setting.\nFor HDD, enable the write cache.</p>\n<h3 id=\"file-system\">File System<a class=\"headerlink\" href=\"#file-system\" title=\"Permanent link\">&para;</a></h3>\n<p>Ext4 is the most reliable option. Set the mount options <code>noatime, nobarrier</code>.\nXFS is also suitable, but it hasn't been as thoroughly tested with ClickHouse.\nMost other file systems should also work fine. File systems with delayed allocation work better.</p>\n<h3 id=\"linux-kernel\">Linux Kernel<a class=\"headerlink\" href=\"#linux-kernel\" title=\"Permanent link\">&para;</a></h3>\n<p>Don't use an outdated Linux kernel.</p>\n<h3 id=\"network_1\">Network<a class=\"headerlink\" href=\"#network_1\" title=\"Permanent link\">&para;</a></h3>\n<p>If you are using IPv6, increase the size of the route cache.\nThe Linux kernel prior to 3.2 had a multitude of problems with IPv6 implementation.</p>\n<p>Use at least a 10 GB network, if possible. 1 Gb will also work, but it will be much worse for patching replicas with tens of terabytes of data, or for processing distributed queries with a large amount of intermediate data.</p>\n<h3 id=\"zookeeper\">ZooKeeper<a class=\"headerlink\" href=\"#zookeeper\" title=\"Permanent link\">&para;</a></h3>\n<p>You are probably already using ZooKeeper for other purposes. You can use the same installation of ZooKeeper, if it isn't already overloaded.</p>\n<p>It's best to use a fresh version of ZooKeeper \u2013 3.4.9 or later. The version in stable Linux distributions may be outdated.</p>\n<p>You should never use manually written scripts to transfer data between different ZooKeeper clusters, because the result will be incorrect for sequential nodes. Never use the \"zkcopy\" utility for the same reason: https://github.com/ksprojects/zkcopy/issues/15</p>\n<p>If you want to divide an existing ZooKeeper cluster into two, the correct way is to increase the number of its replicas and then reconfigure it as two independent clusters.</p>\n<p>Do not run ZooKeeper on the same servers as ClickHouse. Because ZooKeeper is very sensitive for latency and ClickHouse may utilize all available system resources.</p>\n<p>With the default settings, ZooKeeper is a time bomb:</p>\n<blockquote>\n<p>The ZooKeeper server won't delete files from old snapshots and logs when using the default configuration (see autopurge), and this is the responsibility of the operator.</p>\n</blockquote>\n<p>This bomb must be defused.</p>\n<p>The ZooKeeper (3.5.1) configuration below is used in the Yandex.Metrica production environment as of May 20, 2017:</p>\n<p>zoo.cfg:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"c1\">## http://hadoop.apache.org/zookeeper/docs/current/zookeeperAdmin.html</span>\n\n<span class=\"c1\">## The number of milliseconds of each tick</span>\n<span class=\"nv\">tickTime</span><span class=\"o\">=</span><span class=\"m\">2000</span>\n<span class=\"c1\">## The number of ticks that the initial</span>\n<span class=\"c1\">## synchronization phase can take</span>\n<span class=\"nv\">initLimit</span><span class=\"o\">=</span><span class=\"m\">30000</span>\n<span class=\"c1\">## The number of ticks that can pass between</span>\n<span class=\"c1\">## sending a request and getting an acknowledgement</span>\n<span class=\"nv\">syncLimit</span><span class=\"o\">=</span><span class=\"m\">10</span>\n\n<span class=\"nv\">maxClientCnxns</span><span class=\"o\">=</span><span class=\"m\">2000</span>\n\n<span class=\"nv\">maxSessionTimeout</span><span class=\"o\">=</span><span class=\"m\">60000000</span>\n<span class=\"c1\">## the directory where the snapshot is stored.</span>\n<span class=\"nv\">dataDir</span><span class=\"o\">=</span>/opt/zookeeper/<span class=\"o\">{{</span> cluster<span class=\"o\">[</span><span class=\"s1\">&#39;name&#39;</span><span class=\"o\">]</span> <span class=\"o\">}}</span>/data\n<span class=\"c1\">## Place the dataLogDir to a separate physical disc for better performance</span>\n<span class=\"nv\">dataLogDir</span><span class=\"o\">=</span>/opt/zookeeper/<span class=\"o\">{{</span> cluster<span class=\"o\">[</span><span class=\"s1\">&#39;name&#39;</span><span class=\"o\">]</span> <span class=\"o\">}}</span>/logs\n\nautopurge.snapRetainCount<span class=\"o\">=</span><span class=\"m\">10</span>\nautopurge.purgeInterval<span class=\"o\">=</span><span class=\"m\">1</span>\n\n\n<span class=\"c1\">## To avoid seeks ZooKeeper allocates space in the transaction log file in</span>\n<span class=\"c1\">## blocks of preAllocSize kilobytes. The default block size is 64M. One reason</span>\n<span class=\"c1\">## for changing the size of the blocks is to reduce the block size if snapshots</span>\n<span class=\"c1\">## are taken more often. (Also, see snapCount).</span>\n<span class=\"nv\">preAllocSize</span><span class=\"o\">=</span><span class=\"m\">131072</span>\n\n<span class=\"c1\">## Clients can submit requests faster than ZooKeeper can process them,</span>\n<span class=\"c1\">## especially if there are a lot of clients. To prevent ZooKeeper from running</span>\n<span class=\"c1\">## out of memory due to queued requests, ZooKeeper will throttle clients so that</span>\n<span class=\"c1\">## there is no more than globalOutstandingLimit outstanding requests in the</span>\n<span class=\"c1\">## system. The default limit is 1,000.ZooKeeper logs transactions to a</span>\n<span class=\"c1\">## transaction log. After snapCount transactions are written to a log file a</span>\n<span class=\"c1\">## snapshot is started and a new transaction log file is started. The default</span>\n<span class=\"c1\">## snapCount is 10,000.</span>\n<span class=\"nv\">snapCount</span><span class=\"o\">=</span><span class=\"m\">3000000</span>\n\n<span class=\"c1\">## If this option is defined, requests will be will logged to a trace file named</span>\n<span class=\"c1\">## traceFile.year.month.day.</span>\n<span class=\"c1\">##traceFile=</span>\n\n<span class=\"c1\">## Leader accepts client connections. Default value is &quot;yes&quot;. The leader machine</span>\n<span class=\"c1\">## coordinates updates. For higher update throughput at thes slight expense of</span>\n<span class=\"c1\">## read throughput the leader can be configured to not accept clients and focus</span>\n<span class=\"c1\">## on coordination.</span>\n<span class=\"nv\">leaderServes</span><span class=\"o\">=</span>yes\n\n<span class=\"nv\">standaloneEnabled</span><span class=\"o\">=</span><span class=\"nb\">false</span>\n<span class=\"nv\">dynamicConfigFile</span><span class=\"o\">=</span>/etc/zookeeper-<span class=\"o\">{{</span> cluster<span class=\"o\">[</span><span class=\"s1\">&#39;name&#39;</span><span class=\"o\">]</span> <span class=\"o\">}}</span>/conf/zoo.cfg.dynamic\n</pre></div>\n\n\n<p>Java version:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">Java(TM) SE Runtime Environment (build 1.8.0_25-b17)</span>\n<span class=\"err\">Java HotSpot(TM) 64-Bit Server VM (build 25.25-b02, mixed mode)</span>\n</pre></div>\n\n\n<p>JVM parameters:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nv\">NAME</span><span class=\"o\">=</span>zookeeper-<span class=\"o\">{{</span> cluster<span class=\"o\">[</span><span class=\"s1\">&#39;name&#39;</span><span class=\"o\">]</span> <span class=\"o\">}}</span>\n<span class=\"nv\">ZOOCFGDIR</span><span class=\"o\">=</span>/etc/<span class=\"nv\">$NAME</span>/conf\n\n<span class=\"c1\">## TODO this is really ugly</span>\n<span class=\"c1\">## How to find out, which jars are needed?</span>\n<span class=\"c1\">## seems, that log4j requires the log4j.properties file to be in the classpath</span>\n<span class=\"nv\">CLASSPATH</span><span class=\"o\">=</span><span class=\"s2\">&quot;</span><span class=\"nv\">$ZOOCFGDIR</span><span class=\"s2\">:/usr/build/classes:/usr/build/lib/*.jar:/usr/share/zookeeper/zookeeper-3.5.1-metrika.jar:/usr/share/zookeeper/slf4j-log4j12-1.7.5.jar:/usr/share/zookeeper/slf4j-api-1.7.5.jar:/usr/share/zookeeper/servlet-api-2.5-20081211.jar:/usr/share/zookeeper/netty-3.7.0.Final.jar:/usr/share/zookeeper/log4j-1.2.16.jar:/usr/share/zookeeper/jline-2.11.jar:/usr/share/zookeeper/jetty-util-6.1.26.jar:/usr/share/zookeeper/jetty-6.1.26.jar:/usr/share/zookeeper/javacc.jar:/usr/share/zookeeper/jackson-mapper-asl-1.9.11.jar:/usr/share/zookeeper/jackson-core-asl-1.9.11.jar:/usr/share/zookeeper/commons-cli-1.2.jar:/usr/src/java/lib/*.jar:/usr/etc/zookeeper&quot;</span>\n\n<span class=\"nv\">ZOOCFG</span><span class=\"o\">=</span><span class=\"s2\">&quot;</span><span class=\"nv\">$ZOOCFGDIR</span><span class=\"s2\">/zoo.cfg&quot;</span>\n<span class=\"nv\">ZOO_LOG_DIR</span><span class=\"o\">=</span>/var/log/<span class=\"nv\">$NAME</span>\n<span class=\"nv\">USER</span><span class=\"o\">=</span>zookeeper\n<span class=\"nv\">GROUP</span><span class=\"o\">=</span>zookeeper\n<span class=\"nv\">PIDDIR</span><span class=\"o\">=</span>/var/run/<span class=\"nv\">$NAME</span>\n<span class=\"nv\">PIDFILE</span><span class=\"o\">=</span><span class=\"nv\">$PIDDIR</span>/<span class=\"nv\">$NAME</span>.pid\n<span class=\"nv\">SCRIPTNAME</span><span class=\"o\">=</span>/etc/init.d/<span class=\"nv\">$NAME</span>\n<span class=\"nv\">JAVA</span><span class=\"o\">=</span>/usr/bin/java\n<span class=\"nv\">ZOOMAIN</span><span class=\"o\">=</span><span class=\"s2\">&quot;org.apache.zookeeper.server.quorum.QuorumPeerMain&quot;</span>\n<span class=\"nv\">ZOO_LOG4J_PROP</span><span class=\"o\">=</span><span class=\"s2\">&quot;INFO,ROLLINGFILE&quot;</span>\n<span class=\"nv\">JMXLOCALONLY</span><span class=\"o\">=</span><span class=\"nb\">false</span>\n<span class=\"nv\">JAVA_OPTS</span><span class=\"o\">=</span><span class=\"s2\">&quot;-Xms{{ cluster.get(&#39;xms&#39;,&#39;128M&#39;) }} \\</span>\n<span class=\"s2\">    -Xmx{{ cluster.get(&#39;xmx&#39;,&#39;1G&#39;) }} \\</span>\n<span class=\"s2\">    -Xloggc:/var/log/</span><span class=\"nv\">$NAME</span><span class=\"s2\">/zookeeper-gc.log \\</span>\n<span class=\"s2\">    -XX:+UseGCLogFileRotation \\</span>\n<span class=\"s2\">    -XX:NumberOfGCLogFiles=16 \\</span>\n<span class=\"s2\">    -XX:GCLogFileSize=16M \\</span>\n<span class=\"s2\">    -verbose:gc \\</span>\n<span class=\"s2\">    -XX:+PrintGCTimeStamps \\</span>\n<span class=\"s2\">    -XX:+PrintGCDateStamps \\</span>\n<span class=\"s2\">    -XX:+PrintGCDetails</span>\n<span class=\"s2\">    -XX:+PrintTenuringDistribution \\</span>\n<span class=\"s2\">    -XX:+PrintGCApplicationStoppedTime \\</span>\n<span class=\"s2\">    -XX:+PrintGCApplicationConcurrentTime \\</span>\n<span class=\"s2\">    -XX:+PrintSafepointStatistics \\</span>\n<span class=\"s2\">    -XX:+UseParNewGC \\</span>\n<span class=\"s2\">    -XX:+UseConcMarkSweepGC \\</span>\n<span class=\"s2\">-XX:+CMSParallelRemarkEnabled&quot;</span>\n</pre></div>\n\n\n<p>Salt init:</p>\n<div class=\"codehilite\"><pre><span></span>description &quot;zookeeper-{{ cluster[&#39;name&#39;] }} centralized coordination service&quot;\n\nstart on runlevel [2345]\nstop on runlevel [!2345]\n\nrespawn\n\nlimit nofile 8192 8192\n\npre-start script\n    [ -r &quot;/etc/zookeeper-{{ cluster[&#39;name&#39;] }}/conf/environment&quot; ] || exit 0\n    . /etc/zookeeper-{{ cluster[&#39;name&#39;] }}/conf/environment\n    [ -d <span class=\"nv\">$ZOO_LOG_DIR</span> ] || mkdir -p <span class=\"nv\">$ZOO_LOG_DIR</span>\n    chown <span class=\"nv\">$USER</span>:<span class=\"nv\">$GROUP</span> <span class=\"nv\">$ZOO_LOG_DIR</span>\nend script\n\nscript\n    . /etc/zookeeper-{{ cluster[&#39;name&#39;] }}/conf/environment\n    [ -r /etc/default/zookeeper ] <span class=\"err\">&amp;&amp;</span> . /etc/default/zookeeper\n    if [ -z &quot;<span class=\"nv\">$JMXDISABLE</span>&quot; ]; then\n        JAVA_OPTS=&quot;<span class=\"nv\">$JAVA_OPTS</span> -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.local.only=<span class=\"nv\">$JMXLOCALONLY</span>&quot;\n    fi\n    exec start-stop-daemon --start -c <span class=\"nv\">$USER</span> --exec <span class=\"nv\">$JAVA</span> --name zookeeper-{{ cluster[&#39;name&#39;] }} \\\n        -- -cp <span class=\"nv\">$CLASSPATH</span> <span class=\"nv\">$JAVA_OPTS</span> -Dzookeeper.log.dir=<span class=\"cp\">${</span><span class=\"n\">ZOO_LOG_DIR</span><span class=\"cp\">}</span> \\\n        -Dzookeeper.root.logger=<span class=\"cp\">${</span><span class=\"n\">ZOO_LOG4J_PROP</span><span class=\"cp\">}</span> <span class=\"nv\">$ZOOMAIN</span> <span class=\"nv\">$ZOOCFG</span>\nend script\n</pre></div>\n\n\n<p><a name=\"../../operations/update/\"></a>\n<a name=\"update/\"></a>\n<a name=\"../../../operations/update/\"></a>\n<a name=\"../../../../operations/update/\"></a>\n<a name=\"../../../../../operations/update/\"></a>\n<a name=\"../operations/update/\"></a>\n<a name=\"operations/update/\"></a></p>\n<h2 id=\"clickhouse-update\">ClickHouse Update<a class=\"headerlink\" href=\"#clickhouse-update\" title=\"Permanent link\">&para;</a></h2>\n<p>If ClickHouse was installed from deb packages, execute the following commands on the server:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">sudo apt-get update</span>\n<span class=\"err\">sudo apt-get install clickhouse-client clickhouse-server</span>\n<span class=\"err\">sudo service clickhouse-server restart</span>\n</pre></div>\n\n\n<p>If you installed ClickHouse using something other than the recommended deb packages, use the appropriate update method.</p>\n<p>ClickHouse does not support a distributed update. The operation should be performed consecutively on each separate server. Do not update all the servers on a cluster simultaneously, or the cluster will be unavailable for some time.\n<a name=\"access_rights/\"></a>\n<a name=\"../../operations/access_rights/\"></a>\n<a name=\"../operations/access_rights/\"></a>\n<a name=\"operations/access_rights/\"></a>\n<a name=\"../../../../operations/access_rights/\"></a>\n<a name=\"../../../operations/access_rights/\"></a>\n<a name=\"../../../../../operations/access_rights/\"></a></p>\n<h2 id=\"access-rights\">Access Rights<a class=\"headerlink\" href=\"#access-rights\" title=\"Permanent link\">&para;</a></h2>\n<p>Users and access rights are set up in the user config. This is usually <code>users.xml</code>.</p>\n<p>Users are recorded in the <code>users</code> section. Here is a fragment of the <code>users.xml</code> file:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"c\">&lt;!-- Users and ACL. --&gt;</span>\n<span class=\"nt\">&lt;users&gt;</span>\n    <span class=\"c\">&lt;!-- If the user name is not specified, the &#39;default&#39; user is used. --&gt;</span>\n    <span class=\"nt\">&lt;default&gt;</span>\n        <span class=\"c\">&lt;!-- Password could be specified in plaintext or in SHA256 (in hex format).</span>\n\n<span class=\"c\">             If you want to specify password in plaintext (not recommended), place it in &#39;password&#39; element.</span>\n<span class=\"c\">             Example: &lt;password&gt;qwerty&lt;/password&gt;.</span>\n<span class=\"c\">             Password could be empty.</span>\n\n<span class=\"c\">             If you want to specify SHA256, place it in &#39;password_sha256_hex&#39; element.</span>\n<span class=\"c\">             Example: &lt;password_sha256_hex&gt;65e84be33532fb784c48129675f9eff3a682b27168c0ea744b2cf58ee02337c5&lt;/password_sha256_hex&gt;</span>\n\n<span class=\"c\">             How to generate decent password:</span>\n<span class=\"c\">             Execute: PASSWORD=$(base64 &lt; /dev/urandom | head -c8); echo &quot;$PASSWORD&quot;; echo -n &quot;$PASSWORD&quot; | sha256sum | tr -d &#39;-&#39;</span>\n<span class=\"c\">             In first line will be password and in second - corresponding SHA256.</span>\n<span class=\"c\">        --&gt;</span>\n        <span class=\"nt\">&lt;password&gt;&lt;/password&gt;</span>\n\n        <span class=\"c\">&lt;!-- A list of networks that access is allowed from.</span>\n<span class=\"c\">            Each list item has one of the following forms:</span>\n<span class=\"c\">            &lt;ip&gt; The IP address or subnet mask. For example: 198.51.100.0/24 or 2001:DB8::/32.</span>\n<span class=\"c\">            &lt;host&gt; Host name. For example: example01. A DNS query is made for verification, and all addresses obtained are compared with the address of the customer.</span>\n<span class=\"c\">            &lt;host_regexp&gt; Regular expression for host names. For example, ^example\\d\\d-\\d\\d-\\d\\.yandex\\.ru$</span>\n<span class=\"c\">                To check it, a DNS PTR request is made for the client&#39;s address and a regular expression is applied to the result.</span>\n<span class=\"c\">                Then another DNS query is made for the result of the PTR query, and all received address are compared to the client address.</span>\n<span class=\"c\">                We strongly recommend that the regex ends with \\.yandex\\.ru$.</span>\n\n<span class=\"c\">            If you are installing ClickHouse yourself, specify here:</span>\n<span class=\"c\">                &lt;networks&gt;</span>\n<span class=\"c\">                        &lt;ip&gt;::/0&lt;/ip&gt;</span>\n<span class=\"c\">                &lt;/networks&gt;</span>\n<span class=\"c\">        --&gt;</span>\n        <span class=\"nt\">&lt;networks</span> <span class=\"na\">incl=</span><span class=\"s\">&quot;networks&quot;</span> <span class=\"nt\">/&gt;</span>\n\n        <span class=\"c\">&lt;!-- Settings profile for the user. --&gt;</span>\n        <span class=\"nt\">&lt;profile&gt;</span>default<span class=\"nt\">&lt;/profile&gt;</span>\n\n        <span class=\"c\">&lt;!-- Quota for the user. --&gt;</span>\n        <span class=\"nt\">&lt;quota&gt;</span>default<span class=\"nt\">&lt;/quota&gt;</span>\n    <span class=\"nt\">&lt;/default&gt;</span>\n\n    <span class=\"c\">&lt;!-- For requests from the Yandex.Metrica user interface via the API for data on specific counters. --&gt;</span>\n    <span class=\"nt\">&lt;web&gt;</span>\n        <span class=\"nt\">&lt;password&gt;&lt;/password&gt;</span>\n        <span class=\"nt\">&lt;networks</span> <span class=\"na\">incl=</span><span class=\"s\">&quot;networks&quot;</span> <span class=\"nt\">/&gt;</span>\n        <span class=\"nt\">&lt;profile&gt;</span>web<span class=\"nt\">&lt;/profile&gt;</span>\n        <span class=\"nt\">&lt;quota&gt;</span>default<span class=\"nt\">&lt;/quota&gt;</span>\n        <span class=\"nt\">&lt;allow_databases&gt;</span>\n           <span class=\"nt\">&lt;database&gt;</span>test<span class=\"nt\">&lt;/database&gt;</span>\n        <span class=\"nt\">&lt;/allow_databases&gt;</span>\n    <span class=\"nt\">&lt;/web&gt;</span>\n</pre></div>\n\n\n<p>You can see a declaration from two users: <code>default</code>and<code>web</code>. We added the <code>web</code> user separately.</p>\n<p>The <code>default</code> user is chosen in cases when the username is not passed. The <code>default</code> user is also used for distributed query processing, if the configuration of the server or cluster doesn't specify the <code>user</code> and <code>password</code> (see the section on the <a href=\"#../operations/table_engines/distributed/\">Distributed</a> engine).</p>\n<p>The user that is used for exchanging information between servers combined in a cluster must not have substantial restrictions or quotas \u2013 otherwise, distributed queries will fail.</p>\n<p>The password is specified in clear text (not recommended) or in SHA-256. The hash isn't salted. In this regard, you should not consider these passwords as providing security against potential malicious attacks. Rather, they are necessary for protection from employees.</p>\n<p>A list of networks is specified that access is allowed from. In this example, the list of networks for both users is loaded from a separate file (<code>/etc/metrika.xml</code>) containing the <code>networks</code> substitution. Here is a fragment of it:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;yandex&gt;</span>\n    ...\n    <span class=\"nt\">&lt;networks&gt;</span>\n        <span class=\"nt\">&lt;ip&gt;</span>::/64<span class=\"nt\">&lt;/ip&gt;</span>\n        <span class=\"nt\">&lt;ip&gt;</span>203.0.113.0/24<span class=\"nt\">&lt;/ip&gt;</span>\n        <span class=\"nt\">&lt;ip&gt;</span>2001:DB8::/32<span class=\"nt\">&lt;/ip&gt;</span>\n        ...\n    <span class=\"nt\">&lt;/networks&gt;</span>\n<span class=\"nt\">&lt;/yandex&gt;</span>\n</pre></div>\n\n\n<p>You could define this list of networks directly in <code>users.xml</code>, or in a file in the <code>users.d</code> directory (for more information, see the section \"<a href=\"#configuration_files\">Configuration files</a>\").</p>\n<p>The config includes comments explaining how to open access from everywhere.</p>\n<p>For use in production, only specify <code>ip</code> elements (IP addresses and their masks), since using <code>host</code> and <code>hoost_regexp</code> might cause extra latency.</p>\n<p>Next the user settings profile is specified (see the section \"<a href=\"#settings/settings_profiles/\">Settings profiles</a>\". You can specify the default profile, <code>default'</code>. The profile can have any name. You can specify the same profile for different users. The most important thing you can write in the settings profile is <code>readonly=1</code>, which ensures read-only access.\nThen specify the quota to be used (see the section \"<a href=\"#quotas\">Quotas</a>\"). You can specify the default quota: <code>default</code>. It is set in the config by default to only count resource usage, without restricting it. The quota can have any name. You can specify the same quota for different users \u2013 in this case, resource usage is calculated for each user individually.</p>\n<p>In the optional <code>&lt;allow_databases&gt;</code> section, you can also specify a list of databases that the user can access. By default, all databases are available to the user. You can specify the <code>default</code> database. In this case, the user will receive access to the database by default.</p>\n<p>Access to the <code>system</code> database is always allowed (since this database is used for processing queries).</p>\n<p>The user can get a list of all databases and tables in them by using <code>SHOW</code> queries or system tables, even if access to individual databases isn't allowed.</p>\n<p>Database access is not related to the <a href=\"#settings_readonly\">readonly</a> setting. You can't grant full access to one database and <code>readonly</code> access to another one.</p>\n<p><a name=\"../../operations/backup/\"></a>\n<a name=\"backup/\"></a>\n<a name=\"../operations/backup/\"></a>\n<a name=\"../../../../../operations/backup/\"></a>\n<a name=\"../../../operations/backup/\"></a>\n<a name=\"../../../../operations/backup/\"></a>\n<a name=\"operations/backup/\"></a></p>\n<h2 id=\"data-backup\">Data Backup<a class=\"headerlink\" href=\"#data-backup\" title=\"Permanent link\">&para;</a></h2>\n<p>While <a href=\"#table_engines/replication/\">replication</a> provides protection from hardware failures, it does not protect against human errors: accidental deletion of data, deletion of the wrong table or a table on the wrong cluster, and software bugs that result in incorrect data processing or data corruption. In many cases mistakes like these will affect all replicas. ClickHouse has built-in safeguards to prevent some types of mistakes \u2014 for example, by default <a href=\"https://github.com/yandex/ClickHouse/blob/v18.14.18-stable/dbms/programs/server/config.xml#L322-L330\" rel=\"external nofollow\">you can't just drop tables with a MergeTree-like engine containing more than 50 Gb of data</a>. However, these safeguards don't cover all possible cases and can be circumvented.</p>\n<p>In order to effectively mitigate possible human errors, you should carefully prepare a strategy for backing up and restoring your data <strong>in advance</strong>.</p>\n<p>Each company has different resources available and business requirements, so there's no universal solution for ClickHouse backups and restores that will fit every situation. What works for one gigabyte of data likely won't work for tens of petabytes. There are a variety of possible approaches with their own pros and cons, which will be discussed below. It is a good idea to use several approaches instead of just one in order to compensate for their various shortcomings.</p>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>Keep in mind that if you backed something up and never tried to restore it, chances are that restore will not work properly when you actually need it (or at least it will take longer than business can tolerate). So whatever backup approach you choose, make sure to automate the restore process as well, and practice it on a spare ClickHouse cluster regularly.</p>\n</div>\n<h3 id=\"duplicating-source-data-somewhere-else\">Duplicating Source Data Somewhere Else<a class=\"headerlink\" href=\"#duplicating-source-data-somewhere-else\" title=\"Permanent link\">&para;</a></h3>\n<p>Often data that is ingested into ClickHouse is delivered through some sort of persistent queue, such as <a href=\"https://kafka.apache.org\" rel=\"external nofollow\">Apache Kafka</a>. In this case it is possible to configure an additional set of subscribers that will read the same data stream while it is being written to ClickHouse and store it in cold storage somewhere. Most companies already have some default recommended cold storage, which could be an object store or a distributed filesystem like <a href=\"https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-hdfs/HdfsDesign.html\" rel=\"external nofollow\">HDFS</a>.</p>\n<h3 id=\"filesystem-snapshots\">Filesystem Snapshots<a class=\"headerlink\" href=\"#filesystem-snapshots\" title=\"Permanent link\">&para;</a></h3>\n<p>Some local filesystems provide snapshot functionality (for example, <a href=\"https://en.wikipedia.org/wiki/ZFS\" rel=\"external nofollow\">ZFS</a>), but they might not be the best choice for serving live queries. A possible solution is to create additional replicas with this kind of filesystem and exclude them from the <a href=\"#table_engines/distributed/\">Distributed</a> tables that are used for <code>SELECT</code> queries. Snapshots on such replicas will be out of reach of any queries that modify data. As a bonus, these replicas might have special hardware configurations with more disks attached per server, which would be cost-effective.</p>\n<h3 id=\"clickhouse-copier\">clickhouse-copier<a class=\"headerlink\" href=\"#clickhouse-copier\" title=\"Permanent link\">&para;</a></h3>\n<p><a href=\"#utils/clickhouse-copier/\">clickhouse-copier</a> is a versatile tool that was initially created to re-shard petabyte-sized tables. It can also be used for backup and restore purposes because it reliably copies data between ClickHouse tables and clusters.</p>\n<p>For smaller volumes of data, a simple <code>INSERT INTO ... SELECT ...</code> to remote tables might work as well.</p>\n<h3 id=\"manipulations-with-parts\">Manipulations with Parts<a class=\"headerlink\" href=\"#manipulations-with-parts\" title=\"Permanent link\">&para;</a></h3>\n<p>ClickHouse allows using the <code>ALTER TABLE ... FREEZE PARTITION ...</code> query to create a local copy of table partitions. This is implemented using hardlinks to the <code>/var/lib/clickhouse/shadow/</code> folder, so it usually does not consume extra disk space for old data. The created copies of files are not handled by ClickHouse server, so you can just leave them there: you will have a simple backup that doesn't require any additional external system, but it will still be prone to hardware issues. For this reason, it's better to remotely copy them to another location and then remove the local copies. Distributed filesystems and object stores are still a good options for this, but normal attached file servers with a large enough capacity might work as well (in this case the transfer will occur via the network filesystem or maybe <a href=\"https://en.wikipedia.org/wiki/Rsync\" rel=\"external nofollow\">rsync</a>).</p>\n<p>For more information about queries related to partition manipulations, see the <a href=\"#alter_manipulations-with-partitions\">ALTER documentation</a>.</p>\n<p>A third-party tool is available to automate this approach: <a href=\"https://github.com/AlexAkulov/clickhouse-backup\" rel=\"external nofollow\">clickhouse-backup</a>.</p>\n<p><a name=\"operations/configuration_files/\"></a>\n<a name=\"../../operations/configuration_files/\"></a>\n<a name=\"../../../operations/configuration_files/\"></a>\n<a name=\"../../../../../operations/configuration_files/\"></a>\n<a name=\"configuration_files/\"></a>\n<a name=\"../../../../operations/configuration_files/\"></a>\n<a name=\"../operations/configuration_files/\"></a></p>\n<h2 id=\"configuration_files\">Configuration Files<a class=\"headerlink\" href=\"#configuration_files\" title=\"Permanent link\">&para;</a></h2>\n<p>The main server config file is <code>config.xml</code>. It resides in the <code>/etc/clickhouse-server/</code> directory.</p>\n<p>Individual settings can be overridden in the <code>*.xml</code> and <code>*.conf</code> files in the <code>config.d</code> directory next to the config file.</p>\n<p>The <code>replace</code> or <code>remove</code> attributes can be specified for the elements of these config files.</p>\n<p>If neither is specified, it combines the contents of elements recursively, replacing values of duplicate children.</p>\n<p>If <code>replace</code> is specified, it replaces the entire element with the specified one.</p>\n<p>If <code>remove</code> is specified, it deletes the element.</p>\n<p>The config can also define \"substitutions\". If an element has the <code>incl</code> attribute, the corresponding substitution from the file will be used as the value. By default, the path to the file with substitutions is <code>/etc/metrika.xml</code>. This can be changed in the <a href=\"#server_settings-include_from\">include_from</a> element in the server config. The substitution values are specified in <code>/yandex/substitution_name</code> elements in this file. If a substitution specified in <code>incl</code> does not exist, it is recorded in the log. To prevent ClickHouse from logging missing substitutions, specify the <code>optional=\"true\"</code> attribute (for example, settings for <a href=\"#server_settings/settings/\">macros</a>).</p>\n<p>Substitutions can also be performed from ZooKeeper. To do this, specify the attribute <code>from_zk = \"/path/to/node\"</code>. The element value is replaced with the contents of the node at <code>/path/to/node</code> in ZooKeeper. You can also put an entire XML subtree on the ZooKeeper node and it will be fully inserted into the source element.</p>\n<p>The <code>config.xml</code> file can specify a separate config with user settings, profiles, and quotas. The relative path to this config is set in the 'users_config' element. By default, it is <code>users.xml</code>. If <code>users_config</code> is omitted, the user settings, profiles, and quotas are specified directly in <code>config.xml</code>.</p>\n<p>In addition, <code>users_config</code> may have overrides in files from the <code>users_config.d</code> directory (for example, <code>users.d</code>) and substitutions. For example, you can have separate config file for each user like this:</p>\n<div class=\"codehilite\"><pre><span></span>$ cat /etc/clickhouse-server/users.d/alice.xml\n<span class=\"nt\">&lt;yandex&gt;</span>\n    <span class=\"nt\">&lt;users&gt;</span>\n      <span class=\"nt\">&lt;alice&gt;</span>\n          <span class=\"nt\">&lt;profile&gt;</span>analytics<span class=\"nt\">&lt;/profile&gt;</span>\n            <span class=\"nt\">&lt;networks&gt;</span>\n                  <span class=\"nt\">&lt;ip&gt;</span>::/0<span class=\"nt\">&lt;/ip&gt;</span>\n            <span class=\"nt\">&lt;/networks&gt;</span>\n          <span class=\"nt\">&lt;password_sha256_hex&gt;</span>...<span class=\"nt\">&lt;/password_sha256_hex&gt;</span>\n          <span class=\"nt\">&lt;quota&gt;</span>analytics<span class=\"nt\">&lt;/quota&gt;</span>\n      <span class=\"nt\">&lt;/alice&gt;</span>\n    <span class=\"nt\">&lt;/users&gt;</span>\n<span class=\"nt\">&lt;/yandex&gt;</span>\n</pre></div>\n\n\n<p>For each config file, the server also generates <code>file-preprocessed.xml</code> files when starting. These files contain all the completed substitutions and overrides, and they are intended for informational use. If ZooKeeper substitutions were used in the config files but ZooKeeper is not available on the server start, the server loads the configuration from the preprocessed file.</p>\n<p>The server tracks changes in config files, as well as files and ZooKeeper nodes that were used when performing substitutions and overrides, and reloads the settings for users and clusters on the fly. This means that you can modify the cluster, users, and their settings without restarting the server.</p>\n<p><a name=\"operations/quotas/\"></a>\n<a name=\"../../../../../operations/quotas/\"></a>\n<a name=\"quotas/\"></a>\n<a name=\"../../operations/quotas/\"></a>\n<a name=\"../../../../operations/quotas/\"></a>\n<a name=\"../../../operations/quotas/\"></a>\n<a name=\"../operations/quotas/\"></a></p>\n<h2 id=\"quotas\">Quotas<a class=\"headerlink\" href=\"#quotas\" title=\"Permanent link\">&para;</a></h2>\n<p>Quotas allow you to limit resource usage over a period of time, or simply track the use of resources.\nQuotas are set up in the user config. This is usually 'users.xml'.</p>\n<p>The system also has a feature for limiting the complexity of a single query. See the section \"Restrictions on query complexity\").</p>\n<p>In contrast to query complexity restrictions, quotas:</p>\n<ul>\n<li>Place restrictions on a set of queries that can be run over a period of time, instead of limiting a single query.</li>\n<li>Account for resources spent on all remote servers for distributed query processing.</li>\n</ul>\n<p>Let's look at the section of the 'users.xml' file that defines quotas.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"c\">&lt;!-- Quotas --&gt;</span>\n<span class=\"nt\">&lt;quotas&gt;</span>\n    <span class=\"c\">&lt;!-- Quota name. --&gt;</span>\n    <span class=\"nt\">&lt;default&gt;</span>\n        <span class=\"c\">&lt;!-- Restrictions for a time period. You can set many intervals with different restrictions. --&gt;</span>\n        <span class=\"nt\">&lt;interval&gt;</span>\n            <span class=\"c\">&lt;!-- Length of the interval. --&gt;</span>\n            <span class=\"nt\">&lt;duration&gt;</span>3600<span class=\"nt\">&lt;/duration&gt;</span>\n\n            <span class=\"c\">&lt;!-- Unlimited. Just collect data for the specified time interval. --&gt;</span>\n            <span class=\"nt\">&lt;queries&gt;</span>0<span class=\"nt\">&lt;/queries&gt;</span>\n            <span class=\"nt\">&lt;errors&gt;</span>0<span class=\"nt\">&lt;/errors&gt;</span>\n            <span class=\"nt\">&lt;result_rows&gt;</span>0<span class=\"nt\">&lt;/result_rows&gt;</span>\n            <span class=\"nt\">&lt;read_rows&gt;</span>0<span class=\"nt\">&lt;/read_rows&gt;</span>\n            <span class=\"nt\">&lt;execution_time&gt;</span>0<span class=\"nt\">&lt;/execution_time&gt;</span>\n        <span class=\"nt\">&lt;/interval&gt;</span>\n    <span class=\"nt\">&lt;/default&gt;</span>\n</pre></div>\n\n\n<p>By default, the quota just tracks resource consumption for each hour, without limiting usage.\nThe resource consumption calculated for each interval is output to the server log after each request.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;statbox&gt;</span>\n    <span class=\"c\">&lt;!-- Restrictions for a time period. You can set many intervals with different restrictions. --&gt;</span>\n    <span class=\"nt\">&lt;interval&gt;</span>\n        <span class=\"c\">&lt;!-- Length of the interval. --&gt;</span>\n        <span class=\"nt\">&lt;duration&gt;</span>3600<span class=\"nt\">&lt;/duration&gt;</span>\n\n        <span class=\"nt\">&lt;queries&gt;</span>1000<span class=\"nt\">&lt;/queries&gt;</span>\n        <span class=\"nt\">&lt;errors&gt;</span>100<span class=\"nt\">&lt;/errors&gt;</span>\n        <span class=\"nt\">&lt;result_rows&gt;</span>1000000000<span class=\"nt\">&lt;/result_rows&gt;</span>\n        <span class=\"nt\">&lt;read_rows&gt;</span>100000000000<span class=\"nt\">&lt;/read_rows&gt;</span>\n        <span class=\"nt\">&lt;execution_time&gt;</span>900<span class=\"nt\">&lt;/execution_time&gt;</span>\n    <span class=\"nt\">&lt;/interval&gt;</span>\n\n    <span class=\"nt\">&lt;interval&gt;</span>\n        <span class=\"nt\">&lt;duration&gt;</span>86400<span class=\"nt\">&lt;/duration&gt;</span>\n\n        <span class=\"nt\">&lt;queries&gt;</span>10000<span class=\"nt\">&lt;/queries&gt;</span>\n        <span class=\"nt\">&lt;errors&gt;</span>1000<span class=\"nt\">&lt;/errors&gt;</span>\n        <span class=\"nt\">&lt;result_rows&gt;</span>5000000000<span class=\"nt\">&lt;/result_rows&gt;</span>\n        <span class=\"nt\">&lt;read_rows&gt;</span>500000000000<span class=\"nt\">&lt;/read_rows&gt;</span>\n        <span class=\"nt\">&lt;execution_time&gt;</span>7200<span class=\"nt\">&lt;/execution_time&gt;</span>\n    <span class=\"nt\">&lt;/interval&gt;</span>\n<span class=\"nt\">&lt;/statbox&gt;</span>\n</pre></div>\n\n\n<p>For the 'statbox' quota, restrictions are set for every hour and for every 24 hours (86,400 seconds). The time interval is counted starting from an implementation-defined fixed moment in time. In other words, the 24-hour interval doesn't necessarily begin at midnight.</p>\n<p>When the interval ends, all collected values are cleared. For the next hour, the quota calculation starts over.</p>\n<p>Here are the amounts that can be restricted:</p>\n<p><code>queries</code> \u2013 The total number of requests.</p>\n<p><code>errors</code> \u2013 The number of queries that threw an exception.</p>\n<p><code>result_rows</code> \u2013 The total number of rows given as the result.</p>\n<p><code>read_rows</code> \u2013 The total number of source rows read from tables for running the query, on all remote servers.</p>\n<p><code>execution_time</code> \u2013 The total query execution time, in seconds (wall time).</p>\n<p>If the limit is exceeded for at least one time interval, an exception is thrown with a text about which restriction was exceeded, for which interval, and when the new interval begins (when queries can be sent again).</p>\n<p>Quotas can use the \"quota key\" feature in order to report on resources for multiple keys independently. Here is an example of this:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"c\">&lt;!-- For the global reports designer. --&gt;</span>\n<span class=\"nt\">&lt;web_global&gt;</span>\n    <span class=\"c\">&lt;!-- keyed \u2013 The quota_key &quot;key&quot; is passed in the query parameter,</span>\n<span class=\"c\">            and the quota is tracked separately for each key value.</span>\n<span class=\"c\">        For example, you can pass a Yandex.Metrica username as the key,</span>\n<span class=\"c\">            so the quota will be counted separately for each username.</span>\n<span class=\"c\">        Using keys makes sense only if quota_key is transmitted by the program, not by a user.</span>\n\n<span class=\"c\">        You can also write &lt;keyed_by_ip /&gt; so the IP address is used as the quota key.</span>\n<span class=\"c\">        (But keep in mind that users can change the IPv6 address fairly easily.)</span>\n<span class=\"c\">    --&gt;</span>\n    <span class=\"nt\">&lt;keyed</span> <span class=\"nt\">/&gt;</span>\n</pre></div>\n\n\n<p>The quota is assigned to users in the 'users' section of the config. See the section \"Access rights\".</p>\n<p>For distributed query processing, the accumulated amounts are stored on the requestor server. So if the user goes to another server, the quota there will \"start over\".</p>\n<p>When the server is restarted, quotas are reset.</p>\n<p><a name=\"operations/system_tables/\"></a>\n<a name=\"system_tables/\"></a>\n<a name=\"../../../../../operations/system_tables/\"></a>\n<a name=\"../../operations/system_tables/\"></a>\n<a name=\"../../../operations/system_tables/\"></a>\n<a name=\"../operations/system_tables/\"></a>\n<a name=\"../../../../operations/system_tables/\"></a></p>\n<h2 id=\"system-tables\">System tables<a class=\"headerlink\" href=\"#system-tables\" title=\"Permanent link\">&para;</a></h2>\n<p>System tables are used for implementing part of the system's functionality, and for providing access to information about how the system is working.\nYou can't delete a system table (but you can perform DETACH).\nSystem tables don't have files with data on the disk or files with metadata. The server creates all the system tables when it starts.\nSystem tables are read-only.\nThey are located in the 'system' database.</p>\n<h3 id=\"system_tables-asynchronous_metrics\">system.asynchronous_metrics<a class=\"headerlink\" href=\"#system_tables-asynchronous_metrics\" title=\"Permanent link\">&para;</a></h3>\n<p>Contain metrics used for profiling and monitoring.\nThey usually reflect the number of events currently in the system, or the total resources consumed by the system.\nExample: The number of SELECT queries currently running; the amount of memory in use.<code>system.asynchronous_metrics</code>and<code>system.metrics</code> differ in their sets of metrics and how they are calculated.</p>\n<h3 id=\"system-clusters\">system.clusters<a class=\"headerlink\" href=\"#system-clusters\" title=\"Permanent link\">&para;</a></h3>\n<p>Contains information about clusters available in the config file and the servers in them.\nColumns:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">cluster String      \u2014 The cluster name.</span>\n<span class=\"err\">shard_num UInt32 \u2014 The shard number in the cluster, starting from 1.</span>\n<span class=\"err\">shard_weight UInt32 \u2014 The relative weight of the shard when writing data.</span>\n<span class=\"err\">replica_num UInt32 \u2014 The replica number in the shard, starting from 1.</span>\n<span class=\"err\">host_name String \u2014 The host name, as specified in the config.</span>\n<span class=\"err\">String host_address \u2014 The host IP address obtained from DNS.</span>\n<span class=\"err\">port UInt16 \u2014 The port to use for connecting to the server.</span>\n<span class=\"err\">user String \u2014 The name of the user for connecting to the server.</span>\n</pre></div>\n\n\n<h3 id=\"system-columns\">system.columns<a class=\"headerlink\" href=\"#system-columns\" title=\"Permanent link\">&para;</a></h3>\n<p>Contains information about the columns in all the tables.</p>\n<p>You can use this table to get information similar to the <a href=\"#misc-describe-table\">DESCRIBE TABLE</a> query, but for multiple tables at once.</p>\n<p>The <code>system.columns</code> table contains the following columns (the type of the corresponding column is shown in brackets):</p>\n<ul>\n<li><code>database</code> (String) \u2014 Database name.</li>\n<li><code>table</code> (String) \u2014 Table name.</li>\n<li><code>name</code> (String) \u2014 Column name.</li>\n<li><code>type</code> (String) \u2014 Column type.</li>\n<li><code>default_kind</code> (String) \u2014 Expression type (<code>DEFAULT</code>, <code>MATERIALIZED</code>, <code>ALIAS</code>) for the default value, or an empty string if it is not defined.</li>\n<li><code>default_expression</code> (String) \u2014 Expression for the default value, or an empty string if it is not defined.</li>\n<li><code>data_compressed_bytes</code> (UInt64) \u2014 The size of compressed data, in bytes.</li>\n<li><code>data_uncompressed_bytes</code> (UInt64) \u2014 The size of decompressed data, in bytes.</li>\n<li><code>marks_bytes</code> (UInt64) \u2014 The size of marks, in bytes.</li>\n<li><code>comment</code> (String) \u2014 The comment about column, or an empty string if it is not defined.</li>\n<li><code>is_in_partition_key</code> (UInt8) \u2014 Flag that indicates whether the column is in partition expression.</li>\n<li><code>is_in_sorting_key</code> (UInt8) \u2014 Flag that indicates whether the column is in sorting key expression.</li>\n<li><code>is_in_primary_key</code> (UInt8) \u2014 Flag that indicates whether the column is in primary key expression.</li>\n<li><code>is_in_sampling_key</code> (UInt8) \u2014 Flag that indicates whether the column is in sampling key expression.</li>\n</ul>\n<h3 id=\"system-databases\">system.databases<a class=\"headerlink\" href=\"#system-databases\" title=\"Permanent link\">&para;</a></h3>\n<p>This table contains a single String column called 'name' \u2013 the name of a database.\nEach database that the server knows about has a corresponding entry in the table.\nThis system table is used for implementing the <code>SHOW DATABASES</code> query.</p>\n<h3 id=\"system-dictionaries\">system.dictionaries<a class=\"headerlink\" href=\"#system-dictionaries\" title=\"Permanent link\">&para;</a></h3>\n<p>Contains information about external dictionaries.</p>\n<p>Columns:</p>\n<ul>\n<li><code>name String</code> \u2014 Dictionary name.</li>\n<li><code>type String</code> \u2014 Dictionary type: Flat, Hashed, Cache.</li>\n<li><code>origin String</code> \u2014 Path to the configuration file that describes the dictionary.</li>\n<li><code>attribute.names Array(String)</code> \u2014 Array of attribute names provided by the dictionary.</li>\n<li><code>attribute.types Array(String)</code> \u2014 Corresponding array of attribute types that are provided by the dictionary.</li>\n<li><code>has_hierarchy UInt8</code> \u2014 Whether the dictionary is hierarchical.</li>\n<li><code>bytes_allocated UInt64</code> \u2014 The amount of RAM the dictionary uses.</li>\n<li><code>hit_rate Float64</code> \u2014 For cache dictionaries, the percentage of uses for which the value was in the cache.</li>\n<li><code>element_count UInt64</code> \u2014 The number of items stored in the dictionary.</li>\n<li><code>load_factor Float64</code> \u2014 The percentage full of the dictionary (for a hashed dictionary, the percentage filled in the hash table).</li>\n<li><code>creation_time DateTime</code> \u2014 The time when the dictionary was created or last successfully reloaded.</li>\n<li><code>last_exception String</code> \u2014 Text of the error that occurs when creating or reloading the dictionary if the dictionary couldn't be created.</li>\n<li><code>source String</code> \u2014 Text describing the data source for the dictionary.</li>\n</ul>\n<p>Note that the amount of memory used by the dictionary is not proportional to the number of items stored in it. So for flat and cached dictionaries, all the memory cells are pre-assigned, regardless of how full the dictionary actually is.</p>\n<h3 id=\"system_tables-events\">system.events<a class=\"headerlink\" href=\"#system_tables-events\" title=\"Permanent link\">&para;</a></h3>\n<p>Contains information about the number of events that have occurred in the system. This is used for profiling and monitoring purposes.\nExample: The number of processed SELECT queries.\nColumns: 'event String' \u2013 the event name, and 'value UInt64' \u2013 the quantity.</p>\n<h3 id=\"system-functions\">system.functions<a class=\"headerlink\" href=\"#system-functions\" title=\"Permanent link\">&para;</a></h3>\n<p>Contains information about normal and aggregate functions.</p>\n<p>Columns:</p>\n<ul>\n<li><code>name</code>(<code>String</code>) \u2013 The name of the function.</li>\n<li><code>is_aggregate</code>(<code>UInt8</code>) \u2014 Whether the function is aggregate.</li>\n</ul>\n<h3 id=\"system-graphite-retentions\">system.graphite_retentions<a class=\"headerlink\" href=\"#system-graphite-retentions\" title=\"Permanent link\">&para;</a></h3>\n<p>Contains information about parameters <a href=\"#server_settings-graphite_rollup\">graphite_rollup</a> which use in tables with <a href=\"#table_engines/graphitemergetree/\">*GraphiteMergeTree</a> engines.</p>\n<p>Columns:</p>\n<ul>\n<li><code>config_name</code>     (String) - <code>graphite_rollup</code> parameter name.</li>\n<li><code>regexp</code>          (String) - A pattern for the metric name.</li>\n<li><code>function</code>        (String) - The name of the aggregating function.</li>\n<li><code>age</code>             (UInt64) - The minimum age of the data in seconds.</li>\n<li><code>precision</code>       (UInt64) - How precisely to define the age of the data in seconds.</li>\n<li><code>priority</code>        (UInt16) - Pattern priority.</li>\n<li><code>is_default</code>      (UInt8) - Is pattern default or not.</li>\n<li><code>Tables.database</code> (Array(String)) - Array of databases names of tables, which use <code>config_name</code> parameter.</li>\n<li><code>Tables.table</code>    (Array(String)) - Array of tables names, which use <code>config_name</code> parameter.</li>\n</ul>\n<h3 id=\"system-merges\">system.merges<a class=\"headerlink\" href=\"#system-merges\" title=\"Permanent link\">&para;</a></h3>\n<p>Contains information about merges and part mutations currently in process for tables in the MergeTree family.</p>\n<p>Columns:</p>\n<ul>\n<li><code>database String</code>  \u2014 The name of the database the table is in.</li>\n<li><code>table String</code> \u2014 Table name.</li>\n<li><code>elapsed Float64</code> \u2014 The time elapsed (in seconds) since the merge started.</li>\n<li><code>progress Float64</code> \u2014 The percentage of completed work from 0 to 1.</li>\n<li><code>num_parts UInt64</code> \u2014 The number of pieces to be merged.</li>\n<li><code>result_part_name String</code> \u2014 The name of the part that will be formed as the result of merging.</li>\n<li><code>is_mutation UInt8</code> - 1 if this process is a part mutation.</li>\n<li><code>total_size_bytes_compressed UInt64</code> \u2014 The total size of the compressed data in the merged chunks.</li>\n<li><code>total_size_marks UInt64</code> \u2014 The total number of marks in the merged partss.</li>\n<li><code>bytes_read_uncompressed UInt64</code> \u2014 Number of bytes read, uncompressed.</li>\n<li><code>rows_read UInt64</code> \u2014 Number of rows read.</li>\n<li><code>bytes_written_uncompressed UInt64</code> \u2014 Number of bytes written, uncompressed.</li>\n<li><code>rows_written UInt64</code> \u2014 Number of lines rows written.</li>\n</ul>\n<h3 id=\"system_tables-metrics\">system.metrics<a class=\"headerlink\" href=\"#system_tables-metrics\" title=\"Permanent link\">&para;</a></h3>\n<h3 id=\"system-numbers\">system.numbers<a class=\"headerlink\" href=\"#system-numbers\" title=\"Permanent link\">&para;</a></h3>\n<p>This table contains a single UInt64 column named 'number' that contains almost all the natural numbers starting from zero.\nYou can use this table for tests, or if you need to do a brute force search.\nReads from this table are not parallelized.</p>\n<h3 id=\"system-numbers-mt\">system.numbers_mt<a class=\"headerlink\" href=\"#system-numbers-mt\" title=\"Permanent link\">&para;</a></h3>\n<p>The same as 'system.numbers' but reads are parallelized. The numbers can be returned in any order.\nUsed for tests.</p>\n<h3 id=\"system-one\">system.one<a class=\"headerlink\" href=\"#system-one\" title=\"Permanent link\">&para;</a></h3>\n<p>This table contains a single row with a single 'dummy' UInt8 column containing the value 0.\nThis table is used if a SELECT query doesn't specify the FROM clause.\nThis is similar to the DUAL table found in other DBMSs.</p>\n<h3 id=\"system_tables-parts\">system.parts<a class=\"headerlink\" href=\"#system_tables-parts\" title=\"Permanent link\">&para;</a></h3>\n<p>Contains information about parts of <a href=\"#table_engines/mergetree/\">MergeTree</a> tables.</p>\n<p>Each row describes one part of the data.</p>\n<p>Columns:</p>\n<ul>\n<li>partition (String) \u2013 The partition name. To learn what a partition is, see the description of the <a href=\"#query_language_queries_alter\">ALTER</a> query.</li>\n</ul>\n<p>Formats:\n- <code>YYYYMM</code> for automatic partitioning by month.\n- <code>any_string</code> when partitioning manually.</p>\n<ul>\n<li>\n<p>name (String) \u2013 Name of the data part.</p>\n</li>\n<li>\n<p>active (UInt8) \u2013 Indicates whether the part is active. If a part is active, it is used in a table; otherwise, it will be deleted. Inactive data parts remain after merging.</p>\n</li>\n<li>\n<p>marks (UInt64) \u2013 The number of marks. To get the approximate number of rows in a data part, multiply <code>marks</code> by the index granularity (usually 8192).</p>\n</li>\n<li>\n<p>marks_size (UInt64) \u2013 The size of the file with marks.</p>\n</li>\n<li>\n<p>rows (UInt64) \u2013 The number of rows.</p>\n</li>\n<li>\n<p>bytes (UInt64) \u2013 The number of bytes when compressed.</p>\n</li>\n<li>\n<p>modification_time (DateTime) \u2013 The modification time of the directory with the data part. This usually corresponds to the time of data part creation.|</p>\n</li>\n<li>\n<p>remove_time (DateTime) \u2013 The time when the data part became inactive.</p>\n</li>\n<li>\n<p>refcount (UInt32) \u2013 The number of places where the data part is used. A value greater than 2 indicates that the data part is used in queries or merges.</p>\n</li>\n<li>\n<p>min_date (Date) \u2013 The minimum value of the date key in the data part.</p>\n</li>\n<li>\n<p>max_date (Date) \u2013 The maximum value of the date key in the data part.</p>\n</li>\n<li>\n<p>min_block_number (UInt64) \u2013 The minimum number of data parts that make up the current part after merging.</p>\n</li>\n<li>\n<p>max_block_number (UInt64) \u2013 The maximum number of data parts that make up the current part after merging.</p>\n</li>\n<li>\n<p>level (UInt32) \u2013 Depth of the merge tree. If a merge was not performed, <code>level=0</code>.</p>\n</li>\n<li>\n<p>primary_key_bytes_in_memory (UInt64) \u2013 The amount of memory (in bytes) used by primary key values.</p>\n</li>\n<li>\n<p>primary_key_bytes_in_memory_allocated (UInt64) \u2013 The amount of memory (in bytes) reserved for primary key values.</p>\n</li>\n<li>\n<p>database (String) \u2013 Name of the database.</p>\n</li>\n<li>\n<p>table (String) \u2013 Name of the table.</p>\n</li>\n<li>\n<p>engine (String) \u2013 Name of the table engine without parameters.</p>\n</li>\n</ul>\n<h3 id=\"system_tables-part-log\">system.part_log<a class=\"headerlink\" href=\"#system_tables-part-log\" title=\"Permanent link\">&para;</a></h3>\n<p>The <code>system.part_log</code> table is created only if the <a href=\"#server_settings-part-log\">part_log</a> server setting is specified.</p>\n<p>This table contains information about the events that occurred with the <a href=\"#table_engines/custom_partitioning_key/\">data parts</a> in the <a href=\"#table_engines/mergetree/\">MergeTree</a> family tables. For instance, adding or merging data.</p>\n<p>The <code>system.part_log</code> table contains the following columns:</p>\n<ul>\n<li><code>event_type</code> (Enum) \u2014 Type of the event that occurred with the data part. Can have one of the following values: <code>NEW_PART</code> \u2014 inserting, <code>MERGE_PARTS</code> \u2014 merging, <code>DOWNLOAD_PART</code> \u2014 downloading, <code>REMOVE_PART</code> \u2014 removing or detaching using <a href=\"#alter_detach-partition\">DETACH PARTITION</a>, <code>MUTATE_PART</code> \u2014 updating.</li>\n<li><code>event_date</code> (Date) \u2014 Event date.</li>\n<li><code>event_time</code> (DateTime) \u2014 Event time.</li>\n<li><code>duration_ms</code> (UInt64) \u2014 Duration.</li>\n<li><code>database</code> (String) \u2014 Name of the database the data part is in.</li>\n<li><code>table</code> (String) \u2014 Name of the table the data part is in.</li>\n<li><code>part_name</code> (String) \u2014 Name of the data part.</li>\n<li><code>partition_id</code> (String) \u2014 ID of the partition that the data part was inserted to. The column takes the 'all' value if the partitioning is by <code>tuple()</code>.</li>\n<li><code>rows</code> (UInt64) \u2014 The number of rows in the data part.</li>\n<li><code>size_in_bytes</code> (UInt64) \u2014 Size of the data part in bytes.</li>\n<li><code>merged_from</code> (Array(String)) \u2014 An array of names of the parts which the current part was made up from (after the merge).</li>\n<li><code>bytes_uncompressed</code> (UInt64) \u2014 Size of uncompressed bytes.</li>\n<li><code>read_rows</code> (UInt64) \u2014 The number of rows was read during the merge.</li>\n<li><code>read_bytes</code> (UInt64) \u2014 The number of bytes was read during the merge.</li>\n<li><code>error</code> (UInt16) \u2014 The code number of the occurred error.</li>\n<li><code>exception</code> (String) \u2014 Text message of the occurred error.</li>\n</ul>\n<p>The <code>system.part_log</code> table is created after the first inserting data to the <code>MergeTree</code> table.</p>\n<h3 id=\"system-processes\">system.processes<a class=\"headerlink\" href=\"#system-processes\" title=\"Permanent link\">&para;</a></h3>\n<p>This system table is used for implementing the <code>SHOW PROCESSLIST</code> query.\nColumns:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">user</span> <span class=\"n\">String</span>              <span class=\"err\">\u2013</span> <span class=\"n\">Name</span> <span class=\"k\">of</span> <span class=\"n\">the</span> <span class=\"k\">user</span> <span class=\"n\">who</span> <span class=\"n\">made</span> <span class=\"n\">the</span> <span class=\"n\">request</span><span class=\"p\">.</span> <span class=\"k\">For</span> <span class=\"n\">distributed</span> <span class=\"n\">query</span> <span class=\"n\">processing</span><span class=\"p\">,</span> <span class=\"n\">this</span> <span class=\"k\">is</span> <span class=\"n\">the</span> <span class=\"k\">user</span> <span class=\"n\">who</span> <span class=\"n\">helped</span> <span class=\"n\">the</span> <span class=\"n\">requestor</span> <span class=\"n\">server</span> <span class=\"n\">send</span> <span class=\"n\">the</span> <span class=\"n\">query</span> <span class=\"k\">to</span> <span class=\"n\">this</span> <span class=\"n\">server</span><span class=\"p\">,</span> <span class=\"k\">not</span> <span class=\"n\">the</span> <span class=\"k\">user</span> <span class=\"n\">who</span> <span class=\"n\">made</span> <span class=\"n\">the</span> <span class=\"n\">distributed</span> <span class=\"n\">request</span> <span class=\"k\">on</span> <span class=\"n\">the</span> <span class=\"n\">requestor</span> <span class=\"n\">server</span><span class=\"p\">.</span>\n\n<span class=\"n\">address</span> <span class=\"n\">String</span>           <span class=\"o\">-</span> <span class=\"n\">The</span> <span class=\"n\">IP</span> <span class=\"n\">address</span> <span class=\"n\">the</span> <span class=\"n\">request</span> <span class=\"n\">was</span> <span class=\"n\">made</span> <span class=\"k\">from</span><span class=\"p\">.</span> <span class=\"n\">The</span> <span class=\"n\">same</span> <span class=\"k\">for</span> <span class=\"n\">distributed</span> <span class=\"n\">processing</span><span class=\"p\">.</span>\n\n<span class=\"n\">elapsed</span> <span class=\"n\">Float64</span>          <span class=\"o\">-</span> <span class=\"n\">The</span> <span class=\"n\">time</span> <span class=\"k\">in</span> <span class=\"n\">seconds</span> <span class=\"n\">since</span> <span class=\"n\">request</span> <span class=\"n\">execution</span> <span class=\"n\">started</span><span class=\"p\">.</span>\n\n<span class=\"n\">rows_read</span> <span class=\"n\">UInt64</span>         <span class=\"o\">-</span> <span class=\"n\">The</span> <span class=\"nb\">number</span> <span class=\"k\">of</span> <span class=\"k\">rows</span> <span class=\"k\">read</span> <span class=\"k\">from</span> <span class=\"n\">the</span> <span class=\"k\">table</span><span class=\"p\">.</span> <span class=\"k\">For</span> <span class=\"n\">distributed</span> <span class=\"n\">processing</span><span class=\"p\">,</span> <span class=\"k\">on</span> <span class=\"n\">the</span> <span class=\"n\">requestor</span> <span class=\"n\">server</span><span class=\"p\">,</span> <span class=\"n\">this</span> <span class=\"k\">is</span> <span class=\"n\">the</span> <span class=\"n\">total</span> <span class=\"k\">for</span> <span class=\"k\">all</span> <span class=\"n\">remote</span> <span class=\"n\">servers</span><span class=\"p\">.</span>\n\n<span class=\"n\">bytes_read</span> <span class=\"n\">UInt64</span>        <span class=\"o\">-</span> <span class=\"n\">The</span> <span class=\"nb\">number</span> <span class=\"k\">of</span> <span class=\"n\">uncompressed</span> <span class=\"n\">bytes</span> <span class=\"k\">read</span> <span class=\"k\">from</span> <span class=\"n\">the</span> <span class=\"k\">table</span><span class=\"p\">.</span> <span class=\"k\">For</span> <span class=\"n\">distributed</span> <span class=\"n\">processing</span><span class=\"p\">,</span> <span class=\"k\">on</span> <span class=\"n\">the</span> <span class=\"n\">requestor</span> <span class=\"n\">server</span><span class=\"p\">,</span> <span class=\"n\">this</span> <span class=\"k\">is</span> <span class=\"n\">the</span> <span class=\"n\">total</span> <span class=\"k\">for</span> <span class=\"k\">all</span> <span class=\"n\">remote</span> <span class=\"n\">servers</span><span class=\"p\">.</span>\n\n<span class=\"n\">total_rows_approx</span> <span class=\"n\">UInt64</span> <span class=\"o\">-</span> <span class=\"n\">The</span> <span class=\"n\">approximation</span> <span class=\"k\">of</span> <span class=\"n\">the</span> <span class=\"n\">total</span> <span class=\"nb\">number</span> <span class=\"k\">of</span> <span class=\"k\">rows</span> <span class=\"n\">that</span> <span class=\"n\">should</span> <span class=\"n\">be</span> <span class=\"k\">read</span><span class=\"p\">.</span> <span class=\"k\">For</span> <span class=\"n\">distributed</span> <span class=\"n\">processing</span><span class=\"p\">,</span> <span class=\"k\">on</span> <span class=\"n\">the</span> <span class=\"n\">requestor</span> <span class=\"n\">server</span><span class=\"p\">,</span> <span class=\"n\">this</span> <span class=\"k\">is</span> <span class=\"n\">the</span> <span class=\"n\">total</span> <span class=\"k\">for</span> <span class=\"k\">all</span> <span class=\"n\">remote</span> <span class=\"n\">servers</span><span class=\"p\">.</span> <span class=\"n\">It</span> <span class=\"n\">can</span> <span class=\"n\">be</span> <span class=\"n\">updated</span> <span class=\"n\">during</span> <span class=\"n\">request</span> <span class=\"n\">processing</span><span class=\"p\">,</span> <span class=\"k\">when</span> <span class=\"k\">new</span> <span class=\"n\">sources</span> <span class=\"k\">to</span> <span class=\"n\">process</span> <span class=\"n\">become</span> <span class=\"n\">known</span><span class=\"p\">.</span>\n\n<span class=\"n\">memory_usage</span> <span class=\"n\">UInt64</span>      <span class=\"o\">-</span> <span class=\"n\">How</span> <span class=\"n\">much</span> <span class=\"n\">memory</span> <span class=\"n\">the</span> <span class=\"n\">request</span> <span class=\"n\">uses</span><span class=\"p\">.</span> <span class=\"n\">It</span> <span class=\"n\">might</span> <span class=\"k\">not</span> <span class=\"n\">include</span> <span class=\"k\">some</span> <span class=\"n\">types</span> <span class=\"k\">of</span> <span class=\"n\">dedicated</span> <span class=\"n\">memory</span><span class=\"p\">.</span>\n\n<span class=\"n\">query</span> <span class=\"n\">String</span>             <span class=\"o\">-</span> <span class=\"n\">The</span> <span class=\"n\">query</span> <span class=\"nb\">text</span><span class=\"p\">.</span> <span class=\"k\">For</span> <span class=\"k\">INSERT</span><span class=\"p\">,</span> <span class=\"n\">it</span> <span class=\"n\">doesn</span><span class=\"err\">&#39;</span><span class=\"n\">t</span> <span class=\"n\">include</span> <span class=\"n\">the</span> <span class=\"k\">data</span> <span class=\"k\">to</span> <span class=\"k\">insert</span><span class=\"p\">.</span>\n\n<span class=\"n\">query_id</span> <span class=\"n\">String</span>          <span class=\"o\">-</span> <span class=\"n\">Query</span> <span class=\"n\">ID</span><span class=\"p\">,</span> <span class=\"k\">if</span> <span class=\"k\">defined</span><span class=\"p\">.</span>\n</pre></div>\n\n\n<h3 id=\"system_tables-query-log\">system.query_log<a class=\"headerlink\" href=\"#system_tables-query-log\" title=\"Permanent link\">&para;</a></h3>\n<p>Contains information about queries execution. For each query, you can see processing start time, duration of processing, error message and other information.</p>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>The table doesn't contain input data for <code>INSERT</code> queries.</p>\n</div>\n<p>ClickHouse creates this table only if the <a href=\"#server_settings-query-log\">query_log</a> server parameter is specified. This parameter sets the logging rules. For example, a logging interval or name of a table the queries will be logged in.</p>\n<p>To enable query logging, set the parameter <a href=\"#settings-log-queries\">log_queries</a> to 1. For details, see the <a href=\"#settings/settings/\">Settings</a> section.</p>\n<p>The <code>system.query_log</code> table registers two kinds of queries:</p>\n<ol>\n<li>Initial queries, that were run directly by the client.</li>\n<li>Child queries that were initiated by other queries (for distributed query execution). For such a kind of queries, information about the parent queries is shown in the <code>initial_*</code> columns. </li>\n</ol>\n<p>Columns:</p>\n<ul>\n<li><code>type</code> (UInt8) \u2014 Type of event that occurred when executing the query. Possible values:<ul>\n<li>1 \u2014 Successful start of query execution.</li>\n<li>2 \u2014 Successful end of query execution.</li>\n<li>3 \u2014 Exception before the start of query execution.</li>\n<li>4 \u2014 Exception during the query execution. </li>\n</ul>\n</li>\n<li><code>event_date</code> (Date) \u2014 Event date.</li>\n<li><code>event_time</code> (DateTime) \u2014 Event time.</li>\n<li><code>query_start_time</code> (DateTime) \u2014 Time of the query processing start.</li>\n<li><code>query_duration_ms</code> (UInt64) \u2014 Duration of the query processing. </li>\n<li><code>read_rows</code> (UInt64) \u2014 Number of read rows.</li>\n<li><code>read_bytes</code> (UInt64) \u2014 Number of read bytes.</li>\n<li><code>written_rows</code> (UInt64) \u2014 For <code>INSERT</code> queries, number of written rows. For other queries, the column value is 0.</li>\n<li><code>written_bytes</code> (UInt64) \u2014 For <code>INSERT</code> queries, number of written bytes. For other queries, the column value is 0.</li>\n<li><code>result_rows</code> (UInt64) \u2014 Number of rows in a result. </li>\n<li><code>result_bytes</code> (UInt64) \u2014 Number of bytes in a result.</li>\n<li><code>memory_usage</code> (UInt64) \u2014 Memory consumption by the query.</li>\n<li><code>query</code> (String) \u2014 Query string.</li>\n<li><code>exception</code> (String) \u2014 Exception message.</li>\n<li><code>stack_trace</code> (String) \u2014 Stack trace (a list of methods called before the error occurred). An empty string, if the query is completed successfully.</li>\n<li><code>is_initial_query</code> (UInt8) \u2014 Kind of query. Possible values: <ul>\n<li>1 \u2014 Query was initiated by the client.</li>\n<li>0 \u2014 Query was initiated by another query for distributed query execution.</li>\n</ul>\n</li>\n<li><code>user</code> (String) \u2014 Name of the user initiated the current query.</li>\n<li><code>query_id</code> (String) \u2014 ID of the query.</li>\n<li><code>address</code> (FixedString(16)) \u2014 IP address the query was initiated from.</li>\n<li><code>port</code> (UInt16) \u2014 A server port that was used to receive the query.</li>\n<li><code>initial_user</code> (String) \u2014  Name of the user who run the parent query (for distributed query execution).</li>\n<li><code>initial_query_id</code> (String) \u2014 ID of the parent query.</li>\n<li><code>initial_address</code> (FixedString(16)) \u2014 IP address that the parent query was launched from.</li>\n<li><code>initial_port</code> (UInt16) \u2014 A server port that was used to receive the parent query from the client.</li>\n<li><code>interface</code> (UInt8) \u2014 Interface that the query was initiated from. Possible values:<ul>\n<li>1 \u2014 TCP.</li>\n<li>2 \u2014 HTTP.</li>\n</ul>\n</li>\n<li><code>os_user</code> (String) \u2014 User's OS.</li>\n<li><code>client_hostname</code> (String) \u2014 Server name that the <a href=\"#../interfaces/cli/\">clickhouse-client</a> is connected to.</li>\n<li><code>client_name</code> (String) \u2014 The <a href=\"#../interfaces/cli/\">clickhouse-client</a> name.</li>\n<li><code>client_revision</code> (UInt32) \u2014 Revision of the <a href=\"#../interfaces/cli/\">clickhouse-client</a>.</li>\n<li><code>client_version_major</code> (UInt32) \u2014 Major version of the <a href=\"#../interfaces/cli/\">clickhouse-client</a>.</li>\n<li><code>client_version_minor</code> (UInt32) \u2014 Minor version of the <a href=\"#../interfaces/cli/\">clickhouse-client</a>.</li>\n<li><code>client_version_patch</code> (UInt32) \u2014 Patch component of the <a href=\"#../interfaces/cli/\">clickhouse-client</a> version.</li>\n<li><code>http_method</code> (UInt8) \u2014 HTTP method initiated the query. Possible values:<ul>\n<li>0 \u2014 The query was launched from the TCP interface. </li>\n<li>1 \u2014 <code>GET</code> method is used.</li>\n<li>2 \u2014 <code>POST</code> method is used.</li>\n</ul>\n</li>\n<li><code>http_user_agent</code> (String) \u2014 The <code>UserAgent</code> header passed in the HTTP request.</li>\n<li><code>quota_key</code> (String) \u2014 The quota key specified in <a href=\"#quotas/\">quotas</a> setting.</li>\n<li><code>revision</code> (UInt32) \u2014 ClickHouse revision.</li>\n<li><code>thread_numbers</code> (Array(UInt32)) \u2014 Number of threads that are participating in query execution.</li>\n<li><code>ProfileEvents.Names</code> (Array(String)) \u2014 Counters that measure the following metrics:<ul>\n<li>Time spent on reading and writing over the network.</li>\n<li>Time spent on reading and writing to a disk.</li>\n<li>Number of network errors.</li>\n<li>Time spent on waiting when the network bandwidth is limited.</li>\n</ul>\n</li>\n<li><code>ProfileEvents.Values</code> (Array(UInt64)) \u2014 Values of metrics that are listed in the&#160;<code>ProfileEvents.Names</code> column.</li>\n<li><code>Settings.Names</code> (Array(String)) \u2014 Names of settings that were changed when the client run a query. To enable logging of settings changing, set the <code>log_query_settings</code> parameter to 1.</li>\n<li><code>Settings.Values</code> (Array(String)) \u2014 Values of settings that are listed in the <code>Settings.Names</code> column.</li>\n</ul>\n<p>Each query creates one or two rows in the <code>query_log</code> table, depending on the status of the query:</p>\n<ol>\n<li>If the query execution is successful, two events with types 1 and 2 are created (see the <code>type</code> column).</li>\n<li>If the error occurred during the query processing, two events with types 1 and 4 are created.</li>\n<li>If the error occurred before the query launching, a single event with type 3 is created.</li>\n</ol>\n<p>By default, logs are added into the table at intervals of 7,5 seconds. You can set this interval in the <a href=\"#server_settings-query-log\">query_log</a> server setting (see the <code>flush_interval_milliseconds</code> parameter). To flush the logs forcibly from the memory buffer into the table, use the <code>SYSTEM FLUSH LOGS</code> query.</p>\n<p>When the table is deleted manually, it will be automatically created on the fly. Note that all the previous logs will be deleted.</p>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>The storage period for logs is unlimited; the logs aren't automatically deleted from the table. You need to organize the removing of non-actual logs yourself.</p>\n</div>\n<p>You can specify an arbitrary partitioning key for the <code>system.query_log</code> table in the <a href=\"#server_settings-query-log\">query_log</a> server setting (see the <code>partition_by</code> parameter).</p>\n<h3 id=\"system_tables-replicas\">system.replicas<a class=\"headerlink\" href=\"#system_tables-replicas\" title=\"Permanent link\">&para;</a></h3>\n<p>Contains information and status for replicated tables residing on the local server.\nThis table can be used for monitoring. The table contains a row for every Replicated* table.</p>\n<p>Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"o\">*</span>\n<span class=\"k\">FROM</span> <span class=\"k\">system</span><span class=\"p\">.</span><span class=\"n\">replicas</span>\n<span class=\"k\">WHERE</span> <span class=\"k\">table</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;visits&#39;</span>\n<span class=\"n\">FORMAT</span> <span class=\"n\">Vertical</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">Row 1:</span>\n<span class=\"err\">\u2500\u2500\u2500\u2500\u2500\u2500</span>\n<span class=\"c\">database:           merge</span>\n<span class=\"c\">table:              visits</span>\n<span class=\"c\">engine:             ReplicatedCollapsingMergeTree</span>\n<span class=\"c\">is_leader:          1</span>\n<span class=\"c\">is_readonly:        0</span>\n<span class=\"c\">is_session_expired: 0</span>\n<span class=\"c\">future_parts:       1</span>\n<span class=\"c\">parts_to_check:     0</span>\n<span class=\"c\">zookeeper_path:     /clickhouse/tables/01-06/visits</span>\n<span class=\"c\">replica_name:       example01-06-1.yandex.ru</span>\n<span class=\"c\">replica_path:       /clickhouse/tables/01-06/visits/replicas/example01-06-1.yandex.ru</span>\n<span class=\"c\">columns_version:    9</span>\n<span class=\"c\">queue_size:         1</span>\n<span class=\"c\">inserts_in_queue:   0</span>\n<span class=\"c\">merges_in_queue:    1</span>\n<span class=\"c\">log_max_index:      596273</span>\n<span class=\"c\">log_pointer:        596274</span>\n<span class=\"c\">total_replicas:     2</span>\n<span class=\"c\">active_replicas:    2</span>\n</pre></div>\n\n\n<p>Columns:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">database</span><span class=\"o\">:</span>          <span class=\"n\">Database</span> <span class=\"n\">name</span>\n<span class=\"n\">table</span><span class=\"o\">:</span>              <span class=\"n\">Table</span> <span class=\"n\">name</span>\n<span class=\"n\">engine</span><span class=\"o\">:</span>            <span class=\"n\">Table</span> <span class=\"n\">engine</span> <span class=\"n\">name</span>\n\n<span class=\"n\">is_leader</span><span class=\"o\">:</span>          <span class=\"n\">Whether</span> <span class=\"n\">the</span> <span class=\"n\">replica</span> <span class=\"k\">is</span> <span class=\"n\">the</span> <span class=\"n\">leader</span><span class=\"o\">.</span>\n\n<span class=\"n\">Only</span> <span class=\"n\">one</span> <span class=\"n\">replica</span> <span class=\"n\">at</span> <span class=\"n\">a</span> <span class=\"n\">time</span> <span class=\"n\">can</span> <span class=\"n\">be</span> <span class=\"n\">the</span> <span class=\"n\">leader</span><span class=\"o\">.</span> <span class=\"n\">The</span> <span class=\"n\">leader</span> <span class=\"k\">is</span> <span class=\"n\">responsible</span> <span class=\"k\">for</span> <span class=\"n\">selecting</span> <span class=\"n\">background</span> <span class=\"n\">merges</span> <span class=\"n\">to</span> <span class=\"n\">perform</span><span class=\"o\">.</span>\n<span class=\"n\">Note</span> <span class=\"n\">that</span> <span class=\"n\">writes</span> <span class=\"n\">can</span> <span class=\"n\">be</span> <span class=\"n\">performed</span> <span class=\"n\">to</span> <span class=\"n\">any</span> <span class=\"n\">replica</span> <span class=\"n\">that</span> <span class=\"k\">is</span> <span class=\"n\">available</span> <span class=\"n\">and</span> <span class=\"n\">has</span> <span class=\"n\">a</span> <span class=\"n\">session</span> <span class=\"k\">in</span> <span class=\"n\">ZK</span><span class=\"o\">,</span> <span class=\"n\">regardless</span> <span class=\"n\">of</span> <span class=\"n\">whether</span> <span class=\"n\">it</span> <span class=\"k\">is</span> <span class=\"n\">a</span> <span class=\"n\">leader</span><span class=\"o\">.</span>\n\n<span class=\"n\">is_readonly</span><span class=\"o\">:</span>        <span class=\"n\">Whether</span> <span class=\"n\">the</span> <span class=\"n\">replica</span> <span class=\"k\">is</span> <span class=\"k\">in</span> <span class=\"n\">read</span><span class=\"o\">-</span><span class=\"n\">only</span> <span class=\"n\">mode</span><span class=\"o\">.</span>\n<span class=\"n\">This</span> <span class=\"n\">mode</span> <span class=\"k\">is</span> <span class=\"n\">turned</span> <span class=\"n\">on</span> <span class=\"k\">if</span> <span class=\"n\">the</span> <span class=\"n\">config</span> <span class=\"n\">doesn</span><span class=\"s1\">&#39;t have sections with ZooKeeper, if an unknown error occurred when reinitializing sessions in ZooKeeper, and during session reinitialization in ZooKeeper.</span>\n\n<span class=\"s1\">is_session_expired: Whether the session with ZooKeeper has expired.</span>\n<span class=\"s1\">Basically the same as &#39;</span><span class=\"n\">is_readonly</span><span class=\"s1\">&#39;.</span>\n\n<span class=\"s1\">future_parts:       The number of data parts that will appear as the result of INSERTs or merges that haven&#39;</span><span class=\"n\">t</span> <span class=\"n\">been</span> <span class=\"n\">done</span> <span class=\"n\">yet</span><span class=\"o\">.</span>\n\n<span class=\"n\">parts_to_check</span><span class=\"o\">:</span>    <span class=\"n\">The</span> <span class=\"n\">number</span> <span class=\"n\">of</span> <span class=\"n\">data</span> <span class=\"n\">parts</span> <span class=\"k\">in</span> <span class=\"n\">the</span> <span class=\"n\">queue</span> <span class=\"k\">for</span> <span class=\"n\">verification</span><span class=\"o\">.</span>\n<span class=\"n\">A</span> <span class=\"n\">part</span> <span class=\"k\">is</span> <span class=\"n\">put</span> <span class=\"k\">in</span> <span class=\"n\">the</span> <span class=\"n\">verification</span> <span class=\"n\">queue</span> <span class=\"k\">if</span> <span class=\"n\">there</span> <span class=\"k\">is</span> <span class=\"n\">suspicion</span> <span class=\"n\">that</span> <span class=\"n\">it</span> <span class=\"n\">might</span> <span class=\"n\">be</span> <span class=\"n\">damaged</span><span class=\"o\">.</span>\n\n<span class=\"n\">zookeeper_path</span><span class=\"o\">:</span>     <span class=\"n\">Path</span> <span class=\"n\">to</span> <span class=\"n\">table</span> <span class=\"n\">data</span> <span class=\"k\">in</span> <span class=\"n\">ZooKeeper</span><span class=\"o\">.</span>\n<span class=\"n\">replica_name</span><span class=\"o\">:</span>       <span class=\"n\">Replica</span> <span class=\"n\">name</span> <span class=\"k\">in</span> <span class=\"n\">ZooKeeper</span><span class=\"o\">.</span> <span class=\"n\">Different</span> <span class=\"n\">replicas</span> <span class=\"n\">of</span> <span class=\"n\">the</span> <span class=\"n\">same</span> <span class=\"n\">table</span> <span class=\"n\">have</span> <span class=\"n\">different</span> <span class=\"n\">names</span><span class=\"o\">.</span>\n<span class=\"n\">replica_path</span><span class=\"o\">:</span>      <span class=\"n\">Path</span> <span class=\"n\">to</span> <span class=\"n\">replica</span> <span class=\"n\">data</span> <span class=\"k\">in</span> <span class=\"n\">ZooKeeper</span><span class=\"o\">.</span> <span class=\"n\">The</span> <span class=\"n\">same</span> <span class=\"k\">as</span> <span class=\"n\">concatenating</span> <span class=\"s1\">&#39;zookeeper_path/replicas/replica_path&#39;</span><span class=\"o\">.</span>\n\n<span class=\"n\">columns_version</span><span class=\"o\">:</span>    <span class=\"n\">Version</span> <span class=\"n\">number</span> <span class=\"n\">of</span> <span class=\"n\">the</span> <span class=\"n\">table</span> <span class=\"n\">structure</span><span class=\"o\">.</span>\n<span class=\"n\">Indicates</span> <span class=\"n\">how</span> <span class=\"n\">many</span> <span class=\"n\">times</span> <span class=\"n\">ALTER</span> <span class=\"n\">was</span> <span class=\"n\">performed</span><span class=\"o\">.</span> <span class=\"n\">If</span> <span class=\"n\">replicas</span> <span class=\"n\">have</span> <span class=\"n\">different</span> <span class=\"n\">versions</span><span class=\"o\">,</span> <span class=\"n\">it</span> <span class=\"n\">means</span> <span class=\"n\">some</span> <span class=\"n\">replicas</span> <span class=\"n\">haven</span><span class=\"s1\">&#39;t made all of the ALTERs yet.</span>\n\n<span class=\"s1\">queue_size:         Size of the queue for operations waiting to be performed.</span>\n<span class=\"s1\">Operations include inserting blocks of data, merges, and certain other actions.</span>\n<span class=\"s1\">It usually coincides with &#39;</span><span class=\"n\">future_parts</span><span class=\"err\">&#39;</span><span class=\"o\">.</span>\n\n<span class=\"n\">inserts_in_queue</span><span class=\"o\">:</span>   <span class=\"n\">Number</span> <span class=\"n\">of</span> <span class=\"n\">inserts</span> <span class=\"n\">of</span> <span class=\"n\">blocks</span> <span class=\"n\">of</span> <span class=\"n\">data</span> <span class=\"n\">that</span> <span class=\"n\">need</span> <span class=\"n\">to</span> <span class=\"n\">be</span> <span class=\"n\">made</span><span class=\"o\">.</span>\n<span class=\"n\">Insertions</span> <span class=\"n\">are</span> <span class=\"n\">usually</span> <span class=\"n\">replicated</span> <span class=\"n\">fairly</span> <span class=\"n\">quickly</span><span class=\"o\">.</span> <span class=\"n\">If</span> <span class=\"k\">this</span> <span class=\"n\">number</span> <span class=\"k\">is</span> <span class=\"n\">large</span><span class=\"o\">,</span> <span class=\"n\">it</span> <span class=\"n\">means</span> <span class=\"n\">something</span> <span class=\"k\">is</span> <span class=\"n\">wrong</span><span class=\"o\">.</span>\n\n<span class=\"n\">merges_in_queue</span><span class=\"o\">:</span>    <span class=\"n\">The</span> <span class=\"n\">number</span> <span class=\"n\">of</span> <span class=\"n\">merges</span> <span class=\"n\">waiting</span> <span class=\"n\">to</span> <span class=\"n\">be</span> <span class=\"n\">made</span><span class=\"o\">.</span>\n<span class=\"n\">Sometimes</span> <span class=\"n\">merges</span> <span class=\"n\">are</span> <span class=\"n\">lengthy</span><span class=\"o\">,</span> <span class=\"n\">so</span> <span class=\"k\">this</span> <span class=\"n\">value</span> <span class=\"n\">may</span> <span class=\"n\">be</span> <span class=\"n\">greater</span> <span class=\"n\">than</span> <span class=\"n\">zero</span> <span class=\"k\">for</span> <span class=\"n\">a</span> <span class=\"n\">long</span> <span class=\"n\">time</span><span class=\"o\">.</span>\n\n<span class=\"n\">The</span> <span class=\"n\">next</span> <span class=\"mi\">4</span> <span class=\"n\">columns</span> <span class=\"n\">have</span> <span class=\"n\">a</span> <span class=\"n\">non</span><span class=\"o\">-</span><span class=\"n\">zero</span> <span class=\"n\">value</span> <span class=\"n\">only</span> <span class=\"n\">where</span> <span class=\"n\">there</span> <span class=\"k\">is</span> <span class=\"n\">an</span> <span class=\"n\">active</span> <span class=\"n\">session</span> <span class=\"k\">with</span> <span class=\"n\">ZK</span><span class=\"o\">.</span>\n\n<span class=\"n\">log_max_index</span><span class=\"o\">:</span>      <span class=\"n\">Maximum</span> <span class=\"n\">entry</span> <span class=\"n\">number</span> <span class=\"k\">in</span> <span class=\"n\">the</span> <span class=\"n\">log</span> <span class=\"n\">of</span> <span class=\"n\">general</span> <span class=\"n\">activity</span><span class=\"o\">.</span>\n<span class=\"n\">log_pointer</span><span class=\"o\">:</span>        <span class=\"n\">Maximum</span> <span class=\"n\">entry</span> <span class=\"n\">number</span> <span class=\"k\">in</span> <span class=\"n\">the</span> <span class=\"n\">log</span> <span class=\"n\">of</span> <span class=\"n\">general</span> <span class=\"n\">activity</span> <span class=\"n\">that</span> <span class=\"n\">the</span> <span class=\"n\">replica</span> <span class=\"n\">copied</span> <span class=\"n\">to</span> <span class=\"n\">its</span> <span class=\"n\">execution</span> <span class=\"n\">queue</span><span class=\"o\">,</span> <span class=\"n\">plus</span> <span class=\"n\">one</span><span class=\"o\">.</span>\n<span class=\"n\">If</span> <span class=\"n\">log_pointer</span> <span class=\"k\">is</span> <span class=\"n\">much</span> <span class=\"n\">smaller</span> <span class=\"n\">than</span> <span class=\"n\">log_max_index</span><span class=\"o\">,</span> <span class=\"n\">something</span> <span class=\"k\">is</span> <span class=\"n\">wrong</span><span class=\"o\">.</span>\n\n<span class=\"n\">total_replicas</span><span class=\"o\">:</span>     <span class=\"n\">The</span> <span class=\"n\">total</span> <span class=\"n\">number</span> <span class=\"n\">of</span> <span class=\"n\">known</span> <span class=\"n\">replicas</span> <span class=\"n\">of</span> <span class=\"k\">this</span> <span class=\"n\">table</span><span class=\"o\">.</span>\n<span class=\"n\">active_replicas</span><span class=\"o\">:</span>    <span class=\"n\">The</span> <span class=\"n\">number</span> <span class=\"n\">of</span> <span class=\"n\">replicas</span> <span class=\"n\">of</span> <span class=\"k\">this</span> <span class=\"n\">table</span> <span class=\"n\">that</span> <span class=\"n\">have</span> <span class=\"n\">a</span> <span class=\"n\">session</span> <span class=\"k\">in</span> <span class=\"n\">ZooKeeper</span> <span class=\"o\">(</span><span class=\"n\">i</span><span class=\"o\">.</span><span class=\"na\">e</span><span class=\"o\">.,</span> <span class=\"n\">the</span> <span class=\"n\">number</span> <span class=\"n\">of</span> <span class=\"n\">functioning</span> <span class=\"n\">replicas</span><span class=\"o\">).</span>\n</pre></div>\n\n\n<p>If you request all the columns, the table may work a bit slowly, since several reads from ZooKeeper are made for each row.\nIf you don't request the last 4 columns (log_max_index, log_pointer, total_replicas, active_replicas), the table works quickly.</p>\n<p>For example, you can check that everything is working correctly like this:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span>\n    <span class=\"k\">database</span><span class=\"p\">,</span>\n    <span class=\"k\">table</span><span class=\"p\">,</span>\n    <span class=\"n\">is_leader</span><span class=\"p\">,</span>\n    <span class=\"n\">is_readonly</span><span class=\"p\">,</span>\n    <span class=\"n\">is_session_expired</span><span class=\"p\">,</span>\n    <span class=\"n\">future_parts</span><span class=\"p\">,</span>\n    <span class=\"n\">parts_to_check</span><span class=\"p\">,</span>\n    <span class=\"n\">columns_version</span><span class=\"p\">,</span>\n    <span class=\"n\">queue_size</span><span class=\"p\">,</span>\n    <span class=\"n\">inserts_in_queue</span><span class=\"p\">,</span>\n    <span class=\"n\">merges_in_queue</span><span class=\"p\">,</span>\n    <span class=\"n\">log_max_index</span><span class=\"p\">,</span>\n    <span class=\"n\">log_pointer</span><span class=\"p\">,</span>\n    <span class=\"n\">total_replicas</span><span class=\"p\">,</span>\n    <span class=\"n\">active_replicas</span>\n<span class=\"k\">FROM</span> <span class=\"k\">system</span><span class=\"p\">.</span><span class=\"n\">replicas</span>\n<span class=\"k\">WHERE</span>\n       <span class=\"n\">is_readonly</span>\n    <span class=\"k\">OR</span> <span class=\"n\">is_session_expired</span>\n    <span class=\"k\">OR</span> <span class=\"n\">future_parts</span> <span class=\"o\">&gt;</span> <span class=\"mi\">20</span>\n    <span class=\"k\">OR</span> <span class=\"n\">parts_to_check</span> <span class=\"o\">&gt;</span> <span class=\"mi\">10</span>\n    <span class=\"k\">OR</span> <span class=\"n\">queue_size</span> <span class=\"o\">&gt;</span> <span class=\"mi\">20</span>\n    <span class=\"k\">OR</span> <span class=\"n\">inserts_in_queue</span> <span class=\"o\">&gt;</span> <span class=\"mi\">10</span>\n    <span class=\"k\">OR</span> <span class=\"n\">log_max_index</span> <span class=\"o\">-</span> <span class=\"n\">log_pointer</span> <span class=\"o\">&gt;</span> <span class=\"mi\">10</span>\n    <span class=\"k\">OR</span> <span class=\"n\">total_replicas</span> <span class=\"o\">&lt;</span> <span class=\"mi\">2</span>\n    <span class=\"k\">OR</span> <span class=\"n\">active_replicas</span> <span class=\"o\">&lt;</span> <span class=\"n\">total_replicas</span>\n</pre></div>\n\n\n<p>If this query doesn't return anything, it means that everything is fine.</p>\n<h3 id=\"system-settings\">system.settings<a class=\"headerlink\" href=\"#system-settings\" title=\"Permanent link\">&para;</a></h3>\n<p>Contains information about settings that are currently in use.\nI.e. used for executing the query you are using to read from the system.settings table.</p>\n<p>Columns:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">name String  \u2014 Setting name.</span>\n<span class=\"err\">value String  \u2014 Setting value.</span>\n<span class=\"err\">changed UInt8 \u2014 Whether the setting was explicitly defined in the config or explicitly changed.</span>\n</pre></div>\n\n\n<p>Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"o\">*</span>\n<span class=\"k\">FROM</span> <span class=\"k\">system</span><span class=\"p\">.</span><span class=\"n\">settings</span>\n<span class=\"k\">WHERE</span> <span class=\"n\">changed</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">\u250c\u2500name\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500value\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500changed\u2500\u2510</span>\n<span class=\"err\">\u2502 max_threads            \u2502 8           \u2502       1 \u2502</span>\n<span class=\"err\">\u2502 use_uncompressed_cache \u2502 0           \u2502       1 \u2502</span>\n<span class=\"err\">\u2502 load_balancing         \u2502 random      \u2502       1 \u2502</span>\n<span class=\"err\">\u2502 max_memory_usage       \u2502 10000000000 \u2502       1 \u2502</span>\n<span class=\"err\">\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518</span>\n</pre></div>\n\n\n<h3 id=\"system-tables_1\">system.tables<a class=\"headerlink\" href=\"#system-tables_1\" title=\"Permanent link\">&para;</a></h3>\n<p>Contains metadata of each table that the server knows about. Detached tables are not shown in <code>system.tables</code>.</p>\n<p>This table contains the following columns (the type of the corresponding column is shown in brackets):</p>\n<ul>\n<li><code>database</code> (String) \u2014 The name of database the table is in.</li>\n<li><code>name</code> (String) \u2014 Table name.</li>\n<li><code>engine</code> (String) \u2014 Table engine name (without parameters).</li>\n<li><code>is_temporary</code> (UInt8) - Flag that indicates whether the table is temporary.</li>\n<li><code>data_path</code> (String) - Path to the table data in the file system.</li>\n<li><code>metadata_path</code> (String) - Path to the table metadata in the file system. </li>\n<li><code>metadata_modification_time</code> (DateTime) - Time of latest modification of the table metadata.</li>\n<li><code>dependencies_database</code> (Array(String)) - Database dependencies.</li>\n<li><code>dependencies_table</code> (Array(String)) - Table dependencies (<a href=\"#table_engines/materializedview/\">MaterializedView</a> tables based on the current table).</li>\n<li><code>create_table_query</code> (String) - The query that was used to create the table.</li>\n<li><code>engine_full</code> (String) - Parameters of the table engine.</li>\n<li><code>partition_key</code> (String) - The partition key expression specified in the table. </li>\n<li><code>sorting_key</code> (String) - The sorting key expression specified in the table.</li>\n<li><code>primary_key</code> (String) - The primary key expression specified in the table.</li>\n<li><code>sampling_key</code> (String) - The sampling key expression specified in the table.</li>\n</ul>\n<p>The <code>system.tables</code> is used in <code>SHOW TABLES</code> query implementation.</p>\n<h3 id=\"system-zookeeper\">system.zookeeper<a class=\"headerlink\" href=\"#system-zookeeper\" title=\"Permanent link\">&para;</a></h3>\n<p>The table does not exist if ZooKeeper is not configured. Allows reading data from the ZooKeeper cluster defined in the config.\nThe query must have a 'path' equality condition in the WHERE clause. This is the path in ZooKeeper for the children that you want to get data for.</p>\n<p>The query <code>SELECT * FROM system.zookeeper WHERE path = '/clickhouse'</code> outputs data for all children on the <code>/clickhouse</code> node.\nTo output data for all root nodes, write path = '/'.\nIf the path specified in 'path' doesn't exist, an exception will be thrown.</p>\n<p>Columns:</p>\n<ul>\n<li><code>name String</code> \u2014 The name of the node.</li>\n<li><code>path String</code> \u2014 The path to the node.</li>\n<li><code>value String</code> \u2014 Node value.</li>\n<li><code>dataLength Int32</code> \u2014 Size of the value.</li>\n<li><code>numChildren Int32</code> \u2014 Number of descendants.</li>\n<li><code>czxid Int64</code> \u2014 ID of the transaction that created the node.</li>\n<li><code>mzxid Int64</code> \u2014 ID of the transaction that last changed the node.</li>\n<li><code>pzxid Int64</code> \u2014 ID of the transaction that last deleted or added descendants.</li>\n<li><code>ctime DateTime</code> \u2014 Time of node creation.</li>\n<li><code>mtime DateTime</code> \u2014 Time of the last modification of the node.</li>\n<li><code>version Int32</code> \u2014 Node version: the number of times the node was changed.</li>\n<li><code>cversion Int32</code> \u2014 Number of added or removed descendants.</li>\n<li><code>aversion Int32</code> \u2014 Number of changes to the ACL.</li>\n<li><code>ephemeralOwner Int64</code> \u2014 For ephemeral nodes, the ID of hte session that owns this node.</li>\n</ul>\n<p>Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SELECT</span> <span class=\"o\">*</span>\n<span class=\"k\">FROM</span> <span class=\"k\">system</span><span class=\"p\">.</span><span class=\"n\">zookeeper</span>\n<span class=\"k\">WHERE</span> <span class=\"n\">path</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;/clickhouse/tables/01-08/visits/replicas&#39;</span>\n<span class=\"n\">FORMAT</span> <span class=\"n\">Vertical</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">Row</span> <span class=\"mi\">1</span><span class=\"p\">:</span>\n<span class=\"err\">\u2500\u2500\u2500\u2500\u2500\u2500</span>\n<span class=\"n\">name</span><span class=\"p\">:</span>           <span class=\"n\">example01</span><span class=\"o\">-</span><span class=\"mi\">08</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">.</span><span class=\"n\">yandex</span><span class=\"p\">.</span><span class=\"n\">ru</span>\n<span class=\"n\">value</span><span class=\"p\">:</span>\n<span class=\"n\">czxid</span><span class=\"p\">:</span>          <span class=\"mi\">932998691229</span>\n<span class=\"n\">mzxid</span><span class=\"p\">:</span>          <span class=\"mi\">932998691229</span>\n<span class=\"n\">ctime</span><span class=\"p\">:</span>          <span class=\"mi\">2015</span><span class=\"o\">-</span><span class=\"mi\">03</span><span class=\"o\">-</span><span class=\"mi\">27</span> <span class=\"mi\">16</span><span class=\"p\">:</span><span class=\"mi\">49</span><span class=\"p\">:</span><span class=\"mi\">51</span>\n<span class=\"n\">mtime</span><span class=\"p\">:</span>          <span class=\"mi\">2015</span><span class=\"o\">-</span><span class=\"mi\">03</span><span class=\"o\">-</span><span class=\"mi\">27</span> <span class=\"mi\">16</span><span class=\"p\">:</span><span class=\"mi\">49</span><span class=\"p\">:</span><span class=\"mi\">51</span>\n<span class=\"k\">version</span><span class=\"p\">:</span>        <span class=\"mi\">0</span>\n<span class=\"n\">cversion</span><span class=\"p\">:</span>       <span class=\"mi\">47</span>\n<span class=\"n\">aversion</span><span class=\"p\">:</span>       <span class=\"mi\">0</span>\n<span class=\"n\">ephemeralOwner</span><span class=\"p\">:</span> <span class=\"mi\">0</span>\n<span class=\"n\">dataLength</span><span class=\"p\">:</span>     <span class=\"mi\">0</span>\n<span class=\"n\">numChildren</span><span class=\"p\">:</span>    <span class=\"mi\">7</span>\n<span class=\"n\">pzxid</span><span class=\"p\">:</span>          <span class=\"mi\">987021031383</span>\n<span class=\"n\">path</span><span class=\"p\">:</span>           <span class=\"o\">/</span><span class=\"n\">clickhouse</span><span class=\"o\">/</span><span class=\"n\">tables</span><span class=\"o\">/</span><span class=\"mi\">01</span><span class=\"o\">-</span><span class=\"mi\">08</span><span class=\"o\">/</span><span class=\"n\">visits</span><span class=\"o\">/</span><span class=\"n\">replicas</span>\n\n<span class=\"k\">Row</span> <span class=\"mi\">2</span><span class=\"p\">:</span>\n<span class=\"err\">\u2500\u2500\u2500\u2500\u2500\u2500</span>\n<span class=\"n\">name</span><span class=\"p\">:</span>           <span class=\"n\">example01</span><span class=\"o\">-</span><span class=\"mi\">08</span><span class=\"o\">-</span><span class=\"mi\">2</span><span class=\"p\">.</span><span class=\"n\">yandex</span><span class=\"p\">.</span><span class=\"n\">ru</span>\n<span class=\"n\">value</span><span class=\"p\">:</span>\n<span class=\"n\">czxid</span><span class=\"p\">:</span>          <span class=\"mi\">933002738135</span>\n<span class=\"n\">mzxid</span><span class=\"p\">:</span>          <span class=\"mi\">933002738135</span>\n<span class=\"n\">ctime</span><span class=\"p\">:</span>          <span class=\"mi\">2015</span><span class=\"o\">-</span><span class=\"mi\">03</span><span class=\"o\">-</span><span class=\"mi\">27</span> <span class=\"mi\">16</span><span class=\"p\">:</span><span class=\"mi\">57</span><span class=\"p\">:</span><span class=\"mi\">01</span>\n<span class=\"n\">mtime</span><span class=\"p\">:</span>          <span class=\"mi\">2015</span><span class=\"o\">-</span><span class=\"mi\">03</span><span class=\"o\">-</span><span class=\"mi\">27</span> <span class=\"mi\">16</span><span class=\"p\">:</span><span class=\"mi\">57</span><span class=\"p\">:</span><span class=\"mi\">01</span>\n<span class=\"k\">version</span><span class=\"p\">:</span>        <span class=\"mi\">0</span>\n<span class=\"n\">cversion</span><span class=\"p\">:</span>       <span class=\"mi\">37</span>\n<span class=\"n\">aversion</span><span class=\"p\">:</span>       <span class=\"mi\">0</span>\n<span class=\"n\">ephemeralOwner</span><span class=\"p\">:</span> <span class=\"mi\">0</span>\n<span class=\"n\">dataLength</span><span class=\"p\">:</span>     <span class=\"mi\">0</span>\n<span class=\"n\">numChildren</span><span class=\"p\">:</span>    <span class=\"mi\">7</span>\n<span class=\"n\">pzxid</span><span class=\"p\">:</span>          <span class=\"mi\">987021252247</span>\n<span class=\"n\">path</span><span class=\"p\">:</span>           <span class=\"o\">/</span><span class=\"n\">clickhouse</span><span class=\"o\">/</span><span class=\"n\">tables</span><span class=\"o\">/</span><span class=\"mi\">01</span><span class=\"o\">-</span><span class=\"mi\">08</span><span class=\"o\">/</span><span class=\"n\">visits</span><span class=\"o\">/</span><span class=\"n\">replicas</span>\n</pre></div>\n\n\n<h3 id=\"system_tables-mutations\">system.mutations<a class=\"headerlink\" href=\"#system_tables-mutations\" title=\"Permanent link\">&para;</a></h3>\n<p>The table contains information about <a href=\"#alter-mutations\">mutations</a> of MergeTree tables and their progress. Each mutation command is represented by a single row. The table has the following columns:</p>\n<p><strong>database</strong>, <strong>table</strong> - The name of the database and table to which the mutation was applied.</p>\n<p><strong>mutation_id</strong> - The ID of the mutation. For replicated tables these IDs correspond to znode names in the <code>&lt;table_path_in_zookeeper&gt;/mutations/</code> directory in ZooKeeper. For unreplicated tables the IDs correspond to file names in the data directory of the table.</p>\n<p><strong>command</strong> - The mutation command string (the part of the query after <code>ALTER TABLE [db.]table</code>).</p>\n<p><strong>create_time</strong> - When this mutation command was submitted for execution.</p>\n<p><strong>block_numbers.partition_id</strong>, <strong>block_numbers.number</strong> - A Nested column. For mutations of replicated tables contains one record for each partition: the partition ID and the block number that was acquired by the mutation (in each partition only parts that contain blocks with numbers less than the block number acquired by the mutation in that partition will be mutated). Because in non-replicated tables blocks numbers in all partitions form a single sequence, for mutatations of non-replicated tables the column will contain one record with a single block number acquired by the mutation.</p>\n<p><strong>parts_to_do</strong> - The number of data parts that need to be mutated for the mutation to finish.</p>\n<p><strong>is_done</strong> - Is the mutation done? Note that even if <code>parts_to_do = 0</code> it is possible that a mutation of a replicated table is not done yet because of a long-running INSERT that will create a new data part that will need to be mutated.</p>\n<p>If there were problems with mutating some parts the following columns contain additional information:</p>\n<p><strong>latest_failed_part</strong> - The name of the most recent part that could not be mutated.</p>\n<p><strong>latest_fail_time</strong> - The time of the most recent part mutation failure.</p>\n<p><strong>latest_fail_reason</strong> - The exception message that caused the most recent part mutation failure.</p>\n<p><a name=\"../../../../operations/server_settings/\"></a>\n<a name=\"../../../../../operations/server_settings/\"></a>\n<a name=\"server_settings/\"></a>\n<a name=\"../../../operations/server_settings/\"></a>\n<a name=\"operations/server_settings/\"></a>\n<a name=\"../../operations/server_settings/\"></a>\n<a name=\"../operations/server_settings/\"></a></p>\n<h2 id=\"server_settings\">Server configuration parameters<a class=\"headerlink\" href=\"#server_settings\" title=\"Permanent link\">&para;</a></h2>\n<p>This section contains descriptions of server settings that cannot be changed at the session or query level.</p>\n<p>These settings are stored in the <code>config.xml</code> file on the ClickHouse server.</p>\n<p>Other settings are described in the \"<a href=\"#settings\">Settings</a>\" section.</p>\n<p>Before studying the settings, read the <a href=\"#configuration_files\">Configuration files</a> section and note the use of substitutions (the <code>incl</code> and <code>optional</code> attributes).</p>\n<p><a name=\"../../server_settings/settings/\"></a>\n<a name=\"../../../../server_settings/settings/\"></a>\n<a name=\"../../../operations/server_settings/settings/\"></a>\n<a name=\"../../../server_settings/settings/\"></a>\n<a name=\"../../../../../../server_settings/settings/\"></a>\n<a name=\"server_settings/settings/\"></a>\n<a name=\"settings/\"></a>\n<a name=\"../../../../../server_settings/settings/\"></a>\n<a name=\"../../operations/server_settings/settings/\"></a>\n<a name=\"../../../../operations/server_settings/settings/\"></a>\n<a name=\"operations/server_settings/settings/\"></a>\n<a name=\"../../../../../operations/server_settings/settings/\"></a>\n<a name=\"../operations/server_settings/settings/\"></a>\n<a name=\"../server_settings/settings/\"></a></p>\n<h2 id=\"server-settings\">Server settings<a class=\"headerlink\" href=\"#server-settings\" title=\"Permanent link\">&para;</a></h2>\n<h3 id=\"builtin-dictionaries-reload-interval\">builtin_dictionaries_reload_interval<a class=\"headerlink\" href=\"#builtin-dictionaries-reload-interval\" title=\"Permanent link\">&para;</a></h3>\n<p>The interval in seconds before reloading built-in dictionaries.</p>\n<p>ClickHouse reloads built-in dictionaries every x seconds. This makes it possible to edit dictionaries \"on the fly\" without restarting the server.</p>\n<p>Default value: 3600.</p>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;builtin_dictionaries_reload_interval&gt;</span>3600<span class=\"nt\">&lt;/builtin_dictionaries_reload_interval&gt;</span>\n</pre></div>\n\n\n<h3 id=\"compression\">compression<a class=\"headerlink\" href=\"#compression\" title=\"Permanent link\">&para;</a></h3>\n<p>Data compression settings.</p>\n<div class=\"admonition warning\">\n<p class=\"admonition-title\">Warning</p>\n<p>Don't use it if you have just started using ClickHouse.</p>\n</div>\n<p>The configuration looks like this:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;compression&gt;</span>\n    <span class=\"nt\">&lt;case&gt;</span>\n      <span class=\"nt\">&lt;parameters/&gt;</span>\n    <span class=\"nt\">&lt;/case&gt;</span>\n    ...\n<span class=\"nt\">&lt;/compression&gt;</span>\n</pre></div>\n\n\n<p>You can configure multiple sections <code>&lt;case&gt;</code>.</p>\n<p>Block field <code>&lt;case&gt;</code>:</p>\n<ul>\n<li><code>min_part_size</code> \u2013 The minimum size of a table part.</li>\n<li><code>min_part_size_ratio</code> \u2013 The ratio of the minimum size of a table part to the full size of the table.</li>\n<li><code>method</code> \u2013 Compression method. Acceptable values \u200b: <code>lz4</code> or <code>zstd</code>(experimental).</li>\n</ul>\n<p>ClickHouse checks <code>min_part_size</code> and <code>min_part_size_ratio</code> and processes the <code>case</code> blocks that match these conditions. If none of the <code>&lt;case&gt;</code> matches, ClickHouse applies the <code>lz4</code> compression algorithm.</p>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;compression</span> <span class=\"na\">incl=</span><span class=\"s\">&quot;clickhouse_compression&quot;</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;case&gt;</span>\n        <span class=\"nt\">&lt;min_part_size&gt;</span>10000000000<span class=\"nt\">&lt;/min_part_size&gt;</span>\n        <span class=\"nt\">&lt;min_part_size_ratio&gt;</span>0.01<span class=\"nt\">&lt;/min_part_size_ratio&gt;</span>\n        <span class=\"nt\">&lt;method&gt;</span>zstd<span class=\"nt\">&lt;/method&gt;</span>\n    <span class=\"nt\">&lt;/case&gt;</span>\n<span class=\"nt\">&lt;/compression&gt;</span>\n</pre></div>\n\n\n<h3 id=\"default-database\">default_database<a class=\"headerlink\" href=\"#default-database\" title=\"Permanent link\">&para;</a></h3>\n<p>The default database.</p>\n<p>To get a list of databases, use the <a href=\"#show-databases\">SHOW DATABASES</a> query.</p>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;default_database&gt;</span>default<span class=\"nt\">&lt;/default_database&gt;</span>\n</pre></div>\n\n\n<h3 id=\"default-profile\">default_profile<a class=\"headerlink\" href=\"#default-profile\" title=\"Permanent link\">&para;</a></h3>\n<p>Default settings profile.</p>\n<p>Settings profiles are located in the file specified in the parameter <code>user_config</code>.</p>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;default_profile&gt;</span>default<span class=\"nt\">&lt;/default_profile&gt;</span>\n</pre></div>\n\n\n<h3 id=\"dictionaries-config\">dictionaries_config<a class=\"headerlink\" href=\"#dictionaries-config\" title=\"Permanent link\">&para;</a></h3>\n<p>The path to the config file for external dictionaries.</p>\n<p>Path:</p>\n<ul>\n<li>Specify the absolute path or the path relative to the server config file.</li>\n<li>The path can contain wildcards * and ?.</li>\n</ul>\n<p>See also \"<a href=\"#../../query_language/dicts/external_dicts/\">External dictionaries</a>\".</p>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;dictionaries_config&gt;</span>*_dictionary.xml<span class=\"nt\">&lt;/dictionaries_config&gt;</span>\n</pre></div>\n\n\n<h3 id=\"dictionaries-lazy-load\">dictionaries_lazy_load<a class=\"headerlink\" href=\"#dictionaries-lazy-load\" title=\"Permanent link\">&para;</a></h3>\n<p>Lazy loading of dictionaries.</p>\n<p>If <code>true</code>, then each dictionary is created on first use. If dictionary creation failed, the function that was using the dictionary throws an exception.</p>\n<p>If <code>false</code>, all dictionaries are created when the server starts, and if there is an error, the server shuts down.</p>\n<p>The default is <code>true</code>.</p>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;dictionaries_lazy_load&gt;</span>true<span class=\"nt\">&lt;/dictionaries_lazy_load&gt;</span>\n</pre></div>\n\n\n<h3 id=\"server_settings-format_schema_path\">format_schema_path<a class=\"headerlink\" href=\"#server_settings-format_schema_path\" title=\"Permanent link\">&para;</a></h3>\n<p>The path to the directory with the schemes for the input data, such as schemas for the <a href=\"#capnproto\">CapnProto</a> format.</p>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span>  <span class=\"c\">&lt;!-- Directory containing schema files for various input formats. --&gt;</span>\n  <span class=\"nt\">&lt;format_schema_path&gt;</span>format_schemas/<span class=\"nt\">&lt;/format_schema_path&gt;</span>\n</pre></div>\n\n\n<h3 id=\"server_settings-graphite\">graphite<a class=\"headerlink\" href=\"#server_settings-graphite\" title=\"Permanent link\">&para;</a></h3>\n<p>Sending data to <a href=\"https://github.com/graphite-project\" rel=\"external nofollow\">Graphite</a>.</p>\n<p>Settings:</p>\n<ul>\n<li>host \u2013 The Graphite server.</li>\n<li>port \u2013 The port on the Graphite server.</li>\n<li>interval \u2013 The interval for sending, in seconds.</li>\n<li>timeout \u2013 The timeout for sending data, in seconds.</li>\n<li>root_path \u2013 Prefix for keys.</li>\n<li>metrics \u2013 Sending data from a :ref:<code>system_tables-system.metrics</code> table.</li>\n<li>events \u2013 Sending data from a :ref:<code>system_tables-system.events</code> table.</li>\n<li>asynchronous_metrics \u2013 Sending data from a :ref:<code>system_tables-system.asynchronous_metrics</code> table.</li>\n</ul>\n<p>You can configure multiple <code>&lt;graphite&gt;</code> clauses. For instance, you can use this for sending different data at different intervals.</p>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;graphite&gt;</span>\n    <span class=\"nt\">&lt;host&gt;</span>localhost<span class=\"nt\">&lt;/host&gt;</span>\n    <span class=\"nt\">&lt;port&gt;</span>42000<span class=\"nt\">&lt;/port&gt;</span>\n    <span class=\"nt\">&lt;timeout&gt;</span>0.1<span class=\"nt\">&lt;/timeout&gt;</span>\n    <span class=\"nt\">&lt;interval&gt;</span>60<span class=\"nt\">&lt;/interval&gt;</span>\n    <span class=\"nt\">&lt;root_path&gt;</span>one_min<span class=\"nt\">&lt;/root_path&gt;</span>\n    <span class=\"nt\">&lt;metrics&gt;</span>true<span class=\"nt\">&lt;/metrics&gt;</span>\n    <span class=\"nt\">&lt;events&gt;</span>true<span class=\"nt\">&lt;/events&gt;</span>\n    <span class=\"nt\">&lt;asynchronous_metrics&gt;</span>true<span class=\"nt\">&lt;/asynchronous_metrics&gt;</span>\n<span class=\"nt\">&lt;/graphite&gt;</span>\n</pre></div>\n\n\n<h3 id=\"server_settings-graphite_rollup\">graphite_rollup<a class=\"headerlink\" href=\"#server_settings-graphite_rollup\" title=\"Permanent link\">&para;</a></h3>\n<p>Settings for thinning data for Graphite.</p>\n<p>For more details, see <a href=\"#../../operations/table_engines/graphitemergetree/\">GraphiteMergeTree</a>.</p>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;graphite_rollup_example&gt;</span>\n    <span class=\"nt\">&lt;default&gt;</span>\n        <span class=\"nt\">&lt;function&gt;</span>max<span class=\"nt\">&lt;/function&gt;</span>\n        <span class=\"nt\">&lt;retention&gt;</span>\n            <span class=\"nt\">&lt;age&gt;</span>0<span class=\"nt\">&lt;/age&gt;</span>\n            <span class=\"nt\">&lt;precision&gt;</span>60<span class=\"nt\">&lt;/precision&gt;</span>\n        <span class=\"nt\">&lt;/retention&gt;</span>\n        <span class=\"nt\">&lt;retention&gt;</span>\n            <span class=\"nt\">&lt;age&gt;</span>3600<span class=\"nt\">&lt;/age&gt;</span>\n            <span class=\"nt\">&lt;precision&gt;</span>300<span class=\"nt\">&lt;/precision&gt;</span>\n        <span class=\"nt\">&lt;/retention&gt;</span>\n        <span class=\"nt\">&lt;retention&gt;</span>\n            <span class=\"nt\">&lt;age&gt;</span>86400<span class=\"nt\">&lt;/age&gt;</span>\n            <span class=\"nt\">&lt;precision&gt;</span>3600<span class=\"nt\">&lt;/precision&gt;</span>\n        <span class=\"nt\">&lt;/retention&gt;</span>\n    <span class=\"nt\">&lt;/default&gt;</span>\n<span class=\"nt\">&lt;/graphite_rollup_example&gt;</span>\n</pre></div>\n\n\n<h3 id=\"http-port-https-port\">http_port/https_port<a class=\"headerlink\" href=\"#http-port-https-port\" title=\"Permanent link\">&para;</a></h3>\n<p>The port for connecting to the server over HTTP(s).</p>\n<p>If <code>https_port</code> is specified, <a href=\"#server_settings-openssl\">openSSL</a> must be configured.</p>\n<p>If <code>http_port</code> is specified, the openSSL configuration is ignored even if it is set.</p>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;https&gt;</span>0000<span class=\"nt\">&lt;/https&gt;</span>\n</pre></div>\n\n\n<h3 id=\"http-server-default-response\">http_server_default_response<a class=\"headerlink\" href=\"#http-server-default-response\" title=\"Permanent link\">&para;</a></h3>\n<p>The page that is shown by default when you access the ClickHouse HTTP(s) server.</p>\n<p><strong>Example</strong></p>\n<p>Opens <code>https://tabix.io/</code> when accessing <code>http://localhost: http_port</code>.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;http_server_default_response&gt;</span>\n  <span class=\"cp\">&lt;![CDATA[&lt;html ng-app=&quot;SMI2&quot;&gt;&lt;head&gt;&lt;base href=&quot;http://ui.tabix.io/&quot;&gt;&lt;/head&gt;&lt;body&gt;&lt;div ui-view=&quot;&quot; class=&quot;content-ui&quot;&gt;&lt;/div&gt;&lt;script src=&quot;http://loader.tabix.io/master.js&quot;&gt;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;]]&gt;</span>\n<span class=\"nt\">&lt;/http_server_default_response&gt;</span>\n</pre></div>\n\n\n<h3 id=\"server_settings-include_from\">include_from<a class=\"headerlink\" href=\"#server_settings-include_from\" title=\"Permanent link\">&para;</a></h3>\n<p>The path to the file with substitutions.</p>\n<p>For more information, see the section \"<a href=\"#configuration_files\">Configuration files</a>\".</p>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;include_from&gt;</span>/etc/metrica.xml<span class=\"nt\">&lt;/include_from&gt;</span>\n</pre></div>\n\n\n<h3 id=\"interserver-http-port\">interserver_http_port<a class=\"headerlink\" href=\"#interserver-http-port\" title=\"Permanent link\">&para;</a></h3>\n<p>Port for exchanging data between ClickHouse servers.</p>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;interserver_http_port&gt;</span>9009<span class=\"nt\">&lt;/interserver_http_port&gt;</span>\n</pre></div>\n\n\n<h3 id=\"interserver-http-host\">interserver_http_host<a class=\"headerlink\" href=\"#interserver-http-host\" title=\"Permanent link\">&para;</a></h3>\n<p>The host name that can be used by other servers to access this server.</p>\n<p>If omitted, it is defined in the same way as the <code>hostname-f</code> command.</p>\n<p>Useful for breaking away from a specific network interface.</p>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;interserver_http_host&gt;</span>example.yandex.ru<span class=\"nt\">&lt;/interserver_http_host&gt;</span>\n</pre></div>\n\n\n<h3 id=\"keep-alive-timeout\">keep_alive_timeout<a class=\"headerlink\" href=\"#keep-alive-timeout\" title=\"Permanent link\">&para;</a></h3>\n<p>The number of seconds that ClickHouse waits for incoming requests before closing the connection. Defaults to 3 seconds.</p>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;keep_alive_timeout&gt;</span>3<span class=\"nt\">&lt;/keep_alive_timeout&gt;</span>\n</pre></div>\n\n\n<h3 id=\"server_settings-listen_host\">listen_host<a class=\"headerlink\" href=\"#server_settings-listen_host\" title=\"Permanent link\">&para;</a></h3>\n<p>Restriction on hosts that requests can come from. If you want the server to answer all of them, specify <code>::</code>.</p>\n<p>Examples:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;listen_host&gt;</span>::1<span class=\"nt\">&lt;/listen_host&gt;</span>\n<span class=\"nt\">&lt;listen_host&gt;</span>127.0.0.1<span class=\"nt\">&lt;/listen_host&gt;</span>\n</pre></div>\n\n\n<h3 id=\"server_settings-logger\">logger<a class=\"headerlink\" href=\"#server_settings-logger\" title=\"Permanent link\">&para;</a></h3>\n<p>Logging settings.</p>\n<p>Keys:</p>\n<ul>\n<li>level \u2013 Logging level. Acceptable values: <code>trace</code>, <code>debug</code>, <code>information</code>, <code>warning</code>, <code>error</code>.</li>\n<li>log \u2013 The log file. Contains all the entries according to <code>level</code>.</li>\n<li>errorlog \u2013 Error log file.</li>\n<li>size \u2013 Size of the file. Applies to <code>log</code>and<code>errorlog</code>. Once the file reaches <code>size</code>, ClickHouse archives and renames it, and creates a new log file in its place.</li>\n<li>count \u2013 The number of archived log files that ClickHouse stores.</li>\n</ul>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;logger&gt;</span>\n    <span class=\"nt\">&lt;level&gt;</span>trace<span class=\"nt\">&lt;/level&gt;</span>\n    <span class=\"nt\">&lt;log&gt;</span>/var/log/clickhouse-server/clickhouse-server.log<span class=\"nt\">&lt;/log&gt;</span>\n    <span class=\"nt\">&lt;errorlog&gt;</span>/var/log/clickhouse-server/clickhouse-server.err.log<span class=\"nt\">&lt;/errorlog&gt;</span>\n    <span class=\"nt\">&lt;size&gt;</span>1000M<span class=\"nt\">&lt;/size&gt;</span>\n    <span class=\"nt\">&lt;count&gt;</span>10<span class=\"nt\">&lt;/count&gt;</span>\n<span class=\"nt\">&lt;/logger&gt;</span>\n</pre></div>\n\n\n<p>Writing to the syslog is also supported. Config example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;logger&gt;</span>\n    <span class=\"nt\">&lt;use_syslog&gt;</span>1<span class=\"nt\">&lt;/use_syslog&gt;</span>\n    <span class=\"nt\">&lt;syslog&gt;</span>\n        <span class=\"nt\">&lt;address&gt;</span>syslog.remote:10514<span class=\"nt\">&lt;/address&gt;</span>\n        <span class=\"nt\">&lt;hostname&gt;</span>myhost.local<span class=\"nt\">&lt;/hostname&gt;</span>\n        <span class=\"nt\">&lt;facility&gt;</span>LOG_LOCAL6<span class=\"nt\">&lt;/facility&gt;</span>\n        <span class=\"nt\">&lt;format&gt;</span>syslog<span class=\"nt\">&lt;/format&gt;</span>\n    <span class=\"nt\">&lt;/syslog&gt;</span>\n<span class=\"nt\">&lt;/logger&gt;</span>\n</pre></div>\n\n\n<p>Keys:</p>\n<ul>\n<li>user_syslog \u2014 Required setting if you want to write to the syslog.</li>\n<li>address \u2014 The host[:\u043f\u043e\u0440\u0442] of syslogd. If omitted, the local daemon is used.</li>\n<li>hostname \u2014 Optional. The name of the host that logs are sent from.</li>\n<li>facility \u2014 <a href=\"https://en.wikipedia.org/wiki/Syslog#Facility\" rel=\"external nofollow\">The syslog facility keyword</a> in uppercase letters with the \"LOG_\" prefix: (<code>LOG_USER</code>, <code>LOG_DAEMON</code>, <code>LOG_LOCAL3</code>, and so on).\nDefault value: <code>LOG_USER</code> if <code>address</code> is specified, <code>LOG_DAEMON otherwise.</code></li>\n<li>format \u2013 Message format. Possible values: <code>bsd</code> and <code>syslog.</code></li>\n</ul>\n<h3 id=\"macros\">macros<a class=\"headerlink\" href=\"#macros\" title=\"Permanent link\">&para;</a></h3>\n<p>Parameter substitutions for replicated tables.</p>\n<p>Can be omitted if replicated tables are not used.</p>\n<p>For more information, see the section \"<a href=\"#../../operations/table_engines/replication/\">Creating replicated tables</a>\".</p>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;macros</span> <span class=\"na\">incl=</span><span class=\"s\">&quot;macros&quot;</span> <span class=\"na\">optional=</span><span class=\"s\">&quot;true&quot;</span> <span class=\"nt\">/&gt;</span>\n</pre></div>\n\n\n<h3 id=\"mark-cache-size\">mark_cache_size<a class=\"headerlink\" href=\"#mark-cache-size\" title=\"Permanent link\">&para;</a></h3>\n<p>Approximate size (in bytes) of the cache of \"marks\" used by <a href=\"#../../operations/table_engines/mergetree/\">MergeTree</a>.</p>\n<p>The cache is shared for the server and memory is allocated as needed. The cache size must be at least 5368709120.</p>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;mark_cache_size&gt;</span>5368709120<span class=\"nt\">&lt;/mark_cache_size&gt;</span>\n</pre></div>\n\n\n<h3 id=\"max-concurrent-queries\">max_concurrent_queries<a class=\"headerlink\" href=\"#max-concurrent-queries\" title=\"Permanent link\">&para;</a></h3>\n<p>The maximum number of simultaneously processed requests.</p>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;max_concurrent_queries&gt;</span>100<span class=\"nt\">&lt;/max_concurrent_queries&gt;</span>\n</pre></div>\n\n\n<h3 id=\"max-connections\">max_connections<a class=\"headerlink\" href=\"#max-connections\" title=\"Permanent link\">&para;</a></h3>\n<p>The maximum number of inbound connections.</p>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;max_connections&gt;</span>4096<span class=\"nt\">&lt;/max_connections&gt;</span>\n</pre></div>\n\n\n<h3 id=\"max-open-files\">max_open_files<a class=\"headerlink\" href=\"#max-open-files\" title=\"Permanent link\">&para;</a></h3>\n<p>The maximum number of open files.</p>\n<p>By default: <code>maximum</code>.</p>\n<p>We recommend using this option in Mac OS X, since the <code>getrlimit()</code> function returns an incorrect value.</p>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;max_open_files&gt;</span>262144<span class=\"nt\">&lt;/max_open_files&gt;</span>\n</pre></div>\n\n\n<h3 id=\"max-table-size-to-drop\">max_table_size_to_drop<a class=\"headerlink\" href=\"#max-table-size-to-drop\" title=\"Permanent link\">&para;</a></h3>\n<p>Restriction on deleting tables.</p>\n<p>If the size of a <a href=\"#../../operations/table_engines/mergetree/\">MergeTree</a> table exceeds <code>max_table_size_to_drop</code> (in bytes), you can't delete it using a DROP query.</p>\n<p>If you still need to delete the table without restarting the ClickHouse server, create the <code>&lt;clickhouse-path&gt;/flags/force_drop_table</code> file and run the DROP query.</p>\n<p>Default value: 50 GB.</p>\n<p>The value 0 means that you can delete all tables without any restrictions.</p>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;max_table_size_to_drop&gt;</span>0<span class=\"nt\">&lt;/max_table_size_to_drop&gt;</span>\n</pre></div>\n\n\n<h3 id=\"server_settings-merge_tree\">merge_tree<a class=\"headerlink\" href=\"#server_settings-merge_tree\" title=\"Permanent link\">&para;</a></h3>\n<p>Fine tuning for tables in the <a href=\"#../../operations/table_engines/mergetree/\">MergeTree</a>.</p>\n<p>For more information, see the MergeTreeSettings.h header file.</p>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;merge_tree&gt;</span>\n    <span class=\"nt\">&lt;max_suspicious_broken_parts&gt;</span>5<span class=\"nt\">&lt;/max_suspicious_broken_parts&gt;</span>\n<span class=\"nt\">&lt;/merge_tree&gt;</span>\n</pre></div>\n\n\n<h3 id=\"server_settings-openssl\">openSSL<a class=\"headerlink\" href=\"#server_settings-openssl\" title=\"Permanent link\">&para;</a></h3>\n<p>SSL client/server configuration.</p>\n<p>Support for SSL is provided by the <code>libpoco</code> library. The interface is described in the file <a href=\"https://github.com/ClickHouse-Extras/poco/blob/master/NetSSL_OpenSSL/include/Poco/Net/SSLManager.h\" rel=\"external nofollow\">SSLManager.h</a></p>\n<p>Keys for server/client settings:</p>\n<ul>\n<li>privateKeyFile \u2013 The path to the file with the secret key of the PEM certificate. The file may contain a key and certificate at the same time.</li>\n<li>certificateFile \u2013 The path to the client/server certificate file in PEM format. You can omit it if <code>privateKeyFile</code> contains the certificate.</li>\n<li>caConfig \u2013 The path to the file or directory that contains trusted root certificates.</li>\n<li>verificationMode \u2013 The method for checking the node's certificates. Details are in the description of the <a href=\"https://github.com/ClickHouse-Extras/poco/blob/master/NetSSL_OpenSSL/include/Poco/Net/Context.h\" rel=\"external nofollow\">Context</a> class. Possible values: <code>none</code>, <code>relaxed</code>, <code>strict</code>, <code>once</code>.</li>\n<li>verificationDepth \u2013 The maximum length of the verification chain. Verification will fail if the certificate chain length exceeds the set value.</li>\n<li>loadDefaultCAFile \u2013 Indicates that built-in CA certificates for OpenSSL will be used. Acceptable values: <code>true</code>, <code>false</code>.  |</li>\n<li>cipherList \u2013 Supported OpenSSL encryptions. For example: <code>ALL:!ADH:!LOW:!EXP:!MD5:@STRENGTH</code>.</li>\n<li>cacheSessions \u2013 Enables or disables caching sessions. Must be used in combination with <code>sessionIdContext</code>. Acceptable values: <code>true</code>, <code>false</code>.</li>\n<li>sessionIdContext \u2013 A unique set of random characters that the server appends to each generated identifier. The length of the string must not exceed <code>SSL_MAX_SSL_SESSION_ID_LENGTH</code>. This parameter is always recommended, since it helps avoid problems both if the server caches the session and if the client requested caching. Default value: <code>${application.name}</code>.</li>\n<li>sessionCacheSize \u2013 The maximum number of sessions that the server caches. Default value: 1024*20. 0 \u2013 Unlimited sessions.</li>\n<li>sessionTimeout \u2013 Time for caching the session on the server.</li>\n<li>extendedVerification \u2013 Automatically extended verification of certificates after the session ends. Acceptable values: <code>true</code>, <code>false</code>.</li>\n<li>requireTLSv1 \u2013 Require a TLSv1 connection. Acceptable values: <code>true</code>, <code>false</code>.</li>\n<li>requireTLSv1_1 \u2013 Require a TLSv1.1 connection. Acceptable values: <code>true</code>, <code>false</code>.</li>\n<li>requireTLSv1 \u2013 Require a TLSv1.2 connection. Acceptable values: <code>true</code>, <code>false</code>.</li>\n<li>fips \u2013 Activates OpenSSL FIPS mode. Supported if the library's OpenSSL version supports FIPS.</li>\n<li>privateKeyPassphraseHandler \u2013 Class (PrivateKeyPassphraseHandler subclass) that requests the passphrase for accessing the private key. For example: <code>&lt;privateKeyPassphraseHandler&gt;</code>, <code>&lt;name&gt;KeyFileHandler&lt;/name&gt;</code>, <code>&lt;options&gt;&lt;password&gt;test&lt;/password&gt;&lt;/options&gt;</code>, <code>&lt;/privateKeyPassphraseHandler&gt;</code>.</li>\n<li>invalidCertificateHandler \u2013 Class (subclass of CertificateHandler) for verifying invalid certificates. For example: <code>&lt;invalidCertificateHandler&gt; &lt;name&gt;ConsoleCertificateHandler&lt;/name&gt; &lt;/invalidCertificateHandler&gt;</code> .</li>\n<li>disableProtocols \u2013 Protocols that are not allowed to use.</li>\n<li>preferServerCiphers \u2013 Preferred server ciphers on the client.</li>\n</ul>\n<p><strong>Example of settings:</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;openSSL&gt;</span>\n    <span class=\"nt\">&lt;server&gt;</span>\n        <span class=\"c\">&lt;!-- openssl req -subj &quot;/CN=localhost&quot; -new -newkey rsa:2048 -days 365 -nodes -x509 -keyout /etc/clickhouse-server/server.key -out /etc/clickhouse-server/server.crt --&gt;</span>\n        <span class=\"nt\">&lt;certificateFile&gt;</span>/etc/clickhouse-server/server.crt<span class=\"nt\">&lt;/certificateFile&gt;</span>\n        <span class=\"nt\">&lt;privateKeyFile&gt;</span>/etc/clickhouse-server/server.key<span class=\"nt\">&lt;/privateKeyFile&gt;</span>\n        <span class=\"c\">&lt;!-- openssl dhparam -out /etc/clickhouse-server/dhparam.pem 4096 --&gt;</span>\n        <span class=\"nt\">&lt;dhParamsFile&gt;</span>/etc/clickhouse-server/dhparam.pem<span class=\"nt\">&lt;/dhParamsFile&gt;</span>\n        <span class=\"nt\">&lt;verificationMode&gt;</span>none<span class=\"nt\">&lt;/verificationMode&gt;</span>\n        <span class=\"nt\">&lt;loadDefaultCAFile&gt;</span>true<span class=\"nt\">&lt;/loadDefaultCAFile&gt;</span>\n        <span class=\"nt\">&lt;cacheSessions&gt;</span>true<span class=\"nt\">&lt;/cacheSessions&gt;</span>\n        <span class=\"nt\">&lt;disableProtocols&gt;</span>sslv2,sslv3<span class=\"nt\">&lt;/disableProtocols&gt;</span>\n        <span class=\"nt\">&lt;preferServerCiphers&gt;</span>true<span class=\"nt\">&lt;/preferServerCiphers&gt;</span>\n    <span class=\"nt\">&lt;/server&gt;</span>\n    <span class=\"nt\">&lt;client&gt;</span>\n        <span class=\"nt\">&lt;loadDefaultCAFile&gt;</span>true<span class=\"nt\">&lt;/loadDefaultCAFile&gt;</span>\n        <span class=\"nt\">&lt;cacheSessions&gt;</span>true<span class=\"nt\">&lt;/cacheSessions&gt;</span>\n        <span class=\"nt\">&lt;disableProtocols&gt;</span>sslv2,sslv3<span class=\"nt\">&lt;/disableProtocols&gt;</span>\n        <span class=\"nt\">&lt;preferServerCiphers&gt;</span>true<span class=\"nt\">&lt;/preferServerCiphers&gt;</span>\n        <span class=\"c\">&lt;!-- Use for self-signed: &lt;verificationMode&gt;none&lt;/verificationMode&gt; --&gt;</span>\n        <span class=\"nt\">&lt;invalidCertificateHandler&gt;</span>\n            <span class=\"c\">&lt;!-- Use for self-signed: &lt;name&gt;AcceptCertificateHandler&lt;/name&gt; --&gt;</span>\n            <span class=\"nt\">&lt;name&gt;</span>RejectCertificateHandler<span class=\"nt\">&lt;/name&gt;</span>\n        <span class=\"nt\">&lt;/invalidCertificateHandler&gt;</span>\n    <span class=\"nt\">&lt;/client&gt;</span>\n<span class=\"nt\">&lt;/openSSL&gt;</span>\n</pre></div>\n\n\n<h3 id=\"server_settings-part-log\">part_log<a class=\"headerlink\" href=\"#server_settings-part-log\" title=\"Permanent link\">&para;</a></h3>\n<p>Logging events that are associated with <a href=\"#../../operations/table_engines/mergetree/\">MergeTree</a>. For instance, adding or merging data. You can use the log to simulate merge algorithms and compare their characteristics. You can visualize the merge process.</p>\n<p>Queries are logged in the <a href=\"#system_tables-part-log\">system.part_log</a> table, not in a separate file. You can configure the name of this table in the <code>table</code> parameter (see below).</p>\n<p>Use the following parameters to configure logging:</p>\n<ul>\n<li><code>database</code> \u2013 Name of the database.</li>\n<li><code>table</code> \u2013 Name of the system table.</li>\n<li><code>partition_by</code> \u2013 Sets a <a href=\"#../../operations/table_engines/custom_partitioning_key/\">custom partitioning key</a>.</li>\n<li><code>flush_interval_milliseconds</code> \u2013 Interval for flushing data from the buffer in memory to the table.</li>\n</ul>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;part_log&gt;</span>\n    <span class=\"nt\">&lt;database&gt;</span>system<span class=\"nt\">&lt;/database&gt;</span>\n    <span class=\"nt\">&lt;table&gt;</span>part_log<span class=\"nt\">&lt;/table&gt;</span>\n    <span class=\"nt\">&lt;partition_by&gt;</span>toMonday(event_date)<span class=\"nt\">&lt;/partition_by&gt;</span>\n    <span class=\"nt\">&lt;flush_interval_milliseconds&gt;</span>7500<span class=\"nt\">&lt;/flush_interval_milliseconds&gt;</span>\n<span class=\"nt\">&lt;/part_log&gt;</span>\n</pre></div>\n\n\n<h3 id=\"path_1\">path<a class=\"headerlink\" href=\"#path_1\" title=\"Permanent link\">&para;</a></h3>\n<p>The path to the directory containing data.</p>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>The trailing slash is mandatory.</p>\n</div>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;path&gt;</span>/var/lib/clickhouse/<span class=\"nt\">&lt;/path&gt;</span>\n</pre></div>\n\n\n<h3 id=\"server_settings-query-log\">query_log<a class=\"headerlink\" href=\"#server_settings-query-log\" title=\"Permanent link\">&para;</a></h3>\n<p>Setting for logging queries received with the <a href=\"#../settings/settings/\">log_queries=1</a> setting.</p>\n<p>Queries are logged in the <a href=\"#system_tables-query-log\">system.query_log</a> table, not in a separate file. You can change the name of the table in the <code>table</code> parameter (see below).</p>\n<p>Use the following parameters to configure logging:</p>\n<ul>\n<li><code>database</code> \u2013 Name of the database.</li>\n<li><code>table</code> \u2013 Name of the system table the queries will be logged in. </li>\n<li><code>partition_by</code> \u2013 Sets a <a href=\"#../../operations/table_engines/custom_partitioning_key/\">custom partitioning key</a> for a system table.</li>\n<li><code>flush_interval_milliseconds</code> \u2013 Interval for flushing data from the buffer in memory to the table.</li>\n</ul>\n<p>If the table doesn't exist, ClickHouse will create it. If the structure of the query log changed when the ClickHouse server was updated, the table with the old structure is renamed, and a new table is created automatically.</p>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;query_log&gt;</span>\n    <span class=\"nt\">&lt;database&gt;</span>system<span class=\"nt\">&lt;/database&gt;</span>\n    <span class=\"nt\">&lt;table&gt;</span>query_log<span class=\"nt\">&lt;/table&gt;</span>\n    <span class=\"nt\">&lt;partition_by&gt;</span>toMonday(event_date)<span class=\"nt\">&lt;/partition_by&gt;</span>\n    <span class=\"nt\">&lt;flush_interval_milliseconds&gt;</span>7500<span class=\"nt\">&lt;/flush_interval_milliseconds&gt;</span>\n<span class=\"nt\">&lt;/query_log&gt;</span>\n</pre></div>\n\n\n<h3 id=\"remote-servers\">remote_servers<a class=\"headerlink\" href=\"#remote-servers\" title=\"Permanent link\">&para;</a></h3>\n<p>Configuration of clusters used by the Distributed table engine.</p>\n<p>For more information, see the section \"<a href=\"#../../operations/table_engines/distributed/\">Table engines/Distributed</a>\".</p>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;remote_servers</span> <span class=\"na\">incl=</span><span class=\"s\">&quot;clickhouse_remote_servers&quot;</span> <span class=\"nt\">/&gt;</span>\n</pre></div>\n\n\n<p>For the value of the <code>incl</code> attribute, see the section \"<a href=\"#configuration_files\">Configuration files</a>\".</p>\n<h3 id=\"timezone_1\">timezone<a class=\"headerlink\" href=\"#timezone_1\" title=\"Permanent link\">&para;</a></h3>\n<p>The server's time zone.</p>\n<p>Specified as an IANA identifier for the UTC time zone or geographic location (for example, Africa/Abidjan).</p>\n<p>The time zone is necessary for conversions between String and DateTime formats when DateTime fields are output to text format (printed on the screen or in a file), and when getting DateTime from a string. In addition, the time zone is used in functions that work with the time and date if they didn't receive the time zone in the input parameters.</p>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;timezone&gt;</span>Europe/Moscow<span class=\"nt\">&lt;/timezone&gt;</span>\n</pre></div>\n\n\n<h3 id=\"server_settings-tcp_port\">tcp_port<a class=\"headerlink\" href=\"#server_settings-tcp_port\" title=\"Permanent link\">&para;</a></h3>\n<p>Port for communicating with clients over the TCP protocol.</p>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;tcp_port&gt;</span>9000<span class=\"nt\">&lt;/tcp_port&gt;</span>\n</pre></div>\n\n\n<h3 id=\"server_settings-tcp_port_secure\">tcp_port_secure<a class=\"headerlink\" href=\"#server_settings-tcp_port_secure\" title=\"Permanent link\">&para;</a></h3>\n<p>TCP port for secure communication with clients. Use it with <a href=\"#server_settings-openssl\">OpenSSL</a> settings.</p>\n<p><strong>Possible values</strong></p>\n<p>Positive integer.</p>\n<p><strong>Default value</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;tcp_port_secure&gt;</span>9440<span class=\"nt\">&lt;/tcp_port_secure&gt;</span>\n</pre></div>\n\n\n<h3 id=\"tmp-path\">tmp_path<a class=\"headerlink\" href=\"#tmp-path\" title=\"Permanent link\">&para;</a></h3>\n<p>Path to temporary data for processing large queries.</p>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>The trailing slash is mandatory.</p>\n</div>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;tmp_path&gt;</span>/var/lib/clickhouse/tmp/<span class=\"nt\">&lt;/tmp_path&gt;</span>\n</pre></div>\n\n\n<h3 id=\"server-settings-uncompressed_cache_size\">uncompressed_cache_size<a class=\"headerlink\" href=\"#server-settings-uncompressed_cache_size\" title=\"Permanent link\">&para;</a></h3>\n<p>Cache size (in bytes) for uncompressed data used by table engines from the <a href=\"#../../operations/table_engines/mergetree/\">MergeTree</a>.</p>\n<p>There is one shared cache for the server. Memory is allocated on demand. The cache is used if the option <a href=\"#setting-use_uncompressed_cache\">use_uncompressed_cache</a> is enabled.</p>\n<p>The uncompressed cache is advantageous for very short queries in individual cases.</p>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;uncompressed_cache_size&gt;</span>8589934592<span class=\"nt\">&lt;/uncompressed_cache_size&gt;</span>\n</pre></div>\n\n\n<h3 id=\"server_settings-user_files_path\">user_files_path<a class=\"headerlink\" href=\"#server_settings-user_files_path\" title=\"Permanent link\">&para;</a></h3>\n<p>The directory with user files. Used in the table function <a href=\"#../../query_language/table_functions/file/\">file()</a>.</p>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;user_files_path&gt;</span>/var/lib/clickhouse/user_files/<span class=\"nt\">&lt;/user_files_path&gt;</span>\n</pre></div>\n\n\n<h3 id=\"users-config\">users_config<a class=\"headerlink\" href=\"#users-config\" title=\"Permanent link\">&para;</a></h3>\n<p>Path to the file that contains:</p>\n<ul>\n<li>User configurations.</li>\n<li>Access rights.</li>\n<li>Settings profiles.</li>\n<li>Quota settings.</li>\n</ul>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;users_config&gt;</span>users.xml<span class=\"nt\">&lt;/users_config&gt;</span>\n</pre></div>\n\n\n<h3 id=\"zookeeper_1\">zookeeper<a class=\"headerlink\" href=\"#zookeeper_1\" title=\"Permanent link\">&para;</a></h3>\n<p>Configuration of ZooKeeper servers.</p>\n<p>ClickHouse uses ZooKeeper for storing replica metadata when using replicated tables.</p>\n<p>This parameter can be omitted if replicated tables are not used.</p>\n<p>For more information, see the section \"<a href=\"#../../operations/table_engines/replication/\">Replication</a>\".</p>\n<p><strong>Example</strong></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;zookeeper&gt;</span>\n    <span class=\"nt\">&lt;node</span> <span class=\"na\">index=</span><span class=\"s\">&quot;1&quot;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;host&gt;</span>example1<span class=\"nt\">&lt;/host&gt;</span>\n        <span class=\"nt\">&lt;port&gt;</span>2181<span class=\"nt\">&lt;/port&gt;</span>\n    <span class=\"nt\">&lt;/node&gt;</span>\n    <span class=\"nt\">&lt;node</span> <span class=\"na\">index=</span><span class=\"s\">&quot;2&quot;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;host&gt;</span>example2<span class=\"nt\">&lt;/host&gt;</span>\n        <span class=\"nt\">&lt;port&gt;</span>2181<span class=\"nt\">&lt;/port&gt;</span>\n    <span class=\"nt\">&lt;/node&gt;</span>\n    <span class=\"nt\">&lt;node</span> <span class=\"na\">index=</span><span class=\"s\">&quot;3&quot;</span><span class=\"nt\">&gt;</span>\n        <span class=\"nt\">&lt;host&gt;</span>example3<span class=\"nt\">&lt;/host&gt;</span>\n        <span class=\"nt\">&lt;port&gt;</span>2181<span class=\"nt\">&lt;/port&gt;</span>\n    <span class=\"nt\">&lt;/node&gt;</span>\n<span class=\"nt\">&lt;/zookeeper&gt;</span>\n</pre></div>\n\n\n<h3 id=\"server-settings-use_minimalistic_part_header_in_zookeeper\">use_minimalistic_part_header_in_zookeeper<a class=\"headerlink\" href=\"#server-settings-use_minimalistic_part_header_in_zookeeper\" title=\"Permanent link\">&para;</a></h3>\n<p>Storage method for data part headers in ZooKeeper.</p>\n<p>This setting only applies to the <code>MergeTree</code> family. It can be specified:</p>\n<ul>\n<li>\n<p>Globally in the <a href=\"#server_settings-merge_tree\">merge_tree</a> section of the <code>config.xml</code> file.</p>\n<p>ClickHouse uses the setting for all the tables on the server. You can change the setting at any time. Existing tables change their behavior when the setting changes.</p>\n</li>\n<li>\n<p>For each individual table.</p>\n<p>When creating a table, specify the corresponding <a href=\"#table_engine-mergetree-creating-a-table\">engine setting</a>. The behavior of an existing table with this setting does not change, even if the global setting changes.</p>\n</li>\n</ul>\n<p><strong>Possible values</strong></p>\n<ul>\n<li>0 \u2014 Functionality is turned off.</li>\n<li>1 \u2014 Functionality is turned on.</li>\n</ul>\n<p>If <code>use_minimalistic_part_header_in_zookeeper = 1</code>, then <a href=\"#../table_engines/replication/\">replicated</a> tables store the headers of the data parts compactly using a single <code>znode</code>. If the table contains many columns, this storage method significantly reduces the volume of the data stored in Zookeeper.</p>\n<div class=\"admonition attention\">\n<p class=\"admonition-title\">Attention</p>\n<p>After applying <code>use_minimalistic_part_header_in_zookeeper = 1</code>, you can't downgrade the ClickHouse server to a version that doesn't support this setting. Be careful when upgrading ClickHouse on servers in a cluster. Don't upgrade all the servers at once. It is safer to test new versions of ClickHouse in a test environment, or on just a few servers of a cluster.</p>\n<p>Data part headers already stored with this setting can't be restored to their previous (non-compact) representation.</p>\n</div>\n<p><strong>Default value:</strong> 0.</p>\n<p><a name=\"operations/settings/\"></a>\n<a name=\"../operations/settings/\"></a>\n<a name=\"settings/\"></a>\n<a name=\"../../../../operations/settings/\"></a>\n<a name=\"../../../operations/settings/\"></a>\n<a name=\"../../operations/settings/\"></a>\n<a name=\"../../../../../operations/settings/\"></a></p>\n<h2 id=\"settings\">Settings<a class=\"headerlink\" href=\"#settings\" title=\"Permanent link\">&para;</a></h2>\n<p>There are multiple ways to make all the settings described below.\nSettings are configured in layers, so each subsequent layer redefines the previous settings.</p>\n<p>Ways to configure settings, in order of priority:</p>\n<ul>\n<li>\n<p>Settings in the <code>users.xml</code> server configuration file.</p>\n<p>Set in the element <code>&lt;profiles&gt;</code>.</p>\n</li>\n<li>\n<p>Session settings.</p>\n<p>Send <code>SET setting=value</code> from the ClickHouse console client in interactive mode.\nSimilarly, you can use ClickHouse sessions in the HTTP protocol. To do this, you need to specify the <code>session_id</code> HTTP parameter.</p>\n</li>\n<li>\n<p>Query settings.</p>\n<ul>\n<li>When starting the ClickHouse console client in non-interactive mode, set the startup parameter <code>--setting=value</code>.</li>\n<li>When using the HTTP API, pass CGI parameters (<code>URL?setting_1=value&amp;setting_2=value...</code>).</li>\n</ul>\n</li>\n</ul>\n<p>Settings that can only be made in the server config file are not covered in this section.</p>\n<p><a name=\"../../../../../../settings/permissions_for_queries/\"></a>\n<a name=\"../../../../operations/settings/permissions_for_queries/\"></a>\n<a name=\"../settings/permissions_for_queries/\"></a>\n<a name=\"../../../../../settings/permissions_for_queries/\"></a>\n<a name=\"../../../../../operations/settings/permissions_for_queries/\"></a>\n<a name=\"settings/permissions_for_queries/\"></a>\n<a name=\"../../../operations/settings/permissions_for_queries/\"></a>\n<a name=\"../../operations/settings/permissions_for_queries/\"></a>\n<a name=\"permissions_for_queries/\"></a>\n<a name=\"operations/settings/permissions_for_queries/\"></a>\n<a name=\"../../../../settings/permissions_for_queries/\"></a>\n<a name=\"../operations/settings/permissions_for_queries/\"></a>\n<a name=\"../../../settings/permissions_for_queries/\"></a>\n<a name=\"../../settings/permissions_for_queries/\"></a></p>\n<h2 id=\"permissions_for_queries\">Permissions for queries<a class=\"headerlink\" href=\"#permissions_for_queries\" title=\"Permanent link\">&para;</a></h2>\n<p>Queries in ClickHouse can be divided into several types:</p>\n<ol>\n<li>Read data queries: <code>SELECT</code>, <code>SHOW</code>, <code>DESCRIBE</code>, <code>EXISTS</code>.</li>\n<li>Write data queries: <code>INSERT</code>, <code>OPTIMIZE</code>.</li>\n<li>Change settings queries: <code>SET</code>, <code>USE</code>.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Data_definition_language\" rel=\"external nofollow\">DDL</a> queries: <code>CREATE</code>, <code>ALTER</code>, <code>RENAME</code>, <code>ATTACH</code>, <code>DETACH</code>, <code>DROP</code> <code>TRUNCATE</code>.</li>\n<li><code>KILL QUERY</code>.</li>\n</ol>\n<p>The following settings regulate user permissions by the type of query:</p>\n<ul>\n<li><a href=\"#settings_readonly\">readonly</a> \u2014 Restricts permissions for all types of queries except DDL queries.</li>\n<li><a href=\"#settings_allow_ddl\">allow_ddl</a> \u2014 Restricts permissions for DDL queries.</li>\n</ul>\n<p><code>KILL QUERY</code> can be performed with any settings.</p>\n<h3 id=\"settings_readonly\">readonly<a class=\"headerlink\" href=\"#settings_readonly\" title=\"Permanent link\">&para;</a></h3>\n<p>Restricts permissions for read data, write data and change settings queries.</p>\n<p>See how the queries are divided into types <a href=\"#permissions_for_queries\">above</a>.</p>\n<p><strong>Possible values</strong></p>\n<ul>\n<li>0 \u2014 All queries are allowed.</li>\n<li>1 \u2014 Only read data queries are allowed.</li>\n<li>2 \u2014 Read data and change settings queries are allowed.</li>\n</ul>\n<p>After setting <code>readonly = 1</code>, the user can't change <code>readonly</code> and <code>allow_ddl</code> settings in the current session.</p>\n<p>When using the <code>GET</code> method in the <a href=\"#../../interfaces/http/\">HTTP interface</a>, <code>readonly = 1</code> is set automatically. To modify data, use the <code>POST</code> method.</p>\n<p><strong>Default value</strong></p>\n<p>0</p>\n<h3 id=\"settings_allow_ddl\">allow_ddl<a class=\"headerlink\" href=\"#settings_allow_ddl\" title=\"Permanent link\">&para;</a></h3>\n<p>Allows/denies <a href=\"https://en.wikipedia.org/wiki/Data_definition_language\" rel=\"external nofollow\">DDL</a> queries.</p>\n<p>See how the queries are divided into types <a href=\"#permissions_for_queries\">above</a>.</p>\n<p><strong>Possible values</strong></p>\n<ul>\n<li>0 \u2014 DDL queries are not allowed.</li>\n<li>1 \u2014 DDL queries are allowed.</li>\n</ul>\n<p>You cannot execute <code>SET allow_ddl = 1</code> if <code>allow_ddl = 0</code> for the current session.</p>\n<p><strong>Default value</strong></p>\n<p>1</p>\n<p><a name=\"../settings/query_complexity/\"></a>\n<a name=\"../../../settings/query_complexity/\"></a>\n<a name=\"../operations/settings/query_complexity/\"></a>\n<a name=\"../../../operations/settings/query_complexity/\"></a>\n<a name=\"../../../../settings/query_complexity/\"></a>\n<a name=\"../../../../../../settings/query_complexity/\"></a>\n<a name=\"../../../../operations/settings/query_complexity/\"></a>\n<a name=\"../../settings/query_complexity/\"></a>\n<a name=\"query_complexity/\"></a>\n<a name=\"operations/settings/query_complexity/\"></a>\n<a name=\"../../../../../settings/query_complexity/\"></a>\n<a name=\"../../operations/settings/query_complexity/\"></a>\n<a name=\"../../../../../operations/settings/query_complexity/\"></a>\n<a name=\"settings/query_complexity/\"></a></p>\n<h2 id=\"restrictions-on-query-complexity\">Restrictions on query complexity<a class=\"headerlink\" href=\"#restrictions-on-query-complexity\" title=\"Permanent link\">&para;</a></h2>\n<p>Restrictions on query complexity are part of the settings.\nThey are used in order to provide safer execution from the user interface.\nAlmost all the restrictions only apply to <code>SELECT</code>. For distributed query processing, restrictions are applied on each server separately.</p>\n<p>ClickHouse checks the restrictions for data parts, not for each row. It means that you can exceed the value of restriction with a size of the data part.</p>\n<p>Restrictions on the \"maximum amount of something\" can take the value 0, which means \"unrestricted\".\nMost restrictions also have an 'overflow_mode' setting, meaning what to do when the limit is exceeded.\nIt can take one of two values: <code>throw</code> or <code>break</code>. Restrictions on aggregation (group_by_overflow_mode) also have the value <code>any</code>.</p>\n<p><code>throw</code> \u2013 Throw an exception (default).</p>\n<p><code>break</code> \u2013 Stop executing the query and return the partial result, as if the source data ran out.</p>\n<p><code>any (only for group_by_overflow_mode)</code> \u2013 Continuing aggregation for the keys that got into the set, but don't add new keys to the set.</p>\n<h3 id=\"settings_max_memory_usage\">max_memory_usage<a class=\"headerlink\" href=\"#settings_max_memory_usage\" title=\"Permanent link\">&para;</a></h3>\n<p>The maximum amount of RAM to use for running a query on a single server.</p>\n<p>In the default configuration file, the maximum is 10 GB.</p>\n<p>The setting doesn't consider the volume of available memory or the total volume of memory on the machine.\nThe restriction applies to a single query within a single server.\nYou can use <code>SHOW PROCESSLIST</code> to see the current memory consumption for each query.\nIn addition, the peak memory consumption is tracked for each query and written to the log.</p>\n<p>Memory usage is not monitored for the states of certain aggregate functions.</p>\n<p>Memory usage is not fully tracked for states of the aggregate functions <code>min</code>, <code>max</code>, <code>any</code>, <code>anyLast</code>, <code>argMin</code>, <code>argMax</code> from <code>String</code> and <code>Array</code> arguments.</p>\n<p>Memory consumption is also restricted by the parameters <code>max_memory_usage_for_user</code> and <code>max_memory_usage_for_all_queries</code>.</p>\n<h3 id=\"max-memory-usage-for-user\">max_memory_usage_for_user<a class=\"headerlink\" href=\"#max-memory-usage-for-user\" title=\"Permanent link\">&para;</a></h3>\n<p>The maximum amount of RAM to use for running a user's queries on a single server.</p>\n<p>Default values are defined in <a href=\"https://github.com/yandex/ClickHouse/blob/master/dbms/src/Interpreters/Settings.h#L244\" rel=\"external nofollow\">Settings.h</a>. By default, the amount is not restricted (<code>max_memory_usage_for_user = 0</code>).</p>\n<p>See also the description of <a href=\"#settings_max_memory_usage\">max_memory_usage</a>.</p>\n<h3 id=\"max-memory-usage-for-all-queries\">max_memory_usage_for_all_queries<a class=\"headerlink\" href=\"#max-memory-usage-for-all-queries\" title=\"Permanent link\">&para;</a></h3>\n<p>The maximum amount of RAM to use for running all queries on a single server.</p>\n<p>Default values are defined in <a href=\"https://github.com/yandex/ClickHouse/blob/master/dbms/src/Interpreters/Settings.h#L245\" rel=\"external nofollow\">Settings.h</a>. By default, the amount is not restricted (<code>max_memory_usage_for_all_queries = 0</code>).</p>\n<p>See also the description of <a href=\"#settings_max_memory_usage\">max_memory_usage</a>.</p>\n<h3 id=\"max-rows-to-read\">max_rows_to_read<a class=\"headerlink\" href=\"#max-rows-to-read\" title=\"Permanent link\">&para;</a></h3>\n<p>The following restrictions can be checked on each block (instead of on each row). That is, the restrictions can be broken a little.\nWhen running a query in multiple threads, the following restrictions apply to each thread separately.</p>\n<p>Maximum number of rows that can be read from a table when running a query.</p>\n<h3 id=\"max-bytes-to-read\">max_bytes_to_read<a class=\"headerlink\" href=\"#max-bytes-to-read\" title=\"Permanent link\">&para;</a></h3>\n<p>Maximum number of bytes (uncompressed data) that can be read from a table when running a query.</p>\n<h3 id=\"read-overflow-mode\">read_overflow_mode<a class=\"headerlink\" href=\"#read-overflow-mode\" title=\"Permanent link\">&para;</a></h3>\n<p>What to do when the volume of data read exceeds one of the limits: 'throw' or 'break'. By default, throw.</p>\n<h3 id=\"max-rows-to-group-by\">max_rows_to_group_by<a class=\"headerlink\" href=\"#max-rows-to-group-by\" title=\"Permanent link\">&para;</a></h3>\n<p>Maximum number of unique keys received from aggregation. This setting lets you limit memory consumption when aggregating.</p>\n<h3 id=\"group-by-overflow-mode\">group_by_overflow_mode<a class=\"headerlink\" href=\"#group-by-overflow-mode\" title=\"Permanent link\">&para;</a></h3>\n<p>What to do when the number of unique keys for aggregation exceeds the limit: 'throw', 'break', or 'any'. By default, throw.\nUsing the 'any' value lets you run an approximation of GROUP BY. The quality of this approximation depends on the statistical nature of the data.</p>\n<h3 id=\"max-rows-to-sort\">max_rows_to_sort<a class=\"headerlink\" href=\"#max-rows-to-sort\" title=\"Permanent link\">&para;</a></h3>\n<p>Maximum number of rows before sorting. This allows you to limit memory consumption when sorting.</p>\n<h3 id=\"max-bytes-to-sort\">max_bytes_to_sort<a class=\"headerlink\" href=\"#max-bytes-to-sort\" title=\"Permanent link\">&para;</a></h3>\n<p>Maximum number of bytes before sorting.</p>\n<h3 id=\"sort-overflow-mode\">sort_overflow_mode<a class=\"headerlink\" href=\"#sort-overflow-mode\" title=\"Permanent link\">&para;</a></h3>\n<p>What to do if the number of rows received before sorting exceeds one of the limits: 'throw' or 'break'. By default, throw.</p>\n<h3 id=\"max-result-rows\">max_result_rows<a class=\"headerlink\" href=\"#max-result-rows\" title=\"Permanent link\">&para;</a></h3>\n<p>Limit on the number of rows in the result. Also checked for subqueries, and on remote servers when running parts of a distributed query.</p>\n<h3 id=\"max-result-bytes\">max_result_bytes<a class=\"headerlink\" href=\"#max-result-bytes\" title=\"Permanent link\">&para;</a></h3>\n<p>Limit on the number of bytes in the result. The same as the previous setting.</p>\n<h3 id=\"result-overflow-mode\">result_overflow_mode<a class=\"headerlink\" href=\"#result-overflow-mode\" title=\"Permanent link\">&para;</a></h3>\n<p>What to do if the volume of the result exceeds one of the limits: 'throw' or 'break'. By default, throw.\nUsing 'break' is similar to using LIMIT.</p>\n<h3 id=\"max-execution-time\">max_execution_time<a class=\"headerlink\" href=\"#max-execution-time\" title=\"Permanent link\">&para;</a></h3>\n<p>Maximum query execution time in seconds.\nAt this time, it is not checked for one of the sorting stages, or when merging and finalizing aggregate functions.</p>\n<h3 id=\"timeout-overflow-mode\">timeout_overflow_mode<a class=\"headerlink\" href=\"#timeout-overflow-mode\" title=\"Permanent link\">&para;</a></h3>\n<p>What to do if the query is run longer than 'max_execution_time': 'throw' or 'break'. By default, throw.</p>\n<h3 id=\"min-execution-speed\">min_execution_speed<a class=\"headerlink\" href=\"#min-execution-speed\" title=\"Permanent link\">&para;</a></h3>\n<p>Minimal execution speed in rows per second. Checked on every data block when 'timeout_before_checking_execution_speed' expires. If the execution speed is lower, an exception is thrown.</p>\n<h3 id=\"min-execution-speed-bytes\">min_execution_speed_bytes<a class=\"headerlink\" href=\"#min-execution-speed-bytes\" title=\"Permanent link\">&para;</a></h3>\n<p>Minimum number of execution bytes per second. Checked on every data block when 'timeout_before_checking_execution_speed' expires. If the execution speed is lower, an exception is thrown.</p>\n<h3 id=\"max-execution-speed\">max_execution_speed<a class=\"headerlink\" href=\"#max-execution-speed\" title=\"Permanent link\">&para;</a></h3>\n<p>Maximum number of execution rows per second. Checked on every data block when 'timeout_before_checking_execution_speed' expires. If the execution speed is high, the execution speed will be reduced.</p>\n<h3 id=\"max-execution-speed-bytes\">max_execution_speed_bytes<a class=\"headerlink\" href=\"#max-execution-speed-bytes\" title=\"Permanent link\">&para;</a></h3>\n<p>Maximum number of execution bytes per second. Checked on every data block when 'timeout_before_checking_execution_speed' expires. If the execution speed is high, the execution speed will be reduced.</p>\n<h3 id=\"timeout-before-checking-execution-speed\">timeout_before_checking_execution_speed<a class=\"headerlink\" href=\"#timeout-before-checking-execution-speed\" title=\"Permanent link\">&para;</a></h3>\n<p>Checks that execution speed is not too slow (no less than 'min_execution_speed'), after the specified time in seconds has expired.</p>\n<h3 id=\"max-columns-to-read\">max_columns_to_read<a class=\"headerlink\" href=\"#max-columns-to-read\" title=\"Permanent link\">&para;</a></h3>\n<p>Maximum number of columns that can be read from a table in a single query. If a query requires reading a greater number of columns, it throws an exception.</p>\n<h3 id=\"max-temporary-columns\">max_temporary_columns<a class=\"headerlink\" href=\"#max-temporary-columns\" title=\"Permanent link\">&para;</a></h3>\n<p>Maximum number of temporary columns that must be kept in RAM at the same time when running a query, including constant columns. If there are more temporary columns than this, it throws an exception.</p>\n<h3 id=\"max-temporary-non-const-columns\">max_temporary_non_const_columns<a class=\"headerlink\" href=\"#max-temporary-non-const-columns\" title=\"Permanent link\">&para;</a></h3>\n<p>The same thing as 'max_temporary_columns', but without counting constant columns.\nNote that constant columns are formed fairly often when running a query, but they require approximately zero computing resources.</p>\n<h3 id=\"max-subquery-depth\">max_subquery_depth<a class=\"headerlink\" href=\"#max-subquery-depth\" title=\"Permanent link\">&para;</a></h3>\n<p>Maximum nesting depth of subqueries. If subqueries are deeper, an exception is thrown. By default, 100.</p>\n<h3 id=\"max-pipeline-depth\">max_pipeline_depth<a class=\"headerlink\" href=\"#max-pipeline-depth\" title=\"Permanent link\">&para;</a></h3>\n<p>Maximum pipeline depth. Corresponds to the number of transformations that each data block goes through during query processing. Counted within the limits of a single server. If the pipeline depth is greater, an exception is thrown. By default, 1000.</p>\n<h3 id=\"max-ast-depth\">max_ast_depth<a class=\"headerlink\" href=\"#max-ast-depth\" title=\"Permanent link\">&para;</a></h3>\n<p>Maximum nesting depth of a query syntactic tree. If exceeded, an exception is thrown.\nAt this time, it isn't checked during parsing, but only after parsing the query. That is, a syntactic tree that is too deep can be created during parsing, but the query will fail. By default, 1000.</p>\n<h3 id=\"max-ast-elements\">max_ast_elements<a class=\"headerlink\" href=\"#max-ast-elements\" title=\"Permanent link\">&para;</a></h3>\n<p>Maximum number of elements in a query syntactic tree. If exceeded, an exception is thrown.\nIn the same way as the previous setting, it is checked only after parsing the query. By default, 50,000.</p>\n<h3 id=\"max-rows-in-set\">max_rows_in_set<a class=\"headerlink\" href=\"#max-rows-in-set\" title=\"Permanent link\">&para;</a></h3>\n<p>Maximum number of rows for a data set in the IN clause created from a subquery.</p>\n<h3 id=\"max-bytes-in-set\">max_bytes_in_set<a class=\"headerlink\" href=\"#max-bytes-in-set\" title=\"Permanent link\">&para;</a></h3>\n<p>Maximum number of bytes (uncompressed data) used by a set in the IN clause created from a subquery.</p>\n<h3 id=\"set-overflow-mode\">set_overflow_mode<a class=\"headerlink\" href=\"#set-overflow-mode\" title=\"Permanent link\">&para;</a></h3>\n<p>What to do when the amount of data exceeds one of the limits: 'throw' or 'break'. By default, throw.</p>\n<h3 id=\"max-rows-in-distinct\">max_rows_in_distinct<a class=\"headerlink\" href=\"#max-rows-in-distinct\" title=\"Permanent link\">&para;</a></h3>\n<p>Maximum number of different rows when using DISTINCT.</p>\n<h3 id=\"max-bytes-in-distinct\">max_bytes_in_distinct<a class=\"headerlink\" href=\"#max-bytes-in-distinct\" title=\"Permanent link\">&para;</a></h3>\n<p>Maximum number of bytes used by a hash table when using DISTINCT.</p>\n<h3 id=\"distinct-overflow-mode\">distinct_overflow_mode<a class=\"headerlink\" href=\"#distinct-overflow-mode\" title=\"Permanent link\">&para;</a></h3>\n<p>What to do when the amount of data exceeds one of the limits: 'throw' or 'break'. By default, throw.</p>\n<h3 id=\"max-rows-to-transfer\">max_rows_to_transfer<a class=\"headerlink\" href=\"#max-rows-to-transfer\" title=\"Permanent link\">&para;</a></h3>\n<p>Maximum number of rows that can be passed to a remote server or saved in a temporary table when using GLOBAL IN.</p>\n<h3 id=\"max-bytes-to-transfer\">max_bytes_to_transfer<a class=\"headerlink\" href=\"#max-bytes-to-transfer\" title=\"Permanent link\">&para;</a></h3>\n<p>Maximum number of bytes (uncompressed data) that can be passed to a remote server or saved in a temporary table when using GLOBAL IN.</p>\n<h3 id=\"transfer-overflow-mode\">transfer_overflow_mode<a class=\"headerlink\" href=\"#transfer-overflow-mode\" title=\"Permanent link\">&para;</a></h3>\n<p>What to do when the amount of data exceeds one of the limits: 'throw' or 'break'. By default, throw.</p>\n<p><a name=\"../../../settings/settings/\"></a>\n<a name=\"../../../../settings/settings/\"></a>\n<a name=\"../settings/settings/\"></a>\n<a name=\"../../operations/settings/settings/\"></a>\n<a name=\"../../settings/settings/\"></a>\n<a name=\"settings/\"></a>\n<a name=\"operations/settings/settings/\"></a>\n<a name=\"settings/settings/\"></a>\n<a name=\"../operations/settings/settings/\"></a>\n<a name=\"../../../../../operations/settings/settings/\"></a>\n<a name=\"../../../operations/settings/settings/\"></a>\n<a name=\"../../../../../../settings/settings/\"></a>\n<a name=\"../../../../operations/settings/settings/\"></a>\n<a name=\"../../../../../settings/settings/\"></a></p>\n<h2 id=\"settings_1\">Settings<a class=\"headerlink\" href=\"#settings_1\" title=\"Permanent link\">&para;</a></h2>\n<h3 id=\"distributed-product-mode\">distributed_product_mode<a class=\"headerlink\" href=\"#distributed-product-mode\" title=\"Permanent link\">&para;</a></h3>\n<p>Changes the behavior of <a href=\"#../../query_language/select/\">distributed subqueries</a>.</p>\n<p>ClickHouse applies this setting when the query contains the product of distributed tables, i.e. when the query for a distributed table contains a non-GLOBAL subquery for the distributed table.</p>\n<p>Restrictions:</p>\n<ul>\n<li>Only applied for IN and JOIN subqueries.</li>\n<li>Only if the FROM section uses a distributed table containing more than one shard.</li>\n<li>If the subquery concerns a distributed table containing more than one shard,</li>\n<li>Not used for a table-valued <a href=\"#../../query_language/table_functions/remote/\">remote</a> function.</li>\n</ul>\n<p>Possible values:</p>\n<ul>\n<li><code>deny</code> \u2014 Default value. Prohibits using these types of subqueries (returns the \"Double-distributed in/JOIN subqueries is denied\" exception).</li>\n<li><code>local</code> \u2014 Replaces the database and table in the subquery with local ones for the destination server (shard), leaving the normal <code>IN</code>/<code>JOIN.</code></li>\n<li><code>global</code> \u2014 Replaces the <code>IN</code>/<code>JOIN</code> query with <code>GLOBAL IN</code>/<code>GLOBAL JOIN.</code></li>\n<li><code>allow</code> \u2014 Allows the use of these types of subqueries.</li>\n</ul>\n<h3 id=\"enable-optimize-predicate-expression\">enable_optimize_predicate_expression<a class=\"headerlink\" href=\"#enable-optimize-predicate-expression\" title=\"Permanent link\">&para;</a></h3>\n<p>Turns on predicate pushdown in <code>SELECT</code> queries.</p>\n<p>Predicate pushdown may significantly reduce network traffic for distributed queries.</p>\n<p>Possible values:</p>\n<ul>\n<li>0 \u2014 Disabled.</li>\n<li>1 \u2014 Enabled.</li>\n</ul>\n<p>Default value: 0.</p>\n<p><strong>Usage</strong></p>\n<p>Consider the following queries:</p>\n<ol>\n<li><code>SELECT count() FROM test_table WHERE date = '2018-10-10'</code></li>\n<li><code>SELECT count() FROM (SELECT * FROM test_table) WHERE date = '2018-10-10'</code></li>\n</ol>\n<p>If <code>enable_optimize_predicate_expression = 1</code>, then the execution time of these queries is equal, because ClickHouse applies <code>WHERE</code> to the subquery when processing it.</p>\n<p>If <code>enable_optimize_predicate_expression = 0</code>, then the execution time of the second query is much longer, because the <code>WHERE</code> clause applies to all the data after the subquery finishes.</p>\n<h3 id=\"settings-fallback_to_stale_replicas_for_distributed_queries\">fallback_to_stale_replicas_for_distributed_queries<a class=\"headerlink\" href=\"#settings-fallback_to_stale_replicas_for_distributed_queries\" title=\"Permanent link\">&para;</a></h3>\n<p>Forces a query to an out-of-date replica if updated data is not available. See \"<a href=\"#../../operations/table_engines/replication/\">Replication</a>\".</p>\n<p>ClickHouse selects the most relevant from the outdated replicas of the table.</p>\n<p>Used when performing <code>SELECT</code> from a distributed table that points to replicated tables.</p>\n<p>By default, 1 (enabled).</p>\n<h3 id=\"settings-force_index_by_date\">force_index_by_date<a class=\"headerlink\" href=\"#settings-force_index_by_date\" title=\"Permanent link\">&para;</a></h3>\n<p>Disables query execution if the index can't be used by date.</p>\n<p>Works with tables in the MergeTree family.</p>\n<p>If <code>force_index_by_date=1</code>, ClickHouse checks whether the query has a date key condition that can be used for restricting data ranges. If there is no suitable condition, it throws an exception. However, it does not check whether the condition actually reduces the amount of data to read. For example, the condition <code>Date != ' 2000-01-01 '</code> is acceptable even when it matches all the data in the table (i.e., running the query requires a full scan). For more information about ranges of data in MergeTree tables, see \"<a href=\"#../../operations/table_engines/mergetree/\">MergeTree</a>\".</p>\n<h3 id=\"force-primary-key\">force_primary_key<a class=\"headerlink\" href=\"#force-primary-key\" title=\"Permanent link\">&para;</a></h3>\n<p>Disables query execution if indexing by the primary key is not possible.</p>\n<p>Works with tables in the MergeTree family.</p>\n<p>If <code>force_primary_key=1</code>, ClickHouse checks to see if the query has a primary key condition that can be used for restricting data ranges. If there is no suitable condition, it throws an exception. However, it does not check whether the condition actually reduces the amount of data to read. For more information about data ranges in MergeTree tables, see \"<a href=\"#../../operations/table_engines/mergetree/\">MergeTree</a>\".</p>\n<h3 id=\"fsync-metadata\">fsync_metadata<a class=\"headerlink\" href=\"#fsync-metadata\" title=\"Permanent link\">&para;</a></h3>\n<p>Enables or disables <a href=\"http://pubs.opengroup.org/onlinepubs/9699919799/functions/fsync.html\" rel=\"external nofollow\">fsync</a> when writing <code>.sql</code> files. Enabled by default.</p>\n<p>It makes sense to disable it if the server has millions of tiny table chunks that are constantly being created and destroyed.</p>\n<h3 id=\"settings-enable_http_compression\">enable_http_compression<a class=\"headerlink\" href=\"#settings-enable_http_compression\" title=\"Permanent link\">&para;</a></h3>\n<p>Enables or disables data compression in the response to an HTTP request.</p>\n<p>For more information, read the <a href=\"#../../interfaces/http/\">HTTP interface description</a>.</p>\n<p>Possible values:</p>\n<ul>\n<li>0 \u2014 Disabled.</li>\n<li>1 \u2014 Enabled.</li>\n</ul>\n<p>Default value: 0.</p>\n<h3 id=\"settings-http_zlib_compression_level\">http_zlib_compression_level<a class=\"headerlink\" href=\"#settings-http_zlib_compression_level\" title=\"Permanent link\">&para;</a></h3>\n<p>Sets the level of data compression in the response to an HTTP request if <a href=\"#settings-enable_http_compression\">enable_http_compression = 1</a>.</p>\n<p>Possible values: Numbers from 1 to 9.</p>\n<p>Default value: 3.</p>\n<h3 id=\"settings-http_native_compression_disable_checksumming_on_decompress\">http_native_compression_disable_checksumming_on_decompress<a class=\"headerlink\" href=\"#settings-http_native_compression_disable_checksumming_on_decompress\" title=\"Permanent link\">&para;</a></h3>\n<p>Enables or disables checksum verification when decompressing the HTTP POST data from the client. Used only for ClickHouse native compression format (not used with <code>gzip</code> or <code>deflate</code>).</p>\n<p>For more information, read the <a href=\"#../../interfaces/http/\">HTTP interface description</a>.</p>\n<p>Possible values:</p>\n<ul>\n<li>0 \u2014 Disabled.</li>\n<li>1 \u2014 Enabled.</li>\n</ul>\n<p>Default value: 0.</p>\n<h3 id=\"input-format-allow-errors-num\">input_format_allow_errors_num<a class=\"headerlink\" href=\"#input-format-allow-errors-num\" title=\"Permanent link\">&para;</a></h3>\n<p>Sets the maximum number of acceptable errors when reading from text formats (CSV, TSV, etc.).</p>\n<p>The default value is 0.</p>\n<p>Always pair it with <code>input_format_allow_errors_ratio</code>. To skip errors, both settings must be greater than 0.</p>\n<p>If an error occurred while reading rows but the error counter is still less than <code>input_format_allow_errors_num</code>, ClickHouse ignores the row and moves on to the next one.</p>\n<p>If <code>input_format_allow_errors_num</code> is exceeded, ClickHouse throws an exception.</p>\n<h3 id=\"input-format-allow-errors-ratio\">input_format_allow_errors_ratio<a class=\"headerlink\" href=\"#input-format-allow-errors-ratio\" title=\"Permanent link\">&para;</a></h3>\n<p>Sets the maximum percentage of errors allowed when reading from text formats (CSV, TSV, etc.).\nThe percentage of errors is set as a floating-point number between 0 and 1.</p>\n<p>The default value is 0.</p>\n<p>Always pair it with <code>input_format_allow_errors_num</code>. To skip errors, both settings must be greater than 0.</p>\n<p>If an error occurred while reading rows but the error counter is still less than <code>input_format_allow_errors_ratio</code>, ClickHouse ignores the row and moves on to the next one.</p>\n<p>If <code>input_format_allow_errors_ratio</code> is exceeded, ClickHouse throws an exception.</p>\n<h3 id=\"settings-input_format_values_interpret_expressions\">input_format_values_interpret_expressions<a class=\"headerlink\" href=\"#settings-input_format_values_interpret_expressions\" title=\"Permanent link\">&para;</a></h3>\n<p>Enables or disables the full SQL parser if the fast stream parser can't parse the data. This setting is used only for the <a href=\"#data-format-values\">Values</a> format at the data insertion. For more information about syntax parsing, see the <a href=\"#../../query_language/syntax/\">Syntax</a> section.</p>\n<p>Possible values:</p>\n<ul>\n<li>\n<p>0 \u2014 Disabled.</p>\n<p>In this case, you must provide formatted data. See the <a href=\"#../../interfaces/formats/\">Formats</a> section.</p>\n</li>\n<li>\n<p>1 \u2014 Enabled.</p>\n<p>In this case, you can use an SQL expression as a value, but data insertion is much slower this way. If you insert only formatted data, then ClickHouse behaves as if the setting value is 0.</p>\n</li>\n</ul>\n<p>Default value: 1.</p>\n<p><strong>Example of Use</strong></p>\n<p>Insert the <a href=\"#../../data_types/datetime/\">DateTime</a> type value with the different settings.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SET</span> <span class=\"n\">input_format_values_interpret_expressions</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">;</span>\n<span class=\"k\">INSERT</span> <span class=\"k\">INTO</span> <span class=\"n\">datetime_t</span> <span class=\"k\">VALUES</span> <span class=\"p\">(</span><span class=\"n\">now</span><span class=\"p\">())</span>\n\n<span class=\"k\">Exception</span> <span class=\"k\">on</span> <span class=\"n\">client</span><span class=\"p\">:</span>\n<span class=\"n\">Code</span><span class=\"p\">:</span> <span class=\"mi\">27</span><span class=\"p\">.</span> <span class=\"n\">DB</span><span class=\"p\">::</span><span class=\"k\">Exception</span><span class=\"p\">:</span> <span class=\"n\">Cannot</span> <span class=\"n\">parse</span> <span class=\"k\">input</span><span class=\"p\">:</span> <span class=\"n\">expected</span> <span class=\"p\">)</span> <span class=\"k\">before</span><span class=\"p\">:</span> <span class=\"n\">now</span><span class=\"p\">()):</span> <span class=\"p\">(</span><span class=\"k\">at</span> <span class=\"k\">row</span> <span class=\"mi\">1</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SET</span> <span class=\"n\">input_format_values_interpret_expressions</span> <span class=\"o\">=</span> <span class=\"mi\">1</span><span class=\"p\">;</span>\n<span class=\"k\">INSERT</span> <span class=\"k\">INTO</span> <span class=\"n\">datetime_t</span> <span class=\"k\">VALUES</span> <span class=\"p\">(</span><span class=\"n\">now</span><span class=\"p\">())</span>\n\n<span class=\"n\">Ok</span><span class=\"p\">.</span>\n</pre></div>\n\n\n<p>The last query is equivalent to the following:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SET</span> <span class=\"n\">input_format_values_interpret_expressions</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">;</span>\n<span class=\"k\">INSERT</span> <span class=\"k\">INTO</span> <span class=\"n\">datetime_t</span> <span class=\"k\">SELECT</span> <span class=\"n\">now</span><span class=\"p\">()</span>\n\n<span class=\"n\">Ok</span><span class=\"p\">.</span>\n</pre></div>\n\n\n<h3 id=\"session_settings-input_format_defaults_for_omitted_fields\">input_format_defaults_for_omitted_fields<a class=\"headerlink\" href=\"#session_settings-input_format_defaults_for_omitted_fields\" title=\"Permanent link\">&para;</a></h3>\n<p>Turns on/off the extended data exchange between a ClickHouse client and a ClickHouse server. This setting applies for <code>INSERT</code> queries.</p>\n<p>When executing the <code>INSERT</code> query, the ClickHouse client prepares data and sends it to the server for writing. The client gets the table structure from the server when preparing the data. In some cases, the client needs more information than the server sends by default. Turn on the extended data exchange with <code>input_format_defaults_for_omitted_fields = 1</code>.</p>\n<p>When the extended data exchange is enabled, the server sends the additional metadata along with the table structure. The composition of the metadata depends on the operation.</p>\n<p>Operations where you may need the extended data exchange enabled:</p>\n<ul>\n<li>Inserting data in <a href=\"#jsoneachrow\">JSONEachRow</a> format.</li>\n</ul>\n<p>For all other operations, ClickHouse doesn't apply the setting.</p>\n<div class=\"admonition note\">\n<p class=\"admonition-title\">Note</p>\n<p>The extended data exchange functionality consumes additional computing resources on the server and can reduce performance.</p>\n</div>\n<p><strong>Possible values</strong></p>\n<ul>\n<li>0 \u2014 Disabled.</li>\n<li>1 \u2014 Enabled.</li>\n</ul>\n<p><strong>Default value:</strong> 0.</p>\n<h3 id=\"settings-join_default_strictness\">join_default_strictness<a class=\"headerlink\" href=\"#settings-join_default_strictness\" title=\"Permanent link\">&para;</a></h3>\n<p>Sets default strictness for <a href=\"#select-join\">JOIN clauses</a>.</p>\n<p><strong>Possible values</strong></p>\n<ul>\n<li><code>ALL</code> \u2014 If the right table has several matching rows, the data is multiplied by the number of these rows. This is the normal <code>JOIN</code> behavior from standard SQL.</li>\n<li><code>ANY</code> \u2014 If the right table has several matching rows, only the first one found is joined. If the right table has only one matching row, the results of <code>ANY</code> and <code>ALL</code> are the same.</li>\n<li><code>Empty string</code> \u2014 If <code>ALL</code> or <code>ANY</code> is not specified in the query, ClickHouse throws an exception.</li>\n</ul>\n<p><strong>Default value</strong>: <code>ALL</code></p>\n<h3 id=\"settings-join_use_nulls\">join_use_nulls<a class=\"headerlink\" href=\"#settings-join_use_nulls\" title=\"Permanent link\">&para;</a></h3>\n<p>Sets the type of <a href=\"#../../query_language/select/\">JOIN</a> behavior. When merging tables, empty cells may appear. ClickHouse fills them differently based on this setting.</p>\n<p><strong>Possible values</strong></p>\n<ul>\n<li>0 \u2014 The empty cells are filled with the default value of the corresponding field type.</li>\n<li>1 \u2014 <code>JOIN</code> behaves the same way as in standard SQL. The type of the corresponding field is converted to <a href=\"#data_type-nullable\">Nullable</a>, and empty cells are filled with <a href=\"#../../query_language/syntax/\">NULL</a>.</li>\n</ul>\n<p><strong>Default value</strong>: 0.</p>\n<h3 id=\"max-block-size\">max_block_size<a class=\"headerlink\" href=\"#max-block-size\" title=\"Permanent link\">&para;</a></h3>\n<p>In ClickHouse, data is processed by blocks (sets of column parts). The internal processing cycles for a single block are efficient enough, but there are noticeable expenditures on each block. The <code>max_block_size</code> setting is a recommendation for what size of block (in number of rows) to load from tables. The block size shouldn't be too small, so that the expenditures on each block are still noticeable, but not too large, so that the query with LIMIT that is completed after the first block is processed quickly. The goal is to avoid consuming too much memory when extracting a large number of columns in multiple threads, and to preserve at least some cache locality.</p>\n<p>Default value: 65,536.</p>\n<p>Blocks the size of <code>max_block_size</code> are not always loaded from the table. If it is obvious that less data needs to be retrieved, a smaller block is processed.</p>\n<h3 id=\"preferred-block-size-bytes\">preferred_block_size_bytes<a class=\"headerlink\" href=\"#preferred-block-size-bytes\" title=\"Permanent link\">&para;</a></h3>\n<p>Used for the same purpose as <code>max_block_size</code>, but it sets the recommended block size in bytes by adapting it to the number of rows in the block.\nHowever, the block size cannot be more than <code>max_block_size</code> rows.\nBy default: 1,000,000. It only works when reading from MergeTree engines.</p>\n<h3 id=\"setting-merge_tree_uniform_read_distribution\">merge_tree_uniform_read_distribution<a class=\"headerlink\" href=\"#setting-merge_tree_uniform_read_distribution\" title=\"Permanent link\">&para;</a></h3>\n<p>ClickHouse uses multiple threads when reading from <a href=\"#../table_engines/mergetree/\">MergeTree*</a> tables. This setting turns on/off the uniform distribution of reading tasks over the working threads. The algorithm of the uniform distribution aims to make execution time for all the threads approximately equal in a <code>SELECT</code> query.</p>\n<p><strong>Possible values</strong></p>\n<ul>\n<li>0 \u2014 Do not use uniform read distribution.</li>\n<li>1 \u2014 Use uniform read distribution.</li>\n</ul>\n<p><strong>Default value</strong>: 1.</p>\n<h3 id=\"setting-merge_tree_min_rows_for_concurrent_read\">merge_tree_min_rows_for_concurrent_read<a class=\"headerlink\" href=\"#setting-merge_tree_min_rows_for_concurrent_read\" title=\"Permanent link\">&para;</a></h3>\n<p>If the number of rows to be read from a file of a <a href=\"#../table_engines/mergetree/\">MergeTree*</a> table exceeds <code>merge_tree_min_rows_for_concurrent_read</code> then ClickHouse tries to perform a concurrent reading from this file on several threads.</p>\n<p><strong>Possible values</strong></p>\n<p>Any positive integer.</p>\n<p><strong>Default value</strong>: 163840.</p>\n<h3 id=\"setting-merge_tree_min_rows_for_seek\">merge_tree_min_rows_for_seek<a class=\"headerlink\" href=\"#setting-merge_tree_min_rows_for_seek\" title=\"Permanent link\">&para;</a></h3>\n<p>If the distance between two data blocks to be read in one file is less than <code>merge_tree_min_rows_for_seek</code> rows, then ClickHouse does not seek through the file, but reads the data sequentially.</p>\n<p><strong>Possible values</strong></p>\n<p>Any positive integer.</p>\n<p><strong>Default value</strong>: 0.</p>\n<h3 id=\"setting-merge_tree_coarse_index_granularity\">merge_tree_coarse_index_granularity<a class=\"headerlink\" href=\"#setting-merge_tree_coarse_index_granularity\" title=\"Permanent link\">&para;</a></h3>\n<p>When searching data, ClickHouse checks the data marks in the index file. If ClickHouse finds that required keys are in some range, it divides this range into <code>merge_tree_coarse_index_granularity</code> subranges and searches the required keys there recursively.</p>\n<p><strong>Possible values</strong></p>\n<p>Any positive even integer.</p>\n<p><strong>Default value</strong>: 8.</p>\n<h3 id=\"setting-merge_tree_max_rows_to_use_cache\">merge_tree_max_rows_to_use_cache<a class=\"headerlink\" href=\"#setting-merge_tree_max_rows_to_use_cache\" title=\"Permanent link\">&para;</a></h3>\n<p>If ClickHouse should read more than <code>merge_tree_max_rows_to_use_cache</code> rows in one query, it does not use the cash of uncompressed blocks. The <a href=\"#server-settings-uncompressed_cache_size\">uncompressed_cache_size</a> server setting defines the size of the cache of uncompressed blocks.</p>\n<p><strong>Possible values</strong></p>\n<p>Any positive integer.</p>\n<p><strong>Default value</strong>: 1048576.</p>\n<h3 id=\"settings-min_bytes_to_use_direct_io\">min_bytes_to_use_direct_io<a class=\"headerlink\" href=\"#settings-min_bytes_to_use_direct_io\" title=\"Permanent link\">&para;</a></h3>\n<p>The minimum data volume required for using direct I/O access to the storage disk.</p>\n<p>ClickHouse uses this setting when reading data from tables. If the total storage volume of all the data to be read exceeds <code>min_bytes_to_use_direct_io</code> bytes, then ClickHouse reads the data from the storage disk with the <code>O_DIRECT</code> option.</p>\n<p><strong>Possible values</strong></p>\n<ul>\n<li>0 \u2014 Direct I/O is disabled.</li>\n<li>Positive integer.</li>\n</ul>\n<p><strong>Default value</strong>: 0.</p>\n<h3 id=\"settings-log-queries\">log_queries<a class=\"headerlink\" href=\"#settings-log-queries\" title=\"Permanent link\">&para;</a></h3>\n<p>Setting up query logging.</p>\n<p>Queries sent to ClickHouse with this setup are logged according to the rules in the <a href=\"#server_settings-query-log\">query_log</a> server configuration parameter.</p>\n<p><strong>Example</strong>:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">log_queries=1</span>\n</pre></div>\n\n\n<h3 id=\"settings-max_insert_block_size\">max_insert_block_size<a class=\"headerlink\" href=\"#settings-max_insert_block_size\" title=\"Permanent link\">&para;</a></h3>\n<p>The size of blocks to form for insertion into a table.\nThis setting only applies in cases when the server forms the blocks.\nFor example, for an INSERT via the HTTP interface, the server parses the data format and forms blocks of the specified size.\nBut when using clickhouse-client, the client parses the data itself, and the 'max_insert_block_size' setting on the server doesn't affect the size of the inserted blocks.\nThe setting also doesn't have a purpose when using INSERT SELECT, since data is inserted using the same blocks that are formed after SELECT.</p>\n<p>Default value: 1,048,576.</p>\n<p>The default is slightly more than <code>max_block_size</code>. The reason for this is because certain table engines (<code>*MergeTree</code>) form a data part on the disk for each inserted block, which is a fairly large entity. Similarly, <code>*MergeTree</code> tables sort data during insertion, and a large enough block size allows sorting more data in RAM.</p>\n<h3 id=\"settings-max_replica_delay_for_distributed_queries\">max_replica_delay_for_distributed_queries<a class=\"headerlink\" href=\"#settings-max_replica_delay_for_distributed_queries\" title=\"Permanent link\">&para;</a></h3>\n<p>Disables lagging replicas for distributed queries. See \"<a href=\"#../../operations/table_engines/replication/\">Replication</a>\".</p>\n<p>Sets the time in seconds. If a replica lags more than the set value, this replica is not used.</p>\n<p>Default value: 300.</p>\n<p>Used when performing <code>SELECT</code> from a distributed table that points to replicated tables.</p>\n<h3 id=\"settings-max_threads\">max_threads<a class=\"headerlink\" href=\"#settings-max_threads\" title=\"Permanent link\">&para;</a></h3>\n<p>The maximum number of query processing threads, excluding threads for retrieving data from remote servers (see the 'max_distributed_connections' parameter).</p>\n<p>This parameter applies to threads that perform the same stages of the query processing pipeline in parallel.\nFor example, when reading from a table, if it is possible to evaluate expressions with functions, filter with WHERE and pre-aggregate for GROUP BY in parallel using at least 'max_threads' number of threads, then 'max_threads' are used.</p>\n<p>Default value: 2.</p>\n<p>If less than one SELECT query is normally run on a server at a time, set this parameter to a value slightly less than the actual number of processor cores.</p>\n<p>For queries that are completed quickly because of a LIMIT, you can set a lower 'max_threads'. For example, if the necessary number of entries are located in every block and max_threads = 8, then 8 blocks are retrieved, although it would have been enough to read just one.</p>\n<p>The smaller the <code>max_threads</code> value, the less memory is consumed.</p>\n<h3 id=\"max-compress-block-size\">max_compress_block_size<a class=\"headerlink\" href=\"#max-compress-block-size\" title=\"Permanent link\">&para;</a></h3>\n<p>The maximum size of blocks of uncompressed data before compressing for writing to a table. By default, 1,048,576 (1 MiB). If the size is reduced, the compression rate is significantly reduced, the compression and decompression speed increases slightly due to cache locality, and memory consumption is reduced. There usually isn't any reason to change this setting.</p>\n<p>Don't confuse blocks for compression (a chunk of memory consisting of bytes) with blocks for query processing (a set of rows from a table).</p>\n<h3 id=\"min-compress-block-size\">min_compress_block_size<a class=\"headerlink\" href=\"#min-compress-block-size\" title=\"Permanent link\">&para;</a></h3>\n<p>For <a href=\"#../../operations/table_engines/mergetree/\">MergeTree</a>\" tables. In order to reduce latency when processing queries, a block is compressed when writing the next mark if its size is at least 'min_compress_block_size'. By default, 65,536.</p>\n<p>The actual size of the block, if the uncompressed data is less than 'max_compress_block_size', is no less than this value and no less than the volume of data for one mark.</p>\n<p>Let's look at an example. Assume that 'index_granularity' was set to 8192 during table creation.</p>\n<p>We are writing a UInt32-type column (4 bytes per value). When writing 8192 rows, the total will be 32 KB of data. Since min_compress_block_size = 65,536, a compressed block will be formed for every two marks.</p>\n<p>We are writing a URL column with the String type (average size of 60 bytes per value). When writing 8192 rows, the average will be slightly less than 500 KB of data. Since this is more than 65,536, a compressed block will be formed for each mark. In this case, when reading data from the disk in the range of a single mark, extra data won't be decompressed.</p>\n<p>There usually isn't any reason to change this setting.</p>\n<h3 id=\"settings-max_query_size\">max_query_size<a class=\"headerlink\" href=\"#settings-max_query_size\" title=\"Permanent link\">&para;</a></h3>\n<p>The maximum part of a query that can be taken to RAM for parsing with the SQL parser.\nThe INSERT query also contains data for INSERT that is processed by a separate stream parser (that consumes O(1) RAM), which is not included in this restriction.</p>\n<p>Default value: 256 KiB.</p>\n<h3 id=\"interactive-delay\">interactive_delay<a class=\"headerlink\" href=\"#interactive-delay\" title=\"Permanent link\">&para;</a></h3>\n<p>The interval in microseconds for checking whether request execution has been canceled and sending the progress.</p>\n<p>Default value: 100,000 (checks for canceling and sends the progress ten times per second).</p>\n<h3 id=\"connect-timeout-receive-timeout-send-timeout\">connect_timeout, receive_timeout, send_timeout<a class=\"headerlink\" href=\"#connect-timeout-receive-timeout-send-timeout\" title=\"Permanent link\">&para;</a></h3>\n<p>Timeouts in seconds on the socket used for communicating with the client.</p>\n<p>Default value: 10, 300, 300.</p>\n<h3 id=\"poll-interval\">poll_interval<a class=\"headerlink\" href=\"#poll-interval\" title=\"Permanent link\">&para;</a></h3>\n<p>Lock in a wait loop for the specified number of seconds.</p>\n<p>Default value: 10.</p>\n<h3 id=\"max-distributed-connections\">max_distributed_connections<a class=\"headerlink\" href=\"#max-distributed-connections\" title=\"Permanent link\">&para;</a></h3>\n<p>The maximum number of simultaneous connections with remote servers for distributed processing of a single query to a single Distributed table. We recommend setting a value no less than the number of servers in the cluster.</p>\n<p>Default value: 1024.</p>\n<p>The following parameters are only used when creating Distributed tables (and when launching a server), so there is no reason to change them at runtime.</p>\n<h3 id=\"distributed-connections-pool-size\">distributed_connections_pool_size<a class=\"headerlink\" href=\"#distributed-connections-pool-size\" title=\"Permanent link\">&para;</a></h3>\n<p>The maximum number of simultaneous connections with remote servers for distributed processing of all queries to a single Distributed table. We recommend setting a value no less than the number of servers in the cluster.</p>\n<p>Default value: 1024.</p>\n<h3 id=\"connect-timeout-with-failover-ms\">connect_timeout_with_failover_ms<a class=\"headerlink\" href=\"#connect-timeout-with-failover-ms\" title=\"Permanent link\">&para;</a></h3>\n<p>The timeout in milliseconds for connecting to a remote server for a Distributed table engine, if the 'shard' and 'replica' sections are used in the cluster definition.\nIf unsuccessful, several attempts are made to connect to various replicas.</p>\n<p>Default value: 50.</p>\n<h3 id=\"connections-with-failover-max-tries\">connections_with_failover_max_tries<a class=\"headerlink\" href=\"#connections-with-failover-max-tries\" title=\"Permanent link\">&para;</a></h3>\n<p>The maximum number of connection attempts with each replica for the Distributed table engine.</p>\n<p>Default value: 3.</p>\n<h3 id=\"extremes\">extremes<a class=\"headerlink\" href=\"#extremes\" title=\"Permanent link\">&para;</a></h3>\n<p>Whether to count extreme values (the minimums and maximums in columns of a query result). Accepts 0 or 1. By default, 0 (disabled).\nFor more information, see the section \"Extreme values\".</p>\n<h3 id=\"setting-use_uncompressed_cache\">use_uncompressed_cache<a class=\"headerlink\" href=\"#setting-use_uncompressed_cache\" title=\"Permanent link\">&para;</a></h3>\n<p>Whether to use a cache of uncompressed blocks. Accepts 0 or 1. By default, 0 (disabled).\nUsing the uncompressed cache (only for tables in the MergeTree family) can significantly reduce latency and increase throughput when working with a large number of short queries. Enable this setting for users who send frequent short requests. Also pay attention to the <a href=\"#server-settings-uncompressed_cache_size\">uncompressed_cache_size</a> configuration parameter (only set in the config file) \u2013 the size of uncompressed cache blocks. By default, it is 8 GiB. The uncompressed cache is filled in as needed and the least-used data is automatically deleted.</p>\n<p>For queries that read at least a somewhat large volume of data (one million rows or more), the uncompressed cache is disabled automatically in order to save space for truly small queries. This means that you can keep the 'use_uncompressed_cache' setting always set to 1.</p>\n<h3 id=\"replace-running-query\">replace_running_query<a class=\"headerlink\" href=\"#replace-running-query\" title=\"Permanent link\">&para;</a></h3>\n<p>When using the HTTP interface, the 'query_id' parameter can be passed. This is any string that serves as the query identifier.\nIf a query from the same user with the same 'query_id' already exists at this time, the behavior depends on the 'replace_running_query' parameter.</p>\n<p><code>0</code> (default) \u2013 Throw an exception (don't allow the query to run if a query with the same 'query_id' is already running).</p>\n<p><code>1</code> \u2013 Cancel the old query and start running the new one.</p>\n<p>Yandex.Metrica uses this parameter set to 1 for implementing suggestions for segmentation conditions. After entering the next character, if the old query hasn't finished yet, it should be canceled.</p>\n<h3 id=\"schema\">schema<a class=\"headerlink\" href=\"#schema\" title=\"Permanent link\">&para;</a></h3>\n<p>This parameter is useful when you are using formats that require a schema definition, such as <a href=\"https://capnproto.org/\" rel=\"external nofollow\">Cap'n Proto</a>. The value depends on the format.</p>\n<h3 id=\"stream-flush-interval-ms\">stream_flush_interval_ms<a class=\"headerlink\" href=\"#stream-flush-interval-ms\" title=\"Permanent link\">&para;</a></h3>\n<p>Works for tables with streaming in the case of a timeout, or when a thread generates <a href=\"#settings-max_insert_block_size\">max_insert_block_size</a> rows.</p>\n<p>The default value is 7500.</p>\n<p>The smaller the value, the more often data is flushed into the table. Setting the value too low leads to poor performance.</p>\n<h3 id=\"settings-load_balancing\">load_balancing<a class=\"headerlink\" href=\"#settings-load_balancing\" title=\"Permanent link\">&para;</a></h3>\n<p>Specifies the algorithm of replicas selection that is used for distributed query processing.</p>\n<p>ClickHouse supports the following algorithms of choosing replicas:</p>\n<ul>\n<li><a href=\"#load_balancing-random\">Random</a> (by default)</li>\n<li><a href=\"#load_balancing-nearest_hostname\">Nearest hostname</a></li>\n<li><a href=\"#load_balancing-in_order\">In order</a></li>\n<li><a href=\"#load_balancing-first_or_random\">First or random</a></li>\n</ul>\n<h4 id=\"load_balancing-random\">Random (by default)<a class=\"headerlink\" href=\"#load_balancing-random\" title=\"Permanent link\">&para;</a></h4>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">load_balancing = random</span>\n</pre></div>\n\n\n<p>The number of errors is counted for each replica. The query is sent to the replica with the fewest errors, and if there are several of these, to any one of them.\nDisadvantages: Server proximity is not accounted for; if the replicas have different data, you will also get different data.</p>\n<h4 id=\"load_balancing-nearest_hostname\">Nearest Hostname<a class=\"headerlink\" href=\"#load_balancing-nearest_hostname\" title=\"Permanent link\">&para;</a></h4>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">load_balancing = nearest_hostname</span>\n</pre></div>\n\n\n<p>The number of errors is counted for each replica. Every 5 minutes, the number of errors is integrally divided by 2. Thus, the number of errors is calculated for a recent time with exponential smoothing. If there is one replica with a minimal number of errors (i.e. errors occurred recently on the other replicas), the query is sent to it. If there are multiple replicas with the same minimal number of errors, the query is sent to the replica with a host name that is most similar to the server's host name in the config file (for the number of different characters in identical positions, up to the minimum length of both host names).</p>\n<p>For instance, example01-01-1 and example01-01-2.yandex.ru are different in one position, while example01-01-1 and example01-02-2 differ in two places.\nThis method might seem primitive, but it doesn't require external data about network topology, and it doesn't compare IP addresses, which would be complicated for our IPv6 addresses.</p>\n<p>Thus, if there are equivalent replicas, the closest one by name is preferred.\nWe can also assume that when sending a query to the same server, in the absence of failures, a distributed query will also go to the same servers. So even if different data is placed on the replicas, the query will return mostly the same results.</p>\n<h4 id=\"load_balancing-in_order\">In Order<a class=\"headerlink\" href=\"#load_balancing-in_order\" title=\"Permanent link\">&para;</a></h4>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">load_balancing = in_order</span>\n</pre></div>\n\n\n<p>Replicas with the same number of errors are accessed in the same order as they are specified in configuration.\nThis method is appropriate when you know exactly which replica is preferable.</p>\n<h4 id=\"load_balancing-first_or_random\">First or Random<a class=\"headerlink\" href=\"#load_balancing-first_or_random\" title=\"Permanent link\">&para;</a></h4>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">load_balancing = first_or_random</span>\n</pre></div>\n\n\n<p>This algorithm chooses the first replica in order or a random replica if the first one is unavailable. It is effective in cross-replication topology setups, but it useless in other configurations.</p>\n<p>The <code>first or random</code> algorithm solves the problem of the <code>in order</code> algorithm. The problem is: if one replica goes down, the next one handles twice the usual load while remaining ones handle usual traffic. When using the <code>first or random</code> algorithm, the load on replicas is leveled.</p>\n<h3 id=\"settings-prefer_localhost_replica\">prefer_localhost_replica<a class=\"headerlink\" href=\"#settings-prefer_localhost_replica\" title=\"Permanent link\">&para;</a></h3>\n<p>Enables/disables preferable using the localhost replica when processing distributed queries.</p>\n<p>Possible values:</p>\n<ul>\n<li>1 \u2014 ClickHouse always sends a query to the localhost replica if it exists.</li>\n<li>0 \u2014 ClickHouse uses the balancing strategy specified by the <a href=\"#settings-load_balancing\">load_balancing</a> setting.</li>\n</ul>\n<p>Default value: 1.</p>\n<h3 id=\"totals-mode\">totals_mode<a class=\"headerlink\" href=\"#totals-mode\" title=\"Permanent link\">&para;</a></h3>\n<p>How to calculate TOTALS when HAVING is present, as well as when max_rows_to_group_by and group_by_overflow_mode = 'any' are present.\nSee the section \"WITH TOTALS modifier\".</p>\n<h3 id=\"totals-auto-threshold\">totals_auto_threshold<a class=\"headerlink\" href=\"#totals-auto-threshold\" title=\"Permanent link\">&para;</a></h3>\n<p>The threshold for <code>totals_mode = 'auto'</code>.\nSee the section \"WITH TOTALS modifier\".</p>\n<h3 id=\"max-parallel-replicas\">max_parallel_replicas<a class=\"headerlink\" href=\"#max-parallel-replicas\" title=\"Permanent link\">&para;</a></h3>\n<p>The maximum number of replicas for each shard when executing a query.\nFor consistency (to get different parts of the same data split), this option only works when the sampling key is set.\nReplica lag is not controlled.</p>\n<h3 id=\"compile\">compile<a class=\"headerlink\" href=\"#compile\" title=\"Permanent link\">&para;</a></h3>\n<p>Enable compilation of queries. By default, 0 (disabled).</p>\n<p>Compilation is only used for part of the query-processing pipeline: for the first stage of aggregation (GROUP BY).\nIf this portion of the pipeline was compiled, the query may run faster due to deployment of short cycles and inlining aggregate function calls. The maximum performance improvement (up to four times faster in rare cases) is seen for queries with multiple simple aggregate functions. Typically, the performance gain is insignificant. In very rare cases, it may slow down query execution.</p>\n<h3 id=\"min-count-to-compile\">min_count_to_compile<a class=\"headerlink\" href=\"#min-count-to-compile\" title=\"Permanent link\">&para;</a></h3>\n<p>How many times to potentially use a compiled chunk of code before running compilation. By default, 3.\nFor testing, the value can be set to 0: compilation runs synchronously and the query waits for the end of the compilation process before continuing execution. For all other cases, use values \u200b\u200bstarting with 1. Compilation normally takes about 5-10 seconds.\nIf the value is 1 or more, compilation occurs asynchronously in a separate thread. The result will be used as soon as it is ready, including queries that are currently running.</p>\n<p>Compiled code is required for each different combination of aggregate functions used in the query and the type of keys in the GROUP BY clause.\nThe results of compilation are saved in the build directory in the form of .so files. There is no restriction on the number of compilation results, since they don't use very much space. Old results will be used after server restarts, except in the case of a server upgrade \u2013 in this case, the old results are deleted.</p>\n<h3 id=\"input-format-skip-unknown-fields\">input_format_skip_unknown_fields<a class=\"headerlink\" href=\"#input-format-skip-unknown-fields\" title=\"Permanent link\">&para;</a></h3>\n<p>If the value is true, running INSERT skips input data from columns with unknown names. Otherwise, this situation will generate an exception.\nIt works for JSONEachRow and TSKV formats.</p>\n<h3 id=\"session_settings-output_format_json_quote_64bit_integers\">output_format_json_quote_64bit_integers<a class=\"headerlink\" href=\"#session_settings-output_format_json_quote_64bit_integers\" title=\"Permanent link\">&para;</a></h3>\n<p>If the value is true, integers appear in quotes when using JSON* Int64 and UInt64 formats (for compatibility with most JavaScript implementations); otherwise, integers are output without the quotes.</p>\n<h3 id=\"settings-format_csv_delimiter\">format_csv_delimiter<a class=\"headerlink\" href=\"#settings-format_csv_delimiter\" title=\"Permanent link\">&para;</a></h3>\n<p>The character interpreted as a delimiter in the CSV data. By default, the delimiter is <code>,</code>.</p>\n<h3 id=\"settings-insert_quorum\">insert_quorum<a class=\"headerlink\" href=\"#settings-insert_quorum\" title=\"Permanent link\">&para;</a></h3>\n<p>Enables quorum writes.</p>\n<ul>\n<li>If <code>insert_quorum &lt; 2</code>, the quorum writes are disabled.</li>\n<li>If <code>insert_quorum &gt;= 2</code>, the quorum writes are enabled.</li>\n</ul>\n<p>Default value: 0.</p>\n<p><strong>Quorum writes</strong></p>\n<p><code>INSERT</code> succeeds only when ClickHouse manages to correctly write data to the <code>insert_quorum</code> of replicas during the <code>insert_quorum_timeout</code>. If for any reason the number of replicas with successful writes does not reach the <code>insert_quorum</code>, the write is considered failed and ClickHouse will delete the inserted block from all the replicas where data has already been written.</p>\n<p>All the replicas in the quorum are consistent, i.e., they contain data from all previous <code>INSERT</code> queries. The <code>INSERT</code> sequence is linearized.</p>\n<p>When reading the data written from the <code>insert_quorum</code>, you can use the <a href=\"#settings-select_sequential_consistency\">select_sequential_consistency</a> option.</p>\n<p><strong>ClickHouse generates an exception</strong></p>\n<ul>\n<li>If the number of available replicas at the time of the query is less than the <code>insert_quorum</code>.</li>\n<li>At an attempt to write data when the previous block has not yet been inserted in the <code>insert_quorum</code> of replicas. This situation may occur if the user tries to perform an <code>INSERT</code> before the previous one with the <code>insert_quorum</code> is completed.</li>\n</ul>\n<p><strong>See also the following parameters:</strong></p>\n<ul>\n<li><a href=\"#settings-insert_quorum_timeout\">insert_quorum_timeout</a></li>\n<li><a href=\"#settings-select_sequential_consistency\">select_sequential_consistency</a></li>\n</ul>\n<h3 id=\"settings-insert_quorum_timeout\">insert_quorum_timeout<a class=\"headerlink\" href=\"#settings-insert_quorum_timeout\" title=\"Permanent link\">&para;</a></h3>\n<p>Quorum write timeout in seconds. If the timeout has passed and no write has taken place yet, ClickHouse will generate an exception and the client must repeat the query to write the same block to the same or any other replica.</p>\n<p>Default value: 60 seconds.</p>\n<p><strong>See also the following parameters:</strong></p>\n<ul>\n<li><a href=\"#settings-insert_quorum\">insert_quorum</a></li>\n<li><a href=\"#settings-select_sequential_consistency\">select_sequential_consistency</a></li>\n</ul>\n<h3 id=\"settings-select_sequential_consistency\">select_sequential_consistency<a class=\"headerlink\" href=\"#settings-select_sequential_consistency\" title=\"Permanent link\">&para;</a></h3>\n<p>Enables or disables sequential consistency for <code>SELECT</code> queries:</p>\n<p>Possible values:</p>\n<ul>\n<li>0 \u2014 Disabled.</li>\n<li>1 \u2014 Enabled.</li>\n</ul>\n<p>Default value: 0.</p>\n<p><strong>Usage</strong></p>\n<p>When sequential consistency is enabled, ClickHouse allows the client to execute the <code>SELECT</code> query only for those replicas that contain data from all previous <code>INSERT</code> queries executed with <code>insert_quorum</code>. If the client refers to a partial replica, ClickHouse will generate an exception. The SELECT query will not include data that has not yet been written to the quorum of replicas.</p>\n<p><strong>See Also</strong></p>\n<ul>\n<li><a href=\"#settings-insert_quorum\">insert_quorum</a></li>\n<li><a href=\"#settings-insert_quorum_timeout\">insert_quorum_timeout</a></li>\n</ul>\n<h3 id=\"settings-allow_experimental_cross_to_join_conversion\">allow_experimental_cross_to_join_conversion<a class=\"headerlink\" href=\"#settings-allow_experimental_cross_to_join_conversion\" title=\"Permanent link\">&para;</a></h3>\n<p>Enables or disables:</p>\n<ol>\n<li>Rewriting of queries with multiple <a href=\"#select-join\">JOIN clauses</a> from the syntax with commas to the <code>JOIN ON/USING</code> syntax. If the setting value is 0, ClickHouse doesn't process queries with the syntax with commas, and throws an exception.</li>\n<li>Converting of <code>CROSS JOIN</code> into <code>INNER JOIN</code> if conditions of join allow it.</li>\n</ol>\n<p>Possible values:</p>\n<ul>\n<li>0 \u2014 Disabled.</li>\n<li>1 \u2014 Enabled.</li>\n</ul>\n<p>Default value: 1.</p>\n<p><a name=\"settings/settings_profiles/\"></a>\n<a name=\"../../../../operations/settings/settings_profiles/\"></a>\n<a name=\"../../settings/settings_profiles/\"></a>\n<a name=\"../../../../../../settings/settings_profiles/\"></a>\n<a name=\"../settings/settings_profiles/\"></a>\n<a name=\"../../../settings/settings_profiles/\"></a>\n<a name=\"../../operations/settings/settings_profiles/\"></a>\n<a name=\"../../../../settings/settings_profiles/\"></a>\n<a name=\"../operations/settings/settings_profiles/\"></a>\n<a name=\"settings_profiles/\"></a>\n<a name=\"../../../../../operations/settings/settings_profiles/\"></a>\n<a name=\"../../../operations/settings/settings_profiles/\"></a>\n<a name=\"operations/settings/settings_profiles/\"></a>\n<a name=\"../../../../../settings/settings_profiles/\"></a></p>\n<h2 id=\"settings-profiles\">Settings profiles<a class=\"headerlink\" href=\"#settings-profiles\" title=\"Permanent link\">&para;</a></h2>\n<p>A settings profile is a collection of settings grouped under the same name. Each ClickHouse user has a profile.\nTo apply all the settings in a profile, set the <code>profile</code> setting.</p>\n<p>Example:</p>\n<p>Install the <code>web</code> profile.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">SET</span> <span class=\"n\">profile</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;web&#39;</span>\n</pre></div>\n\n\n<p>Settings profiles are declared in the user config file. This is usually <code>users.xml</code>.</p>\n<p>Example:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"c\">&lt;!-- Settings profiles --&gt;</span>\n<span class=\"nt\">&lt;profiles&gt;</span>\n    <span class=\"c\">&lt;!-- Default settings --&gt;</span>\n    <span class=\"nt\">&lt;default&gt;</span>\n        <span class=\"c\">&lt;!-- The maximum number of threads when running a single query. --&gt;</span>\n        <span class=\"nt\">&lt;max_threads&gt;</span>8<span class=\"nt\">&lt;/max_threads&gt;</span>\n    <span class=\"nt\">&lt;/default&gt;</span>\n\n    <span class=\"c\">&lt;!-- Settings for quries from the user interface --&gt;</span>\n    <span class=\"nt\">&lt;web&gt;</span>\n        <span class=\"nt\">&lt;max_rows_to_read&gt;</span>1000000000<span class=\"nt\">&lt;/max_rows_to_read&gt;</span>\n        <span class=\"nt\">&lt;max_bytes_to_read&gt;</span>100000000000<span class=\"nt\">&lt;/max_bytes_to_read&gt;</span>\n\n        <span class=\"nt\">&lt;max_rows_to_group_by&gt;</span>1000000<span class=\"nt\">&lt;/max_rows_to_group_by&gt;</span>\n        <span class=\"nt\">&lt;group_by_overflow_mode&gt;</span>any<span class=\"nt\">&lt;/group_by_overflow_mode&gt;</span>\n\n        <span class=\"nt\">&lt;max_rows_to_sort&gt;</span>1000000<span class=\"nt\">&lt;/max_rows_to_sort&gt;</span>\n        <span class=\"nt\">&lt;max_bytes_to_sort&gt;</span>1000000000<span class=\"nt\">&lt;/max_bytes_to_sort&gt;</span>\n\n        <span class=\"nt\">&lt;max_result_rows&gt;</span>100000<span class=\"nt\">&lt;/max_result_rows&gt;</span>\n        <span class=\"nt\">&lt;max_result_bytes&gt;</span>100000000<span class=\"nt\">&lt;/max_result_bytes&gt;</span>\n        <span class=\"nt\">&lt;result_overflow_mode&gt;</span>break<span class=\"nt\">&lt;/result_overflow_mode&gt;</span>\n\n        <span class=\"nt\">&lt;max_execution_time&gt;</span>600<span class=\"nt\">&lt;/max_execution_time&gt;</span>\n        <span class=\"nt\">&lt;min_execution_speed&gt;</span>1000000<span class=\"nt\">&lt;/min_execution_speed&gt;</span>\n        <span class=\"nt\">&lt;timeout_before_checking_execution_speed&gt;</span>15<span class=\"nt\">&lt;/timeout_before_checking_execution_speed&gt;</span>\n\n        <span class=\"nt\">&lt;max_columns_to_read&gt;</span>25<span class=\"nt\">&lt;/max_columns_to_read&gt;</span>\n        <span class=\"nt\">&lt;max_temporary_columns&gt;</span>100<span class=\"nt\">&lt;/max_temporary_columns&gt;</span>\n        <span class=\"nt\">&lt;max_temporary_non_const_columns&gt;</span>50<span class=\"nt\">&lt;/max_temporary_non_const_columns&gt;</span>\n\n        <span class=\"nt\">&lt;max_subquery_depth&gt;</span>2<span class=\"nt\">&lt;/max_subquery_depth&gt;</span>\n        <span class=\"nt\">&lt;max_pipeline_depth&gt;</span>25<span class=\"nt\">&lt;/max_pipeline_depth&gt;</span>\n        <span class=\"nt\">&lt;max_ast_depth&gt;</span>50<span class=\"nt\">&lt;/max_ast_depth&gt;</span>\n        <span class=\"nt\">&lt;max_ast_elements&gt;</span>100<span class=\"nt\">&lt;/max_ast_elements&gt;</span>\n\n        <span class=\"nt\">&lt;readonly&gt;</span>1<span class=\"nt\">&lt;/readonly&gt;</span>\n    <span class=\"nt\">&lt;/web&gt;</span>\n<span class=\"nt\">&lt;/profiles&gt;</span>\n</pre></div>\n\n\n<p>The example specifies two profiles: <code>default</code> and <code>web</code>. The <code>default</code> profile has a special purpose: it must always be present and is applied when starting the server. In other words, the <code>default</code> profile contains default settings. The <code>web</code> profile is a regular profile that can be set using the <code>SET</code> query or using a URL parameter in an HTTP query.</p>\n<p>Settings profiles can inherit from each other. To use inheritance, indicate the <code>profile</code> setting before the other settings that are listed in the profile.</p>\n<p><a name=\"../../operations/utils/\"></a>\n<a name=\"utils/\"></a>\n<a name=\"../../../operations/utils/\"></a>\n<a name=\"../operations/utils/\"></a>\n<a name=\"operations/utils/\"></a>\n<a name=\"../../../../operations/utils/\"></a>\n<a name=\"../../../../../operations/utils/\"></a></p>\n<h2 id=\"clickhouse-utility\">ClickHouse Utility<a class=\"headerlink\" href=\"#clickhouse-utility\" title=\"Permanent link\">&para;</a></h2>\n<ul>\n<li><a href=\"#clickhouse-local/\">clickhouse-local</a> \u2014 Allows running SQL queries on data without stopping the ClickHouse server, similar to how <code>awk</code> does this.</li>\n<li><a href=\"#clickhouse-copier/\">clickhouse-copier</a> \u2014 Copies (and reshards) data from one cluster to another cluster.</li>\n</ul>\n<p><a name=\"clickhouse-copier/\"></a>\n<a name=\"operations/utils/clickhouse-copier/\"></a>\n<a name=\"../../../../../utils/clickhouse-copier/\"></a>\n<a name=\"../../../operations/utils/clickhouse-copier/\"></a>\n<a name=\"utils/clickhouse-copier/\"></a>\n<a name=\"../../../../../../utils/clickhouse-copier/\"></a>\n<a name=\"../../../../operations/utils/clickhouse-copier/\"></a>\n<a name=\"../../../utils/clickhouse-copier/\"></a>\n<a name=\"../operations/utils/clickhouse-copier/\"></a>\n<a name=\"../../utils/clickhouse-copier/\"></a>\n<a name=\"../../operations/utils/clickhouse-copier/\"></a>\n<a name=\"../../../../utils/clickhouse-copier/\"></a>\n<a name=\"../utils/clickhouse-copier/\"></a>\n<a name=\"../../../../../operations/utils/clickhouse-copier/\"></a></p>\n<h2 id=\"clickhouse-copier_1\">clickhouse-copier<a class=\"headerlink\" href=\"#clickhouse-copier_1\" title=\"Permanent link\">&para;</a></h2>\n<p>Copies data from the tables in one cluster to tables in another (or the same) cluster.</p>\n<p>You can run multiple <code>clickhouse-copier</code> instances on different servers to perform the same job. ZooKeeper is used for syncing the processes.</p>\n<p>After starting, <code>clickhouse-copier</code>:</p>\n<ul>\n<li>\n<p>Connects to ZooKeeper and receives:</p>\n<ul>\n<li>Copying jobs.</li>\n<li>The state of the copying jobs.</li>\n</ul>\n</li>\n<li>\n<p>It performs the jobs.</p>\n<p>Each running process chooses the \"closest\" shard of the source cluster and copies the data into the destination cluster, resharding the data if necessary.</p>\n</li>\n</ul>\n<p><code>clickhouse-copier</code> tracks the changes in ZooKeeper and applies them on the fly.</p>\n<p>To reduce network traffic, we recommend running <code>clickhouse-copier</code> on the same server where the source data is located.</p>\n<h3 id=\"running-clickhouse-copier\">Running clickhouse-copier<a class=\"headerlink\" href=\"#running-clickhouse-copier\" title=\"Permanent link\">&para;</a></h3>\n<p>The utility should be run manually:</p>\n<div class=\"codehilite\"><pre><span></span>clickhouse-copier copier --daemon --config zookeeper.xml --task-path /task/path --base-dir /path/to/dir\n</pre></div>\n\n\n<p>Parameters:</p>\n<ul>\n<li><code>daemon</code> \u2014 Starts <code>clickhouse-copier</code> in daemon mode.</li>\n<li><code>config</code> \u2014 The path to the <code>zookeeper.xml</code> file with the parameters for the connection to ZooKeeper.</li>\n<li><code>task-path</code> \u2014 The path to the ZooKeeper node. This node is used for syncing <code>clickhouse-copier</code> processes and storing tasks. Tasks are stored in <code>$task-path/description</code>.</li>\n<li><code>task-file</code> \u2014 Optional path to file with task configuration for initial upload to ZooKeeper.</li>\n<li><code>task-upload-force</code> \u2014 Force upload <code>task-file</code> even if node already exists.</li>\n<li><code>base-dir</code> \u2014 The path to logs and auxiliary files. When it starts, <code>clickhouse-copier</code> creates <code>clickhouse-copier_YYYYMMHHSS_&lt;PID&gt;</code> subdirectories in <code>$base-dir</code>. If this parameter is omitted, the directories are created in the directory where <code>clickhouse-copier</code> was launched.</li>\n</ul>\n<h3 id=\"format-of-zookeeper-xml\">Format of zookeeper.xml<a class=\"headerlink\" href=\"#format-of-zookeeper-xml\" title=\"Permanent link\">&para;</a></h3>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;yandex&gt;</span>\n    <span class=\"nt\">&lt;logger&gt;</span>\n        <span class=\"nt\">&lt;level&gt;</span>trace<span class=\"nt\">&lt;/level&gt;</span>\n        <span class=\"nt\">&lt;size&gt;</span>100M<span class=\"nt\">&lt;/size&gt;</span>\n        <span class=\"nt\">&lt;count&gt;</span>3<span class=\"nt\">&lt;/count&gt;</span>\n    <span class=\"nt\">&lt;/logger&gt;</span>\n\n    <span class=\"nt\">&lt;zookeeper&gt;</span>\n        <span class=\"nt\">&lt;node</span> <span class=\"na\">index=</span><span class=\"s\">&quot;1&quot;</span><span class=\"nt\">&gt;</span>\n            <span class=\"nt\">&lt;host&gt;</span>127.0.0.1<span class=\"nt\">&lt;/host&gt;</span>\n            <span class=\"nt\">&lt;port&gt;</span>2181<span class=\"nt\">&lt;/port&gt;</span>\n        <span class=\"nt\">&lt;/node&gt;</span>\n    <span class=\"nt\">&lt;/zookeeper&gt;</span>\n<span class=\"nt\">&lt;/yandex&gt;</span>\n</pre></div>\n\n\n<h3 id=\"configuration-of-copying-tasks\">Configuration of copying tasks<a class=\"headerlink\" href=\"#configuration-of-copying-tasks\" title=\"Permanent link\">&para;</a></h3>\n<div class=\"codehilite\"><pre><span></span><span class=\"nt\">&lt;yandex&gt;</span>\n    <span class=\"c\">&lt;!-- Configuration of clusters as in an ordinary server config --&gt;</span>\n    <span class=\"nt\">&lt;remote_servers&gt;</span>\n        <span class=\"nt\">&lt;source_cluster&gt;</span>\n            <span class=\"nt\">&lt;shard&gt;</span>\n                <span class=\"nt\">&lt;internal_replication&gt;</span>false<span class=\"nt\">&lt;/internal_replication&gt;</span>\n                    <span class=\"nt\">&lt;replica&gt;</span>\n                        <span class=\"nt\">&lt;host&gt;</span>127.0.0.1<span class=\"nt\">&lt;/host&gt;</span>\n                        <span class=\"nt\">&lt;port&gt;</span>9000<span class=\"nt\">&lt;/port&gt;</span>\n                    <span class=\"nt\">&lt;/replica&gt;</span>\n            <span class=\"nt\">&lt;/shard&gt;</span>\n            ...\n        <span class=\"nt\">&lt;/source_cluster&gt;</span>\n\n        <span class=\"nt\">&lt;destination_cluster&gt;</span>\n        ...\n        <span class=\"nt\">&lt;/destination_cluster&gt;</span>\n    <span class=\"nt\">&lt;/remote_servers&gt;</span>\n\n    <span class=\"c\">&lt;!-- How many simultaneously active workers are possible. If you run more workers superfluous workers will sleep. --&gt;</span>\n    <span class=\"nt\">&lt;max_workers&gt;</span>2<span class=\"nt\">&lt;/max_workers&gt;</span>\n\n    <span class=\"c\">&lt;!-- Setting used to fetch (pull) data from source cluster tables --&gt;</span>\n    <span class=\"nt\">&lt;settings_pull&gt;</span>\n        <span class=\"nt\">&lt;readonly&gt;</span>1<span class=\"nt\">&lt;/readonly&gt;</span>\n    <span class=\"nt\">&lt;/settings_pull&gt;</span>\n\n    <span class=\"c\">&lt;!-- Setting used to insert (push) data to destination cluster tables --&gt;</span>\n    <span class=\"nt\">&lt;settings_push&gt;</span>\n        <span class=\"nt\">&lt;readonly&gt;</span>0<span class=\"nt\">&lt;/readonly&gt;</span>\n    <span class=\"nt\">&lt;/settings_push&gt;</span>\n\n    <span class=\"c\">&lt;!-- Common setting for fetch (pull) and insert (push) operations. Also, copier process context uses it.</span>\n<span class=\"c\">         They are overlaid by &lt;settings_pull/&gt; and &lt;settings_push/&gt; respectively. --&gt;</span>\n    <span class=\"nt\">&lt;settings&gt;</span>\n        <span class=\"nt\">&lt;connect_timeout&gt;</span>3<span class=\"nt\">&lt;/connect_timeout&gt;</span>\n        <span class=\"c\">&lt;!-- Sync insert is set forcibly, leave it here just in case. --&gt;</span>\n        <span class=\"nt\">&lt;insert_distributed_sync&gt;</span>1<span class=\"nt\">&lt;/insert_distributed_sync&gt;</span>\n    <span class=\"nt\">&lt;/settings&gt;</span>\n\n    <span class=\"c\">&lt;!-- Copying tasks description.</span>\n<span class=\"c\">         You could specify several table task in the same task description (in the same ZooKeeper node), they will be performed</span>\n<span class=\"c\">         sequentially.</span>\n<span class=\"c\">    --&gt;</span>\n    <span class=\"nt\">&lt;tables&gt;</span>\n        <span class=\"c\">&lt;!-- A table task, copies one table. --&gt;</span>\n        <span class=\"nt\">&lt;table_hits&gt;</span>\n            <span class=\"c\">&lt;!-- Source cluster name (from &lt;remote_servers/&gt; section) and tables in it that should be copied --&gt;</span>\n            <span class=\"nt\">&lt;cluster_pull&gt;</span>source_cluster<span class=\"nt\">&lt;/cluster_pull&gt;</span>\n            <span class=\"nt\">&lt;database_pull&gt;</span>test<span class=\"nt\">&lt;/database_pull&gt;</span>\n            <span class=\"nt\">&lt;table_pull&gt;</span>hits<span class=\"nt\">&lt;/table_pull&gt;</span>\n\n            <span class=\"c\">&lt;!-- Destination cluster name and tables in which the data should be inserted --&gt;</span>\n            <span class=\"nt\">&lt;cluster_push&gt;</span>destination_cluster<span class=\"nt\">&lt;/cluster_push&gt;</span>\n            <span class=\"nt\">&lt;database_push&gt;</span>test<span class=\"nt\">&lt;/database_push&gt;</span>\n            <span class=\"nt\">&lt;table_push&gt;</span>hits2<span class=\"nt\">&lt;/table_push&gt;</span>\n\n            <span class=\"c\">&lt;!-- Engine of destination tables.</span>\n<span class=\"c\">                 If destination tables have not be created, workers create them using columns definition from source tables and engine</span>\n<span class=\"c\">                 definition from here.</span>\n\n<span class=\"c\">                 NOTE: If the first worker starts insert data and detects that destination partition is not empty then the partition will</span>\n<span class=\"c\">                 be dropped and refilled, take it into account if you already have some data in destination tables. You could directly</span>\n<span class=\"c\">                 specify partitions that should be copied in &lt;enabled_partitions/&gt;, they should be in quoted format like partition column of</span>\n<span class=\"c\">                 system.parts table.</span>\n<span class=\"c\">            --&gt;</span>\n            <span class=\"nt\">&lt;engine&gt;</span>\n            ENGINE=ReplicatedMergeTree(&#39;/clickhouse/tables/{cluster}/{shard}/hits2&#39;, &#39;{replica}&#39;)\n            PARTITION BY toMonday(date)\n            ORDER BY (CounterID, EventDate)\n            <span class=\"nt\">&lt;/engine&gt;</span>\n\n            <span class=\"c\">&lt;!-- Sharding key used to insert data to destination cluster --&gt;</span>\n            <span class=\"nt\">&lt;sharding_key&gt;</span>jumpConsistentHash(intHash64(UserID), 2)<span class=\"nt\">&lt;/sharding_key&gt;</span>\n\n            <span class=\"c\">&lt;!-- Optional expression that filter data while pull them from source servers --&gt;</span>\n            <span class=\"nt\">&lt;where_condition&gt;</span>CounterID != 0<span class=\"nt\">&lt;/where_condition&gt;</span>\n\n            <span class=\"c\">&lt;!-- This section specifies partitions that should be copied, other partition will be ignored.</span>\n<span class=\"c\">                 Partition names should have the same format as</span>\n<span class=\"c\">                 partition column of system.parts table (i.e. a quoted text).</span>\n<span class=\"c\">                 Since partition key of source and destination cluster could be different,</span>\n<span class=\"c\">                 these partition names specify destination partitions.</span>\n\n<span class=\"c\">                 NOTE: In spite of this section is optional (if it is not specified, all partitions will be copied),</span>\n<span class=\"c\">                 it is strictly recommended to specify them explicitly.</span>\n<span class=\"c\">                 If you already have some ready paritions on destination cluster they</span>\n<span class=\"c\">                 will be removed at the start of the copying since they will be interpeted</span>\n<span class=\"c\">                 as unfinished data from the previous copying!!!</span>\n<span class=\"c\">            --&gt;</span>\n            <span class=\"nt\">&lt;enabled_partitions&gt;</span>\n                <span class=\"nt\">&lt;partition&gt;</span>&#39;2018-02-26&#39;<span class=\"nt\">&lt;/partition&gt;</span>\n                <span class=\"nt\">&lt;partition&gt;</span>&#39;2018-03-05&#39;<span class=\"nt\">&lt;/partition&gt;</span>\n                ...\n            <span class=\"nt\">&lt;/enabled_partitions&gt;</span>\n        <span class=\"nt\">&lt;/table_hits&gt;</span>\n\n        <span class=\"c\">&lt;!-- Next table to copy. It is not copied until previous table is copying. --&gt;</span>\n        <span class=\"nt\">&lt;/table_visits&gt;</span>\n        ...\n        <span class=\"nt\">&lt;/table_visits&gt;</span>\n        ...\n    <span class=\"nt\">&lt;/tables&gt;</span>\n<span class=\"nt\">&lt;/yandex&gt;</span>\n</pre></div>\n\n\n<p><code>clickhouse-copier</code> tracks the changes in <code>/task/path/description</code> and applies them on the fly. For instance, if you change the value of <code>max_workers</code>, the number of processes running tasks will also change.</p>\n<p><a name=\"../../operations/utils/clickhouse-local/\"></a>\n<a name=\"../../../../operations/utils/clickhouse-local/\"></a>\n<a name=\"../utils/clickhouse-local/\"></a>\n<a name=\"clickhouse-local/\"></a>\n<a name=\"../operations/utils/clickhouse-local/\"></a>\n<a name=\"../../../utils/clickhouse-local/\"></a>\n<a name=\"../../../../../operations/utils/clickhouse-local/\"></a>\n<a name=\"../../../operations/utils/clickhouse-local/\"></a>\n<a name=\"../../../../../utils/clickhouse-local/\"></a>\n<a name=\"../../../../utils/clickhouse-local/\"></a>\n<a name=\"operations/utils/clickhouse-local/\"></a>\n<a name=\"../../utils/clickhouse-local/\"></a>\n<a name=\"../../../../../../utils/clickhouse-local/\"></a>\n<a name=\"utils/clickhouse-local/\"></a></p>\n<h2 id=\"clickhouse-local\">clickhouse-local<a class=\"headerlink\" href=\"#clickhouse-local\" title=\"Permanent link\">&para;</a></h2>\n<p>The <code>clickhouse-local</code> program enables you to perform fast processing on local files, without having to deploy and configure the ClickHouse server.</p>\n<p>Accepts data that represent tables and queries them using <a href=\"#../../query_language/\">ClickHouse SQL dialect</a>.</p>\n<p><code>clickhouse-local</code> uses the same core as ClickHouse server, so it supports most of the features and the same set of formats and table engines.</p>\n<p>By default <code>clickhouse-local</code> does not have access to data on the same host, but it supports loading server configuration using <code>--config-file</code> argument.</p>\n<div class=\"admonition warning\">\n<p class=\"admonition-title\">Warning</p>\n<p>It is not recommended to load production server configuration into <code>clickhouse-local</code> because data can be damaged in case of human error.</p>\n</div>\n<h3 id=\"usage\">Usage<a class=\"headerlink\" href=\"#usage\" title=\"Permanent link\">&para;</a></h3>\n<p>Basic usage:</p>\n<div class=\"codehilite\"><pre><span></span>clickhouse-local --structure <span class=\"s2\">&quot;table_structure&quot;</span> --input-format <span class=\"s2\">&quot;format_of_incoming_data&quot;</span> -q <span class=\"s2\">&quot;query&quot;</span>\n</pre></div>\n\n\n<p>Arguments:</p>\n<ul>\n<li><code>-S</code>, <code>--structure</code> \u2014 table structure for input data.</li>\n<li><code>-if</code>, <code>--input-format</code> \u2014 input format, <code>TSV</code> by default.</li>\n<li><code>-f</code>, <code>--file</code> \u2014 path to data, <code>stdin</code> by default.</li>\n<li><code>-q</code> <code>--query</code> \u2014 queries to execute with <code>;</code> as delimeter.</li>\n<li><code>-N</code>, <code>--table</code> \u2014 table name where to put output data, <code>table</code> by default.</li>\n<li><code>-of</code>, <code>--format</code>, <code>--output-format</code> \u2014 output format, <code>TSV</code> by default.</li>\n<li><code>--stacktrace</code> \u2014 whether to dump debug output in case of exception.</li>\n<li><code>--verbose</code> \u2014 more details on query execution.</li>\n<li><code>-s</code> \u2014 disables <code>stderr</code> logging.</li>\n<li><code>--config-file</code> \u2014 path to configuration file in same format as for ClickHouse server, by default the configuration empty.</li>\n<li><code>--help</code> \u2014 arguments references for <code>clickhouse-local</code>.</li>\n</ul>\n<p>Also there are arguments for each ClickHouse configuration variable which are more commonly used instead of <code>--config-file</code>.</p>\n<h3 id=\"examples_1\">Examples<a class=\"headerlink\" href=\"#examples_1\" title=\"Permanent link\">&para;</a></h3>\n<div class=\"codehilite\"><pre><span></span><span class=\"nb\">echo</span> -e <span class=\"s2\">&quot;1,2\\n3,4&quot;</span> <span class=\"p\">|</span> clickhouse-local -S <span class=\"s2\">&quot;a Int64, b Int64&quot;</span> -if <span class=\"s2\">&quot;CSV&quot;</span> -q <span class=\"s2\">&quot;SELECT * FROM table&quot;</span>\nRead <span class=\"m\">2</span> rows, <span class=\"m\">32</span>.00 B in <span class=\"m\">0</span>.000 sec., <span class=\"m\">5182</span> rows/sec., <span class=\"m\">80</span>.97 KiB/sec.\n<span class=\"m\">1</span>   <span class=\"m\">2</span>\n<span class=\"m\">3</span>   <span class=\"m\">4</span>\n</pre></div>\n\n\n<p>Previous example is the same as:</p>\n<div class=\"codehilite\"><pre><span></span>$ <span class=\"nb\">echo</span> -e <span class=\"s2\">&quot;1,2\\n3,4&quot;</span> <span class=\"p\">|</span> clickhouse-local -q <span class=\"s2\">&quot;CREATE TABLE table (a Int64, b Int64) ENGINE = File(CSV, stdin); SELECT a, b FROM table; DROP TABLE table&quot;</span>\nRead <span class=\"m\">2</span> rows, <span class=\"m\">32</span>.00 B in <span class=\"m\">0</span>.000 sec., <span class=\"m\">4987</span> rows/sec., <span class=\"m\">77</span>.93 KiB/sec.\n<span class=\"m\">1</span>   <span class=\"m\">2</span>\n<span class=\"m\">3</span>   <span class=\"m\">4</span>\n</pre></div>\n\n\n<p>Now let's output memory user for each Unix user:</p>\n<div class=\"codehilite\"><pre><span></span>$ ps aux <span class=\"p\">|</span> tail -n +2 <span class=\"p\">|</span> awk <span class=\"s1\">&#39;{ printf(&quot;%s\\t%s\\n&quot;, $1, $4) }&#39;</span> <span class=\"p\">|</span> clickhouse-local -S <span class=\"s2\">&quot;user String, mem Float64&quot;</span> -q <span class=\"s2\">&quot;SELECT user, round(sum(mem), 2) as memTotal FROM table GROUP BY user ORDER BY memTotal DESC FORMAT Pretty&quot;</span>\nRead <span class=\"m\">186</span> rows, <span class=\"m\">4</span>.15 KiB in <span class=\"m\">0</span>.035 sec., <span class=\"m\">5302</span> rows/sec., <span class=\"m\">118</span>.34 KiB/sec.\n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 user     \u2503 memTotal \u2503\n\u2521\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2529\n\u2502 bayonet  \u2502    <span class=\"m\">113</span>.5 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 root     \u2502      <span class=\"m\">8</span>.8 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n...\n</pre></div>\n\n\n<p><a name=\"faq/general/\"></a>\n<a name=\"../../../../faq/general/\"></a>\n<a name=\"../../../faq/general/\"></a>\n<a name=\"../faq/general/\"></a>\n<a name=\"../../../../../faq/general/\"></a>\n<a name=\"../../faq/general/\"></a>\n<a name=\"general/\"></a></p>\n<h2 id=\"general-questions\">General Questions<a class=\"headerlink\" href=\"#general-questions\" title=\"Permanent link\">&para;</a></h2>\n<h3 id=\"why-not-use-something-like-mapreduce\">Why Not Use Something Like MapReduce?<a class=\"headerlink\" href=\"#why-not-use-something-like-mapreduce\" title=\"Permanent link\">&para;</a></h3>\n<p>We can refer to systems like MapReduce as distributed computing systems in which the reduce operation is based on distributed sorting. The most common open source solution in this class is <a href=\"http://hadoop.apache.org\" rel=\"external nofollow\">Apache Hadoop</a>. Yandex uses their in-house solution, YT.</p>\n<p>These systems aren't appropriate for online queries due to their high latency. In other words, they can't be used as the back-end for a web interface.\nThese types of systems aren't useful for real-time data updates.\nDistributed sorting isn't the best way to perform reduce operations if the result of the operation and all the intermediate results (if there are any) are located in the RAM of a single server, which is usually the case for online queries. In such a case, a hash table is the optimal way to perform reduce operations. A common approach to optimizing map-reduce tasks is pre-aggregation (partial reduce) using a hash table in RAM. The user performs this optimization manually.\nDistributed sorting is one of the main causes of reduced performance when running simple map-reduce tasks.</p>\n<p>Most MapReduce implementations allow you to execute arbitrary code on a cluster. But a declarative query language is better suited to OLAP in order to run experiments quickly. For example, Hadoop has Hive and Pig. Also consider Cloudera Impala or Shark (outdated) for Spark, as well as Spark SQL, Presto, and Apache Drill. Performance when running such tasks is highly sub-optimal compared to specialized systems, but relatively high latency makes it unrealistic to use these systems as the backend for a web interface.</p>\n<p><a name=\"development/\"></a>\n<a name=\"../../../../../development/\"></a>\n<a name=\"../development/\"></a>\n<a name=\"../../../development/\"></a>\n<a name=\"../../development/\"></a>\n<a name=\"../../../../development/\"></a></p>\n<h2 id=\"clickhouse-development\">ClickHouse Development<a class=\"headerlink\" href=\"#clickhouse-development\" title=\"Permanent link\">&para;</a></h2>\n<p><a name=\"../../../../development/architecture/\"></a>\n<a name=\"../../../development/architecture/\"></a>\n<a name=\"architecture/\"></a>\n<a name=\"../development/architecture/\"></a>\n<a name=\"../../development/architecture/\"></a>\n<a name=\"development/architecture/\"></a>\n<a name=\"../../../../../development/architecture/\"></a></p>\n<h2 id=\"overview-of-clickhouse-architecture\">Overview of ClickHouse Architecture<a class=\"headerlink\" href=\"#overview-of-clickhouse-architecture\" title=\"Permanent link\">&para;</a></h2>\n<p>ClickHouse is a true column-oriented DBMS. Data is stored by columns, and during the execution of arrays (vectors or chunks of columns). Whenever possible, operations are dispatched on arrays, rather than on individual values. This is called \"vectorized query execution,\" and it helps lower the cost of actual data processing.</p>\n<blockquote>\n<p>This idea is nothing new. It dates back to the <code>APL</code> programming language and its descendants: <code>A +</code>, <code>J</code>, <code>K</code>, and <code>Q</code>. Array programming is used in scientific data processing. Neither is this idea something new in relational databases: for example, it is used in the <code>Vectorwise</code> system.</p>\n</blockquote>\n<p>There are two different approaches for speeding up the query processing: vectorized query execution and runtime code generation. In the latter, the code is generated for every kind of query on the fly, removing all indirection and dynamic dispatch. Neither of these approaches is strictly better than the other. Runtime code generation can be better when it fuses many operations together, thus fully utilizing CPU execution units and the pipeline. Vectorized query execution can be less practical, because it involves temporary vectors that must be written to the cache and read back. If the temporary data does not fit in the L2 cache, this becomes an issue. But vectorized query execution more easily utilizes the SIMD capabilities of the CPU. A <a href=\"http://15721.courses.cs.cmu.edu/spring2016/papers/p5-sompolski.pdf\" rel=\"external nofollow\">research paper</a> written by our friends shows that it is better to combine both approaches. ClickHouse uses vectorized query execution and has limited initial support for runtime code generation.</p>\n<h3 id=\"columns\">Columns<a class=\"headerlink\" href=\"#columns\" title=\"Permanent link\">&para;</a></h3>\n<p>To represent columns in memory (actually, chunks of columns), the <code>IColumn</code> interface is used. This interface provides helper methods for implementation of various relational operators. Almost all operations are immutable: they do not modify the original column, but create a new modified one. For example, the <code>IColumn :: filter</code> method accepts a filter byte mask. It is used for the <code>WHERE</code> and <code>HAVING</code> relational operators. Additional examples: the <code>IColumn :: permute</code> method to support <code>ORDER BY</code>, the <code>IColumn :: cut</code> method to support <code>LIMIT</code>, and so on.</p>\n<p>Various <code>IColumn</code> implementations (<code>ColumnUInt8</code>, <code>ColumnString</code> and so on) are responsible for the memory layout of columns. Memory layout is usually a contiguous array. For the integer type of columns it is just one contiguous array, like <code>std :: vector</code>. For <code>String</code> and <code>Array</code> columns, it is two vectors: one for all array elements, placed contiguously, and a second one for offsets to the beginning of each array. There is also <code>ColumnConst</code> that stores just one value in memory, but looks like a column.</p>\n<h3 id=\"field\">Field<a class=\"headerlink\" href=\"#field\" title=\"Permanent link\">&para;</a></h3>\n<p>Nevertheless, it is possible to work with individual values as well. To represent an individual value, the <code>Field</code> is used. <code>Field</code> is just a discriminated union of <code>UInt64</code>, <code>Int64</code>, <code>Float64</code>, <code>String</code> and <code>Array</code>. <code>IColumn</code> has the <code>operator[]</code> method to get the n-th value as a <code>Field</code>, and the <code>insert</code> method to append a <code>Field</code> to the end of a column. These methods are not very efficient, because they require dealing with temporary <code>Field</code> objects representing an individual value. There are more efficient methods, such as <code>insertFrom</code>, <code>insertRangeFrom</code>, and so on.</p>\n<p><code>Field</code> doesn't have enough information about a specific data type for a table. For example, <code>UInt8</code>, <code>UInt16</code>, <code>UInt32</code>, and <code>UInt64</code> are all represented as <code>UInt64</code> in a <code>Field</code>.</p>\n<h3 id=\"leaky-abstractions\">Leaky Abstractions<a class=\"headerlink\" href=\"#leaky-abstractions\" title=\"Permanent link\">&para;</a></h3>\n<p><code>IColumn</code> has methods for common relational transformations of data, but they don't meet all needs. For example, <code>ColumnUInt64</code> doesn't have a method to calculate the sum of two columns, and <code>ColumnString</code> doesn't have a method to run a substring search. These countless routines are implemented outside of <code>IColumn</code>.</p>\n<p>Various functions on columns can be implemented in a generic, non-efficient way using <code>IColumn</code> methods to extract <code>Field</code> values, or in a specialized way using knowledge of inner memory layout of data in a specific <code>IColumn</code> implementation. To do this, functions are cast to a specific <code>IColumn</code> type and deal with internal representation directly. For example, <code>ColumnUInt64</code> has the <code>getData</code> method that returns a reference to an internal array, then a separate routine reads or fills that array directly. In fact, we have \"leaky abstractions\" to allow efficient specializations of various routines.</p>\n<h3 id=\"data-types\">Data Types<a class=\"headerlink\" href=\"#data-types\" title=\"Permanent link\">&para;</a></h3>\n<p><code>IDataType</code> is responsible for serialization and deserialization: for reading and writing chunks of columns or individual values in binary or text form.\n<code>IDataType</code> directly corresponds to data types in tables. For example, there are <code>DataTypeUInt32</code>, <code>DataTypeDateTime</code>, <code>DataTypeString</code> and so on.</p>\n<p><code>IDataType</code> and <code>IColumn</code> are only loosely related to each other. Different data types can be represented in memory by the same <code>IColumn</code> implementations. For example, <code>DataTypeUInt32</code> and <code>DataTypeDateTime</code> are both represented by <code>ColumnUInt32</code> or <code>ColumnConstUInt32</code>. In addition, the same data type can be represented by different <code>IColumn</code> implementations. For example, <code>DataTypeUInt8</code> can be represented by <code>ColumnUInt8</code> or <code>ColumnConstUInt8</code>.</p>\n<p><code>IDataType</code> only stores metadata. For instance, <code>DataTypeUInt8</code> doesn't store anything at all (except vptr) and <code>DataTypeFixedString</code> stores just <code>N</code> (the size of fixed-size strings).</p>\n<p><code>IDataType</code> has helper methods for various data formats. Examples are methods to serialize a value with possible quoting, to serialize a value for JSON, and to serialize a value as part of XML format. There is no direct correspondence to data formats. For example, the different data formats <code>Pretty</code> and <code>TabSeparated</code> can use the same <code>serializeTextEscaped</code> helper method from the <code>IDataType</code> interface.</p>\n<h3 id=\"block\">Block<a class=\"headerlink\" href=\"#block\" title=\"Permanent link\">&para;</a></h3>\n<p>A <code>Block</code> is a container that represents a subset (chunk) of a table in memory. It is just a set of triples: <code>(IColumn, IDataType, column name)</code>. During query execution, data is processed by <code>Block</code>s. If we have a <code>Block</code>, we have data (in the <code>IColumn</code> object), we have information about its type (in <code>IDataType</code>) that tells us how to deal with that column, and we have the column name (either the original column name from the table, or some artificial name assigned for getting temporary results of calculations).</p>\n<p>When we calculate some function over columns in a block, we add another column with its result to the block, and we don't touch columns for arguments of the function because operations are immutable. Later, unneeded columns can be removed from the block, but not modified. This is convenient for elimination of common subexpressions.</p>\n<p>Blocks are created for every processed chunk of data. Note that for the same type of calculation, the column names and types remain the same for different blocks, and only column data changes. It is better to split block data from the block header, because small block sizes will have a high overhead of temporary strings for copying shared_ptrs and column names.</p>\n<h3 id=\"block-streams\">Block Streams<a class=\"headerlink\" href=\"#block-streams\" title=\"Permanent link\">&para;</a></h3>\n<p>Block streams are for processing data. We use streams of blocks to read data from somewhere, perform data transformations, or write data to somewhere. <code>IBlockInputStream</code> has the <code>read</code> method to fetch the next block while available. <code>IBlockOutputStream</code> has the <code>write</code> method to push the block somewhere.</p>\n<p>Streams are responsible for:</p>\n<ol>\n<li>Reading or writing to a table. The table just returns a stream for reading or writing blocks.</li>\n<li>Implementing data formats. For example, if you want to output data to a terminal in <code>Pretty</code> format, you create a block output stream where you push blocks, and it formats them.</li>\n<li>Performing data transformations. Let's say you have <code>IBlockInputStream</code> and want to create a filtered stream. You create <code>FilterBlockInputStream</code> and initialize it with your stream. Then when you pull a block from <code>FilterBlockInputStream</code>, it pulls a block from your stream, filters it, and returns the filtered block to you. Query execution pipelines are represented this way.</li>\n</ol>\n<p>There are more sophisticated transformations. For example, when you pull from <code>AggregatingBlockInputStream</code>, it reads all data from its source, aggregates it, and then returns a stream of aggregated data for you. Another example: <code>UnionBlockInputStream</code> accepts many input sources in the constructor and also a number of threads. It launches multiple threads and reads from multiple sources in parallel.</p>\n<blockquote>\n<p>Block streams use the \"pull\" approach to control flow: when you pull a block from the first stream, it consequently pulls the required blocks from nested streams, and the entire execution pipeline will work. Neither \"pull\" nor \"push\" is the best solution, because control flow is implicit, and that limits implementation of various features like simultaneous execution of multiple queries (merging many pipelines together). This limitation could be overcome with coroutines or just running extra threads that wait for each other. We may have more possibilities if we make control flow explicit: if we locate the logic for passing data from one calculation unit to another outside of those calculation units. Read this <a href=\"http://journal.stuffwithstuff.com/2013/01/13/iteration-inside-and-out/\" rel=\"external nofollow\">article</a> for more thoughts.</p>\n</blockquote>\n<p>We should note that the query execution pipeline creates temporary data at each step. We try to keep block size small enough so that temporary data fits in the CPU cache. With that assumption, writing and reading temporary data is almost free in comparison with other calculations. We could consider an alternative, which is to fuse many operations in the pipeline together, to make the pipeline as short as possible and remove much of the temporary data. This could be an advantage, but it also has drawbacks. For example, a split pipeline makes it easy to implement caching intermediate data, stealing intermediate data from similar queries running at the same time, and merging pipelines for similar queries.</p>\n<h3 id=\"formats_1\">Formats<a class=\"headerlink\" href=\"#formats_1\" title=\"Permanent link\">&para;</a></h3>\n<p>Data formats are implemented with block streams. There are \"presentational\" formats only suitable for output of data to the client, such as <code>Pretty</code> format, which provides only <code>IBlockOutputStream</code>. And there are input/output formats, such as <code>TabSeparated</code> or <code>JSONEachRow</code>.</p>\n<p>There are also row streams: <code>IRowInputStream</code> and <code>IRowOutputStream</code>. They allow you to pull/push data by individual rows, not by blocks. And they are only needed to simplify implementation of row-oriented formats. The wrappers <code>BlockInputStreamFromRowInputStream</code> and <code>BlockOutputStreamFromRowOutputStream</code> allow you to convert row-oriented streams to regular block-oriented streams.</p>\n<h3 id=\"i-o\">I/O<a class=\"headerlink\" href=\"#i-o\" title=\"Permanent link\">&para;</a></h3>\n<p>For byte-oriented input/output, there are <code>ReadBuffer</code> and <code>WriteBuffer</code> abstract classes. They are used instead of C++ <code>iostream</code>s. Don't worry: every mature C++ project is using something other than <code>iostream</code>s for good reasons.</p>\n<p><code>ReadBuffer</code> and <code>WriteBuffer</code> are just a contiguous buffer and a cursor pointing to the position in that buffer. Implementations may own or not own the memory for the buffer. There is a virtual method to fill the buffer with the following data (for <code>ReadBuffer</code>) or to flush the buffer somewhere (for <code>WriteBuffer</code>). The virtual methods are rarely called.</p>\n<p>Implementations of <code>ReadBuffer</code>/<code>WriteBuffer</code> are used for working with files and file descriptors and network sockets, for implementing compression (<code>CompressedWriteBuffer</code> is initialized with another WriteBuffer and performs compression before writing data to it), and for other purposes \u2013 the names <code>ConcatReadBuffer</code>, <code>LimitReadBuffer</code>, and <code>HashingWriteBuffer</code> speak for themselves.</p>\n<p>Read/WriteBuffers only deal with bytes. To help with formatted input/output (for instance, to write a number in decimal format), there are functions from <code>ReadHelpers</code> and <code>WriteHelpers</code> header files.</p>\n<p>Let's look at what happens when you want to write a result set in <code>JSON</code> format to stdout. You have a result set ready to be fetched from <code>IBlockInputStream</code>. You create <code>WriteBufferFromFileDescriptor(STDOUT_FILENO)</code> to write bytes to stdout. You create <code>JSONRowOutputStream</code>, initialized with that <code>WriteBuffer</code>, to write rows in <code>JSON</code> to stdout. You create <code>BlockOutputStreamFromRowOutputStream</code> on top of it, to represent it as <code>IBlockOutputStream</code>. Then you call <code>copyData</code> to transfer data from <code>IBlockInputStream</code> to <code>IBlockOutputStream</code>, and everything works. Internally, <code>JSONRowOutputStream</code> will write various JSON delimiters and call the <code>IDataType::serializeTextJSON</code> method with a reference to <code>IColumn</code> and the row number as arguments. Consequently, <code>IDataType::serializeTextJSON</code> will call a method from <code>WriteHelpers.h</code>: for example, <code>writeText</code> for numeric types and <code>writeJSONString</code> for <code>DataTypeString</code>.</p>\n<h3 id=\"tables\">Tables<a class=\"headerlink\" href=\"#tables\" title=\"Permanent link\">&para;</a></h3>\n<p>Tables are represented by the <code>IStorage</code> interface. Different implementations of that interface are different table engines. Examples are <code>StorageMergeTree</code>, <code>StorageMemory</code>, and so on. Instances of these classes are just tables.</p>\n<p>The most important <code>IStorage</code> methods are <code>read</code> and <code>write</code>. There are also <code>alter</code>, <code>rename</code>, <code>drop</code>, and so on. The <code>read</code> method accepts the following arguments: the set of columns to read from a table, the <code>AST</code> query to consider, and the desired number of streams to return. It returns one or multiple <code>IBlockInputStream</code> objects and information about the stage of data processing that was completed inside a table engine during query execution.</p>\n<p>In most cases, the read method is only responsible for reading the specified columns from a table, not for any further data processing. All further data processing is done by the query interpreter and is outside the responsibility of <code>IStorage</code>.</p>\n<p>But there are notable exceptions:</p>\n<ul>\n<li>The AST query is passed to the <code>read</code> method and the table engine can use it to derive index usage and to read less data from a table.</li>\n<li>Sometimes the table engine can process data itself to a specific stage. For example, <code>StorageDistributed</code> can send a query to remote servers, ask them to process data to a stage where data from different remote servers can be merged, and return that preprocessed data.\nThe query interpreter then finishes processing the data.</li>\n</ul>\n<p>The table's <code>read</code> method can return multiple <code>IBlockInputStream</code> objects to allow parallel data processing. These multiple block input streams can read from a table in parallel. Then you can wrap these streams with various transformations (such as expression evaluation or filtering) that can be calculated independently and create a <code>UnionBlockInputStream</code> on top of them, to read from multiple streams in parallel.</p>\n<p>There are also <code>TableFunction</code>s. These are functions that return a temporary <code>IStorage</code> object to use in the <code>FROM</code> clause of a query.</p>\n<p>To get a quick idea of how to implement your own table engine, look at something simple, like <code>StorageMemory</code> or <code>StorageTinyLog</code>.</p>\n<blockquote>\n<p>As the result of the <code>read</code> method, <code>IStorage</code> returns <code>QueryProcessingStage</code> \u2013 information about what parts of the query were already calculated inside storage. Currently we have only very coarse granularity for that information. There is no way for the storage to say \"I have already processed this part of the expression in WHERE, for this range of data\". We need to work on that.</p>\n</blockquote>\n<h3 id=\"parsers\">Parsers<a class=\"headerlink\" href=\"#parsers\" title=\"Permanent link\">&para;</a></h3>\n<p>A query is parsed by a hand-written recursive descent parser. For example, <code>ParserSelectQuery</code> just recursively calls the underlying parsers for various parts of the query. Parsers create an <code>AST</code>. The <code>AST</code> is represented by nodes, which are instances of <code>IAST</code>.</p>\n<blockquote>\n<p>Parser generators are not used for historical reasons.</p>\n</blockquote>\n<h3 id=\"interpreters\">Interpreters<a class=\"headerlink\" href=\"#interpreters\" title=\"Permanent link\">&para;</a></h3>\n<p>Interpreters are responsible for creating the query execution pipeline from an <code>AST</code>. There are simple interpreters, such as <code>InterpreterExistsQuery</code>and <code>InterpreterDropQuery</code>, or the more sophisticated <code>InterpreterSelectQuery</code>. The query execution pipeline is a combination of block input or output streams. For example, the result of interpreting the <code>SELECT</code> query is the <code>IBlockInputStream</code> to read the result set from; the result of the INSERT query is the <code>IBlockOutputStream</code> to write data for insertion to; and the result of interpreting the <code>INSERT SELECT</code> query is the <code>IBlockInputStream</code> that returns an empty result set on the first read, but that copies data from <code>SELECT</code> to <code>INSERT</code> at the same time.</p>\n<p><code>InterpreterSelectQuery</code> uses <code>ExpressionAnalyzer</code> and <code>ExpressionActions</code> machinery for query analysis and transformations. This is where most rule-based query optimizations are done. <code>ExpressionAnalyzer</code> is quite messy and should be rewritten: various query transformations and optimizations should be extracted to separate classes to allow modular transformations or query.</p>\n<h3 id=\"functions_2\">Functions<a class=\"headerlink\" href=\"#functions_2\" title=\"Permanent link\">&para;</a></h3>\n<p>There are ordinary functions and aggregate functions. For aggregate functions, see the next section.</p>\n<p>Ordinary functions don't change the number of rows \u2013 they work as if they are processing each row independently. In fact, functions are not called for individual rows, but for <code>Block</code>'s of data to implement vectorized query execution.</p>\n<p>There are some miscellaneous functions, like <code>blockSize</code>, <code>rowNumberInBlock</code>, and <code>runningAccumulate</code>, that exploit block processing and violate the independence of rows.</p>\n<p>ClickHouse has strong typing, so implicit type conversion doesn't occur. If a function doesn't support a specific combination of types, an exception will be thrown. But functions can work (be overloaded) for many different combinations of types. For example, the <code>plus</code> function (to implement the <code>+</code> operator) works for any combination of numeric types: <code>UInt8</code> + <code>Float32</code>, <code>UInt16</code> + <code>Int8</code>, and so on. Also, some variadic functions can accept any number of arguments, such as the <code>concat</code> function.</p>\n<p>Implementing a function may be slightly inconvenient because a function explicitly dispatches supported data types and supported <code>IColumns</code>. For example, the <code>plus</code> function has code generated by instantiation of a C++ template for each combination of numeric types, and for constant or non-constant left and right arguments.</p>\n<blockquote>\n<p>This is a nice place to implement runtime code generation to avoid template code bloat. Also, it will make it possible to add fused functions like fused multiply-add, or to make multiple comparisons in one loop iteration.</p>\n</blockquote>\n<p>Due to vectorized query execution, functions are not short-circuit. For example, if you write <code>WHERE f(x) AND g(y)</code>, both sides will be calculated, even for rows, when <code>f(x)</code> is zero (except when <code>f(x)</code> is a zero constant expression). But if selectivity of the <code>f(x)</code> condition is high, and calculation of <code>f(x)</code> is much cheaper than <code>g(y)</code>, it's better to implement multi-pass calculation: first calculate <code>f(x)</code>, then filter columns by the result, and then calculate <code>g(y)</code> only for smaller, filtered chunks of data.</p>\n<h3 id=\"aggregate-functions\">Aggregate Functions<a class=\"headerlink\" href=\"#aggregate-functions\" title=\"Permanent link\">&para;</a></h3>\n<p>Aggregate functions are stateful functions. They accumulate passed values into some state, and allow you to get results from that state. They are managed with the <code>IAggregateFunction</code> interface. States can be rather simple (the state for <code>AggregateFunctionCount</code> is just a single <code>UInt64</code> value) or quite complex (the state of <code>AggregateFunctionUniqCombined</code> is a combination of a linear array, a hash table and a <code>HyperLogLog</code> probabilistic data structure).</p>\n<p>To deal with multiple states while executing a high-cardinality <code>GROUP BY</code> query, states are allocated in <code>Arena</code> (a memory pool), or they could be allocated in any suitable piece of memory. States can have a non-trivial constructor and destructor: for example, complex aggregation states can allocate additional memory themselves. This requires some attention to creating and destroying states and properly passing their ownership, to keep track of who and when will destroy states.</p>\n<p>Aggregation states can be serialized and deserialized to pass over the network during distributed query execution or to write them on disk where there is not enough RAM. They can even be stored in a table with the <code>DataTypeAggregateFunction</code> to allow incremental aggregation of data.</p>\n<blockquote>\n<p>The serialized data format for aggregate function states is not versioned right now. This is ok if aggregate states are only stored temporarily. But we have the <code>AggregatingMergeTree</code> table engine for incremental aggregation, and people are already using it in production. This is why we should add support for backward compatibility when changing the serialized format for any aggregate function in the future.</p>\n</blockquote>\n<h3 id=\"server\">Server<a class=\"headerlink\" href=\"#server\" title=\"Permanent link\">&para;</a></h3>\n<p>The server implements several different interfaces:</p>\n<ul>\n<li>An HTTP interface for any foreign clients.</li>\n<li>A TCP interface for the native ClickHouse client and for cross-server communication during distributed query execution.</li>\n<li>An interface for transferring data for replication.</li>\n</ul>\n<p>Internally, it is just a basic multithreaded server without coroutines, fibers, etc. Since the server is not designed to process a high rate of simple queries but is intended to process a relatively low rate of complex queries, each of them can process a vast amount of data for analytics.</p>\n<p>The server initializes the <code>Context</code> class with the necessary environment for query execution: the list of available databases, users and access rights, settings, clusters, the process list, the query log, and so on. This environment is used by interpreters.</p>\n<p>We maintain full backward and forward compatibility for the server TCP protocol: old clients can talk to new servers and new clients can talk to old servers. But we don't want to maintain it eternally, and we are removing support for old versions after about one year.</p>\n<blockquote>\n<p>For all external applications, we recommend using the HTTP interface because it is simple and easy to use. The TCP protocol is more tightly linked to internal data structures: it uses an internal format for passing blocks of data and it uses custom framing for compressed data. We haven't released a C library for that protocol because it requires linking most of the ClickHouse codebase, which is not practical.</p>\n</blockquote>\n<h3 id=\"distributed-query-execution\">Distributed Query Execution<a class=\"headerlink\" href=\"#distributed-query-execution\" title=\"Permanent link\">&para;</a></h3>\n<p>Servers in a cluster setup are mostly independent. You can create a <code>Distributed</code> table on one or all servers in a cluster. The <code>Distributed</code> table does not store data itself \u2013 it only provides a \"view\" to all local tables on multiple nodes of a cluster. When you SELECT from a <code>Distributed</code> table, it rewrites that query, chooses remote nodes according to load balancing settings, and sends the query to them. The <code>Distributed</code> table requests remote servers to process a query just up to a stage where intermediate results from different servers can be merged. Then it receives the intermediate results and merges them. The distributed table tries to distribute as much work as possible to remote servers, and does not send much intermediate data over the network.</p>\n<blockquote>\n<p>Things become more complicated when you have subqueries in IN or JOIN clauses and each of them uses a <code>Distributed</code> table. We have different strategies for execution of these queries.</p>\n</blockquote>\n<p>There is no global query plan for distributed query execution. Each node has its own local query plan for its part of the job. We only have simple one-pass distributed query execution: we send queries for remote nodes and then merge the results. But this is not feasible for difficult queries with high cardinality GROUP BYs or with a large amount of temporary data for JOIN: in such cases, we need to \"reshuffle\" data between servers, which requires additional coordination. ClickHouse does not support that kind of query execution, and we need to work on it.</p>\n<h3 id=\"merge-tree\">Merge Tree<a class=\"headerlink\" href=\"#merge-tree\" title=\"Permanent link\">&para;</a></h3>\n<p><code>MergeTree</code> is a family of storage engines that supports indexing by primary key. The primary key can be an arbitary tuple of columns or expressions. Data in a <code>MergeTree</code> table is stored in \"parts\". Each part stores data in the primary key order (data is ordered lexicographically by the primary key tuple). All the table columns are stored in separate <code>column.bin</code> files in these parts. The files consist of compressed blocks. Each block is usually from 64 KB to 1 MB of uncompressed data, depending on the average value size. The blocks consist of column values placed contiguously one after the other. Column values are in the same order for each column (the order is defined by the primary key), so when you iterate by many columns, you get values for the corresponding rows.</p>\n<p>The primary key itself is \"sparse\". It doesn't address each single row, but only some ranges of data. A separate <code>primary.idx</code> file has the value of the primary key for each N-th row, where N is called <code>index_granularity</code> (usually, N = 8192). Also, for each column, we have <code>column.mrk</code> files with \"marks,\" which are offsets to each N-th row in the data file. Each mark is a pair: the offset in the file to the beginning of the compressed block, and the offset in the decompressed block to the beginning of data. Usually compressed blocks are aligned by marks, and the offset in the decompressed block is zero. Data for <code>primary.idx</code> always resides in memory and data for <code>column.mrk</code> files is cached.</p>\n<p>When we are going to read something from a part in <code>MergeTree</code>, we look at <code>primary.idx</code> data and locate ranges that could possibly contain requested data, then look at <code>column.mrk</code> data and calculate offsets for where to start reading those ranges. Because of sparseness, excess data may be read. ClickHouse is not suitable for a high load of simple point queries, because the entire range with <code>index_granularity</code> rows must be read for each key, and the entire compressed block must be decompressed for each column. We made the index sparse because we must be able to maintain trillions of rows per single server without noticeable memory consumption for the index. Also, because the primary key is sparse, it is not unique: it cannot check the existence of the key in the table at INSERT time. You could have many rows with the same key in a table.</p>\n<p>When you <code>INSERT</code> a bunch of data into <code>MergeTree</code>, that bunch is sorted by primary key order and forms a new part. To keep the number of parts relatively low, there are background threads that periodically select some parts and merge them to a single sorted part. That's why it is called <code>MergeTree</code>. Of course, merging leads to \"write amplification\". All parts are immutable: they are only created and deleted, but not modified. When SELECT is run, it holds a snapshot of the table (a set of parts). After merging, we also keep old parts for some time to make recovery after failure easier, so if we see that some merged part is probably broken, we can replace it with its source parts.</p>\n<p><code>MergeTree</code> is not an LSM tree because it doesn't contain \"memtable\" and \"log\": inserted data is written directly to the filesystem. This makes it suitable only to INSERT data in batches, not by individual row and not very frequently \u2013 about once per second is ok, but a thousand times a second is not. We did it this way for simplicity's sake, and because we are already inserting data in batches in our applications.</p>\n<blockquote>\n<p>MergeTree tables can only have one (primary) index: there aren't any secondary indices. It would be nice to allow multiple physical representations under one logical table, for example, to store data in more than one physical order or even to allow representations with pre-aggregated data along with original data.</p>\n</blockquote>\n<p>There are MergeTree engines that are doing additional work during background merges. Examples are <code>CollapsingMergeTree</code> and <code>AggregatingMergeTree</code>. This could be treated as special support for updates. Keep in mind that these are not real updates because users usually have no control over the time when background merges will be executed, and data in a <code>MergeTree</code> table is almost always stored in more than one part, not in completely merged form.</p>\n<h3 id=\"replication\">Replication<a class=\"headerlink\" href=\"#replication\" title=\"Permanent link\">&para;</a></h3>\n<p>Replication in ClickHouse is implemented on a per-table basis. You could have some replicated and some non-replicated tables on the same server. You could also have tables replicated in different ways, such as one table with two-factor replication and another with three-factor.</p>\n<p>Replication is implemented in the <code>ReplicatedMergeTree</code> storage engine. The path in <code>ZooKeeper</code> is specified as a parameter for the storage engine. All tables with the same path in <code>ZooKeeper</code> become replicas of each other: they synchronize their data and maintain consistency. Replicas can be added and removed dynamically simply by creating or dropping a table.</p>\n<p>Replication uses an asynchronous multi-master scheme. You can insert data into any replica that has a session with <code>ZooKeeper</code>, and data is replicated to all other replicas asynchronously. Because ClickHouse doesn't support UPDATEs, replication is conflict-free. As there is no quorum acknowledgment of inserts, just-inserted data might be lost if one node fails.</p>\n<p>Metadata for replication is stored in ZooKeeper. There is a replication log that lists what actions to do. Actions are: get part; merge parts; drop partition, etc. Each replica copies the replication log to its queue and then executes the actions from the queue. For example, on insertion, the \"get part\" action is created in the log, and every replica downloads that part. Merges are coordinated between replicas to get byte-identical results. All parts are merged in the same way on all replicas. To achieve this, one replica is elected as the leader, and that replica initiates merges and writes \"merge parts\" actions to the log.</p>\n<p>Replication is physical: only compressed parts are transferred between nodes, not queries. To lower the network cost (to avoid network amplification), merges are processed on each replica independently in most cases. Large merged parts are sent over the network only in cases of significant replication lag.</p>\n<p>In addition, each replica stores its state in ZooKeeper as the set of parts and its checksums. When the state on the local filesystem diverges from the reference state in ZooKeeper, the replica restores its consistency by downloading missing and broken parts from other replicas. When there is some unexpected or broken data in the local filesystem, ClickHouse does not remove it, but moves it to a separate directory and forgets it.</p>\n<blockquote>\n<p>The ClickHouse cluster consists of independent shards, and each shard consists of replicas. The cluster is not elastic, so after adding a new shard, data is not rebalanced between shards automatically. Instead, the cluster load will be uneven. This implementation gives you more control, and it is fine for relatively small clusters such as tens of nodes. But for clusters with hundreds of nodes that we are using in production, this approach becomes a significant drawback. We should implement a table engine that will span its data across the cluster with dynamically replicated regions that could be split and balanced between clusters automatically.</p>\n</blockquote>\n<p><a name=\"../../development/build/\"></a>\n<a name=\"../development/build/\"></a>\n<a name=\"../../../../../development/build/\"></a>\n<a name=\"development/build/\"></a>\n<a name=\"build/\"></a>\n<a name=\"../../../development/build/\"></a>\n<a name=\"../../../../development/build/\"></a></p>\n<h2 id=\"how-to-build-clickhouse-release-package\">How to Build ClickHouse Release Package<a class=\"headerlink\" href=\"#how-to-build-clickhouse-release-package\" title=\"Permanent link\">&para;</a></h2>\n<h3 id=\"install-git-and-pbuilder\">Install Git and Pbuilder<a class=\"headerlink\" href=\"#install-git-and-pbuilder\" title=\"Permanent link\">&para;</a></h3>\n<div class=\"codehilite\"><pre><span></span>sudo apt-get update\nsudo apt-get install git pbuilder debhelper lsb-release fakeroot sudo debian-archive-keyring debian-keyring\n</pre></div>\n\n\n<h3 id=\"checkout-clickhouse-sources\">Checkout ClickHouse Sources<a class=\"headerlink\" href=\"#checkout-clickhouse-sources\" title=\"Permanent link\">&para;</a></h3>\n<div class=\"codehilite\"><pre><span></span>git clone --recursive --branch stable https://github.com/yandex/ClickHouse.git\n<span class=\"nb\">cd</span> ClickHouse\n</pre></div>\n\n\n<h3 id=\"run-release-script\">Run Release Script<a class=\"headerlink\" href=\"#run-release-script\" title=\"Permanent link\">&para;</a></h3>\n<div class=\"codehilite\"><pre><span></span>./release\n</pre></div>\n\n\n<h2 id=\"how-to-build-clickhouse-for-development\">How to Build ClickHouse for Development<a class=\"headerlink\" href=\"#how-to-build-clickhouse-for-development\" title=\"Permanent link\">&para;</a></h2>\n<p>The following tutorial is based on the Ubuntu Linux system.\nWith appropriate changes, it should also work on any other Linux distribution.\nOnly x86_64 with SSE 4.2 is supported. Support for AArch64 is experimental.</p>\n<p>To test for SSE 4.2, do</p>\n<div class=\"codehilite\"><pre><span></span>grep -q sse4_2 /proc/cpuinfo <span class=\"o\">&amp;&amp;</span> <span class=\"nb\">echo</span> <span class=\"s2\">&quot;SSE 4.2 supported&quot;</span> <span class=\"o\">||</span> <span class=\"nb\">echo</span> <span class=\"s2\">&quot;SSE 4.2 not supported&quot;</span>\n</pre></div>\n\n\n<h3 id=\"install-git-and-cmake\">Install Git and CMake<a class=\"headerlink\" href=\"#install-git-and-cmake\" title=\"Permanent link\">&para;</a></h3>\n<div class=\"codehilite\"><pre><span></span>sudo apt-get install git cmake ninja-build\n</pre></div>\n\n\n<p>Or cmake3 instead of cmake on older systems.</p>\n<h3 id=\"install-gcc-7\">Install GCC 7<a class=\"headerlink\" href=\"#install-gcc-7\" title=\"Permanent link\">&para;</a></h3>\n<p>There are several ways to do this.</p>\n<h4 id=\"install-from-a-ppa-package\">Install from a PPA Package<a class=\"headerlink\" href=\"#install-from-a-ppa-package\" title=\"Permanent link\">&para;</a></h4>\n<div class=\"codehilite\"><pre><span></span>sudo apt-get install software-properties-common\nsudo apt-add-repository ppa:ubuntu-toolchain-r/test\nsudo apt-get update\nsudo apt-get install gcc-7 g++-7\n</pre></div>\n\n\n<h4 id=\"install-from-sources\">Install from Sources<a class=\"headerlink\" href=\"#install-from-sources\" title=\"Permanent link\">&para;</a></h4>\n<p>Look at <a href=\"https://github.com/yandex/ClickHouse/blob/master/ci/build-gcc-from-sources.sh\" rel=\"external nofollow\">ci/build-gcc-from-sources.sh</a></p>\n<h3 id=\"use-gcc-7-for-builds\">Use GCC 7 for Builds<a class=\"headerlink\" href=\"#use-gcc-7-for-builds\" title=\"Permanent link\">&para;</a></h3>\n<div class=\"codehilite\"><pre><span></span><span class=\"nb\">export</span> <span class=\"nv\">CC</span><span class=\"o\">=</span>gcc-7\n<span class=\"nb\">export</span> <span class=\"nv\">CXX</span><span class=\"o\">=</span>g++-7\n</pre></div>\n\n\n<h3 id=\"install-required-libraries-from-packages\">Install Required Libraries from Packages<a class=\"headerlink\" href=\"#install-required-libraries-from-packages\" title=\"Permanent link\">&para;</a></h3>\n<div class=\"codehilite\"><pre><span></span>sudo apt-get install libicu-dev libreadline-dev\n</pre></div>\n\n\n<h3 id=\"checkout-clickhouse-sources_1\">Checkout ClickHouse Sources<a class=\"headerlink\" href=\"#checkout-clickhouse-sources_1\" title=\"Permanent link\">&para;</a></h3>\n<div class=\"codehilite\"><pre><span></span>git clone --recursive git@github.com:yandex/ClickHouse.git\n<span class=\"c1\">## or: git clone --recursive https://github.com/yandex/ClickHouse.git</span>\n\n<span class=\"nb\">cd</span> ClickHouse\n</pre></div>\n\n\n<p>For the latest stable version, switch to the <code>stable</code> branch.</p>\n<h3 id=\"build-clickhouse\">Build ClickHouse<a class=\"headerlink\" href=\"#build-clickhouse\" title=\"Permanent link\">&para;</a></h3>\n<div class=\"codehilite\"><pre><span></span>mkdir build\n<span class=\"nb\">cd</span> build\ncmake ..\nninja\n<span class=\"nb\">cd</span> ..\n</pre></div>\n\n\n<p>To create an executable, run <code>ninja clickhouse</code>.\nThis will create the <code>dbms/programs/clickhouse</code> executable, which can be used with <code>client</code> or <code>server</code> arguments.</p>\n<p><a name=\"development/build_osx/\"></a>\n<a name=\"../../../../development/build_osx/\"></a>\n<a name=\"../../development/build_osx/\"></a>\n<a name=\"build_osx/\"></a>\n<a name=\"../../../development/build_osx/\"></a>\n<a name=\"../development/build_osx/\"></a>\n<a name=\"../../../../../development/build_osx/\"></a></p>\n<h2 id=\"how-to-build-clickhouse-on-mac-os-x\">How to Build ClickHouse on Mac OS X<a class=\"headerlink\" href=\"#how-to-build-clickhouse-on-mac-os-x\" title=\"Permanent link\">&para;</a></h2>\n<p>Build should work on Mac OS X 10.12.</p>\n<h3 id=\"install-homebrew\">Install Homebrew<a class=\"headerlink\" href=\"#install-homebrew\" title=\"Permanent link\">&para;</a></h3>\n<div class=\"codehilite\"><pre><span></span>/usr/bin/ruby -e <span class=\"s2\">&quot;</span><span class=\"k\">$(</span>curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install<span class=\"k\">)</span><span class=\"s2\">&quot;</span>\n</pre></div>\n\n\n<h3 id=\"install-required-compilers-tools-and-libraries\">Install Required Compilers, Tools, and Libraries<a class=\"headerlink\" href=\"#install-required-compilers-tools-and-libraries\" title=\"Permanent link\">&para;</a></h3>\n<div class=\"codehilite\"><pre><span></span>brew install cmake ninja gcc icu4c openssl libtool gettext readline\n</pre></div>\n\n\n<h3 id=\"checkout-clickhouse-sources_2\">Checkout ClickHouse Sources<a class=\"headerlink\" href=\"#checkout-clickhouse-sources_2\" title=\"Permanent link\">&para;</a></h3>\n<div class=\"codehilite\"><pre><span></span>git clone --recursive git@github.com:yandex/ClickHouse.git\n<span class=\"c1\">## or: git clone --recursive https://github.com/yandex/ClickHouse.git</span>\n\n<span class=\"nb\">cd</span> ClickHouse\n</pre></div>\n\n\n<p>For the latest stable version, switch to the <code>stable</code> branch.</p>\n<h3 id=\"build-clickhouse_1\">Build ClickHouse<a class=\"headerlink\" href=\"#build-clickhouse_1\" title=\"Permanent link\">&para;</a></h3>\n<div class=\"codehilite\"><pre><span></span>mkdir build\n<span class=\"nb\">cd</span> build\ncmake .. -DCMAKE_CXX_COMPILER<span class=\"o\">=</span><span class=\"sb\">`</span>which g++-8<span class=\"sb\">`</span> -DCMAKE_C_COMPILER<span class=\"o\">=</span><span class=\"sb\">`</span>which gcc-8<span class=\"sb\">`</span>\nninja\n<span class=\"nb\">cd</span> ..\n</pre></div>\n\n\n<h3 id=\"caveats\">Caveats<a class=\"headerlink\" href=\"#caveats\" title=\"Permanent link\">&para;</a></h3>\n<p>If you intend to run clickhouse-server, make sure to increase the system's maxfiles variable.</p>\n<div class=\"admonition info\">\n<p class=\"admonition-title\">Note</p>\n<p>You'll need to use sudo.</p>\n</div>\n<p>To do so, create the following file:</p>\n<p>/Library/LaunchDaemons/limit.maxfiles.plist:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"cp\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>\n<span class=\"cp\">&lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot;</span>\n<span class=\"cp\">        &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;&gt;</span>\n<span class=\"nt\">&lt;plist</span> <span class=\"na\">version=</span><span class=\"s\">&quot;1.0&quot;</span><span class=\"nt\">&gt;</span>\n  <span class=\"nt\">&lt;dict&gt;</span>\n    <span class=\"nt\">&lt;key&gt;</span>Label<span class=\"nt\">&lt;/key&gt;</span>\n    <span class=\"nt\">&lt;string&gt;</span>limit.maxfiles<span class=\"nt\">&lt;/string&gt;</span>\n    <span class=\"nt\">&lt;key&gt;</span>ProgramArguments<span class=\"nt\">&lt;/key&gt;</span>\n    <span class=\"nt\">&lt;array&gt;</span>\n      <span class=\"nt\">&lt;string&gt;</span>launchctl<span class=\"nt\">&lt;/string&gt;</span>\n      <span class=\"nt\">&lt;string&gt;</span>limit<span class=\"nt\">&lt;/string&gt;</span>\n      <span class=\"nt\">&lt;string&gt;</span>maxfiles<span class=\"nt\">&lt;/string&gt;</span>\n      <span class=\"nt\">&lt;string&gt;</span>524288<span class=\"nt\">&lt;/string&gt;</span>\n      <span class=\"nt\">&lt;string&gt;</span>524288<span class=\"nt\">&lt;/string&gt;</span>\n    <span class=\"nt\">&lt;/array&gt;</span>\n    <span class=\"nt\">&lt;key&gt;</span>RunAtLoad<span class=\"nt\">&lt;/key&gt;</span>\n    <span class=\"nt\">&lt;true/&gt;</span>\n    <span class=\"nt\">&lt;key&gt;</span>ServiceIPC<span class=\"nt\">&lt;/key&gt;</span>\n    <span class=\"nt\">&lt;false/&gt;</span>\n  <span class=\"nt\">&lt;/dict&gt;</span>\n<span class=\"nt\">&lt;/plist&gt;</span>\n</pre></div>\n\n\n<p>Execute the following command:</p>\n<div class=\"codehilite\"><pre><span></span>$ sudo chown root:wheel /Library/LaunchDaemons/limit.maxfiles.plist\n</pre></div>\n\n\n<p>Reboot.</p>\n<p>To check if it's working, you can use <code>ulimit -n</code> command.</p>\n<p><a name=\"../development/style/\"></a>\n<a name=\"../../development/style/\"></a>\n<a name=\"../../../../development/style/\"></a>\n<a name=\"development/style/\"></a>\n<a name=\"../../../../../development/style/\"></a>\n<a name=\"style/\"></a>\n<a name=\"../../../development/style/\"></a></p>\n<h2 id=\"how-to-write-c-code\">How to Write C++ Code<a class=\"headerlink\" href=\"#how-to-write-c-code\" title=\"Permanent link\">&para;</a></h2>\n<h3 id=\"general-recommendations\">General Recommendations<a class=\"headerlink\" href=\"#general-recommendations\" title=\"Permanent link\">&para;</a></h3>\n<p><strong>1.</strong> The following are recommendations, not requirements.</p>\n<p><strong>2.</strong> If you are editing code, it makes sense to follow the formatting of the existing code.</p>\n<p><strong>3.</strong> Code style is needed for consistency. Consistency makes it easier to read the code, and it also makes it easier to search the code.</p>\n<p><strong>4.</strong> Many of the rules do not have logical reasons; they are dictated by established practices.</p>\n<h3 id=\"formatting\">Formatting<a class=\"headerlink\" href=\"#formatting\" title=\"Permanent link\">&para;</a></h3>\n<p><strong>1.</strong> Most of the formatting will be done automatically by <code>clang-format</code>.</p>\n<p><strong>2.</strong> Indents are 4 spaces. Configure your development environment so that a tab adds four spaces.</p>\n<p><strong>3.</strong> Opening and closing curly brackets must be on a separate line.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kr\">inline</span> <span class=\"kt\">void</span> <span class=\"nf\">readBoolText</span><span class=\"p\">(</span><span class=\"kt\">bool</span> <span class=\"o\">&amp;</span> <span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"n\">ReadBuffer</span> <span class=\"o\">&amp;</span> <span class=\"n\">buf</span><span class=\"p\">)</span>\n<span class=\"p\">{</span>\n    <span class=\"kt\">char</span> <span class=\"n\">tmp</span> <span class=\"o\">=</span> <span class=\"sc\">&#39;0&#39;</span><span class=\"p\">;</span>\n    <span class=\"n\">readChar</span><span class=\"p\">(</span><span class=\"n\">tmp</span><span class=\"p\">,</span> <span class=\"n\">buf</span><span class=\"p\">);</span>\n    <span class=\"n\">x</span> <span class=\"o\">=</span> <span class=\"n\">tmp</span> <span class=\"o\">!=</span> <span class=\"sc\">&#39;0&#39;</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n\n<p><strong>4.</strong> If the entire function body is a single <code>statement</code>, it can be placed on a single line. Place spaces around curly braces (besides the space at the end of the line).</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kr\">inline</span> <span class=\"kt\">size_t</span> <span class=\"nf\">mask</span><span class=\"p\">()</span> <span class=\"k\">const</span>                <span class=\"p\">{</span> <span class=\"k\">return</span> <span class=\"n\">buf_size</span><span class=\"p\">()</span> <span class=\"o\">-</span> <span class=\"mi\">1</span><span class=\"p\">;</span> <span class=\"p\">}</span>\n<span class=\"kr\">inline</span> <span class=\"kt\">size_t</span> <span class=\"nf\">place</span><span class=\"p\">(</span><span class=\"n\">HashValue</span> <span class=\"n\">x</span><span class=\"p\">)</span> <span class=\"k\">const</span>    <span class=\"p\">{</span> <span class=\"k\">return</span> <span class=\"n\">x</span> <span class=\"o\">&amp;</span> <span class=\"n\">mask</span><span class=\"p\">();</span> <span class=\"p\">}</span>\n</pre></div>\n\n\n<p><strong>5.</strong> For functions. Don't put spaces around brackets.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kt\">void</span> <span class=\"n\">reinsert</span><span class=\"p\">(</span><span class=\"k\">const</span> <span class=\"n\">Value</span> <span class=\"o\">&amp;</span> <span class=\"n\">x</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">memcpy</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">buf</span><span class=\"p\">[</span><span class=\"n\">place_value</span><span class=\"p\">],</span> <span class=\"o\">&amp;</span><span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"k\">sizeof</span><span class=\"p\">(</span><span class=\"n\">x</span><span class=\"p\">));</span>\n</pre></div>\n\n\n<p><strong>6.</strong> In <code>if</code>, <code>for</code>, <code>while</code> and other expressions, a space is inserted in front of the opening bracket (as opposed to function calls).</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">for</span> <span class=\"p\">(</span><span class=\"kt\">size_t</span> <span class=\"n\">i</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">;</span> <span class=\"n\">i</span> <span class=\"o\">&lt;</span> <span class=\"n\">rows</span><span class=\"p\">;</span> <span class=\"n\">i</span> <span class=\"o\">+=</span> <span class=\"n\">storage</span><span class=\"p\">.</span><span class=\"n\">index_granularity</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p><strong>7.</strong> Add spaces around binary operators (<code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>, <code>%</code>, ...) and the ternary operator <code>?:</code>.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">UInt16</span> <span class=\"n\">year</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span> <span class=\"o\">-</span> <span class=\"sc\">&#39;0&#39;</span><span class=\"p\">)</span> <span class=\"o\">*</span> <span class=\"mi\">1000</span> <span class=\"o\">+</span> <span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]</span> <span class=\"o\">-</span> <span class=\"sc\">&#39;0&#39;</span><span class=\"p\">)</span> <span class=\"o\">*</span> <span class=\"mi\">100</span> <span class=\"o\">+</span> <span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">]</span> <span class=\"o\">-</span> <span class=\"sc\">&#39;0&#39;</span><span class=\"p\">)</span> <span class=\"o\">*</span> <span class=\"mi\">10</span> <span class=\"o\">+</span> <span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">[</span><span class=\"mi\">3</span><span class=\"p\">]</span> <span class=\"o\">-</span> <span class=\"sc\">&#39;0&#39;</span><span class=\"p\">);</span>\n<span class=\"n\">UInt8</span> <span class=\"n\">month</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">[</span><span class=\"mi\">5</span><span class=\"p\">]</span> <span class=\"o\">-</span> <span class=\"sc\">&#39;0&#39;</span><span class=\"p\">)</span> <span class=\"o\">*</span> <span class=\"mi\">10</span> <span class=\"o\">+</span> <span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">[</span><span class=\"mi\">6</span><span class=\"p\">]</span> <span class=\"o\">-</span> <span class=\"sc\">&#39;0&#39;</span><span class=\"p\">);</span>\n<span class=\"n\">UInt8</span> <span class=\"n\">day</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">[</span><span class=\"mi\">8</span><span class=\"p\">]</span> <span class=\"o\">-</span> <span class=\"sc\">&#39;0&#39;</span><span class=\"p\">)</span> <span class=\"o\">*</span> <span class=\"mi\">10</span> <span class=\"o\">+</span> <span class=\"p\">(</span><span class=\"n\">s</span><span class=\"p\">[</span><span class=\"mi\">9</span><span class=\"p\">]</span> <span class=\"o\">-</span> <span class=\"sc\">&#39;0&#39;</span><span class=\"p\">);</span>\n</pre></div>\n\n\n<p><strong>8.</strong> If a line feed is entered, put the operator on a new line and increase the indent before it.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"n\">elapsed_ns</span><span class=\"p\">)</span>\n    <span class=\"n\">message</span> <span class=\"o\">&lt;&lt;</span> <span class=\"s\">&quot; (&quot;</span>\n        <span class=\"o\">&lt;&lt;</span> <span class=\"n\">rows_read_on_server</span> <span class=\"o\">*</span> <span class=\"mi\">1000000000</span> <span class=\"o\">/</span> <span class=\"n\">elapsed_ns</span> <span class=\"o\">&lt;&lt;</span> <span class=\"s\">&quot; rows/s., &quot;</span>\n        <span class=\"o\">&lt;&lt;</span> <span class=\"n\">bytes_read_on_server</span> <span class=\"o\">*</span> <span class=\"mf\">1000.0</span> <span class=\"o\">/</span> <span class=\"n\">elapsed_ns</span> <span class=\"o\">&lt;&lt;</span> <span class=\"s\">&quot; MB/s.) &quot;</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<p><strong>9.</strong> You can use spaces for alignment within a line, if desired.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">dst</span><span class=\"p\">.</span><span class=\"n\">ClickLogID</span>         <span class=\"o\">=</span> <span class=\"n\">click</span><span class=\"p\">.</span><span class=\"n\">LogID</span><span class=\"p\">;</span>\n<span class=\"n\">dst</span><span class=\"p\">.</span><span class=\"n\">ClickEventID</span>       <span class=\"o\">=</span> <span class=\"n\">click</span><span class=\"p\">.</span><span class=\"n\">EventID</span><span class=\"p\">;</span>\n<span class=\"n\">dst</span><span class=\"p\">.</span><span class=\"n\">ClickGoodEvent</span>     <span class=\"o\">=</span> <span class=\"n\">click</span><span class=\"p\">.</span><span class=\"n\">GoodEvent</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<p><strong>10.</strong> Don't use spaces around the operators <code>.</code>, <code>-&gt;</code>.</p>\n<p>If necessary, the operator can be wrapped to the next line. In this case, the offset in front of it is increased.</p>\n<p><strong>11.</strong> Do not use a space to separate unary operators (<code>--</code>, <code>++</code>, <code>*</code>, <code>&amp;</code>, ...) from the argument.</p>\n<p><strong>12.</strong> Put a space after a comma, but not before it. The same rule goes for a semicolon inside a <code>for</code> expression.</p>\n<p><strong>13.</strong> Do not use spaces to separate the <code>[]</code> operator.</p>\n<p><strong>14.</strong> In a <code>template &lt;...&gt;</code> expression, use a space between <code>template</code> and <code>&lt;</code>; no spaces after <code>&lt;</code> or before <code>&gt;</code>.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">template</span> <span class=\"o\">&lt;</span><span class=\"k\">typename</span> <span class=\"n\">TKey</span><span class=\"p\">,</span> <span class=\"k\">typename</span> <span class=\"n\">TValue</span><span class=\"o\">&gt;</span>\n<span class=\"k\">struct</span> <span class=\"n\">AggregatedStatElement</span>\n<span class=\"p\">{}</span>\n</pre></div>\n\n\n<p><strong>15.</strong> In classes and structures, write <code>public</code>, <code>private</code>, and <code>protected</code> on the same level as <code>class/struct</code>, and indent the rest of the code.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">template</span> <span class=\"o\">&lt;</span><span class=\"k\">typename</span> <span class=\"n\">T</span><span class=\"o\">&gt;</span>\n<span class=\"k\">class</span> <span class=\"nc\">MultiVersion</span>\n<span class=\"p\">{</span>\n<span class=\"k\">public</span><span class=\"o\">:</span>\n    <span class=\"c1\">/// Version of object for usage. shared_ptr manage lifetime of version.</span>\n    <span class=\"k\">using</span> <span class=\"n\">Version</span> <span class=\"o\">=</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">shared_ptr</span><span class=\"o\">&lt;</span><span class=\"k\">const</span> <span class=\"n\">T</span><span class=\"o\">&gt;</span><span class=\"p\">;</span>\n    <span class=\"p\">...</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n\n<p><strong>16.</strong> If the same <code>namespace</code> is used for the entire file, and there isn't anything else significant, an offset is not necessary inside <code>namespace</code>.</p>\n<p><strong>17.</strong> If the block for an <code>if</code>, <code>for</code>, <code>while</code>, or other expression consists of a single <code>statement</code>, the curly brackets are optional. Place the <code>statement</code> on a separate line, instead. This rule is also valid for nested <code>if</code>, <code>for</code>, <code>while</code>, ...</p>\n<p>But if the inner <code>statement</code> contains curly brackets or <code>else</code>, the external block should be written in curly brackets.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"c1\">/// Finish write.</span>\n<span class=\"k\">for</span> <span class=\"p\">(</span><span class=\"k\">auto</span> <span class=\"o\">&amp;</span> <span class=\"nl\">stream</span> <span class=\"p\">:</span> <span class=\"n\">streams</span><span class=\"p\">)</span>\n    <span class=\"n\">stream</span><span class=\"p\">.</span><span class=\"n\">second</span><span class=\"o\">-&gt;</span><span class=\"n\">finalize</span><span class=\"p\">();</span>\n</pre></div>\n\n\n<p><strong>18.</strong> There shouldn't be any spaces at the ends of lines.</p>\n<p><strong>19.</strong> Source files are UTF-8 encoded.</p>\n<p><strong>20.</strong> Non-ASCII characters can be used in string literals.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"o\">&lt;&lt;</span> <span class=\"s\">&quot;, &quot;</span> <span class=\"o\">&lt;&lt;</span> <span class=\"p\">(</span><span class=\"n\">timer</span><span class=\"p\">.</span><span class=\"n\">elapsed</span><span class=\"p\">()</span> <span class=\"o\">/</span> <span class=\"n\">chunks_stats</span><span class=\"p\">.</span><span class=\"n\">hits</span><span class=\"p\">)</span> <span class=\"o\">&lt;&lt;</span> <span class=\"s\">&quot; \u03bcsec/hit.&quot;</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<p><strong>21</strong> Do not write multiple expressions in a single line.</p>\n<p><strong>22.</strong> Group sections of code inside functions and separate them with no more than one empty line.</p>\n<p><strong>23.</strong> Separate functions, classes, and so on with one or two empty lines.</p>\n<p><strong>24.</strong> <code>A const</code> (related to a value) must be written before the type name.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"c1\">//correct</span>\n<span class=\"k\">const</span> <span class=\"kt\">char</span> <span class=\"o\">*</span> <span class=\"n\">pos</span>\n<span class=\"k\">const</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">string</span> <span class=\"o\">&amp;</span> <span class=\"n\">s</span>\n<span class=\"c1\">//incorrect</span>\n<span class=\"kt\">char</span> <span class=\"k\">const</span> <span class=\"o\">*</span> <span class=\"n\">pos</span>\n</pre></div>\n\n\n<p><strong>25.</strong> When declaring a pointer or reference, the <code>*</code> and <code>&amp;</code> symbols should be separated by spaces on both sides.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"c1\">//correct</span>\n<span class=\"k\">const</span> <span class=\"kt\">char</span> <span class=\"o\">*</span> <span class=\"n\">pos</span>\n<span class=\"c1\">//incorrect</span>\n<span class=\"k\">const</span> <span class=\"kt\">char</span><span class=\"o\">*</span> <span class=\"n\">pos</span>\n<span class=\"k\">const</span> <span class=\"kt\">char</span> <span class=\"o\">*</span><span class=\"n\">pos</span>\n</pre></div>\n\n\n<p><strong>26.</strong> When using template types, alias them with the <code>using</code> keyword (except in the simplest cases).</p>\n<p>In other words, the template parameters are specified only in <code>using</code> and aren't repeated in the code.</p>\n<p><code>using</code> can be declared locally, such as inside a function.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"c1\">//correct</span>\n<span class=\"k\">using</span> <span class=\"n\">FileStreams</span> <span class=\"o\">=</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">map</span><span class=\"o\">&lt;</span><span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">string</span><span class=\"p\">,</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">shared_ptr</span><span class=\"o\">&lt;</span><span class=\"n\">Stream</span><span class=\"o\">&gt;&gt;</span><span class=\"p\">;</span>\n<span class=\"n\">FileStreams</span> <span class=\"n\">streams</span><span class=\"p\">;</span>\n<span class=\"c1\">//incorrect</span>\n<span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">map</span><span class=\"o\">&lt;</span><span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">string</span><span class=\"p\">,</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">shared_ptr</span><span class=\"o\">&lt;</span><span class=\"n\">Stream</span><span class=\"o\">&gt;&gt;</span> <span class=\"n\">streams</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<p><strong>27.</strong> Do not declare several variables of different types in one statement.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"c1\">//incorrect</span>\n<span class=\"kt\">int</span> <span class=\"n\">x</span><span class=\"p\">,</span> <span class=\"o\">*</span><span class=\"n\">y</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<p><strong>28.</strong> Do not use C-style casts.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"c1\">//incorrect</span>\n<span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">cerr</span> <span class=\"o\">&lt;&lt;</span> <span class=\"p\">(</span><span class=\"kt\">int</span><span class=\"p\">)</span><span class=\"n\">c</span> <span class=\"o\">&lt;&lt;</span><span class=\"p\">;</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">endl</span><span class=\"p\">;</span>\n<span class=\"c1\">//correct</span>\n<span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">cerr</span> <span class=\"o\">&lt;&lt;</span> <span class=\"k\">static_cast</span><span class=\"o\">&lt;</span><span class=\"kt\">int</span><span class=\"o\">&gt;</span><span class=\"p\">(</span><span class=\"n\">c</span><span class=\"p\">)</span> <span class=\"o\">&lt;&lt;</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">endl</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<p><strong>29.</strong> In classes and structs, group members and functions separately inside each visibility scope.</p>\n<p><strong>30.</strong> For small classes and structs, it is not necessary to separate the method declaration from the implementation.</p>\n<p>The same is true for small methods in any classes or structs.</p>\n<p>For templated classes and structs, don't separate the method declarations from the implementation (because otherwise they must be defined in the same translation unit).</p>\n<p><strong>31.</strong> You can wrap lines at 140 characters, instead of 80.</p>\n<p><strong>32.</strong> Always use the prefix increment/decrement operators if postfix is not required.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">for</span> <span class=\"p\">(</span><span class=\"n\">Names</span><span class=\"o\">::</span><span class=\"n\">const_iterator</span> <span class=\"n\">it</span> <span class=\"o\">=</span> <span class=\"n\">column_names</span><span class=\"p\">.</span><span class=\"n\">begin</span><span class=\"p\">();</span> <span class=\"n\">it</span> <span class=\"o\">!=</span> <span class=\"n\">column_names</span><span class=\"p\">.</span><span class=\"n\">end</span><span class=\"p\">();</span> <span class=\"o\">++</span><span class=\"n\">it</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<h3 id=\"comments_1\">Comments<a class=\"headerlink\" href=\"#comments_1\" title=\"Permanent link\">&para;</a></h3>\n<p><strong>1.</strong> Be sure to add comments for all non-trivial parts of code.</p>\n<p>This is very important. Writing the comment might help you realize that the code isn't necessary, or that it is designed wrong.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"cm\">/** Part of piece of memory, that can be used.</span>\n<span class=\"cm\">  * For example, if internal_buffer is 1MB, and there was only 10 bytes loaded to buffer from file for reading,</span>\n<span class=\"cm\">  * then working_buffer will have size of only 10 bytes</span>\n<span class=\"cm\">  * (working_buffer.end() will point to position right after those 10 bytes available for read).</span>\n<span class=\"cm\">  */</span>\n</pre></div>\n\n\n<p><strong>2.</strong> Comments can be as detailed as necessary.</p>\n<p><strong>3.</strong> Place comments before the code they describe. In rare cases, comments can come after the code, on the same line.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"cm\">/** Parses and executes the query.</span>\n<span class=\"cm\">*/</span>\n<span class=\"kt\">void</span> <span class=\"n\">executeQuery</span><span class=\"p\">(</span>\n    <span class=\"n\">ReadBuffer</span> <span class=\"o\">&amp;</span> <span class=\"n\">istr</span><span class=\"p\">,</span> <span class=\"c1\">/// Where to read the query from (and data for INSERT, if applicable)</span>\n    <span class=\"n\">WriteBuffer</span> <span class=\"o\">&amp;</span> <span class=\"n\">ostr</span><span class=\"p\">,</span> <span class=\"c1\">/// Where to write the result</span>\n    <span class=\"n\">Context</span> <span class=\"o\">&amp;</span> <span class=\"n\">context</span><span class=\"p\">,</span> <span class=\"c1\">/// DB, tables, data types, engines, functions, aggregate functions...</span>\n    <span class=\"n\">BlockInputStreamPtr</span> <span class=\"o\">&amp;</span> <span class=\"n\">query_plan</span><span class=\"p\">,</span> <span class=\"c1\">/// Here could be written the description on how query was executed</span>\n    <span class=\"n\">QueryProcessingStage</span><span class=\"o\">::</span><span class=\"n\">Enum</span> <span class=\"n\">stage</span> <span class=\"o\">=</span> <span class=\"n\">QueryProcessingStage</span><span class=\"o\">::</span><span class=\"n\">Complete</span> <span class=\"c1\">/// Up to which stage process the SELECT query</span>\n    <span class=\"p\">)</span>\n</pre></div>\n\n\n<p><strong>4.</strong> Comments should be written in English only.</p>\n<p><strong>5.</strong> If you are writing a library, include detailed comments explaining it in the main header file.</p>\n<p><strong>6.</strong> Do not add comments that do not provide additional information. In particular, do not leave empty comments like this:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"cm\">/*</span>\n<span class=\"cm\">* Procedure Name:</span>\n<span class=\"cm\">* Original procedure name:</span>\n<span class=\"cm\">* Author:</span>\n<span class=\"cm\">* Date of creation:</span>\n<span class=\"cm\">* Dates of modification:</span>\n<span class=\"cm\">* Modification authors:</span>\n<span class=\"cm\">* Original file name:</span>\n<span class=\"cm\">* Purpose:</span>\n<span class=\"cm\">* Intent:</span>\n<span class=\"cm\">* Designation:</span>\n<span class=\"cm\">* Classes used:</span>\n<span class=\"cm\">* Constants:</span>\n<span class=\"cm\">* Local variables:</span>\n<span class=\"cm\">* Parameters:</span>\n<span class=\"cm\">* Date of creation:</span>\n<span class=\"cm\">* Purpose:</span>\n<span class=\"cm\">*/</span>\n</pre></div>\n\n\n<p>The example is borrowed from the resource <a href=\"http://home.tamk.fi/~jaalto/course/coding-style/doc/unmaintainable-code/\" rel=\"external nofollow\">http://home.tamk.fi/~jaalto/course/coding-style/doc/unmaintainable-code/</a>.</p>\n<p><strong>7.</strong> Do not write garbage comments (author, creation date ..) at the beginning of each file.</p>\n<p><strong>8.</strong> Single-line comments begin with three slashes: <code>///</code> and multi-line comments begin with <code>/**</code>. These comments are considered \"documentation\".</p>\n<p>Note: You can use Doxygen to generate documentation from these comments. But Doxygen is not generally used because it is more convenient to navigate the code in the IDE.</p>\n<p><strong>9.</strong> Multi-line comments must not have empty lines at the beginning and end (except the line that closes a multi-line comment).</p>\n<p><strong>10.</strong> For commenting out code, use basic comments, not \u201cdocumenting\u201d comments.</p>\n<p><strong>11.</strong> Delete the commented out parts of the code before committing.</p>\n<p><strong>12.</strong> Do not use profanity in comments or code.</p>\n<p><strong>13.</strong> Do not use uppercase letters. Do not use excessive punctuation.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"c1\">/// WHAT THE FAIL???</span>\n</pre></div>\n\n\n<p><strong>14.</strong> Do not use comments to make delimeters.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"c1\">///******************************************************</span>\n</pre></div>\n\n\n<p><strong>15.</strong> Do not start discussions in comments.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"c1\">/// Why did you do this stuff?</span>\n</pre></div>\n\n\n<p><strong>16.</strong> There's no need to write a comment at the end of a block describing what it was about.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"c1\">/// for</span>\n</pre></div>\n\n\n<h3 id=\"names\">Names<a class=\"headerlink\" href=\"#names\" title=\"Permanent link\">&para;</a></h3>\n<p><strong>1.</strong> Use lowercase letters with underscores in the names of variables and class members.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kt\">size_t</span> <span class=\"n\">max_block_size</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<p><strong>2.</strong> For the names of functions (methods), use camelCase beginning with a lowercase letter.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">```cpp</span>\n<span class=\"c\">std::string getName() const override { return &quot;Memory&quot;; }</span>\n<span class=\"err\">```</span>\n</pre></div>\n\n\n<p><strong>3.</strong> For the names of classes (structs), use CamelCase beginning with an uppercase letter. Prefixes other than I are not used for interfaces.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">```cpp</span>\n<span class=\"err\">class StorageMemory : public IStorage</span>\n<span class=\"err\">```</span>\n</pre></div>\n\n\n<p><strong>4.</strong> <code>using</code> are named the same way as classes, or with <code>_t</code> on the end.</p>\n<p><strong>5.</strong> Names of template type arguments: in simple cases, use <code>T</code>; <code>T</code>, <code>U</code>; <code>T1</code>, <code>T2</code>.</p>\n<p>For more complex cases, either follow the rules for class names, or add the prefix <code>T</code>.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">template</span> <span class=\"o\">&lt;</span><span class=\"k\">typename</span> <span class=\"n\">TKey</span><span class=\"p\">,</span> <span class=\"k\">typename</span> <span class=\"n\">TValue</span><span class=\"o\">&gt;</span>\n<span class=\"k\">struct</span> <span class=\"n\">AggregatedStatElement</span>\n</pre></div>\n\n\n<p><strong>6.</strong> Names of template constant arguments: either follow the rules for variable names, or use <code>N</code> in simple cases.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">template</span> <span class=\"o\">&lt;</span><span class=\"kt\">bool</span> <span class=\"n\">without_www</span><span class=\"o\">&gt;</span>\n<span class=\"k\">struct</span> <span class=\"n\">ExtractDomain</span>\n</pre></div>\n\n\n<p><strong>7.</strong> For abstract classes (interfaces) you can add the <code>I</code> prefix.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">class</span> <span class=\"nc\">IBlockInputStream</span>\n</pre></div>\n\n\n<p><strong>8.</strong> If you use a variable locally, you can use the short name.</p>\n<p>In all other cases, use a name that describes the meaning.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kt\">bool</span> <span class=\"n\">info_successfully_loaded</span> <span class=\"o\">=</span> <span class=\"nb\">false</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<p><strong>9.</strong> Names of <code>define</code>s and global constants use ALL_CAPS with underscores.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"cp\">##define MAX_SRC_TABLE_NAMES_TO_STORE 1000</span>\n</pre></div>\n\n\n<p><strong>10.</strong> File names should use the same style as their contents.</p>\n<p>If a file contains a single class, name the file the same way as the class (CamelCase).</p>\n<p>If the file contains a single function, name the file the same way as the function (camelCase).</p>\n<p><strong>11.</strong> If the name contains an abbreviation, then:</p>\n<ul>\n<li>For variable names, the abbreviation should use lowercase letters <code>mysql_connection</code> (not <code>mySQL_connection</code>).</li>\n<li>For names of classes and functions, keep the uppercase letters in the abbreviation<code>MySQLConnection</code> (not <code>MySqlConnection</code>).</li>\n</ul>\n<p><strong>12.</strong> Constructor arguments that are used just to initialize the class members should be named the same way as the class members, but with an underscore at the end.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">FileQueueProcessor</span><span class=\"p\">(</span>\n    <span class=\"k\">const</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">string</span> <span class=\"o\">&amp;</span> <span class=\"n\">path_</span><span class=\"p\">,</span>\n    <span class=\"k\">const</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">string</span> <span class=\"o\">&amp;</span> <span class=\"n\">prefix_</span><span class=\"p\">,</span>\n    <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">shared_ptr</span><span class=\"o\">&lt;</span><span class=\"n\">FileHandler</span><span class=\"o\">&gt;</span> <span class=\"n\">handler_</span><span class=\"p\">)</span>\n    <span class=\"o\">:</span> <span class=\"n\">path</span><span class=\"p\">(</span><span class=\"n\">path_</span><span class=\"p\">),</span>\n    <span class=\"n\">prefix</span><span class=\"p\">(</span><span class=\"n\">prefix_</span><span class=\"p\">),</span>\n    <span class=\"n\">handler</span><span class=\"p\">(</span><span class=\"n\">handler_</span><span class=\"p\">),</span>\n    <span class=\"n\">log</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">Logger</span><span class=\"o\">::</span><span class=\"n\">get</span><span class=\"p\">(</span><span class=\"s\">&quot;FileQueueProcessor&quot;</span><span class=\"p\">))</span>\n<span class=\"p\">{</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n\n<p>The underscore suffix can be omitted if the argument is not used in the constructor body.</p>\n<p><strong>13.</strong> There is no difference in the names of local variables and class members (no prefixes required).</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">timer</span> <span class=\"p\">(</span><span class=\"n\">not</span> <span class=\"n\">m_timer</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p><strong>14.</strong> For the constants in an <code>enum</code>, use CamelCase with a capital letter. ALL_CAPS is also acceptable. If the <code>enum</code> is non-local, use an <code>enum class</code>.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">enum</span> <span class=\"k\">class</span> <span class=\"nc\">CompressionMethod</span>\n<span class=\"p\">{</span>\n    <span class=\"n\">QuickLZ</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">,</span>\n    <span class=\"n\">LZ4</span>     <span class=\"o\">=</span> <span class=\"mi\">1</span><span class=\"p\">,</span>\n<span class=\"p\">};</span>\n</pre></div>\n\n\n<p><strong>15.</strong> All names must be in English. Transliteration of Russian words is not allowed.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">not Stroka</span>\n</pre></div>\n\n\n<p><strong>16.</strong> Abbreviations are acceptable if they are well known (when you can easily find the meaning of the abbreviation in Wikipedia or in a search engine).</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"ss\">`AST`</span><span class=\"p\">,</span> <span class=\"ss\">`SQL`</span><span class=\"p\">.</span>\n\n<span class=\"k\">Not</span> <span class=\"ss\">`NVDH`</span> <span class=\"p\">(</span><span class=\"n\">some</span> <span class=\"n\">random</span> <span class=\"n\">letters</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>Incomplete words are acceptable if the shortened version is common use.</p>\n<p>You can also use an abbreviation if the full name is included next to it in the comments.</p>\n<p><strong>17.</strong> File names with C++ source code must have the <code>.cpp</code> extension. Header files must have the <code>.h</code> extension.</p>\n<h3 id=\"how-to-write-code\">How to Write Code<a class=\"headerlink\" href=\"#how-to-write-code\" title=\"Permanent link\">&para;</a></h3>\n<p><strong>1.</strong> Memory management.</p>\n<p>Manual memory deallocation (<code>delete</code>) can only be used in library code.</p>\n<p>In library code, the <code>delete</code> operator can only be used in destructors.</p>\n<p>In application code, memory must be freed by the object that owns it.</p>\n<p>Examples:</p>\n<ul>\n<li>The easiest way is to place an object on the stack, or make it a member of another class.</li>\n<li>For a large number of small objects, use containers.</li>\n<li>For automatic deallocation of a small number of objects that reside in the heap, use <code>shared_ptr/unique_ptr</code>.</li>\n</ul>\n<p><strong>2.</strong> Resource management.</p>\n<p>Use <code>RAII</code> and see above.</p>\n<p><strong>3.</strong> Error handling.</p>\n<p>Use exceptions. In most cases, you only need to throw an exception, and don't need to catch it (because of <code>RAII</code>).</p>\n<p>In offline data processing applications, it's often acceptable to not catch exceptions.</p>\n<p>In servers that handle user requests, it's usually enough to catch exceptions at the top level of the connection handler.</p>\n<p>In thread functions, you should catch and keep all exceptions to rethrow them in the main thread after <code>join</code>.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"c1\">/// If there weren&#39;t any calculations yet, calculate the first block synchronously</span>\n<span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"o\">!</span><span class=\"n\">started</span><span class=\"p\">)</span>\n<span class=\"p\">{</span>\n    <span class=\"n\">calculate</span><span class=\"p\">();</span>\n    <span class=\"n\">started</span> <span class=\"o\">=</span> <span class=\"nb\">true</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n<span class=\"k\">else</span> <span class=\"c1\">/// If calculations are already in progress, wait for the result</span>\n    <span class=\"n\">pool</span><span class=\"p\">.</span><span class=\"n\">wait</span><span class=\"p\">();</span>\n\n<span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"n\">exception</span><span class=\"p\">)</span>\n    <span class=\"n\">exception</span><span class=\"o\">-&gt;</span><span class=\"n\">rethrow</span><span class=\"p\">();</span>\n</pre></div>\n\n\n<p>Never hide exceptions without handling. Never just blindly put all exceptions to log.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"c1\">//Not correct</span>\n<span class=\"k\">catch</span> <span class=\"p\">(...)</span> <span class=\"p\">{}</span>\n</pre></div>\n\n\n<p>If you need to ignore some exceptions, do so only for specific ones and rethrow the rest.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">catch</span> <span class=\"p\">(</span><span class=\"k\">const</span> <span class=\"n\">DB</span><span class=\"o\">::</span><span class=\"n\">Exception</span> <span class=\"o\">&amp;</span> <span class=\"n\">e</span><span class=\"p\">)</span>\n<span class=\"p\">{</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"n\">e</span><span class=\"p\">.</span><span class=\"n\">code</span><span class=\"p\">()</span> <span class=\"o\">==</span> <span class=\"n\">ErrorCodes</span><span class=\"o\">::</span><span class=\"n\">UNKNOWN_AGGREGATE_FUNCTION</span><span class=\"p\">)</span>\n        <span class=\"k\">return</span> <span class=\"k\">nullptr</span><span class=\"p\">;</span>\n    <span class=\"k\">else</span>\n        <span class=\"k\">throw</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n\n<p>When using functions with response codes or <code>errno</code>, always check the result and throw an exception in case of error.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"mi\">0</span> <span class=\"o\">!=</span> <span class=\"n\">close</span><span class=\"p\">(</span><span class=\"n\">fd</span><span class=\"p\">))</span>\n    <span class=\"n\">throwFromErrno</span><span class=\"p\">(</span><span class=\"s\">&quot;Cannot close file &quot;</span> <span class=\"o\">+</span> <span class=\"n\">file_name</span><span class=\"p\">,</span> <span class=\"n\">ErrorCodes</span><span class=\"o\">::</span><span class=\"n\">CANNOT_CLOSE_FILE</span><span class=\"p\">);</span>\n</pre></div>\n\n\n<p><code>Do not use assert</code>.</p>\n<p><strong>4.</strong> Exception types.</p>\n<p>There is no need to use complex exception hierarchy in application code. The exception text should be understandable to a system administrator.</p>\n<p><strong>5.</strong> Throwing exceptions from destructors.</p>\n<p>This is not recommended, but it is allowed.</p>\n<p>Use the following options:</p>\n<ul>\n<li>Create a function (<code>done()</code> or <code>finalize()</code>) that will do all the work in advance that might lead to an exception. If that function was called, there should be no exceptions in the destructor later.</li>\n<li>Tasks that are too complex (such as sending messages over the network) can be put in separate method that the class user will have to call before destruction.</li>\n<li>If there is an exception in the destructor, it\u2019s better to log it than to hide it (if the logger is available).</li>\n<li>In simple applications, it is acceptable to rely on <code>std::terminate</code> (for cases of <code>noexcept</code> by default in C++11) to handle exceptions.</li>\n</ul>\n<p><strong>6.</strong> Anonymous code blocks.</p>\n<p>You can create a separate code block inside a single function in order to make certain variables local, so that the destructors are called when exiting the block.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">Block</span> <span class=\"n\">block</span> <span class=\"o\">=</span> <span class=\"n\">data</span><span class=\"p\">.</span><span class=\"n\">in</span><span class=\"o\">-&gt;</span><span class=\"n\">read</span><span class=\"p\">();</span>\n\n<span class=\"p\">{</span>\n    <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">lock_guard</span><span class=\"o\">&lt;</span><span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">mutex</span><span class=\"o\">&gt;</span> <span class=\"n\">lock</span><span class=\"p\">(</span><span class=\"n\">mutex</span><span class=\"p\">);</span>\n    <span class=\"n\">data</span><span class=\"p\">.</span><span class=\"n\">ready</span> <span class=\"o\">=</span> <span class=\"nb\">true</span><span class=\"p\">;</span>\n    <span class=\"n\">data</span><span class=\"p\">.</span><span class=\"n\">block</span> <span class=\"o\">=</span> <span class=\"n\">block</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"n\">ready_any</span><span class=\"p\">.</span><span class=\"n\">set</span><span class=\"p\">();</span>\n</pre></div>\n\n\n<p><strong>7.</strong> Multithreading.</p>\n<p>In offline data processing programs:</p>\n<ul>\n<li>Try to get the best possible performance on a single CPU core. You can then parallelize your code if necessary.</li>\n</ul>\n<p>In server applications:</p>\n<ul>\n<li>Use the thread pool to process requests. At this point, we haven't had any tasks that required userspace context switching.</li>\n</ul>\n<p>Fork is not used for parallelization.</p>\n<p><strong>8.</strong> Syncing threads.</p>\n<p>Often it is possible to make different threads use different memory cells (even better: different cache lines,) and to not use any thread synchronization (except <code>joinAll</code>).</p>\n<p>If synchronization is required, in most cases, it is sufficient to use mutex under <code>lock_guard</code>.</p>\n<p>In other cases use system synchronization primitives. Do not use busy wait.</p>\n<p>Atomic operations should be used only in the simplest cases.</p>\n<p>Do not try to implement lock-free data structures unless it is your primary area of expertise.</p>\n<p><strong>9.</strong> Pointers vs references.</p>\n<p>In most cases, prefer references.</p>\n<p><strong>10.</strong> const.</p>\n<p>Use constant references, pointers to constants, <code>const_iterator</code>, and const methods.</p>\n<p>Consider <code>const</code> to be default and use non-<code>const</code> only when necessary.</p>\n<p>When passing variables by value, using <code>const</code> usually does not make sense.</p>\n<p><strong>11.</strong> unsigned.</p>\n<p>Use <code>unsigned</code> if necessary.</p>\n<p><strong>12.</strong> Numeric types.</p>\n<p>Use the types <code>UInt8</code>, <code>UInt16</code>, <code>UInt32</code>, <code>UInt64</code>, <code>Int8</code>, <code>Int16</code>, <code>Int32</code>, and <code>Int64</code>, as well as <code>size_t</code>, <code>ssize_t</code>, and <code>ptrdiff_t</code>.</p>\n<p>Don't use these types for numbers: <code>signed/unsigned long</code>, <code>long long</code>, <code>short</code>, <code>signed/unsigned char</code>, <code>char</code>.</p>\n<p><strong>13.</strong> Passing arguments.</p>\n<p>Pass complex values by reference (including <code>std::string</code>).</p>\n<p>If a function captures ownership of an object created in the heap, make the argument type <code>shared_ptr</code> or <code>unique_ptr</code>.</p>\n<p><strong>14.</strong> Return values.</p>\n<p>In most cases, just use <code>return</code>. Do not write <code>[return std::move(res)]{.strike}</code>.</p>\n<p>If the function allocates an object on heap and returns it, use <code>shared_ptr</code> or <code>unique_ptr</code>.</p>\n<p>In rare cases you might need to return the value via an argument. In this case, the argument should be a reference.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">using</span> <span class=\"n\">AggregateFunctionPtr</span> <span class=\"o\">=</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">shared_ptr</span><span class=\"o\">&lt;</span><span class=\"n\">IAggregateFunction</span><span class=\"o\">&gt;</span><span class=\"p\">;</span>\n\n<span class=\"cm\">/** Allows creating an aggregate function by its name.</span>\n<span class=\"cm\">  */</span>\n<span class=\"k\">class</span> <span class=\"nc\">AggregateFunctionFactory</span>\n<span class=\"p\">{</span>\n<span class=\"k\">public</span><span class=\"o\">:</span>\n    <span class=\"n\">AggregateFunctionFactory</span><span class=\"p\">();</span>\n    <span class=\"n\">AggregateFunctionPtr</span> <span class=\"nf\">get</span><span class=\"p\">(</span><span class=\"k\">const</span> <span class=\"n\">String</span> <span class=\"o\">&amp;</span> <span class=\"n\">name</span><span class=\"p\">,</span> <span class=\"k\">const</span> <span class=\"n\">DataTypes</span> <span class=\"o\">&amp;</span> <span class=\"n\">argument_types</span><span class=\"p\">)</span> <span class=\"k\">const</span><span class=\"p\">;</span>\n</pre></div>\n\n\n<p><strong>15.</strong> namespace.</p>\n<p>There is no need to use a separate <code>namespace</code> for application code.</p>\n<p>Small libraries don't need this, either.</p>\n<p>For medium to large libraries, put everything in a <code>namespace</code>.</p>\n<p>In the library's <code>.h</code> file, you can use <code>namespace detail</code> to hide implementation details not needed for the application code.</p>\n<p>In a <code>.cpp</code> file, you can use a <code>static</code> or anonymous namespace to hide symbols.</p>\n<p>Also, a <code>namespace</code> can be used for an <code>enum</code> to prevent the corresponding names from falling into an external <code>namespace</code> (but it's better to use an <code>enum class</code>).</p>\n<p><strong>16.</strong> Deferred initialization.</p>\n<p>If arguments are required for initialization, then you normally shouldn't write a default constructor.</p>\n<p>If later you\u2019ll need to delay initialization, you can add a default constructor that will create an invalid object. Or, for a small number of objects, you can use <code>shared_ptr/unique_ptr</code>.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">Loader</span><span class=\"p\">(</span><span class=\"n\">DB</span><span class=\"o\">::</span><span class=\"n\">Connection</span> <span class=\"o\">*</span> <span class=\"n\">connection_</span><span class=\"p\">,</span> <span class=\"k\">const</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">string</span> <span class=\"o\">&amp;</span> <span class=\"n\">query</span><span class=\"p\">,</span> <span class=\"kt\">size_t</span> <span class=\"n\">max_block_size_</span><span class=\"p\">);</span>\n\n<span class=\"c1\">/// For deferred initialization</span>\n<span class=\"n\">Loader</span><span class=\"p\">()</span> <span class=\"p\">{}</span>\n</pre></div>\n\n\n<p><strong>17.</strong> Virtual functions.</p>\n<p>If the class is not intended for polymorphic use, you do not need to make functions virtual. This also applies to the destructor.</p>\n<p><strong>18.</strong> Encodings.</p>\n<p>Use UTF-8 everywhere. Use <code>std::string</code>and<code>char *</code>. Do not use <code>std::wstring</code>and<code>wchar_t</code>.</p>\n<p><strong>19.</strong> Logging.</p>\n<p>See the examples everywhere in the code.</p>\n<p>Before committing, delete all meaningless and debug logging, and any other types of debug output.</p>\n<p>Logging in cycles should be avoided, even on the Trace level.</p>\n<p>Logs must be readable at any logging level.</p>\n<p>Logging should only be used in application code, for the most part.</p>\n<p>Log messages must be written in English.</p>\n<p>The log should preferably be understandable for the system administrator.</p>\n<p>Do not use profanity in the log.</p>\n<p>Use UTF-8 encoding in the log. In rare cases you can use non-ASCII characters in the log.</p>\n<p><strong>20.</strong> Input-output.</p>\n<p>Don't use <code>iostreams</code> in internal cycles that are critical for application performance (and never use <code>stringstream</code>).</p>\n<p>Use the <code>DB/IO</code> library instead.</p>\n<p><strong>21.</strong> Date and time.</p>\n<p>See the <code>DateLUT</code> library.</p>\n<p><strong>22.</strong> include.</p>\n<p>Always use <code>#pragma once</code> instead of include guards.</p>\n<p><strong>23.</strong> using.</p>\n<p><code>using namespace</code> is not used. You can use <code>using</code> with something specific. But make it local inside a class or function.</p>\n<p><strong>24.</strong> Do not use <code>trailing return type</code> for functions unless necessary.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"p\">[</span><span class=\"k\">auto</span> <span class=\"n\">f</span><span class=\"p\">()</span> <span class=\"o\">-&amp;</span><span class=\"n\">gt</span><span class=\"p\">;</span> <span class=\"kt\">void</span><span class=\"p\">;]{.</span><span class=\"n\">strike</span><span class=\"p\">}</span>\n</pre></div>\n\n\n<p><strong>25.</strong> Declaration and initialization of variables.</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"c1\">//right way</span>\n<span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">string</span> <span class=\"n\">s</span> <span class=\"o\">=</span> <span class=\"s\">&quot;Hello&quot;</span><span class=\"p\">;</span>\n<span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">string</span> <span class=\"n\">s</span><span class=\"p\">{</span><span class=\"s\">&quot;Hello&quot;</span><span class=\"p\">};</span>\n\n<span class=\"c1\">//wrong way</span>\n<span class=\"k\">auto</span> <span class=\"n\">s</span> <span class=\"o\">=</span> <span class=\"n\">std</span><span class=\"o\">::</span><span class=\"n\">string</span><span class=\"p\">{</span><span class=\"s\">&quot;Hello&quot;</span><span class=\"p\">};</span>\n</pre></div>\n\n\n<p><strong>26.</strong> For virtual functions, write <code>virtual</code> in the base class, but write <code>override</code> instead of <code>virtual</code> in descendent classes.</p>\n<h3 id=\"unused-features-of-c\">Unused Features of C++<a class=\"headerlink\" href=\"#unused-features-of-c\" title=\"Permanent link\">&para;</a></h3>\n<p><strong>1.</strong> Virtual inheritance is not used.</p>\n<p><strong>2.</strong> Exception specifiers from C++03 are not used.</p>\n<h3 id=\"platform\">Platform<a class=\"headerlink\" href=\"#platform\" title=\"Permanent link\">&para;</a></h3>\n<p><strong>1.</strong> We write code for a specific platform.</p>\n<p>But other things being equal, cross-platform or portable code is preferred.</p>\n<p><strong>2.</strong> Language: C++17.</p>\n<p><strong>3.</strong> Compiler: <code>gcc</code>. At this time (December 2017), the code is compiled using version 7.2. (It can also be compiled using <code>clang 4</code>.)</p>\n<p>The standard library is used (<code>libstdc++</code> or <code>libc++</code>).</p>\n<p><strong>4.</strong>OS: Linux Ubuntu, not older than Precise.</p>\n<p><strong>5.</strong>Code is written for x86_64 CPU architecture.</p>\n<p>The CPU instruction set is the minimum supported set among our servers. Currently, it is SSE 4.2.</p>\n<p><strong>6.</strong> Use <code>-Wall -Wextra -Werror</code> compilation flags.</p>\n<p><strong>7.</strong> Use static linking with all libraries except those that are difficult to connect to statically (see the output of the <code>ldd</code> command).</p>\n<p><strong>8.</strong> Code is developed and debugged with release settings.</p>\n<h3 id=\"tools\">Tools<a class=\"headerlink\" href=\"#tools\" title=\"Permanent link\">&para;</a></h3>\n<p><strong>1.</strong> KDevelop is a good IDE.</p>\n<p><strong>2.</strong> For debugging, use <code>gdb</code>, <code>valgrind</code> (<code>memcheck</code>), <code>strace</code>, <code>-fsanitize=...</code>, or <code>tcmalloc_minimal_debug</code>.</p>\n<p><strong>3.</strong> For profiling, use <code>Linux Perf</code>, <code>valgrind</code> (<code>callgrind</code>), or <code>strace -cf</code>.</p>\n<p><strong>4.</strong> Sources are in Git.</p>\n<p><strong>5.</strong> Assembly uses <code>CMake</code>.</p>\n<p><strong>6.</strong> Programs are released using <code>deb</code> packages.</p>\n<p><strong>7.</strong> Commits to master must not break the build.</p>\n<p>Though only selected revisions are considered workable.</p>\n<p><strong>8.</strong> Make commits as often as possible, even if the code is only partially ready.</p>\n<p>Use branches for this purpose.</p>\n<p>If your code in the <code>master</code> branch is not buildable yet, exclude it from the build before the <code>push</code>. You'll need to finish it or remove it within a few days.</p>\n<p><strong>9.</strong> For non-trivial changes, use branches and publish them on the server.</p>\n<p><strong>10.</strong> Unused code is removed from the repository.</p>\n<h3 id=\"libraries\">Libraries<a class=\"headerlink\" href=\"#libraries\" title=\"Permanent link\">&para;</a></h3>\n<p><strong>1.</strong> The C++14 standard library is used (experimental extensions are allowed), as well as <code>boost</code> and <code>Poco</code> frameworks.</p>\n<p><strong>2.</strong> If necessary, you can use any well-known libraries available in the OS package.</p>\n<p>If there is a good solution already available, then use it, even if it means you have to install another library.</p>\n<p>(But be prepared to remove bad libraries from code.)</p>\n<p><strong>3.</strong> You can install a library that isn't in the packages, if the packages don't have what you need or have an outdated version or the wrong type of compilation.</p>\n<p><strong>4.</strong> If the library is small and doesn't have its own complex build system, put the source files in the <code>contrib</code> folder.</p>\n<p><strong>5.</strong> Preference is always given to libraries that are already in use.</p>\n<h3 id=\"general-recommendations_1\">General Recommendations<a class=\"headerlink\" href=\"#general-recommendations_1\" title=\"Permanent link\">&para;</a></h3>\n<p><strong>1.</strong> Write as little code as possible.</p>\n<p><strong>2.</strong> Try the simplest solution.</p>\n<p><strong>3.</strong> Don't write code until you know how it's going to work and how the inner loop will function.</p>\n<p><strong>4.</strong> In the simplest cases, use <code>using</code> instead of classes or structs.</p>\n<p><strong>5.</strong> If possible, do not write copy constructors, assignment operators, destructors (other than a virtual one, if the class contains at least one virtual function), move constructors or move assignment operators. In other words, the compiler-generated functions must work correctly. You can use <code>default</code>.</p>\n<p><strong>6.</strong> Code simplification is encouraged. Reduce the size of your code where possible.</p>\n<h3 id=\"additional-recommendations\">Additional Recommendations<a class=\"headerlink\" href=\"#additional-recommendations\" title=\"Permanent link\">&para;</a></h3>\n<p><strong>1.</strong> Explicitly specifying <code>std::</code> for types from <code>stddef.h</code></p>\n<p>is not recommended. In other words, we recommend writing <code>size_t</code> instead <code>std::size_t</code>, because it's shorter.</p>\n<p>It is acceptable to add <code>std::</code>.</p>\n<p><strong>2.</strong> Explicitly specifying <code>std::</code> for functions from the standard C library</p>\n<p>is not recommended. In other words, write <code>memcpy</code> instead of <code>std::memcpy</code>.</p>\n<p>The reason is that there are similar non-standard functions, such as <code>memmem</code>. We do use these functions on occasion. These functions do not exist in <code>namespace std</code>.</p>\n<p>If you write <code>std::memcpy</code> instead of <code>memcpy</code> everywhere, then <code>memmem</code> without <code>std::</code> will look strange.</p>\n<p>Nevertheless, you can still use <code>std::</code> if you prefer it.</p>\n<p><strong>3.</strong> Using functions from C when the same ones are available in the standard C++ library.</p>\n<p>This is acceptable if it is more efficient.</p>\n<p>For example, use <code>memcpy</code> instead of <code>std::copy</code> for copying large chunks of memory.</p>\n<p><strong>4.</strong> Multiline function arguments.</p>\n<p>Any of the following wrapping styles are allowed:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">function</span><span class=\"p\">(</span>\n  <span class=\"n\">T1</span> <span class=\"n\">x1</span><span class=\"p\">,</span>\n  <span class=\"n\">T2</span> <span class=\"n\">x2</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">function</span><span class=\"p\">(</span>\n  <span class=\"kt\">size_t</span> <span class=\"n\">left</span><span class=\"p\">,</span> <span class=\"kt\">size_t</span> <span class=\"n\">right</span><span class=\"p\">,</span>\n  <span class=\"k\">const</span> <span class=\"o\">&amp;</span> <span class=\"n\">RangesInDataParts</span> <span class=\"n\">ranges</span><span class=\"p\">,</span>\n  <span class=\"kt\">size_t</span> <span class=\"n\">limit</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">function</span><span class=\"p\">(</span><span class=\"kt\">size_t</span> <span class=\"n\">left</span><span class=\"p\">,</span> <span class=\"kt\">size_t</span> <span class=\"n\">right</span><span class=\"p\">,</span>\n  <span class=\"k\">const</span> <span class=\"o\">&amp;</span> <span class=\"n\">RangesInDataParts</span> <span class=\"n\">ranges</span><span class=\"p\">,</span>\n  <span class=\"kt\">size_t</span> <span class=\"n\">limit</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">function</span><span class=\"p\">(</span><span class=\"kt\">size_t</span> <span class=\"n\">left</span><span class=\"p\">,</span> <span class=\"kt\">size_t</span> <span class=\"n\">right</span><span class=\"p\">,</span>\n      <span class=\"k\">const</span> <span class=\"o\">&amp;</span> <span class=\"n\">RangesInDataParts</span> <span class=\"n\">ranges</span><span class=\"p\">,</span>\n      <span class=\"kt\">size_t</span> <span class=\"n\">limit</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">function</span><span class=\"p\">(</span>\n      <span class=\"kt\">size_t</span> <span class=\"n\">left</span><span class=\"p\">,</span>\n      <span class=\"kt\">size_t</span> <span class=\"n\">right</span><span class=\"p\">,</span>\n      <span class=\"k\">const</span> <span class=\"o\">&amp;</span> <span class=\"n\">RangesInDataParts</span> <span class=\"n\">ranges</span><span class=\"p\">,</span>\n      <span class=\"kt\">size_t</span> <span class=\"n\">limit</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p><a name=\"../../development/tests/\"></a>\n<a name=\"development/tests/\"></a>\n<a name=\"../../../development/tests/\"></a>\n<a name=\"../../../../../development/tests/\"></a>\n<a name=\"../../../../development/tests/\"></a>\n<a name=\"tests/\"></a>\n<a name=\"../development/tests/\"></a></p>\n<h2 id=\"clickhouse-testing\">ClickHouse Testing<a class=\"headerlink\" href=\"#clickhouse-testing\" title=\"Permanent link\">&para;</a></h2>\n<h3 id=\"functional-tests\">Functional Tests<a class=\"headerlink\" href=\"#functional-tests\" title=\"Permanent link\">&para;</a></h3>\n<p>Functional tests are the most simple and convenient to use. Most of ClickHouse features can be tested with functional tests and they are mandatory to use for every change in ClickHouse code that can be tested that way.</p>\n<p>Each functional test sends one or multiple queries to the running ClickHouse server and compares the result with reference.</p>\n<p>Tests are located in <code>dbms/tests/queries</code> directory. There are two subdirectories: <code>stateless</code> and <code>stateful</code>. Stateless tests run queries without any preloaded test data - they often create small synthetic datasets on the fly, within the test itself. Stateful tests require preloaded test data from Yandex.Metrica and not available to general public. We tend to use only <code>stateless</code> tests and avoid adding new <code>stateful</code> tests.</p>\n<p>Each test can be one of two types: <code>.sql</code> and <code>.sh</code>. <code>.sql</code> test is the simple SQL script that is piped to <code>clickhouse-client --multiquery --testmode</code>. <code>.sh</code> test is a script that is run by itself.</p>\n<p>To run all tests, use <code>dbms/tests/clickhouse-test</code> tool. Look <code>--help</code> for the list of possible options. You can simply run all tests or run subset of tests filtered by substring in test name: <code>./clickhouse-test substring</code>.</p>\n<p>The most simple way to invoke functional tests is to copy <code>clickhouse-client</code> to <code>/usr/bin/</code>, run <code>clickhouse-server</code> and then run <code>./clickhouse-test</code> from its own directory.</p>\n<p>To add new test, create a <code>.sql</code> or <code>.sh</code> file in <code>dbms/tests/queries/0_stateless</code> directory, check it manually and then generate <code>.reference</code> file in the following way: <code>clickhouse-client -n --testmode &lt; 00000_test.sql &gt; 00000_test.reference</code> or <code>./00000_test.sh &gt; ./00000_test.reference</code>.</p>\n<p>Tests should use (create, drop, etc) only tables in <code>test</code> database that is assumed to be created beforehand; also tests can use temporary tables.</p>\n<p>If you want to use distributed queries in functional tests, you can leverage <code>remote</code> table function with <code>127.0.0.{1..2}</code> addresses for the server to query itself; or you can use predefined test clusters in server configuration file like <code>test_shard_localhost</code>.</p>\n<p>Some tests are marked with <code>zookeeper</code>, <code>shard</code> or <code>long</code> in their names. <code>zookeeper</code> is for tests that are using ZooKeeper; <code>shard</code> is for tests that requires server to listen <code>127.0.0.*</code>; <code>long</code> is for tests that run slightly longer that one second.</p>\n<h3 id=\"known-bugs\">Known bugs<a class=\"headerlink\" href=\"#known-bugs\" title=\"Permanent link\">&para;</a></h3>\n<p>If we know some bugs that can be easily reproduced by functional tests, we place prepared functional tests in <code>dbms/tests/queries/bugs</code> directory. These tests will be moved to <code>dbms/tests/queries/0_stateless</code> when bugs are fixed.</p>\n<h3 id=\"integration-tests\">Integration Tests<a class=\"headerlink\" href=\"#integration-tests\" title=\"Permanent link\">&para;</a></h3>\n<p>Integration tests allow to test ClickHouse in clustered configuration and ClickHouse interaction with other servers like MySQL, Postgres, MongoDB. They are useful to emulate network splits, packet drops, etc. These tests are run under Docker and create multiple containers with various software.</p>\n<p>See <code>dbms/tests/integration/README.md</code> on how to run these tests.</p>\n<p>Note that integration of ClickHouse with third-party drivers is not tested. Also we currently don't have integration tests with our JDBC and ODBC drivers.</p>\n<h3 id=\"unit-tests\">Unit Tests<a class=\"headerlink\" href=\"#unit-tests\" title=\"Permanent link\">&para;</a></h3>\n<p>Unit tests are useful when you want to test not the ClickHouse as a whole, but a single isolated library or class. You can enable or disable build of tests with <code>ENABLE_TESTS</code> CMake option. Unit tests (and other test programs) are located in <code>tests</code> subdirectories across the code. To run unit tests, type <code>ninja test</code>. Some tests use <code>gtest</code>, but some are just programs that return non-zero exit code on test failure.</p>\n<p>It's not necessarily to have unit tests if the code is already covered by functional tests (and functional tests are usually much more simple to use).</p>\n<h3 id=\"performance-tests\">Performance Tests<a class=\"headerlink\" href=\"#performance-tests\" title=\"Permanent link\">&para;</a></h3>\n<p>Performance tests allow to measure and compare performance of some isolated part of ClickHouse on synthetic queries. Tests are located at <code>dbms/tests/performance</code>. Each test is represented by <code>.xml</code> file with description of test case. Tests are run with <code>clickhouse performance-test</code> tool (that is embedded in <code>clickhouse</code> binary). See <code>--help</code> for invocation.</p>\n<p>Each test run one or miltiple queries (possibly with combinations of parameters) in a loop with some conditions for stop (like \"maximum execution speed is not changing in three seconds\") and measure some metrics about query performance (like \"maximum execution speed\"). Some tests can contain preconditions on preloaded test dataset.</p>\n<p>If you want to improve performance of ClickHouse in some scenario, and if improvements can be observed on simple queries, it is highly recommended to write a performance test. It always makes sense to use <code>perf top</code> or other perf tools during your tests.</p>\n<p>Performance tests are not run on per-commit basis. Results of performance tests are not collected and we compare them manually.</p>\n<h3 id=\"test-tools-and-scripts\">Test Tools And Scripts<a class=\"headerlink\" href=\"#test-tools-and-scripts\" title=\"Permanent link\">&para;</a></h3>\n<p>Some programs in <code>tests</code> directory are not prepared tests, but are test tools. For example, for <code>Lexer</code> there is a tool <code>dbms/src/Parsers/tests/lexer</code> that just do tokenization of stdin and writes colorized result to stdout. You can use these kind of tools as a code examples and for exploration and manual testing.</p>\n<p>You can also place pair of files <code>.sh</code> and <code>.reference</code> along with the tool to run it on some predefined input - then script result can be compared to <code>.reference</code> file. These kind of tests are not automated.</p>\n<h3 id=\"miscellanous-tests\">Miscellanous Tests<a class=\"headerlink\" href=\"#miscellanous-tests\" title=\"Permanent link\">&para;</a></h3>\n<p>There are tests for external dictionaries located at <code>dbms/tests/external_dictionaries</code> and for machine learned models in <code>dbms/tests/external_models</code>. These tests are not updated and must be transferred to integration tests.</p>\n<p>There is separate test for quorum inserts. This test run ClickHouse cluster on separate servers and emulate various failure cases: network split, packet drop (between ClickHouse nodes, between ClickHouse and ZooKeeper, between ClickHouse server and client, etc.), <code>kill -9</code>, <code>kill -STOP</code> and <code>kill -CONT</code> , like <a href=\"https://aphyr.com/tags/Jepsen\" rel=\"external nofollow\">Jepsen</a>. Then the test checks that all acknowledged inserts was written and all rejected inserts was not.</p>\n<p>Quorum test was written by separate team before ClickHouse was open-sourced. This team no longer work with ClickHouse. Test was accidentially written in Java. For these reasons, quorum test must be rewritten and moved to integration tests.</p>\n<h3 id=\"manual-testing\">Manual Testing<a class=\"headerlink\" href=\"#manual-testing\" title=\"Permanent link\">&para;</a></h3>\n<p>When you develop a new feature, it is reasonable to also test it manually. You can do it with the following steps:</p>\n<p>Build ClickHouse. Run ClickHouse from the terminal: change directory to <code>dbms/src/programs/clickhouse-server</code> and run it with <code>./clickhouse-server</code>. It will use configuration (<code>config.xml</code>, <code>users.xml</code> and files within <code>config.d</code> and <code>users.d</code> directories) from the current directory by default. To connect to ClickHouse server, run <code>dbms/src/programs/clickhouse-client/clickhouse-client</code>.</p>\n<p>Note that all clickhouse tools (server, client, etc) are just symlinks to a single binary named <code>clickhouse</code>. You can find this binary at <code>dbms/src/programs/clickhouse</code>. All tools can also be invoked as <code>clickhouse tool</code> instead of <code>clickhouse-tool</code>.</p>\n<p>Alternatively you can install ClickHouse package: either stable release from Yandex repository or you can build package for yourself with <code>./release</code> in ClickHouse sources root. Then start the server with <code>sudo service clickhouse-server start</code> (or stop to stop the server). Look for logs at <code>/etc/clickhouse-server/clickhouse-server.log</code>.</p>\n<p>When ClickHouse is already installed on your system, you can build a new <code>clickhouse</code> binary and replace the existing binary:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">sudo service clickhouse-server stop</span>\n<span class=\"err\">sudo cp ./clickhouse /usr/bin/</span>\n<span class=\"err\">sudo service clickhouse-server start</span>\n</pre></div>\n\n\n<p>Also you can stop system clickhouse-server and run your own with the same configuration but with logging to terminal:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">sudo service clickhouse-server stop</span>\n<span class=\"err\">sudo -u clickhouse /usr/bin/clickhouse server --config-file /etc/clickhouse-server/config.xml</span>\n</pre></div>\n\n\n<p>Example with gdb:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">sudo -u clickhouse gdb --args /usr/bin/clickhouse server --config-file /etc/clickhouse-server/config.xml</span>\n</pre></div>\n\n\n<p>If the system clickhouse-server is already running and you don't want to stop it, you can change port numbers in your <code>config.xml</code> (or override them in a file in <code>config.d</code> directory), provide appropriate data path, and run it.</p>\n<p><code>clickhouse</code> binary has almost no dependencies and works across wide range of Linux distributions. To quick and dirty test your changes on a server, you can simply <code>scp</code> your fresh built <code>clickhouse</code> binary to your server and then run it as in examples above.</p>\n<h3 id=\"testing-environment\">Testing Environment<a class=\"headerlink\" href=\"#testing-environment\" title=\"Permanent link\">&para;</a></h3>\n<p>Before publishing release as stable we deploy it on testing environment. Testing environment is a cluster that process 1/39 part of <a href=\"https://metrica.yandex.com/\" rel=\"external nofollow\">Yandex.Metrica</a> data. We share our testing environment with Yandex.Metrica team. ClickHouse is upgraded without downtime on top of existing data. We look at first that data is processed successfully without lagging from realtime, the replication continue to work and there is no issues visible to Yandex.Metrica team. First check can be done in the following way:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">SELECT hostName() AS h, any(version()), any(uptime()), max(UTCEventTime), count() FROM remote(&#39;example01-01-{1..3}t&#39;, merge, hits) WHERE EventDate &gt;= today() - 2 GROUP BY h ORDER BY h;</span>\n</pre></div>\n\n\n<p>In some cases we also deploy to testing environment of our friend teams in Yandex: Market, Cloud, etc. Also we have some hardware servers that are used for development purposes.</p>\n<h3 id=\"load-testing\">Load Testing<a class=\"headerlink\" href=\"#load-testing\" title=\"Permanent link\">&para;</a></h3>\n<p>After deploying to testing environment we run load testing with queries from production cluster. This is done manually.</p>\n<p>Make sure you have enabled <code>query_log</code> on your production cluster.</p>\n<p>Collect query log for a day or more:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">clickhouse-client --query=&quot;SELECT DISTINCT query FROM system.query_log WHERE event_date = today() AND query LIKE &#39;%ym:%&#39; AND query NOT LIKE &#39;%system.query_log%&#39; AND type = 2 AND is_initial_query&quot; &gt; queries.tsv</span>\n</pre></div>\n\n\n<p>This is a way complicated example. <code>type = 2</code> will filter queries that are executed successfully. <code>query LIKE '%ym:%'</code> is to select relevant queries from Yandex.Metrica. <code>is_initial_query</code> is to select only queries that are initiated by client, not by ClickHouse itself (as parts of distributed query processing).</p>\n<p><code>scp</code> this log to your testing cluster and run it as following:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"err\">clickhouse benchmark --concurrency 16 &lt; queries.tsv</span>\n</pre></div>\n\n\n<p>(probably you also want to specify a <code>--user</code>)</p>\n<p>Then leave it for a night or weekend and go take a rest.</p>\n<p>You should check that <code>clickhouse-server</code> doesn't crash, memory footprint is bounded and performance not degrading over time.</p>\n<p>Precise query execution timings are not recorded and not compared due to high variability of queries and environment.</p>\n<h3 id=\"build-tests\">Build Tests<a class=\"headerlink\" href=\"#build-tests\" title=\"Permanent link\">&para;</a></h3>\n<p>Build tests allow to check that build is not broken on various alternative configurations and on some foreign systems. Tests are located at <code>ci</code> directory. They run build from source inside Docker, Vagrant, and sometimes with <code>qemu-user-static</code> inside Docker. These tests are under development and test runs are not automated.</p>\n<p>Motivation:</p>\n<p>Normally we release and run all tests on a single variant of ClickHouse build. But there are alternative build variants that are not thoroughly tested. Examples:</p>\n<ul>\n<li>build on FreeBSD;</li>\n<li>build on Debian with libraries from system packages;</li>\n<li>build with shared linking of libraries;</li>\n<li>build on AArch64 platform;</li>\n<li>build on PowerPc platform.</li>\n</ul>\n<p>For example, build with system packages is bad practice, because we cannot guarantee what exact version of packages a system will have. But this is really needed by Debian maintainers. For this reason we at least have to support this variant of build. Another example: shared linking is a common source of trouble, but it is needed for some enthusiasts.</p>\n<p>Though we cannot run all tests on all variant of builds, we want to check at least that various build variants are not broken. For this purpose we use build tests.</p>\n<h3 id=\"testing-for-protocol-compatibility\">Testing For Protocol Compatibility<a class=\"headerlink\" href=\"#testing-for-protocol-compatibility\" title=\"Permanent link\">&para;</a></h3>\n<p>When we extend ClickHouse network protocol, we test manually that old clickhouse-client works with new clickhouse-server and new clickhouse-client works with old clickhouse-server (simply by running binaries from corresponding packages).</p>\n<h3 id=\"help-from-the-compiler\">Help From The Compiler<a class=\"headerlink\" href=\"#help-from-the-compiler\" title=\"Permanent link\">&para;</a></h3>\n<p>Main ClickHouse code (that is located in <code>dbms</code> directory) is built with <code>-Wall -Wextra -Werror</code> and with some additional enabled warnings. Although these options are not enabled for third-party libraries.</p>\n<p>Clang has even more useful warnings - you can look for them with <code>-Weverything</code> and pick something to default build.</p>\n<p>For production builds, gcc is used (it still generates slightly more efficient code than clang). For development, clang is usually more convenient to use. You can build on your own machine with debug mode (to save battery of your laptop), but please note that compiler is able to generate more warnings with <code>-O3</code> due to better control flow and inter-procedure analysis. When building with clang, <code>libc++</code> is used instead of <code>libstdc++</code> and when building with debug mode, debug version of <code>libc++</code> is used that allows to catch more errors at runtime.</p>\n<h3 id=\"sanitizers\">Sanitizers<a class=\"headerlink\" href=\"#sanitizers\" title=\"Permanent link\">&para;</a></h3>\n<p><strong>Address sanitizer</strong>.\nWe run functional and integration tests under ASan on per-commit basis.</p>\n<p><strong>Valgrind (Memcheck)</strong>.\nWe run functional tests under Valgrind overnight. It takes multiple hours. Currently there is one known false positive in <code>re2</code> library, see <a href=\"https://research.swtch.com/sparse\" rel=\"external nofollow\">this article</a>.</p>\n<p><strong>Thread sanitizer</strong>.\nWe run functional tests under TSan. ClickHouse must pass all tests. Run under TSan is not automated and performed only occasionally.</p>\n<p><strong>Memory sanitizer</strong>.\nCurrently we still don't use MSan.</p>\n<p><strong>Undefined behaviour sanitizer.</strong>\nWe still don't use UBSan on per commit basis. There are some places to fix.</p>\n<p><strong>Debug allocator.</strong>\nYou can enable debug version of <code>tcmalloc</code> with <code>DEBUG_TCMALLOC</code> CMake option. We run tests with debug allocator on per-commit basis.</p>\n<p>You will find some additional details in <code>dbms/tests/instructions/sanitizers.txt</code>.</p>\n<h3 id=\"fuzzing\">Fuzzing<a class=\"headerlink\" href=\"#fuzzing\" title=\"Permanent link\">&para;</a></h3>\n<p>We use simple fuzz test to generate random SQL queries and to check that the server doesn't die. Fuzz testing is performed with Address sanitizer. You can find it in <code>00746_sql_fuzzy.pl</code>. This test should be run continuously (overnight and longer).</p>\n<p>As of December 2018, we still don't use isolated fuzz testing of library code.</p>\n<h3 id=\"security-audit\">Security Audit<a class=\"headerlink\" href=\"#security-audit\" title=\"Permanent link\">&para;</a></h3>\n<p>People from Yandex Cloud department do some basic overview of ClickHouse capabilities from the security standpoint.</p>\n<h3 id=\"static-analyzers\">Static Analyzers<a class=\"headerlink\" href=\"#static-analyzers\" title=\"Permanent link\">&para;</a></h3>\n<p>We use static analyzers only occasionally. We have evaluated <code>clang-tidy</code>, <code>Coverity</code>, <code>cppcheck</code>, <code>PVS-Studio</code>, <code>tscancode</code>. You will find instructions for usage in <code>dbms/tests/instructions/</code> directory. Also you can read <a href=\"https://habr.com/company/yandex/blog/342018/\" rel=\"external nofollow\">the article in russian</a>.</p>\n<p>If you use <code>CLion</code> as an IDE, you can leverage some <code>clang-tidy</code> checks out of the box.</p>\n<h3 id=\"hardening\">Hardening<a class=\"headerlink\" href=\"#hardening\" title=\"Permanent link\">&para;</a></h3>\n<p><code>FORTIFY_SOURCE</code> is used by default. It is almost useless, but still makes sense in rare cases and we don't disable it.</p>\n<h3 id=\"code-style\">Code Style<a class=\"headerlink\" href=\"#code-style\" title=\"Permanent link\">&para;</a></h3>\n<p>Code style rules are described <a href=\"https://clickhouse.yandex/docs/en/development/style/\">here</a>.</p>\n<p>To check for some common style violations, you can use <code>utils/check-style</code> script.</p>\n<p>To force proper style of your code, you can use <code>clang-format</code>. File <code>.clang-format</code> is located at the sources root. It mostly corresponding with our actual code style. But it's not recommended to apply <code>clang-format</code> to existing files because it makes formatting worse. You can use <code>clang-format-diff</code> tool that you can find in clang source repository.</p>\n<p>Alternatively you can try <code>uncrustify</code> tool to reformat your code. Configuration is in <code>uncrustify.cfg</code> in the sources root. It is less tested than <code>clang-format</code>.</p>\n<p><code>CLion</code> has its own code formatter that has to be tuned for our code style.</p>\n<h3 id=\"metrica-b2b-tests\">Metrica B2B Tests<a class=\"headerlink\" href=\"#metrica-b2b-tests\" title=\"Permanent link\">&para;</a></h3>\n<p>Each ClickHouse release is tested with Yandex Metrica and AppMetrica engines. Testing and stable versions of ClickHouse are deployed on VMs and run with a small copy of Metrica engine that is processing fixed sample of input data. Then results of two instances of Metrica engine are compared together.</p>\n<p>These tests are automated by separate team. Due to high number of moving parts, tests are fail most of the time by completely unrelated reasons, that are very difficult to figure out. Most likely these tests have negative value for us. Nevertheless these tests was proved to be useful in about one or two times out of hundreds.</p>\n<h3 id=\"test-coverage\">Test Coverage<a class=\"headerlink\" href=\"#test-coverage\" title=\"Permanent link\">&para;</a></h3>\n<p>As of July 2018 we don't track test coverage.</p>\n<h3 id=\"test-automation\">Test Automation<a class=\"headerlink\" href=\"#test-automation\" title=\"Permanent link\">&para;</a></h3>\n<p>We run tests with Yandex internal CI and job automation system named \"Sandbox\". We also continue to use Jenkins (available inside Yandex).</p>\n<p>Build jobs and tests are run in Sandbox on per commit basis. Resulting packages and test results are published in GitHub and can be downloaded by direct links. Artifacts are stored eternally. When you send a pull request on GitHub, we tag it as \"can be tested\" and our CI system will build ClickHouse packages (release, debug, with address sanitizer, etc) for you.</p>\n<p>We don't use Travis CI due to the limit on time and computational power.</p>\n<p>In Jenkins we run dictionary tests, Metrica B2B tests. We use Jenkins to prepare and publish releases. Jenkins is a legacy technology and all jobs will be moved to Sandbox.</p>\n<p><a name=\"../../../development/contrib/\"></a>\n<a name=\"../../../../development/contrib/\"></a>\n<a name=\"development/contrib/\"></a>\n<a name=\"../development/contrib/\"></a>\n<a name=\"../../../../../development/contrib/\"></a>\n<a name=\"contrib/\"></a>\n<a name=\"../../development/contrib/\"></a></p>\n<h2 id=\"third-party-libraries-used\">Third-Party Libraries Used<a class=\"headerlink\" href=\"#third-party-libraries-used\" title=\"Permanent link\">&para;</a></h2>\n<table>\n<thead>\n<tr>\n<th>Library</th>\n<th>License</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>base64</td>\n<td><a href=\"https://github.com/aklomp/base64/blob/a27c565d1b6c676beaf297fe503c4518185666f7/LICENSE\" rel=\"external nofollow\">BSD 2-Clause License</a></td>\n</tr>\n<tr>\n<td>boost</td>\n<td><a href=\"https://github.com/ClickHouse-Extras/boost-extra/blob/6883b40449f378019aec792f9983ce3afc7ff16e/LICENSE_1_0.txt\" rel=\"external nofollow\">Boost Software License 1.0</a></td>\n</tr>\n<tr>\n<td>brotli</td>\n<td><a href=\"https://github.com/google/brotli/blob/master/LICENSE\" rel=\"external nofollow\">MIT</a></td>\n</tr>\n<tr>\n<td>capnproto</td>\n<td><a href=\"https://github.com/capnproto/capnproto/blob/master/LICENSE\" rel=\"external nofollow\">MIT</a></td>\n</tr>\n<tr>\n<td>cctz</td>\n<td><a href=\"https://github.com/google/cctz/blob/4f9776a310f4952454636363def82c2bf6641d5f/LICENSE.txt\" rel=\"external nofollow\">Apache License 2.0</a></td>\n</tr>\n<tr>\n<td>double-conversion</td>\n<td><a href=\"https://github.com/google/double-conversion/blob/cf2f0f3d547dc73b4612028a155b80536902ba02/LICENSE\" rel=\"external nofollow\">BSD 3-Clause License</a></td>\n</tr>\n<tr>\n<td>FastMemcpy</td>\n<td><a href=\"https://github.com/yandex/ClickHouse/blob/master/libs/libmemcpy/impl/LICENSE\" rel=\"external nofollow\">MIT</a></td>\n</tr>\n<tr>\n<td>googletest</td>\n<td><a href=\"https://github.com/google/googletest/blob/master/LICENSE\" rel=\"external nofollow\">BSD 3-Clause License</a></td>\n</tr>\n<tr>\n<td>hyperscan</td>\n<td><a href=\"https://github.com/intel/hyperscan/blob/master/LICENSE\" rel=\"external nofollow\">BSD 3-Clause License</a></td>\n</tr>\n<tr>\n<td>libbtrie</td>\n<td><a href=\"https://github.com/yandex/ClickHouse/blob/master/contrib/libbtrie/LICENSE\" rel=\"external nofollow\">BSD 2-Clause License</a></td>\n</tr>\n<tr>\n<td>libcxxabi</td>\n<td><a href=\"https://github.com/yandex/ClickHouse/blob/master/libs/libglibc-compatibility/libcxxabi/LICENSE.TXT\" rel=\"external nofollow\">BSD + MIT</a></td>\n</tr>\n<tr>\n<td>libdivide</td>\n<td><a href=\"https://github.com/yandex/ClickHouse/blob/master/contrib/libdivide/LICENSE.txt\" rel=\"external nofollow\">Zlib License</a></td>\n</tr>\n<tr>\n<td>libgsasl</td>\n<td><a href=\"https://github.com/ClickHouse-Extras/libgsasl/blob/3b8948a4042e34fb00b4fb987535dc9e02e39040/LICENSE\" rel=\"external nofollow\">LGPL v2.1</a></td>\n</tr>\n<tr>\n<td>libhdfs3</td>\n<td><a href=\"https://github.com/ClickHouse-Extras/libhdfs3/blob/bd6505cbb0c130b0db695305b9a38546fa880e5a/LICENSE.txt\" rel=\"external nofollow\">Apache License 2.0</a></td>\n</tr>\n<tr>\n<td>libmetrohash</td>\n<td><a href=\"https://github.com/yandex/ClickHouse/blob/master/contrib/libmetrohash/LICENSE\" rel=\"external nofollow\">Apache License 2.0</a></td>\n</tr>\n<tr>\n<td>libpcg-random</td>\n<td><a href=\"https://github.com/yandex/ClickHouse/blob/master/contrib/libpcg-random/LICENSE-APACHE.txt\" rel=\"external nofollow\">Apache License 2.0</a></td>\n</tr>\n<tr>\n<td>libressl</td>\n<td><a href=\"https://github.com/ClickHouse-Extras/ssl/blob/master/COPYING\" rel=\"external nofollow\">OpenSSL License</a></td>\n</tr>\n<tr>\n<td>librdkafka</td>\n<td><a href=\"https://github.com/edenhill/librdkafka/blob/363dcad5a23dc29381cc626620e68ae418b3af19/LICENSE\" rel=\"external nofollow\">BSD 2-Clause License</a></td>\n</tr>\n<tr>\n<td>libwidechar_width</td>\n<td><a href=\"https://github.com/yandex/ClickHouse/blob/master/libs/libwidechar_width/LICENSE\" rel=\"external nofollow\">CC0 1.0 Universal</a></td>\n</tr>\n<tr>\n<td>llvm</td>\n<td><a href=\"https://github.com/ClickHouse-Extras/llvm/blob/163def217817c90fb982a6daf384744d8472b92b/llvm/LICENSE.TXT\" rel=\"external nofollow\">BSD 3-Clause License</a></td>\n</tr>\n<tr>\n<td>lz4</td>\n<td><a href=\"https://github.com/lz4/lz4/blob/c10863b98e1503af90616ae99725ecd120265dfb/LICENSE\" rel=\"external nofollow\">BSD 2-Clause License</a></td>\n</tr>\n<tr>\n<td>mariadb-connector-c</td>\n<td><a href=\"https://github.com/ClickHouse-Extras/mariadb-connector-c/blob/3.1/COPYING.LIB\" rel=\"external nofollow\">LGPL v2.1</a></td>\n</tr>\n<tr>\n<td>murmurhash</td>\n<td><a href=\"https://github.com/yandex/ClickHouse/blob/master/contrib/murmurhash/LICENSE\" rel=\"external nofollow\">Public Domain</a></td>\n</tr>\n<tr>\n<td>pdqsort</td>\n<td><a href=\"https://github.com/yandex/ClickHouse/blob/master/contrib/pdqsort/license.txt\" rel=\"external nofollow\">Zlib License</a></td>\n</tr>\n<tr>\n<td>poco</td>\n<td><a href=\"https://github.com/ClickHouse-Extras/poco/blob/fe5505e56c27b6ecb0dcbc40c49dc2caf4e9637f/LICENSE\" rel=\"external nofollow\">Boost Software License - Version 1.0</a></td>\n</tr>\n<tr>\n<td>protobuf</td>\n<td><a href=\"https://github.com/ClickHouse-Extras/protobuf/blob/12735370922a35f03999afff478e1c6d7aa917a4/LICENSE\" rel=\"external nofollow\">BSD 3-Clause License</a></td>\n</tr>\n<tr>\n<td>re2</td>\n<td><a href=\"https://github.com/google/re2/blob/7cf8b88e8f70f97fd4926b56aa87e7f53b2717e0/LICENSE\" rel=\"external nofollow\">BSD 3-Clause License</a></td>\n</tr>\n<tr>\n<td>UnixODBC</td>\n<td><a href=\"https://github.com/ClickHouse-Extras/UnixODBC/tree/b0ad30f7f6289c12b76f04bfb9d466374bb32168\" rel=\"external nofollow\">LGPL v2.1</a></td>\n</tr>\n<tr>\n<td>zlib-ng</td>\n<td><a href=\"https://github.com/ClickHouse-Extras/zlib-ng/blob/develop/LICENSE.md\" rel=\"external nofollow\">Zlib License</a></td>\n</tr>\n<tr>\n<td>zstd</td>\n<td><a href=\"https://github.com/facebook/zstd/blob/dev/LICENSE\" rel=\"external nofollow\">BSD 3-Clause License</a></td>\n</tr>\n<tr>\n<td><a name=\"../roadmap/\"></a></td>\n<td></td>\n</tr>\n<tr>\n<td><a name=\"roadmap/\"></a></td>\n<td></td>\n</tr>\n<tr>\n<td><a name=\"../../../../roadmap/\"></a></td>\n<td></td>\n</tr>\n<tr>\n<td><a name=\"../../../../../roadmap/\"></a></td>\n<td></td>\n</tr>\n<tr>\n<td><a name=\"../../../roadmap/\"></a></td>\n<td></td>\n</tr>\n<tr>\n<td><a name=\"../../roadmap/\"></a></td>\n<td></td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"roadmap\">Roadmap<a class=\"headerlink\" href=\"#roadmap\" title=\"Permanent link\">&para;</a></h2>\n<h3 id=\"q2-2019\">Q2 2019<a class=\"headerlink\" href=\"#q2-2019\" title=\"Permanent link\">&para;</a></h3>\n<ul>\n<li>DDL for dictionaries</li>\n<li>Integration with S3-like object stores</li>\n<li>Multiple storages for hot/cold data, JBOD support</li>\n</ul>\n<h3 id=\"q3-2019\">Q3 2019<a class=\"headerlink\" href=\"#q3-2019\" title=\"Permanent link\">&para;</a></h3>\n<ul>\n<li>JOIN execution improvements:<ul>\n<li>Distributed join not limited by memory</li>\n</ul>\n</li>\n<li>Resource pools for more precise distribution of cluster capacity between users</li>\n<li>Fine-grained authorization</li>\n<li>Integration with external authentication services</li>\n</ul>\n<p><a name=\"../changelog/\"></a>\n<a name=\"../../../../../changelog/\"></a>\n<a name=\"changelog/\"></a>\n<a name=\"../../../changelog/\"></a>\n<a name=\"../../changelog/\"></a>\n<a name=\"../../../../changelog/\"></a></p>\n<h3 id=\"clickhouse-release-19-5-3-8-2019-04-18\">ClickHouse release 19.5.3.8, 2019-04-18<a class=\"headerlink\" href=\"#clickhouse-release-19-5-3-8-2019-04-18\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"ispravleniia-oshibok\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u0448\u0438\u0431\u043e\u043a<a class=\"headerlink\" href=\"#ispravleniia-oshibok\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u0442\u0438\u043f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 <code>max_partitions_per_insert_block</code> \u0441 \u0431\u0443\u043b\u0435\u0432\u043e\u0433\u043e \u043d\u0430 UInt64. <a href=\"https://github.com/yandex/ClickHouse/pull/5028\" rel=\"external nofollow\">#5028</a> (<a href=\"https://github.com/mhsekhavat\" rel=\"external nofollow\">Mohammad Hossein Sekhavat</a>)</li>\n</ul>\n<h3 id=\"clickhouse-release-19-5-2-6-2019-04-15\">ClickHouse release 19.5.2.6, 2019-04-15<a class=\"headerlink\" href=\"#clickhouse-release-19-5-2-6-2019-04-15\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"novye-vozmozhnosti\">\u041d\u043e\u0432\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438<a class=\"headerlink\" href=\"#novye-vozmozhnosti\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u043c\u0438 \u0440\u0435\u0433\u0443\u043b\u044f\u0440\u043d\u044b\u043c\u0438 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f\u043c\u0438 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 <a href=\"https://github.com/intel/hyperscan\" rel=\"external nofollow\">Hyperscan</a>. (<code>multiMatchAny</code>, <code>multiMatchAnyIndex</code>, <code>multiFuzzyMatchAny</code>, <code>multiFuzzyMatchAnyIndex</code>). <a href=\"https://github.com/yandex/ClickHouse/pull/4780\" rel=\"external nofollow\">#4780</a>, <a href=\"https://github.com/yandex/ClickHouse/pull/4841\" rel=\"external nofollow\">#4841</a> (<a href=\"https://github.com/danlark1\" rel=\"external nofollow\">Danila Kutenin</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f <code>multiSearchFirstPosition</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4780\" rel=\"external nofollow\">#4780</a> (<a href=\"https://github.com/danlark1\" rel=\"external nofollow\">Danila Kutenin</a>)</li>\n<li>\u0420\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u044f \u043f\u043e\u0441\u0442\u0440\u043e\u0447\u043d\u043e\u0433\u043e \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u0442\u0430\u0431\u043b\u0438\u0446\u0430\u043c. <a href=\"https://github.com/yandex/ClickHouse/pull/4792\" rel=\"external nofollow\">#4792</a> (<a href=\"https://github.com/abyss7\" rel=\"external nofollow\">Ivan</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u043d\u043e\u0432\u044b\u0439 \u0442\u0438\u043f \u0432\u0442\u043e\u0440\u0438\u0447\u043d\u043e\u0433\u043e \u0438\u043d\u0434\u0435\u043a\u0441\u0430 \u043d\u0430 \u0431\u0430\u0437\u0435 \u0444\u0438\u043b\u044c\u0442\u0440\u0430 \u0411\u043b\u0443\u043c\u0430 (\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0432 \u0444\u0443\u043d\u043a\u0446\u0438\u044f\u0445 <code>equal</code>, <code>in</code> \u0438 <code>like</code>). <a href=\"https://github.com/yandex/ClickHouse/pull/4499\" rel=\"external nofollow\">#4499</a> (<a href=\"https://github.com/nikvas0\" rel=\"external nofollow\">Nikita Vasilev</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d <code>ASOF JOIN</code> \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0434\u0436\u043e\u0439\u043d\u0438\u0442\u044c \u0441\u0442\u0440\u043e\u043a\u0438 \u043f\u043e \u043d\u0430\u0438\u0431\u043e\u043b\u0435\u0435 \u0431\u043b\u0438\u0437\u043a\u043e\u043c\u0443 \u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e\u043c\u0443 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044e. <a href=\"https://github.com/yandex/ClickHouse/pull/4774\" rel=\"external nofollow\">#4774</a> <a href=\"https://github.com/yandex/ClickHouse/pull/4867\" rel=\"external nofollow\">#4867</a> <a href=\"https://github.com/yandex/ClickHouse/pull/4863\" rel=\"external nofollow\">#4863</a> <a href=\"https://github.com/yandex/ClickHouse/pull/4875\" rel=\"external nofollow\">#4875</a> (<a href=\"https://github.com/Gladdy\" rel=\"external nofollow\">Martijn Bakker</a>, <a href=\"https://github.com/4ertus2\" rel=\"external nofollow\">Artem Zuikov</a>)</li>\n<li>\u0422\u0435\u043f\u0435\u0440\u044c \u0437\u0430\u043f\u0440\u043e\u0441 <code>COMMA JOIN</code> \u043f\u0435\u0440\u0435\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442\u0441\u044f <code>CROSS JOIN</code>. \u0418 \u0437\u0430\u0442\u0435\u043c \u043e\u0431\u0430 \u043f\u0435\u0440\u0435\u043f\u0438\u0441\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u0432 <code>INNER JOIN</code>, \u0435\u0441\u043b\u0438 \u044d\u0442\u043e \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e. <a href=\"https://github.com/yandex/ClickHouse/pull/4661\" rel=\"external nofollow\">#4661</a> (<a href=\"https://github.com/4ertus2\" rel=\"external nofollow\">Artem Zuikov</a>)</li>\n</ul>\n<h4 id=\"uluchsheniia\">\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f<a class=\"headerlink\" href=\"#uluchsheniia\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0424\u0443\u043d\u043a\u0446\u0438\u0438 <code>topK</code> \u0438 <code>topKWeighted</code> \u0442\u0435\u043f\u0435\u0440\u044c \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u044e\u0442 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u044b\u0439 <code>loadFactor</code> (\u0438\u0441\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 issue <a href=\"https://github.com/yandex/ClickHouse/issues/4252\" rel=\"external nofollow\">#4252</a>). <a href=\"https://github.com/yandex/ClickHouse/pull/4634\" rel=\"external nofollow\">#4634</a> (<a href=\"https://github.com/kirillDanshin\" rel=\"external nofollow\">Kirill Danshin</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 <code>parallel_replicas_count &gt; 1</code> \u0434\u043b\u044f \u0442\u0430\u0431\u043b\u0438\u0446 \u0431\u0435\u0437 \u0441\u0435\u043c\u043f\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f (\u0440\u0430\u043d\u0435\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u043f\u0440\u043e\u0441\u0442\u043e \u0438\u0433\u043d\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0430\u0441\u044c). <a href=\"https://github.com/yandex/ClickHouse/pull/4637\" rel=\"external nofollow\">#4637</a> (<a href=\"https://github.com/digitalist\" rel=\"external nofollow\">Alexey Elymanov</a>)</li>\n<li>\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u0430\u043d \u0437\u0430\u043f\u0440\u043e\u0441 <code>CREATE OR REPLACE VIEW</code>. \u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u0442\u044c <code>VIEW</code> \u0438\u043b\u0438 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441 \u0432 \u043e\u0434\u043d\u043e\u043c \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0438. <a href=\"https://github.com/yandex/ClickHouse/pull/4654\" rel=\"external nofollow\">#4654</a> (<a href=\"https://github.com/bgranvea\" rel=\"external nofollow\">Boris Granveaud</a>)</li>\n<li>\u0414\u0432\u0438\u0436\u043e\u043a \u0442\u0430\u0431\u043b\u0438\u0446 <code>Buffer</code> \u0442\u0435\u043f\u0435\u0440\u044c \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 <code>PREWHERE</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4671\" rel=\"external nofollow\">#4671</a> (<a href=\"https://github.com/LiuYangkuan\" rel=\"external nofollow\">Yangkuan Liu</a>)</li>\n<li>\u0422\u0435\u043f\u0435\u0440\u044c \u0440\u0435\u043f\u043b\u0438\u0446\u0438\u0440\u0443\u0435\u043c\u044b\u0435 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u043c\u043e\u0433\u0443 \u0441\u0442\u0430\u0440\u0442\u043e\u0432\u0430\u0442\u044c \u0432 <code>readonly</code> \u0440\u0435\u0436\u0438\u043c\u0435 \u0434\u0430\u0436\u0435 \u043f\u0440\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u0438 zookeeper. <a href=\"https://github.com/yandex/ClickHouse/pull/4691\" rel=\"external nofollow\">#4691</a> (<a href=\"https://github.com/alesapin\" rel=\"external nofollow\">alesapin</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043c\u0438\u0433\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0433\u0440\u0435\u0441\u0441-\u0431\u0430\u0440\u0430 \u0432 clickhouse-client. \u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0431\u044b\u043b\u0430 \u043d\u0430\u0438\u0431\u043e\u043b\u0435\u0435 \u0437\u0430\u043c\u0435\u0442\u043d\u0430 \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 <code>FORMAT Null</code> \u0432 \u043f\u043e\u0442\u043e\u043a\u043e\u0432\u044b\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445. <a href=\"https://github.com/yandex/ClickHouse/pull/4811\" rel=\"external nofollow\">#4811</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u0439, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0449\u0438\u0445 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0443 <code>hyperscan</code>, \u0434\u043b\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439, \u0447\u0442\u043e\u0431\u044b \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0438\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0435 \u043d\u0435\u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0438\u0440\u0443\u0435\u043c\u043e\u0435 \u043f\u043e\u0442\u0440\u0435\u0431\u043b\u0435\u043d\u0438\u0435 \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432. <a href=\"https://github.com/yandex/ClickHouse/pull/4816\" rel=\"external nofollow\">#4816</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043d\u043e\u043c\u0435\u0440\u0430 \u0432\u0435\u0440\u0441\u0438\u0438 \u0432\u043e \u0432\u0441\u0435 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f. <a href=\"https://github.com/yandex/ClickHouse/pull/4824\" rel=\"external nofollow\">#4824</a> (<a href=\"https://github.com/proller\" rel=\"external nofollow\">proller</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0435 \u043d\u0430 \u0440\u0430\u0437\u043c\u0435\u0440 \u0441\u0442\u0440\u043e\u043a \u0438 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u0432 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>multiMatch</code>. \u0422\u0435\u043f\u0435\u0440\u044c \u043e\u043d\u0438 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0442 \u0441\u0442\u0440\u043e\u043a\u0438 \u0443\u043c\u0435\u0449\u0430\u044e\u0449\u0438\u0435\u0441\u044f \u0432 <code>unsigned int</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4834\" rel=\"external nofollow\">#4834</a> (<a href=\"https://github.com/danlark1\" rel=\"external nofollow\">Danila Kutenin</a>)</li>\n<li>\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u043c\u044f\u0442\u0438 \u0438 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043e\u0448\u0438\u0431\u043e\u043a \u0432 Hyperscan. <a href=\"https://github.com/yandex/ClickHouse/pull/4866\" rel=\"external nofollow\">#4866</a> (<a href=\"https://github.com/danlark1\" rel=\"external nofollow\">Danila Kutenin</a>)</li>\n<li>\u0422\u0435\u043f\u0435\u0440\u044c \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u0430\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430 <code>system.graphite_detentions</code> \u0437\u0430\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u0438\u0437 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0430 \u0434\u043b\u044f \u0442\u0430\u0431\u043b\u0438\u0446 \u0441\u0435\u043c\u0435\u0439\u0441\u0442\u0432\u0430 <code>*GraphiteMergeTree</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4584\" rel=\"external nofollow\">#4584</a> (<a href=\"https://github.com/Felixoid\" rel=\"external nofollow\">Mikhail f. Shiryaev</a>)</li>\n<li>\u0424\u0443\u043d\u043a\u0446\u0438\u044f <code>trigramDistance</code> \u043f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0430 \u0432 \u0444\u0443\u043d\u043a\u0446\u0438\u044e <code>ngramDistance</code>. \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0444\u0443\u043d\u043a\u0446\u0438\u0439 \u0441 <code>CaseInsensitive</code> \u0438 <code>UTF</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4602\" rel=\"external nofollow\">#4602</a> (<a href=\"https://github.com/danlark1\" rel=\"external nofollow\">Danila Kutenin</a>)</li>\n<li>\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u043e \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0435 \u0432\u0442\u043e\u0440\u0438\u0447\u043d\u044b\u0445 \u0438\u043d\u0434\u0435\u043a\u0441\u043e\u0432. <a href=\"https://github.com/yandex/ClickHouse/pull/4640\" rel=\"external nofollow\">#4640</a> (<a href=\"https://github.com/nikvas0\" rel=\"external nofollow\">Nikita Vasilev</a>)</li>\n<li>\u0422\u0435\u043f\u0435\u0440\u044c \u043e\u0431\u044b\u0447\u043d\u044b\u0435 \u043a\u043e\u043b\u043e\u043d\u043a\u0438, \u0430 \u0442\u0430\u043a\u0436\u0435 \u043a\u043e\u043b\u043e\u043d\u043a\u0438 <code>DEFAULT</code>, <code>MATERIALIZED</code> \u0438 <code>ALIAS</code> \u0445\u0440\u0430\u043d\u044f\u0442\u0441\u044f \u0432 \u043e\u0434\u043d\u043e\u043c \u0441\u043f\u0438\u0441\u043a\u0435 (\u0438\u0441\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 issue <a href=\"https://github.com/yandex/ClickHouse/issues/2867\" rel=\"external nofollow\">#2867</a>). <a href=\"https://github.com/yandex/ClickHouse/pull/4707\" rel=\"external nofollow\">#4707</a> (<a href=\"https://github.com/ztlpn\" rel=\"external nofollow\">Alex Zatelepin</a>)</li>\n</ul>\n<h4 id=\"ispravleniia-oshibok_1\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u0448\u0438\u0431\u043e\u043a<a class=\"headerlink\" href=\"#ispravleniia-oshibok_1\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0432\u044b\u0434\u0435\u043b\u0438\u0442\u044c \u043f\u0430\u043c\u044f\u0442\u044c \u0432\u043c\u0435\u0441\u0442\u043e \u0432\u044b\u0437\u043e\u0432\u0430 <code>std::terminate</code> \u0431\u0440\u043e\u0441\u0430\u0435\u0442\u0441\u044f \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 <code>std::bad_alloc</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4665\" rel=\"external nofollow\">#4665</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u043e\u0448\u0438\u0431\u043a\u0438 \u0447\u0442\u0435\u043d\u0438\u044f capnproto \u0438\u0437 \u0431\u0443\u0444\u0435\u0440\u0430. \u0418\u043d\u043e\u0433\u0434\u0430 \u0444\u0430\u0439\u043b\u044b \u043d\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u043b\u0438\u0441\u044c \u043f\u043e HTTP. <a href=\"https://github.com/yandex/ClickHouse/pull/4674\" rel=\"external nofollow\">#4674</a> (<a href=\"https://github.com/smirnov-vs\" rel=\"external nofollow\">Vladislav</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 <code>Unknown log entry type: 0</code> \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 <code>OPTIMIZE TABLE FINAL</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4683\" rel=\"external nofollow\">#4683</a> (<a href=\"https://github.com/amosbird\" rel=\"external nofollow\">Amos Bird</a>)</li>\n<li>\u041f\u0440\u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0435 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0445 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0432 <code>hasAny</code> \u0438 <code>hasAll</code> \u043c\u043e\u0433\u043b\u0430 \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442\u044c \u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0433\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f. <a href=\"https://github.com/yandex/ClickHouse/pull/4698\" rel=\"external nofollow\">#4698</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u0434\u0435\u0434\u043b\u043e\u043a, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043c\u043e\u0433 \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442\u044c \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0435 <code>DROP DATABASE dictionary</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4701\" rel=\"external nofollow\">#4701</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043d\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0435 \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0432 \u0444\u0443\u043d\u043a\u0446\u0438\u044f\u0445 <code>median</code> \u0438 <code>quantile</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4702\" rel=\"external nofollow\">#4702</a> (<a href=\"https://github.com/hczhcz\" rel=\"external nofollow\">hcz</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u0443\u0440\u043e\u0432\u043d\u044f \u0441\u0436\u0430\u0442\u0438\u044f \u043f\u0440\u0438 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 <code>network_compression_method</code> \u0432 \u043d\u0438\u0436\u043d\u0435\u043c \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0435. \u0411\u044b\u043b\u043e \u0441\u043b\u043e\u043c\u0430\u043d\u043e \u0432 v19.1. <a href=\"https://github.com/yandex/ClickHouse/pull/4706\" rel=\"external nofollow\">#4706</a> (<a href=\"https://github.com/proller\" rel=\"external nofollow\">proller</a>)</li>\n<li>\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>&lt;timezone&gt;UTC&lt;/timezone&gt;</code> \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0435 \u0438\u0433\u043d\u043e\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f (\u0438\u0441\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 issue <a href=\"https://github.com/yandex/ClickHouse/issues/4658\" rel=\"external nofollow\">#4658</a>). <a href=\"https://github.com/yandex/ClickHouse/pull/4718\" rel=\"external nofollow\">#4718</a> (<a href=\"https://github.com/proller\" rel=\"external nofollow\">proller</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>histogram</code> \u0441 <code>Distributed</code> \u0442\u0430\u0431\u043b\u0438\u0446\u0430\u043c\u0438. <a href=\"https://github.com/yandex/ClickHouse/pull/4741\" rel=\"external nofollow\">#4741</a> (<a href=\"https://github.com/olegkv\" rel=\"external nofollow\">olegkv</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0441\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u043d\u0438\u0435 thread-\u0441\u0430\u043d\u0438\u0442\u0430\u0439\u0437\u0435\u0440\u0430 \u0441 \u043e\u0448\u0438\u0431\u043a\u043e\u0439 <code>destroy of a locked mutex</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4742\" rel=\"external nofollow\">#4742</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0441\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u043d\u0438\u0435 thread-\u0441\u0430\u043d\u0438\u0442\u0430\u0439\u0437\u0435\u0440\u0430 \u043f\u0440\u0438 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u0430, \u0432\u044b\u0437\u0432\u0430\u043d\u043d\u043e\u0435 \u0433\u043e\u043d\u043a\u043e\u0439 \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0445 \u043b\u043e\u0433\u043e\u0432. \u0422\u0430\u043a\u0436\u0435 \u0438\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0442\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430 use-after-free \u043f\u0440\u0438 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u043c \u0431\u044b\u043b \u0432\u043a\u043b\u044e\u0447\u0435\u043d <code>part_log</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4758\" rel=\"external nofollow\">#4758</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u0435\u0440\u0435\u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043a\u0443\u0441\u043a\u043e\u0432 \u0432 <code>ReplicatedMergeTreeAlterThread</code> \u043f\u0440\u0438 \u043f\u043e\u044f\u0432\u043b\u0435\u043d\u0438\u0438 \u043e\u0448\u0438\u0431\u043e\u043a. <a href=\"https://github.com/yandex/ClickHouse/pull/4772\" rel=\"external nofollow\">#4772</a> (<a href=\"https://github.com/KochetovNicolai\" rel=\"external nofollow\">Nikolai Kochetov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0430 \u0430\u0440\u0438\u0444\u043c\u0435\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439 \u0441 \u043f\u0440\u043e\u043c\u0435\u0436\u0443\u0442\u043e\u0447\u043d\u044b\u043c\u0438 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f\u043c\u0438 \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 \u0434\u043b\u044f \u043a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u043d\u044b\u0445 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u0432 (\u0442\u0430\u043a\u0438\u0445 \u043a\u0430\u043a \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0434\u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432). <a href=\"https://github.com/yandex/ClickHouse/pull/4776\" rel=\"external nofollow\">#4776</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0422\u0435\u043f\u0435\u0440\u044c \u0438\u043c\u0435\u043d\u0430 \u043a\u043e\u043b\u043e\u043d\u043e\u043a \u0432\u0441\u0435\u0433\u0434\u0430 \u044d\u043a\u0440\u0430\u043d\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u0432 \u0444\u0430\u0439\u043b\u0430\u0445 \u0441 \u043c\u0435\u0442\u0430\u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0435\u0439. \u0412 \u043f\u0440\u043e\u0442\u0438\u0432\u043d\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u0431\u044b\u043b\u043e \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0442\u0430\u0431\u043b\u0438\u0446\u0443 \u0441 \u043a\u043e\u043b\u043e\u043d\u043a\u043e\u0439 \u0441 \u0438\u043c\u0435\u043d\u0435\u043c <code>index</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4782\" rel=\"external nofollow\">#4782</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0430\u0434\u0435\u043d\u0438\u0435 \u0432 \u0437\u0430\u043f\u0440\u043e\u0441\u0435 <code>ALTER ... MODIFY ORDER BY</code> \u043a <code>Distributed</code> \u0442\u0430\u0431\u043b\u0438\u0446\u0435. <a href=\"https://github.com/yandex/ClickHouse/pull/4790\" rel=\"external nofollow\">#4790</a> (<a href=\"https://github.com/TCeason\" rel=\"external nofollow\">TCeason</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0433\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445 \u0441 <code>JOIN ON</code> \u0438 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u043e\u0439 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u043e\u0439 <code>enable_optimize_predicate_expression</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4794\" rel=\"external nofollow\">#4794</a> (<a href=\"https://github.com/zhang2014\" rel=\"external nofollow\">Winter Zhang</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043b\u0438\u0448\u043d\u0435\u0439 \u0441\u0442\u0440\u043e\u043a\u0438 \u043f\u043e\u0441\u043b\u0435 \u0447\u0442\u0435\u043d\u0438\u044f protobuf-\u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0438\u0437 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0441 \u0434\u0432\u0438\u0436\u043a\u043e\u043c <code>Kafka</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4808\" rel=\"external nofollow\">#4808</a> (<a href=\"https://github.com/vitlibar\" rel=\"external nofollow\">Vitaly Baranov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0430\u0434\u0435\u043d\u0438\u0435 \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0435 \u0441 <code>JOIN ON</code> \u0441 \u043d\u0435 <code>nullable</code> \u0438 nullable \u043a\u043e\u043b\u043e\u043d\u043a\u043e\u0439. \u0422\u0430\u043a\u0436\u0435 \u0438\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u043f\u0440\u0438 \u043f\u043e\u044f\u0432\u043b\u0435\u043d\u0438\u0438 <code>NULLs</code> \u0441\u0440\u0435\u0434\u0438 \u043a\u043b\u044e\u0447\u0435\u0439 \u0441\u043f\u0440\u0430\u0432\u0430 \u0432<code>ANY JOIN</code> + <code>join_use_nulls</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4815\" rel=\"external nofollow\">#4815</a> (<a href=\"https://github.com/4ertus2\" rel=\"external nofollow\">Artem Zuikov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0433\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0432 <code>clickhouse-copier</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4835\" rel=\"external nofollow\">#4835</a> (<a href=\"https://github.com/proller\" rel=\"external nofollow\">proller</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0433\u043e\u043d\u043a\u0430 \u043f\u0440\u0438 <code>SELECT</code> \u0437\u0430\u043f\u0440\u043e\u0441\u0435 \u0438\u0437 <code>system.tables</code> \u0435\u0441\u043b\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u0430 \u0431\u044b\u043b\u0430 \u043a\u043e\u043d\u043a\u0443\u0440\u0435\u043d\u0442\u043d\u043e \u043f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0430 \u0438\u043b\u0438 \u043a \u043d\u0435\u0439 \u0431\u044b\u043b \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d <code>ALTER</code> \u0437\u0430\u043f\u0440\u043e\u0441. <a href=\"https://github.com/yandex/ClickHouse/pull/4836\" rel=\"external nofollow\">#4836</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0433\u043e\u043d\u043a\u0430 \u043f\u0440\u0438 \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u0438 \u043a\u0443\u0441\u043a\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0443\u0436\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0443\u0441\u0442\u0430\u0440\u0435\u0432\u0448\u0438\u043c. <a href=\"https://github.com/yandex/ClickHouse/pull/4839\" rel=\"external nofollow\">#4839</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0435\u0434\u043a\u0430\u044f \u0433\u043e\u043d\u043a\u0430 \u043f\u0440\u0438 <code>RENAME</code> \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445 \u043a \u0442\u0430\u0431\u043b\u0438\u0446\u0430\u043c \u0441\u0435\u043c\u0435\u0439\u0441\u0442\u0432\u0430 MergeTree. <a href=\"https://github.com/yandex/ClickHouse/pull/4844\" rel=\"external nofollow\">#4844</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0433\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0432 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>arrayIntersect</code>. \u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u043b\u0430 \u043f\u0440\u0438 \u0432\u044b\u0437\u043e\u0432\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u0441 \u043a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u043d\u044b\u043c\u0438 \u0438 \u043d\u0435 \u043a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u043d\u044b\u043c\u0438 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0430\u043c\u0438. <a href=\"https://github.com/yandex/ClickHouse/pull/4847\" rel=\"external nofollow\">#4847</a> (<a href=\"https://github.com/fancyqlx\" rel=\"external nofollow\">Lixiang Qian</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0435\u0434\u043a\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0447\u0442\u0435\u043d\u0438\u0438 \u0438\u0437 \u043a\u043e\u043b\u043e\u043d\u043a\u0438 \u0442\u0438\u043f\u0430 <code>Array(LowCardinality)</code>, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u043b\u0430, \u0435\u0441\u043b\u0438 \u0432 \u043a\u043e\u043b\u043e\u043d\u043a\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043b\u043e\u0441\u044c \u0431\u043e\u043b\u044c\u0448\u0435\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u043e\u0434\u0440\u044f\u0434 \u0438\u0434\u0443\u0449\u0438\u0445 \u043f\u0443\u0441\u0442\u044b\u0445 \u043c\u0430\u0441\u0441\u0438\u0432\u043e\u0432. <a href=\"https://github.com/yandex/ClickHouse/pull/4850\" rel=\"external nofollow\">#4850</a> (<a href=\"https://github.com/KochetovNicolai\" rel=\"external nofollow\">Nikolai Kochetov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0430\u043b\u0435\u043d\u0438\u0435 \u0432 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0441 <code>FULL/RIGHT JOIN</code> \u043a\u043e\u0433\u0434\u0430 \u043e\u0431\u044a\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u043b\u043e \u043f\u043e nullable \u0438 \u043d\u0435 nullable \u043a\u043e\u043b\u043e\u043d\u043a\u0435. <a href=\"https://github.com/yandex/ClickHouse/pull/4855\" rel=\"external nofollow\">#4855</a> (<a href=\"https://github.com/4ertus2\" rel=\"external nofollow\">Artem Zuikov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 <code>No message received</code>, \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u0432\u0448\u0430\u044f \u043f\u0440\u0438 \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u0438 \u043a\u0443\u0441\u043a\u043e\u0432 \u043c\u0435\u0436\u0434\u0443 \u0440\u0435\u043f\u043b\u0438\u043a\u0430\u043c\u0438. <a href=\"https://github.com/yandex/ClickHouse/pull/4856\" rel=\"external nofollow\">#4856</a> (<a href=\"https://github.com/alesapin\" rel=\"external nofollow\">alesapin</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>arrayIntersect</code> \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u0432\u0448\u0430\u044f \u043a \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u043c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430\u043c \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u043f\u043e\u0432\u0442\u043e\u0440\u044f\u044e\u0449\u0438\u0445\u0441\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u0432 \u043c\u0430\u0441\u0441\u0438\u0432\u0435. <a href=\"https://github.com/yandex/ClickHouse/pull/4871\" rel=\"external nofollow\">#4871</a> (<a href=\"https://github.com/KochetovNicolai\" rel=\"external nofollow\">Nikolai Kochetov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0433\u043e\u043d\u043a\u0430 \u043f\u0440\u0438 \u043a\u043e\u043d\u043a\u0443\u0440\u0435\u043d\u0442\u043d\u044b\u0445 <code>ALTER COLUMN</code> \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043c\u043e\u0433\u043b\u0430 \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u0442\u044c \u043a \u043f\u0430\u0434\u0435\u043d\u0438\u044e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 (\u0438\u0441\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 issue <a href=\"https://github.com/yandex/ClickHouse/issues/3421\" rel=\"external nofollow\">#3421</a>). <a href=\"https://github.com/yandex/ClickHouse/pull/4592\" rel=\"external nofollow\">#4592</a> (<a href=\"https://github.com/ztlpn\" rel=\"external nofollow\">Alex Zatelepin</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0432 <code>FULL/RIGHT JOIN</code> \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445 \u0441 \u043a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u043d\u043e\u0439 \u043a\u043e\u043b\u043e\u043d\u043a\u043e\u0439. <a href=\"https://github.com/yandex/ClickHouse/pull/4723\" rel=\"external nofollow\">#4723</a> (<a href=\"https://github.com/4ertus2\" rel=\"external nofollow\">Artem Zuikov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u043e\u044f\u0432\u043b\u0435\u043d\u0438\u0435 \u0434\u0443\u0431\u043b\u0438\u043a\u0430\u0442\u043e\u0432 \u0432 <code>GLOBAL JOIN</code> \u0441\u043e \u0437\u0432\u0435\u0437\u0434\u043e\u0447\u043a\u043e\u0439. <a href=\"https://github.com/yandex/ClickHouse/pull/4705\" rel=\"external nofollow\">#4705</a> (<a href=\"https://github.com/4ertus2\" rel=\"external nofollow\">Artem Zuikov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u043a\u043e\u0434\u0435\u043a\u043e\u0432 \u0432 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445 <code>ALTER MODIFY</code>, \u0435\u0441\u043b\u0438 \u0442\u0438\u043f \u043a\u043e\u043b\u043e\u043d\u043a\u0438 \u043d\u0435 \u0431\u044b\u043b \u0443\u043a\u0430\u0437\u0430\u043d. <a href=\"https://github.com/yandex/ClickHouse/pull/4883\" rel=\"external nofollow\">#4883</a> (<a href=\"https://github.com/alesapin\" rel=\"external nofollow\">alesapin</a>)</li>\n<li>\u0424\u0443\u043d\u043a\u0446\u0438\u0438 <code>cutQueryStringAndFragment()</code> \u0438 <code>queryStringAndFragment()</code> \u0442\u0435\u043f\u0435\u0440\u044c \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0442 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e, \u043a\u043e\u0433\u0434\u0430 <code>URL</code> \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0444\u0440\u0430\u0433\u043c\u0435\u043d\u0442, \u043d\u043e \u043d\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0437\u0430\u043f\u0440\u043e\u0441\u0430. <a href=\"https://github.com/yandex/ClickHouse/pull/4894\" rel=\"external nofollow\">#4894</a> (<a href=\"https://github.com/vitlibar\" rel=\"external nofollow\">Vitaly Baranov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0435\u0434\u043a\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430, \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u0432\u0448\u0430\u044f \u043f\u0440\u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 <code>min_bytes_to_use_direct_io</code> \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0443\u043b\u044f. \u041e\u043d\u0430 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043f\u0440\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u0441\u0434\u0432\u0438\u043d\u0443\u0442\u0441\u044f \u0432 \u0444\u0430\u0439\u043b\u0435, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0443\u0436\u0435 \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u043d \u0434\u043e \u043a\u043e\u043d\u0446\u0430. <a href=\"https://github.com/yandex/ClickHouse/pull/4897\" rel=\"external nofollow\">#4897</a> (<a href=\"https://github.com/alesapin\" rel=\"external nofollow\">alesapin</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0435 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u0442\u0438\u043f\u043e\u0432 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0434\u043b\u044f \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 \u0441 <code>LowCardinality</code> \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0430\u043c\u0438 (\u0438\u0441\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 <a href=\"https://github.com/yandex/ClickHouse/issues/4919\" rel=\"external nofollow\">#4919</a>). <a href=\"https://github.com/yandex/ClickHouse/pull/4922\" rel=\"external nofollow\">#4922</a> (<a href=\"https://github.com/KochetovNicolai\" rel=\"external nofollow\">Nikolai Kochetov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0435\u0432\u0435\u0440\u043d\u0430\u044f \u043a\u0432\u0430\u043b\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f \u0438\u043c\u0451\u043d \u0432 <code>GLOBAL JOIN</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4969\" rel=\"external nofollow\">#4969</a> (<a href=\"https://github.com/4ertus2\" rel=\"external nofollow\">Artem Zuikov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>toISOWeek</code> \u0434\u043b\u044f 1970 \u0433\u043e\u0434\u0430. <a href=\"https://github.com/yandex/ClickHouse/pull/4988\" rel=\"external nofollow\">#4988</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0434\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 <code>DROP</code>, <code>TRUNCATE</code> \u0438 <code>OPTIMIZE</code> \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432, \u043a\u043e\u0433\u0434\u0430 \u043e\u043d\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u043b\u0438\u0441\u044c <code>ON CLUSTER</code> \u0434\u043b\u044f \u0441\u0435\u043c\u0435\u0439\u0441\u0442\u0432\u0430 \u0442\u0430\u0431\u043b\u0438\u0446 <code>ReplicatedMergeTree*</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4991\" rel=\"external nofollow\">#4991</a> (<a href=\"https://github.com/alesapin\" rel=\"external nofollow\">alesapin</a>)</li>\n</ul>\n<h4 id=\"obratno-nesovmestimye-izmeneniia\">\u041e\u0431\u0440\u0430\u0442\u043d\u043e \u043d\u0435\u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u044b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f<a class=\"headerlink\" href=\"#obratno-nesovmestimye-izmeneniia\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>insert_sample_with_metadata</code> \u043f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0430 \u0432 <code>input_format_defaults_for_omitted_fields</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4771\" rel=\"external nofollow\">#4771</a> (<a href=\"https://github.com/4ertus2\" rel=\"external nofollow\">Artem Zuikov</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>max_partitions_per_insert_block</code> (\u0441\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u043c \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e 100). \u0415\u0441\u043b\u0438 \u0432\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u043c\u044b\u0439 \u0431\u043b\u043e\u043a \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0431\u043e\u043b\u044c\u0448\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0430\u0440\u0442\u0438\u0446\u0438\u0439, \u0442\u043e \u0431\u0440\u043e\u0441\u0430\u0435\u0442\u0441\u044f \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435. \u041b\u0438\u043c\u0438\u0442 \u043c\u043e\u0436\u043d\u043e \u0443\u0431\u0440\u0430\u0442\u044c \u0432\u044b\u0441\u0442\u0430\u0432\u0438\u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0443 \u0432 0 (\u043d\u0435 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f). <a href=\"https://github.com/yandex/ClickHouse/pull/4845\" rel=\"external nofollow\">#4845</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0424\u0443\u043d\u043a\u0446\u0438\u0438 \u043c\u0443\u043b\u044c\u0442\u0438\u043f\u043e\u0438\u0441\u043a\u0430 \u0431\u044b\u043b\u0438 \u043f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u044b (<code>multiPosition</code> \u0432 <code>multiSearchAllPositions</code>, <code>multiSearch</code> \u0432 <code>multiSearchAny</code>, <code>firstMatch</code> \u0432 <code>multiSearchFirstIndex</code>). <a href=\"https://github.com/yandex/ClickHouse/pull/4780\" rel=\"external nofollow\">#4780</a> (<a href=\"https://github.com/danlark1\" rel=\"external nofollow\">Danila Kutenin</a>)</li>\n</ul>\n<h4 id=\"uluchshenie-proizvoditelnosti\">\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438<a class=\"headerlink\" href=\"#uluchshenie-proizvoditelnosti\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u041e\u043f\u0442\u0438\u043c\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d \u043f\u043e\u0438\u0441\u043a\u0430 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c\u0430 Volnitsky \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0438\u043d\u043b\u0430\u0439\u043d\u0438\u043d\u0433\u0430. \u042d\u0442\u043e \u0434\u0430\u0435\u0442 \u043e\u043a\u043e\u043b\u043e 5-10% \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u043f\u043e\u0438\u0441\u043a\u0430 \u0434\u043b\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0438\u0449\u0443\u0449\u0438\u0445 \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u043e \u0441\u043b\u043e\u0432 \u0438\u043b\u0438 \u043c\u043d\u043e\u0433\u043e \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u0445 \u0431\u0438\u0433\u0440\u0430\u043c\u043c. <a href=\"https://github.com/yandex/ClickHouse/pull/4862\" rel=\"external nofollow\">#4862</a> (<a href=\"https://github.com/danlark1\" rel=\"external nofollow\">Danila Kutenin</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0441\u043d\u0438\u0436\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u043f\u0440\u0438 \u0432\u044b\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 <code>use_uncompressed_cache</code> \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0443\u043b\u044f \u0434\u043b\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432, \u0434\u0430\u043d\u043d\u044b\u0435 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0446\u0435\u043b\u0438\u043a\u043e\u043c \u043b\u0435\u0436\u0430\u0442 \u0432 \u043a\u0435\u0448\u0435. <a href=\"https://github.com/yandex/ClickHouse/pull/4913\" rel=\"external nofollow\">#4913</a> (<a href=\"https://github.com/alesapin\" rel=\"external nofollow\">alesapin</a>)</li>\n</ul>\n<h4 id=\"uluchsheniia-sborki-testirovaniia-paketirovaniia\">\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f \u0441\u0431\u043e\u0440\u043a\u0438/\u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f/\u043f\u0430\u043a\u0435\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f<a class=\"headerlink\" href=\"#uluchsheniia-sborki-testirovaniia-paketirovaniia\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0411\u043e\u043b\u0435\u0435 \u0441\u0442\u0440\u043e\u0433\u0438\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0434\u043b\u044f debug-\u0441\u0431\u043e\u0440\u043e\u043a: \u0431\u043e\u043b\u0435\u0435 \u0433\u0440\u0430\u043d\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u043c\u0430\u043f\u043f\u0438\u043d\u0433\u0438 \u043f\u0430\u043c\u044f\u0442\u0438 \u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 ASLR; \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0437\u0430\u0449\u0438\u0442\u0430 \u043f\u0430\u043c\u044f\u0442\u0438 \u0434\u043b\u044f \u043a\u0435\u0448\u0430 \u0437\u0430\u0441\u0435\u0447\u0435\u043a \u0438 \u0438\u043d\u0434\u0435\u043a\u0441\u0430. \u042d\u0442\u043e \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043d\u0430\u0439\u0442\u0438 \u0431\u043e\u043b\u044c\u0448\u0435 \u043e\u0448\u0438\u0431\u043e\u043a \u043f\u043e\u0440\u0447\u0438 \u043f\u0430\u043c\u044f\u0442\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0435 \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0438\u0432\u0430\u044e\u0442 address-\u0441\u0430\u043d\u0438\u0442\u0430\u0439\u0437\u0435\u0440 \u0438 thread-\u0441\u0430\u043d\u0438\u0442\u0430\u0439\u0437\u0435\u0440. <a href=\"https://github.com/yandex/ClickHouse/pull/4632\" rel=\"external nofollow\">#4632</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 <code>ENABLE_PROTOBUF</code>, <code>ENABLE_PARQUET</code> \u0438 <code>ENABLE_BROTLI</code> \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0442 \u043e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0435 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b. <a href=\"https://github.com/yandex/ClickHouse/pull/4669\" rel=\"external nofollow\">#4669</a> (<a href=\"https://github.com/silviucpp\" rel=\"external nofollow\">Silviu Caragea</a>)</li>\n<li>\u0422\u0435\u043f\u0435\u0440\u044c \u043f\u0440\u0438 \u0437\u0430\u0432\u0438\u0441\u0430\u043d\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0442\u0435\u0441\u0442\u043e\u0432 \u0431\u0443\u0434\u0435\u0442 \u043f\u043e\u043a\u0430\u0437\u0430\u043d \u0441\u043f\u0438\u0441\u043e\u043a \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0438 \u0441\u0442\u0435\u043a-\u0442\u0440\u0435\u0439\u0441\u044b \u0432\u0441\u0435\u0445 \u043f\u043e\u0442\u043e\u043a\u043e\u0432. <a href=\"https://github.com/yandex/ClickHouse/pull/4675\" rel=\"external nofollow\">#4675</a> (<a href=\"https://github.com/alesapin\" rel=\"external nofollow\">alesapin</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0440\u0435\u0442\u0440\u0430\u0438 \u043f\u0440\u0438 \u043e\u0448\u0438\u0431\u043a\u0435 <code>Connection loss</code> \u0432 <code>clickhouse-test</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4682\" rel=\"external nofollow\">#4682</a> (<a href=\"https://github.com/alesapin\" rel=\"external nofollow\">alesapin</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0441\u0431\u043e\u0440\u043a\u0438 \u043f\u043e\u0434 FreeBSD \u0432 <code>packager</code>-\u0441\u043a\u0440\u0438\u043f\u0442. <a href=\"https://github.com/yandex/ClickHouse/pull/4712\" rel=\"external nofollow\">#4712</a> <a href=\"https://github.com/yandex/ClickHouse/pull/4748\" rel=\"external nofollow\">#4748</a> (<a href=\"https://github.com/alesapin\" rel=\"external nofollow\">alesapin</a>)</li>\n<li>\u0422\u0435\u043f\u0435\u0440\u044c \u043f\u0440\u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0435 \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u0435\u0442\u0441\u044f \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c \u0434\u043b\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f <code>'default'</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4725\" rel=\"external nofollow\">#4725</a> (<a href=\"https://github.com/proller\" rel=\"external nofollow\">proller</a>)</li>\n<li>\u0423\u0431\u0440\u0430\u043d\u044b \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u044f \u0438\u0437 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 <code>rdkafka</code> \u043f\u0440\u0438 \u0441\u0431\u043e\u0440\u043a\u0435. <a href=\"https://github.com/yandex/ClickHouse/pull/4740\" rel=\"external nofollow\">#4740</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0441\u0431\u043e\u0440\u043a\u0438 \u0431\u0435\u0437 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438 ssl. <a href=\"https://github.com/yandex/ClickHouse/pull/4750\" rel=\"external nofollow\">#4750</a> (<a href=\"https://github.com/proller\" rel=\"external nofollow\">proller</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c \u0434\u043e\u043a\u0435\u0440-\u043e\u0431\u0440\u0430\u0437 \u0441 clickhouse-server \u0438\u0437 \u043f\u043e\u0434 \u043b\u044e\u0431\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f. <a href=\"https://github.com/yandex/ClickHouse/pull/4753\" rel=\"external nofollow\">#4753</a> (<a href=\"https://github.com/Felixoid\" rel=\"external nofollow\">Mikhail f. Shiryaev</a>)</li>\n<li>Boost \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d \u0434\u043e 1.69. <a href=\"https://github.com/yandex/ClickHouse/pull/4793\" rel=\"external nofollow\">#4793</a> (<a href=\"https://github.com/proller\" rel=\"external nofollow\">proller</a>)</li>\n<li>\u041e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 <code>mremap</code> \u043f\u0440\u0438 \u0441\u0431\u043e\u0440\u043a\u0435 \u0441 thread-\u0441\u0430\u043d\u0438\u0442\u0430\u0439\u0437\u0435\u0440\u043e\u043c, \u0447\u0442\u043e \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u043b\u043e \u043a \u043b\u043e\u0436\u043d\u044b\u043c \u0441\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u043d\u0438\u044f\u043c. \u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u043e\u0448\u0438\u0431\u043a\u0438 thread-\u0441\u0430\u043d\u0438\u0442\u0430\u0439\u0437\u0435\u0440\u0430 \u0432 stateful-\u0442\u0435\u0441\u0442\u0430\u0445. <a href=\"https://github.com/yandex/ClickHouse/pull/4859\" rel=\"external nofollow\">#4859</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0442\u0435\u0441\u0442 \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u044e\u0449\u0438\u0439 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u0445\u0435\u043c\u044b \u0444\u043e\u0440\u043c\u0430\u0442\u043e\u0432 \u0434\u043b\u044f HTTP-\u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430. <a href=\"https://github.com/yandex/ClickHouse/pull/4864\" rel=\"external nofollow\">#4864</a> (<a href=\"https://github.com/vitlibar\" rel=\"external nofollow\">Vitaly Baranov</a>)</li>\n</ul>\n<h3 id=\"clickhouse-release-19-4-4-33-2019-04-17\">ClickHouse release 19.4.4.33, 2019-04-17<a class=\"headerlink\" href=\"#clickhouse-release-19-4-4-33-2019-04-17\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"ispravlenie-oshibok\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0448\u0438\u0431\u043e\u043a<a class=\"headerlink\" href=\"#ispravlenie-oshibok\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0432\u044b\u0434\u0435\u043b\u0438\u0442\u044c \u043f\u0430\u043c\u044f\u0442\u044c \u0432\u043c\u0435\u0441\u0442\u043e \u0432\u044b\u0437\u043e\u0432\u0430 <code>std::terminate</code> \u0431\u0440\u043e\u0441\u0430\u0435\u0442\u0441\u044f \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 <code>std::bad_alloc</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4665\" rel=\"external nofollow\">#4665</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u043e\u0448\u0438\u0431\u043a\u0438 \u0447\u0442\u0435\u043d\u0438\u044f capnproto \u0438\u0437 \u0431\u0443\u0444\u0435\u0440\u0430. \u0418\u043d\u043e\u0433\u0434\u0430 \u0444\u0430\u0439\u043b\u044b \u043d\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u043b\u0438\u0441\u044c \u043f\u043e HTTP. <a href=\"https://github.com/yandex/ClickHouse/pull/4674\" rel=\"external nofollow\">#4674</a> (<a href=\"https://github.com/smirnov-vs\" rel=\"external nofollow\">Vladislav</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 <code>Unknown log entry type: 0</code> \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 <code>OPTIMIZE TABLE FINAL</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4683\" rel=\"external nofollow\">#4683</a> (<a href=\"https://github.com/amosbird\" rel=\"external nofollow\">Amos Bird</a>)</li>\n<li>\u041f\u0440\u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0435 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0445 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0432 <code>hasAny</code> \u0438 <code>hasAll</code> \u043c\u043e\u0433\u043b\u0430 \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442\u044c \u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0433\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f. <a href=\"https://github.com/yandex/ClickHouse/pull/4698\" rel=\"external nofollow\">#4698</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u0434\u0435\u0434\u043b\u043e\u043a, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043c\u043e\u0433 \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442\u044c \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0435 <code>DROP DATABASE dictionary</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4701\" rel=\"external nofollow\">#4701</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043d\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0435 \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0432 \u0444\u0443\u043d\u043a\u0446\u0438\u044f\u0445 <code>median</code> \u0438 <code>quantile</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4702\" rel=\"external nofollow\">#4702</a> (<a href=\"https://github.com/hczhcz\" rel=\"external nofollow\">hcz</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u0443\u0440\u043e\u0432\u043d\u044f \u0441\u0436\u0430\u0442\u0438\u044f \u043f\u0440\u0438 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 <code>network_compression_method</code> \u0432 \u043d\u0438\u0436\u043d\u0435\u043c \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0435. \u0411\u044b\u043b\u043e \u0441\u043b\u043e\u043c\u0430\u043d\u043e \u0432 v19.1. <a href=\"https://github.com/yandex/ClickHouse/pull/4706\" rel=\"external nofollow\">#4706</a> (<a href=\"https://github.com/proller\" rel=\"external nofollow\">proller</a>)</li>\n<li>\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>&lt;timezone&gt;UTC&lt;/timezone&gt;</code> \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0435 \u0438\u0433\u043d\u043e\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f (\u0438\u0441\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 issue <a href=\"https://github.com/yandex/ClickHouse/issues/4658\" rel=\"external nofollow\">#4658</a>). <a href=\"https://github.com/yandex/ClickHouse/pull/4718\" rel=\"external nofollow\">#4718</a> (<a href=\"https://github.com/proller\" rel=\"external nofollow\">proller</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>histogram</code> \u0441 <code>Distributed</code> \u0442\u0430\u0431\u043b\u0438\u0446\u0430\u043c\u0438. <a href=\"https://github.com/yandex/ClickHouse/pull/4741\" rel=\"external nofollow\">#4741</a> (<a href=\"https://github.com/olegkv\" rel=\"external nofollow\">olegkv</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0441\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u043d\u0438\u0435 thread-\u0441\u0430\u043d\u0438\u0442\u0430\u0439\u0437\u0435\u0440\u0430 \u0441 \u043e\u0448\u0438\u0431\u043a\u043e\u0439 <code>destroy of a locked mutex</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4742\" rel=\"external nofollow\">#4742</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0441\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u043d\u0438\u0435 thread-\u0441\u0430\u043d\u0438\u0442\u0430\u0439\u0437\u0435\u0440\u0430 \u043f\u0440\u0438 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u0430, \u0432\u044b\u0437\u0432\u0430\u043d\u043d\u043e\u0435 \u0433\u043e\u043d\u043a\u043e\u0439 \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0445 \u043b\u043e\u0433\u043e\u0432. \u0422\u0430\u043a\u0436\u0435 \u0438\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0442\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430 use-after-free \u043f\u0440\u0438 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u043c \u0431\u044b\u043b \u0432\u043a\u043b\u044e\u0447\u0435\u043d <code>part_log</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4758\" rel=\"external nofollow\">#4758</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u0435\u0440\u0435\u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043a\u0443\u0441\u043a\u043e\u0432 \u0432 <code>ReplicatedMergeTreeAlterThread</code> \u043f\u0440\u0438 \u043f\u043e\u044f\u0432\u043b\u0435\u043d\u0438\u0438 \u043e\u0448\u0438\u0431\u043e\u043a. <a href=\"https://github.com/yandex/ClickHouse/pull/4772\" rel=\"external nofollow\">#4772</a> (<a href=\"https://github.com/KochetovNicolai\" rel=\"external nofollow\">Nikolai Kochetov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0430 \u0430\u0440\u0438\u0444\u043c\u0435\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439 \u0441 \u043f\u0440\u043e\u043c\u0435\u0436\u0443\u0442\u043e\u0447\u043d\u044b\u043c\u0438 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f\u043c\u0438 \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 \u0434\u043b\u044f \u043a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u043d\u044b\u0445 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u0432 (\u0442\u0430\u043a\u0438\u0445 \u043a\u0430\u043a \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0434\u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432). <a href=\"https://github.com/yandex/ClickHouse/pull/4776\" rel=\"external nofollow\">#4776</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0422\u0435\u043f\u0435\u0440\u044c \u0438\u043c\u0435\u043d\u0430 \u043a\u043e\u043b\u043e\u043d\u043e\u043a \u0432\u0441\u0435\u0433\u0434\u0430 \u044d\u043a\u0440\u0430\u043d\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u0432 \u0444\u0430\u0439\u043b\u0430\u0445 \u0441 \u043c\u0435\u0442\u0430\u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0435\u0439. \u0412 \u043f\u0440\u043e\u0442\u0438\u0432\u043d\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u0431\u044b\u043b\u043e \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0442\u0430\u0431\u043b\u0438\u0446\u0443 \u0441 \u043a\u043e\u043b\u043e\u043d\u043a\u043e\u0439 \u0441 \u0438\u043c\u0435\u043d\u0435\u043c <code>index</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4782\" rel=\"external nofollow\">#4782</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0430\u0434\u0435\u043d\u0438\u0435 \u0432 \u0437\u0430\u043f\u0440\u043e\u0441\u0435 <code>ALTER ... MODIFY ORDER BY</code> \u043a <code>Distributed</code> \u0442\u0430\u0431\u043b\u0438\u0446\u0435. <a href=\"https://github.com/yandex/ClickHouse/pull/4790\" rel=\"external nofollow\">#4790</a> (<a href=\"https://github.com/TCeason\" rel=\"external nofollow\">TCeason</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0433\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445 \u0441 <code>JOIN ON</code> \u0438 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u043e\u0439 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u043e\u0439 <code>enable_optimize_predicate_expression</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4794\" rel=\"external nofollow\">#4794</a> (<a href=\"https://github.com/zhang2014\" rel=\"external nofollow\">Winter Zhang</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043b\u0438\u0448\u043d\u0435\u0439 \u0441\u0442\u0440\u043e\u043a\u0438 \u043f\u043e\u0441\u043b\u0435 \u0447\u0442\u0435\u043d\u0438\u044f protobuf-\u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0438\u0437 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0441 \u0434\u0432\u0438\u0436\u043a\u043e\u043c <code>Kafka</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4808\" rel=\"external nofollow\">#4808</a> (<a href=\"https://github.com/vitlibar\" rel=\"external nofollow\">Vitaly Baranov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0433\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0432 <code>clickhouse-copier</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4835\" rel=\"external nofollow\">#4835</a> (<a href=\"https://github.com/proller\" rel=\"external nofollow\">proller</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0433\u043e\u043d\u043a\u0430 \u043f\u0440\u0438 <code>SELECT</code> \u0437\u0430\u043f\u0440\u043e\u0441\u0435 \u0438\u0437 <code>system.tables</code> \u0435\u0441\u043b\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u0430 \u0431\u044b\u043b\u0430 \u043a\u043e\u043d\u043a\u0443\u0440\u0435\u043d\u0442\u043d\u043e \u043f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0430 \u0438\u043b\u0438 \u043a \u043d\u0435\u0439 \u0431\u044b\u043b \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d <code>ALTER</code> \u0437\u0430\u043f\u0440\u043e\u0441. <a href=\"https://github.com/yandex/ClickHouse/pull/4836\" rel=\"external nofollow\">#4836</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0433\u043e\u043d\u043a\u0430 \u043f\u0440\u0438 \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u0438 \u043a\u0443\u0441\u043a\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0443\u0436\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0443\u0441\u0442\u0430\u0440\u0435\u0432\u0448\u0438\u043c. <a href=\"https://github.com/yandex/ClickHouse/pull/4839\" rel=\"external nofollow\">#4839</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0435\u0434\u043a\u0430\u044f \u0433\u043e\u043d\u043a\u0430 \u043f\u0440\u0438 <code>RENAME</code> \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445 \u043a \u0442\u0430\u0431\u043b\u0438\u0446\u0430\u043c \u0441\u0435\u043c\u0435\u0439\u0441\u0442\u0432\u0430 MergeTree. <a href=\"https://github.com/yandex/ClickHouse/pull/4844\" rel=\"external nofollow\">#4844</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0433\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0432 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>arrayIntersect</code>. \u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u043b\u0430 \u043f\u0440\u0438 \u0432\u044b\u0437\u043e\u0432\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u0441 \u043a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u043d\u044b\u043c\u0438 \u0438 \u043d\u0435 \u043a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u043d\u044b\u043c\u0438 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0430\u043c\u0438. <a href=\"https://github.com/yandex/ClickHouse/pull/4847\" rel=\"external nofollow\">#4847</a> (<a href=\"https://github.com/fancyqlx\" rel=\"external nofollow\">Lixiang Qian</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0435\u0434\u043a\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0447\u0442\u0435\u043d\u0438\u0438 \u0438\u0437 \u043a\u043e\u043b\u043e\u043d\u043a\u0438 \u0442\u0438\u043f\u0430 <code>Array(LowCardinality)</code>, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u043b\u0430, \u0435\u0441\u043b\u0438 \u0432 \u043a\u043e\u043b\u043e\u043d\u043a\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043b\u043e\u0441\u044c \u0431\u043e\u043b\u044c\u0448\u0435\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u043e\u0434\u0440\u044f\u0434 \u0438\u0434\u0443\u0449\u0438\u0445 \u043f\u0443\u0441\u0442\u044b\u0445 \u043c\u0430\u0441\u0441\u0438\u0432\u043e\u0432. <a href=\"https://github.com/yandex/ClickHouse/pull/4850\" rel=\"external nofollow\">#4850</a> (<a href=\"https://github.com/KochetovNicolai\" rel=\"external nofollow\">Nikolai Kochetov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 <code>No message received</code>, \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u0432\u0448\u0430\u044f \u043f\u0440\u0438 \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u0438 \u043a\u0443\u0441\u043a\u043e\u0432 \u043c\u0435\u0436\u0434\u0443 \u0440\u0435\u043f\u043b\u0438\u043a\u0430\u043c\u0438. <a href=\"https://github.com/yandex/ClickHouse/pull/4856\" rel=\"external nofollow\">#4856</a> (<a href=\"https://github.com/alesapin\" rel=\"external nofollow\">alesapin</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>arrayIntersect</code> \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u0432\u0448\u0430\u044f \u043a \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u043c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430\u043c \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u043f\u043e\u0432\u0442\u043e\u0440\u044f\u044e\u0449\u0438\u0445\u0441\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u0432 \u043c\u0430\u0441\u0441\u0438\u0432\u0435. <a href=\"https://github.com/yandex/ClickHouse/pull/4871\" rel=\"external nofollow\">#4871</a> (<a href=\"https://github.com/KochetovNicolai\" rel=\"external nofollow\">Nikolai Kochetov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0433\u043e\u043d\u043a\u0430 \u043f\u0440\u0438 \u043a\u043e\u043d\u043a\u0443\u0440\u0435\u043d\u0442\u043d\u044b\u0445 <code>ALTER COLUMN</code> \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043c\u043e\u0433\u043b\u0430 \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u0442\u044c \u043a \u043f\u0430\u0434\u0435\u043d\u0438\u044e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 (\u0438\u0441\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 issue <a href=\"https://github.com/yandex/ClickHouse/issues/3421\" rel=\"external nofollow\">#3421</a>). <a href=\"https://github.com/yandex/ClickHouse/pull/4592\" rel=\"external nofollow\">#4592</a> (<a href=\"https://github.com/ztlpn\" rel=\"external nofollow\">Alex Zatelepin</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u043a\u043e\u0434\u0435\u043a\u043e\u0432 \u0432 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445 <code>ALTER MODIFY</code>, \u0435\u0441\u043b\u0438 \u0442\u0438\u043f \u043a\u043e\u043b\u043e\u043d\u043a\u0438 \u043d\u0435 \u0431\u044b\u043b \u0443\u043a\u0430\u0437\u0430\u043d. <a href=\"https://github.com/yandex/ClickHouse/pull/4883\" rel=\"external nofollow\">#4883</a> (<a href=\"https://github.com/alesapin\" rel=\"external nofollow\">alesapin</a>)</li>\n<li>\u0424\u0443\u043d\u043a\u0446\u0438\u0438 <code>cutQueryStringAndFragment()</code> \u0438 <code>queryStringAndFragment()</code> \u0442\u0435\u043f\u0435\u0440\u044c \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0442 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e, \u043a\u043e\u0433\u0434\u0430 <code>URL</code> \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0444\u0440\u0430\u0433\u043c\u0435\u043d\u0442, \u043d\u043e \u043d\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0437\u0430\u043f\u0440\u043e\u0441\u0430. <a href=\"https://github.com/yandex/ClickHouse/pull/4894\" rel=\"external nofollow\">#4894</a> (<a href=\"https://github.com/vitlibar\" rel=\"external nofollow\">Vitaly Baranov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0435\u0434\u043a\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430, \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u0432\u0448\u0430\u044f \u043f\u0440\u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 <code>min_bytes_to_use_direct_io</code> \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0443\u043b\u044f. \u041e\u043d\u0430 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043f\u0440\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u0441\u0434\u0432\u0438\u043d\u0443\u0442\u0441\u044f \u0432 \u0444\u0430\u0439\u043b\u0435, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0443\u0436\u0435 \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u043d \u0434\u043e \u043a\u043e\u043d\u0446\u0430. <a href=\"https://github.com/yandex/ClickHouse/pull/4897\" rel=\"external nofollow\">#4897</a> (<a href=\"https://github.com/alesapin\" rel=\"external nofollow\">alesapin</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0435 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u0442\u0438\u043f\u043e\u0432 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0434\u043b\u044f \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 \u0441 <code>LowCardinality</code> \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0430\u043c\u0438 (\u0438\u0441\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 <a href=\"https://github.com/yandex/ClickHouse/issues/4919\" rel=\"external nofollow\">#4919</a>). <a href=\"https://github.com/yandex/ClickHouse/pull/4922\" rel=\"external nofollow\">#4922</a> (<a href=\"https://github.com/KochetovNicolai\" rel=\"external nofollow\">Nikolai Kochetov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>toISOWeek</code> \u0434\u043b\u044f 1970 \u0433\u043e\u0434\u0430. <a href=\"https://github.com/yandex/ClickHouse/pull/4988\" rel=\"external nofollow\">#4988</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0434\u0443\u0431\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 <code>DROP</code>, <code>TRUNCATE</code> \u0438 <code>OPTIMIZE</code> \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432, \u043a\u043e\u0433\u0434\u0430 \u043e\u043d\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u043b\u0438\u0441\u044c <code>ON CLUSTER</code> \u0434\u043b\u044f \u0441\u0435\u043c\u0435\u0439\u0441\u0442\u0432\u0430 \u0442\u0430\u0431\u043b\u0438\u0446 <code>ReplicatedMergeTree*</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4991\" rel=\"external nofollow\">#4991</a> (<a href=\"https://github.com/alesapin\" rel=\"external nofollow\">alesapin</a>)</li>\n</ul>\n<h4 id=\"uluchsheniia_1\">\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f<a class=\"headerlink\" href=\"#uluchsheniia_1\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0422\u0435\u043f\u0435\u0440\u044c \u043e\u0431\u044b\u0447\u043d\u044b\u0435 \u043a\u043e\u043b\u043e\u043d\u043a\u0438, \u0430 \u0442\u0430\u043a\u0436\u0435 \u043a\u043e\u043b\u043e\u043d\u043a\u0438 <code>DEFAULT</code>, <code>MATERIALIZED</code> \u0438 <code>ALIAS</code> \u0445\u0440\u0430\u043d\u044f\u0442\u0441\u044f \u0432 \u043e\u0434\u043d\u043e\u043c \u0441\u043f\u0438\u0441\u043a\u0435 (\u0438\u0441\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 issue <a href=\"https://github.com/yandex/ClickHouse/issues/2867\" rel=\"external nofollow\">#2867</a>). <a href=\"https://github.com/yandex/ClickHouse/pull/4707\" rel=\"external nofollow\">#4707</a> (<a href=\"https://github.com/ztlpn\" rel=\"external nofollow\">Alex Zatelepin</a>)</li>\n</ul>\n<h3 id=\"clickhouse-release-19-4-3-11-2019-04-02\">ClickHouse release 19.4.3.11, 2019-04-02<a class=\"headerlink\" href=\"#clickhouse-release-19-4-3-11-2019-04-02\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"ispravlenie-oshibok_1\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0448\u0438\u0431\u043e\u043a<a class=\"headerlink\" href=\"#ispravlenie-oshibok_1\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0430\u043b\u0435\u043d\u0438\u0435 \u0432 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0441 <code>FULL/RIGHT JOIN</code> \u043a\u043e\u0433\u0434\u0430 \u043e\u0431\u044a\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u043b\u043e \u043f\u043e nullable \u0438 \u043d\u0435 nullable \u043a\u043e\u043b\u043e\u043d\u043a\u0435. <a href=\"https://github.com/yandex/ClickHouse/pull/4855\" rel=\"external nofollow\">#4855</a> (<a href=\"https://github.com/4ertus2\" rel=\"external nofollow\">Artem Zuikov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0433\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0432 <code>clickhouse-copier</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4835\" rel=\"external nofollow\">#4835</a> (<a href=\"https://github.com/proller\" rel=\"external nofollow\">proller</a>)</li>\n</ul>\n<h4 id=\"uluchsheniia-sborki-testirovaniia-paketirovaniia_1\">\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f \u0441\u0431\u043e\u0440\u043a\u0438/\u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f/\u043f\u0430\u043a\u0435\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f<a class=\"headerlink\" href=\"#uluchsheniia-sborki-testirovaniia-paketirovaniia_1\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c \u0434\u043e\u043a\u0435\u0440-\u043e\u0431\u0440\u0430\u0437 \u0441 clickhouse-server \u0438\u0437 \u043f\u043e\u0434 \u043b\u044e\u0431\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f. <a href=\"https://github.com/yandex/ClickHouse/pull/4753\" rel=\"external nofollow\">#4753</a> (<a href=\"https://github.com/Felixoid\" rel=\"external nofollow\">Mikhail f. Shiryaev</a>)</li>\n</ul>\n<h3 id=\"clickhouse-release-19-4-2-7-2019-03-30\">ClickHouse release 19.4.2.7, 2019-03-30<a class=\"headerlink\" href=\"#clickhouse-release-19-4-2-7-2019-03-30\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"ispravlenie-oshibok_2\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0448\u0438\u0431\u043e\u043a<a class=\"headerlink\" href=\"#ispravlenie-oshibok_2\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0435\u0434\u043a\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0447\u0442\u0435\u043d\u0438\u0438 \u0438\u0437 \u043a\u043e\u043b\u043e\u043d\u043a\u0438 \u0442\u0438\u043f\u0430 <code>Array(LowCardinality)</code>, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u043b\u0430, \u0435\u0441\u043b\u0438 \u0432 \u043a\u043e\u043b\u043e\u043d\u043a\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043b\u043e\u0441\u044c \u0431\u043e\u043b\u044c\u0448\u0435\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u043e\u0434\u0440\u044f\u0434 \u0438\u0434\u0443\u0449\u0438\u0445 \u043f\u0443\u0441\u0442\u044b\u0445 \u043c\u0430\u0441\u0441\u0438\u0432\u043e\u0432. <a href=\"https://github.com/yandex/ClickHouse/pull/4850\" rel=\"external nofollow\">#4850</a> (<a href=\"https://github.com/KochetovNicolai\" rel=\"external nofollow\">Nikolai Kochetov</a>)</li>\n</ul>\n<h3 id=\"clickhouse-release-19-4-1-3-2019-03-19\">ClickHouse release 19.4.1.3, 2019-03-19<a class=\"headerlink\" href=\"#clickhouse-release-19-4-1-3-2019-03-19\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"ispravlenie-oshibok_3\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0448\u0438\u0431\u043e\u043a<a class=\"headerlink\" href=\"#ispravlenie-oshibok_3\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043b\u0438 <code>LIMIT BY</code> \u0438 <code>LIMIT</code>. \u0420\u0430\u043d\u044c\u0448\u0435 \u0434\u043b\u044f \u0442\u0430\u043a\u0438\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 <code>LIMIT</code> \u043c\u043e\u0433 \u0431\u044b\u0442\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d \u0434\u043e <code>LIMIT BY</code>, \u0447\u0442\u043e \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u043b\u043e \u043a \u043f\u0435\u0440\u0435\u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u0438. <a href=\"https://github.com/yandex/ClickHouse/pull/4708\" rel=\"external nofollow\">#4708</a> (<a href=\"https://github.com/kvap\" rel=\"external nofollow\">Constantin S. Pan</a>)</li>\n</ul>\n<h3 id=\"clickhouse-release-19-4-0-49-2019-03-09\">ClickHouse release 19.4.0.49, 2019-03-09<a class=\"headerlink\" href=\"#clickhouse-release-19-4-0-49-2019-03-09\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"novye-vozmozhnosti_1\">\u041d\u043e\u0432\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438<a class=\"headerlink\" href=\"#novye-vozmozhnosti_1\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u043b\u043d\u0430\u044f \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0444\u043e\u0440\u043c\u0430\u0442\u0430 <code>Protobuf</code> (\u0447\u0442\u0435\u043d\u0438\u0435 \u0438 \u0437\u0430\u043f\u0438\u0441\u044c, \u0432\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0435 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b \u0434\u0430\u043d\u043d\u044b\u0445). <a href=\"https://github.com/yandex/ClickHouse/pull/4174\" rel=\"external nofollow\">#4174</a> <a href=\"https://github.com/yandex/ClickHouse/pull/4493\" rel=\"external nofollow\">#4493</a> (<a href=\"https://github.com/vitlibar\" rel=\"external nofollow\">Vitaly Baranov</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u0431\u0438\u0442\u043e\u0432\u044b\u043c\u0438 \u043c\u0430\u0441\u043a\u0430\u043c\u0438 \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 Roaring Bitmaps. <a href=\"https://github.com/yandex/ClickHouse/pull/4207\" rel=\"external nofollow\">#4207</a> (<a href=\"https://github.com/andyyzh\" rel=\"external nofollow\">Andy Yang</a>) <a href=\"https://github.com/yandex/ClickHouse/pull/4568\" rel=\"external nofollow\">#4568</a> (<a href=\"https://github.com/vitlibar\" rel=\"external nofollow\">Vitaly Baranov</a>)</li>\n<li>\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0444\u043e\u0440\u043c\u0430\u0442\u0430 <code>Parquet</code> <a href=\"https://github.com/yandex/ClickHouse/pull/4448\" rel=\"external nofollow\">#4448</a> (<a href=\"https://github.com/proller\" rel=\"external nofollow\">proller</a>)</li>\n<li>\u0412\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0435 \u0440\u0430\u0441\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u043c\u0435\u0436\u0434\u0443 \u0441\u0442\u0440\u043e\u043a\u0430\u043c\u0438 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043f\u043e\u0434\u0441\u0447\u0451\u0442\u0430 N-\u0433\u0440\u0430\u043c - \u0434\u043b\u044f \u043f\u0440\u0438\u0431\u043b\u0438\u0436\u0451\u043d\u043d\u043e\u0433\u043e \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044f \u0441\u0442\u0440\u043e\u043a. \u0410\u043b\u0433\u043e\u0440\u0438\u0442\u043c \u043f\u043e\u0445\u043e\u0436 \u043d\u0430 q-gram metrics \u0432 \u044f\u0437\u044b\u043a\u0435 R. <a href=\"https://github.com/yandex/ClickHouse/pull/4466\" rel=\"external nofollow\">#4466</a> (<a href=\"https://github.com/danlark1\" rel=\"external nofollow\">Danila Kutenin</a>)</li>\n<li>\u0414\u0432\u0438\u0436\u043e\u043a \u0442\u0430\u0431\u043b\u0438\u0446 GraphiteMergeTree \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0435 \u0448\u0430\u0431\u043b\u043e\u043d\u044b \u0434\u043b\u044f \u043f\u0440\u0430\u0432\u0438\u043b \u0430\u0433\u0440\u0435\u0433\u0430\u0446\u0438\u0438 \u0438 \u0434\u043b\u044f \u043f\u0440\u0430\u0432\u0438\u043b \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f. <a href=\"https://github.com/yandex/ClickHouse/pull/4426\" rel=\"external nofollow\">#4426</a> (<a href=\"https://github.com/Felixoid\" rel=\"external nofollow\">Mikhail f. Shiryaev</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 <code>max_execution_speed</code> \u0438 <code>max_execution_speed_bytes</code> \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0438\u0442\u044c \u043f\u043e\u0442\u0440\u0435\u0431\u043b\u0435\u043d\u0438\u0435 \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u043c\u0438. \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>min_execution_speed_bytes</code> \u0432 \u0434\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u043a <code>min_execution_speed</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4430\" rel=\"external nofollow\">#4430</a> (<a href=\"https://github.com/zhang2014\" rel=\"external nofollow\">Winter Zhang</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f <code>flatten</code> - \u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0430\u0446\u0438\u044f \u043c\u043d\u043e\u0433\u043e\u043c\u0435\u0440\u043d\u044b\u0445 \u043c\u0430\u0441\u0441\u0438\u0432\u043e\u0432 \u0432 \u043f\u043b\u043e\u0441\u043a\u0438\u0439 \u043c\u0430\u0441\u0441\u0438\u0432. <a href=\"https://github.com/yandex/ClickHouse/pull/4555\" rel=\"external nofollow\">#4555</a> <a href=\"https://github.com/yandex/ClickHouse/pull/4409\" rel=\"external nofollow\">#4409</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>, <a href=\"https://github.com/kzon\" rel=\"external nofollow\">kzon</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>arrayEnumerateDenseRanked</code> \u0438 <code>arrayEnumerateUniqRanked</code> (\u043f\u043e\u0445\u043e\u0436\u0430 \u043d\u0430 <code>arrayEnumerateUniq</code> \u043d\u043e \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0433\u043b\u0443\u0431\u0438\u043d\u0443, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0432 \u043c\u043d\u043e\u0433\u043e\u043c\u0435\u0440\u043d\u044b\u0435 \u043c\u0430\u0441\u0441\u0438\u0432\u044b). <a href=\"https://github.com/yandex/ClickHouse/pull/4475\" rel=\"external nofollow\">#4475</a> (<a href=\"https://github.com/proller\" rel=\"external nofollow\">proller</a>) <a href=\"https://github.com/yandex/ClickHouse/pull/4601\" rel=\"external nofollow\">#4601</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0430 JOIN \u0432 \u043e\u0434\u043d\u043e\u043c \u0437\u0430\u043f\u0440\u043e\u0441\u0435 \u0431\u0435\u0437 \u043f\u043e\u0434\u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432, \u0441 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u043c\u0438 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f\u043c\u0438: \u0431\u0435\u0437 \u0437\u0432\u0451\u0437\u0434\u043e\u0447\u043a\u0438 \u0438 \u0431\u0435\u0437 \u0430\u043b\u0438\u0430\u0441\u043e\u0432 \u0441\u043b\u043e\u0436\u043d\u044b\u0445 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u0432 ON/WHERE/GROUP BY/... <a href=\"https://github.com/yandex/ClickHouse/pull/4462\" rel=\"external nofollow\">#4462</a> (<a href=\"https://github.com/4ertus2\" rel=\"external nofollow\">Artem Zuikov</a>)</li>\n</ul>\n<h4 id=\"ispravleniia-oshibok_2\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u0448\u0438\u0431\u043e\u043a<a class=\"headerlink\" href=\"#ispravleniia-oshibok_2\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u042d\u0442\u043e\u0442 \u0440\u0435\u043b\u0438\u0437 \u0442\u0430\u043a\u0436\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0432\u0441\u0435 \u0438\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0438\u0437 19.3 \u0438 19.1.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0432\u043e \u0432\u0442\u043e\u0440\u0438\u0447\u043d\u044b\u0445 \u0438\u043d\u0434\u0435\u043a\u0441\u0430\u0445 (\u044d\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u0430\u043b\u044c\u043d\u0430\u044f \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c): \u043f\u043e\u0440\u044f\u0434\u043e\u043a \u0433\u0440\u0430\u043d\u0443\u043b \u043f\u0440\u0438 INSERT \u0431\u044b\u043b \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u043c. <a href=\"https://github.com/yandex/ClickHouse/pull/4407\" rel=\"external nofollow\">#4407</a> (<a href=\"https://github.com/nikvas0\" rel=\"external nofollow\">Nikita Vasilev</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0430 \u0432\u0442\u043e\u0440\u0438\u0447\u043d\u043e\u0433\u043e \u0438\u043d\u0434\u0435\u043a\u0441\u0430 (\u044d\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u0430\u043b\u044c\u043d\u0430\u044f \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c) \u0442\u0438\u043f\u0430 <code>set</code> \u0434\u043b\u044f \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432 \u0442\u0438\u043f\u0430 <code>Nullable</code> \u0438 <code>LowCardinality</code>. \u0420\u0430\u043d\u0435\u0435 \u0438\u0445 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0432\u044b\u0437\u044b\u0432\u0430\u043b\u043e \u043e\u0448\u0438\u0431\u043a\u0443 <code>Data type must be deserialized with multiple streams</code> \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0435 SELECT. <a href=\"https://github.com/yandex/ClickHouse/pull/4594\" rel=\"external nofollow\">#4594</a> (<a href=\"https://github.com/KochetovNicolai\" rel=\"external nofollow\">Nikolai Kochetov</a>)</li>\n<li>\u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0435 \u0437\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u043d\u0438\u0435 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0433\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u0440\u0438 \u043f\u043e\u043b\u043d\u043e\u0439 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0441\u043b\u043e\u0432\u0430\u0440\u0435\u0439 \u0442\u0438\u043f\u0430 <code>executable</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4551\" rel=\"external nofollow\">#4551</a> (<a href=\"https://github.com/temoon\" rel=\"external nofollow\">Tema Novikov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0435\u0440\u0430\u0431\u043e\u0442\u043e\u0441\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u044c \u043f\u0440\u043e\u0433\u0440\u0435\u0441\u0441-\u0431\u0430\u0440\u0430, \u0432\u043e\u0437\u043d\u0438\u043a\u0448\u0430\u044f \u0432 \u0432\u0435\u0440\u0441\u0438\u0438 19.3 <a href=\"https://github.com/yandex/ClickHouse/pull/4627\" rel=\"external nofollow\">#4627</a> (<a href=\"https://github.com/filimonov\" rel=\"external nofollow\">filimonov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f MemoryTracker, \u0435\u0441\u043b\u0438 \u043a\u0443\u0441\u043e\u043a \u043f\u0430\u043c\u044f\u0442\u0438 \u0431\u044b\u043b \u0443\u043c\u0435\u043d\u044c\u0448\u0435\u043d \u0432 \u0440\u0430\u0437\u043c\u0435\u0440\u0435, \u0432 \u043e\u0447\u0435\u043d\u044c \u0440\u0435\u0434\u043a\u0438\u0445 \u0441\u043b\u0443\u0447\u0430\u044f\u0445. <a href=\"https://github.com/yandex/ClickHouse/pull/4619\" rel=\"external nofollow\">#4619</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e undefined behaviour \u0432 ThreadPool <a href=\"https://github.com/yandex/ClickHouse/pull/4612\" rel=\"external nofollow\">#4612</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043e\u0447\u0435\u043d\u044c \u0440\u0435\u0434\u043a\u043e\u0435 \u043f\u0430\u0434\u0435\u043d\u0438\u0435 \u0441 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435\u043c <code>mutex lock failed: Invalid argument</code>, \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u043c\u043e\u0433\u043b\u043e \u043f\u0440\u043e\u0438\u0437\u043e\u0439\u0442\u0438, \u0435\u0441\u043b\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u0430 \u0442\u0438\u043f\u0430 MergeTree \u0443\u0434\u0430\u043b\u044f\u043b\u0430\u0441\u044c \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u0441 SELECT. <a href=\"https://github.com/yandex/ClickHouse/pull/4608\" rel=\"external nofollow\">#4608</a> (<a href=\"https://github.com/ztlpn\" rel=\"external nofollow\">Alex Zatelepin</a>)</li>\n<li>\u0421\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c ODBC \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u0430 \u0441 \u0442\u0438\u043f\u043e\u043c \u0434\u0430\u043d\u043d\u044b\u0445 <code>LowCardinality</code> <a href=\"https://github.com/yandex/ClickHouse/pull/4381\" rel=\"external nofollow\">#4381</a> (<a href=\"https://github.com/proller\" rel=\"external nofollow\">proller</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0448\u0438\u0431\u043a\u0438 <code>AIOcontextPool: Found io_event with unknown id 0</code> \u043f\u043e\u0434 \u041e\u0421 FreeBSD <a href=\"https://github.com/yandex/ClickHouse/pull/4438\" rel=\"external nofollow\">#4438</a> (<a href=\"https://github.com/urgordeadbeef\" rel=\"external nofollow\">urgordeadbeef</a>)</li>\n<li>\u0422\u0430\u0431\u043b\u0438\u0446\u0430 <code>system.part_log</code> \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u043b\u0430\u0441\u044c \u043d\u0435\u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e \u043e\u0442 \u0442\u043e\u0433\u043e, \u0431\u044b\u043b\u0430 \u043b\u0438 \u043e\u043d\u0430 \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0430 \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438. <a href=\"https://github.com/yandex/ClickHouse/pull/4483\" rel=\"external nofollow\">#4483</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e undefined behaviour \u0432 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>dictIsIn</code> \u0434\u043b\u044f \u0441\u043b\u043e\u0432\u0430\u0440\u0435\u0439 \u0442\u0438\u043f\u0430 <code>cache</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4515\" rel=\"external nofollow\">#4515</a> (<a href=\"https://github.com/alesapin\" rel=\"external nofollow\">alesapin</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d deadlock \u0432 \u0441\u043b\u0443\u0447\u0430\u0435, \u0435\u0441\u043b\u0438 \u0437\u0430\u043f\u0440\u043e\u0441 SELECT \u0431\u043b\u043e\u043a\u0438\u0440\u0443\u0435\u0442 \u043e\u0434\u043d\u0443 \u0438 \u0442\u0443 \u0436\u0435 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0440\u0430\u0437 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 - \u0438\u0437 \u0440\u0430\u0437\u043d\u044b\u0445 \u043f\u043e\u0442\u043e\u043a\u043e\u0432, \u043b\u0438\u0431\u043e \u043f\u0440\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u0440\u0430\u0437\u043d\u044b\u0445 \u043f\u043e\u0434\u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432) \u0438 \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u0441 \u044d\u0442\u0438\u043c \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0441\u044f DDL \u0437\u0430\u043f\u0440\u043e\u0441. <a href=\"https://github.com/yandex/ClickHouse/pull/4535\" rel=\"external nofollow\">#4535</a> (<a href=\"https://github.com/ztlpn\" rel=\"external nofollow\">Alex Zatelepin</a>)</li>\n<li>\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>compile_expressions</code> \u0432\u044b\u043a\u043b\u044e\u0447\u0435\u043d\u0430 \u043f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0434\u043e \u0442\u0435\u0445 \u043f\u043e\u0440, \u043f\u043e\u043a\u0430 \u043c\u044b \u043d\u0435 \u0437\u0430\u0444\u0438\u043a\u0441\u0438\u0440\u0443\u0435\u043c \u0438\u0441\u0445\u043e\u0434\u043d\u0438\u043a\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u043e\u0439 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 <code>LLVM</code> \u0438 \u043d\u0435 \u0431\u0443\u0434\u0435\u043c \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0442\u044c \u0435\u0451 \u043f\u043e\u0434 <code>ASan</code> (\u0441\u0435\u0439\u0447\u0430\u0441 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 LLVM \u0431\u0435\u0440\u0451\u0442\u0441\u044f \u0438\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u044b). <a href=\"https://github.com/yandex/ClickHouse/pull/4579\" rel=\"external nofollow\">#4579</a> (<a href=\"https://github.com/alesapin\" rel=\"external nofollow\">alesapin</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0430\u0434\u0435\u043d\u0438\u0435 \u043f\u043e <code>std::terminate</code>, \u0435\u0441\u043b\u0438 <code>invalidate_query</code> \u0434\u043b\u044f \u0432\u043d\u0435\u0448\u043d\u0438\u0445 \u0441\u043b\u043e\u0432\u0430\u0440\u0435\u0439 \u0441 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u043e\u043c <code>clickhouse</code> \u0432\u0435\u0440\u043d\u0443\u043b \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 (\u043f\u0443\u0441\u0442\u043e\u0439; \u0431\u043e\u043b\u0435\u0435 \u0447\u0435\u043c \u043e\u0434\u043d\u0443 \u0441\u0442\u0440\u043e\u043a\u0443; \u0431\u043e\u043b\u0435\u0435 \u0447\u0435\u043c \u043e\u0434\u0438\u043d \u0441\u0442\u043e\u043b\u0431\u0435\u0446). \u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u0438\u0437-\u0437\u0430 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0437\u0430\u043f\u0440\u043e\u0441 <code>invalidate_query</code> \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u043b\u0441\u044f \u043a\u0430\u0436\u0434\u044b\u0435 \u043f\u044f\u0442\u044c \u0441\u0435\u043a\u0443\u043d\u0434, \u043d\u0435\u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e \u043e\u0442 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0433\u043e <code>lifetime</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4583\" rel=\"external nofollow\">#4583</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d deadlock \u0432 \u0441\u043b\u0443\u0447\u0430\u0435, \u0435\u0441\u043b\u0438 \u0437\u0430\u043f\u0440\u043e\u0441 <code>invalidate_query</code> \u0434\u043b\u044f \u0432\u043d\u0435\u0448\u043d\u0435\u0433\u043e \u0441\u043b\u043e\u0432\u0430\u0440\u044f \u0441 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u043e\u043c <code>clickhouse</code> \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043b \u0442\u0430\u0431\u043b\u0438\u0446\u0443 <code>system.dictionaries</code> \u0438\u043b\u0438 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u043d\u044b\u0445 \u0442\u0438\u043f\u0430 <code>Dictionary</code> (\u0440\u0435\u0434\u043a\u0438\u0439 \u0441\u043b\u0443\u0447\u0430\u0439). <a href=\"https://github.com/yandex/ClickHouse/pull/4599\" rel=\"external nofollow\">#4599</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0430 CROSS JOIN \u0441 \u043f\u0443\u0441\u0442\u044b\u043c WHERE <a href=\"https://github.com/yandex/ClickHouse/pull/4598\" rel=\"external nofollow\">#4598</a> (<a href=\"https://github.com/4ertus2\" rel=\"external nofollow\">Artem Zuikov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d segfault \u0432 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>replicate</code> \u0441 \u043a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u043d\u044b\u043c \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u043c. <a href=\"https://github.com/yandex/ClickHouse/pull/4603\" rel=\"external nofollow\">#4603</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0430 predicate pushdown (\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>enable_optimize_predicate_expression</code>) \u0441 \u043b\u044f\u043c\u0431\u0434\u0430-\u0444\u0443\u043d\u043a\u0446\u0438\u044f\u043c\u0438. <a href=\"https://github.com/yandex/ClickHouse/pull/4408\" rel=\"external nofollow\">#4408</a> (<a href=\"https://github.com/zhang2014\" rel=\"external nofollow\">Winter Zhang</a>)</li>\n<li>\u041c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0438\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0430 JOIN \u0432 \u043e\u0434\u043d\u043e\u043c \u0437\u0430\u043f\u0440\u043e\u0441\u0435. <a href=\"https://github.com/yandex/ClickHouse/pull/4595\" rel=\"external nofollow\">#4595</a> (<a href=\"https://github.com/4ertus2\" rel=\"external nofollow\">Artem Zuikov</a>)</li>\n</ul>\n<h4 id=\"uluchsheniia_2\">\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f<a class=\"headerlink\" href=\"#uluchsheniia_2\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0430\u043b\u0438\u0430\u0441\u043e\u0432 \u0432 \u0441\u0435\u043a\u0446\u0438\u0438 JOIN ON \u0434\u043b\u044f \u043f\u0440\u0430\u0432\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u044b <a href=\"https://github.com/yandex/ClickHouse/pull/4412\" rel=\"external nofollow\">#4412</a> (<a href=\"https://github.com/4ertus2\" rel=\"external nofollow\">Artem Zuikov</a>)</li>\n<li>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0435 \u0430\u043b\u0438\u0430\u0441\u044b \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0445 JOIN \u0441 \u043f\u043e\u0434\u0437\u0430\u043f\u0440\u043e\u0441\u0430\u043c\u0438. <a href=\"https://github.com/yandex/ClickHouse/pull/4474\" rel=\"external nofollow\">#4474</a> (<a href=\"https://github.com/4ertus2\" rel=\"external nofollow\">Artem Zuikov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043b\u043e\u0433\u0438\u043a\u0430 \u0440\u0430\u0431\u043e\u0442\u044b predicate pushdown (\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>enable_optimize_predicate_expression</code>) \u0434\u043b\u044f JOIN. <a href=\"https://github.com/yandex/ClickHouse/pull/4387\" rel=\"external nofollow\">#4387</a> (<a href=\"https://github.com/abyss7\" rel=\"external nofollow\">Ivan</a>)</li>\n</ul>\n<h4 id=\"uluchsheniia-proizvoditelnosti\">\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438<a class=\"headerlink\" href=\"#uluchsheniia-proizvoditelnosti\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0430 \u044d\u0432\u0440\u0438\u0441\u0442\u0438\u043a\u0430 \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0430\u0446\u0438\u0438 \"\u043f\u0435\u0440\u0435\u043d\u043e\u0441 \u0432 PREWHERE\". <a href=\"https://github.com/yandex/ClickHouse/pull/4405\" rel=\"external nofollow\">#4405</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f \u043d\u0430\u0441\u0442\u043e\u044f\u0449\u0438\u0435 lookup \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0432\u043c\u0435\u0441\u0442\u043e \u0445\u044d\u0448-\u0442\u0430\u0431\u043b\u0438\u0446 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 8 \u0438 16 \u0431\u0438\u0442\u043d\u044b\u0445 \u043a\u043b\u044e\u0447\u0435\u0439. \u0418\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u0445\u044d\u0448-\u0442\u0430\u0431\u043b\u0438\u0446 \u043e\u0431\u043e\u0431\u0449\u0451\u043d, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0442\u044c \u044d\u0442\u043e\u0442 \u0441\u043b\u0443\u0447\u0430\u0439. <a href=\"https://github.com/yandex/ClickHouse/pull/4536\" rel=\"external nofollow\">#4536</a> (<a href=\"https://github.com/amosbird\" rel=\"external nofollow\">Amos Bird</a>)</li>\n<li>\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044f \u0441\u0442\u0440\u043e\u043a. <a href=\"https://github.com/yandex/ClickHouse/pull/4564\" rel=\"external nofollow\">#4564</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u041e\u0447\u0435\u0440\u0435\u0434\u044c DDL \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439 (\u0434\u043b\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 ON CLUSTER) \u043e\u0447\u0438\u0449\u0430\u0435\u0442\u0441\u044f \u0432 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u043c \u043f\u043e\u0442\u043e\u043a\u0435, \u0447\u0442\u043e\u0431\u044b \u043d\u0435 \u0437\u0430\u043c\u0435\u0434\u043b\u044f\u0442\u044c \u043e\u0441\u043d\u043e\u0432\u043d\u0443\u044e \u0440\u0430\u0431\u043e\u0442\u0443. <a href=\"https://github.com/yandex/ClickHouse/pull/4502\" rel=\"external nofollow\">#4502</a> (<a href=\"https://github.com/ztlpn\" rel=\"external nofollow\">Alex Zatelepin</a>)</li>\n<li>\u0414\u0430\u0436\u0435 \u0435\u0441\u043b\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>min_bytes_to_use_direct_io</code> \u0432\u044b\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0430 \u0432 1, \u043d\u0435 \u043a\u0430\u0436\u0434\u044b\u0439 \u0444\u0430\u0439\u043b \u043e\u0442\u043a\u0440\u044b\u0432\u0430\u043b\u0441\u044f \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 O_DIRECT, \u043f\u043e\u0442\u043e\u043c\u0443 \u0447\u0442\u043e \u0440\u0430\u0437\u043c\u0435\u0440 \u0444\u0430\u0439\u043b\u043e\u0432 \u0438\u043d\u043e\u0433\u0434\u0430 \u043d\u0435\u0434\u043e\u043e\u0446\u0435\u043d\u0438\u0432\u0430\u043b\u0441\u044f \u043d\u0430 \u0440\u0430\u0437\u043c\u0435\u0440 \u043e\u0434\u043d\u043e\u0433\u043e \u0441\u0436\u0430\u0442\u043e\u0433\u043e \u0431\u043b\u043e\u043a\u0430. <a href=\"https://github.com/yandex/ClickHouse/pull/4526\" rel=\"external nofollow\">#4526</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n</ul>\n<h4 id=\"uluchsheniia-sborki-testirovaniia-paketirovaniia_2\">\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f \u0441\u0431\u043e\u0440\u043a\u0438/\u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f/\u043f\u0430\u043a\u0435\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f<a class=\"headerlink\" href=\"#uluchsheniia-sborki-testirovaniia-paketirovaniia_2\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0442\u043e\u0440\u0430 clang-9 <a href=\"https://github.com/yandex/ClickHouse/pull/4604\" rel=\"external nofollow\">#4604</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0435 <code>__asm__</code> \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438 <a href=\"https://github.com/yandex/ClickHouse/pull/4621\" rel=\"external nofollow\">#4621</a> (<a href=\"https://github.com/podshumok\" rel=\"external nofollow\">Konstantin Podshumok</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0437\u0430\u0434\u0430\u043d\u0438\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0434\u043b\u044f <code>clickhouse-performance-test</code> \u0438\u0437 \u043a\u043e\u043c\u0430\u043d\u0434\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438. <a href=\"https://github.com/yandex/ClickHouse/pull/4437\" rel=\"external nofollow\">#4437</a> (<a href=\"https://github.com/alesapin\" rel=\"external nofollow\">alesapin</a>)</li>\n<li>\u0422\u0435\u0441\u0442\u044b \u0441\u043b\u043e\u0432\u0430\u0440\u0435\u0439 \u043f\u0435\u0440\u0435\u043d\u0435\u0441\u0435\u043d\u044b \u0432 \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u0442\u0435\u0441\u0442\u044b. <a href=\"https://github.com/yandex/ClickHouse/pull/4477\" rel=\"external nofollow\">#4477</a> (<a href=\"https://github.com/alesapin\" rel=\"external nofollow\">alesapin</a>)</li>\n<li>\u0412 \u043d\u0430\u0431\u043e\u0440 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u0442\u0435\u0441\u0442\u043e\u0432 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0437\u0430\u043f\u0440\u043e\u0441\u044b, \u043d\u0430\u0445\u043e\u0434\u044f\u0449\u0438\u0435\u0441\u044f \u0432 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \"benchmark\" \u043d\u0430 \u043e\u0444\u0438\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u043c \u0441\u0430\u0439\u0442\u0435. <a href=\"https://github.com/yandex/ClickHouse/pull/4496\" rel=\"external nofollow\">#4496</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u0431\u043e\u0440\u043a\u0438 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0432\u043d\u0435\u0448\u043d\u0438\u0445 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a lz4 \u0438 xxhash. <a href=\"https://github.com/yandex/ClickHouse/pull/4495\" rel=\"external nofollow\">#4495</a> (<a href=\"https://github.com/orivej\" rel=\"external nofollow\">Orivej Desh</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d undefined behaviour, \u0435\u0441\u043b\u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u044f <code>quantileTiming</code> \u0431\u044b\u043b\u0430 \u0432\u044b\u0437\u0432\u0430\u043d\u0430 \u0441 \u043e\u0442\u0440\u0438\u0446\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u043c \u0438\u043b\u0438 \u043d\u0435\u0446\u0435\u043b\u044b\u043c \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u043c (\u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d\u043e \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e fuzz test \u043f\u043e\u0434 undefined behaviour sanitizer). <a href=\"https://github.com/yandex/ClickHouse/pull/4506\" rel=\"external nofollow\">#4506</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u043e\u043f\u0435\u0447\u0430\u0442\u043a\u0438 \u0432 \u043a\u043e\u0434\u0435. <a href=\"https://github.com/yandex/ClickHouse/pull/4531\" rel=\"external nofollow\">#4531</a> (<a href=\"https://github.com/sdk2\" rel=\"external nofollow\">sdk2</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0441\u0431\u043e\u0440\u043a\u0430 \u043f\u043e\u0434 Mac. <a href=\"https://github.com/yandex/ClickHouse/pull/4371\" rel=\"external nofollow\">#4371</a> (<a href=\"https://github.com/vitlibar\" rel=\"external nofollow\">Vitaly Baranov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0441\u0431\u043e\u0440\u043a\u0430 \u043f\u043e\u0434 FreeBSD \u0438 \u0434\u043b\u044f \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u043d\u0435\u043e\u0431\u044b\u0447\u043d\u044b\u0445 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f\u0445 \u0441\u0431\u043e\u0440\u043a\u0438. <a href=\"https://github.com/yandex/ClickHouse/pull/4444\" rel=\"external nofollow\">#4444</a> (<a href=\"https://github.com/proller\" rel=\"external nofollow\">proller</a>)</li>\n</ul>\n<h3 id=\"clickhouse-release-19-3-7-2019-03-12\">ClickHouse release 19.3.7, 2019-03-12<a class=\"headerlink\" href=\"#clickhouse-release-19-3-7-2019-03-12\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"ispravleniia-oshibok_3\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u0448\u0438\u0431\u043e\u043a<a class=\"headerlink\" href=\"#ispravleniia-oshibok_3\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0432 #3920. \u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u043e\u044f\u0432\u043b\u044f\u043b\u0430\u0441\u044c \u0432 \u0432\u0438\u0434\u0435 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0445 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0439 \u043a\u044d\u0448\u0430 (\u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f <code>Unknown codec family code</code>, <code>Cannot seek through file</code>) \u0438 segfault. \u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u043f\u0435\u0440\u0432\u044b\u0435 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u0432 19.1 \u0438 \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0432\u043e \u0432\u0441\u0435\u0445 \u0432\u0435\u0440\u0441\u0438\u044f\u0445 \u0434\u043e 19.1.10 \u0438 19.3.6. <a href=\"https://github.com/yandex/ClickHouse/pull/4623\" rel=\"external nofollow\">#4623</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n</ul>\n<h3 id=\"clickhouse-release-19-3-6-2019-03-02\">ClickHouse release 19.3.6, 2019-03-02<a class=\"headerlink\" href=\"#clickhouse-release-19-3-6-2019-03-02\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"ispravleniia-oshibok_4\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u0448\u0438\u0431\u043e\u043a<a class=\"headerlink\" href=\"#ispravleniia-oshibok_4\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0415\u0441\u043b\u0438 \u0432 \u043f\u0443\u043b\u0435 \u043f\u043e\u0442\u043e\u043a\u043e\u0432 \u0431\u044b\u043b\u043e \u0431\u043e\u043b\u0435\u0435 1000 \u043f\u043e\u0442\u043e\u043a\u043e\u0432, \u0442\u043e \u043f\u0440\u0438 \u0432\u044b\u0445\u043e\u0434\u0435 \u0438\u0437 \u043f\u043e\u0442\u043e\u043a\u0430, \u0432\u044b\u0437\u044b\u0432\u0430\u0435\u0442\u0441\u044f <code>std::terminate</code>. <a href=\"https://github.com/azat\" rel=\"external nofollow\">Azat Khuzhin</a> <a href=\"https://github.com/yandex/ClickHouse/pull/4485\" rel=\"external nofollow\">#4485</a> <a href=\"https://github.com/yandex/ClickHouse/pull/4505\" rel=\"external nofollow\">#4505</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0422\u0435\u043f\u0435\u0440\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0442\u0430\u0431\u043b\u0438\u0446\u044b <code>ReplicatedMergeTree*</code> \u0441 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f\u043c\u0438 \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432 \u0431\u0435\u0437 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u044f DEFAULT, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0441 CODEC \u043d\u043e \u0431\u0435\u0437 COMMENT \u0438 DEFAULT. \u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0435 CODEC \u0434\u0440\u0443\u0433 \u0441 \u0434\u0440\u0443\u0433\u043e\u043c. <a href=\"https://github.com/yandex/ClickHouse/pull/4523\" rel=\"external nofollow\">#4523</a> (<a href=\"https://github.com/alesapin\" rel=\"external nofollow\">alesapin</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0430\u0434\u0435\u043d\u0438\u0435 \u043f\u0440\u0438 JOIN \u043f\u043e \u043c\u0430\u0441\u0441\u0438\u0432\u0430\u043c \u0438 \u043a\u043e\u0440\u0442\u0435\u0436\u0430\u043c. <a href=\"https://github.com/yandex/ClickHouse/pull/4552\" rel=\"external nofollow\">#4552</a> (<a href=\"https://github.com/4ertus2\" rel=\"external nofollow\">Artem Zuikov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0430\u0434\u0435\u043d\u0438\u0435 <code>clickhouse-copier</code> \u0441 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435\u043c <code>ThreadStatus not created</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4540\" rel=\"external nofollow\">#4540</a> (<a href=\"https://github.com/4ertus2\" rel=\"external nofollow\">Artem Zuikov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0437\u0430\u0432\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u043f\u0440\u0438 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0438 \u0440\u0430\u0431\u043e\u0442\u044b \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0451\u043d\u043d\u044b\u0445 DDL. <a href=\"https://github.com/yandex/ClickHouse/pull/4472\" rel=\"external nofollow\">#4472</a> (<a href=\"https://github.com/ztlpn\" rel=\"external nofollow\">Alex Zatelepin</a>)</li>\n<li>\u0412 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f\u0445 \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0435 \u043f\u0440\u0438 \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0435 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0445 \u0444\u043e\u0440\u043c\u0430\u0442\u043e\u0432, \u0432\u044b\u0434\u0430\u0432\u0430\u043b\u0438\u0441\u044c \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0435 \u043d\u043e\u043c\u0435\u0440\u0430 \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432, \u0432 \u0441\u043b\u0443\u0447\u0430\u0435, \u0435\u0441\u043b\u0438 \u043d\u043e\u043c\u0435\u0440 \u0431\u043e\u043b\u044c\u0448\u0435 10. <a href=\"https://github.com/yandex/ClickHouse/pull/4484\" rel=\"external nofollow\">#4484</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n</ul>\n<h4 id=\"uluchsheniia-sborki-testirovaniia-paketirovaniia_3\">\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f \u0441\u0431\u043e\u0440\u043a\u0438/\u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f/\u043f\u0430\u043a\u0435\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f<a class=\"headerlink\" href=\"#uluchsheniia-sborki-testirovaniia-paketirovaniia_3\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0441\u0431\u043e\u0440\u043a\u0430 \u0441 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u044b\u043c AVX. <a href=\"https://github.com/yandex/ClickHouse/pull/4527\" rel=\"external nofollow\">#4527</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u044b\u0445 \u043c\u0435\u0442\u0440\u0438\u043a \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435, \u0435\u0441\u043b\u0438 ClickHouse \u0431\u044b\u043b \u0441\u043e\u0431\u0440\u0430\u043d \u043d\u0430 \u0441\u0438\u0441\u0442\u0435\u043c\u0435 \u0441 \u043d\u043e\u0432\u044b\u043c \u044f\u0434\u0440\u043e\u043c Linux, \u0430 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f \u043d\u0430 \u0441\u0438\u0441\u0442\u0435\u043c\u0435 \u0441 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u043e \u0431\u043e\u043b\u0435\u0435 \u0441\u0442\u0430\u0440\u044b\u043c \u044f\u0434\u0440\u043e\u043c. <a href=\"https://github.com/yandex/ClickHouse/pull/4541\" rel=\"external nofollow\">#4541</a> (<a href=\"https://github.com/nvartolomei\" rel=\"external nofollow\">nvartolomei</a>)</li>\n<li>\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0435\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0443 <code>core_dump.size_limit</code> \u0441 \u0432\u044b\u0432\u043e\u0434\u043e\u043c \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u044f. <a href=\"https://github.com/yandex/ClickHouse/pull/4473\" rel=\"external nofollow\">#4473</a> (<a href=\"https://github.com/proller\" rel=\"external nofollow\">proller</a>)</li>\n<li>\u0423\u0434\u0430\u043b\u0435\u043d\u043e <code>inline</code> \u0434\u043b\u044f <code>void readBinary(...)</code> \u0432 <code>Field.cpp</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4530\" rel=\"external nofollow\">#4530</a> (<a href=\"https://github.com/hczhcz\" rel=\"external nofollow\">hcz</a>)</li>\n</ul>\n<h3 id=\"clickhouse-release-19-3-5-2019-02-21\">ClickHouse release 19.3.5, 2019-02-21<a class=\"headerlink\" href=\"#clickhouse-release-19-3-5-2019-02-21\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"ispravleniia-oshibok_5\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u0448\u0438\u0431\u043e\u043a:<a class=\"headerlink\" href=\"#ispravleniia-oshibok_5\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0434\u043b\u0438\u043d\u043d\u044b\u0445 http-\u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u043d\u0430 \u0432\u0441\u0442\u0430\u0432\u043a\u0443 \u043d\u0430 \u0441\u0442\u043e\u0440\u043e\u043d\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u0430. <a href=\"https://github.com/yandex/ClickHouse/pull/4454\" rel=\"external nofollow\">#4454</a> (<a href=\"https://github.com/alesapin\" rel=\"external nofollow\">alesapin</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0431\u0440\u0430\u0442\u043d\u0430\u044f \u043d\u0435\u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c \u0441\u043e \u0441\u0442\u0430\u0440\u044b\u043c\u0438 \u0432\u0435\u0440\u0441\u0438\u044f\u043c\u0438, \u043f\u043e\u044f\u0432\u0438\u0432\u0448\u0430\u044f\u0441\u044f \u0438\u0437-\u0437\u0430 \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0439 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 <code>send_logs_level</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4445\" rel=\"external nofollow\">#4445</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0431\u0440\u0430\u0442\u043d\u0430\u044f \u043d\u0435\u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c \u0442\u0430\u0431\u043b\u0438\u0447\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>remote</code>, \u043f\u043e\u044f\u0432\u0438\u0432\u0448\u0430\u044f\u0441\u044f \u0438\u0437-\u0437\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432 \u043a\u043e\u043b\u043e\u043d\u043e\u043a. <a href=\"https://github.com/yandex/ClickHouse/pull/4446\" rel=\"external nofollow\">#4446</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n</ul>\n<h3 id=\"clickhouse-release-19-3-4-2019-02-16\">ClickHouse release 19.3.4, 2019-02-16<a class=\"headerlink\" href=\"#clickhouse-release-19-3-4-2019-02-16\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"uluchsheniia_3\">\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f:<a class=\"headerlink\" href=\"#uluchsheniia_3\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u041f\u0440\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 <code>ATTACH TABLE</code> \u043f\u0440\u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0435 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0439 \u043d\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u0443\u044e \u043f\u0430\u043c\u044f\u0442\u044c \u0442\u0435\u043f\u0435\u0440\u044c \u043d\u0435 \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043f\u0430\u043c\u044f\u0442\u044c, \u0437\u0430\u043d\u0438\u043c\u0430\u0435\u043c\u0430\u044f \u0438\u043d\u0434\u0435\u043a\u0441\u043e\u043c \u0442\u0430\u0431\u043b\u0438\u0446\u044b. \u042d\u0442\u043e \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0438\u0437\u0431\u0435\u0436\u0430\u0442\u044c \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u0438, \u043a\u043e\u0433\u0434\u0430 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c <code>ATTACH TABLE</code> \u043f\u043e\u0441\u043b\u0435 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0433\u043e <code>DETACH TABLE</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4396\" rel=\"external nofollow\">#4396</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u041d\u0435\u043c\u043d\u043e\u0433\u043e \u0443\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u044b \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f \u043d\u0430 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u0440\u0430\u0437\u043c\u0435\u0440 \u0441\u0442\u0440\u043e\u043a\u0438 \u0438 \u043c\u0430\u0441\u0441\u0438\u0432\u0430, \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0435 \u043e\u0442 ZooKeeper. \u042d\u0442\u043e \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443 \u043f\u043e\u0441\u043b\u0435 \u0443\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0438\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 ZooKeeper <code>CLIENT_JVMFLAGS=-Djute.maxbuffer=...</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4398\" rel=\"external nofollow\">#4398</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0422\u0435\u043f\u0435\u0440\u044c \u0440\u0435\u043f\u043b\u0438\u043a\u0443, \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u0443\u044e \u043d\u0430 \u0434\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434, \u043c\u043e\u0436\u043d\u043e \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c, \u0434\u0430\u0436\u0435 \u0435\u0441\u043b\u0438 \u0432 \u0435\u0451 \u043e\u0447\u0435\u0440\u0435\u0434\u0438 \u0441\u043a\u043e\u043f\u0438\u043b\u043e\u0441\u044c \u043e\u0433\u0440\u043e\u043c\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e \u0437\u0430\u043f\u0438\u0441\u0435\u0439. <a href=\"https://github.com/yandex/ClickHouse/pull/4399\" rel=\"external nofollow\">#4399</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0414\u043b\u044f \u0432\u0442\u043e\u0440\u0438\u0447\u043d\u044b\u0445 \u0438\u043d\u0434\u0435\u043a\u0441\u043e\u0432 \u0442\u0438\u043f\u0430 <code>set</code> \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 (\u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0447\u0438\u0441\u043b\u043e \u0445\u0440\u0430\u043d\u0438\u043c\u044b\u0445 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439). <a href=\"https://github.com/yandex/ClickHouse/pull/4386\" rel=\"external nofollow\">#4386</a> (<a href=\"https://github.com/nikvas0\" rel=\"external nofollow\">Nikita Vasilev</a>)</li>\n</ul>\n<h4 id=\"ispravleniia-oshibok_6\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u0448\u0438\u0431\u043e\u043a:<a class=\"headerlink\" href=\"#ispravleniia-oshibok_6\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0441 \u043c\u043e\u0434\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u043e\u043c <code>WITH ROLLUP</code> \u043f\u0440\u0438 \u0433\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u043a\u0435 \u043f\u043e \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u043c\u0443 \u0441\u0442\u043e\u043b\u0431\u0446\u0443 \u0442\u0438\u043f\u0430 <code>LowCardinality</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4384\" rel=\"external nofollow\">#4384</a> (<a href=\"https://github.com/KochetovNicolai\" rel=\"external nofollow\">Nikolai Kochetov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0432\u043e \u0432\u0442\u043e\u0440\u0438\u0447\u043d\u043e\u043c \u0438\u043d\u0434\u0435\u043a\u0441\u0435 \u0442\u0438\u043f\u0430 <code>set</code> (\u0433\u0440\u0430\u043d\u0443\u043b\u044b, \u0432 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0431\u044b\u043b\u043e \u0431\u043e\u043b\u044c\u0448\u0435, \u0447\u0435\u043c <code>max_rows</code> \u0441\u0442\u0440\u043e\u043a, \u0438\u0433\u043d\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c). <a href=\"https://github.com/yandex/ClickHouse/pull/4386\" rel=\"external nofollow\">#4386</a> (<a href=\"https://github.com/nikvas0\" rel=\"external nofollow\">Nikita Vasilev</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0434\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 alias-\u043e\u0432 \u0432 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445 \u0441 \u043f\u043e\u0434\u0437\u0430\u043f\u0440\u043e\u0441\u043e\u043c, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0438\u043c \u044d\u0442\u043e\u0442 \u0436\u0435 alias (<a href=\"https://github.com/yandex/ClickHouse/issues/4110\" rel=\"external nofollow\">#4110</a>). <a href=\"https://github.com/yandex/ClickHouse/pull/4351\" rel=\"external nofollow\">#4351</a> (<a href=\"https://github.com/4ertus2\" rel=\"external nofollow\">Artem Zuikov</a>)</li>\n</ul>\n<h4 id=\"uluchsheniia-sborki-testirovaniia-paketirovaniia_4\">\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f \u0441\u0431\u043e\u0440\u043a\u0438/\u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f/\u043f\u0430\u043a\u0435\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f:<a class=\"headerlink\" href=\"#uluchsheniia-sborki-testirovaniia-paketirovaniia_4\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u041c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u043e \u0438\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0439 \u0434\u043b\u044f \u0441\u0431\u043e\u0440\u043a\u0438 \u043f\u043e\u0434 FreeBSD. <a href=\"https://github.com/yandex/ClickHouse/pull/4397\" rel=\"external nofollow\">#4397</a> (<a href=\"https://github.com/proller\" rel=\"external nofollow\">proller</a>)</li>\n<li>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c <code>clickhouse-server</code> \u0434\u043b\u044f stateless \u0442\u0435\u0441\u0442\u043e\u0432 \u0438\u0437 docker-\u043e\u0431\u0440\u0430\u0437\u0430. <a href=\"https://github.com/yandex/ClickHouse/pull/4347\" rel=\"external nofollow\">#4347</a> (<a href=\"https://github.com/Enmk\" rel=\"external nofollow\">Vasily Nemkov</a>)</li>\n</ul>\n<h3 id=\"clickhouse-release-19-3-3-2019-02-13\">ClickHouse release 19.3.3, 2019-02-13<a class=\"headerlink\" href=\"#clickhouse-release-19-3-3-2019-02-13\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"novye-vozmozhnosti_2\">\u041d\u043e\u0432\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438:<a class=\"headerlink\" href=\"#novye-vozmozhnosti_2\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0437\u0430\u043f\u0440\u043e\u0441 <code>KILL MUTATION</code>, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u043c\u0443\u0442\u0430\u0446\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u043e \u043a\u0430\u043a\u043e\u0439-\u0442\u043e \u043f\u0440\u0438\u0447\u0438\u043d\u0435 \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u0441\u044f. \u0412 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 <code>system.mutations</code> \u0434\u043b\u044f \u043e\u0431\u043b\u0435\u0433\u0447\u0435\u043d\u0438\u044f \u0434\u0438\u0430\u0433\u043d\u043e\u0441\u0442\u0438\u043a\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0441\u0442\u043e\u043b\u0431\u0446\u044b <code>latest_failed_part</code>, <code>latest_fail_time</code>, <code>latest_fail_reason</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4287\" rel=\"external nofollow\">#4287</a> (<a href=\"https://github.com/ztlpn\" rel=\"external nofollow\">Alex Zatelepin</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u0430\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u044f <code>entropy</code>, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0432\u044b\u0447\u0438\u0441\u043b\u044f\u0435\u0442 \u044d\u043d\u0442\u0440\u043e\u043f\u0438\u044e \u0428\u0435\u043d\u043d\u043e\u043d\u0430. <a href=\"https://github.com/yandex/ClickHouse/pull/4238\" rel=\"external nofollow\">#4238</a> (<a href=\"https://github.com/Quid37\" rel=\"external nofollow\">Quid37</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0431\u043e\u0431\u0449\u0451\u043d\u043d\u0430\u044f \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>arrayWithConstant</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4322\" rel=\"external nofollow\">#4322</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440 \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044f <code>NOT BETWEEN</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4228\" rel=\"external nofollow\">#4228</a> (<a href=\"https://github.com/nezed\" rel=\"external nofollow\">Dmitry Naumov</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f <code>sumMapFiltered</code> - \u0432\u0430\u0440\u0438\u0430\u043d\u0442 <code>sumMap</code>, \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0449\u0438\u0439 \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u043d\u0430\u0431\u043e\u0440 \u043a\u043b\u044e\u0447\u0435\u0439, \u043f\u043e \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0441\u0443\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435. <a href=\"https://github.com/yandex/ClickHouse/pull/4129\" rel=\"external nofollow\">#4129</a> (<a href=\"https://github.com/ercolanelli-leo\" rel=\"external nofollow\">L\u00e9o Ercolanelli</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f <code>sumMapWithOverflow</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4151\" rel=\"external nofollow\">#4151</a> (<a href=\"https://github.com/ercolanelli-leo\" rel=\"external nofollow\">L\u00e9o Ercolanelli</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 <code>Nullable</code> \u0442\u0438\u043f\u043e\u0432 \u0432 \u0442\u0430\u0431\u043b\u0438\u0447\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>mysql</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4198\" rel=\"external nofollow\">#4198</a> (<a href=\"https://github.com/edonin\" rel=\"external nofollow\">Emmanuel Donin de Rosi\u00e8re</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u044b\u0445 \u043a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u043d\u044b\u0445 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u0432 \u0441\u0435\u043a\u0446\u0438\u0438 <code>LIMIT</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4246\" rel=\"external nofollow\">#4246</a> (<a href=\"https://github.com/k3box\" rel=\"external nofollow\">k3box</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u0430\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u044f <code>topKWeighted</code> - \u0432\u0430\u0440\u0438\u0430\u043d\u0442 <code>topK</code>, \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0449\u0438\u0439 \u0437\u0430\u0434\u0430\u0432\u0430\u0442\u044c (\u0446\u0435\u043b\u044b\u0439 \u043d\u0435\u043e\u0442\u0440\u0438\u0446\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439) \u0432\u0435\u0441 \u0434\u043e\u0431\u0430\u0432\u043b\u044f\u0435\u043c\u043e\u0433\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f. <a href=\"https://github.com/yandex/ClickHouse/pull/4245\" rel=\"external nofollow\">#4245</a> (<a href=\"https://github.com/andrewgolman\" rel=\"external nofollow\">Andrew Golman</a>)</li>\n<li>\u0414\u0432\u0438\u0436\u043e\u043a <code>Join</code> \u0442\u0435\u043f\u0435\u0440\u044c \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0443 <code>join_overwrite</code>, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u043a\u043b\u044e\u0447\u0435\u0439. <a href=\"https://github.com/yandex/ClickHouse/pull/3973\" rel=\"external nofollow\">#3973</a> (<a href=\"https://github.com/amosbird\" rel=\"external nofollow\">Amos Bird</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f <code>toStartOfInterval</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4304\" rel=\"external nofollow\">#4304</a> (<a href=\"https://github.com/vitlibar\" rel=\"external nofollow\">Vitaly Baranov</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f <code>toStartOfTenMinutes</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4298\" rel=\"external nofollow\">#4298</a> (<a href=\"https://github.com/vitlibar\" rel=\"external nofollow\">Vitaly Baranov</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0444\u043e\u0440\u043c\u0430\u0442 <code>RowBinaryWithNamesAndTypes</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4200\" rel=\"external nofollow\">#4200</a> (<a href=\"https://github.com/DarkWanderer\" rel=\"external nofollow\">Oleg V. Kozlyuk</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0442\u0438\u043f\u044b <code>IPv4</code> \u0438 <code>IPv6</code>. \u0411\u043e\u043b\u0435\u0435 \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u0430\u044f \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u0439 <code>IPv*</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3669\" rel=\"external nofollow\">#3669</a> (<a href=\"https://github.com/Enmk\" rel=\"external nofollow\">Vasily Nemkov</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432\u044b\u0445\u043e\u0434\u043d\u043e\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 <code>Protobuf</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4005\" rel=\"external nofollow\">#4005</a> <a href=\"https://github.com/yandex/ClickHouse/pull/4158\" rel=\"external nofollow\">#4158</a> (<a href=\"https://github.com/vitlibar\" rel=\"external nofollow\">Vitaly Baranov</a>)</li>\n<li>\u0412 HTTP-\u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c\u0430 \u0441\u0436\u0430\u0442\u0438\u044f brotli \u0434\u043b\u044f \u0432\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u043c\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445. <a href=\"https://github.com/yandex/ClickHouse/pull/4235\" rel=\"external nofollow\">#4235</a> (<a href=\"https://github.com/fandyushin\" rel=\"external nofollow\">Mikhail</a>)</li>\n<li>\u041a\u043b\u0438\u0435\u043d\u0442 \u043a\u043e\u043c\u0430\u043d\u0434\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438 \u0442\u0435\u043f\u0435\u0440\u044c \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0435 \u0438\u043c\u044f, \u0435\u0441\u043b\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043e\u043f\u0435\u0447\u0430\u0442\u0430\u043b\u0441\u044f \u0432 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u0438. <a href=\"https://github.com/yandex/ClickHouse/pull/4239\" rel=\"external nofollow\">#4239</a> (<a href=\"https://github.com/danlark1\" rel=\"external nofollow\">Danila Kutenin</a>)</li>\n<li>\u0412 HTTP-\u043e\u0442\u0432\u0435\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a <code>Query-Id</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4231\" rel=\"external nofollow\">#4231</a> (<a href=\"https://github.com/fandyushin\" rel=\"external nofollow\">Mikhail</a>)</li>\n</ul>\n<h4 id=\"eksperimentalnye-vozmozhnosti\">\u042d\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u0430\u043b\u044c\u043d\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438:<a class=\"headerlink\" href=\"#eksperimentalnye-vozmozhnosti\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0432\u0442\u043e\u0440\u0438\u0447\u043d\u044b\u0445 \u0438\u043d\u0434\u0435\u043a\u0441\u043e\u0432 \u0442\u0438\u043f\u0430 <code>minmax</code> \u0438 <code>set</code> \u0434\u043b\u044f \u0442\u0430\u0431\u043b\u0438\u0446 \u0441\u0435\u043c\u0435\u0439\u0441\u0442\u0432\u0430 MergeTree (\u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0442 \u0431\u044b\u0441\u0442\u0440\u043e \u043f\u0440\u043e\u043f\u0443\u0441\u043a\u0430\u0442\u044c \u0446\u0435\u043b\u044b\u0435 \u0431\u043b\u043e\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445). <a href=\"https://github.com/yandex/ClickHouse/pull/4143\" rel=\"external nofollow\">#4143</a> (<a href=\"https://github.com/nikvas0\" rel=\"external nofollow\">Nikita Vasilev</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u044f <code>CROSS JOIN</code> \u0432 <code>INNER JOIN</code>, \u0435\u0441\u043b\u0438 \u044d\u0442\u043e \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e. <a href=\"https://github.com/yandex/ClickHouse/pull/4221\" rel=\"external nofollow\">#4221</a> <a href=\"https://github.com/yandex/ClickHouse/pull/4266\" rel=\"external nofollow\">#4266</a> (<a href=\"https://github.com/4ertus2\" rel=\"external nofollow\">Artem Zuikov</a>)</li>\n</ul>\n<h4 id=\"ispravleniia-oshibok_7\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u0448\u0438\u0431\u043e\u043a:<a class=\"headerlink\" href=\"#ispravleniia-oshibok_7\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 <code>Not found column</code> \u0434\u043b\u044f \u0441\u043b\u0443\u0447\u0430\u044f \u0434\u0443\u0431\u043b\u0438\u0440\u0443\u044e\u0449\u0438\u0445\u0441\u044f \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432 \u0432 \u0441\u0435\u043a\u0446\u0438\u0438 <code>JOIN ON</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4279\" rel=\"external nofollow\">#4279</a> (<a href=\"https://github.com/4ertus2\" rel=\"external nofollow\">Artem Zuikov</a>)</li>\n<li>\u041a\u043e\u043c\u0430\u043d\u0434\u0430 <code>START REPLICATED SENDS</code> \u0442\u0435\u043f\u0435\u0440\u044c \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u043f\u043e\u0441\u044b\u043b\u043a\u0443 \u043a\u0443\u0441\u043a\u043e\u0432 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u0440\u0438 \u0440\u0435\u043f\u043b\u0438\u043a\u0430\u0446\u0438\u0438. <a href=\"https://github.com/yandex/ClickHouse/pull/4229\" rel=\"external nofollow\">#4229</a> (<a href=\"https://github.com/nvartolomei\" rel=\"external nofollow\">nvartolomei</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0430\u0433\u0440\u0435\u0433\u0430\u0446\u0438\u044f \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432 \u0442\u0438\u043f\u0430 <code>Array(LowCardinality)</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4055\" rel=\"external nofollow\">#4055</a> (<a href=\"https://github.com/KochetovNicolai\" rel=\"external nofollow\">KochetovNicolai</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u0432\u0448\u0430\u044f \u043a \u0442\u043e\u043c\u0443, \u0447\u0442\u043e \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 <code>INSERT ... SELECT ... FROM file(...)</code> \u0442\u0435\u0440\u044f\u043b\u0430\u0441\u044c \u043f\u0435\u0440\u0432\u0430\u044f \u0441\u0442\u0440\u043e\u0447\u043a\u0430 \u0444\u0430\u0439\u043b\u0430, \u0435\u0441\u043b\u0438 \u043e\u043d \u0431\u044b\u043b \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 <code>CSVWithNames</code> \u0438\u043b\u0438 <code>TSVWIthNames</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4297\" rel=\"external nofollow\">#4297</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0430\u0434\u0435\u043d\u0438\u0435 \u043f\u0440\u0438 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0432\u043d\u0435\u0448\u043d\u0435\u0433\u043e \u0441\u043b\u043e\u0432\u0430\u0440\u044f, \u0435\u0441\u043b\u0438 \u0441\u043b\u043e\u0432\u0430\u0440\u044c \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d. \u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u0432 19.1.6. <a href=\"https://github.com/yandex/ClickHouse/pull/4188\" rel=\"external nofollow\">#4188</a> (<a href=\"https://github.com/proller\" rel=\"external nofollow\">proller</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 <code>ALL JOIN</code>, \u0435\u0441\u043b\u0438 \u0432 \u043f\u0440\u0430\u0432\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442 \u0434\u0443\u0431\u043b\u0438\u043a\u0430\u0442\u044b \u043a\u043b\u044e\u0447\u0430 join. <a href=\"https://github.com/yandex/ClickHouse/pull/4184\" rel=\"external nofollow\">#4184</a> (<a href=\"https://github.com/4ertus2\" rel=\"external nofollow\">Artem Zuikov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0430\u0434\u0435\u043d\u0438\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u043f\u0440\u0438 \u0432\u043a\u043b\u044e\u0447\u0451\u043d\u043d\u043e\u0439 \u043e\u043f\u0446\u0438\u0438 <code>use_uncompressed_cache</code>, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043e \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u043c \u0440\u0430\u0437\u043c\u0435\u0440\u0435 \u0440\u0430\u0437\u0436\u0430\u0442\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445. <a href=\"https://github.com/yandex/ClickHouse/pull/4186\" rel=\"external nofollow\">#4186</a> (<a href=\"https://github.com/alesapin\" rel=\"external nofollow\">alesapin</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043f\u0440\u0438\u0432\u043e\u0434\u044f\u0449\u0430\u044f \u043a \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u043c\u0443 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0443 \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044f \u0431\u043e\u043b\u044c\u0448\u0438\u0445 (\u043d\u0435 \u043f\u043e\u043c\u0435\u0449\u0430\u044e\u0449\u0438\u0445\u0441\u044f \u0432 Int16) \u0434\u0430\u0442 \u043f\u0440\u0438 \u0432\u043a\u043b\u044e\u0447\u0451\u043d\u043d\u043e\u0439 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0435 <code>compile_expressions</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4341\" rel=\"external nofollow\">#4341</a> (<a href=\"https://github.com/alesapin\" rel=\"external nofollow\">alesapin</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u0431\u0435\u0441\u043a\u043e\u043d\u0435\u0447\u043d\u044b\u0439 \u0446\u0438\u043a\u043b \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0435 \u0438\u0437 \u0442\u0430\u0431\u043b\u0438\u0447\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>numbers(0)</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4280\" rel=\"external nofollow\">#4280</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0412\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u043e\u0442\u043a\u043b\u044e\u0447\u0451\u043d pushdown \u043f\u0440\u0435\u0434\u0438\u043a\u0430\u0442\u043e\u0432 \u0432 \u043f\u043e\u0434\u0437\u0430\u043f\u0440\u043e\u0441, \u0435\u0441\u043b\u0438 \u043e\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 <code>ORDER BY</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3890\" rel=\"external nofollow\">#3890</a> (<a href=\"https://github.com/zhang2014\" rel=\"external nofollow\">Winter Zhang</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 <code>Illegal instruction</code> \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 base64 \u043d\u0430 \u0441\u0442\u0430\u0440\u044b\u0445 CPU. \u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u043e\u044f\u0432\u043b\u044f\u043b\u0430\u0441\u044c \u0442\u043e\u043b\u044c\u043a\u043e, \u0435\u0441\u043b\u0438 ClickHouse \u0431\u044b\u043b \u0441\u043a\u043e\u043c\u043f\u0438\u043b\u0438\u0440\u043e\u0432\u0430\u043d \u0441 gcc-8. <a href=\"https://github.com/yandex/ClickHouse/pull/4275\" rel=\"external nofollow\">#4275</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 <code>No message received</code> \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445 \u043a PostgreSQL \u0447\u0435\u0440\u0435\u0437 ODBC-\u0434\u0440\u0430\u0439\u0432\u0435\u0440 \u0438 TLS-\u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435, \u0438\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d segfault \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 MySQL \u0447\u0435\u0440\u0435\u0437 ODBC-\u0434\u0440\u0430\u0439\u0432\u0435\u0440. <a href=\"https://github.com/yandex/ClickHouse/pull/4170\" rel=\"external nofollow\">#4170</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u0442\u0438\u043f\u0430 <code>Date</code> \u0438\u043b\u0438 <code>DateTime</code> \u0432 \u0432\u0435\u0442\u0432\u044f\u0445 \u0443\u0441\u043b\u043e\u0432\u043d\u043e\u0433\u043e \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u0430 (\u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>if</code>). \u0424\u0443\u043d\u043a\u0446\u0438\u044f <code>if</code> \u0442\u0435\u043f\u0435\u0440\u044c \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0434\u043b\u044f \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u043e\u0433\u043e \u0442\u0438\u043f\u0430 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u0432 \u0432\u0435\u0442\u0432\u044f\u0445. <a href=\"https://github.com/yandex/ClickHouse/pull/4243\" rel=\"external nofollow\">#4243</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0421\u043b\u043e\u0432\u0430\u0440\u0438 \u0441 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u043e\u043c \u0438\u0437 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0433\u043e ClickHouse \u0442\u0435\u043f\u0435\u0440\u044c \u0438\u0441\u043f\u043e\u043b\u043d\u044f\u044e\u0442\u0441\u044f \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e, \u0430 \u043d\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f TCP-\u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435. <a href=\"https://github.com/yandex/ClickHouse/pull/4166\" rel=\"external nofollow\">#4166</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0437\u0430\u0432\u0438\u0441\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u043a \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \u0441 \u0434\u0432\u0438\u0436\u043a\u043e\u043c <code>File</code> \u043f\u043e\u0441\u043b\u0435 \u0442\u043e\u0433\u043e, \u043a\u0430\u043a <code>SELECT</code> \u0438\u0437 \u044d\u0442\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u043b\u0441\u044f \u0441 \u043e\u0448\u0438\u0431\u043a\u043e\u0439 <code>No such file or directory</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4161\" rel=\"external nofollow\">#4161</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u0438\u0437-\u0437\u0430 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0435 \u043a \u0442\u0430\u0431\u043b\u0438\u0446\u0435 <code>system.tables</code> \u043c\u043e\u0433\u043b\u043e \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u0442\u044c \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 <code>table doesn't exist</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4313\" rel=\"external nofollow\">#4313</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u0432\u0448\u0430\u044f \u043a \u043f\u0430\u0434\u0435\u043d\u0438\u044e <code>clickhouse-client</code> \u0432 \u0438\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435, \u0435\u0441\u043b\u0438 \u0443\u0441\u043f\u0435\u0442\u044c \u0432\u044b\u0439\u0442\u0438 \u0438\u0437 \u043d\u0435\u0433\u043e \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043e\u043a \u043a\u043e\u043c\u0430\u043d\u0434\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438. <a href=\"https://github.com/yandex/ClickHouse/pull/4317\" rel=\"external nofollow\">#4317</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u0432\u0448\u0430\u044f \u043a \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u043c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430\u043c \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043c\u0443\u0442\u0430\u0446\u0438\u0439, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0438\u0445 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440 <code>IN</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4099\" rel=\"external nofollow\">#4099</a> (<a href=\"https://github.com/ztlpn\" rel=\"external nofollow\">Alex Zatelepin</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u0438\u0437-\u0437\u0430 \u043a\u043e\u0442\u043e\u0440\u043e\u0439, \u0435\u0441\u043b\u0438 \u0431\u044b\u043b\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0430 \u0431\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u0441 \u0434\u0432\u0438\u0436\u043a\u043e\u043c <code>Dictionary</code>, \u0432\u0441\u0435 \u0441\u043b\u043e\u0432\u0430\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u043b\u0438\u0441\u044c \u043f\u0440\u0438 \u0441\u0442\u0430\u0440\u0442\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u0430, \u0430 \u0441\u043b\u043e\u0432\u0430\u0440\u0438 \u0441 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u043e\u043c \u0438\u0437 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0433\u043e ClickHouse \u043d\u0435 \u043c\u043e\u0433\u043b\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c\u0441\u044f. <a href=\"https://github.com/yandex/ClickHouse/pull/4255\" rel=\"external nofollow\">#4255</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0442\u0430\u0431\u043b\u0438\u0446 \u0441 \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u043c\u0438 \u043b\u043e\u0433\u0430\u043c\u0438 (<code>system.query_log</code>, <code>system.part_log</code>) \u043f\u0440\u0438 \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u0430. <a href=\"https://github.com/yandex/ClickHouse/pull/4254\" rel=\"external nofollow\">#4254</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u0432\u044b\u0432\u043e\u0434 \u0442\u0438\u043f\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u043c\u043e\u0433\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043e\u043a \u0432 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>joinGet</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4153\" rel=\"external nofollow\">#4153</a> (<a href=\"https://github.com/amosbird\" rel=\"external nofollow\">Amos Bird</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0430\u0434\u0435\u043d\u0438\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 <code>allow_experimental_multiple_joins_emulation</code>. <a href=\"https://github.com/yandex/ClickHouse/commit/52de2cd927f7b5257dd67e175f0a5560a48840d0\" rel=\"external nofollow\">52de2c</a> (<a href=\"https://github.com/4ertus2\" rel=\"external nofollow\">Artem Zuikov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u0442\u0438\u043f\u0430 <code>Date</code> \u0438 <code>DateTime</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4237\" rel=\"external nofollow\">#4237</a> (<a href=\"https://github.com/valexey\" rel=\"external nofollow\">valexey</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043f\u0440\u043e\u044f\u0432\u043b\u044f\u0432\u0448\u0430\u044f\u0441\u044f \u043f\u0440\u0438 fuzz-\u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0438 \u0441 undefined behaviour-\u0441\u0430\u043d\u0438\u0442\u0430\u0439\u0437\u0435\u0440\u043e\u043c: \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0442\u0438\u043f\u043e\u0432 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u0434\u043b\u044f \u0441\u0435\u043c\u0435\u0439\u0441\u0442\u0432\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 <code>quantile*Weighted</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4145\" rel=\"external nofollow\">#4145</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0435\u0434\u043a\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430, \u0438\u0437-\u0437\u0430 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0441\u0442\u0430\u0440\u044b\u0445 \u043a\u0443\u0441\u043a\u043e\u0432 \u0434\u0430\u043d\u043d\u044b\u0445 \u043c\u043e\u0436\u0435\u0442 \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u0442\u044c \u043e\u0448\u0438\u0431\u043a\u0430 <code>File not found</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4378\" rel=\"external nofollow\">#4378</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u043f\u0430\u043a\u0435\u0442\u0430 \u043f\u0440\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u043c \u0444\u0430\u0439\u043b\u0435 /etc/clickhouse-server/config.xml. <a href=\"https://github.com/yandex/ClickHouse/pull/4343\" rel=\"external nofollow\">#4343</a> (<a href=\"https://github.com/proller\" rel=\"external nofollow\">proller</a>)</li>\n</ul>\n<h4 id=\"uluchsheniia-sborki-testirovaniia-paketirovaniia_5\">\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f \u0441\u0431\u043e\u0440\u043a\u0438/\u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f/\u043f\u0430\u043a\u0435\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f:<a class=\"headerlink\" href=\"#uluchsheniia-sborki-testirovaniia-paketirovaniia_5\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u041f\u0440\u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0435 Debian-\u043f\u0430\u043a\u0435\u0442\u0430 \u0441\u0438\u043c\u0432\u043e\u043b\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0441\u0441\u044b\u043b\u043a\u0430 /etc/clickhouse-server/preprocessed \u0442\u0435\u043f\u0435\u0440\u044c \u0441\u043e\u0437\u0434\u0430\u0451\u0442\u0441\u044f, \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u044f \u043f\u0443\u0442\u0438, \u043f\u0440\u043e\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u0435 \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u043c \u0444\u0430\u0439\u043b\u0435. <a href=\"https://github.com/yandex/ClickHouse/pull/4205\" rel=\"external nofollow\">#4205</a> (<a href=\"https://github.com/proller\" rel=\"external nofollow\">proller</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u0431\u043e\u0440\u043a\u0438 \u043f\u043e\u0434 FreeBSD. <a href=\"https://github.com/yandex/ClickHouse/pull/4225\" rel=\"external nofollow\">#4225</a> (<a href=\"https://github.com/proller\" rel=\"external nofollow\">proller</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c, \u0437\u0430\u043f\u043e\u043b\u043d\u044f\u0442\u044c \u0438 \u0443\u0434\u0430\u043b\u044f\u0442\u044c \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0432 \u0442\u0435\u0441\u0442\u0430\u0445 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438. <a href=\"https://github.com/yandex/ClickHouse/pull/4220\" rel=\"external nofollow\">#4220</a> (<a href=\"https://github.com/alesapin\" rel=\"external nofollow\">alesapin</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0441\u043a\u0440\u0438\u043f\u0442 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430 \u0434\u0443\u0431\u043b\u0438\u0440\u0443\u044e\u0449\u0438\u0445\u0441\u044f include-\u0434\u0438\u0440\u0435\u043a\u0442\u0438\u0432 \u0432 \u0438\u0441\u0445\u043e\u0434\u043d\u044b\u0445 \u0444\u0430\u0439\u043b\u0430\u0445. <a href=\"https://github.com/yandex/ClickHouse/pull/4326\" rel=\"external nofollow\">#4326</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0412 \u0442\u0435\u0441\u0442\u0430\u0445 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u043f\u043e \u043d\u043e\u043c\u0435\u0440\u0443. <a href=\"https://github.com/yandex/ClickHouse/pull/4264\" rel=\"external nofollow\">#4264</a> (<a href=\"https://github.com/alesapin\" rel=\"external nofollow\">alesapin</a>)</li>\n<li>\u041f\u0430\u043a\u0435\u0442 \u0441 debug-\u0441\u0438\u043c\u0432\u043e\u043b\u0430\u043c\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u0441\u043f\u0438\u0441\u043e\u043a \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u0434\u043b\u044f \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0433\u043e \u043f\u0430\u043a\u0435\u0442\u0430. <a href=\"https://github.com/yandex/ClickHouse/pull/4274\" rel=\"external nofollow\">#4274</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0420\u0435\u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433 \u0443\u0442\u0438\u043b\u0438\u0442\u044b performance-test. \u0423\u043b\u0443\u0447\u0448\u0435\u043d\u043e \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0441\u0438\u0433\u043d\u0430\u043b\u043e\u0432. <a href=\"https://github.com/yandex/ClickHouse/pull/4171\" rel=\"external nofollow\">#4171</a> (<a href=\"https://github.com/alesapin\" rel=\"external nofollow\">alesapin</a>)</li>\n<li>\u0417\u0430\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d \u0430\u043d\u043e\u043d\u0438\u043c\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0434\u0430\u0442\u0430\u0441\u0435\u0442 \u042f\u043d\u0434\u0435\u043a\u0441.\u041c\u0435\u0442\u0440\u0438\u043a\u0438. <a href=\"https://github.com/yandex/ClickHouse/pull/4164\" rel=\"external nofollow\">#4164</a> (<a href=\"https://github.com/alesapin\" rel=\"external nofollow\">alesapin</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 \u0434\u043b\u044f \u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043a\u0443\u0441\u043a\u043e\u0432 \u0434\u0430\u043d\u043d\u044b\u0445 \u0442\u0430\u0431\u043b\u0438\u0446, \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0445 \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u0441\u0442\u0430\u0440\u043e\u0433\u043e \u0441\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441\u0430 \u0441 \u043f\u043e\u043c\u0435\u0441\u044f\u0447\u043d\u044b\u043c \u043f\u0430\u0440\u0442\u0438\u0446\u0438\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\u043c, \u0432 \u043d\u043e\u0432\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442. <a href=\"https://github.com/yandex/ClickHouse/pull/4195\" rel=\"external nofollow\">#4195</a> (<a href=\"https://github.com/ztlpn\" rel=\"external nofollow\">Alex Zatelepin</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f \u0434\u043b\u044f \u0434\u0432\u0443\u0445 \u0434\u0430\u0442\u0430\u0441\u0435\u0442\u043e\u0432, \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043d\u044b\u0445 \u0432 s3. <a href=\"https://github.com/yandex/ClickHouse/pull/4144\" rel=\"external nofollow\">#4144</a> (<a href=\"https://github.com/alesapin\" rel=\"external nofollow\">alesapin</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442, \u0441\u043e\u0431\u0438\u0440\u0430\u044e\u0449\u0438\u0439 changelog \u0438\u0437 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0439 pull request-\u043e\u0432. <a href=\"https://github.com/yandex/ClickHouse/pull/4169\" rel=\"external nofollow\">#4169</a> <a href=\"https://github.com/yandex/ClickHouse/pull/4173\" rel=\"external nofollow\">#4173</a> (<a href=\"https://github.com/KochetovNicolai\" rel=\"external nofollow\">KochetovNicolai</a>) (<a href=\"https://github.com/KochetovNicolai\" rel=\"external nofollow\">KochetovNicolai</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d puppet-\u043c\u043e\u0434\u0443\u043b\u044c \u0434\u043b\u044f Clickhouse. <a href=\"https://github.com/yandex/ClickHouse/pull/4182\" rel=\"external nofollow\">#4182</a> (<a href=\"https://github.com/MaxFedotov\" rel=\"external nofollow\">Maxim Fedotov</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f \u0434\u043b\u044f \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u043d\u0435\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439. <a href=\"https://github.com/yandex/ClickHouse/pull/4168\" rel=\"external nofollow\">#4168</a> (<a href=\"https://github.com/zhang2014\" rel=\"external nofollow\">Winter Zhang</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u0431\u043e\u0440\u043a\u0438 \u043f\u043e\u0434 ARM. <a href=\"https://github.com/yandex/ClickHouse/pull/4210\" rel=\"external nofollow\">#4210</a><a href=\"https://github.com/yandex/ClickHouse/pull/4306\" rel=\"external nofollow\">#4306</a> <a href=\"https://github.com/yandex/ClickHouse/pull/4291\" rel=\"external nofollow\">#4291</a> (<a href=\"https://github.com/proller\" rel=\"external nofollow\">proller</a>) (<a href=\"https://github.com/proller\" rel=\"external nofollow\">proller</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c \u0442\u0435\u0441\u0442\u044b \u0441\u043b\u043e\u0432\u0430\u0440\u0435\u0439 \u0438\u0437 <code>ctest</code>.  <a href=\"https://github.com/yandex/ClickHouse/pull/4189\" rel=\"external nofollow\">#4189</a> (<a href=\"https://github.com/proller\" rel=\"external nofollow\">proller</a>)</li>\n<li>\u0422\u0435\u043f\u0435\u0440\u044c \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0435\u0439 \u0441 SSL-\u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430\u043c\u0438 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f <code>/etc/ssl</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4167\" rel=\"external nofollow\">#4167</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0441\u0442\u0438 SSE \u0438 AVX-\u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0439 \u043d\u0430 \u0441\u0442\u0430\u0440\u0442\u0435. <a href=\"https://github.com/yandex/ClickHouse/pull/4234\" rel=\"external nofollow\">#4234</a> (<a href=\"https://github.com/igron99\" rel=\"external nofollow\">Igr</a>)</li>\n<li>Init-\u0441\u043a\u0440\u0438\u043f\u0442 \u0442\u0435\u043f\u0435\u0440\u044c \u0434\u043e\u0436\u0438\u0434\u0430\u0435\u0442\u0441\u044f, \u043f\u043e\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440 \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0441\u044f. <a href=\"https://github.com/yandex/ClickHouse/pull/4281\" rel=\"external nofollow\">#4281</a> (<a href=\"https://github.com/proller\" rel=\"external nofollow\">proller</a>)</li>\n</ul>\n<h4 id=\"obratno-nesovmestimye-izmeneniia_1\">\u041e\u0431\u0440\u0430\u0442\u043d\u043e \u043d\u0435\u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u044b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f:<a class=\"headerlink\" href=\"#obratno-nesovmestimye-izmeneniia_1\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0423\u0434\u0430\u043b\u0435\u043d\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>allow_experimental_low_cardinality_type</code>. \u0421\u0435\u043c\u0435\u0439\u0441\u0442\u0432\u043e \u0442\u0438\u043f\u043e\u0432 \u0434\u0430\u043d\u043d\u044b\u0445 <code>LowCardinality</code> \u0433\u043e\u0442\u043e\u0432\u043e \u0434\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0432 production. <a href=\"https://github.com/yandex/ClickHouse/pull/4323\" rel=\"external nofollow\">#4323</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0420\u0430\u0437\u043c\u0435\u0440 \u043a\u044d\u0448\u0430 \u0437\u0430\u0441\u0435\u0447\u0435\u043a \u0438 \u043a\u044d\u0448\u0430 \u0440\u0430\u0437\u0436\u0430\u0442\u044b\u0445 \u0431\u043b\u043e\u043a\u043e\u0432 \u0442\u0435\u043f\u0435\u0440\u044c \u0443\u043c\u0435\u043d\u044c\u0448\u0430\u0435\u0442\u0441\u044f \u0432 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0433\u043e \u043e\u0431\u044a\u0451\u043c\u0430 \u043f\u0430\u043c\u044f\u0442\u0438. <a href=\"https://github.com/yandex/ClickHouse/pull/4240\" rel=\"external nofollow\">#4240</a> (<a href=\"https://github.com/k-lopatin\" rel=\"external nofollow\">Lopatin Konstantin</a>)</li>\n<li>\u0414\u043b\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 <code>CREATE TABLE</code> \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u0435 \u0441\u043b\u043e\u0432\u043e <code>INDEX</code>. \u0418\u043c\u044f \u0441\u0442\u043e\u043b\u0431\u0446\u0430 <code>index</code> \u0442\u0435\u043f\u0435\u0440\u044c \u043d\u0430\u0434\u043e \u043e\u0431\u043e\u0440\u0430\u0447\u0438\u0432\u0430\u0442\u044c \u0432 \u0434\u0432\u043e\u0439\u043d\u044b\u0435 \u0438\u043b\u0438 \u043e\u0431\u0440\u0430\u0442\u043d\u044b\u0435 \u043a\u0430\u0432\u044b\u0447\u043a\u0438: <code>`index`</code>.  <a href=\"https://github.com/yandex/ClickHouse/pull/4143\" rel=\"external nofollow\">#4143</a> (<a href=\"https://github.com/nikvas0\" rel=\"external nofollow\">Nikita Vasilev</a>)</li>\n<li>\u0424\u0443\u043d\u043a\u0446\u0438\u044f <code>sumMap</code> \u0442\u0435\u043f\u0435\u0440\u044c \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0442\u0438\u043f \u0441 \u0431\u043e\u043b\u044c\u0448\u0435\u0439 \u043e\u0431\u043b\u0430\u0441\u0442\u044c\u044e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u0432\u043c\u0435\u0441\u0442\u043e \u043f\u0435\u0440\u0435\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f. \u0415\u0441\u043b\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0441\u0442\u0430\u0440\u043e\u0435 \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435, \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043d\u0443\u044e \u0444\u0443\u043d\u043a\u0446\u0438\u044e <code>sumMapWithOverflow</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4151\" rel=\"external nofollow\">#4151</a> (<a href=\"https://github.com/ercolanelli-leo\" rel=\"external nofollow\">L\u00e9o Ercolanelli</a>)</li>\n</ul>\n<h4 id=\"uluchsheniia-proizvoditelnosti_1\">\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438:<a class=\"headerlink\" href=\"#uluchsheniia-proizvoditelnosti_1\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0414\u043b\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0431\u0435\u0437 \u0441\u0435\u043a\u0446\u0438\u0438 <code>LIMIT</code> \u0432\u043c\u0435\u0441\u0442\u043e <code>std::sort</code> \u0442\u0435\u043f\u0435\u0440\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f <code>pdqsort</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4236\" rel=\"external nofollow\">#4236</a> (<a href=\"https://github.com/kvinty\" rel=\"external nofollow\">Evgenii Pravda</a>)</li>\n<li>\u0422\u0435\u043f\u0435\u0440\u044c \u0441\u0435\u0440\u0432\u0435\u0440 \u043f\u0435\u0440\u0435\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 \u043f\u043e\u0442\u043e\u043a\u0438 \u0434\u043b\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0438\u0437 \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043f\u0443\u043b\u0430 \u043f\u043e\u0442\u043e\u043a\u043e\u0432. \u0412 \u043a\u0440\u0430\u0435\u0432\u044b\u0445 \u0441\u043b\u0443\u0447\u0430\u044f\u0445 \u044d\u0442\u043e \u0432\u043b\u0438\u044f\u0435\u0442 \u043d\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c. <a href=\"https://github.com/yandex/ClickHouse/pull/4150\" rel=\"external nofollow\">#4150</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n</ul>\n<h4 id=\"uluchsheniia_4\">\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f:<a class=\"headerlink\" href=\"#uluchsheniia_4\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0422\u0435\u043f\u0435\u0440\u044c, \u0435\u0441\u043b\u0438 \u0432 \u043d\u0430\u0442\u0438\u0432\u043d\u043e\u043c \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\u0435 \u043f\u043e\u0441\u043b\u0430\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441 <code>INSERT INTO tbl VALUES (....</code> (\u0441 \u0434\u0430\u043d\u043d\u044b\u043c\u0438 \u0432 \u0437\u0430\u043f\u0440\u043e\u0441\u0435), \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e \u043f\u043e\u0441\u044b\u043b\u0430\u0442\u044c \u0440\u0430\u0437\u043e\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0434\u043b\u044f \u0432\u0441\u0442\u0430\u0432\u043a\u0438 \u043d\u0435 \u043d\u0443\u0436\u043d\u043e. <a href=\"https://github.com/yandex/ClickHouse/pull/4301\" rel=\"external nofollow\">#4301</a> (<a href=\"https://github.com/alesapin\" rel=\"external nofollow\">alesapin</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 AIO \u0434\u043b\u044f FreeBSD. <a href=\"https://github.com/yandex/ClickHouse/pull/4305\" rel=\"external nofollow\">#4305</a> (<a href=\"https://github.com/urgordeadbeef\" rel=\"external nofollow\">urgordeadbeef</a>)</li>\n<li>\u0417\u0430\u043f\u0440\u043e\u0441 <code>SELECT * FROM a JOIN b USING a, b</code> \u0442\u0435\u043f\u0435\u0440\u044c \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0441\u0442\u043e\u043b\u0431\u0446\u044b <code>a</code> \u0438 <code>b</code> \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u043b\u0435\u0432\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u044b. <a href=\"https://github.com/yandex/ClickHouse/pull/4141\" rel=\"external nofollow\">#4141</a> (<a href=\"https://github.com/4ertus2\" rel=\"external nofollow\">Artem Zuikov</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u043f\u0446\u0438\u044f \u043a\u043e\u043c\u0430\u043d\u0434\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438 <code>-C</code> \u0434\u043b\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u0430, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0442\u0430\u043a \u0436\u0435, \u043a\u0430\u043a \u0438 \u043e\u043f\u0446\u0438\u044f <code>-c</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4232\" rel=\"external nofollow\">#4232</a> (<a href=\"https://github.com/syominsergey\" rel=\"external nofollow\">syominsergey</a>)</li>\n<li>\u0415\u0441\u043b\u0438 \u0434\u043b\u044f \u043e\u043f\u0446\u0438\u0438 <code>--password</code> \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435, \u043f\u0430\u0440\u043e\u043b\u044c \u0437\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0438\u0437 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u0433\u043e \u0432\u0445\u043e\u0434\u0430. <a href=\"https://github.com/yandex/ClickHouse/pull/4230\" rel=\"external nofollow\">#4230</a> (<a href=\"https://github.com/bsd-conqueror\" rel=\"external nofollow\">BSD_Conqueror</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0434\u0441\u0432\u0435\u0442\u043a\u0430 \u043c\u0435\u0442\u0430\u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432 \u0432 \u0441\u0442\u0440\u043e\u043a\u043e\u0432\u044b\u0445 \u043b\u0438\u0442\u0435\u0440\u0430\u043b\u0430\u0445, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0438\u0445 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u0430 <code>LIKE</code> \u0438 \u0440\u0435\u0433\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f. <a href=\"https://github.com/yandex/ClickHouse/pull/4327\" rel=\"external nofollow\">#4327</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0442\u043c\u0435\u043d\u0430 HTTP-\u0437\u0430\u043f\u0440\u043e\u0441\u0430, \u0435\u0441\u043b\u0438 \u0441\u043e\u043a\u0435\u0442 \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u043e\u0442\u0432\u0430\u043b\u0438\u0432\u0430\u0435\u0442\u0441\u044f. <a href=\"https://github.com/yandex/ClickHouse/pull/4213\" rel=\"external nofollow\">#4213</a> (<a href=\"https://github.com/nvartolomei\" rel=\"external nofollow\">nvartolomei</a>)</li>\n<li>\u0422\u0435\u043f\u0435\u0440\u044c \u0441\u0435\u0440\u0432\u0435\u0440 \u0432\u0440\u0435\u043c\u044f \u043e\u0442 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u043f\u043e\u0441\u044b\u043b\u0430\u0435\u0442 \u043f\u0430\u043a\u0435\u0442\u044b Progress \u0434\u043b\u044f \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u044f \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f. <a href=\"https://github.com/yandex/ClickHouse/pull/4215\" rel=\"external nofollow\">#4215</a> (<a href=\"https://github.com/abyss7\" rel=\"external nofollow\">Ivan</a>)</li>\n<li>\u041d\u0435\u043c\u043d\u043e\u0433\u043e \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e \u043f\u0440\u0438\u0447\u0438\u043d\u0435, \u043f\u043e\u0447\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441 OPTIMIZE \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d (\u0435\u0441\u043b\u0438 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>optimize_throw_if_noop</code>). <a href=\"https://github.com/yandex/ClickHouse/pull/4294\" rel=\"external nofollow\">#4294</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u043e\u043f\u0446\u0438\u0438 <code>--version</code> \u0434\u043b\u044f <code>clickhouse-server</code>.  <a href=\"https://github.com/yandex/ClickHouse/pull/4251\" rel=\"external nofollow\">#4251</a> (<a href=\"https://github.com/k-lopatin\" rel=\"external nofollow\">Lopatin Konstantin</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u043e\u043f\u0446\u0438\u0438 <code>--help/-h</code> \u0434\u043b\u044f <code>clickhouse-server</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4233\" rel=\"external nofollow\">#4233</a> (<a href=\"https://github.com/yurriy\" rel=\"external nofollow\">Yuriy Baranov</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0441\u043a\u0430\u043b\u044f\u0440\u043d\u044b\u0445 \u043f\u043e\u0434\u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432, \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u044e\u0449\u0438\u0445 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438. <a href=\"https://github.com/yandex/ClickHouse/pull/4348\" rel=\"external nofollow\">#4348</a> (<a href=\"https://github.com/KochetovNicolai\" rel=\"external nofollow\">Nikolai Kochetov</a>)</li>\n<li>\u0423\u043c\u0435\u043d\u044c\u0448\u0435\u043d\u043e \u0432\u0440\u0435\u043c\u044f \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0438 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 <code>ALTER</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4372\" rel=\"external nofollow\">#4372</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 <code>replicated_can_become_leader</code> \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 <code>system.replicas</code>. \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435, \u0435\u0441\u043b\u0438 \u0440\u0435\u043f\u043b\u0438\u043a\u0430 \u043d\u0435 \u0441\u043e\u0431\u0438\u0440\u0430\u0435\u0442\u0441\u044f \u0441\u0442\u0430\u0442\u044c \u043b\u0438\u0434\u0435\u0440\u043e\u043c. <a href=\"https://github.com/yandex/ClickHouse/pull/4379\" rel=\"external nofollow\">#4379</a> (<a href=\"https://github.com/ztlpn\" rel=\"external nofollow\">Alex Zatelepin</a>)</li>\n</ul>\n<h3 id=\"clickhouse-release-19-1-14-2019-03-14\">ClickHouse release 19.1.14, 2019-03-14<a class=\"headerlink\" href=\"#clickhouse-release-19-1-14-2019-03-14\" title=\"Permanent link\">&para;</a></h3>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 <code>Column ... queried more than once</code>, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043c\u043e\u0433\u043b\u0430 \u043f\u0440\u043e\u0438\u0437\u043e\u0439\u0442\u0438 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u043e\u0439 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 <code>asterisk_left_columns_only</code> \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f <code>GLOBAL JOIN</code> \u0430 \u0442\u0430\u043a\u0436\u0435 <code>SELECT *</code> (\u0440\u0435\u0434\u043a\u0438\u0439 \u0441\u043b\u0443\u0447\u0430\u0439). \u042d\u0442\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0438\u0437\u043d\u0430\u0447\u0430\u043b\u044c\u043d\u043e \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0432 \u0432\u0435\u0440\u0441\u0438\u044f\u0445 19.3 \u0438 \u0431\u043e\u043b\u0435\u0435 \u043d\u043e\u0432\u044b\u0445. <a href=\"https://github.com/yandex/ClickHouse/pull/4692/commits/6bac7d8d11a9b0d6de0b32b53c47eb2f6f8e7062\" rel=\"external nofollow\">6bac7d8d</a> (<a href=\"https://github.com/4ertus2\" rel=\"external nofollow\">Artem Zuikov</a>)</li>\n</ul>\n<h3 id=\"clickhouse-release-19-1-13-2019-03-12\">ClickHouse release 19.1.13, 2019-03-12<a class=\"headerlink\" href=\"#clickhouse-release-19-1-13-2019-03-12\" title=\"Permanent link\">&para;</a></h3>\n<p>\u042d\u0442\u043e\u0442 \u0440\u0435\u043b\u0438\u0437 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0442\u0430\u043a\u0438\u0435 \u0436\u0435 \u0438\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u0448\u0438\u0431\u043e\u043a, \u043a\u0430\u043a \u0438 19.3.7.</p>\n<h3 id=\"clickhouse-release-19-1-10-2019-03-03\">ClickHouse release 19.1.10, 2019-03-03<a class=\"headerlink\" href=\"#clickhouse-release-19-1-10-2019-03-03\" title=\"Permanent link\">&para;</a></h3>\n<p>\u042d\u0442\u043e\u0442 \u0440\u0435\u043b\u0438\u0437 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0442\u0430\u043a\u0438\u0435 \u0436\u0435 \u0438\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u0448\u0438\u0431\u043e\u043a, \u043a\u0430\u043a \u0438 19.3.6.</p>\n<h3 id=\"clickhouse-release-19-1-9-2019-02-21\">ClickHouse release 19.1.9, 2019-02-21<a class=\"headerlink\" href=\"#clickhouse-release-19-1-9-2019-02-21\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"ispravleniia-oshibok_8\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u0448\u0438\u0431\u043e\u043a:<a class=\"headerlink\" href=\"#ispravleniia-oshibok_8\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0431\u0440\u0430\u0442\u043d\u0430\u044f \u043d\u0435\u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c \u0441\u043e \u0441\u0442\u0430\u0440\u044b\u043c\u0438 \u0432\u0435\u0440\u0441\u0438\u044f\u043c\u0438, \u043f\u043e\u044f\u0432\u0438\u0432\u0448\u0430\u044f\u0441\u044f \u0438\u0437-\u0437\u0430 \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0439 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 <code>send_logs_level</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4445\" rel=\"external nofollow\">#4445</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0431\u0440\u0430\u0442\u043d\u0430\u044f \u043d\u0435\u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c \u0442\u0430\u0431\u043b\u0438\u0447\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>remote</code>, \u043f\u043e\u044f\u0432\u0438\u0432\u0448\u0430\u044f\u0441\u044f \u0438\u0437-\u0437\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432 \u043a\u043e\u043b\u043e\u043d\u043e\u043a. <a href=\"https://github.com/yandex/ClickHouse/pull/4446\" rel=\"external nofollow\">#4446</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n</ul>\n<h3 id=\"clickhouse-release-19-1-8-2019-02-16\">ClickHouse release 19.1.8, 2019-02-16<a class=\"headerlink\" href=\"#clickhouse-release-19-1-8-2019-02-16\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"ispravleniia-oshibok_9\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u0448\u0438\u0431\u043e\u043a:<a class=\"headerlink\" href=\"#ispravleniia-oshibok_9\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u043f\u0430\u043a\u0435\u0442\u0430 \u043f\u0440\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u043c \u0444\u0430\u0439\u043b\u0435 /etc/clickhouse-server/config.xml. <a href=\"https://github.com/yandex/ClickHouse/pull/4343\" rel=\"external nofollow\">#4343</a> (<a href=\"https://github.com/proller\" rel=\"external nofollow\">proller</a>)</li>\n</ul>\n<h3 id=\"clickhouse-release-19-1-7-2019-02-15\">ClickHouse release 19.1.7, 2019-02-15<a class=\"headerlink\" href=\"#clickhouse-release-19-1-7-2019-02-15\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"ispravleniia-oshibok_10\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u0448\u0438\u0431\u043e\u043a:<a class=\"headerlink\" href=\"#ispravleniia-oshibok_10\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u0432\u044b\u0432\u043e\u0434 \u0442\u0438\u043f\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u043c\u043e\u0433\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043e\u043a \u0432 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>joinGet</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4153\" rel=\"external nofollow\">#4153</a> (<a href=\"https://github.com/amosbird\" rel=\"external nofollow\">Amos Bird</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0442\u0430\u0431\u043b\u0438\u0446 \u0441 \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u043c\u0438 \u043b\u043e\u0433\u0430\u043c\u0438 (<code>system.query_log</code>, <code>system.part_log</code>) \u043f\u0440\u0438 \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u0430. <a href=\"https://github.com/yandex/ClickHouse/pull/4254\" rel=\"external nofollow\">#4254</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u0438\u0437-\u0437\u0430 \u043a\u043e\u0442\u043e\u0440\u043e\u0439, \u0435\u0441\u043b\u0438 \u0431\u044b\u043b\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0430 \u0431\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u0441 \u0434\u0432\u0438\u0436\u043a\u043e\u043c <code>Dictionary</code>, \u0432\u0441\u0435 \u0441\u043b\u043e\u0432\u0430\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u043b\u0438\u0441\u044c \u043f\u0440\u0438 \u0441\u0442\u0430\u0440\u0442\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u0430, \u0430 \u0441\u043b\u043e\u0432\u0430\u0440\u0438 \u0441 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u043e\u043c \u0438\u0437 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0433\u043e ClickHouse \u043d\u0435 \u043c\u043e\u0433\u043b\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c\u0441\u044f. <a href=\"https://github.com/yandex/ClickHouse/pull/4255\" rel=\"external nofollow\">#4255</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u0432\u0448\u0430\u044f \u043a \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u043c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430\u043c \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043c\u0443\u0442\u0430\u0446\u0438\u0439, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0438\u0445 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440 <code>IN</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4099\" rel=\"external nofollow\">#4099</a> (<a href=\"https://github.com/ztlpn\" rel=\"external nofollow\">Alex Zatelepin</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u0432\u0448\u0430\u044f \u043a \u043f\u0430\u0434\u0435\u043d\u0438\u044e <code>clickhouse-client</code> \u0432 \u0438\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435, \u0435\u0441\u043b\u0438 \u0443\u0441\u043f\u0435\u0442\u044c \u0432\u044b\u0439\u0442\u0438 \u0438\u0437 \u043d\u0435\u0433\u043e \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043e\u043a \u043a\u043e\u043c\u0430\u043d\u0434\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438. <a href=\"https://github.com/yandex/ClickHouse/pull/4317\" rel=\"external nofollow\">#4317</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u0438\u0437-\u0437\u0430 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0435 \u043a \u0442\u0430\u0431\u043b\u0438\u0446\u0435 <code>system.tables</code> \u043c\u043e\u0433\u043b\u043e \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u0442\u044c \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 <code>table doesn't exist</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4313\" rel=\"external nofollow\">#4313</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0437\u0430\u0432\u0438\u0441\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u043a \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \u0441 \u0434\u0432\u0438\u0436\u043a\u043e\u043c <code>File</code> \u043f\u043e\u0441\u043b\u0435 \u0442\u043e\u0433\u043e, \u043a\u0430\u043a <code>SELECT</code> \u0438\u0437 \u044d\u0442\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u043b\u0441\u044f \u0441 \u043e\u0448\u0438\u0431\u043a\u043e\u0439 <code>No such file or directory</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4161\" rel=\"external nofollow\">#4161</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0421\u043b\u043e\u0432\u0430\u0440\u0438 \u0441 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u043e\u043c \u0438\u0437 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0433\u043e ClickHouse \u0442\u0435\u043f\u0435\u0440\u044c \u0438\u0441\u043f\u043e\u043b\u043d\u044f\u044e\u0442\u0441\u044f \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e, \u0430 \u043d\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f TCP-\u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435. <a href=\"https://github.com/yandex/ClickHouse/pull/4166\" rel=\"external nofollow\">#4166</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 <code>No message received</code> \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445 \u043a PostgreSQL \u0447\u0435\u0440\u0435\u0437 ODBC-\u0434\u0440\u0430\u0439\u0432\u0435\u0440 \u0438 TLS-\u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435, \u0438\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d segfault \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 MySQL \u0447\u0435\u0440\u0435\u0437 ODBC-\u0434\u0440\u0430\u0439\u0432\u0435\u0440. <a href=\"https://github.com/yandex/ClickHouse/pull/4170\" rel=\"external nofollow\">#4170</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0412\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u043e\u0442\u043a\u043b\u044e\u0447\u0451\u043d pushdown \u043f\u0440\u0435\u0434\u0438\u043a\u0430\u0442\u043e\u0432 \u0432 \u043f\u043e\u0434\u0437\u0430\u043f\u0440\u043e\u0441, \u0435\u0441\u043b\u0438 \u043e\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 <code>ORDER BY</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3890\" rel=\"external nofollow\">#3890</a> (<a href=\"https://github.com/zhang2014\" rel=\"external nofollow\">Winter Zhang</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u0431\u0435\u0441\u043a\u043e\u043d\u0435\u0447\u043d\u044b\u0439 \u0446\u0438\u043a\u043b \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0435 \u0438\u0437 \u0442\u0430\u0431\u043b\u0438\u0447\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>numbers(0)</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4280\" rel=\"external nofollow\">#4280</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043f\u0440\u0438\u0432\u043e\u0434\u044f\u0449\u0430\u044f \u043a \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u043c\u0443 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0443 \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044f \u0431\u043e\u043b\u044c\u0448\u0438\u0445 (\u043d\u0435 \u043f\u043e\u043c\u0435\u0449\u0430\u044e\u0449\u0438\u0445\u0441\u044f \u0432 Int16) \u0434\u0430\u0442 \u043f\u0440\u0438 \u0432\u043a\u043b\u044e\u0447\u0451\u043d\u043d\u043e\u0439 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0435 <code>compile_expressions</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4341\" rel=\"external nofollow\">#4341</a> (<a href=\"https://github.com/alesapin\" rel=\"external nofollow\">alesapin</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0430\u0434\u0435\u043d\u0438\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u043f\u0440\u0438 \u0432\u043a\u043b\u044e\u0447\u0451\u043d\u043d\u043e\u0439 \u043e\u043f\u0446\u0438\u0438 <code>uncompressed_cache</code>, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043e \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u043c \u0440\u0430\u0437\u043c\u0435\u0440\u0435 \u0440\u0430\u0437\u0436\u0430\u0442\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445. <a href=\"https://github.com/yandex/ClickHouse/pull/4186\" rel=\"external nofollow\">#4186</a> (<a href=\"https://github.com/alesapin\" rel=\"external nofollow\">alesapin</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 <code>ALL JOIN</code>, \u0435\u0441\u043b\u0438 \u0432 \u043f\u0440\u0430\u0432\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0442 \u0434\u0443\u0431\u043b\u0438\u043a\u0430\u0442\u044b \u043a\u043b\u044e\u0447\u0430 join. <a href=\"https://github.com/yandex/ClickHouse/pull/4184\" rel=\"external nofollow\">#4184</a> (<a href=\"https://github.com/4ertus2\" rel=\"external nofollow\">Artem Zuikov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u0432\u0448\u0430\u044f \u043a \u0442\u043e\u043c\u0443, \u0447\u0442\u043e \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 <code>INSERT ... SELECT ... FROM file(...)</code> \u0442\u0435\u0440\u044f\u043b\u0430\u0441\u044c \u043f\u0435\u0440\u0432\u0430\u044f \u0441\u0442\u0440\u043e\u0447\u043a\u0430 \u0444\u0430\u0439\u043b\u0430, \u0435\u0441\u043b\u0438 \u043e\u043d \u0431\u044b\u043b \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 <code>CSVWithNames</code> \u0438\u043b\u0438 <code>TSVWIthNames</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4297\" rel=\"external nofollow\">#4297</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0430\u0433\u0440\u0435\u0433\u0430\u0446\u0438\u044f \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432 \u0442\u0438\u043f\u0430 <code>Array(LowCardinality)</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4055\" rel=\"external nofollow\">#4055</a> (<a href=\"https://github.com/KochetovNicolai\" rel=\"external nofollow\">KochetovNicolai</a>)</li>\n<li>\u041f\u0440\u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0435 Debian-\u043f\u0430\u043a\u0435\u0442\u0430 \u0441\u0438\u043c\u0432\u043e\u043b\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0441\u0441\u044b\u043b\u043a\u0430 /etc/clickhouse-server/preprocessed \u0442\u0435\u043f\u0435\u0440\u044c \u0441\u043e\u0437\u0434\u0430\u0451\u0442\u0441\u044f, \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u044f \u043f\u0443\u0442\u0438, \u043f\u0440\u043e\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u0435 \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u043c \u0444\u0430\u0439\u043b\u0435. <a href=\"https://github.com/yandex/ClickHouse/pull/4205\" rel=\"external nofollow\">#4205</a> (<a href=\"https://github.com/proller\" rel=\"external nofollow\">proller</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043f\u0440\u043e\u044f\u0432\u043b\u044f\u0432\u0448\u0430\u044f\u0441\u044f \u043f\u0440\u0438 fuzz-\u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0438 \u0441 undefined behaviour-\u0441\u0430\u043d\u0438\u0442\u0430\u0439\u0437\u0435\u0440\u043e\u043c: \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0442\u0438\u043f\u043e\u0432 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u0434\u043b\u044f \u0441\u0435\u043c\u0435\u0439\u0441\u0442\u0432\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 <code>quantile*Weighted</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4145\" rel=\"external nofollow\">#4145</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u041a\u043e\u043c\u0430\u043d\u0434\u0430 <code>START REPLICATED SENDS</code> \u0442\u0435\u043f\u0435\u0440\u044c \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u043f\u043e\u0441\u044b\u043b\u043a\u0443 \u043a\u0443\u0441\u043a\u043e\u0432 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u0440\u0438 \u0440\u0435\u043f\u043b\u0438\u043a\u0430\u0446\u0438\u0438. <a href=\"https://github.com/yandex/ClickHouse/pull/4229\" rel=\"external nofollow\">#4229</a> (<a href=\"https://github.com/nvartolomei\" rel=\"external nofollow\">nvartolomei</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 <code>Not found column</code> \u0434\u043b\u044f \u0441\u043b\u0443\u0447\u0430\u044f \u0434\u0443\u0431\u043b\u0438\u0440\u0443\u044e\u0449\u0438\u0445\u0441\u044f \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432 \u0432 \u0441\u0435\u043a\u0446\u0438\u0438 <code>JOIN ON</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4279\" rel=\"external nofollow\">#4279</a> (<a href=\"https://github.com/4ertus2\" rel=\"external nofollow\">Artem Zuikov</a>)</li>\n<li>\u0422\u0435\u043f\u0435\u0440\u044c \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0435\u0439 \u0441 SSL-\u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430\u043c\u0438 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f <code>/etc/ssl</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4167\" rel=\"external nofollow\">#4167</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0430\u0434\u0435\u043d\u0438\u0435 \u043f\u0440\u0438 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0432\u043d\u0435\u0448\u043d\u0435\u0433\u043e \u0441\u043b\u043e\u0432\u0430\u0440\u044f, \u0435\u0441\u043b\u0438 \u0441\u043b\u043e\u0432\u0430\u0440\u044c \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d. \u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u0432 19.1.6. <a href=\"https://github.com/yandex/ClickHouse/pull/4188\" rel=\"external nofollow\">#4188</a> (<a href=\"https://github.com/proller\" rel=\"external nofollow\">proller</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u0442\u0438\u043f\u0430 <code>Date</code> \u0438 <code>DateTime</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4237\" rel=\"external nofollow\">#4237</a> (<a href=\"https://github.com/valexey\" rel=\"external nofollow\">valexey</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u0442\u0438\u043f\u0430 <code>Date</code> \u0438\u043b\u0438 <code>DateTime</code> \u0432 \u0432\u0435\u0442\u0432\u044f\u0445 \u0443\u0441\u043b\u043e\u0432\u043d\u043e\u0433\u043e \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u0430 (\u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>if</code>). \u0424\u0443\u043d\u043a\u0446\u0438\u044f <code>if</code> \u0442\u0435\u043f\u0435\u0440\u044c \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0434\u043b\u044f \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u043e\u0433\u043e \u0442\u0438\u043f\u0430 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u0432 \u0432\u0435\u0442\u0432\u044f\u0445. <a href=\"https://github.com/yandex/ClickHouse/pull/4243\" rel=\"external nofollow\">#4243</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n</ul>\n<h3 id=\"clickhouse-release-19-1-6-2019-01-24\">ClickHouse release 19.1.6, 2019-01-24<a class=\"headerlink\" href=\"#clickhouse-release-19-1-6-2019-01-24\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"novye-vozmozhnosti_3\">\u041d\u043e\u0432\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438:<a class=\"headerlink\" href=\"#novye-vozmozhnosti_3\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u0444\u043e\u0440\u043c\u0430\u0442\u0430 \u0441\u0436\u0430\u0442\u0438\u044f \u0434\u043b\u044f \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0445 \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432. <a href=\"https://github.com/yandex/ClickHouse/pull/3899\" rel=\"external nofollow\">#3899</a> <a href=\"https://github.com/yandex/ClickHouse/pull/4111\" rel=\"external nofollow\">#4111</a> (<a href=\"https://github.com/alesapin\" rel=\"external nofollow\">alesapin</a>, <a href=\"https://github.com/zhang2014\" rel=\"external nofollow\">Winter Zhang</a>, <a href=\"https://github.com/Sindbag\" rel=\"external nofollow\">Anatoly</a>)</li>\n<li>\u0424\u043e\u0440\u043c\u0430\u0442 \u0441\u0436\u0430\u0442\u0438\u044f <code>Delta</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4052\" rel=\"external nofollow\">#4052</a> (<a href=\"https://github.com/alesapin\" rel=\"external nofollow\">alesapin</a>)</li>\n<li>\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0444\u043e\u0440\u043c\u0430\u0442\u0430 \u0441\u0436\u0430\u0442\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u043c <code>ALTER</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4054\" rel=\"external nofollow\">#4054</a> (<a href=\"https://github.com/alesapin\" rel=\"external nofollow\">alesapin</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>left</code>, <code>right</code>, <code>trim</code>, <code>ltrim</code>, <code>rtrim</code>, <code>timestampadd</code>, <code>timestampsub</code> \u0434\u043b\u044f \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u0438 \u0441\u043e \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043e\u043c SQL. <a href=\"https://github.com/yandex/ClickHouse/pull/3826\" rel=\"external nofollow\">#3826</a> (<a href=\"https://github.com/blinkov\" rel=\"external nofollow\">Ivan Blinkov</a>)</li>\n<li>\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0437\u0430\u043f\u0438\u0441\u0438 \u0432 \u0434\u0432\u0438\u0436\u043e\u043a <code>HDFS</code> \u0438 \u0442\u0430\u0431\u043b\u0438\u0447\u043d\u0443\u044e \u0444\u0443\u043d\u043a\u0446\u0438\u044e <code>hdfs</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4084\" rel=\"external nofollow\">#4084</a> (<a href=\"https://github.com/alesapin\" rel=\"external nofollow\">alesapin</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u043f\u043e\u0438\u0441\u043a\u0430 \u043d\u0430\u0431\u043e\u0440\u0430 \u043a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u043d\u044b\u0445 \u0441\u0442\u0440\u043e\u043a \u0432 \u0442\u0435\u043a\u0441\u0442\u0435: <code>multiPosition</code>, <code>multiSearch</code> ,<code>firstMatch</code> \u0442\u0430\u043a\u0436\u0435 \u0441 \u0441\u0443\u0444\u0444\u0438\u043a\u0441\u0430\u043c\u0438 <code>-UTF8</code>, <code>-CaseInsensitive</code>, \u0438 <code>-CaseInsensitiveUTF8</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4053\" rel=\"external nofollow\">#4053</a> (<a href=\"https://github.com/danlark1\" rel=\"external nofollow\">Danila Kutenin</a>)</li>\n<li>\u041f\u0440\u043e\u043f\u0443\u0441\u043a \u043d\u0435\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0445 \u0448\u0430\u0440\u0434\u043e\u0432 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435, \u0435\u0441\u043b\u0438 \u0437\u0430\u043f\u0440\u043e\u0441 <code>SELECT</code> \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u044e \u043f\u043e \u043a\u043b\u044e\u0447\u0443 \u0448\u0430\u0440\u0434\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f (\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>optimize_skip_unused_shards</code>). <a href=\"https://github.com/yandex/ClickHouse/pull/3851\" rel=\"external nofollow\">#3851</a> (<a href=\"https://github.com/kanterov\" rel=\"external nofollow\">Gleb Kanterov</a>, <a href=\"https://github.com/abyss7\" rel=\"external nofollow\">Ivan</a>)</li>\n<li>\u041f\u0440\u043e\u043f\u0443\u0441\u043a \u0441\u0442\u0440\u043e\u043a \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043e\u0448\u0438\u0431\u043a\u0438 \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0430 \u0434\u043b\u044f \u0434\u0432\u0438\u0436\u043a\u0430 <code>Kafka</code> (\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>kafka_skip_broken_messages</code>). <a href=\"https://github.com/yandex/ClickHouse/pull/4094\" rel=\"external nofollow\">#4094</a> (<a href=\"https://github.com/abyss7\" rel=\"external nofollow\">Ivan</a>)</li>\n<li>\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043c\u0443\u043b\u044c\u0442\u0438\u043a\u043b\u0430\u0441\u0441\u043e\u0432\u044b\u0445 \u043c\u043e\u0434\u0435\u043b\u0435\u0439 <code>CatBoost</code>. \u0424\u0443\u043d\u043a\u0446\u0438\u044f <code>modelEvaluate</code> \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u043a\u043e\u0440\u0442\u0435\u0436 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u043c\u0443\u043b\u044c\u0442\u0438\u043a\u043b\u0430\u0441\u0441\u043e\u0432\u043e\u0439 \u043c\u043e\u0434\u0435\u043b\u0438. <code>libcatboostmodel.so</code> should be built with <a href=\"https://github.com/catboost/catboost/pull/607\" rel=\"external nofollow\">#607</a>. <a href=\"https://github.com/yandex/ClickHouse/pull/3959\" rel=\"external nofollow\">#3959</a> (<a href=\"https://github.com/KochetovNicolai\" rel=\"external nofollow\">KochetovNicolai</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>filesystemAvailable</code>, <code>filesystemFree</code>, <code>filesystemCapacity</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4097\" rel=\"external nofollow\">#4097</a> (<a href=\"https://github.com/bgranvea\" rel=\"external nofollow\">Boris Granveaud</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u0445\u0435\u0448\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f <code>xxHash64</code> \u0438 <code>xxHash32</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3905\" rel=\"external nofollow\">#3905</a> (<a href=\"https://github.com/filimonov\" rel=\"external nofollow\">filimonov</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u0445\u0435\u0448\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f <code>gccMurmurHash</code> (GCC flavoured Murmur hash), \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0449\u0430\u044f \u0442\u0435 \u0436\u0435 hash seed, \u0447\u0442\u043e \u0438 <a href=\"https://github.com/gcc-mirror/gcc/blob/41d6b10e96a1de98e90a7c0378437c3255814b16/libstdc%2B%2B-v3/include/bits/functional_hash.h#L191\" rel=\"external nofollow\">gcc</a> <a href=\"https://github.com/yandex/ClickHouse/pull/4000\" rel=\"external nofollow\">#4000</a> (<a href=\"https://github.com/sundy-li\" rel=\"external nofollow\">sundyli</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u0445\u0435\u0448\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f <code>javaHash</code>, <code>hiveHash</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3811\" rel=\"external nofollow\">#3811</a> (<a href=\"https://github.com/shangshujie365\" rel=\"external nofollow\">shangshujie365</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f <code>remoteSecure</code>. \u0424\u0443\u043d\u043a\u0446\u0438\u044f \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0430\u043d\u0430\u043b\u043e\u0433\u0438\u0447\u043d\u043e <code>remote</code>, \u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0435 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435. <a href=\"https://github.com/yandex/ClickHouse/pull/4088\" rel=\"external nofollow\">#4088</a> (<a href=\"https://github.com/proller\" rel=\"external nofollow\">proller</a>)</li>\n</ul>\n<h4 id=\"eksperimentalnye-vozmozhnosti_1\">\u042d\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u0430\u043b\u044c\u043d\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438:<a class=\"headerlink\" href=\"#eksperimentalnye-vozmozhnosti_1\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u042d\u043c\u0443\u043b\u044f\u0446\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0441 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u043c\u0438 \u0441\u0435\u043a\u0446\u0438\u044f\u043c\u0438 <code>JOIN</code> (\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>allow_experimental_multiple_joins_emulation</code>). <a href=\"https://github.com/yandex/ClickHouse/pull/3946\" rel=\"external nofollow\">#3946</a> (<a href=\"https://github.com/4ertus2\" rel=\"external nofollow\">Artem Zuikov</a>)</li>\n</ul>\n<h4 id=\"ispravleniia-oshibok_11\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u0448\u0438\u0431\u043e\u043a:<a class=\"headerlink\" href=\"#ispravleniia-oshibok_11\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d \u0440\u0430\u0437\u043c\u0435\u0440 \u043a\u0435\u0448\u0430 \u0441\u043a\u043e\u043c\u043f\u0438\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435, \u0435\u0441\u043b\u0438 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>compiled_expression_cache_size</code> \u0434\u043b\u044f \u044d\u043a\u043e\u043d\u043e\u043c\u0438\u0438 \u043f\u043e\u0442\u0440\u0435\u0431\u043b\u044f\u0435\u043c\u043e\u0439 \u043f\u0430\u043c\u044f\u0442\u0438. <a href=\"https://github.com/yandex/ClickHouse/pull/4041\" rel=\"external nofollow\">#4041</a> (<a href=\"https://github.com/alesapin\" rel=\"external nofollow\">alesapin</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0437\u0430\u0432\u0438\u0441\u0430\u043d\u0438\u044f \u043f\u043e\u0442\u043e\u043a\u043e\u0432, \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u044e\u0449\u0438\u0445 \u0437\u0430\u043f\u0440\u043e\u0441 <code>ALTER</code> \u0434\u043b\u044f \u0442\u0430\u0431\u043b\u0438\u0446 \u0441\u0435\u043c\u0435\u0439\u0441\u0442\u0432\u0430 <code>Replicated</code>, \u0430 \u0442\u0430\u043a\u0436\u0435 \u043f\u043e\u0442\u043e\u043a\u043e\u0432, \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u044e\u0449\u0438\u0445 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e \u0438\u0437 ZooKeeper. <a href=\"https://github.com/yandex/ClickHouse/issues/2947\" rel=\"external nofollow\">#2947</a> <a href=\"https://github.com/yandex/ClickHouse/issues/3891\" rel=\"external nofollow\">#3891</a> <a href=\"https://github.com/yandex/ClickHouse/pull/3934\" rel=\"external nofollow\">#3934</a> (<a href=\"https://github.com/ztlpn\" rel=\"external nofollow\">Alex Zatelepin</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d race condition \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0439 \u0437\u0430\u0434\u0430\u0447\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 <code>ALTER</code>. Race condition \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u043b \u043a \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044e, \u043a\u043e\u0433\u0434\u0430 \u0431\u043e\u043b\u0435\u0435 \u0447\u0435\u043c \u043e\u0434\u043d\u0430 \u0440\u0435\u043f\u043b\u0438\u043a\u0430 \u043f\u044b\u0442\u0430\u043b\u0430\u0441\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u0447\u0443, \u0432 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0435 \u0447\u0435\u0433\u043e \u0432\u0441\u0435 \u0442\u0430\u043a\u0438\u0435 \u0440\u0435\u043f\u043b\u0438\u043a\u0438, \u043a\u0440\u043e\u043c\u0435 \u043e\u0434\u043d\u043e\u0439, \u043f\u0430\u0434\u0430\u043b\u0438 \u0441 \u043e\u0448\u0438\u0431\u043a\u043e\u0439 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f \u043a ZooKeeper. <a href=\"https://github.com/yandex/ClickHouse/pull/3904\" rel=\"external nofollow\">#3904</a> (<a href=\"https://github.com/ztlpn\" rel=\"external nofollow\">Alex Zatelepin</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 <code>from_zk</code>. \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430, \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u0430\u044f \u0432 \u0444\u0430\u0439\u043b\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438, \u043d\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u043b\u0430\u0441\u044c \u0432 \u0441\u043b\u0443\u0447\u0430\u0435, \u0435\u0441\u043b\u0438 \u0437\u0430\u043f\u0440\u043e\u0441 \u043a ZooKeeper \u043f\u0430\u0434\u0430\u043b \u043f\u043e timeout. <a href=\"https://github.com/yandex/ClickHouse/issues/2947\" rel=\"external nofollow\">#2947</a> <a href=\"https://github.com/yandex/ClickHouse/pull/3947\" rel=\"external nofollow\">#3947</a> (<a href=\"https://github.com/ztlpn\" rel=\"external nofollow\">Alex Zatelepin</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0438 \u0441\u0435\u0442\u0435\u0432\u043e\u0433\u043e \u043f\u0440\u0435\u0444\u0438\u043a\u0441\u0430 \u043f\u0440\u0438 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0438 IPv4 \u043c\u0430\u0441\u043a\u0438 \u043f\u043e\u0434\u0441\u0435\u0442\u0438. <a href=\"https://github.com/yandex/ClickHouse/pull/3945\" rel=\"external nofollow\">#3945</a> (<a href=\"https://github.com/alesapin\" rel=\"external nofollow\">alesapin</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0430\u0434\u0435\u043d\u0438\u0435 (<code>std::terminate</code>) \u0432 \u0440\u0435\u0434\u043a\u043e\u043c \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0438, \u043a\u043e\u0433\u0434\u0430 \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u0442\u043e\u043a \u043d\u0435 \u043c\u043e\u0433 \u0431\u044b\u0442\u044c \u0441\u043e\u0437\u0434\u0430\u043d \u0438\u0437-\u0437\u0430 \u043d\u0435\u0445\u0432\u0430\u0442\u043a\u0438 \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432. <a href=\"https://github.com/yandex/ClickHouse/pull/3956\" rel=\"external nofollow\">#3956</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0430\u0434\u0435\u043d\u0438\u0435 \u0442\u0430\u0431\u043b\u0438\u0447\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>remote</code> \u0432 \u0441\u043b\u0443\u0447\u0430\u0435, \u043a\u043e\u0433\u0434\u0430 \u043d\u0435 \u0443\u0434\u0430\u0432\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0443 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0438\u0437-\u0437\u0430 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f. <a href=\"https://github.com/yandex/ClickHouse/pull/4009\" rel=\"external nofollow\">#4009</a> (<a href=\"https://github.com/alesapin\" rel=\"external nofollow\">alesapin</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0443\u0442\u0435\u0447\u043a\u0430 \u0441\u0435\u0442\u0435\u0432\u044b\u0445 \u0441\u043e\u043a\u0435\u0442\u043e\u0432. \u0421\u043e\u043a\u0435\u0442\u044b \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u043b\u0438\u0441\u044c \u0432 \u043f\u0443\u043b\u0435 \u0438 \u043d\u0438\u043a\u043e\u0433\u0434\u0430 \u043d\u0435 \u0437\u0430\u043a\u0440\u044b\u0432\u0430\u043b\u0438\u0441\u044c. \u041f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043f\u043e\u0442\u043e\u043a\u0430, \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u043b\u0438\u0441\u044c \u043d\u043e\u0432\u044b\u0435 \u0441\u043e\u043a\u0435\u0442\u044b \u0432 \u0441\u043b\u0443\u0447\u0430\u0435, \u0435\u0441\u043b\u0438 \u0432\u0441\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043b\u0438\u0441\u044c. <a href=\"https://github.com/yandex/ClickHouse/pull/4017\" rel=\"external nofollow\">#4017</a> (<a href=\"https://github.com/ztlpn\" rel=\"external nofollow\">Alex Zatelepin</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0437\u0430\u043a\u0440\u044b\u0432\u0430\u043d\u0438\u044f <code>/proc/self/fd</code> \u0440\u0430\u043d\u044c\u0448\u0435, \u0447\u0435\u043c \u0432\u0441\u0435 \u0444\u0430\u0439\u043b\u043e\u0432\u044b\u0435 \u0434\u0435\u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0440\u044b \u0431\u044b\u043b\u0438 \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u043d\u044b \u0438\u0437 <code>/proc</code> \u043f\u043e\u0441\u043b\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 <code>odbc-bridge</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4120\" rel=\"external nofollow\">#4120</a> (<a href=\"https://github.com/alesapin\" rel=\"external nofollow\">alesapin</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u0431\u0430\u0433 \u0432 \u043c\u043e\u043d\u043e\u0442\u043e\u043d\u043d\u043e\u043c \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0438 String \u0432 UInt \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f String \u0432 \u043f\u0435\u0440\u0432\u0438\u0447\u043d\u043e\u043c \u043a\u043b\u044e\u0447\u0435. <a href=\"https://github.com/yandex/ClickHouse/pull/3870\" rel=\"external nofollow\">#3870</a> (<a href=\"https://github.com/zhang2014\" rel=\"external nofollow\">Winter Zhang</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u0431\u0430\u0433 \u0432 \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0438 \u043c\u043e\u043d\u043e\u0442\u043e\u043d\u043d\u043e\u0441\u0442\u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0442\u0438\u043f\u0430 \u0446\u0435\u043b\u044b\u0445 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439. <a href=\"https://github.com/yandex/ClickHouse/pull/3921\" rel=\"external nofollow\">#3921</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0430\u0434\u0435\u043d\u0438\u0435 \u0432 \u0444\u0443\u043d\u043a\u0446\u0438\u044f\u0445 <code>arrayEnumerateUniq</code>, <code>arrayEnumerateDense</code> \u043f\u0440\u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0435 \u043d\u0435\u0432\u0430\u043b\u0438\u0434\u043d\u044b\u0445 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u0432. <a href=\"https://github.com/yandex/ClickHouse/pull/3909\" rel=\"external nofollow\">#3909</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d undefined behavior \u0432 StorageMerge. <a href=\"https://github.com/yandex/ClickHouse/pull/3910\" rel=\"external nofollow\">#3910</a> (<a href=\"https://github.com/amosbird\" rel=\"external nofollow\">Amos Bird</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0430\u0434\u0435\u043d\u0438\u0435 \u0432 \u0444\u0443\u043d\u043a\u0446\u0438\u044f\u0445 <code>addDays</code>, <code>subtractDays</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3913\" rel=\"external nofollow\">#3913</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430, \u0432 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0435 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>round</code>, <code>floor</code>, <code>trunc</code>, <code>ceil</code> \u043c\u043e\u0433\u043b\u0438 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0442\u044c \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0434\u043b\u044f \u043e\u0442\u0440\u0438\u0446\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0446\u0435\u043b\u043e\u0447\u0438\u0441\u043b\u0435\u043d\u043d\u044b\u0445 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0441 \u0431\u043e\u043b\u044c\u0448\u0438\u043c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u043c. <a href=\"https://github.com/yandex/ClickHouse/pull/3914\" rel=\"external nofollow\">#3914</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430, \u0432 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0435 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 'kill query sync' \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u043b \u043a \u043f\u0430\u0434\u0435\u043d\u0438\u044e \u0441\u0435\u0440\u0432\u0435\u0440\u0430. <a href=\"https://github.com/yandex/ClickHouse/pull/3916\" rel=\"external nofollow\">#3916</a> (<a href=\"https://github.com/fancyqlx\" rel=\"external nofollow\">muVulDeePecker</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u0431\u0430\u0433, \u043f\u0440\u0438\u0432\u043e\u0434\u044f\u0449\u0438\u0439 \u043a \u0431\u043e\u043b\u044c\u0448\u043e\u0439 \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u0435 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043f\u0443\u0441\u0442\u043e\u0439 \u043e\u0447\u0435\u0440\u0435\u0434\u0438 \u0440\u0435\u043f\u043b\u0438\u043a\u0430\u0446\u0438\u0438. <a href=\"https://github.com/yandex/ClickHouse/pull/3928\" rel=\"external nofollow\">#3928</a> <a href=\"https://github.com/yandex/ClickHouse/pull/3932\" rel=\"external nofollow\">#3932</a> (<a href=\"https://github.com/alesapin\" rel=\"external nofollow\">alesapin</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0438\u0437\u0431\u044b\u0442\u043e\u0447\u043d\u043e\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u043c\u044f\u0442\u0438 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0432\u0441\u0442\u0430\u0432\u043a\u0438 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 \u0441 <code>LowCardinality</code> \u0432 \u043f\u0435\u0440\u0432\u0438\u0447\u043d\u043e\u043c \u043a\u043b\u044e\u0447\u0435. <a href=\"https://github.com/yandex/ClickHouse/pull/3955\" rel=\"external nofollow\">#3955</a> (<a href=\"https://github.com/KochetovNicolai\" rel=\"external nofollow\">KochetovNicolai</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0441\u0435\u0440\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043f\u0443\u0441\u0442\u044b\u0445 \u043c\u0430\u0441\u0441\u0438\u0432\u043e\u0432 \u0442\u0438\u043f\u0430 <code>LowCardinality</code> \u0434\u043b\u044f \u0444\u043e\u0440\u043c\u0430\u0442\u0430 <code>Native</code>. <a href=\"https://github.com/yandex/ClickHouse/issues/3907\" rel=\"external nofollow\">#3907</a> <a href=\"https://github.com/yandex/ClickHouse/pull/4011\" rel=\"external nofollow\">#4011</a> (<a href=\"https://github.com/KochetovNicolai\" rel=\"external nofollow\">KochetovNicolai</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f distinct \u0434\u043b\u044f \u0447\u0438\u0441\u043b\u043e\u0432\u043e\u0433\u043e \u0441\u0442\u043e\u043b\u0431\u0446\u0430 <code>LowCardinality</code>. <a href=\"https://github.com/yandex/ClickHouse/issues/3895\" rel=\"external nofollow\">#3895</a> <a href=\"https://github.com/yandex/ClickHouse/pull/4012\" rel=\"external nofollow\">#4012</a> (<a href=\"https://github.com/KochetovNicolai\" rel=\"external nofollow\">KochetovNicolai</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u044f \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 \u0434\u043b\u044f \u043a\u043b\u044e\u0447\u0430 <code>LowCardinality</code> (\u0434\u043b\u044f \u0441\u043b\u0443\u0447\u0430\u044f, \u043a\u043e\u0433\u0434\u0430 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>compile</code>). <a href=\"https://github.com/yandex/ClickHouse/pull/3886\" rel=\"external nofollow\">#3886</a> (<a href=\"https://github.com/KochetovNicolai\" rel=\"external nofollow\">KochetovNicolai</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438 \u043f\u0430\u0440\u043e\u043b\u044f \u0434\u043b\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0441 \u0440\u0435\u043f\u043b\u0438\u043a. <a href=\"https://github.com/yandex/ClickHouse/pull/3957\" rel=\"external nofollow\">#3957</a> (<a href=\"https://github.com/alesapin\" rel=\"external nofollow\">alesapin</a>) (<a href=\"https://github.com/nicelulu\" rel=\"external nofollow\">\u5c0f\u8def</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u043e\u0447\u0435\u043d\u044c \u0440\u0435\u0434\u043a\u0438\u0439 race condition \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u044e\u0449\u0438\u0439 \u043f\u0440\u0438 \u043f\u0435\u0440\u0435\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0438 \u0442\u0430\u0431\u043b\u0438\u0446 \u0438\u0437 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 \u0442\u0438\u043f\u0430 <code>Dictionary</code> \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u043b\u043e\u0432\u0430\u0440\u0435\u0439. <a href=\"https://github.com/yandex/ClickHouse/pull/3970\" rel=\"external nofollow\">#3970</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f HAVING \u0441 ROLLUP \u0438\u043b\u0438 CUBE. <a href=\"https://github.com/yandex/ClickHouse/issues/3756\" rel=\"external nofollow\">#3756</a> <a href=\"https://github.com/yandex/ClickHouse/pull/3837\" rel=\"external nofollow\">#3837</a> (<a href=\"https://github.com/reflection\" rel=\"external nofollow\">Sam Chou</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u0430\u043b\u0438\u0430\u0441\u0430\u043c\u0438 \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432 \u0434\u043b\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0441 <code>JOIN ON</code> \u043d\u0430\u0434 \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u043c\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u0430\u043c\u0438. <a href=\"https://github.com/yandex/ClickHouse/pull/3980\" rel=\"external nofollow\">#3980</a> (<a href=\"https://github.com/zhang2014\" rel=\"external nofollow\">Winter Zhang</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>quantileTDigest</code> (\u043d\u0430\u0448\u0435\u043b Artem Vakhrushev). \u042d\u0442\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043d\u0438\u043a\u043e\u0433\u0434\u0430 \u043d\u0435 \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u0432 ClickHouse \u0438 \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u0442\u0435\u0445, \u043a\u0442\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 \u043a\u043e\u0434\u043e\u0432\u0443\u044e \u0431\u0430\u0437\u0443 ClickHouse \u043d\u0430\u043f\u0440\u044f\u043c\u0443\u044e \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438. <a href=\"https://github.com/yandex/ClickHouse/pull/3935\" rel=\"external nofollow\">#3935</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n</ul>\n<h4 id=\"uluchsheniia_5\">\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f:<a class=\"headerlink\" href=\"#uluchsheniia_5\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 <code>IF NOT EXISTS</code> \u0432 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0438 <code>ALTER TABLE ADD COLUMN</code>, <code>IF EXISTS</code> \u0432 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0438 <code>DROP/MODIFY/CLEAR/COMMENT COLUMN</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3900\" rel=\"external nofollow\">#3900</a> (<a href=\"https://github.com/bgranvea\" rel=\"external nofollow\">Boris Granveaud</a>)</li>\n<li>\u0424\u0443\u043d\u043a\u0446\u0438\u044f <code>parseDateTimeBestEffort</code> \u0442\u0435\u043f\u0435\u0440\u044c \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0444\u043e\u0440\u043c\u0430\u0442\u044b <code>DD.MM.YYYY</code>, <code>DD.MM.YY</code>, <code>DD-MM-YYYY</code>, <code>DD-Mon-YYYY</code>, <code>DD/Month/YYYY</code> \u0438 \u0430\u043d\u0430\u043b\u043e\u0433\u0438\u0447\u043d\u044b\u0435. <a href=\"https://github.com/yandex/ClickHouse/pull/3922\" rel=\"external nofollow\">#3922</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li><code>CapnProtoInputStream</code> \u0442\u0435\u043f\u0435\u0440\u044c \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 jagged \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b. <a href=\"https://github.com/yandex/ClickHouse/pull/4063\" rel=\"external nofollow\">#4063</a> (<a href=\"https://github.com/Miniwoffer\" rel=\"external nofollow\">Odin Hultgren Van Der Horst</a>)</li>\n<li>\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u0435 usability: \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430, \u0447\u0442\u043e \u0441\u0435\u0440\u0432\u0435\u0440 \u0437\u0430\u043f\u0443\u0449\u0435\u043d \u043e\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f, \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0449\u0435\u0433\u043e \u0441 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u043c \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445. \u0417\u0430\u043f\u0440\u0435\u0449\u0435\u043d \u0437\u0430\u043f\u0443\u0441\u043a \u043e\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f root \u0432 \u0441\u043b\u0443\u0447\u0430\u0435, \u0435\u0441\u043b\u0438 root \u043d\u0435 \u0432\u043b\u0430\u0434\u0435\u0435\u0442 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0435\u0439 \u0441 \u0434\u0430\u043d\u043d\u044b\u043c\u0438. <a href=\"https://github.com/yandex/ClickHouse/pull/3785\" rel=\"external nofollow\">#3785</a> (<a href=\"https://github.com/sergey-v-galtsev\" rel=\"external nofollow\">sergey-v-galtsev</a>)</li>\n<li>\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0430 \u043b\u043e\u0433\u0438\u043a\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0445 \u0434\u043b\u044f JOIN, \u043d\u0430 \u0441\u0442\u0430\u0434\u0438\u0438 \u0430\u043d\u0430\u043b\u0438\u0437\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430. <a href=\"https://github.com/yandex/ClickHouse/pull/3930\" rel=\"external nofollow\">#3930</a> (<a href=\"https://github.com/4ertus2\" rel=\"external nofollow\">Artem Zuikov</a>)</li>\n<li>\u0423\u043c\u0435\u043d\u044c\u0448\u0435\u043d\u043e \u0447\u0438\u0441\u043b\u043e \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c\u044b\u0445 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0439 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0431\u043e\u043b\u044c\u0448\u043e\u0433\u043e \u0447\u0438\u0441\u043b\u0430 \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0445 \u0442\u0430\u0431\u043b\u0438\u0446. <a href=\"https://github.com/yandex/ClickHouse/pull/3726\" rel=\"external nofollow\">#3726</a> (<a href=\"https://github.com/zhang2014\" rel=\"external nofollow\">Winter Zhang</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0441\u0442\u0440\u043e\u043a\u0438 \u0441 totals \u0434\u043b\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0441 <code>WITH TOTALS</code> \u0447\u0435\u0440\u0435\u0437 ODBC \u0434\u0440\u0430\u0439\u0432\u0435\u0440. <a href=\"https://github.com/yandex/ClickHouse/pull/3836\" rel=\"external nofollow\">#3836</a> (<a href=\"https://github.com/nightweb\" rel=\"external nofollow\">Maksim Koritckiy</a>)</li>\n<li>\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u0430\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 <code>Enum</code> \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0447\u0438\u0441\u0435\u043b \u0432 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>if</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3875\" rel=\"external nofollow\">#3875</a> (<a href=\"https://github.com/abyss7\" rel=\"external nofollow\">Ivan</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>low_cardinality_allow_in_native_format</code>. \u0415\u0441\u043b\u0438 \u043e\u043d\u0430 \u0432\u044b\u043a\u043b\u044e\u0447\u0435\u043d\u0430, \u0442\u043e \u0442\u0438\u043f <code>LowCadrinality</code> \u043d\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 <code>Native</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3879\" rel=\"external nofollow\">#3879</a> (<a href=\"https://github.com/KochetovNicolai\" rel=\"external nofollow\">KochetovNicolai</a>)</li>\n<li>\u0423\u0434\u0430\u043b\u0435\u043d\u044b \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0438\u0437\u0431\u044b\u0442\u043e\u0447\u043d\u044b\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u044b \u0438\u0437 \u043a\u0435\u0448\u0430 \u0441\u043a\u043e\u043c\u043f\u0438\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u0434\u043b\u044f \u0443\u043c\u0435\u043d\u044c\u0448\u0435\u043d\u0438\u044f \u043f\u043e\u0442\u0440\u0435\u0431\u043b\u0435\u043d\u0438\u044f \u043f\u0430\u043c\u044f\u0442\u0438. <a href=\"https://github.com/yandex/ClickHouse/pull/4042\" rel=\"external nofollow\">#4042</a> (<a href=\"https://github.com/alesapin\" rel=\"external nofollow\">alesapin</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0442\u043e\u0433\u043e, \u0447\u0442\u043e \u0432 \u0437\u0430\u043f\u0440\u043e\u0441 <code>SET send_logs_level = 'value'</code> \u043f\u0435\u0440\u0435\u0434\u0430\u0435\u0442\u0441\u044f \u0432\u0435\u0440\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435. <a href=\"https://github.com/yandex/ClickHouse/pull/3873\" rel=\"external nofollow\">#3873</a> (<a href=\"https://github.com/s-mx\" rel=\"external nofollow\">Sabyanin Maxim</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0442\u0438\u043f\u043e\u0432 \u0434\u043b\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u0439 \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0442\u0438\u043f\u043e\u0432. <a href=\"https://github.com/yandex/ClickHouse/pull/3896\" rel=\"external nofollow\">#3896</a> (<a href=\"https://github.com/zhang2014\" rel=\"external nofollow\">Winter Zhang</a>)</li>\n</ul>\n<h4 id=\"uluchsheniia-proizvoditelnosti_2\">\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438:<a class=\"headerlink\" href=\"#uluchsheniia-proizvoditelnosti_2\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>use_minimalistic_part_header_in_zookeeper</code> \u0434\u043b\u044f \u0434\u0432\u0438\u0436\u043a\u0430 MergeTree. \u0415\u0441\u043b\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0430, Replicated \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0431\u0443\u0434\u0443\u0442 \u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043c\u0435\u0442\u0430\u0434\u0430\u043d\u043d\u044b\u0435 \u043a\u0443\u0441\u043a\u0430 \u0432 \u043a\u043e\u043c\u043f\u0430\u043a\u0442\u043d\u043e\u043c \u0432\u0438\u0434\u0435 (\u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u043c znode \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u043a\u0443\u0441\u043a\u0430). \u042d\u0442\u043e \u043c\u043e\u0436\u0435\u0442 \u0437\u043d\u0430\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0443\u043c\u0435\u043d\u044c\u0448\u0438\u0442\u044c \u0440\u0430\u0437\u043c\u0435\u0440 \u0434\u043b\u044f ZooKeeper snapshot (\u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e \u0434\u043b\u044f \u0442\u0430\u0431\u043b\u0438\u0446 \u0441 \u0431\u043e\u043b\u044c\u0448\u0438\u043c \u0447\u0438\u0441\u043b\u043e\u043c \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432). \u041f\u043e\u0441\u043b\u0435 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u043e\u0439 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0431\u0443\u0434\u0435\u0442 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u043e\u0442\u043a\u0430\u0442 \u043a \u0432\u0435\u0440\u0441\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u044d\u0442\u0443 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0443 \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442. <a href=\"https://github.com/yandex/ClickHouse/pull/3960\" rel=\"external nofollow\">#3960</a> (<a href=\"https://github.com/ztlpn\" rel=\"external nofollow\">Alex Zatelepin</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u0439 <code>sequenceMatch</code> \u0438 <code>sequenceCount</code> \u043d\u0430 \u043e\u0441\u043d\u043e\u0432\u0435 \u043a\u043e\u043d\u0435\u0447\u043d\u043e\u0433\u043e \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0430 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435, \u0435\u0441\u043b\u0438 \u043f\u043e\u0441\u043b\u0435\u0434\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u043d\u0435 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u043d\u0430 \u0432\u0440\u0435\u043c\u044f. <a href=\"https://github.com/yandex/ClickHouse/pull/4004\" rel=\"external nofollow\">#4004</a> (<a href=\"https://github.com/ercolanelli-leo\" rel=\"external nofollow\">L\u00e9o Ercolanelli</a>)</li>\n<li>\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0441\u0435\u0440\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0446\u0435\u043b\u044b\u0445 \u0447\u0438\u0441\u0435\u043b. <a href=\"https://github.com/yandex/ClickHouse/pull/3968\" rel=\"external nofollow\">#3968</a> (<a href=\"https://github.com/amosbird\" rel=\"external nofollow\">Amos Bird</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d zero left padding \u0434\u043b\u044f PODArray. \u0422\u0435\u043f\u0435\u0440\u044c \u044d\u043b\u0435\u043c\u0435\u043d\u0442 \u0441 \u0438\u043d\u0434\u0435\u043a\u0441\u043e\u043c -1 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0432\u0430\u043b\u0438\u0434\u043d\u044b\u043c \u043d\u0443\u043b\u0435\u0432\u044b\u043c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u043c. \u042d\u0442\u0430 \u043e\u0441\u043e\u0431\u0435\u043d\u043d\u043e\u0441\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0443\u0441\u043b\u043e\u0432\u043d\u043e\u0433\u043e \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043f\u0440\u0438 \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0438 \u043e\u0444\u0444\u0441\u0435\u0442\u043e\u0432 \u043c\u0430\u0441\u0441\u0438\u0432\u043e\u0432. <a href=\"https://github.com/yandex/ClickHouse/pull/3920\" rel=\"external nofollow\">#3920</a> (<a href=\"https://github.com/amosbird\" rel=\"external nofollow\">Amos Bird</a>)</li>\n<li>\u041e\u0442\u043a\u0430\u0442 \u0432\u0435\u0440\u0441\u0438\u0438 <code>jemalloc</code>, \u043f\u0440\u0438\u0432\u043e\u0434\u044f\u0449\u0435\u0439 \u043a \u0434\u0435\u0433\u0440\u0430\u0434\u0430\u0446\u0438\u0438 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438. <a href=\"https://github.com/yandex/ClickHouse/pull/4018\" rel=\"external nofollow\">#4018</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n</ul>\n<h4 id=\"obratno-nesovmestimye-izmeneniia_2\">\u041e\u0431\u0440\u0430\u0442\u043d\u043e \u043d\u0435\u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u044b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f:<a class=\"headerlink\" href=\"#obratno-nesovmestimye-izmeneniia_2\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0423\u0434\u0430\u043b\u0435\u043d\u0430 \u043d\u0435\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c <code>ALTER MODIFY PRIMARY KEY</code>, \u0437\u0430\u043c\u0435\u043d\u0435\u043d\u043d\u0430\u044f \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0435\u043c <code>ALTER MODIFY ORDER BY</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3887\" rel=\"external nofollow\">#3887</a> (<a href=\"https://github.com/ztlpn\" rel=\"external nofollow\">Alex Zatelepin</a>)</li>\n<li>\u0423\u0434\u0430\u043b\u0435\u043d\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f <code>shardByHash</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3833\" rel=\"external nofollow\">#3833</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0417\u0430\u043f\u0440\u0435\u0449\u0435\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u043a\u0430\u043b\u044f\u0440\u043d\u044b\u0445 \u043f\u043e\u0434\u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0441 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u043c, \u0438\u043c\u0435\u044e\u0449\u0438\u043c \u0442\u0438\u043f <code>AggregateFunction</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3865\" rel=\"external nofollow\">#3865</a> (<a href=\"https://github.com/abyss7\" rel=\"external nofollow\">Ivan</a>)</li>\n</ul>\n<h4 id=\"uluchsheniia-sborki-testirovaniia-paketirovaniia_6\">\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f \u0441\u0431\u043e\u0440\u043a\u0438/\u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f/\u043f\u0430\u043a\u0435\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f:<a class=\"headerlink\" href=\"#uluchsheniia-sborki-testirovaniia-paketirovaniia_6\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0441\u0431\u043e\u0440\u043a\u0438 \u043f\u043e\u0434 PowerPC (<code>ppc64le</code>). <a href=\"https://github.com/yandex/ClickHouse/pull/4132\" rel=\"external nofollow\">#4132</a> (<a href=\"https://github.com/danlark1\" rel=\"external nofollow\">Danila Kutenin</a>)</li>\n<li>\u0424\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 stateful \u0442\u0435\u0441\u0442\u044b \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u044e\u0442\u0441\u044f \u043d\u0430 \u043f\u0443\u0431\u043b\u0438\u0447\u043d\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445. <a href=\"https://github.com/yandex/ClickHouse/pull/3969\" rel=\"external nofollow\">#3969</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043f\u0440\u0438 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435 \u043c\u043e\u0433 \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c\u0441\u044f \u0441 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435\u043c <code>bash: /usr/bin/clickhouse-extract-from-config: Operation not permitted</code> \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 Docker \u0438\u043b\u0438 systemd-nspawn. <a href=\"https://github.com/yandex/ClickHouse/pull/4136\" rel=\"external nofollow\">#4136</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 <code>rdkafka</code> \u0434\u043e \u0432\u0435\u0440\u0441\u0438\u0438 v1.0.0-RC5. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0430 cppkafka \u043d\u0430 \u0437\u0430\u043c\u0435\u043d\u0443 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430 \u044f\u0437\u044b\u043a\u0430 C. <a href=\"https://github.com/yandex/ClickHouse/pull/4025\" rel=\"external nofollow\">#4025</a> (<a href=\"https://github.com/abyss7\" rel=\"external nofollow\">Ivan</a>)</li>\n<li>\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 <code>mariadb-client</code>. \u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430, \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d\u043d\u0430\u044f \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c UBSan. <a href=\"https://github.com/yandex/ClickHouse/pull/3924\" rel=\"external nofollow\">#3924</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u0441\u0431\u043e\u0440\u043e\u043a \u0441 UBSan. <a href=\"https://github.com/yandex/ClickHouse/pull/3926\" rel=\"external nofollow\">#3926</a> <a href=\"https://github.com/yandex/ClickHouse/pull/3021\" rel=\"external nofollow\">#3021</a> <a href=\"https://github.com/yandex/ClickHouse/pull/3948\" rel=\"external nofollow\">#3948</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u043f\u043e\u043a\u043e\u043c\u043c\u0438\u0442\u043d\u044b\u0435 \u0437\u0430\u043f\u0443\u0441\u043a\u0438 \u0442\u0435\u0441\u0442\u043e\u0432 \u0441 UBSan \u0441\u0431\u043e\u0440\u043a\u043e\u0439.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u043f\u043e\u043a\u043e\u043c\u043c\u0438\u0442\u043d\u044b\u0435 \u0437\u0430\u043f\u0443\u0441\u043a\u0438 \u0442\u0435\u0441\u0442\u043e\u0432 \u0441\u043e \u0441\u0442\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u043c \u0430\u043d\u0430\u043b\u0438\u0437\u0430\u0442\u043e\u0440\u043e\u043c PVS-Studio.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b, \u043d\u0430\u0439\u0434\u0435\u043d\u043d\u044b\u0435 \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c PVS-Studio. <a href=\"https://github.com/yandex/ClickHouse/pull/4013\" rel=\"external nofollow\">#4013</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u0438 glibc. <a href=\"https://github.com/yandex/ClickHouse/pull/4100\" rel=\"external nofollow\">#4100</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>Docker \u043e\u0431\u0440\u0430\u0437\u044b \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u044b \u043d\u0430 Ubuntu 18.10, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c \u0441 glibc &gt;= 2.28 <a href=\"https://github.com/yandex/ClickHouse/pull/3965\" rel=\"external nofollow\">#3965</a> (<a href=\"https://github.com/alesapin\" rel=\"external nofollow\">alesapin</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0430\u044f \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f <code>CLICKHOUSE_DO_NOT_CHOWN</code>, \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0449\u0430\u044f \u043d\u0435 \u0434\u0435\u043b\u0430\u0442\u044c shown \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438 \u0434\u043b\u044f Docker \u043e\u0431\u0440\u0430\u0437\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430. <a href=\"https://github.com/yandex/ClickHouse/pull/3967\" rel=\"external nofollow\">#3967</a> (<a href=\"https://github.com/alesapin\" rel=\"external nofollow\">alesapin</a>)</li>\n<li>\u0412\u043a\u043b\u044e\u0447\u0435\u043d\u044b \u0431\u043e\u043b\u044c\u0448\u0438\u043d\u0441\u0442\u0432\u043e \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u0439 \u0438\u0437 <code>-Weverything</code> \u0434\u043b\u044f clang. \u0412\u043a\u043b\u044e\u0447\u0435\u043d\u043e <code>-Wpedantic</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3986\" rel=\"external nofollow\">#3986</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u044f, \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u0447\u043d\u044b\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f clang 8. <a href=\"https://github.com/yandex/ClickHouse/pull/3993\" rel=\"external nofollow\">#3993</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u041f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u043b\u0438\u043d\u043a\u043e\u0432\u043a\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f <code>libLLVM</code> \u0432\u043c\u0435\u0441\u0442\u043e \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 <code>LLVM</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3989\" rel=\"external nofollow\">#3989</a> (<a href=\"https://github.com/orivej\" rel=\"external nofollow\">Orivej Desh</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 <code>TSan</code>, <code>UBSan</code>, <code>ASan</code> \u0432 \u0442\u0435\u0441\u0442\u043e\u0432\u043e\u043c Docker \u043e\u0431\u0440\u0430\u0437\u0435. <a href=\"https://github.com/yandex/ClickHouse/pull/4072\" rel=\"external nofollow\">#4072</a> (<a href=\"https://github.com/alesapin\" rel=\"external nofollow\">alesapin</a>)</li>\n<li>Debian \u043f\u0430\u043a\u0435\u0442 <code>clickhouse-server</code> \u0431\u0443\u0434\u0435\u0442 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u043e\u0432\u0430\u0442\u044c \u043f\u0430\u043a\u0435\u0442 <code>libcap2-bin</code> \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0443\u0442\u0438\u043b\u0438\u0442\u0443 <code>setcap</code> \u0434\u043b\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a. \u0414\u0430\u043d\u043d\u044b\u0439 \u043f\u0430\u043a\u0435\u0442 \u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u0435\u043d. <a href=\"https://github.com/yandex/ClickHouse/pull/4093\" rel=\"external nofollow\">#4093</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0423\u043c\u0435\u043d\u044c\u0448\u0435\u043d\u043e \u0432\u0440\u0435\u043c\u044f \u0441\u0431\u043e\u0440\u043a\u0438, \u0443\u0431\u0440\u0430\u043d\u044b \u043d\u0435\u043d\u0443\u0436\u043d\u044b\u0435 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u0447\u043d\u044b\u0445 \u0444\u0430\u0439\u043b\u043e\u0432. <a href=\"https://github.com/yandex/ClickHouse/pull/3898\" rel=\"external nofollow\">#3898</a> (<a href=\"https://github.com/proller\" rel=\"external nofollow\">proller</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0442\u0435\u0441\u0442\u044b \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0434\u043b\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u0439 \u0445\u0435\u0448\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f. <a href=\"https://github.com/yandex/ClickHouse/pull/3918\" rel=\"external nofollow\">#3918</a> (<a href=\"https://github.com/filimonov\" rel=\"external nofollow\">filimonov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u0446\u0438\u043a\u043b\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0438 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a. <a href=\"https://github.com/yandex/ClickHouse/pull/3958\" rel=\"external nofollow\">#3958</a> (<a href=\"https://github.com/proller\" rel=\"external nofollow\">proller</a>)</li>\n<li>\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0430 \u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u044f \u043f\u0440\u0438 \u043c\u0430\u043b\u043e\u043c \u043e\u0431\u044a\u0435\u043c\u0435 \u043f\u0430\u043c\u044f\u0442\u0438. <a href=\"https://github.com/yandex/ClickHouse/pull/4030\" rel=\"external nofollow\">#4030</a> (<a href=\"https://github.com/proller\" rel=\"external nofollow\">proller</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0439 \u0441\u043a\u0440\u0438\u043f\u0442 \u0434\u043b\u044f \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0434\u0435\u0433\u0440\u0430\u0434\u0430\u0446\u0438\u0438 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0432 <code>jemalloc</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/4036\" rel=\"external nofollow\">#4036</a> (<a href=\"https://github.com/alexey-milovidov\" rel=\"external nofollow\">alexey-milovidov</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u043f\u0435\u0447\u0430\u0442\u043e\u043a \u0432 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f\u0445 \u0438 \u0441\u0442\u0440\u043e\u043a\u043e\u0432\u044b\u0445 \u043b\u0438\u0442\u0435\u0440\u0430\u043b\u0430\u0445. <a href=\"https://github.com/yandex/ClickHouse/pull/4122\" rel=\"external nofollow\">#4122</a> (<a href=\"https://github.com/maiha\" rel=\"external nofollow\">maiha</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u043f\u0435\u0447\u0430\u0442\u043e\u043a \u0432 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f\u0445. <a href=\"https://github.com/yandex/ClickHouse/pull/4089\" rel=\"external nofollow\">#4089</a> (<a href=\"https://github.com/kvinty\" rel=\"external nofollow\">Evgenii Pravda</a>)</li>\n</ul>\n<h3 id=\"clickhouse-release-18-16-1-2018-12-21\">ClickHouse release 18.16.1, 2018-12-21<a class=\"headerlink\" href=\"#clickhouse-release-18-16-1-2018-12-21\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"ispravleniia-oshibok_12\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u0448\u0438\u0431\u043e\u043a:<a class=\"headerlink\" href=\"#ispravleniia-oshibok_12\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430, \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u0432\u0448\u0430\u044f \u043a \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u043b\u043e\u0432\u0430\u0440\u0438 \u0441 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u043e\u043c ODBC. <a href=\"https://github.com/yandex/ClickHouse/issues/3825\" rel=\"external nofollow\">#3825</a>, <a href=\"https://github.com/yandex/ClickHouse/issues/3829\" rel=\"external nofollow\">#3829</a></li>\n<li>JIT-\u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u044f \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 \u0442\u0435\u043f\u0435\u0440\u044c \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0441 LowCardinality \u0441\u0442\u043e\u043b\u0431\u0446\u0430\u043c\u0438. <a href=\"https://github.com/yandex/ClickHouse/issues/3838\" rel=\"external nofollow\">#3838</a></li>\n</ul>\n<h4 id=\"uluchsheniia_6\">\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f:<a class=\"headerlink\" href=\"#uluchsheniia_6\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>low_cardinality_allow_in_native_format</code> (\u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0430). \u0415\u0441\u043b\u0438 \u0435\u0451 \u0432\u044b\u043a\u043b\u044e\u0447\u0438\u0442\u044c, \u0441\u0442\u043e\u043b\u0431\u0446\u044b LowCardinality \u0432 Native \u0444\u043e\u0440\u043c\u0430\u0442\u0435 \u0431\u0443\u0434\u0443\u0442 \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u044b\u0432\u0430\u0442\u044c\u0441\u044f \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0439 \u043e\u0431\u044b\u0447\u043d\u044b\u0439 \u0442\u0438\u043f \u043f\u0440\u0438 SELECT \u0438 \u0438\u0437 \u044d\u0442\u043e\u0433\u043e \u0442\u0438\u043f\u0430 \u043f\u0440\u0438 INSERT. <a href=\"https://github.com/yandex/ClickHouse/pull/3879\" rel=\"external nofollow\">#3879</a></li>\n</ul>\n<h4 id=\"uluchsheniia-sborki\">\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f \u0441\u0431\u043e\u0440\u043a\u0438:<a class=\"headerlink\" href=\"#uluchsheniia-sborki\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u0431\u043e\u0440\u043a\u0438 \u043f\u043e\u0434 macOS \u0438 ARM.</li>\n</ul>\n<h3 id=\"clickhouse-release-18-16-0-2018-12-14\">ClickHouse release 18.16.0, 2018-12-14<a class=\"headerlink\" href=\"#clickhouse-release-18-16-0-2018-12-14\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"novye-vozmozhnosti_4\">\u041d\u043e\u0432\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438:<a class=\"headerlink\" href=\"#novye-vozmozhnosti_4\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0412\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0435 <code>DEFAULT</code> \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u0434\u043b\u044f \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u043f\u043e\u043b\u0435\u0439 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 \u043f\u043e\u043b\u0443\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u0444\u043e\u0440\u043c\u0430\u0442\u0430\u0445 (<code>JSONEachRow</code>, <code>TSKV</code>) (\u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 <code>insert_sample_with_metadata</code>). <a href=\"https://github.com/yandex/ClickHouse/pull/3555\" rel=\"external nofollow\">#3555</a></li>\n<li>\u0414\u043b\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 <code>ALTER TABLE</code> \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 <code>MODIFY ORDER BY</code> \u0434\u043b\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043a\u043b\u044e\u0447\u0430 \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0438 \u043f\u0440\u0438 \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u043c \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u0438\u043b\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0441\u0442\u043e\u043b\u0431\u0446\u0430 \u0442\u0430\u0431\u043b\u0438\u0446\u044b. \u042d\u0442\u043e \u043f\u043e\u043b\u0435\u0437\u043d\u043e \u0434\u043b\u044f \u0442\u0430\u0431\u043b\u0438\u0446 \u0441\u0435\u043c\u0435\u0439\u0441\u0442\u0432\u0430 <code>MergeTree</code>, \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u044e\u0449\u0438\u0445 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0443\u044e \u0440\u0430\u0431\u043e\u0442\u0443 \u043f\u0440\u0438 \u0441\u043b\u0438\u044f\u043d\u0438\u044f\u0445, \u0441\u043e\u0433\u043b\u0430\u0441\u043d\u043e \u044d\u0442\u043e\u043c\u0443 \u043a\u043b\u044e\u0447\u0443 \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0438, \u043a\u0430\u043a \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, <code>SummingMergeTree</code>, <code>AggregatingMergeTree</code> \u0438 \u0442. \u043f. <a href=\"https://github.com/yandex/ClickHouse/pull/3581\" rel=\"external nofollow\">#3581</a> <a href=\"https://github.com/yandex/ClickHouse/pull/3755\" rel=\"external nofollow\">#3755</a></li>\n<li>\u0414\u043b\u044f \u0442\u0430\u0431\u043b\u0438\u0446 \u0441\u0435\u043c\u0435\u0439\u0441\u0442\u0432\u0430 <code>MergeTree</code> \u043f\u043e\u044f\u0432\u0438\u043b\u0430\u0441\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u044b\u0439 \u043a\u043b\u044e\u0447 \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0438 (<code>ORDER BY</code>) \u0438 \u0438\u043d\u0434\u0435\u043a\u0441 (<code>PRIMARY KEY</code>). \u041a\u043b\u044e\u0447 \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0438 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0434\u043b\u0438\u043d\u043d\u0435\u0435, \u0447\u0435\u043c \u0438\u043d\u0434\u0435\u043a\u0441. <a href=\"https://github.com/yandex/ClickHouse/pull/3581\" rel=\"external nofollow\">#3581</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0442\u0430\u0431\u043b\u0438\u0447\u043d\u0430\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u044f <code>hdfs</code> \u0438 \u0434\u0432\u0438\u0436\u043e\u043a \u0442\u0430\u0431\u043b\u0438\u0446 <code>HDFS</code> \u0434\u043b\u044f \u0438\u043c\u043f\u043e\u0440\u0442\u0430 \u0438 \u044d\u043a\u0441\u043f\u043e\u0440\u0442\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 HDFS. <a href=\"https://github.com/yandex/ClickHouse/pull/3617\" rel=\"external nofollow\">chenxing-xc</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 base64: <code>base64Encode</code>, <code>base64Decode</code>, <code>tryBase64Decode</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3350\" rel=\"external nofollow\">Alexander Krasheninnikov</a></li>\n<li>\u0414\u043b\u044f \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>uniqCombined</code> \u043f\u043e\u044f\u0432\u0438\u043b\u0430\u0441\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0442\u044c \u0442\u043e\u0447\u043d\u043e\u0441\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430 (\u0432\u044b\u0431\u0438\u0440\u0430\u0442\u044c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u044f\u0447\u0435\u0435\u043a HyperLogLog). <a href=\"https://github.com/yandex/ClickHouse/pull/3406\" rel=\"external nofollow\">#3406</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0442\u0430\u0431\u043b\u0438\u0446\u0430 <code>system.contributors</code>, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0430\u044f \u0438\u043c\u0435\u043d\u0430 \u0432\u0441\u0435\u0445, \u043a\u0442\u043e \u0434\u0435\u043b\u0430\u043b \u043a\u043e\u043c\u043c\u0438\u0442\u044b \u0432 ClickHouse. <a href=\"https://github.com/yandex/ClickHouse/pull/3452\" rel=\"external nofollow\">#3452</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043d\u0435 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043f\u0430\u0440\u0442\u0438\u0446\u0438\u044e \u0434\u043b\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 <code>ALTER TABLE ... FREEZE</code> \u0434\u043b\u044f \u0431\u044d\u043a\u0430\u043f\u0430 \u0441\u0440\u0430\u0437\u0443 \u0432\u0441\u0435\u0445 \u043f\u0430\u0440\u0442\u0438\u0446\u0438\u0439. <a href=\"https://github.com/yandex/ClickHouse/pull/3514\" rel=\"external nofollow\">#3514</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>dictGet</code>, <code>dictGetOrDefault</code> \u0431\u0435\u0437 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u044f \u0442\u0438\u043f\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u043c\u043e\u0433\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f. \u0422\u0438\u043f \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0438\u0437 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0441\u043b\u043e\u0432\u0430\u0440\u044f. <a href=\"https://github.com/yandex/ClickHouse/pull/3564\" rel=\"external nofollow\">Amos Bird</a></li>\n<li>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u044f \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f \u0434\u043b\u044f \u0441\u0442\u043e\u043b\u0431\u0446\u0430 \u0432 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0435\u0433\u043e \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e <code>ALTER</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3377\" rel=\"external nofollow\">#3377</a></li>\n<li>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0447\u0442\u0435\u043d\u0438\u044f \u0438\u0437 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0442\u0438\u043f\u0430 <code>Join</code> \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043f\u0440\u043e\u0441\u0442\u044b\u0445 \u043a\u043b\u044e\u0447\u0435\u0439. <a href=\"https://github.com/yandex/ClickHouse/pull/3728\" rel=\"external nofollow\">Amos Bird</a></li>\n<li>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a <code>join_use_nulls</code>, <code>max_rows_in_join</code>, <code>max_bytes_in_join</code>, <code>join_overflow_mode</code> \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0442\u0438\u043f\u0430 <code>Join</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3728\" rel=\"external nofollow\">Amos Bird</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f <code>joinGet</code>, \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0449\u0430\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0442\u0438\u043f\u0430 <code>Join</code> \u043a\u0430\u043a \u0441\u043b\u043e\u0432\u0430\u0440\u044c. <a href=\"https://github.com/yandex/ClickHouse/pull/3728\" rel=\"external nofollow\">Amos Bird</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0441\u0442\u043e\u043b\u0431\u0446\u044b <code>partition_key</code>, <code>sorting_key</code>, <code>primary_key</code>, <code>sampling_key</code> \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 <code>system.tables</code>, \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0449\u0438\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u043a\u043b\u044e\u0447\u0430\u0445 \u0442\u0430\u0431\u043b\u0438\u0446\u044b. <a href=\"https://github.com/yandex/ClickHouse/pull/3609\" rel=\"external nofollow\">#3609</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0441\u0442\u043e\u043b\u0431\u0446\u044b <code>is_in_partition_key</code>, <code>is_in_sorting_key</code>, <code>is_in_primary_key</code>, <code>is_in_sampling_key</code> \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 <code>system.columns</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3609\" rel=\"external nofollow\">#3609</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0441\u0442\u043e\u043b\u0431\u0446\u044b <code>min_time</code>, <code>max_time</code> \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 <code>system.parts</code>. \u042d\u0442\u0438 \u0441\u0442\u043e\u043b\u0431\u0446\u044b \u0437\u0430\u043f\u043e\u043b\u043d\u044f\u044e\u0442\u0441\u044f, \u0435\u0441\u043b\u0438 \u043a\u043b\u044e\u0447 \u043f\u0430\u0440\u0442\u0438\u0446\u0438\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0435\u043c \u043e\u0442 \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432 \u0442\u0438\u043f\u0430 <code>DateTime</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3800\" rel=\"external nofollow\">Emmanuel Donin de Rosi\u00e8re</a></li>\n</ul>\n<h4 id=\"ispravleniia-oshibok_13\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u0448\u0438\u0431\u043e\u043a:<a class=\"headerlink\" href=\"#ispravleniia-oshibok_13\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0438 \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0434\u043b\u044f \u0442\u0438\u043f\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 <code>LowCardinality</code>. <code>GROUP BY</code> \u043f\u043e <code>LowCardinality(Nullable(...))</code>. \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 <code>extremes</code> \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439. \u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 \u0432\u044b\u0441\u0448\u0435\u0433\u043e \u043f\u043e\u0440\u044f\u0434\u043a\u0430. <code>LEFT ARRAY JOIN</code>. \u0420\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0451\u043d\u043d\u044b\u0439 <code>GROUP BY</code>. \u0424\u0443\u043d\u043a\u0446\u0438\u0438, \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u044e\u0449\u0438\u0435 <code>Array</code>. \u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 <code>ORDER BY</code>. \u0417\u0430\u043f\u0438\u0441\u044c \u0432 <code>Distributed</code> \u0442\u0430\u0431\u043b\u0438\u0446\u044b (nicelulu). \u041e\u0431\u0440\u0430\u0442\u043d\u0430\u044f \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c \u0434\u043b\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 <code>INSERT</code> \u043e\u0442 \u0441\u0442\u0430\u0440\u044b\u0445 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u0432, \u0440\u0435\u0430\u043b\u0438\u0437\u0443\u044e\u0449\u0438\u0445 <code>Native</code> \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b. \u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 <code>LowCardinality</code> \u0434\u043b\u044f <code>JOIN</code>. \u041f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043f\u0440\u0438 \u0440\u0430\u0431\u043e\u0442\u0435 \u0432 \u043e\u0434\u0438\u043d \u043f\u043e\u0442\u043e\u043a. <a href=\"https://github.com/yandex/ClickHouse/pull/3823\" rel=\"external nofollow\">#3823</a> <a href=\"https://github.com/yandex/ClickHouse/pull/3803\" rel=\"external nofollow\">#3803</a> <a href=\"https://github.com/yandex/ClickHouse/pull/3799\" rel=\"external nofollow\">#3799</a> <a href=\"https://github.com/yandex/ClickHouse/pull/3769\" rel=\"external nofollow\">#3769</a> <a href=\"https://github.com/yandex/ClickHouse/pull/3744\" rel=\"external nofollow\">#3744</a> <a href=\"https://github.com/yandex/ClickHouse/pull/3681\" rel=\"external nofollow\">#3681</a> <a href=\"https://github.com/yandex/ClickHouse/pull/3651\" rel=\"external nofollow\">#3651</a> <a href=\"https://github.com/yandex/ClickHouse/pull/3649\" rel=\"external nofollow\">#3649</a> <a href=\"https://github.com/yandex/ClickHouse/pull/3641\" rel=\"external nofollow\">#3641</a> <a href=\"https://github.com/yandex/ClickHouse/pull/3632\" rel=\"external nofollow\">#3632</a> <a href=\"https://github.com/yandex/ClickHouse/pull/3568\" rel=\"external nofollow\">#3568</a> <a href=\"https://github.com/yandex/ClickHouse/pull/3523\" rel=\"external nofollow\">#3523</a> <a href=\"https://github.com/yandex/ClickHouse/pull/3518\" rel=\"external nofollow\">#3518</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 <code>select_sequential_consistency</code>. \u0420\u0430\u043d\u0435\u0435, \u043f\u0440\u0438 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u043e\u0439 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0435, \u043f\u043e\u0441\u043b\u0435 \u043d\u0430\u0447\u0430\u043b\u0430 \u0437\u0430\u043f\u0438\u0441\u0438 \u0432 \u043d\u043e\u0432\u0443\u044e \u043f\u0430\u0440\u0442\u0438\u0446\u0438\u044e, \u043c\u043e\u0433 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0442\u044c\u0441\u044f \u043d\u0435\u043f\u043e\u043b\u043d\u044b\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442. <a href=\"https://github.com/yandex/ClickHouse/pull/2863\" rel=\"external nofollow\">#2863</a></li>\n<li>\u041a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0435 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u0440\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 DDL \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 <code>ON CLUSTER</code>, \u0430 \u0442\u0430\u043a\u0436\u0435 \u043f\u0440\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 <code>ALTER UPDATE/DELETE</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3772\" rel=\"external nofollow\">#3772</a> <a href=\"https://github.com/yandex/ClickHouse/pull/3460\" rel=\"external nofollow\">#3460</a></li>\n<li>\u041a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0435 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043b\u044f \u043f\u043e\u0434\u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0432\u043d\u0443\u0442\u0440\u0438 VIEW. <a href=\"https://github.com/yandex/ClickHouse/pull/3521\" rel=\"external nofollow\">#3521</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0430 <code>PREWHERE</code> \u0441 <code>FINAL</code> \u0434\u043b\u044f <code>VersionedCollapsingMergeTree</code>. <a href=\"https://github.com/yandex/ClickHouse/commit/7167bfd7b365538f7a91c4307ad77e552ab4e8c1\" rel=\"external nofollow\">7167bfd7</a></li>\n<li>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0437\u0430\u043f\u0440\u043e\u0441\u0430 <code>KILL QUERY</code> \u043e\u0442\u043c\u0435\u043d\u044b \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0435\u0449\u0451 \u043d\u0435 \u043d\u0430\u0447\u0430\u043b\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0442\u044c\u0441\u044f \u0438\u0437-\u0437\u0430 \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u044b. <a href=\"https://github.com/yandex/ClickHouse/pull/3517\" rel=\"external nofollow\">#3517</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u0440\u0430\u0441\u0447\u0451\u0442\u044b \u0441 \u0434\u0430\u0442\u043e\u0439 \u0438 \u0432\u0440\u0435\u043c\u0435\u043d\u0435\u043c \u0432 \u0441\u043b\u0443\u0447\u0430\u0435, \u0435\u0441\u043b\u0438 \u0441\u0442\u0440\u0435\u043b\u043a\u0438 \u0447\u0430\u0441\u043e\u0432 \u0431\u044b\u043b\u0438 \u043f\u0435\u0440\u0435\u0432\u0435\u0434\u0435\u043d\u044b \u043d\u0430\u0437\u0430\u0434 \u0432 \u043f\u043e\u043b\u043d\u043e\u0447\u044c (\u044d\u0442\u043e \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u0432 \u0418\u0440\u0430\u043d\u0435, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0431\u044b\u043b\u043e \u041c\u043e\u0441\u043a\u0432\u0435 \u0441 1981 \u043f\u043e 1983 \u0433\u043e\u0434). \u0420\u0430\u043d\u0435\u0435 \u044d\u0442\u043e \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u043b\u043e \u043a \u0442\u043e\u043c\u0443, \u0447\u0442\u043e \u0441\u0442\u0440\u0435\u043b\u043a\u0438 \u0447\u0430\u0441\u043e\u0432 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0438\u043b\u0438\u0441\u044c \u043d\u0430 \u0441\u0443\u0442\u043a\u0438 \u0440\u0430\u043d\u044c\u0448\u0435, \u0447\u0435\u043c \u043d\u0443\u0436\u043d\u043e, \u0430 \u0442\u0430\u043a\u0436\u0435 \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u043b\u043e \u043a \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u043c\u0443 \u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044e \u0434\u0430\u0442\u044b-\u0441-\u0432\u0440\u0435\u043c\u0435\u043d\u0435\u043c \u0432 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u043c \u0432\u0438\u0434\u0435. <a href=\"https://github.com/yandex/ClickHouse/pull/3819\" rel=\"external nofollow\">#3819</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0430 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0441\u043b\u0443\u0447\u0430\u0435\u0432 <code>VIEW</code> \u0438 \u043f\u043e\u0434\u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0431\u0435\u0437 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u044f \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445. <a href=\"https://github.com/yandex/ClickHouse/pull/3521\" rel=\"external nofollow\">Winter Zhang</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d race condition \u043f\u0440\u0438 \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u043c \u0447\u0442\u0435\u043d\u0438\u0438 \u0438\u0437 <code>MATERIALIZED VIEW</code> \u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435\u043c <code>MATERIALIZED VIEW</code> \u0438\u0437-\u0437\u0430 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u044f \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0438 \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0435\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u044b <code>MATERIALIZED VIEW</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3404\" rel=\"external nofollow\">#3404</a> <a href=\"https://github.com/yandex/ClickHouse/pull/3694\" rel=\"external nofollow\">#3694</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 <code>Lock handler cannot be nullptr.</code> <a href=\"https://github.com/yandex/ClickHouse/pull/3689\" rel=\"external nofollow\">#3689</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u043f\u0440\u0438 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u043e\u0439 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0435 <code>compile_expressions</code> (\u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0430 \u043f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e) - \u0443\u0431\u0440\u0430\u043d\u0430 \u0441\u0432\u0451\u0440\u0442\u043a\u0430 \u043d\u0435\u0434\u0435\u0442\u0435\u0440\u043c\u0438\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u043a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u043d\u044b\u0445 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0439, \u043a\u0430\u043a \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>now</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3457\" rel=\"external nofollow\">#3457</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0430\u0434\u0435\u043d\u0438\u0435 \u043f\u0440\u0438 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0438 \u043d\u0435\u043a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u043d\u043e\u0433\u043e \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0430 scale \u0432 \u0444\u0443\u043d\u043a\u0446\u0438\u044f\u0445 <code>toDecimal32/64/128</code>.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043f\u044b\u0442\u043a\u0435 \u0432\u0441\u0442\u0430\u0432\u043a\u0438 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 <code>Values</code> \u043c\u0430\u0441\u0441\u0438\u0432\u0430 \u0441 <code>NULL</code> \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430\u043c\u0438 \u0432 \u0441\u0442\u043e\u043b\u0431\u0435\u0446 \u0442\u0438\u043f\u0430 <code>Array</code> \u0431\u0435\u0437 <code>Nullable</code> (\u0432 \u0441\u043b\u0443\u0447\u0430\u0435 <code>input_format_values_interpret_expressions</code> = 1). <a href=\"https://github.com/yandex/ClickHouse/pull/3487\" rel=\"external nofollow\">#3487</a> <a href=\"https://github.com/yandex/ClickHouse/pull/3503\" rel=\"external nofollow\">#3503</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043d\u0435\u043f\u0440\u0435\u0440\u044b\u0432\u043d\u043e\u0435 \u043b\u043e\u0433\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0448\u0438\u0431\u043e\u043a \u0432 <code>DDLWorker</code>, \u0435\u0441\u043b\u0438 ZooKeeper \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d. <a href=\"https://github.com/yandex/ClickHouse/commit/8f50c620334988b28018213ec0092fe6423847e2\" rel=\"external nofollow\">8f50c620</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u0442\u0438\u043f \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u043c\u043e\u0433\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u0439 <code>quantile*</code> \u043e\u0442 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0442\u0438\u043f\u0430 <code>Date</code> \u0438 <code>DateTime</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3580\" rel=\"external nofollow\">#3580</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0430 \u0441\u0435\u043a\u0446\u0438\u0438 <code>WITH</code>, \u0435\u0441\u043b\u0438 \u043e\u043d\u0430 \u0437\u0430\u0434\u0430\u0451\u0442 \u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u0430\u043b\u0438\u0430\u0441 \u0431\u0435\u0437 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0439. <a href=\"https://github.com/yandex/ClickHouse/pull/3570\" rel=\"external nofollow\">#3570</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0441 \u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u043d\u044b\u043c\u0438 \u043f\u043e\u0434\u0437\u0430\u043f\u0440\u043e\u0441\u0430\u043c\u0438 \u0438 \u043a\u0432\u0430\u043b\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u043c\u0438 \u0438\u043c\u0435\u043d\u0430\u043c\u0438 \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432 \u043f\u0440\u0438 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u043e\u0439 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0435 <code>enable_optimize_predicate_expression</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3588\" rel=\"external nofollow\">Winter Zhang</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 <code>Attempt to attach to nullptr thread group</code> \u043f\u0440\u0438 \u0440\u0430\u0431\u043e\u0442\u0435 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0439. <a href=\"https://github.com/yandex/ClickHouse/pull/3623\" rel=\"external nofollow\">Marek Vavru\u0161a</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0430\u0434\u0435\u043d\u0438\u0435 \u043f\u0440\u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0435 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0445 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0432 \u0444\u0443\u043d\u043a\u0446\u0438\u044e <code>arrayReverse</code>. <a href=\"https://github.com/yandex/ClickHouse/commit/73e3a7b662161d6005e7727d8a711b930386b871\" rel=\"external nofollow\">73e3a7b6</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d buffer overflow \u0432 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>extractURLParameter</code>. \u0423\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c. \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0430\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0441\u0442\u0440\u043e\u043a, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0438\u0445 \u043d\u0443\u043b\u0435\u0432\u044b\u0435 \u0431\u0430\u0439\u0442\u044b. <a href=\"https://github.com/yandex/ClickHouse/commit/141e9799e49201d84ea8e951d1bed4fb6d3dacb5\" rel=\"external nofollow\">141e9799</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d buffer overflow \u0432 \u0444\u0443\u043d\u043a\u0446\u0438\u044f\u0445 <code>lowerUTF8</code>, <code>upperUTF8</code>. \u0423\u0434\u0430\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u044d\u0442\u0438\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 \u043d\u0430\u0434 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0430\u043c\u0438 \u0442\u0438\u043f\u0430 <code>FixedString</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3662\" rel=\"external nofollow\">#3662</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u0440\u0435\u0434\u043a\u0438\u0439 race condition \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0442\u0430\u0431\u043b\u0438\u0446 \u0442\u0438\u043f\u0430 <code>MergeTree</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3680\" rel=\"external nofollow\">#3680</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d race condition \u043f\u0440\u0438 \u0447\u0442\u0435\u043d\u0438\u0438 \u0438\u0437 \u0442\u0430\u0431\u043b\u0438\u0446 \u0442\u0438\u043f\u0430 <code>Buffer</code> \u0438 \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u043c <code>ALTER</code> \u043b\u0438\u0431\u043e <code>DROP</code> \u0442\u0430\u0431\u043b\u0438\u0446 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f. <a href=\"https://github.com/yandex/ClickHouse/pull/3719\" rel=\"external nofollow\">#3719</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d segfault \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043f\u0440\u0435\u0432\u044b\u0448\u0435\u043d\u0438\u044f \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f <code>max_temporary_non_const_columns</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3788\" rel=\"external nofollow\">#3788</a></li>\n</ul>\n<h4 id=\"uluchsheniia_7\">\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f:<a class=\"headerlink\" href=\"#uluchsheniia_7\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u044b\u0435 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c \u043d\u0435 \u0432 <code>/etc/clickhouse-server/</code> \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044e, \u0430 \u0432 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044e <code>preprocessed_configs</code> \u0432\u043d\u0443\u0442\u0440\u0438 <code>path</code>. \u042d\u0442\u043e \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044e <code>/etc/clickhouse-server/</code> \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0439 \u0434\u043b\u044f \u0437\u0430\u043f\u0438\u0441\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c <code>clickhouse</code>, \u0447\u0442\u043e \u043f\u043e\u0432\u044b\u0448\u0430\u0435\u0442 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u044c. <a href=\"https://github.com/yandex/ClickHouse/pull/2443\" rel=\"external nofollow\">#2443</a></li>\n<li>\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>min_merge_bytes_to_use_direct_io</code> \u0432\u044b\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0432 10 GiB. \u0421\u043b\u0438\u044f\u043d\u0438\u044f, \u043e\u0431\u0440\u0430\u0437\u0443\u044e\u0449\u0438\u0435 \u043a\u0440\u0443\u043f\u043d\u044b\u0435 \u043a\u0443\u0441\u043a\u0438 \u0442\u0430\u0431\u043b\u0438\u0446 \u0441\u0435\u043c\u0435\u0439\u0441\u0442\u0432\u0430 MergeTree, \u0431\u0443\u0434\u0443\u0442 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 <code>O_DIRECT</code>, \u0447\u0442\u043e \u0438\u0441\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0432\u044b\u043c\u044b\u0432\u0430\u043d\u0438\u0435 \u043a\u044d\u0448\u0430. <a href=\"https://github.com/yandex/ClickHouse/pull/3504\" rel=\"external nofollow\">#3504</a></li>\n<li>\u0423\u0441\u043a\u043e\u0440\u0435\u043d \u0437\u0430\u043f\u0443\u0441\u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0430\u043b\u0438\u0447\u0438\u044f \u043e\u0447\u0435\u043d\u044c \u0431\u043e\u043b\u044c\u0448\u043e\u0433\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u0442\u0430\u0431\u043b\u0438\u0446. <a href=\"https://github.com/yandex/ClickHouse/pull/3398\" rel=\"external nofollow\">#3398</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u043f\u0443\u043b \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0439 \u0438 HTTP <code>Keep-Alive</code> \u0434\u043b\u044f \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f \u043c\u0435\u0436\u0434\u0443 \u0440\u0435\u043f\u043b\u0438\u043a\u0430\u043c\u0438. <a href=\"https://github.com/yandex/ClickHouse/pull/3594\" rel=\"external nofollow\">#3594</a></li>\n<li>\u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u043e\u0448\u0438\u0431\u043a\u0438 \u0441\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430, \u0432 <code>HTTP</code> \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0435 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442\u0441\u044f \u043a\u043e\u0434 <code>400 Bad Request</code> (\u0440\u0430\u043d\u0435\u0435 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u043b\u0441\u044f \u043a\u043e\u0434 500). <a href=\"https://github.com/yandex/ClickHouse/commit/31bc680ac5f4bb1d0360a8ba4696fa84bb47d6ab\" rel=\"external nofollow\">31bc680a</a></li>\n<li>\u0414\u043b\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 <code>join_default_strictness</code> \u0432\u044b\u0431\u0440\u0430\u043d\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e <code>ALL</code> \u0434\u043b\u044f \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u0438. <a href=\"https://github.com/yandex/ClickHouse/commit/120e2cbe2ff4fbad626c28042d9b28781c805afe\" rel=\"external nofollow\">120e2cbe</a></li>\n<li>\u0423\u0431\u0440\u0430\u043d\u043e \u043b\u043e\u0433\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 <code>stderr</code> \u0438\u0437 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 <code>re2</code> \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0445 \u0438\u043b\u0438 \u0441\u043b\u043e\u0436\u043d\u044b\u0445 \u0440\u0435\u0433\u0443\u043b\u044f\u0440\u043d\u044b\u0445 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0439. <a href=\"https://github.com/yandex/ClickHouse/pull/3723\" rel=\"external nofollow\">#3723</a></li>\n<li>\u0414\u043b\u044f \u0434\u0432\u0438\u0436\u043a\u0430 \u0442\u0430\u0431\u043b\u0438\u0446 <code>Kafka</code>: \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043d\u0430\u043b\u0438\u0447\u0438\u044f \u043f\u043e\u0434\u043f\u0438\u0441\u043e\u043a \u043f\u0435\u0440\u0435\u0434 \u043d\u0430\u0447\u0430\u043b\u043e\u043c \u0447\u0442\u0435\u043d\u0438\u044f \u0438\u0437 Kafka; \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0442\u0430\u0431\u043b\u0438\u0446\u044b kafka_max_block_size. <a href=\"https://github.com/yandex/ClickHouse/pull/3396\" rel=\"external nofollow\">Marek Vavru\u0161a</a></li>\n<li>\u0424\u0443\u043d\u043a\u0446\u0438\u0438 <code>cityHash64</code>, <code>farmHash64</code>, <code>metroHash64</code>, <code>sipHash64</code>, <code>halfMD5</code>, <code>murmurHash2_32</code>, <code>murmurHash2_64</code>, <code>murmurHash3_32</code>, <code>murmurHash3_64</code> \u0442\u0435\u043f\u0435\u0440\u044c \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0442 \u0434\u043b\u044f \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u043e\u0433\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u0432, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0434\u043b\u044f \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u0432-\u043a\u043e\u0440\u0442\u0435\u0436\u0435\u0439. <a href=\"https://github.com/yandex/ClickHouse/pull/3451\" rel=\"external nofollow\">#3451</a> <a href=\"https://github.com/yandex/ClickHouse/pull/3519\" rel=\"external nofollow\">#3519</a></li>\n<li>\u0424\u0443\u043d\u043a\u0446\u0438\u044f <code>arrayReverse</code> \u0442\u0435\u043f\u0435\u0440\u044c \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0441 \u043b\u044e\u0431\u044b\u043c\u0438 \u0442\u0438\u043f\u0430\u043c\u0438 \u043c\u0430\u0441\u0441\u0438\u0432\u043e\u0432. <a href=\"https://github.com/yandex/ClickHouse/commit/73e3a7b662161d6005e7727d8a711b930386b871\" rel=\"external nofollow\">73e3a7b6</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0439 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 - \u0440\u0430\u0437\u043c\u0435\u0440 \u0441\u043b\u043e\u0442\u0430 \u0434\u043b\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>timeSlots</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3724\" rel=\"external nofollow\">Kirill Shvakov</a></li>\n<li>\u0414\u043b\u044f <code>FULL</code> \u0438 <code>RIGHT JOIN</code> \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>max_block_size</code> \u0434\u043b\u044f \u043f\u043e\u0442\u043e\u043a\u0430 \u043d\u0435\u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u0451\u043d\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437 \u043f\u0440\u0430\u0432\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u044b. <a href=\"https://github.com/yandex/ClickHouse/pull/3699\" rel=\"external nofollow\">Amos Bird</a></li>\n<li>\u0412 <code>clickhouse-benchmark</code> \u0438 <code>clickhouse-performance-test</code> \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u043a\u043e\u043c\u0430\u043d\u0434\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438 <code>--secure</code> \u0434\u043b\u044f \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f TLS. <a href=\"https://github.com/yandex/ClickHouse/pull/3688\" rel=\"external nofollow\">#3688</a> <a href=\"https://github.com/yandex/ClickHouse/pull/3690\" rel=\"external nofollow\">#3690</a></li>\n<li>\u041f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u0438\u043f\u043e\u0432 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435, \u0435\u0441\u043b\u0438 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0442\u0438\u043f\u0430 <code>Buffer</code> \u043d\u0435 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0435 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f. <a href=\"https://github.com/yandex/ClickHouse/pull/3603\" rel=\"external nofollow\">Vitaly Baranov</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>tcp_keep_alive_timeout</code> \u0434\u043b\u044f \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f keep-alive \u043f\u0430\u043a\u0435\u0442\u043e\u0432 \u043f\u043e\u0441\u043b\u0435 \u043d\u0435\u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u0438 \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0433\u043e \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b\u0430 \u0432\u0440\u0435\u043c\u0435\u043d\u0438. <a href=\"https://github.com/yandex/ClickHouse/pull/3441\" rel=\"external nofollow\">#3441</a></li>\n<li>\u0423\u0431\u0440\u0430\u043d\u043e \u0438\u0437\u043b\u0438\u0448\u043d\u0435\u0435 \u043a\u0432\u043e\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u043a\u043b\u044e\u0447\u0430 \u043f\u0430\u0440\u0442\u0438\u0446\u0438\u0438 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 <code>system.parts</code>, \u0435\u0441\u043b\u0438 \u043e\u043d \u0441\u043e\u0441\u0442\u043e\u0438\u0442 \u0438\u0437 \u043e\u0434\u043d\u043e\u0433\u043e \u0441\u0442\u043e\u043b\u0431\u0446\u0430. <a href=\"https://github.com/yandex/ClickHouse/pull/3652\" rel=\"external nofollow\">#3652</a></li>\n<li>\u0424\u0443\u043d\u043a\u0446\u0438\u044f \u0434\u0435\u043b\u0435\u043d\u0438\u044f \u0441 \u043e\u0441\u0442\u0430\u0442\u043a\u043e\u043c \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0434\u043b\u044f \u0442\u0438\u043f\u043e\u0432 \u0434\u0430\u043d\u043d\u044b\u0445 <code>Date</code> \u0438 <code>DateTime</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3385\" rel=\"external nofollow\">#3385</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0441\u0438\u043d\u043e\u043d\u0438\u043c\u044b \u0444\u0443\u043d\u043a\u0446\u0438\u0439 <code>POWER</code>, <code>LN</code>, <code>LCASE</code>, <code>UCASE</code>, <code>REPLACE</code>, <code>LOCATE</code>, <code>SUBSTR</code>, <code>MID</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3774\" rel=\"external nofollow\">#3774</a> <a href=\"https://github.com/yandex/ClickHouse/pull/3763\" rel=\"external nofollow\">#3763</a> \u041d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0438\u043c\u0435\u043d\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 \u0441\u0434\u0435\u043b\u0430\u043d\u044b \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u043e\u043d\u0435\u0437\u0430\u0432\u0438\u0441\u0438\u043c\u044b\u043c\u0438 \u0434\u043b\u044f \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u0438 \u0441\u043e \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043e\u043c SQL. \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0441\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0441\u0430\u0445\u0430\u0440 <code>SUBSTRING(expr FROM start FOR length)</code> \u0434\u043b\u044f \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u0438 \u0441 SQL. <a href=\"https://github.com/yandex/ClickHouse/pull/3804\" rel=\"external nofollow\">#3804</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0444\u0438\u043a\u0441\u0430\u0446\u0438\u0438 (<code>mlock</code>) \u0441\u0442\u0440\u0430\u043d\u0438\u0446 \u043f\u0430\u043c\u044f\u0442\u0438, \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u0438\u0441\u043f\u043e\u043b\u043d\u044f\u0435\u043c\u043e\u043c\u0443 \u043a\u043e\u0434\u0443 <code>clickhouse-server</code> \u0434\u043b\u044f \u043f\u0440\u0435\u0434\u043e\u0442\u0432\u0440\u0430\u0449\u0435\u043d\u0438\u044f \u0432\u044b\u0442\u0435\u0441\u043d\u0435\u043d\u0438\u044f \u0438\u0445 \u0438\u0437 \u043f\u0430\u043c\u044f\u0442\u0438. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0432\u044b\u043a\u043b\u044e\u0447\u0435\u043d\u0430 \u043f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e. <a href=\"https://github.com/yandex/ClickHouse/pull/3553\" rel=\"external nofollow\">#3553</a></li>\n<li>\u0423\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0447\u0442\u0435\u043d\u0438\u044f \u0441 <code>O_DIRECT</code> (\u0441 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u043e\u0439 \u043e\u043f\u0446\u0438\u0435\u0439 <code>min_bytes_to_use_direct_io</code>). <a href=\"https://github.com/yandex/ClickHouse/pull/3405\" rel=\"external nofollow\">#3405</a></li>\n<li>\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u044b \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>dictGet...OrDefault</code> \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u043d\u043e\u0433\u043e \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0430-\u043a\u043b\u044e\u0447\u0430 \u0438 \u043d\u0435\u043a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u043d\u043e\u0433\u043e \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0430-default. <a href=\"https://github.com/yandex/ClickHouse/pull/3563\" rel=\"external nofollow\">Amos Bird</a></li>\n<li>\u0412 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>firstSignificantSubdomain</code> \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0434\u043e\u043c\u0435\u043d\u043e\u0432 <code>gov</code>, <code>mil</code>, <code>edu</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3601\" rel=\"external nofollow\">Igor Hatarist</a> \u0423\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u044b. <a href=\"https://github.com/yandex/ClickHouse/pull/3628\" rel=\"external nofollow\">#3628</a></li>\n<li>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u044f \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u044b\u0445 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0430 <code>clickhouse-server</code> \u043f\u043e\u0441\u0440\u0435\u0434\u0441\u0442\u0432\u043e\u043c <code>SYS-V init.d</code>-\u0441\u043a\u0440\u0438\u043f\u0442\u0430 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u044f <code>CLICKHOUSE_PROGRAM_ENV</code> \u0432 <code>/etc/default/clickhouse</code>.\n<a href=\"https://github.com/yandex/ClickHouse/pull/3612\" rel=\"external nofollow\">Pavlo Bashynskyi</a></li>\n<li>\u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043a\u043e\u0434 \u0432\u043e\u0437\u0432\u0440\u0430\u0442\u0430 init-\u0441\u043a\u0440\u0438\u043f\u0442\u0430 clickhouse-server. <a href=\"https://github.com/yandex/ClickHouse/pull/3516\" rel=\"external nofollow\">#3516</a></li>\n<li>\u0412 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 <code>system.metrics</code> \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043c\u0435\u0442\u0440\u0438\u043a\u0430 <code>VersionInteger</code>, \u0430 \u0432 <code>system.build_options</code> \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0441\u0442\u0440\u043e\u0447\u043a\u0430 <code>VERSION_INTEGER</code>, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044e ClickHouse \u0432 \u0447\u0438\u0441\u043b\u043e\u0432\u043e\u043c \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0438, \u0432\u0438\u0434\u0430 <code>18016000</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3644\" rel=\"external nofollow\">#3644</a></li>\n<li>\u0423\u0434\u0430\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044f \u0442\u0438\u043f\u0430 <code>Date</code> \u0441 \u0447\u0438\u0441\u043b\u043e\u043c, \u0447\u0442\u043e\u0431\u044b \u0438\u0437\u0431\u0435\u0436\u0430\u0442\u044c \u043f\u043e\u0442\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u044b\u0445 \u043e\u0448\u0438\u0431\u043e\u043a \u0432\u0438\u0434\u0430 <code>date = 2018-12-17</code>, \u0433\u0434\u0435 \u043e\u0448\u0438\u0431\u043e\u0447\u043d\u043e \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u044b \u043a\u0430\u0432\u044b\u0447\u043a\u0438 \u0432\u043e\u043a\u0440\u0443\u0433 \u0434\u0430\u0442\u044b. <a href=\"https://github.com/yandex/ClickHouse/pull/3687\" rel=\"external nofollow\">#3687</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 \u0441 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435\u043c \u0442\u0438\u043f\u0430 <code>rowNumberInAllBlocks</code> - \u0440\u0430\u043d\u044c\u0448\u0435 \u043e\u043d\u0438 \u0432\u044b\u0434\u0430\u0432\u0430\u043b\u0438 \u0447\u0438\u0441\u043b\u043e \u043d\u0430 \u0435\u0434\u0438\u043d\u0438\u0446\u0443 \u0431\u043e\u043b\u044c\u0448\u0435 \u0432\u0441\u043b\u0435\u0434\u0441\u0442\u0432\u0438\u0435 \u0438\u0445 \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u0430\u043d\u0430\u043b\u0438\u0437\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430. <a href=\"https://github.com/yandex/ClickHouse/pull/3729\" rel=\"external nofollow\">Amos Bird</a></li>\n<li>\u041f\u0440\u0438 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0444\u0430\u0439\u043b <code>force_restore_data</code>, \u0432\u044b\u0432\u043e\u0434\u0438\u0442\u0441\u044f \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0435. <a href=\"https://github.com/yandex/ClickHouse/pull/3794\" rel=\"external nofollow\">Amos Bird</a></li>\n</ul>\n<h4 id=\"uluchshenie-sborki\">\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u0435 \u0441\u0431\u043e\u0440\u043a\u0438:<a class=\"headerlink\" href=\"#uluchshenie-sborki\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 <code>jemalloc</code>, \u0447\u0442\u043e \u0438\u0441\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u043f\u043e\u0442\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u0443\u044e \u0443\u0442\u0435\u0447\u043a\u0443 \u043f\u0430\u043c\u044f\u0442\u0438. <a href=\"https://github.com/yandex/ClickHouse/pull/3557\" rel=\"external nofollow\">Amos Bird</a></li>\n<li>\u0414\u043b\u044f debug \u0441\u0431\u043e\u0440\u043e\u043a \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043e \u043f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u043f\u0440\u043e\u0444\u0438\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 <code>jemalloc</code>. <a href=\"https://github.com/yandex/ClickHouse/commit/2cc82f5cbe266421cd4c1165286c2c47e5ffcb15\" rel=\"external nofollow\">2cc82f5c</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0442\u0435\u0441\u0442\u043e\u0432, \u043f\u0440\u0438 \u043d\u0430\u043b\u0438\u0447\u0438\u0438 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043d\u044b\u043c \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435 \u043b\u0438\u0448\u044c <code>Docker</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3650\" rel=\"external nofollow\">#3650</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d fuzz \u0442\u0435\u0441\u0442 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u0432 SELECT \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445. <a href=\"https://github.com/yandex/ClickHouse/pull/3442\" rel=\"external nofollow\">#3442</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u043f\u043e\u043a\u043e\u043c\u043c\u0438\u0442\u043d\u044b\u0439 \u0441\u0442\u0440\u0435\u0441\u0441-\u0442\u0435\u0441\u0442, \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u044e\u0449\u0438\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0442\u0435\u0441\u0442\u044b \u043f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u043e \u0438 \u0432 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u043e\u043c \u043f\u043e\u0440\u044f\u0434\u043a\u0435, \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0449\u0438\u0439 \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0438\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 race conditions. <a href=\"https://github.com/yandex/ClickHouse/pull/3438\" rel=\"external nofollow\">#3438</a></li>\n<li>\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u0435 \u0441\u043f\u043e\u0441\u043e\u0431\u0430 \u0437\u0430\u043f\u0443\u0441\u043a\u0430 clickhouse-server \u0432 Docker \u043e\u0431\u0440\u0430\u0437\u0435. <a href=\"https://github.com/yandex/ClickHouse/pull/3663\" rel=\"external nofollow\">Elghazal Ahmed</a></li>\n<li>\u0414\u043b\u044f Docker \u043e\u0431\u0440\u0430\u0437\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0444\u0430\u0439\u043b\u043e\u0432 \u0432 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438 <code>/docker-entrypoint-initdb.d</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3695\" rel=\"external nofollow\">Konstantin Lebedev</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u0441\u0431\u043e\u0440\u043a\u0438 \u043f\u043e\u0434 ARM. <a href=\"https://github.com/yandex/ClickHouse/pull/3709\" rel=\"external nofollow\">#3709</a></li>\n</ul>\n<h4 id=\"obratno-nesovmestimye-izmeneniia_3\">\u041e\u0431\u0440\u0430\u0442\u043d\u043e \u043d\u0435\u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u044b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f:<a class=\"headerlink\" href=\"#obratno-nesovmestimye-izmeneniia_3\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0423\u0434\u0430\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044f \u0442\u0438\u043f\u0430 <code>Date</code> \u0441 \u0447\u0438\u0441\u043b\u043e\u043c, \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u043c\u0435\u0441\u0442\u043e  <code>toDate('2018-12-18') = 17883</code>, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u044f\u0432\u043d\u043e\u0435 \u043f\u0440\u0438\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0442\u0438\u043f\u043e\u0432 <code>= toDate(17883)</code> <a href=\"https://github.com/yandex/ClickHouse/pull/3687\" rel=\"external nofollow\">#3687</a></li>\n</ul>\n<h3 id=\"clickhouse-release-18-14-19-2018-12-19\">ClickHouse release 18.14.19, 2018-12-19<a class=\"headerlink\" href=\"#clickhouse-release-18-14-19-2018-12-19\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"ispravleniia-oshibok_14\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u0448\u0438\u0431\u043e\u043a:<a class=\"headerlink\" href=\"#ispravleniia-oshibok_14\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430, \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u0432\u0448\u0430\u044f \u043a \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u043b\u043e\u0432\u0430\u0440\u0438 \u0441 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u043e\u043c ODBC. <a href=\"https://github.com/yandex/ClickHouse/issues/3825\" rel=\"external nofollow\">#3825</a>, <a href=\"https://github.com/yandex/ClickHouse/issues/3829\" rel=\"external nofollow\">#3829</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d segfault \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043f\u0440\u0435\u0432\u044b\u0448\u0435\u043d\u0438\u044f \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f <code>max_temporary_non_const_columns</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3788\" rel=\"external nofollow\">#3788</a></li>\n<li>\u041a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0435 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u0440\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 DDL \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 <code>ON CLUSTER</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3460\" rel=\"external nofollow\">#3460</a></li>\n</ul>\n<h4 id=\"uluchsheniia-sborki_1\">\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f \u0441\u0431\u043e\u0440\u043a\u0438:<a class=\"headerlink\" href=\"#uluchsheniia-sborki_1\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u0431\u043e\u0440\u043a\u0438 \u043f\u043e\u0434 ARM.</li>\n</ul>\n<h3 id=\"clickhouse-release-18-14-18-2018-12-04\">ClickHouse release 18.14.18, 2018-12-04<a class=\"headerlink\" href=\"#clickhouse-release-18-14-18-2018-12-04\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"ispravleniia-oshibok_15\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u0448\u0438\u0431\u043e\u043a:<a class=\"headerlink\" href=\"#ispravleniia-oshibok_15\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>dictGet...</code> \u0434\u043b\u044f \u0441\u043b\u043e\u0432\u0430\u0440\u0435\u0439 \u0442\u0438\u043f\u0430 <code>range</code>, \u0435\u0441\u043b\u0438 \u043e\u0434\u0438\u043d \u0438\u0437 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u043a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u043d\u044b\u0439, \u0430 \u0434\u0440\u0443\u0433\u043e\u0439 - \u043d\u0435\u0442. <a href=\"https://github.com/yandex/ClickHouse/pull/3751\" rel=\"external nofollow\">#3751</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043f\u0440\u0438\u0432\u043e\u0434\u044f\u0449\u0430\u044f \u043a \u0432\u044b\u0432\u043e\u0434\u0443 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 <code>netlink: '...': attribute type 1 has an invalid length</code> \u0432 \u043b\u043e\u0433\u0435 \u044f\u0434\u0440\u0430 Linux, \u043f\u0440\u043e\u044f\u0432\u043b\u044f\u044e\u0449\u0430\u044f\u0441\u044f \u043d\u0430 \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043d\u043e\u0432\u044b\u0445 \u044f\u0434\u0440\u0430\u0445 Linux. <a href=\"https://github.com/yandex/ClickHouse/pull/3749\" rel=\"external nofollow\">#3749</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d segfault \u043f\u0440\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>empty</code> \u043e\u0442 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0430 \u0442\u0438\u043f\u0430 <code>FixedString</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3703\" rel=\"external nofollow\">Daniel, Dao Quang Minh</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0438\u0437\u0431\u044b\u0442\u043e\u0447\u043d\u0430\u044f \u0430\u043b\u043b\u043e\u043a\u0430\u0446\u0438\u044f \u043f\u0430\u043c\u044f\u0442\u0438 \u043f\u0440\u0438 \u0431\u043e\u043b\u044c\u0448\u043e\u043c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 <code>max_query_size</code> (\u043a\u0443\u0441\u043e\u043a \u043f\u0430\u043c\u044f\u0442\u0438 \u0440\u0430\u0437\u043c\u0435\u0440\u0430 <code>max_query_size</code> \u0432\u044b\u0434\u0435\u043b\u044f\u043b\u0441\u044f \u0441\u0440\u0430\u0437\u0443). <a href=\"https://github.com/yandex/ClickHouse/pull/3720\" rel=\"external nofollow\">#3720</a></li>\n</ul>\n<h4 id=\"uluchsheniia-protsessa-sborki-clickhouse\">\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u0441\u0431\u043e\u0440\u043a\u0438 ClickHouse:<a class=\"headerlink\" href=\"#uluchsheniia-protsessa-sborki-clickhouse\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0441\u0431\u043e\u0440\u043a\u0430 \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a LLVM/Clang \u0432\u0435\u0440\u0441\u0438\u0438 7 \u0438\u0437 \u043f\u0430\u043a\u0435\u0442\u043e\u0432 \u041e\u0421 (\u044d\u0442\u0438 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f \u0434\u043b\u044f \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432). <a href=\"https://github.com/yandex/ClickHouse/pull/3582\" rel=\"external nofollow\">#3582</a></li>\n</ul>\n<h3 id=\"clickhouse-release-18-14-17-2018-11-30\">ClickHouse release 18.14.17, 2018-11-30<a class=\"headerlink\" href=\"#clickhouse-release-18-14-17-2018-11-30\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"ispravleniia-oshibok_16\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u0448\u0438\u0431\u043e\u043a:<a class=\"headerlink\" href=\"#ispravleniia-oshibok_16\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u044f, \u043f\u0440\u0438 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 ODBC Bridge \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u043b \u0440\u0430\u0431\u043e\u0442\u0443 \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441\u0435\u0440\u0432\u0435\u0440\u0430 ClickHouse. \u0422\u0435\u043f\u0435\u0440\u044c ODBC Bridge \u0432\u0441\u0435\u0433\u0434\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0430\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0443 \u0432\u043c\u0435\u0441\u0442\u0435 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c. <a href=\"https://github.com/yandex/ClickHouse/pull/3642\" rel=\"external nofollow\">#3642</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u0430\u044f \u0432\u0441\u0442\u0430\u0432\u043a\u0430 \u0432 <code>Distributed</code> \u0442\u0430\u0431\u043b\u0438\u0446\u0443 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u044f\u0432\u043d\u043e\u0433\u043e \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u044f \u043d\u0435\u043f\u043e\u043b\u043d\u043e\u0433\u043e \u0441\u043f\u0438\u0441\u043a\u0430 \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432 \u0438\u043b\u0438 \u0441\u043f\u0438\u0441\u043a\u0430 \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432 \u0432 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u043d\u043e\u043c \u043f\u043e\u0440\u044f\u0434\u043a\u0435. <a href=\"https://github.com/yandex/ClickHouse/pull/3673\" rel=\"external nofollow\">#3673</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u0440\u0435\u0434\u043a\u0438\u0439 race condition, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043c\u043e\u0433 \u043f\u0440\u0438\u0432\u0435\u0441\u0442\u0438 \u043a \u043f\u0430\u0434\u0435\u043d\u0438\u044e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u043f\u0440\u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 MergeTree-\u0442\u0430\u0431\u043b\u0438\u0446. <a href=\"https://github.com/yandex/ClickHouse/pull/3680\" rel=\"external nofollow\">#3680</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d deadlock \u043f\u0440\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430, \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u044e\u0449\u0438\u0439 \u0435\u0441\u043b\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u044b\u0445 \u043f\u043e\u0442\u043e\u043a\u043e\u0432 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0438\u0437-\u0437\u0430 \u043e\u0448\u0438\u0431\u043a\u0438 <code>Resource temporarily unavailable</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3643\" rel=\"external nofollow\">#3643</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0430 <code>ENGINE</code> \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0441 \u0441\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441\u043e\u043c <code>AS table</code> \u0432 \u0441\u043b\u0443\u0447\u0430\u0435, \u043a\u043e\u0433\u0434\u0430 <code>AS table</code> \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u043b\u0441\u044f \u043f\u043e\u0441\u043b\u0435 <code>ENGINE</code>, \u0447\u0442\u043e \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u043b\u043e \u043a \u0438\u0433\u043d\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044e \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0433\u043e \u0434\u0432\u0438\u0436\u043a\u0430. <a href=\"https://github.com/yandex/ClickHouse/pull/3692\" rel=\"external nofollow\">#3692</a></li>\n</ul>\n<h3 id=\"clickhouse-release-18-14-15-2018-11-21\">ClickHouse release 18.14.15, 2018-11-21<a class=\"headerlink\" href=\"#clickhouse-release-18-14-15-2018-11-21\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"ispravleniia-oshibok_17\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u0448\u0438\u0431\u043e\u043a:<a class=\"headerlink\" href=\"#ispravleniia-oshibok_17\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u041f\u0440\u0438 \u0447\u0442\u0435\u043d\u0438\u0438 \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432 \u0442\u0438\u043f\u0430 <code>Array(String)</code>, \u0440\u0430\u0437\u043c\u0435\u0440 \u0442\u0440\u0435\u0431\u0443\u0435\u043c\u043e\u0433\u043e \u043a\u0443\u0441\u043a\u0430 \u043f\u0430\u043c\u044f\u0442\u0438 \u043e\u0446\u0435\u043d\u0438\u0432\u0430\u043b\u0441\u044f \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0431\u043e\u043b\u044c\u0448\u0438\u043c, \u0447\u0442\u043e \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u043b\u043e \u043a \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044e \"Memory limit exceeded\" \u043f\u0440\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430. \u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u044f\u0432\u0438\u043b\u0430\u0441\u044c \u0432 \u0432\u0435\u0440\u0441\u0438\u0438 18.12.13. <a href=\"https://github.com/yandex/ClickHouse/issues/3589\" rel=\"external nofollow\">#3589</a></li>\n</ul>\n<h3 id=\"clickhouse-release-18-14-14-2018-11-20\">ClickHouse release 18.14.14, 2018-11-20<a class=\"headerlink\" href=\"#clickhouse-release-18-14-14-2018-11-20\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"ispravleniia-oshibok_18\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u0448\u0438\u0431\u043e\u043a:<a class=\"headerlink\" href=\"#ispravleniia-oshibok_18\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 <code>ON CLUSTER</code> \u0432 \u0441\u043b\u0443\u0447\u0430\u0435, \u043a\u043e\u0433\u0434\u0430 \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043e \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u0435 (\u0444\u043b\u0430\u0433 <code>&lt;secure&gt;</code>). <a href=\"https://github.com/yandex/ClickHouse/pull/3599\" rel=\"external nofollow\">#3599</a></li>\n</ul>\n<h4 id=\"uluchsheniia-protsessa-sborki-clickhouse_1\">\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u0441\u0431\u043e\u0440\u043a\u0438 ClickHouse:<a class=\"headerlink\" href=\"#uluchsheniia-protsessa-sborki-clickhouse_1\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0441\u0431\u043e\u0440\u043a\u0438 (llvm-7 \u0438\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u044b, macos) <a href=\"https://github.com/yandex/ClickHouse/pull/3582\" rel=\"external nofollow\">#3582</a></li>\n</ul>\n<h3 id=\"clickhouse-release-18-14-13-2018-11-08\">ClickHouse release 18.14.13, 2018-11-08<a class=\"headerlink\" href=\"#clickhouse-release-18-14-13-2018-11-08\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"ispravleniia-oshibok_19\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u0448\u0438\u0431\u043e\u043a:<a class=\"headerlink\" href=\"#ispravleniia-oshibok_19\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 <code>Block structure mismatch in MergingSorted stream</code>. <a href=\"https://github.com/yandex/ClickHouse/issues/3162\" rel=\"external nofollow\">#3162</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 <code>ON CLUSTER</code> \u0432 \u0441\u043b\u0443\u0447\u0430\u0435, \u043a\u043e\u0433\u0434\u0430 \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043e \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u0435 (\u0444\u043b\u0430\u0433 <code>&lt;secure&gt;</code>). <a href=\"https://github.com/yandex/ClickHouse/pull/3465\" rel=\"external nofollow\">#3465</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 <code>SAMPLE</code>, <code>PREWHERE</code> \u0438 \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432-\u0430\u043b\u0438\u0430\u0441\u043e\u0432. <a href=\"https://github.com/yandex/ClickHouse/pull/3543\" rel=\"external nofollow\">#3543</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0435\u0434\u043a\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430 <code>unknown compression method</code> \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 <code>min_bytes_to_use_direct_io</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3544\" rel=\"external nofollow\">3544</a></li>\n</ul>\n<h4 id=\"uluchsheniia-proizvoditelnosti_3\">\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438:<a class=\"headerlink\" href=\"#uluchsheniia-proizvoditelnosti_3\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0434\u0435\u0433\u0440\u0430\u0434\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0441 <code>GROUP BY</code> \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432 \u0442\u0438\u043f\u0430 Int16, Date \u043d\u0430 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0440\u0430\u0445 AMD EPYC. <a href=\"https://github.com/yandex/ClickHouse/pull/3512\" rel=\"external nofollow\">\u0418\u0433\u043e\u0440\u044c \u041b\u0430\u043f\u043a\u043e</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0434\u0435\u0433\u0440\u0430\u0434\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u043f\u0440\u0438 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u0434\u043b\u0438\u043d\u043d\u044b\u0445 \u0441\u0442\u0440\u043e\u043a. <a href=\"https://github.com/yandex/ClickHouse/pull/3530\" rel=\"external nofollow\">#3530</a></li>\n</ul>\n<h4 id=\"uluchsheniia-protsessa-sborki-clickhouse_2\">\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u0441\u0431\u043e\u0440\u043a\u0438 ClickHouse:<a class=\"headerlink\" href=\"#uluchsheniia-protsessa-sborki-clickhouse_2\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0414\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0434\u043b\u044f \u0443\u043f\u0440\u043e\u0449\u0435\u043d\u0438\u044f \u0441\u0431\u043e\u0440\u043a\u0438 \u0432 Arcadia. <a href=\"https://github.com/yandex/ClickHouse/pull/3475\" rel=\"external nofollow\">#3475</a>, <a href=\"https://github.com/yandex/ClickHouse/pull/3535\" rel=\"external nofollow\">#3535</a></li>\n</ul>\n<h3 id=\"clickhouse-release-18-14-12-2018-11-02\">ClickHouse release 18.14.12, 2018-11-02<a class=\"headerlink\" href=\"#clickhouse-release-18-14-12-2018-11-02\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"ispravleniia-oshibok_20\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u0448\u0438\u0431\u043e\u043a:<a class=\"headerlink\" href=\"#ispravleniia-oshibok_20\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 join-\u0437\u0430\u043f\u0440\u043e\u0441\u0435 \u0434\u0432\u0443\u0445 \u043d\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u0434\u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432. <a href=\"https://github.com/yandex/ClickHouse/pull/3505\" rel=\"external nofollow\">#3505</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u044f \u043f\u0443\u0441\u0442\u043e\u0439 <code>WHERE</code>-\u0447\u0430\u0441\u0442\u0438 \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445 \u043a \u0432\u043d\u0435\u0448\u043d\u0438\u043c \u0431\u0430\u0437\u0430\u043c. <a href=\"https://github.com/yandex/ClickHouse/pull/3477\" rel=\"external nofollow\">hotid</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0439 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0442\u0430\u0439\u043c\u0430\u0443\u0442\u0430 \u0432 ODBC-\u0441\u043b\u043e\u0432\u0430\u0440\u044f\u0445. <a href=\"https://github.com/yandex/ClickHouse/pull/3511\" rel=\"external nofollow\">Marek Vavru\u0161a</a></li>\n</ul>\n<h3 id=\"clickhouse-release-18-14-11-2018-10-29\">ClickHouse release 18.14.11, 2018-10-29<a class=\"headerlink\" href=\"#clickhouse-release-18-14-11-2018-10-29\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"ispravleniia-oshibok_21\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u0448\u0438\u0431\u043e\u043a:<a class=\"headerlink\" href=\"#ispravleniia-oshibok_21\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 <code>Block structure mismatch in UNION stream: different number of columns</code> \u0432 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445 \u0441 LIMIT. <a href=\"https://github.com/yandex/ClickHouse/issues/2156\" rel=\"external nofollow\">#2156</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u043e\u0448\u0438\u0431\u043a\u0438 \u043f\u0440\u0438 \u0441\u043b\u0438\u044f\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0430\u0445, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0438\u0445 \u043c\u0430\u0441\u0441\u0438\u0432\u044b \u0432\u043d\u0443\u0442\u0440\u0438 Nested \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440. <a href=\"https://github.com/yandex/ClickHouse/pull/3397\" rel=\"external nofollow\">#3397</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u043f\u0440\u0438 \u0432\u044b\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u043e\u0439 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0435 <code>merge_tree_uniform_read_distribution</code> (\u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0430 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e). <a href=\"https://github.com/yandex/ClickHouse/pull/3429\" rel=\"external nofollow\">#3429</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0432\u0441\u0442\u0430\u0432\u043a\u0435 \u0432 Distributed \u0442\u0430\u0431\u043b\u0438\u0446\u0443 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 Native. <a href=\"https://github.com/yandex/ClickHouse/issues/3411\" rel=\"external nofollow\">#3411</a></li>\n</ul>\n<h3 id=\"clickhouse-release-18-14-10-2018-10-23\">ClickHouse release 18.14.10, 2018-10-23<a class=\"headerlink\" href=\"#clickhouse-release-18-14-10-2018-10-23\" title=\"Permanent link\">&para;</a></h3>\n<ul>\n<li>\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>compile_expressions</code> (JIT \u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u044f \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0439) \u0432\u044b\u043a\u043b\u044e\u0447\u0435\u043d\u0430 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e. <a href=\"https://github.com/yandex/ClickHouse/pull/3410\" rel=\"external nofollow\">#3410</a></li>\n<li>\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>enable_optimize_predicate_expression</code> \u0432\u044b\u043a\u043b\u044e\u0447\u0435\u043d\u0430 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e.</li>\n</ul>\n<h3 id=\"clickhouse-release-18-14-9-2018-10-16\">ClickHouse release 18.14.9, 2018-10-16<a class=\"headerlink\" href=\"#clickhouse-release-18-14-9-2018-10-16\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"novye-vozmozhnosti_5\">\u041d\u043e\u0432\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438:<a class=\"headerlink\" href=\"#novye-vozmozhnosti_5\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u041c\u043e\u0434\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 <code>WITH CUBE</code> \u0434\u043b\u044f <code>GROUP BY</code> (\u0442\u0430\u043a\u0436\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u0441\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441: <code>GROUP BY CUBE(...)</code>). <a href=\"https://github.com/yandex/ClickHouse/pull/3172\" rel=\"external nofollow\">#3172</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f <code>formatDateTime</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/2770\" rel=\"external nofollow\">Alexandr Krasheninnikov</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0434\u0432\u0438\u0436\u043e\u043a \u0442\u0430\u0431\u043b\u0438\u0446 <code>JDBC</code> \u0438 \u0442\u0430\u0431\u043b\u0438\u0447\u043d\u0430\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u044f <code>jdbc</code> (\u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 clickhouse-jdbc-bridge). <a href=\"https://github.com/yandex/ClickHouse/pull/3210\" rel=\"external nofollow\">Alexandr Krasheninnikov</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 ISO \u043d\u043e\u043c\u0435\u0440\u043e\u043c \u043d\u0435\u0434\u0435\u043b\u0438: <code>toISOWeek</code>, <code>toISOYear</code>, <code>toStartOfISOYear</code>, \u0430 \u0442\u0430\u043a\u0436\u0435 <code>toDayOfYear</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3146\" rel=\"external nofollow\">#3146</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432 \u0442\u0438\u043f\u0430 <code>Nullable</code> \u0434\u043b\u044f \u0442\u0430\u0431\u043b\u0438\u0446 \u0442\u0438\u043f\u0430 <code>MySQL</code>, <code>ODBC</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3362\" rel=\"external nofollow\">#3362</a></li>\n<li>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0447\u0442\u0435\u043d\u0438\u044f \u0432\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0445 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440 \u0434\u0430\u043d\u043d\u044b\u0445 \u043a\u0430\u043a \u0432\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0445 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 <code>JSONEachRow</code>. \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>input_format_import_nested_json</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3144\" rel=\"external nofollow\">Veloman Yunkan</a></li>\n<li>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u043e\u0439 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043c\u043d\u043e\u0433\u0438\u0445 <code>MATERIALIZED VIEW</code> \u043f\u0440\u0438 \u0432\u0441\u0442\u0430\u0432\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445. \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>parallel_view_processing</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3208\" rel=\"external nofollow\">Marek Vavru\u0161a</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0437\u0430\u043f\u0440\u043e\u0441 <code>SYSTEM FLUSH LOGS</code> (\u0444\u043e\u0440\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0441\u0431\u0440\u043e\u0441 \u043b\u043e\u0433\u043e\u0432 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0435 \u0442\u0430\u0431\u043b\u0438\u0446\u044b, \u0442\u0430\u043a\u0438\u0435 \u043a\u0430\u043a \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, <code>query_log</code>) <a href=\"https://github.com/yandex/ClickHouse/pull/3321\" rel=\"external nofollow\">#3321</a></li>\n<li>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u0440\u0435\u0434\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0451\u043d\u043d\u044b\u0445 \u043c\u0430\u043a\u0440\u043e\u0441\u043e\u0432 <code>database</code> \u0438 <code>table</code> \u0432 \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0438 <code>Replicated</code> \u0442\u0430\u0431\u043b\u0438\u0446. <a href=\"https://github.com/yandex/ClickHouse/pull/3251\" rel=\"external nofollow\">#3251</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0447\u0442\u0435\u043d\u0438\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0442\u0438\u043f\u0430 <code>Decimal</code> \u0432 \u0438\u043d\u0436\u0435\u043d\u0435\u0440\u043d\u043e\u0439 \u043d\u043e\u0442\u0430\u0446\u0438\u0438 (\u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0435\u043c \u0434\u0435\u0441\u044f\u0442\u0438\u0447\u043d\u043e\u0439 \u044d\u043a\u0441\u043f\u043e\u043d\u0435\u043d\u0442\u044b). <a href=\"https://github.com/yandex/ClickHouse/pull/3153\" rel=\"external nofollow\">#3153</a></li>\n</ul>\n<h4 id=\"eksperimentalnye-vozmozhnosti_2\">\u042d\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u0430\u043b\u044c\u043d\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438:<a class=\"headerlink\" href=\"#eksperimentalnye-vozmozhnosti_2\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u041e\u043f\u0442\u0438\u043c\u0438\u0437\u0430\u0446\u0438\u044f GROUP BY \u0434\u043b\u044f \u0442\u0438\u043f\u043e\u0432 \u0434\u0430\u043d\u043d\u044b\u0445 <code>LowCardinality</code> <a href=\"https://github.com/yandex/ClickHouse/pull/3138\" rel=\"external nofollow\">#3138</a></li>\n<li>\u041e\u043f\u0442\u0438\u043c\u0438\u0437\u0430\u0446\u0438\u0438 \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u0434\u043b\u044f \u0442\u0438\u043f\u043e\u0432 \u0434\u0430\u043d\u043d\u044b\u0445 <code>LowCardinality</code> <a href=\"https://github.com/yandex/ClickHouse/pull/3200\" rel=\"external nofollow\">#3200</a></li>\n</ul>\n<h4 id=\"uluchsheniia_8\">\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f:<a class=\"headerlink\" href=\"#uluchsheniia_8\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0421\u0443\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u043e \u0443\u043c\u0435\u043d\u044c\u0448\u0435\u043d\u043e \u043f\u043e\u0442\u0440\u0435\u0431\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u043c\u044f\u0442\u0438 \u0434\u043b\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0441 <code>ORDER BY</code> \u0438 <code>LIMIT</code>. \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>max_bytes_before_remerge_sort</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3205\" rel=\"external nofollow\">#3205</a></li>\n<li>\u041f\u0440\u0438 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u0438 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u044f \u0442\u0438\u043f\u0430 <code>JOIN</code> (<code>LEFT</code>, <code>INNER</code>, ...), \u043f\u043e\u0434\u0440\u0430\u0437\u0443\u043c\u0435\u0432\u0430\u0435\u0442\u0441\u044f <code>INNER JOIN</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3147\" rel=\"external nofollow\">#3147</a></li>\n<li>\u041a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u043a\u0432\u0430\u043b\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u0437\u0432\u0451\u0437\u0434\u043e\u0447\u0435\u043a \u0432 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445 \u0441 <code>JOIN</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3202\" rel=\"external nofollow\">Winter Zhang</a></li>\n<li>\u0414\u0432\u0438\u0436\u043e\u043a \u0442\u0430\u0431\u043b\u0438\u0446 <code>ODBC</code> \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u0432\u044b\u0431\u0438\u0440\u0430\u0435\u0442 \u0441\u043f\u043e\u0441\u043e\u0431 \u043a\u0432\u043e\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u043e\u0432 \u0432 SQL \u0434\u0438\u0430\u043b\u0435\u043a\u0442\u0435 \u0443\u0434\u0430\u043b\u0451\u043d\u043d\u043e\u0439 \u0421\u0423\u0411\u0414. <a href=\"https://github.com/yandex/ClickHouse/pull/3210\" rel=\"external nofollow\">Alexandr Krasheninnikov</a></li>\n<li>\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>compile_expressions</code> (JIT \u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u044f \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0439) \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0430 \u043f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u043f\u0440\u0438 \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u043c DROP DATABASE/TABLE IF EXISTS \u0438 CREATE DATABASE/TABLE IF NOT EXISTS. \u0420\u0430\u043d\u0435\u0435 \u0437\u0430\u043f\u0440\u043e\u0441 <code>CREATE DATABASE ... IF NOT EXISTS</code> \u043c\u043e\u0433 \u0432\u044b\u0434\u0430\u0432\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0435 \u0432\u0438\u0434\u0430 \"File ... already exists\", \u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u044b <code>CREATE TABLE ... IF NOT EXISTS</code> \u0438 <code>DROP TABLE IF EXISTS</code> \u043c\u043e\u0433\u043b\u0438 \u0432\u044b\u0434\u0430\u0432\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 <code>Table ... is creating or attaching right now</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3101\" rel=\"external nofollow\">#3101</a></li>\n<li>\u0412\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f LIKE \u0438 IN \u0441 \u043a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u043d\u043e\u0439 \u043f\u0440\u0430\u0432\u043e\u0439 \u0447\u0430\u0441\u0442\u044c\u044e \u043f\u0440\u043e\u0431\u0440\u0430\u0441\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u043d\u0430 \u0443\u0434\u0430\u043b\u0451\u043d\u043d\u044b\u0439 \u0441\u0435\u0440\u0432\u0435\u0440 \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445 \u0438\u0437 \u0442\u0430\u0431\u043b\u0438\u0446 \u0442\u0438\u043f\u0430 MySQL \u0438 ODBC. <a href=\"https://github.com/yandex/ClickHouse/pull/3182\" rel=\"external nofollow\">#3182</a></li>\n<li>\u0421\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044f \u0441 \u043a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u043d\u044b\u043c\u0438 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f\u043c\u0438 \u0432 \u0441\u0435\u043a\u0446\u0438\u0438 WHERE \u043f\u0440\u043e\u0431\u0440\u0430\u0441\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u043d\u0430 \u0443\u0434\u0430\u043b\u0451\u043d\u043d\u044b\u0439 \u0441\u0435\u0440\u0432\u0435\u0440 \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445 \u0438\u0437 \u0442\u0430\u0431\u043b\u0438\u0446 \u0442\u0438\u043f\u0430 MySQL \u0438 ODBC. \u0420\u0430\u043d\u0435\u0435 \u043f\u0440\u043e\u0431\u0440\u0430\u0441\u044b\u0432\u0430\u043b\u0438\u0441\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044f \u0441 \u043a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u0430\u043c\u0438. <a href=\"https://github.com/yandex/ClickHouse/pull/3182\" rel=\"external nofollow\">#3182</a></li>\n<li>\u041a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0435 \u0448\u0438\u0440\u0438\u043d\u044b \u0441\u0442\u0440\u043e\u043a \u0432 \u0442\u0435\u0440\u043c\u0438\u043d\u0430\u043b\u0435 \u0434\u043b\u044f <code>Pretty</code> \u0444\u043e\u0440\u043c\u0430\u0442\u043e\u0432, \u0432 \u0442\u043e\u043c \u0447\u0438\u0441\u043b\u0435 \u0434\u043b\u044f \u0441\u0442\u0440\u043e\u043a \u0441 \u0438\u0435\u0440\u043e\u0433\u043b\u0438\u0444\u0430\u043c\u0438. <a href=\"https://github.com/yandex/ClickHouse/pull/3257\" rel=\"external nofollow\">Amos Bird</a>.</li>\n<li>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u044f <code>ON CLUSTER</code> \u0434\u043b\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 <code>ALTER UPDATE</code>.</li>\n<li>\u0423\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0447\u0442\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 <code>JSONEachRow</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3332\" rel=\"external nofollow\">#3332</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0441\u0438\u043d\u043e\u043d\u0438\u043c\u044b \u0444\u0443\u043d\u043a\u0446\u0438\u0439 <code>LENGTH</code>, <code>CHARACTER_LENGTH</code> \u0434\u043b\u044f \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u0438. \u0424\u0443\u043d\u043a\u0446\u0438\u044f <code>CONCAT</code> \u0441\u0442\u0430\u043b\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u043e\u043d\u0435\u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0439. <a href=\"https://github.com/yandex/ClickHouse/pull/3306\" rel=\"external nofollow\">#3306</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0441\u0438\u043d\u043e\u043d\u0438\u043c <code>TIMESTAMP</code> \u0434\u043b\u044f \u0442\u0438\u043f\u0430 <code>DateTime</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3390\" rel=\"external nofollow\">#3390</a></li>\n<li>\u0412 \u043b\u043e\u0433\u0430\u0445 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0432\u0441\u0435\u0433\u0434\u0430 \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u043c\u0435\u0441\u0442\u043e \u0434\u043b\u044f query_id, \u0434\u0430\u0436\u0435 \u0435\u0441\u043b\u0438 \u0441\u0442\u0440\u043e\u0447\u043a\u0430 \u043b\u043e\u0433\u0430 \u043d\u0435 \u043e\u0442\u043d\u043e\u0441\u0438\u0442\u0441\u044f \u043a \u0437\u0430\u043f\u0440\u043e\u0441\u0443. \u042d\u0442\u043e \u0441\u0434\u0435\u043b\u0430\u043d\u043e \u0434\u043b\u044f \u0431\u043e\u043b\u0435\u0435 \u043f\u0440\u043e\u0441\u0442\u043e\u0433\u043e \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0430 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0445 \u043b\u043e\u0433\u043e\u0432 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0441\u0442\u043e\u0440\u043e\u043d\u043d\u0438\u043c\u0438 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u0430\u043c\u0438.</li>\n<li>\u041b\u043e\u0433\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0442\u0440\u0435\u0431\u043b\u0435\u043d\u0438\u044f \u043f\u0430\u043c\u044f\u0442\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u043c \u043f\u0440\u0438 \u043f\u0440\u0435\u0432\u044b\u0448\u0435\u043d\u0438\u0438 \u043e\u0447\u0435\u0440\u0435\u0434\u043d\u043e\u0439 \u043e\u0442\u043c\u0435\u0442\u043a\u0438 \u0446\u0435\u043b\u043e\u0433\u043e \u0447\u0438\u0441\u043b\u0430 \u0433\u0438\u0433\u0430\u0431\u0430\u0439\u0442. <a href=\"https://github.com/yandex/ClickHouse/pull/3205\" rel=\"external nofollow\">#3205</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0440\u0435\u0436\u0438\u043c \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u0438 \u0434\u043b\u044f \u0441\u043b\u0443\u0447\u0430\u044f, \u043a\u043e\u0433\u0434\u0430 \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0430\u044f \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430, \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0449\u0430\u044f \u043f\u043e Native \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\u0443, \u043f\u043e \u043e\u0448\u0438\u0431\u043a\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442 \u043c\u0435\u043d\u044c\u0448\u0435\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432, \u0447\u0435\u043c \u0441\u0435\u0440\u0432\u0435\u0440 \u043e\u0436\u0438\u0434\u0430\u0435\u0442 \u0434\u043b\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 INSERT. \u0422\u0430\u043a\u043e\u0439 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439 \u0431\u044b\u043b \u0432\u043e\u0437\u043c\u043e\u0436\u0435\u043d \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 clickhouse-cpp. \u0420\u0430\u043d\u0435\u0435 \u044d\u0442\u043e\u0442 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u0439 \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u043b \u043a \u043f\u0430\u0434\u0435\u043d\u0438\u044e \u0441\u0435\u0440\u0432\u0435\u0440\u0430. <a href=\"https://github.com/yandex/ClickHouse/pull/3171\" rel=\"external nofollow\">#3171</a></li>\n<li>\u0412 <code>clickhouse-copier</code>, \u0432 \u0437\u0430\u0434\u0430\u0432\u0430\u0435\u043c\u043e\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0438 WHERE, \u043f\u043e\u044f\u0432\u0438\u043b\u0430\u0441\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0430\u043b\u0438\u0430\u0441 <code>partition_key</code> (\u0434\u043b\u044f \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u0438 \u043f\u043e \u043f\u0430\u0440\u0442\u0438\u0446\u0438\u044f\u043c \u0438\u0441\u0445\u043e\u0434\u043d\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u044b). \u042d\u0442\u043e \u043f\u043e\u043b\u0435\u0437\u043d\u043e, \u0435\u0441\u043b\u0438 \u0441\u0445\u0435\u043c\u0430 \u043f\u0430\u0440\u0442\u0438\u0446\u0438\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0438\u0437\u043c\u0435\u043d\u044f\u0435\u0442\u0441\u044f \u043f\u0440\u0438 \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0438, \u043d\u043e \u0438\u0437\u043c\u0435\u043d\u044f\u0435\u0442\u0441\u044f \u043d\u0435\u0437\u043d\u0430\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u043e. <a href=\"https://github.com/yandex/ClickHouse/pull/3166\" rel=\"external nofollow\">#3166</a></li>\n<li>\u0420\u0430\u0431\u043e\u0447\u0438\u0439 \u043f\u043e\u0442\u043e\u043a \u0434\u0432\u0438\u0436\u043a\u0430 <code>Kafka</code> \u043f\u0435\u0440\u0435\u043d\u0435\u0441\u0451\u043d \u0432 \u0444\u043e\u043d\u043e\u0432\u044b\u0439 \u043f\u0443\u043b \u043f\u043e\u0442\u043e\u043a\u043e\u0432 \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0443\u043c\u0435\u043d\u044c\u0448\u0430\u0442\u044c \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0447\u0442\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u0440\u0438 \u0431\u043e\u043b\u044c\u0448\u043e\u0439 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0435. <a href=\"https://github.com/yandex/ClickHouse/pull/3215\" rel=\"external nofollow\">Marek Vavru\u0161a</a>.</li>\n<li>\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0447\u0442\u0435\u043d\u0438\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u0442\u0438\u043f\u0430 <code>Tuple</code> \u0438 <code>Nested</code> \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440 \u043a\u0430\u043a <code>struct</code> \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 <code>Cap'n'Proto</code> <a href=\"https://github.com/yandex/ClickHouse/pull/3216\" rel=\"external nofollow\">Marek Vavru\u0161a</a>.</li>\n<li>\u0412 \u0441\u043f\u0438\u0441\u043e\u043a \u0434\u043e\u043c\u0435\u043d\u043e\u0432 \u0432\u0435\u0440\u0445\u043d\u0435\u0433\u043e \u0443\u0440\u043e\u0432\u043d\u044f \u0434\u043b\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>firstSignificantSubdomain</code> \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0434\u043e\u043c\u0435\u043d <code>biz</code> <a href=\"https://github.com/yandex/ClickHouse/pull/3219\" rel=\"external nofollow\">decaseal</a>.</li>\n<li>\u0412 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0432\u043d\u0435\u0448\u043d\u0438\u0445 \u0441\u043b\u043e\u0432\u0430\u0440\u0435\u0439, \u043f\u0443\u0441\u0442\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 <code>null_value</code> \u0438\u043d\u0442\u0435\u0440\u043f\u0440\u0435\u0442\u0438\u0440\u0443\u0435\u0442\u0441\u044f, \u043a\u0430\u043a \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0442\u0438\u043f\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e-\u0443\u043c\u043e\u043b\u0430\u043d\u0438\u044e. <a href=\"https://github.com/yandex/ClickHouse/pull/3330\" rel=\"external nofollow\">#3330</a></li>\n<li>\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 <code>intDiv</code>, <code>intDivOrZero</code> \u0434\u043b\u044f <code>Decimal</code>. <a href=\"https://github.com/yandex/ClickHouse/commit/b48402e8712e2b9b151e0eef8193811d433a1264\" rel=\"external nofollow\">b48402e8</a></li>\n<li>\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0442\u0438\u043f\u043e\u0432 <code>Date</code>, <code>DateTime</code>, <code>UUID</code>, <code>Decimal</code> \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u043a\u043b\u044e\u0447\u0430 \u0434\u043b\u044f \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>sumMap</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3281\" rel=\"external nofollow\">#3281</a></li>\n<li>\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0442\u0438\u043f\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 <code>Decimal</code> \u0432\u043e \u0432\u043d\u0435\u0448\u043d\u0438\u0445 \u0441\u043b\u043e\u0432\u0430\u0440\u044f\u0445. <a href=\"https://github.com/yandex/ClickHouse/pull/3324\" rel=\"external nofollow\">#3324</a></li>\n<li>\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0442\u0438\u043f\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 <code>Decimal</code> \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0430\u0445 \u0442\u0438\u043f\u0430 <code>SummingMergeTree</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3348\" rel=\"external nofollow\">#3348</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0434\u043b\u044f <code>UUID</code> \u0432 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>if</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3366\" rel=\"external nofollow\">#3366</a></li>\n<li>\u0423\u043c\u0435\u043d\u044c\u0448\u0435\u043d\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0445 \u0432\u044b\u0437\u043e\u0432\u043e\u0432 <code>open</code>, <code>close</code> \u043f\u0440\u0438 \u0447\u0442\u0435\u043d\u0438\u0438 \u0438\u0437 \u0442\u0430\u0431\u043b\u0438\u0446 \u0441\u0435\u043c\u0435\u0439\u0441\u0442\u0432\u0430 <code>MergeTree</code> <a href=\"https://github.com/yandex/ClickHouse/pull/3283\" rel=\"external nofollow\">#3283</a>.</li>\n<li>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 <code>TRUNCATE TABLE</code> \u043d\u0430 \u043b\u044e\u0431\u043e\u0439 \u0440\u0435\u043f\u043b\u0438\u043a\u0435 (\u0437\u0430\u043f\u0440\u043e\u0441 \u043f\u0440\u043e\u0431\u0440\u0430\u0441\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043d\u0430 \u0440\u0435\u043f\u043b\u0438\u043a\u0443-\u043b\u0438\u0434\u0435\u0440\u0430). <a href=\"https://github.com/yandex/ClickHouse/pull/3375\" rel=\"external nofollow\">Kirill Shvakov</a></li>\n</ul>\n<h4 id=\"ispravlenie-oshibok_4\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0448\u0438\u0431\u043e\u043a:<a class=\"headerlink\" href=\"#ispravlenie-oshibok_4\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0440\u0430\u0431\u043e\u0442\u0435 \u0442\u0430\u0431\u043b\u0438\u0446 \u0442\u0438\u043f\u0430 <code>Dictionary</code> \u0434\u043b\u044f \u0441\u043b\u043e\u0432\u0430\u0440\u0435\u0439 \u0442\u0438\u043f\u0430 <code>range_hashed</code>. \u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u0432 \u0432\u0435\u0440\u0441\u0438\u0438 18.12.17. <a href=\"https://github.com/yandex/ClickHouse/pull/1702\" rel=\"external nofollow\">#1702</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0441\u043b\u043e\u0432\u0430\u0440\u0435\u0439 \u0442\u0438\u043f\u0430 <code>range_hashed</code> (\u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 <code>Unsupported type Nullable(...)</code>). \u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u0432 \u0432\u0435\u0440\u0441\u0438\u0438 18.12.17. <a href=\"https://github.com/yandex/ClickHouse/pull/3362\" rel=\"external nofollow\">#3362</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>pointInPolygon</code> \u0438\u0437-\u0437\u0430 \u043d\u0430\u043a\u043e\u043f\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u0433\u0440\u0435\u0448\u043d\u043e\u0441\u0442\u0438 \u043f\u0440\u0438 \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f\u0445 \u0434\u043b\u044f \u043f\u043e\u043b\u0438\u0433\u043e\u043d\u043e\u0432 \u0441 \u0431\u043e\u043b\u044c\u0448\u0438\u043c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u043c \u0431\u043b\u0438\u0437\u043a\u043e \u0440\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0445 \u0432\u0435\u0440\u0448\u0438\u043d. <a href=\"https://github.com/yandex/ClickHouse/pull/3331\" rel=\"external nofollow\">#3331</a> <a href=\"https://github.com/yandex/ClickHouse/pull/3341\" rel=\"external nofollow\">#3341</a></li>\n<li>\u0415\u0441\u043b\u0438 \u043f\u043e\u0441\u043b\u0435 \u0441\u043b\u0438\u044f\u043d\u0438\u044f \u043a\u0443\u0441\u043a\u043e\u0432 \u0434\u0430\u043d\u043d\u044b\u0445, \u0443 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0438\u0440\u0443\u044e\u0449\u0435\u0433\u043e \u043a\u0443\u0441\u043a\u0430 \u0447\u0435\u043a\u0441\u0443\u043c\u043c\u0430 \u043e\u0442\u043b\u0438\u0447\u0430\u0435\u0442\u0441\u044f \u043e\u0442 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430 \u0442\u043e\u0433\u043e \u0436\u0435 \u0441\u043b\u0438\u044f\u043d\u0438\u044f \u043d\u0430 \u0434\u0440\u0443\u0433\u043e\u0439 \u0440\u0435\u043f\u043b\u0438\u043a\u0435, \u0442\u043e \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0441\u043b\u0438\u044f\u043d\u0438\u044f \u0443\u0434\u0430\u043b\u044f\u0435\u0442\u0441\u044f, \u0438 \u0432\u043c\u0435\u0441\u0442\u043e \u044d\u0442\u043e\u0433\u043e \u043a\u0443\u0441\u043e\u043a \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0441 \u0434\u0440\u0443\u0433\u043e\u0439 \u0440\u0435\u043f\u043b\u0438\u043a\u0438 (\u044d\u0442\u043e \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435). \u041d\u043e \u043f\u043e\u0441\u043b\u0435 \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u044f \u043a\u0443\u0441\u043a\u0430, \u043e\u043d \u043d\u0435 \u043c\u043e\u0433 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c\u0441\u044f \u0432 \u0440\u0430\u0431\u043e\u0447\u0438\u0439 \u043d\u0430\u0431\u043e\u0440 \u0438\u0437-\u0437\u0430 \u043e\u0448\u0438\u0431\u043a\u0438, \u0447\u0442\u043e \u043a\u0443\u0441\u043e\u043a \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 (\u0442\u0430\u043a \u043a\u0430\u043a \u043a\u0443\u0441\u043e\u043a \u043f\u043e\u0441\u043b\u0435 \u0441\u043b\u0438\u044f\u043d\u0438\u044f \u0443\u0434\u0430\u043b\u044f\u043b\u0441\u044f \u043d\u0435 \u0441\u0440\u0430\u0437\u0443, \u0430 \u0441 \u0437\u0430\u0434\u0435\u0440\u0436\u043a\u043e\u0439). \u042d\u0442\u043e \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u043b\u043e \u043a \u0446\u0438\u043a\u043b\u0438\u0447\u0435\u0441\u043a\u0438\u043c \u043f\u043e\u043f\u044b\u0442\u043a\u0430\u043c \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u044f \u043e\u0434\u043d\u0438\u0445 \u0438 \u0442\u0435\u0445 \u0436\u0435 \u0434\u0430\u043d\u043d\u044b\u0445. <a href=\"https://github.com/yandex/ClickHouse/pull/3194\" rel=\"external nofollow\">#3194</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0443\u0447\u0451\u0442 \u043e\u0431\u0449\u0435\u0433\u043e \u043f\u043e\u0442\u0440\u0435\u0431\u043b\u0435\u043d\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0439 \u043f\u0430\u043c\u044f\u0442\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u043c\u0438 (\u0447\u0442\u043e \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u043b\u043e \u043a \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 <code>max_memory_usage_for_all_queries</code> \u0438 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u043c\u0443 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044e \u043c\u0435\u0442\u0440\u0438\u043a\u0438 <code>MemoryTracking</code>). \u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u0432 \u0432\u0435\u0440\u0441\u0438\u0438 18.12.13. <a href=\"https://github.com/yandex/ClickHouse/pull/3344\" rel=\"external nofollow\">Marek Vavru\u0161a</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u043e\u0441\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 <code>CREATE TABLE ... ON CLUSTER ... AS SELECT ...</code> \u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u0432 \u0432\u0435\u0440\u0441\u0438\u0438 18.12.13. <a href=\"https://github.com/yandex/ClickHouse/pull/3247\" rel=\"external nofollow\">#3247</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043b\u0438\u0448\u043d\u044f\u044f \u043f\u043e\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043b\u044f <code>JOIN</code> \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435-\u0438\u043d\u0438\u0446\u0438\u0430\u0442\u043e\u0440\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430, \u0435\u0441\u043b\u0438 <code>JOIN</code> \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0430 \u0443\u0434\u0430\u043b\u0451\u043d\u043d\u044b\u0445 \u0441\u0435\u0440\u0432\u0435\u0440\u0430\u0445. <a href=\"https://github.com/yandex/ClickHouse/pull/3340\" rel=\"external nofollow\">#3340</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u043e\u0448\u0438\u0431\u043a\u0438 \u0432 \u0434\u0432\u0438\u0436\u043a\u0435 <code>Kafka</code>: \u043d\u0435\u0440\u0430\u0431\u043e\u0442\u043e\u0441\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442\u044c \u043f\u043e\u0441\u043b\u0435 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043f\u0440\u0438 \u043d\u0430\u0447\u0430\u043b\u0435 \u0447\u0442\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445; \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0438 <a href=\"https://github.com/yandex/ClickHouse/pull/3215\" rel=\"external nofollow\">Marek Vavru\u0161a</a>.</li>\n<li>\u0414\u043b\u044f \u0442\u0430\u0431\u043b\u0438\u0446 <code>Kafka</code> \u043d\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u043b\u0441\u044f \u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0439 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 <code>schema</code> (\u0441\u0445\u0435\u043c\u0430 \u0444\u043e\u0440\u043c\u0430\u0442\u0430 <code>Cap'n'Proto</code>). <a href=\"https://github.com/yandex/ClickHouse/pull/3150\" rel=\"external nofollow\">Vojtech Splichal</a></li>\n<li>\u0415\u0441\u043b\u0438 \u0430\u043d\u0441\u0430\u043c\u0431\u043b\u044c \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u0432 ZooKeeper \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u044e\u0442 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435, \u043d\u043e \u0441\u0440\u0430\u0437\u0443 \u0436\u0435 \u0440\u0430\u0437\u0440\u044b\u0432\u0430\u044e\u0442 \u0435\u0433\u043e \u0432\u043c\u0435\u0441\u0442\u043e \u043e\u0442\u0432\u0435\u0442\u0430 \u043d\u0430 \u0440\u0443\u043a\u043e\u043f\u043e\u0436\u0430\u0442\u0438\u0435, \u0442\u043e ClickHouse \u0432\u044b\u0431\u0438\u0440\u0430\u0435\u0442 \u0434\u043b\u044f \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f \u0434\u0440\u0443\u0433\u043e\u0439 \u0441\u0435\u0440\u0432\u0435\u0440. \u0420\u0430\u043d\u0435\u0435 \u0432 \u044d\u0442\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 <code>Cannot read all data. Bytes read: 0. Bytes expected: 4.</code> \u0438 \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0435 \u043c\u043e\u0433 \u0441\u0442\u0430\u0440\u0442\u043e\u0432\u0430\u0442\u044c. <a href=\"https://github.com/yandex/ClickHouse/commit/8218cf3a5f39a43401953769d6d12a0bb8d29da9\" rel=\"external nofollow\">8218cf3a</a></li>\n<li>\u0415\u0441\u043b\u0438 \u0430\u043d\u0441\u0430\u043c\u0431\u043b\u044c \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u0432 ZooKeeper \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u044b, \u0434\u043b\u044f \u043a\u043e\u0442\u043e\u0440\u044b\u0445 DNS \u0437\u0430\u043f\u0440\u043e\u0441 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u043e\u0448\u0438\u0431\u043a\u0443, \u0442\u043e \u0442\u0430\u043a\u0438\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u044b \u043f\u0440\u043e\u043f\u0443\u0441\u043a\u0430\u044e\u0442\u0441\u044f. <a href=\"https://github.com/yandex/ClickHouse/commit/17b8e209221061325ad7ba0539f03c6e65f87f29\" rel=\"external nofollow\">17b8e209</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u0438\u043f\u043e\u0432 \u043c\u0435\u0436\u0434\u0443 <code>Date</code> \u0438 <code>DateTime</code> \u043f\u0440\u0438 \u0432\u0441\u0442\u0430\u0432\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 <code>VALUES</code> (\u0432 \u0441\u043b\u0443\u0447\u0430\u0435, \u043a\u043e\u0433\u0434\u0430 <code>input_format_values_interpret_expressions = 1</code>). \u0420\u0430\u043d\u0435\u0435 \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u043b\u043e\u0441\u044c \u043c\u0435\u0436\u0434\u0443 \u0447\u0438\u0441\u043b\u043e\u0432\u044b\u043c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u043c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u0434\u043d\u0435\u0439 \u0441 \u043d\u0430\u0447\u0430\u043b\u0430 unix \u044d\u043f\u043e\u0445\u0438 \u0438 unix timestamp, \u0447\u0442\u043e \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u043b\u043e \u043a \u043d\u0435\u043e\u0436\u0438\u0434\u0430\u043d\u043d\u044b\u043c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430\u043c. <a href=\"https://github.com/yandex/ClickHouse/pull/3229\" rel=\"external nofollow\">#3229</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0442\u0438\u043f\u043e\u0432 \u043c\u0435\u0436\u0434\u0443 <code>Decimal</code> \u0438 \u0446\u0435\u043b\u044b\u043c\u0438 \u0447\u0438\u0441\u043b\u0430\u043c\u0438. <a href=\"https://github.com/yandex/ClickHouse/pull/3211\" rel=\"external nofollow\">#3211</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u043e\u0448\u0438\u0431\u043a\u0438 \u0432 \u0440\u0430\u0431\u043e\u0442\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 <code>enable_optimize_predicate_expression</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3231\" rel=\"external nofollow\">Winter Zhang</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0430 \u0444\u043e\u0440\u043c\u0430\u0442\u0430 CSV \u0441 \u0447\u0438\u0441\u043b\u0430\u043c\u0438 \u0441 \u043f\u043b\u0430\u0432\u0430\u044e\u0449\u0435\u0439 \u0437\u0430\u043f\u044f\u0442\u043e\u0439, \u0435\u0441\u043b\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0440\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u0435\u043b\u044c CSV \u043d\u0435 \u043f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e, \u0442\u0430\u043a\u043e\u0439 \u043a\u0430\u043a \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, <code>;</code> <a href=\"https://github.com/yandex/ClickHouse/pull/3155\" rel=\"external nofollow\">#3155</a>.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f <code>arrayCumSumNonNegative</code> (\u043e\u043d\u0430 \u043d\u0435 \u043d\u0430\u043a\u0430\u043f\u043b\u0438\u0432\u0430\u0435\u0442 \u043e\u0442\u0440\u0438\u0446\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f, \u0435\u0441\u043b\u0438 \u0430\u043a\u043a\u0443\u043c\u0443\u043b\u044f\u0442\u043e\u0440 \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0441\u044f \u043c\u0435\u043d\u044c\u0448\u0435 \u043d\u0443\u043b\u044f). <a href=\"https://github.com/yandex/ClickHouse/pull/3163\" rel=\"external nofollow\">Aleksey Studnev</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0430 <code>Merge</code> \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u043f\u043e\u0432\u0435\u0440\u0445 <code>Distributed</code> \u0442\u0430\u0431\u043b\u0438\u0446 \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 <code>PREWHERE</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3165\" rel=\"external nofollow\">#3165</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u0448\u0438\u0431\u043e\u043a \u0432 \u0437\u0430\u043f\u0440\u043e\u0441\u0435 <code>ALTER UPDATE</code>.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u0448\u0438\u0431\u043e\u043a \u0432 \u0442\u0430\u0431\u043b\u0438\u0447\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>odbc</code>, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0438 \u0432 \u0432\u0435\u0440\u0441\u0438\u0438 18.12. <a href=\"https://github.com/yandex/ClickHouse/pull/3197\" rel=\"external nofollow\">#3197</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0430 \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 \u0441 \u043a\u043e\u043c\u0431\u0438\u043d\u0430\u0442\u043e\u0440\u0430\u043c\u0438 <code>StateArray</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3188\" rel=\"external nofollow\">#3188</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0430\u0434\u0435\u043d\u0438\u0435 \u043f\u0440\u0438 \u0434\u0435\u043b\u0435\u043d\u0438\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0442\u0438\u043f\u0430 <code>Decimal</code> \u043d\u0430 \u043d\u043e\u043b\u044c. <a href=\"https://github.com/yandex/ClickHouse/commit/69dd6609193beb4e7acd3e6ad216eca0ccfb8179\" rel=\"external nofollow\">69dd6609</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u0432\u044b\u0432\u043e\u0434 \u0442\u0438\u043f\u043e\u0432 \u0434\u043b\u044f \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439 \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0442\u0438\u043f\u0430 <code>Decimal</code> \u0438 \u0446\u0435\u043b\u044b\u0445 \u0447\u0438\u0441\u0435\u043b. <a href=\"https://github.com/yandex/ClickHouse/pull/3224\" rel=\"external nofollow\">#3224</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d segfault \u043f\u0440\u0438 <code>GROUP BY</code> \u043f\u043e <code>Decimal128</code>. <a href=\"https://github.com/yandex/ClickHouse/commit/3359ba06c39fcd05bfdb87d6c64154819621e13a\" rel=\"external nofollow\">3359ba06</a></li>\n<li>\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>log_query_threads</code> (\u043b\u043e\u0433\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u043a\u0430\u0436\u0434\u043e\u043c \u043f\u043e\u0442\u043e\u043a\u0435 \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430) \u0442\u0435\u043f\u0435\u0440\u044c \u0438\u043c\u0435\u0435\u0442 \u044d\u0444\u0444\u0435\u043a\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u0435\u0441\u043b\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>log_queries</code> (\u043b\u043e\u0433\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445) \u0432\u044b\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0430 \u0432 1. \u0422\u0430\u043a \u043a\u0430\u043a \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>log_query_threads</code> \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0430 \u043f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e, \u0440\u0430\u043d\u0435\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043f\u043e\u0442\u043e\u043a\u0430\u0445 \u043b\u043e\u0433\u0433\u0438\u0440\u043e\u0432\u0430\u043b\u0430\u0441\u044c \u0434\u0430\u0436\u0435 \u0435\u0441\u043b\u0438 \u043b\u043e\u0433\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0432\u044b\u043a\u043b\u044e\u0447\u0435\u043d\u043e. <a href=\"https://github.com/yandex/ClickHouse/pull/3241\" rel=\"external nofollow\">#3241</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0451\u043d\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u0435 \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 quantiles (\u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0435 \u0432\u0438\u0434\u0430 <code>Not found column quantile...</code>). <a href=\"https://github.com/yandex/ClickHouse/commit/292a885533b8e3b41ce8993867069d14cbd5a664\" rel=\"external nofollow\">292a8855</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u0438 \u043f\u0440\u0438 \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u0435 \u043d\u0430 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u0432 \u0432\u0435\u0440\u0441\u0438\u0438 18.12.17 \u0438 \u0431\u043e\u043b\u0435\u0435 \u0441\u0442\u0430\u0440\u044b\u0445, \u043f\u0440\u0438\u0432\u043e\u0434\u044f\u0449\u0430\u044f \u043a \u0442\u043e\u043c\u0443, \u0447\u0442\u043e \u043f\u0440\u0438 \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0451\u043d\u043d\u044b\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445 \u0441 GROUP BY \u043f\u043e \u043a\u043b\u044e\u0447\u0430\u043c \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0438 \u043d\u0435 \u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0434\u043b\u0438\u043d\u044b, \u043f\u0440\u0438 \u0443\u0441\u043b\u043e\u0432\u0438\u0438, \u0447\u0442\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 \u0430\u0433\u0440\u0435\u0433\u0430\u0446\u0438\u0438 \u0431\u043e\u043b\u044c\u0448\u043e\u0435, \u043c\u043e\u0433\u043b\u0438 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0442\u044c\u0441\u044f \u043d\u0435 \u0434\u043e \u043a\u043e\u043d\u0446\u0430 \u0430\u0433\u0440\u0435\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 (\u043e\u0434\u043d\u0438 \u0438 \u0442\u0435 \u0436\u0435 \u043a\u043b\u044e\u0447\u0438 \u0430\u0433\u0440\u0435\u0433\u0430\u0446\u0438\u0438 \u0432 \u0434\u0432\u0443\u0445 \u0440\u0430\u0437\u043d\u044b\u0445 \u0441\u0442\u0440\u043e\u043a\u0430\u0445). <a href=\"https://github.com/yandex/ClickHouse/pull/3254\" rel=\"external nofollow\">#3254</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043f\u043e\u0434\u0441\u0442\u0430\u043d\u043e\u0432\u043e\u043a \u0432 <code>clickhouse-performance-test</code>, \u0435\u0441\u043b\u0438 \u0437\u0430\u043f\u0440\u043e\u0441 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u0447\u0430\u0441\u0442\u044c \u0438\u0437 \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u043d\u044b\u0445 \u0432 \u0442\u0435\u0441\u0442\u0435 \u043f\u043e\u0434\u0441\u0442\u0430\u043d\u043e\u0432\u043e\u043a. <a href=\"https://github.com/yandex/ClickHouse/pull/3263\" rel=\"external nofollow\">#3263</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 <code>FINAL</code> \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u043d\u043e \u0441 <code>PREWHERE</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3298\" rel=\"external nofollow\">#3298</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 <code>PREWHERE</code> \u043d\u0430\u0434 \u0441\u0442\u043e\u043b\u0431\u0446\u0430\u043c\u0438, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u043c\u0438 \u043f\u0440\u0438 <code>ALTER</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3298\" rel=\"external nofollow\">#3298</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u044f <code>arrayJoin</code> \u0434\u043b\u044f <code>DEFAULT</code>, <code>MATERIALIZED</code> \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0439. \u0420\u0430\u043d\u0435\u0435 \u043d\u0430\u043b\u0438\u0447\u0438\u0435 <code>arrayJoin</code> \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u043b\u043e \u043a \u043e\u0448\u0438\u0431\u043a\u0435 \u043f\u0440\u0438 \u0432\u0441\u0442\u0430\u0432\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445. <a href=\"https://github.com/yandex/ClickHouse/pull/3337\" rel=\"external nofollow\">#3337</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u044f <code>arrayJoin</code> \u0432 \u0441\u0435\u043a\u0446\u0438\u0438 <code>PREWHERE</code>. \u0420\u0430\u043d\u0435\u0435 \u044d\u0442\u043e \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u043b\u043e \u043a \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f\u043c \u0432\u0438\u0434\u0430 <code>Size ... doesn't match</code> \u0438\u043b\u0438 <code>Unknown compression method</code> \u043f\u0440\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432. <a href=\"https://github.com/yandex/ClickHouse/pull/3357\" rel=\"external nofollow\">#3357</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d segfault, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043c\u043e\u0433 \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u0442\u044c \u0432 \u0440\u0435\u0434\u043a\u0438\u0445 \u0441\u043b\u0443\u0447\u0430\u044f\u0445 \u043f\u043e\u0441\u043b\u0435 \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0430\u0446\u0438\u0438 - \u0437\u0430\u043c\u0435\u043d\u044b \u0446\u0435\u043f\u043e\u0447\u0435\u043a AND \u0438\u0437 \u0440\u0430\u0432\u0435\u043d\u0441\u0442\u0432\u0430 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u0430\u043c \u043d\u0430 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0435 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0435 IN. <a href=\"https://github.com/yandex/ClickHouse/pull/3339\" rel=\"external nofollow\">liuyimin-bytedance</a>.</li>\n<li>\u041c\u0435\u043b\u043a\u0438\u0435 \u0438\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f <code>clickhouse-benchmark</code>: \u0440\u0430\u043d\u0435\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043a\u043b\u0438\u0435\u043d\u0442\u0435 \u043d\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u043b\u0430\u0441\u044c \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440; \u0431\u043e\u043b\u0435\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043f\u043e\u0434\u0441\u0447\u0451\u0442 \u0447\u0438\u0441\u043b\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043d\u044b\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u043f\u0440\u0438 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0438 \u0440\u0430\u0431\u043e\u0442\u044b \u0438 \u0434\u043b\u044f \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f \u0447\u0438\u0441\u043b\u0430 \u0438\u0442\u0435\u0440\u0430\u0446\u0438\u0439. <a href=\"https://github.com/yandex/ClickHouse/pull/3351\" rel=\"external nofollow\">#3351</a> <a href=\"https://github.com/yandex/ClickHouse/pull/3352\" rel=\"external nofollow\">#3352</a></li>\n</ul>\n<h4 id=\"obratno-nesovmestimye-izmeneniia_4\">\u041e\u0431\u0440\u0430\u0442\u043d\u043e \u043d\u0435\u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u044b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f:<a class=\"headerlink\" href=\"#obratno-nesovmestimye-izmeneniia_4\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0423\u0434\u0430\u043b\u0435\u043d\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>allow_experimental_decimal_type</code>. \u0422\u0438\u043f \u0434\u0430\u043d\u043d\u044b\u0445 <code>Decimal</code> \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u0434\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e. <a href=\"https://github.com/yandex/ClickHouse/pull/3329\" rel=\"external nofollow\">#3329</a></li>\n</ul>\n<h3 id=\"clickhouse-release-18-12-17-2018-09-16\">ClickHouse release 18.12.17, 2018-09-16<a class=\"headerlink\" href=\"#clickhouse-release-18-12-17-2018-09-16\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"novye-vozmozhnosti_6\">\u041d\u043e\u0432\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438:<a class=\"headerlink\" href=\"#novye-vozmozhnosti_6\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li><code>invalidate_query</code> (\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0437\u0430\u0434\u0430\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441 \u0434\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0432\u043d\u0435\u0448\u043d\u0435\u0433\u043e \u0441\u043b\u043e\u0432\u0430\u0440\u044f) \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u0430 \u0434\u043b\u044f \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0430 <code>clickhouse</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3126\" rel=\"external nofollow\">#3126</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0442\u0438\u043f\u043e\u0432 \u0434\u0430\u043d\u043d\u044b\u0445 <code>UInt*</code>, <code>Int*</code>, <code>DateTime</code> (\u043d\u0430\u0440\u0430\u0432\u043d\u0435 \u0441 \u0442\u0438\u043f\u043e\u043c <code>Date</code>) \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u043a\u043b\u044e\u0447\u0430 \u0432\u043d\u0435\u0448\u043d\u0435\u0433\u043e \u0441\u043b\u043e\u0432\u0430\u0440\u044f \u0442\u0438\u043f\u0430 <code>range_hashed</code>, \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u044e\u0449\u0435\u0433\u043e \u0433\u0440\u0430\u043d\u0438\u0446\u044b \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u043e\u0432. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f <code>NULL</code> \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u043e\u0431\u043e\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043e\u0442\u043a\u0440\u044b\u0442\u043e\u0433\u043e \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u0430. <a href=\"https://github.com/yandex/ClickHouse/pull/3123\" rel=\"external nofollow\">Vasily Nemkov</a></li>\n<li>\u0414\u043b\u044f \u0442\u0438\u043f\u0430 <code>Decimal</code> \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 <code>var*</code>, <code>stddev*</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3129\" rel=\"external nofollow\">#3129</a></li>\n<li>\u0414\u043b\u044f \u0442\u0438\u043f\u0430 <code>Decimal</code> \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u043c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 (<code>exp</code>, <code>sin</code> \u0438 \u0442. \u043f.) <a href=\"https://github.com/yandex/ClickHouse/pull/3129\" rel=\"external nofollow\">#3129</a></li>\n<li>\u0412 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 <code>system.part_log</code> \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0441\u0442\u043e\u043b\u0431\u0435\u0446 <code>partition_id</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3089\" rel=\"external nofollow\">#3089</a></li>\n</ul>\n<h4 id=\"ispravlenie-oshibok_5\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0448\u0438\u0431\u043e\u043a:<a class=\"headerlink\" href=\"#ispravlenie-oshibok_5\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0430 <code>Merge</code> \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u043f\u043e\u0432\u0435\u0440\u0445 <code>Distributed</code> \u0442\u0430\u0431\u043b\u0438\u0446. <a href=\"https://github.com/yandex/ClickHouse/pull/3159\" rel=\"external nofollow\">Winter Zhang</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0435\u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c (\u043b\u0438\u0448\u043d\u044f\u044f \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044c \u043e\u0442 \u0432\u0435\u0440\u0441\u0438\u0438 <code>glibc</code>), \u043f\u0440\u0438\u0432\u043e\u0434\u044f\u0449\u0430\u044f \u043a \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0430 ClickHouse \u043d\u0430 <code>Ubuntu Precise</code> \u0438 \u0431\u043e\u043b\u0435\u0435 \u0441\u0442\u0430\u0440\u044b\u0445. \u041d\u0435\u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u0432 \u0432\u0435\u0440\u0441\u0438\u0438 18.12.13. <a href=\"https://github.com/yandex/ClickHouse/pull/3130\" rel=\"external nofollow\">#3130</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u043e\u0448\u0438\u0431\u043a\u0438 \u0432 \u0440\u0430\u0431\u043e\u0442\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 <code>enable_optimize_predicate_expression</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3107\" rel=\"external nofollow\">Winter Zhang</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043d\u0435\u0437\u043d\u0430\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u0435 \u043e\u0431\u0440\u0430\u0442\u043d\u043e\u0439 \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u0438, \u043f\u0440\u043e\u044f\u0432\u043b\u044f\u044e\u0449\u0435\u0435\u0441\u044f \u043f\u0440\u0438 \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u0435 \u043d\u0430 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0435 \u0440\u0435\u043f\u043b\u0438\u043a \u0432\u0435\u0440\u0441\u0438\u0439 \u0434\u043e 18.12.13 \u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043d\u043e\u0432\u043e\u0439 \u0440\u0435\u043f\u043b\u0438\u043a\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435 \u0431\u043e\u043b\u0435\u0435 \u043d\u043e\u0432\u043e\u0439 \u0432\u0435\u0440\u0441\u0438\u0438 (\u0432\u044b\u0434\u0430\u0451\u0442\u0441\u044f \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 <code>Can not clone replica, because the ... updated to new ClickHouse version</code>, \u0447\u0442\u043e \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u043b\u043e\u0433\u0438\u0447\u043d\u043e, \u043d\u043e \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442\u044c). <a href=\"https://github.com/yandex/ClickHouse/pull/3122\" rel=\"external nofollow\">#3122</a></li>\n</ul>\n<h4 id=\"obratno-nesovmestimye-izmeneniia_5\">\u041e\u0431\u0440\u0430\u0442\u043d\u043e \u043d\u0435\u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u044b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f:<a class=\"headerlink\" href=\"#obratno-nesovmestimye-izmeneniia_5\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>enable_optimize_predicate_expression</code> \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0430 \u043f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e, \u0447\u0442\u043e \u043a\u043e\u043d\u0435\u0447\u043d\u043e \u043e\u0447\u0435\u043d\u044c \u043e\u043f\u0442\u0438\u043c\u0438\u0441\u0442\u0438\u0447\u043d\u043e. \u041f\u0440\u0438 \u0432\u043e\u0437\u043d\u0438\u043a\u043d\u043e\u0432\u0435\u043d\u0438\u0438 \u043e\u0448\u0438\u0431\u043e\u043a \u0430\u043d\u0430\u043b\u0438\u0437\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0445 \u0441 \u043f\u043e\u0438\u0441\u043a\u043e\u043c \u0438\u043c\u0451\u043d \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432, \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0432\u044b\u0441\u0442\u0430\u0432\u0438\u0442\u044c <code>enable_optimize_predicate_expression</code> \u0432 0. <a href=\"https://github.com/yandex/ClickHouse/pull/3107\" rel=\"external nofollow\">Winter Zhang</a></li>\n</ul>\n<h3 id=\"clickhouse-release-18-12-14-2018-09-13\">ClickHouse release 18.12.14, 2018-09-13<a class=\"headerlink\" href=\"#clickhouse-release-18-12-14-2018-09-13\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"novye-vozmozhnosti_7\">\u041d\u043e\u0432\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438:<a class=\"headerlink\" href=\"#novye-vozmozhnosti_7\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 <code>ALTER UPDATE</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3035\" rel=\"external nofollow\">#3035</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>allow_ddl</code>, \u0443\u043f\u0440\u0430\u043b\u044f\u044e\u0449\u0430\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u043e\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043a DDL-\u0437\u0430\u043f\u0440\u043e\u0441\u0430\u043c. <a href=\"https://github.com/yandex/ClickHouse/pull/3104\" rel=\"external nofollow\">#3104</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>min_merge_bytes_to_use_direct_io</code> \u0434\u043b\u044f \u0434\u0432\u0438\u0436\u043a\u043e\u0432 \u0441\u0435\u043c\u0435\u0439\u0441\u0442\u0432\u0430 <code>MergeTree</code>, \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0449\u0430\u044f \u0437\u0430\u0434\u0430\u0442\u044c \u043f\u043e\u0440\u043e\u0433 \u043d\u0430 \u0441\u0443\u043c\u043c\u0430\u0440\u043d\u044b\u0439 \u0440\u0430\u0437\u043c\u0435\u0440 \u0441\u043b\u0438\u044f\u043d\u0438\u044f \u043f\u043e\u0441\u043b\u0435 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u0440\u0430\u0431\u043e\u0442\u0430 \u0441 \u0444\u0430\u0439\u043b\u0430\u043c\u0438 \u043a\u0443\u0441\u043a\u043e\u0432 \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442\u044c \u0441 O_DIRECT. <a href=\"https://github.com/yandex/ClickHouse/pull/3117\" rel=\"external nofollow\">#3117</a></li>\n<li>\u0412 \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u0443\u044e \u0442\u0430\u0431\u043b\u0438\u0446\u0443 <code>system.merges</code> \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0441\u0442\u043e\u043b\u0431\u0435\u0446 <code>partition_id</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3099\" rel=\"external nofollow\">#3099</a></li>\n</ul>\n<h4 id=\"uluchsheniia_9\">\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f<a class=\"headerlink\" href=\"#uluchsheniia_9\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0415\u0441\u043b\u0438 \u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 \u043c\u0443\u0442\u0430\u0446\u0438\u0438 \u043a\u0443\u0441\u043e\u043a \u043e\u0441\u0442\u0430\u043b\u0441\u044f \u043d\u0435\u0438\u0437\u043c\u0435\u043d\u0451\u043d\u043d\u044b\u043c, \u043e\u043d \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u0441\u043a\u0430\u0447\u0430\u043d \u0440\u0435\u043f\u043b\u0438\u043a\u0430\u043c\u0438. <a href=\"https://github.com/yandex/ClickHouse/pull/3103\" rel=\"external nofollow\">#3103</a></li>\n<li>\u041f\u0440\u0438 \u0440\u0430\u0431\u043e\u0442\u0435 \u0441 <code>clickhouse-client</code> \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u0430\u0432\u0442\u043e\u0434\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u0438\u043c\u0451\u043d \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a. <a href=\"https://github.com/yandex/ClickHouse/pull/3106\" rel=\"external nofollow\">#3106</a></li>\n</ul>\n<h4 id=\"ispravlenie-oshibok_6\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0448\u0438\u0431\u043e\u043a<a class=\"headerlink\" href=\"#ispravlenie-oshibok_6\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u0432 \u043c\u0430\u0441\u0441\u0438\u0432\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u044f\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430\u043c\u0438 \u043f\u043e\u043b\u0435\u0439 \u0442\u0438\u043f\u0430 <code>Nested</code>, \u043f\u0440\u0438 \u0432\u0441\u0442\u0430\u0432\u043a\u0435. <a href=\"https://github.com/yandex/ClickHouse/pull/3118\" rel=\"external nofollow\">#3118</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0432\u043d\u0435\u0448\u043d\u0438\u0445 \u0441\u043b\u043e\u0432\u0430\u0440\u0435\u0439 \u0441 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u043e\u043c <code>ODBC</code> \u0438 \u0444\u043e\u0440\u043c\u0430\u0442\u043e\u043c \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f <code>hashed</code>. \u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u0432 \u0432\u0435\u0440\u0441\u0438\u0438 18.12.13.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0430\u0434\u0435\u043d\u0438\u0435 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0438\u0437 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0441 \u0443\u0441\u043b\u043e\u0432\u0438\u0435\u043c <code>IN</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3098\" rel=\"external nofollow\">Winter Zhang</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0440\u0430\u0431\u043e\u0442\u0435 \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 \u0434\u043b\u044f \u043c\u0430\u0441\u0441\u0438\u0432\u043e\u0432, \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430\u043c\u0438 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c <code>NULL</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3097\" rel=\"external nofollow\">Winter Zhang</a></li>\n</ul>\n<h3 id=\"clickhouse-release-18-12-13-2018-09-10\">ClickHouse release 18.12.13, 2018-09-10<a class=\"headerlink\" href=\"#clickhouse-release-18-12-13-2018-09-10\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"novye-vozmozhnosti_8\">\u041d\u043e\u0432\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438:<a class=\"headerlink\" href=\"#novye-vozmozhnosti_8\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0442\u0438\u043f \u0434\u0430\u043d\u043d\u044b\u0445 <code>DECIMAL(digits, scale)</code> (<code>Decimal32(scale)</code>, <code>Decimal64(scale)</code>, <code>Decimal128(scale)</code>). \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u043f\u043e\u0434 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u043e\u0439 <code>allow_experimental_decimal_type</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/2846\" rel=\"external nofollow\">#2846</a> <a href=\"https://github.com/yandex/ClickHouse/pull/2970\" rel=\"external nofollow\">#2970</a> <a href=\"https://github.com/yandex/ClickHouse/pull/3008\" rel=\"external nofollow\">#3008</a> <a href=\"https://github.com/yandex/ClickHouse/pull/3047\" rel=\"external nofollow\">#3047</a></li>\n<li>\u041c\u043e\u0434\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 <code>WITH ROLLUP</code> \u0434\u043b\u044f <code>GROUP BY</code> (\u0442\u0430\u043a\u0436\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u0441\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441: <code>GROUP BY ROLLUP(...)</code>). <a href=\"https://github.com/yandex/ClickHouse/pull/2948\" rel=\"external nofollow\">#2948</a></li>\n<li>\u0412 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445 \u0441 JOIN, \u0437\u0432\u0451\u0437\u0434\u043e\u0447\u043a\u0430 \u0440\u0430\u0441\u043a\u0440\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0432 \u0441\u043f\u0438\u0441\u043e\u043a \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432 \u0432\u0441\u0435\u0445 \u0442\u0430\u0431\u043b\u0438\u0446, \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438 \u0441\u043e \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043e\u043c SQL. \u0412\u0435\u0440\u043d\u0443\u0442\u044c \u0441\u0442\u0430\u0440\u043e\u0435 \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u043c\u043e\u0436\u043d\u043e, \u0432\u044b\u0441\u0442\u0430\u0432\u0438\u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0443 (\u0443\u0440\u043e\u0432\u043d\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f) <code>asterisk_left_columns_only</code> \u0432 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 1. <a href=\"https://github.com/yandex/ClickHouse/pull/2787\" rel=\"external nofollow\">Winter Zhang</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 JOIN \u0441 \u0442\u0430\u0431\u043b\u0438\u0447\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0435\u0439. <a href=\"https://github.com/yandex/ClickHouse/pull/2907\" rel=\"external nofollow\">Winter Zhang</a></li>\n<li>\u0410\u0432\u0442\u043e\u0434\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u043f\u043e \u043d\u0430\u0436\u0430\u0442\u0438\u044e Tab \u0432 clickhouse-client. <a href=\"https://github.com/yandex/ClickHouse/pull/2447\" rel=\"external nofollow\">Sergey Shcherbin</a></li>\n<li>\u041d\u0430\u0436\u0430\u0442\u0438\u0435 Ctrl+C \u0432 clickhouse-client \u043e\u0447\u0438\u0449\u0430\u0435\u0442 \u0437\u0430\u043f\u0440\u043e\u0441, \u0435\u0441\u043b\u0438 \u043e\u043d \u0431\u044b\u043b \u0432\u0432\u0435\u0434\u0451\u043d. <a href=\"https://github.com/yandex/ClickHouse/pull/2877\" rel=\"external nofollow\">#2877</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>join_default_strictness</code> (\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f <code>''</code>, <code>'any'</code>, <code>'all'</code>). \u0415\u0451 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043d\u0435 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c <code>ANY</code> \u0438\u043b\u0438 <code>ALL</code> \u0434\u043b\u044f <code>JOIN</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/2982\" rel=\"external nofollow\">#2982</a></li>\n<li>\u0412 \u043a\u0430\u0436\u0434\u043e\u0439 \u0441\u0442\u0440\u043e\u0447\u043a\u0435 \u043b\u043e\u0433\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430, \u043e\u0442\u043d\u043e\u0441\u044f\u0449\u0435\u0439\u0441\u044f \u043a \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430, \u0432\u044b\u0432\u043e\u0434\u0438\u0442\u0441\u044f \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043f\u0440\u043e\u0441\u0430. <a href=\"https://github.com/yandex/ClickHouse/pull/2482\" rel=\"external nofollow\">#2482</a></li>\n<li>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043b\u043e\u0433\u043e\u0432 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0432 clickhouse-client (\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>send_logs_level</code>). \u041f\u0440\u0438 \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0451\u043d\u043d\u043e\u0439 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430, \u043b\u043e\u0433\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u043a\u0430\u0441\u043a\u0430\u0434\u043d\u043e \u0441\u043e \u0432\u0441\u0435\u0445 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u0432. <a href=\"https://github.com/yandex/ClickHouse/pull/2482\" rel=\"external nofollow\">#2482</a></li>\n<li>\u0412 \u0442\u0430\u0431\u043b\u0438\u0446\u0430\u0445 <code>system.query_log</code> \u0438 <code>system.processes</code> (<code>SHOW PROCESSLIST</code>) \u043f\u043e\u044f\u0432\u0438\u043b\u0430\u0441\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0432\u0441\u0435\u0445 \u0438\u0437\u043c\u0435\u043d\u0451\u043d\u043d\u044b\u0445 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 \u043f\u0440\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 (\u0432\u043b\u043e\u0436\u0435\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 <code>Settings</code>). \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>log_query_settings</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/2482\" rel=\"external nofollow\">#2482</a></li>\n<li>\u0412 \u0442\u0430\u0431\u043b\u0438\u0446\u0430\u0445 <code>system.query_log</code> \u0438 <code>system.processes</code> \u043f\u043e\u044f\u0432\u0438\u043b\u0430\u0441\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043d\u043e\u043c\u0435\u0440\u0430\u0445 \u043f\u043e\u0442\u043e\u043a\u043e\u0432, \u0443\u0447\u0430\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u0432 \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 (\u0441\u0442\u043e\u043b\u0431\u0435\u0446 <code>thread_numbers</code>). <a href=\"https://github.com/yandex/ClickHouse/pull/2482\" rel=\"external nofollow\">#2482</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0441\u0447\u0451\u0442\u0447\u0438\u043a\u0438 <code>ProfileEvents</code>, \u0438\u0437\u043c\u0435\u0440\u044f\u044e\u0449\u0438\u0435 \u0432\u0440\u0435\u043c\u044f, \u043f\u043e\u0442\u0440\u0430\u0447\u0435\u043d\u043d\u043e\u0435 \u043d\u0430 \u0447\u0442\u0435\u043d\u0438\u0435 \u0438 \u0437\u0430\u043f\u0438\u0441\u044c \u043f\u043e \u0441\u0435\u0442\u0438; \u0447\u0442\u0435\u043d\u0438\u0435 \u0438 \u0437\u0430\u043f\u0438\u0441\u044c \u043d\u0430 \u0434\u0438\u0441\u043a; \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0435\u0442\u0435\u0432\u044b\u0445 \u043e\u0448\u0438\u0431\u043e\u043a; \u0432\u0440\u0435\u043c\u044f \u043f\u043e\u0442\u0440\u0430\u0447\u0435\u043d\u043d\u043e\u0435 \u043d\u0430 \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u0438 \u043f\u0440\u0438 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0438 \u0441\u0435\u0442\u0435\u0432\u043e\u0439 \u043f\u043e\u043b\u043e\u0441\u044b. <a href=\"https://github.com/yandex/ClickHouse/pull/2482\" rel=\"external nofollow\">#2482</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0441\u0447\u0451\u0442\u0447\u0438\u043a\u0438 <code>ProfileEvents</code>, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0438\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0435 \u043c\u0435\u0442\u0440\u0438\u043a\u0438 \u0438\u0437 rusage (\u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0449\u0438\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e\u0431 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 CPU \u0432 userspace \u0438 \u044f\u0434\u0440\u0435, page faults, context switches) \u0430 \u0442\u0430\u043a\u0436\u0435 \u043c\u0435\u0442\u0440\u0438\u043a\u0438 taskstats (\u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0449\u0438\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f IO, CPU, \u0430 \u0442\u0430\u043a\u0436\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u043d\u043d\u044b\u0445 \u0438 \u0437\u0430\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u0441 \u0443\u0447\u0451\u0442\u043e\u043c \u0438 \u0431\u0435\u0437 \u0443\u0447\u0451\u0442\u0430 page cache). <a href=\"https://github.com/yandex/ClickHouse/pull/2482\" rel=\"external nofollow\">#2482</a></li>\n<li>\u0421\u0447\u0451\u0442\u0447\u0438\u043a\u0438 <code>ProfileEvents</code> \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u043d\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u0433\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u043e, \u043d\u043e \u0438 \u043d\u0430 \u043a\u0430\u0436\u0434\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441, \u0430 \u0442\u0430\u043a\u0436\u0435 \u043d\u0430 \u043a\u0430\u0436\u0434\u044b\u0439 \u043f\u043e\u0442\u043e\u043a \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430, \u0447\u0442\u043e \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0434\u0435\u0442\u0430\u043b\u044c\u043d\u043e \u043f\u0440\u043e\u0444\u0438\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u0442\u0440\u0435\u0431\u043b\u0435\u043d\u0438\u0435 \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u043c\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u043c\u0438. <a href=\"https://github.com/yandex/ClickHouse/pull/2482\" rel=\"external nofollow\">#2482</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0442\u0430\u0431\u043b\u0438\u0446\u0430 <code>system.query_thread_log</code>, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u043a\u0430\u0436\u0434\u043e\u043c \u043f\u043e\u0442\u043e\u043a\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430. \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>log_query_threads</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/2482\" rel=\"external nofollow\">#2482</a></li>\n<li>\u0412 \u0442\u0430\u0431\u043b\u0438\u0446\u0430\u0445 <code>system.metrics</code> \u0438 <code>system.events</code> \u043f\u043e\u044f\u0432\u0438\u043b\u0430\u0441\u044c \u0432\u0441\u0442\u0440\u043e\u0435\u043d\u043d\u0430\u044f \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f. <a href=\"https://github.com/yandex/ClickHouse/pull/3016\" rel=\"external nofollow\">#3016</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f <code>arrayEnumerateDense</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/2975\" rel=\"external nofollow\">Amos Bird</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>arrayCumSumNonNegative</code> \u0438 <code>arrayDifference</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/2942\" rel=\"external nofollow\">Aleksey Studnev</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u0430\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u044f <code>retention</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/2887\" rel=\"external nofollow\">Sundy Li</a></li>\n<li>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0441\u043b\u043e\u0436\u0435\u043d\u0438\u044f (\u0441\u043b\u0438\u044f\u043d\u0438\u044f) \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0439 \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u0430 \u043f\u043b\u044e\u0441, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0443\u043c\u043d\u043e\u0436\u0435\u043d\u0438\u044f \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0439 \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 \u043d\u0430 \u0446\u0435\u043b\u0443\u044e \u043d\u0435\u043e\u0442\u0440\u0438\u0446\u0430\u0442\u0435\u043b\u044c\u043d\u0443\u044e \u043a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u0443. <a href=\"https://github.com/yandex/ClickHouse/pull/3062\" rel=\"external nofollow\">#3062</a> <a href=\"https://github.com/yandex/ClickHouse/pull/3034\" rel=\"external nofollow\">#3034</a></li>\n<li>\u0412 \u0442\u0430\u0431\u043b\u0438\u0446\u0430\u0445 \u0441\u0435\u043c\u0435\u0439\u0441\u0442\u0432\u0430 MergeTree \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u044b\u0439 \u0441\u0442\u043e\u043b\u0431\u0435\u0446 <code>_partition_id</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3089\" rel=\"external nofollow\">#3089</a></li>\n</ul>\n<h4 id=\"eksperimentalnye-vozmozhnosti_3\">\u042d\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u0430\u043b\u044c\u043d\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438:<a class=\"headerlink\" href=\"#eksperimentalnye-vozmozhnosti_3\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0442\u0438\u043f \u0434\u0430\u043d\u043d\u044b\u0445 <code>LowCardinality(T)</code>. \u0422\u0438\u043f \u0434\u0430\u043d\u043d\u044b\u0445 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0441\u043e\u0437\u0434\u0430\u0451\u0442 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u0441\u043b\u043e\u0432\u0430\u0440\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u0438 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u0431\u0435\u0437 \u0440\u0430\u0441\u043f\u0430\u043a\u043e\u0432\u043a\u0438 \u0441\u043b\u043e\u0432\u0430\u0440\u044f. <a href=\"https://github.com/yandex/ClickHouse/pull/2830\" rel=\"external nofollow\">#2830</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u043a\u044d\u0448 JIT-\u0441\u043a\u043e\u043c\u043f\u0438\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0441\u0447\u0451\u0442\u0447\u0438\u043a \u0447\u0438\u0441\u043b\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0439 \u043f\u0435\u0440\u0435\u0434 \u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u0435\u0439. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c JIT-\u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u0438 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442\u0441\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u043e\u0439 <code>compile_expressions</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/2990\" rel=\"external nofollow\">#2990</a> <a href=\"https://github.com/yandex/ClickHouse/pull/3077\" rel=\"external nofollow\">#3077</a></li>\n</ul>\n<h4 id=\"uluchsheniia_10\">\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f:<a class=\"headerlink\" href=\"#uluchsheniia_10\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u043d\u0435\u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u043e\u0433\u043e \u043d\u0430\u043a\u043e\u043f\u043b\u0435\u043d\u0438\u044f \u043b\u043e\u0433\u0430 \u0440\u0435\u043f\u043b\u0438\u043a\u0430\u0446\u0438\u0438 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0430\u043b\u0438\u0447\u0438\u044f \u0437\u0430\u0431\u0440\u043e\u0448\u0435\u043d\u043d\u044b\u0445 \u0440\u0435\u043f\u043b\u0438\u043a. \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0440\u0435\u0436\u0438\u043c \u044d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0433\u043e \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0440\u0435\u043f\u043b\u0438\u043a \u043f\u043e\u0441\u043b\u0435 \u0434\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u043e\u0442\u0441\u0442\u0430\u0432\u0430\u043d\u0438\u044f.</li>\n<li>\u0423\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043f\u0440\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 <code>GROUP BY</code> \u0432 \u0441\u043b\u0443\u0447\u0430\u0435, \u0435\u0441\u043b\u0438 \u0435\u0441\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u043b\u0435\u0439 \u0430\u0433\u0440\u0435\u0433\u0430\u0446\u0438\u0438, \u043e\u0434\u043d\u043e \u0438\u0437 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0441\u0442\u0440\u043e\u043a\u043e\u0432\u043e\u0435, \u0430 \u0434\u0440\u0443\u0433\u0438\u0435 - \u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0434\u043b\u0438\u043d\u044b.</li>\n<li>\u0423\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 <code>PREWHERE</code> \u0438 \u043f\u0440\u0438 \u043d\u0435\u044f\u0432\u043d\u043e\u043c \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u0435 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u0432 <code>PREWHERE</code>.</li>\n<li>\u0423\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0430 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0445 \u0444\u043e\u0440\u043c\u0430\u0442\u043e\u0432 (<code>CSV</code>, <code>TSV</code>). <a href=\"https://github.com/yandex/ClickHouse/pull/2977\" rel=\"external nofollow\">Amos Bird</a> <a href=\"https://github.com/yandex/ClickHouse/pull/2980\" rel=\"external nofollow\">#2980</a></li>\n<li>\u0423\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0447\u0442\u0435\u043d\u0438\u044f \u0441\u0442\u0440\u043e\u043a \u0438 \u043c\u0430\u0441\u0441\u0438\u0432\u043e\u0432 \u0432 \u0431\u0438\u043d\u0430\u0440\u043d\u044b\u0445 \u0444\u043e\u0440\u043c\u0430\u0442\u0430\u0445. <a href=\"https://github.com/yandex/ClickHouse/pull/2955\" rel=\"external nofollow\">Amos Bird</a></li>\n<li>\u0423\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0438 \u0443\u043c\u0435\u043d\u044c\u0448\u0435\u043d\u043e \u043f\u043e\u0442\u0440\u0435\u0431\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u043c\u044f\u0442\u0438 \u0432 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445 \u043a \u0442\u0430\u0431\u043b\u0438\u0446\u0430\u043c <code>system.tables</code> \u0438 <code>system.columns</code> \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0430\u043b\u0438\u0447\u0438\u044f \u043e\u0447\u0435\u043d\u044c \u0431\u043e\u043b\u044c\u0448\u043e\u0433\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u0442\u0430\u0431\u043b\u0438\u0446 \u043d\u0430 \u043e\u0434\u043d\u043e\u043c \u0441\u0435\u0440\u0432\u0435\u0440\u0435. <a href=\"https://github.com/yandex/ClickHouse/pull/2953\" rel=\"external nofollow\">#2953</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u043d\u0438\u0437\u043a\u043e\u0439 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0430\u043b\u0438\u0447\u0438\u044f \u0431\u043e\u043b\u044c\u0448\u043e\u0433\u043e \u043f\u043e\u0442\u043e\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432, \u0434\u043b\u044f \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442\u0441\u044f \u043e\u0448\u0438\u0431\u043a\u0430 (\u0432 <code>perf top</code> \u0432\u0438\u0434\u043d\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f <code>_dl_addr</code>, \u043f\u0440\u0438 \u044d\u0442\u043e\u043c \u0441\u0435\u0440\u0432\u0435\u0440 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 \u043c\u0430\u043b\u043e CPU). <a href=\"https://github.com/yandex/ClickHouse/pull/2938\" rel=\"external nofollow\">#2938</a></li>\n<li>\u041f\u0440\u043e\u043a\u0438\u0434\u044b\u0432\u0430\u043d\u0438\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u0439 \u0432\u043d\u0443\u0442\u0440\u044c View (\u043f\u0440\u0438 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u043e\u0439 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0435 <code>enable_optimize_predicate_expression</code>) <a href=\"https://github.com/yandex/ClickHouse/pull/2907\" rel=\"external nofollow\">Winter Zhang</a></li>\n<li>\u0414\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u044e\u0449\u0435\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0434\u043b\u044f \u0442\u0438\u043f\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 <code>UUID</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3074\" rel=\"external nofollow\">#3074</a> <a href=\"https://github.com/yandex/ClickHouse/pull/2985\" rel=\"external nofollow\">#2985</a></li>\n<li>\u0422\u0438\u043f \u0434\u0430\u043d\u043d\u044b\u0445 <code>UUID</code> \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0430\u043d \u0432 \u0441\u043b\u043e\u0432\u0430\u0440\u044f\u0445 The-Alchemist. <a href=\"https://github.com/yandex/ClickHouse/pull/2822\" rel=\"external nofollow\">#2822</a></li>\n<li>\u0424\u0443\u043d\u043a\u0446\u0438\u044f <code>visitParamExtractRaw</code> \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0441 \u0432\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u043c\u0438 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430\u043c\u0438. <a href=\"https://github.com/yandex/ClickHouse/pull/2974\" rel=\"external nofollow\">Winter Zhang</a></li>\n<li>\u041f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 <code>input_format_skip_unknown_fields</code> \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043f\u0440\u043e\u043f\u0443\u0441\u043a \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439-\u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 <code>JSONEachRow</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/2958\" rel=\"external nofollow\">BlahGeek</a></li>\n<li>\u0414\u043b\u044f \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f <code>CASE</code> \u0441 \u0443\u0441\u043b\u043e\u0432\u0438\u044f\u043c\u0438, \u043f\u043e\u044f\u0432\u0438\u043b\u0430\u0441\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043d\u0435 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c <code>ELSE</code>, \u0447\u0442\u043e \u044d\u043a\u0432\u0438\u0432\u0430\u043b\u0435\u043d\u0442\u043d\u043e <code>ELSE NULL</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/2920\" rel=\"external nofollow\">#2920</a></li>\n<li>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f operation timeout \u043f\u0440\u0438 \u0440\u0430\u0431\u043e\u0442\u0435 \u0441 ZooKeeper. <a href=\"https://github.com/yandex/ClickHouse/pull/2971\" rel=\"external nofollow\">urykhy</a></li>\n<li>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u044f \u0441\u043c\u0435\u0449\u0435\u043d\u0438\u044f \u0434\u043b\u044f <code>LIMIT n, m</code> \u0432 \u0432\u0438\u0434\u0435 <code>LIMIT n OFFSET m</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/2840\" rel=\"external nofollow\">#2840</a></li>\n<li>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0441\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441\u0430 <code>SELECT TOP n</code> \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0430\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u044b \u0434\u043b\u044f <code>LIMIT</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/2840\" rel=\"external nofollow\">#2840</a></li>\n<li>\u0423\u0432\u0435\u043b\u0438\u0447\u0435\u043d \u0440\u0430\u0437\u043c\u0435\u0440 \u043e\u0447\u0435\u0440\u0435\u0434\u0438 \u0437\u0430\u043f\u0438\u0441\u0438 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0435 \u0442\u0430\u0431\u043b\u0438\u0446\u044b, \u0447\u0442\u043e \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0443\u043c\u0435\u043d\u044c\u0448\u0438\u0442\u044c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u0439 <code>SystemLog queue is full</code>.</li>\n<li>\u0412 \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>windowFunnel</code> \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u0439, \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0438\u0445 \u043f\u043e\u0434 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0443\u0441\u043b\u043e\u0432\u0438\u0439. <a href=\"https://github.com/yandex/ClickHouse/pull/2801\" rel=\"external nofollow\">Amos Bird</a></li>\n<li>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0434\u0443\u0431\u043b\u0438\u0440\u0443\u044e\u0449\u0438\u0445\u0441\u044f \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432 \u0432 \u0441\u0435\u043a\u0446\u0438\u0438 <code>USING</code> \u0434\u043b\u044f <code>JOIN</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3006\" rel=\"external nofollow\">#3006</a></li>\n<li>\u0414\u043b\u044f \u0444\u043e\u0440\u043c\u0430\u0442\u043e\u0432 <code>Pretty</code> \u0432\u0432\u0435\u0434\u0435\u043d\u043e \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0435 \u0432\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u043d\u0438\u044f \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432 \u043f\u043e \u0448\u0438\u0440\u0438\u043d\u0435. \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>output_format_pretty_max_column_pad_width</code>. \u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u0431\u043e\u043b\u0435\u0435 \u0448\u0438\u0440\u043e\u043a\u043e\u0433\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f, \u043e\u043d\u043e \u0432\u0441\u0451 \u0435\u0449\u0451 \u0431\u0443\u0434\u0435\u0442 \u0432\u044b\u0432\u0435\u0434\u0435\u043d\u043e \u0446\u0435\u043b\u0438\u043a\u043e\u043c, \u043d\u043e \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0435 \u044f\u0447\u0435\u0439\u043a\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u043d\u0435 \u0431\u0443\u0434\u0443\u0442 \u0438\u0437\u043b\u0438\u0448\u043d\u0435 \u0448\u0438\u0440\u043e\u043a\u0438\u043c\u0438. <a href=\"https://github.com/yandex/ClickHouse/pull/3003\" rel=\"external nofollow\">#3003</a></li>\n<li>\u0412 \u0442\u0430\u0431\u043b\u0438\u0447\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>odbc</code> \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u044f \u0438\u043c\u0435\u043d\u0438 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445/\u0441\u0445\u0435\u043c\u044b. <a href=\"https://github.com/yandex/ClickHouse/pull/2885\" rel=\"external nofollow\">Amos Bird</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0438\u043c\u0435\u043d\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f, \u0437\u0430\u0434\u0430\u043d\u043d\u043e\u0433\u043e \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u043c \u0444\u0430\u0439\u043b\u0435 <code>clickhouse-client</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/2909\" rel=\"external nofollow\">Vladimir Kozbin</a></li>\n<li>\u0421\u0447\u0451\u0442\u0447\u0438\u043a <code>ZooKeeperExceptions</code> \u0440\u0430\u0437\u0434\u0435\u043b\u0451\u043d \u043d\u0430 \u0442\u0440\u0438 \u0441\u0447\u0451\u0442\u0447\u0438\u043a\u0430 <code>ZooKeeperUserExceptions</code>, <code>ZooKeeperHardwareExceptions</code>, <code>ZooKeeperOtherExceptions</code>.</li>\n<li>\u0417\u0430\u043f\u0440\u043e\u0441\u044b <code>ALTER DELETE</code> \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0442 \u0434\u043b\u044f \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0439.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0430\u043d\u0434\u043e\u043c\u0438\u0437\u0430\u0446\u0438\u044f \u0432\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u043f\u0435\u0440\u0438\u043e\u0434\u0438\u0447\u0435\u0441\u043a\u043e\u0433\u043e \u0437\u0430\u043f\u0443\u0441\u043a\u0430 cleanup thread \u0434\u043b\u044f \u0442\u0430\u0431\u043b\u0438\u0446 \u0442\u0438\u043f\u0430 <code>ReplicatedMergeTree</code>, \u0447\u0442\u043e\u0431\u044b \u0438\u0437\u0431\u0435\u0436\u0430\u0442\u044c \u043f\u0435\u0440\u0438\u043e\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0432\u0441\u043f\u043b\u0435\u0441\u043a\u043e\u0432 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043e\u0447\u0435\u043d\u044c \u0431\u043e\u043b\u044c\u0448\u043e\u0433\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u0442\u0430\u0431\u043b\u0438\u0446 \u0442\u0438\u043f\u0430 <code>ReplicatedMergeTree</code>.</li>\n<li>\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 <code>ATTACH TABLE ... ON CLUSTER</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3025\" rel=\"external nofollow\">#3025</a></li>\n</ul>\n<h4 id=\"ispravlenie-oshibok_7\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0448\u0438\u0431\u043e\u043a:<a class=\"headerlink\" href=\"#ispravlenie-oshibok_7\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0440\u0430\u0431\u043e\u0442\u0435 \u0442\u0430\u0431\u043b\u0438\u0446 \u0442\u0438\u043f\u0430 <code>Dictionary</code> (\u043a\u0438\u0434\u0430\u0435\u0442\u0441\u044f \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 <code>Size of offsets doesn't match size of column</code> \u0438\u043b\u0438 <code>Unknown compression method</code>). \u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u044f\u0432\u0438\u043b\u0430\u0441\u044c \u0432 \u0432\u0435\u0440\u0441\u0438\u0438 18.10.3. <a href=\"https://github.com/yandex/ClickHouse/issues/2913\" rel=\"external nofollow\">#2913</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043c\u0435\u0440\u0436\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u0442\u0430\u0431\u043b\u0438\u0446 \u0442\u0438\u043f\u0430 <code>CollapsingMergeTree</code>, \u0435\u0441\u043b\u0438 \u043e\u0434\u0438\u043d \u0438\u0437 \u043a\u0443\u0441\u043a\u043e\u0432 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u0443\u0441\u0442\u043e\u0439 (\u0442\u0430\u043a\u0438\u0435 \u043a\u0443\u0441\u043a\u0438, \u0432 \u0441\u0432\u043e\u044e \u043e\u0447\u0435\u0440\u0435\u0434\u044c, \u043e\u0431\u0440\u0430\u0437\u0443\u044e\u0442\u0441\u044f \u043f\u0440\u0438 \u0441\u043b\u0438\u044f\u043d\u0438\u0438 \u0438\u043b\u0438 \u043f\u0440\u0438 <code>ALTER DELETE</code> \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0432\u0441\u0435\u0445 \u0434\u0430\u043d\u043d\u044b\u0445), \u0438 \u0434\u043b\u044f \u0441\u043b\u0438\u044f\u043d\u0438\u044f \u0431\u044b\u043b \u0432\u044b\u0431\u0440\u0430\u043d \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c <code>vertical</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3049\" rel=\"external nofollow\">#3049</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d race condition \u043f\u0440\u0438 <code>DROP</code> \u0438\u043b\u0438 <code>TRUNCATE</code> \u0442\u0430\u0431\u043b\u0438\u0446 \u0442\u0438\u043f\u0430 <code>Memory</code> \u043f\u0440\u0438 \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u043c <code>SELECT</code>, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043c\u043e\u0433 \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u0442\u044c \u043a \u043f\u0430\u0434\u0435\u043d\u0438\u044f\u043c \u0441\u0435\u0440\u0432\u0435\u0440\u0430. \u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u044f\u0432\u0438\u043b\u0430\u0441\u044c \u0432 \u0432\u0435\u0440\u0441\u0438\u0438 1.1.54388. <a href=\"https://github.com/yandex/ClickHouse/pull/3038\" rel=\"external nofollow\">#3038</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043f\u043e\u0442\u0435\u0440\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u0440\u0438 \u0432\u0441\u0442\u0430\u0432\u043a\u0435 \u0432 <code>Replicated</code> \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043e\u0448\u0438\u0431\u043a\u0438 <code>Session expired</code> (\u043f\u043e\u0442\u0435\u0440\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d\u0430 \u043f\u043e \u043c\u0435\u0442\u0440\u0438\u043a\u0435 <code>ReplicatedDataLoss</code>). \u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u0432 \u0432\u0435\u0440\u0441\u0438\u0438 1.1.54378. <a href=\"https://github.com/yandex/ClickHouse/pull/2939\" rel=\"external nofollow\">#2939</a> <a href=\"https://github.com/yandex/ClickHouse/pull/2949\" rel=\"external nofollow\">#2949</a> <a href=\"https://github.com/yandex/ClickHouse/pull/2964\" rel=\"external nofollow\">#2964</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d segfault \u043f\u0440\u0438 <code>JOIN ... ON</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/3000\" rel=\"external nofollow\">#3000</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0438\u0441\u043a\u0430 \u0438\u043c\u0451\u043d \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435, \u0435\u0441\u043b\u0438 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0435 <code>WHERE</code> \u0441\u043e\u0441\u0442\u043e\u0438\u0442 \u0446\u0435\u043b\u0438\u043a\u043e\u043c \u0438\u0437 \u043a\u0432\u0430\u043b\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u0438\u043c\u0435\u043d\u0438 \u0441\u0442\u043e\u043b\u0431\u0446\u0430, \u043a\u0430\u043a \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 <code>WHERE table.column</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/2994\" rel=\"external nofollow\">#2994</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0432\u0438\u0434\u0430 \"Not found column\" \u043f\u0440\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0451\u043d\u043d\u044b\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435, \u0435\u0441\u043b\u0438 \u0441 \u0443\u0434\u0430\u043b\u0451\u043d\u043d\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0437\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0439 \u0441\u0442\u043e\u043b\u0431\u0435\u0446, \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u044e\u0449\u0438\u0439 \u0441\u043e\u0431\u043e\u0439 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0435 IN \u0441 \u043f\u043e\u0434\u0437\u0430\u043f\u0440\u043e\u0441\u043e\u043c. <a href=\"https://github.com/yandex/ClickHouse/pull/3087\" rel=\"external nofollow\">#3087</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 <code>Block structure mismatch in UNION stream: different number of columns</code>, \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u044e\u0449\u0430\u044f \u043f\u0440\u0438 \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0451\u043d\u043d\u044b\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445, \u0435\u0441\u043b\u0438 \u043e\u0434\u0438\u043d \u0438\u0437 \u0448\u0430\u0440\u0434\u043e\u0432 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0439, \u0430 \u0434\u0440\u0443\u0433\u043e\u0439 - \u043d\u0435\u0442, \u0438 \u0435\u0441\u043b\u0438 \u043f\u0440\u0438 \u044d\u0442\u043e\u043c \u0441\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0430\u0446\u0438\u044f \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u0430 \u0432 <code>PREWHERE</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/2226\" rel=\"external nofollow\">#2226</a> <a href=\"https://github.com/yandex/ClickHouse/pull/3037\" rel=\"external nofollow\">#3037</a> <a href=\"https://github.com/yandex/ClickHouse/pull/3055\" rel=\"external nofollow\">#3055</a> <a href=\"https://github.com/yandex/ClickHouse/pull/3065\" rel=\"external nofollow\">#3065</a> <a href=\"https://github.com/yandex/ClickHouse/pull/3073\" rel=\"external nofollow\">#3073</a> <a href=\"https://github.com/yandex/ClickHouse/pull/3090\" rel=\"external nofollow\">#3090</a> <a href=\"https://github.com/yandex/ClickHouse/pull/3093\" rel=\"external nofollow\">#3093</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>pointInPolygon</code> \u0434\u043b\u044f \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u0441\u043b\u0443\u0447\u0430\u044f \u043d\u0435\u0432\u044b\u043f\u0443\u043a\u043b\u044b\u0445 \u043f\u043e\u043b\u0438\u0433\u043e\u043d\u043e\u0432. <a href=\"https://github.com/yandex/ClickHouse/pull/2910\" rel=\"external nofollow\">#2910</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043f\u0440\u0438 \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0438 <code>nan</code> \u0441 \u0446\u0435\u043b\u044b\u043c\u0438 \u0447\u0438\u0441\u043b\u0430\u043c\u0438. <a href=\"https://github.com/yandex/ClickHouse/pull/3024\" rel=\"external nofollow\">#3024</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0435 <code>zlib-ng</code>, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043c\u043e\u0433\u043b\u0430 \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u0442\u044c \u043a segfault \u0432 \u0440\u0435\u0434\u043a\u0438\u0445 \u0441\u043b\u0443\u0447\u0430\u044f\u0445. <a href=\"https://github.com/yandex/ClickHouse/pull/2854\" rel=\"external nofollow\">#2854</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0443\u0442\u0435\u0447\u043a\u0430 \u043f\u0430\u043c\u044f\u0442\u0438 \u043f\u0440\u0438 \u0432\u0441\u0442\u0430\u0432\u043a\u0435 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 \u0441\u043e \u0441\u0442\u043e\u043b\u0431\u0446\u0430\u043c\u0438 \u0442\u0438\u043f\u0430 <code>AggregateFunction</code>, \u0435\u0441\u043b\u0438 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u043d\u0435\u0442\u0440\u0438\u0432\u0438\u0430\u043b\u044c\u043d\u043e\u0435 (\u0432\u044b\u0434\u0435\u043b\u044f\u0435\u0442 \u043f\u0430\u043c\u044f\u0442\u044c \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e), \u0438 \u0435\u0441\u043b\u0438 \u0432 \u043e\u0434\u043d\u043e\u043c \u0437\u0430\u043f\u0440\u043e\u0441\u0435 \u043d\u0430 \u0432\u0441\u0442\u0430\u0432\u043a\u0443 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442\u0441\u044f \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043c\u0430\u043b\u0435\u043d\u044c\u043a\u0438\u0445 \u0431\u043b\u043e\u043a\u043e\u0432. <a href=\"https://github.com/yandex/ClickHouse/pull/3084\" rel=\"external nofollow\">#3084</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d race condition \u043f\u0440\u0438 \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u043c \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u043e\u0434\u043d\u043e\u0439 \u0438 \u0442\u043e\u0439 \u0436\u0435 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0442\u0438\u043f\u0430 <code>Buffer</code> \u0438\u043b\u0438 <code>MergeTree</code>.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c segfault \u043f\u0440\u0438 \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0438 \u043a\u043e\u0440\u0442\u0435\u0436\u0435\u0439 \u0438\u0437 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u043d\u0435\u0442\u0440\u0438\u0432\u0438\u0430\u043b\u044c\u043d\u044b\u0445 \u0442\u0438\u043f\u043e\u0432, \u0442\u0430\u043a\u0438\u0445 \u043a\u0430\u043a, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043a\u043e\u0440\u0442\u0435\u0436\u0435\u0439. <a href=\"https://github.com/yandex/ClickHouse/pull/2989\" rel=\"external nofollow\">#2989</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c segfault \u043f\u0440\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 <code>ON CLUSTER</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/2960\" rel=\"external nofollow\">Winter Zhang</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>arrayDistinct</code> \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 <code>Nullable</code> \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432 \u043c\u0430\u0441\u0441\u0438\u0432\u043e\u0432. <a href=\"https://github.com/yandex/ClickHouse/pull/2845\" rel=\"external nofollow\">#2845</a> <a href=\"https://github.com/yandex/ClickHouse/pull/2937\" rel=\"external nofollow\">#2937</a></li>\n<li>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c <code>enable_optimize_predicate_expression</code> \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0441\u043b\u0443\u0447\u0430\u0438 \u0441 <code>SELECT *</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/2929\" rel=\"external nofollow\">Winter Zhang</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c segfault \u043f\u0440\u0438 \u043f\u0435\u0440\u0435\u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0441\u0435\u0441\u0441\u0438\u0438 \u0441 ZooKeeper. <a href=\"https://github.com/yandex/ClickHouse/pull/2917\" rel=\"external nofollow\">#2917</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0438 \u043f\u0440\u0438 \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0438 \u0441 ZooKeeper.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043a\u043e\u0434 \u0441\u0443\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0432\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0445 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440 \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 <code>SummingMergeTree</code>.</li>\n<li>\u041f\u0440\u0438 \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u0438 \u043f\u0430\u043c\u044f\u0442\u0438 \u0434\u043b\u044f \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0439 \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439, \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0432\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u043d\u0438\u0435, \u0447\u0442\u043e \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u0438 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0439 \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438, \u0434\u043b\u044f \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0432\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u043d\u0438\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u043c. <a href=\"https://github.com/yandex/ClickHouse/pull/2808\" rel=\"external nofollow\">chenxing-xc</a></li>\n</ul>\n<h4 id=\"ispravleniia-bezopasnosti\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438:<a class=\"headerlink\" href=\"#ispravleniia-bezopasnosti\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0411\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u0441 ODBC \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0430\u043c\u0438 \u0434\u0430\u043d\u043d\u044b\u0445. \u0412\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0441 ODBC \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u0430\u043c\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0435\u0442\u0441\u044f \u0447\u0435\u0440\u0435\u0437 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0439 \u043f\u0440\u043e\u0446\u0435\u0441\u0441 <code>clickhouse-odbc-bridge</code>. \u041e\u0448\u0438\u0431\u043a\u0438 \u0432 \u0441\u0442\u043e\u0440\u043e\u043d\u043d\u0438\u0445 ODBC \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u0430\u0445 \u0442\u0435\u043f\u0435\u0440\u044c \u043d\u0435 \u043f\u0440\u0438\u0432\u043e\u0434\u044f\u0442 \u043a \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430\u043c \u0441\u043e \u0441\u0442\u0430\u0431\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c\u044e \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0438\u043b\u0438 \u0443\u044f\u0437\u0432\u0438\u043c\u043e\u0441\u0442\u044f\u043c. <a href=\"https://github.com/yandex/ClickHouse/pull/2828\" rel=\"external nofollow\">#2828</a> <a href=\"https://github.com/yandex/ClickHouse/pull/2879\" rel=\"external nofollow\">#2879</a> <a href=\"https://github.com/yandex/ClickHouse/pull/2886\" rel=\"external nofollow\">#2886</a> <a href=\"https://github.com/yandex/ClickHouse/pull/2893\" rel=\"external nofollow\">#2893</a> <a href=\"https://github.com/yandex/ClickHouse/pull/2921\" rel=\"external nofollow\">#2921</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0430\u044f \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u044f \u043f\u0443\u0442\u0438 \u043a \u0444\u0430\u0439\u043b\u0443 \u0432 \u0442\u0430\u0431\u043b\u0438\u0447\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>catBoostPool</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/2894\" rel=\"external nofollow\">#2894</a></li>\n<li>\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435 \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0445 \u0442\u0430\u0431\u043b\u0438\u0446 (<code>tables</code>, <code>databases</code>, <code>parts</code>, <code>columns</code>, <code>parts_columns</code>, <code>merges</code>, <code>mutations</code>, <code>replicas</code>, <code>replication_queue</code>) \u0444\u0438\u043b\u044c\u0442\u0440\u0443\u0435\u0442\u0441\u044f \u0441\u043e\u0433\u043b\u0430\u0441\u043d\u043e \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u0431\u0430\u0437\u0430\u043c \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043b\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f (<code>allow_databases</code>) <a href=\"https://github.com/yandex/ClickHouse/pull/2856\" rel=\"external nofollow\">Winter Zhang</a></li>\n</ul>\n<h4 id=\"obratno-nesovmestimye-izmeneniia_6\">\u041e\u0431\u0440\u0430\u0442\u043d\u043e \u043d\u0435\u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u044b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f:<a class=\"headerlink\" href=\"#obratno-nesovmestimye-izmeneniia_6\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0412 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445 \u0441 JOIN, \u0437\u0432\u0451\u0437\u0434\u043e\u0447\u043a\u0430 \u0440\u0430\u0441\u043a\u0440\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0432 \u0441\u043f\u0438\u0441\u043e\u043a \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432 \u0432\u0441\u0435\u0445 \u0442\u0430\u0431\u043b\u0438\u0446, \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438 \u0441\u043e \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043e\u043c SQL. \u0412\u0435\u0440\u043d\u0443\u0442\u044c \u0441\u0442\u0430\u0440\u043e\u0435 \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u043c\u043e\u0436\u043d\u043e, \u0432\u044b\u0441\u0442\u0430\u0432\u0438\u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0443 (\u0443\u0440\u043e\u0432\u043d\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f) <code>asterisk_left_columns_only</code> \u0432 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 1.</li>\n</ul>\n<h4 id=\"izmeneniia-sborki\">\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0441\u0431\u043e\u0440\u043a\u0438:<a class=\"headerlink\" href=\"#izmeneniia-sborki\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u043f\u043e\u043a\u043e\u043c\u043c\u0438\u0442\u043d\u044b\u0439 \u0437\u0430\u043f\u0443\u0441\u043a \u0431\u043e\u043b\u044c\u0448\u0438\u043d\u0441\u0442\u0432\u0430 \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0442\u0435\u0441\u0442\u043e\u0432.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u043f\u043e\u043a\u043e\u043c\u043c\u0438\u0442\u043d\u044b\u0439 \u0437\u0430\u043f\u0443\u0441\u043a \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u0441\u0442\u0438\u043b\u044f \u043a\u043e\u0434\u0430.</li>\n<li>\u041a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0432\u044b\u0431\u043e\u0440 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 <code>memcpy</code> \u043f\u0440\u0438 \u0441\u0431\u043e\u0440\u043a\u0435 \u043d\u0430 CentOS7 / Fedora. <a href=\"https://github.com/yandex/ClickHouse/pull/2912\" rel=\"external nofollow\">Etienne Champetier</a></li>\n<li>\u041f\u0440\u0438 \u0441\u0431\u043e\u0440\u043a\u0435 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e clang \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 warnings \u0438\u0437 <code>-Weverything</code> \u0432 \u0434\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u043a \u043e\u0431\u044b\u0447\u043d\u044b\u043c <code>-Wall -Wextra -Werror</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/2957\" rel=\"external nofollow\">#2957</a></li>\n<li>\u041f\u0440\u0438 debug \u0441\u0431\u043e\u0440\u043a\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f debug \u0432\u0430\u0440\u0438\u0430\u043d\u0442 <code>jemalloc</code>.</li>\n<li>\u0410\u0431\u0441\u0442\u0440\u0430\u0433\u0438\u0440\u043e\u0432\u0430\u043d \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 \u0434\u043b\u044f \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0441 ZooKeeper. <a href=\"https://github.com/yandex/ClickHouse/pull/2950\" rel=\"external nofollow\">#2950</a></li>\n</ul>\n<h3 id=\"clickhouse-release-18-10-3-2018-08-13\">ClickHouse release 18.10.3, 2018-08-13<a class=\"headerlink\" href=\"#clickhouse-release-18-10-3-2018-08-13\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"novye-vozmozhnosti_9\">\u041d\u043e\u0432\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438:<a class=\"headerlink\" href=\"#novye-vozmozhnosti_9\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f HTTPS \u0434\u043b\u044f \u0440\u0435\u043f\u043b\u0438\u043a\u0430\u0446\u0438\u0438. <a href=\"https://github.com/yandex/ClickHouse/pull/2760\" rel=\"external nofollow\">#2760</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>murmurHash2_64</code>, <code>murmurHash3_32</code>, <code>murmurHash3_64</code>, <code>murmurHash3_128</code> \u0432 \u0434\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u043a \u0438\u043c\u0435\u044e\u0449\u0435\u043c\u0443\u0441\u044f <code>murmurHash2_32</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/2791\" rel=\"external nofollow\">#2791</a></li>\n<li>\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 Nullable \u0442\u0438\u043f\u043e\u0432 \u0432 ODBC \u0434\u0440\u0430\u0439\u0432\u0435\u0440\u0435 ClickHouse (\u0444\u043e\u0440\u043c\u0430\u0442 \u0432\u044b\u0432\u043e\u0434\u0430 <code>ODBCDriver2</code>) <a href=\"https://github.com/yandex/ClickHouse/pull/2834\" rel=\"external nofollow\">#2834</a></li>\n<li>\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 <code>UUID</code> \u0432 \u043a\u043b\u044e\u0447\u0435\u0432\u044b\u0445 \u0441\u0442\u043e\u043b\u0431\u0446\u0430\u0445.</li>\n</ul>\n<h4 id=\"uluchsheniia_11\">\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f:<a class=\"headerlink\" href=\"#uluchsheniia_11\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u043e\u0432 \u0431\u0435\u0437 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u043f\u0440\u0438 \u0438\u0445 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0438\u0437 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0444\u0430\u0439\u043b\u043e\u0432. <a href=\"https://github.com/yandex/ClickHouse/pull/2777\" rel=\"external nofollow\">#2777</a></li>\n<li>\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0432\u043d\u0435\u0448\u043d\u0438\u0445 \u0441\u043b\u043e\u0432\u0430\u0440\u0435\u0439 \u0431\u0435\u0437 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u043f\u0440\u0438 \u0438\u0445 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u0438\u0437 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0444\u0430\u0439\u043b\u043e\u0432. <a href=\"https://github.com/yandex/ClickHouse/pull/2779\" rel=\"external nofollow\">#2779</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 <code>SETTINGS</code> \u0434\u043b\u044f \u0434\u0432\u0438\u0436\u043a\u0430 \u0442\u0430\u0431\u043b\u0438\u0446 <code>Kafka</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/2781\" rel=\"external nofollow\">Alexander Marshalov</a></li>\n<li>\u0414\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0434\u043b\u044f \u0442\u0438\u043f\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 <code>UUID</code> (\u043d\u0435 \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e) \u0160imon Podlipsk\u00fd. <a href=\"https://github.com/yandex/ClickHouse/pull/2618\" rel=\"external nofollow\">#2618</a></li>\n<li>\u041f\u043e\u0434\u0434\u0435\u0436\u043a\u0430 \u043f\u0443\u0441\u0442\u044b\u0445 \u043a\u0443\u0441\u043a\u043e\u0432 \u043f\u043e\u0441\u043b\u0435 \u043c\u0435\u0440\u0436\u0435\u0439 \u0432 \u0434\u0432\u0438\u0436\u043a\u0430\u0445 <code>SummingMergeTree</code>, <code>CollapsingMergeTree</code> and <code>VersionedCollapsingMergeTree</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/2815\" rel=\"external nofollow\">#2815</a></li>\n<li>\u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0441\u0442\u0430\u0440\u044b\u0445 \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u043e \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0432\u0448\u0438\u0445\u0441\u044f \u043c\u0443\u0442\u0430\u0446\u0438\u044f\u0445 (<code>ALTER DELETE</code>) <a href=\"https://github.com/yandex/ClickHouse/pull/2784\" rel=\"external nofollow\">#2784</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0442\u0430\u0431\u043b\u0438\u0446\u0430 <code>system.merge_tree_settings</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/2841\" rel=\"external nofollow\">Kirill Shvakov</a></li>\n<li>\u0412 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 <code>system.tables</code> \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0441\u0442\u043e\u043b\u0431\u0446\u044b \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u0435\u0439: <code>dependencies_database</code> \u0438 <code>dependencies_table</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/2851\" rel=\"external nofollow\">Winter Zhang</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u043f\u0446\u0438\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0430 <code>max_partition_size_to_drop</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/2782\" rel=\"external nofollow\">#2782</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>output_format_json_escape_forward_slashes</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/2812\" rel=\"external nofollow\">Alexander Bocharov</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>max_fetch_partition_retries_count</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/2831\" rel=\"external nofollow\">#2831</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>prefer_localhost_replica</code>, \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0449\u0430\u044f \u043e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043f\u0440\u0435\u0434\u043f\u043e\u0447\u0442\u0435\u043d\u0438\u0435 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0439 \u0440\u0435\u043f\u043b\u0438\u043a\u0438 \u0438 \u0445\u043e\u0436\u0434\u0435\u043d\u0438\u0435 \u043d\u0430 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u0443\u044e \u0440\u0435\u043f\u043b\u0438\u043a\u0443 \u0431\u0435\u0437 \u043c\u0435\u0436\u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043d\u043e\u0433\u043e \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f. <a href=\"https://github.com/yandex/ClickHouse/pull/2832\" rel=\"external nofollow\">#2832</a></li>\n<li>\u0410\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u0430\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u044f <code>quantileExact</code> \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 <code>nan</code> \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0430\u0433\u0440\u0435\u0433\u0430\u0446\u0438\u0438 \u043f\u043e \u043f\u0443\u0441\u0442\u043e\u043c\u0443 \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0443 <code>Float32</code>/<code>Float64</code> \u0442\u0438\u043f\u043e\u0432. <a href=\"https://github.com/yandex/ClickHouse/pull/2855\" rel=\"external nofollow\">Sundy Li</a></li>\n</ul>\n<h4 id=\"ispravlenie-oshibok_8\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0448\u0438\u0431\u043e\u043a:<a class=\"headerlink\" href=\"#ispravlenie-oshibok_8\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0423\u0431\u0440\u0430\u043d\u043e \u0438\u0437\u043b\u0438\u0448\u043d\u0435\u0435 \u044d\u043a\u0440\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 connection string \u0434\u043b\u044f ODBC, \u043a\u043e\u0442\u0440\u043e\u0435 \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u043b\u043e \u043a \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f. \u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u0432 \u0432\u0435\u0440\u0441\u0438\u0438 18.6.0.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043b\u043e\u0433\u0438\u043a\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u043a\u043e\u043c\u0430\u043d\u0434 \u043d\u0430 <code>REPLACE PARTITION</code> \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u0438 \u0440\u0435\u043f\u043b\u0438\u043a\u0430\u0446\u0438\u0438. \u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0430\u044f \u043b\u043e\u0433\u0438\u043a\u0430 \u043c\u043e\u0433\u043b\u0430 \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u0442\u044c \u043a \u0442\u043e\u043c\u0443, \u0447\u0442\u043e \u043f\u0440\u0438 \u043d\u0430\u043b\u0438\u0447\u0438\u0438 \u0434\u0432\u0443\u0445 <code>REPLACE</code> \u043e\u0434\u043d\u043e\u0439 \u0438 \u0442\u043e\u0439 \u0436\u0435 \u043f\u0430\u0440\u0442\u0438\u0446\u0438\u0438, \u043e\u0434\u0438\u043d \u0438\u0437 \u043d\u0438\u0445 \u043e\u0441\u0442\u0430\u0432\u0430\u043b\u0441\u044f \u0432 \u043e\u0447\u0435\u0440\u0435\u0434\u0438 \u0440\u0435\u043f\u043b\u0438\u043a\u0430\u0446\u0438\u0438 \u0438 \u043d\u0435 \u043c\u043e\u0433 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c\u0441\u044f. <a href=\"https://github.com/yandex/ClickHouse/pull/2814\" rel=\"external nofollow\">#2814</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043c\u0435\u0440\u0436\u0435, \u0435\u0441\u043b\u0438 \u0432\u0441\u0435 \u043a\u0443\u0441\u043a\u0438 \u0431\u044b\u043b\u0438 \u043f\u0443\u0441\u0442\u044b\u043c\u0438 (\u0442\u0430\u043a\u0438\u0435 \u043a\u0443\u0441\u043a\u0438, \u0432 \u0441\u0432\u043e\u044e \u043e\u0447\u0435\u0440\u0435\u0434\u044c, \u043e\u0431\u0440\u0430\u0437\u0443\u044e\u0442\u0441\u044f \u043f\u0440\u0438 \u0441\u043b\u0438\u044f\u043d\u0438\u0438 \u0438\u043b\u0438 \u043f\u0440\u0438 <code>ALTER DELETE</code> \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0432\u0441\u0435\u0445 \u0434\u0430\u043d\u043d\u044b\u0445). \u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u044f\u0432\u0438\u043b\u0430\u0441\u044c \u0432 \u0432\u0435\u0440\u0441\u0438\u0438 18.1.0. <a href=\"https://github.com/yandex/ClickHouse/pull/2930\" rel=\"external nofollow\">#2930</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0442\u0438\u043f\u0430 <code>Set</code> \u0438\u043b\u0438 <code>Join</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/2823\" rel=\"external nofollow\">Amos Bird</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 <code>Block structure mismatch in UNION stream: different number of columns</code>, \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u044e\u0449\u0430\u044f \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445 \u0441 <code>UNION ALL</code> \u0432\u043d\u0443\u0442\u0440\u0438 \u043f\u043e\u0434\u0437\u0430\u043f\u0440\u043e\u0441\u0430, \u0432 \u0441\u043b\u0443\u0447\u0430\u0435, \u0435\u0441\u043b\u0438 \u043e\u0434\u0438\u043d \u0438\u0437 <code>SELECT</code> \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0434\u0443\u0431\u043b\u0438\u0440\u0443\u044e\u0449\u0438\u0435\u0441\u044f \u0438\u043c\u0435\u043d\u0430 \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432. <a href=\"https://github.com/yandex/ClickHouse/pull/2094\" rel=\"external nofollow\">Winter Zhang</a></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0443\u0442\u0435\u0447\u043a\u0430 \u043f\u0430\u043c\u044f\u0442\u0438 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043f\u0440\u0438 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0438 \u0441 MySQL \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043a\u043e\u0434 \u0432\u043e\u0437\u0432\u0440\u0430\u0442\u0430 clickhouse-client \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043e\u0448\u0438\u0431\u043e\u0447\u043d\u043e\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 materialized views, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0438\u0445 DISTINCT. <a href=\"https://github.com/yandex/ClickHouse/issues/2795\" rel=\"external nofollow\">#2795</a></li>\n</ul>\n<h4 id=\"obratno-nesovmestimye-izmeneniia_7\">\u041e\u0431\u0440\u0430\u0442\u043d\u043e \u043d\u0435\u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u044b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f<a class=\"headerlink\" href=\"#obratno-nesovmestimye-izmeneniia_7\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0423\u0431\u0440\u0430\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 CHECK TABLE \u0434\u043b\u044f Distributed \u0442\u0430\u0431\u043b\u0438\u0446.</li>\n</ul>\n<h4 id=\"izmeneniia-sborki_1\">\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0441\u0431\u043e\u0440\u043a\u0438:<a class=\"headerlink\" href=\"#izmeneniia-sborki_1\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0417\u0430\u043c\u0435\u043d\u0435\u043d \u0430\u043b\u043b\u043e\u043a\u0430\u0442\u043e\u0440, \u0442\u0435\u043f\u0435\u0440\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f <code>jemalloc</code> \u0432\u043c\u0435\u0441\u0442\u043e <code>tcmalloc</code>. \u041d\u0430 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u044f\u0445 \u0443\u0441\u043a\u043e\u0440\u0435\u043d\u0438\u0435 \u0434\u043e\u0441\u0442\u0438\u0433\u0430\u0435\u0442 20%. \u0412 \u0442\u043e \u0436\u0435 \u0432\u0440\u0435\u043c\u044f, \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0442 \u0437\u0430\u043f\u0440\u043e\u0441\u044b, \u0437\u0430\u043c\u0435\u0434\u043b\u0438\u0432\u0448\u0438\u0435\u0441\u044f \u0434\u043e 20%. \u041f\u043e\u0442\u0440\u0435\u0431\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u043c\u044f\u0442\u0438 \u043d\u0430 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0441\u0446\u0435\u043d\u0430\u0440\u0438\u044f\u0445 \u043f\u0440\u0438\u043c\u0435\u0440\u043d\u043e \u043d\u0430 10% \u043c\u0435\u043d\u044c\u0448\u0435 \u0438 \u0431\u043e\u043b\u0435\u0435 \u0441\u0442\u0430\u0431\u0438\u043b\u044c\u043d\u043e. \u041f\u0440\u0438 \u0432\u044b\u0441\u043e\u043a\u043e\u043a\u043e\u043d\u043a\u0443\u0440\u0435\u043d\u0442\u043d\u043e\u0439 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0435, \u043f\u043e\u0442\u0440\u0435\u0431\u043b\u0435\u043d\u0438\u0435 CPU \u0432 userspace \u0438 \u0432 system \u043d\u0435\u0437\u043d\u0430\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0432\u044b\u0440\u0430\u0441\u0442\u0430\u0435\u0442. <a href=\"https://github.com/yandex/ClickHouse/pull/2773\" rel=\"external nofollow\">#2773</a></li>\n<li>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 libressl \u0438\u0437 submodule. <a href=\"https://github.com/yandex/ClickHouse/pull/1983\" rel=\"external nofollow\">#1983</a> <a href=\"https://github.com/yandex/ClickHouse/pull/2807\" rel=\"external nofollow\">#2807</a></li>\n<li>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 unixodbc \u0438\u0437 submodule. <a href=\"https://github.com/yandex/ClickHouse/pull/2789\" rel=\"external nofollow\">#2789</a></li>\n<li>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 mariadb-connector-c \u0438\u0437 submodule. <a href=\"https://github.com/yandex/ClickHouse/pull/2785\" rel=\"external nofollow\">#2785</a></li>\n<li>\u0412 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0444\u0430\u0439\u043b\u044b \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0445 \u0442\u0435\u0441\u0442\u043e\u0432, \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u044b\u0432\u0430\u044e\u0449\u0438\u0445 \u043d\u0430 \u043d\u0430\u043b\u0438\u0447\u0438\u0435 \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 (\u043f\u043e\u043a\u0430 \u0431\u0435\u0437 \u0441\u0430\u043c\u0438\u0445 \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445).</li>\n</ul>\n<h3 id=\"clickhouse-release-18-6-0-2018-08-02\">ClickHouse release 18.6.0, 2018-08-02<a class=\"headerlink\" href=\"#clickhouse-release-18-6-0-2018-08-02\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"novye-vozmozhnosti_10\">\u041d\u043e\u0432\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438:<a class=\"headerlink\" href=\"#novye-vozmozhnosti_10\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 ON \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u0434\u043b\u044f JOIN ON \u0441\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441\u0430:\n<code>JOIN ON Expr([table.]column, ...) = Expr([table.]column, ...) [AND Expr([table.]column, ...) = Expr([table.]column, ...) ...]</code>\n\u0412\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c \u0438\u0437 \u0441\u0435\u0431\u044f \u0446\u0435\u043f\u043e\u0447\u043a\u0443 \u0440\u0430\u0432\u0435\u043d\u0441\u0442\u0432, \u043e\u0431\u044a\u0435\u0434\u0438\u043d\u0435\u043d\u043d\u044b\u0445 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u043e\u043c AND. \u041a\u0430\u0436\u0434\u0430\u044f \u0447\u0430\u0441\u0442\u044c \u0440\u0430\u0432\u0435\u043d\u0441\u0442\u0432\u0430 \u043c\u043e\u0436\u0435\u0442 \u044f\u0432\u043b\u044f\u0442\u044c\u0441\u044f \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u044b\u043c \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0435\u043c \u043d\u0430\u0434 \u0441\u0442\u043e\u043b\u0431\u0446\u0430\u043c\u0438 \u043e\u0434\u043d\u043e\u0439 \u0438\u0437 \u0442\u0430\u0431\u043b\u0438\u0446. \u041f\u043e\u0434\u0434\u0435\u0440\u0436\u0430\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f fully qualified \u0438\u043c\u0435\u043d \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432 (<code>table.name</code>, <code>database.table.name</code>, <code>table_alias.name</code>, <code>subquery_alias.name</code>) \u0434\u043b\u044f \u043f\u0440\u0430\u0432\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u044b. <a href=\"https://github.com/yandex/ClickHouse/pull/2742\" rel=\"external nofollow\">#2742</a></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c HTTPS \u0434\u043b\u044f \u0440\u0435\u043f\u043b\u0438\u043a\u0430\u0446\u0438\u0438. <a href=\"https://github.com/yandex/ClickHouse/pull/2760\" rel=\"external nofollow\">#2760</a></li>\n</ul>\n<h4 id=\"uluchsheniia_12\">\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f:<a class=\"headerlink\" href=\"#uluchsheniia_12\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0421\u0435\u0440\u0432\u0435\u0440 \u043f\u0435\u0440\u0435\u0434\u0430\u0451\u0442 \u043d\u0430 \u043a\u043b\u0438\u0435\u043d\u0442 \u0442\u0430\u043a\u0436\u0435 patch-\u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 \u0441\u0432\u043e\u0435\u0439 \u0432\u0435\u0440\u0441\u0438\u0438. \u0414\u0430\u043d\u043d\u044b\u0435 \u043e patch \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u0435 \u0432\u0435\u0440\u0441\u0438\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0432 <code>system.processes</code> \u0438 <code>query_log</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/2646\" rel=\"external nofollow\">#2646</a></li>\n</ul>\n<h3 id=\"clickhouse-release-18-5-1-2018-07-31\">ClickHouse release 18.5.1, 2018-07-31<a class=\"headerlink\" href=\"#clickhouse-release-18-5-1-2018-07-31\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"novye-vozmozhnosti_11\">\u041d\u043e\u0432\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438:<a class=\"headerlink\" href=\"#novye-vozmozhnosti_11\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u0445\u0435\u0448\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f <code>murmurHash2_32</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/2756\" rel=\"external nofollow\">#2756</a>.</li>\n</ul>\n<h4 id=\"uluchsheniia_13\">\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f:<a class=\"headerlink\" href=\"#uluchsheniia_13\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0444\u0430\u0439\u043b\u0430\u0445 \u0438\u0437 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0430 <code>from_env</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/2741\" rel=\"external nofollow\">#2741</a>.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u043e\u043d\u0435\u0437\u0430\u0432\u0438\u0441\u0438\u043c\u044b\u0435 \u0432\u0435\u0440\u0441\u0438\u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 <code>coalesce</code>, <code>ifNull</code>, <code>nullIf</code>. <a href=\"https://github.com/yandex/ClickHouse/pull/2752\" rel=\"external nofollow\">#2752</a>.</li>\n</ul>\n<h4 id=\"ispravlenie-oshibok_9\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0448\u0438\u0431\u043e\u043a:<a class=\"headerlink\" href=\"#ispravlenie-oshibok_9\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u0442\u0430\u0440\u0442\u0435 \u0440\u0435\u043f\u043b\u0438\u043a\u0438. <a href=\"https://github.com/yandex/ClickHouse/pull/2759\" rel=\"external nofollow\">#2759</a>.</li>\n</ul>\n<h3 id=\"clickhouse-release-18-4-0-2018-07-28\">ClickHouse release 18.4.0, 2018-07-28<a class=\"headerlink\" href=\"#clickhouse-release-18-4-0-2018-07-28\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"novye-vozmozhnosti_12\">\u041d\u043e\u0432\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438:<a class=\"headerlink\" href=\"#novye-vozmozhnosti_12\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0435 \u0442\u0430\u0431\u043b\u0438\u0446\u044b <code>formats</code>, <code>data_type_families</code>, <code>aggregate_function_combinators</code>, <code>table_functions</code>, <code>table_engines</code>, <code>collations</code> <a href=\"https://github.com/yandex/ClickHouse/pull/2721\" rel=\"external nofollow\">#2721</a>.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0442\u0430\u0431\u043b\u0438\u0447\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u0432\u043c\u0435\u0441\u0442\u043e \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0430 \u0442\u0430\u0431\u043b\u0438\u0447\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>remote</code> \u0438 <code>cluster</code> <a href=\"https://github.com/yandex/ClickHouse/pull/2708\" rel=\"external nofollow\">#2708</a>.</li>\n<li>\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 <code>HTTP Basic</code> \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u0432 \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\u0435 \u0440\u0435\u043f\u043b\u0438\u043a\u0430\u0446\u0438\u0438 <a href=\"https://github.com/yandex/ClickHouse/pull/2727\" rel=\"external nofollow\">#2727</a>.</li>\n<li>\u0412 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>has</code> \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043f\u043e\u0438\u0441\u043a\u0430 \u0432 \u043c\u0430\u0441\u0441\u0438\u0432\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u0442\u0438\u043f\u0430 <code>Enum</code> \u043f\u043e \u0447\u0438\u0441\u043b\u043e\u0432\u043e\u043c\u0443 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044e <a href=\"https://github.com/yandex/ClickHouse/pull/2699\" rel=\"external nofollow\">Maxim Khrisanfov</a>.</li>\n<li>\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u044b\u0445 \u0440\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u0435\u043b\u0435\u0439 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u0432 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 \u0447\u0442\u0435\u043d\u0438\u044f \u0438\u0437 <code>Kafka</code> <a href=\"https://github.com/yandex/ClickHouse/pull/2701\" rel=\"external nofollow\">Amos Bird</a>.</li>\n</ul>\n<h4 id=\"uluchsheniia_14\">\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f:<a class=\"headerlink\" href=\"#uluchsheniia_14\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0417\u0430\u043f\u0440\u043e\u0441 <code>ALTER TABLE t DELETE WHERE</code> \u043d\u0435 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u0442 \u043a\u0443\u0441\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0435 \u0431\u044b\u043b\u0438 \u0437\u0430\u0442\u0440\u043e\u043d\u0443\u0442\u044b \u0443\u0441\u043b\u043e\u0432\u0438\u0435\u043c WHERE <a href=\"https://github.com/yandex/ClickHouse/pull/2694\" rel=\"external nofollow\">#2694</a>.</li>\n<li>\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>use_minimalistic_checksums_in_zookeeper</code> \u0442\u0430\u0431\u043b\u0438\u0446 \u0441\u0435\u043c\u0435\u0439\u0441\u0442\u0432\u0430 <code>ReplicatedMergeTree</code> \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0430 \u043f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e. \u042d\u0442\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0431\u044b\u043b\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432 \u0432\u0435\u0440\u0441\u0438\u0438 1.1.54378, 2018-04-16. \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0432\u0435\u0440\u0441\u0438\u0439, \u0431\u043e\u043b\u0435\u0435 \u0441\u0442\u0430\u0440\u044b\u0445, \u0447\u0435\u043c 1.1.54378, \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0441\u044f \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0439.</li>\n<li>\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0437\u0430\u043f\u0443\u0441\u043a \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 <code>KILL</code> \u0438 <code>OPTIMIZE</code> \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0435\u043c <code>ON CLUSTER</code> <a href=\"https://github.com/yandex/ClickHouse/pull/2689\" rel=\"external nofollow\">Winter Zhang</a>.</li>\n</ul>\n<h4 id=\"ispravlenie-oshibok_10\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0448\u0438\u0431\u043e\u043a:<a class=\"headerlink\" href=\"#ispravlenie-oshibok_10\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 <code>Column ... is not under aggregate function and not in GROUP BY</code> \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0430\u0433\u0440\u0435\u0433\u0430\u0446\u0438\u0438 \u043f\u043e \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044e \u0441 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u043e\u043c IN. \u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u044f\u0432\u0438\u043b\u0430\u0441\u044c \u0432 \u0432\u0435\u0440\u0441\u0438\u0438 18.1.0. (<a href=\"https://github.com/yandex/ClickHouse/commit/bbdd780be0be06a0f336775941cdd536878dd2c2\" rel=\"external nofollow\">bbdd780b</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>windowFunnel</code> <a href=\"https://github.com/yandex/ClickHouse/pull/2735\" rel=\"external nofollow\">Winter Zhang</a>.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>anyHeavy</code> (<a href=\"https://github.com/yandex/ClickHouse/commit/a2101df25a6a0fba99aa71f8793d762af2b801ee\" rel=\"external nofollow\">a2101df2</a>)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0430\u0434\u0435\u043d\u0438\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>countArray()</code>.</li>\n</ul>\n<h4 id=\"obratno-nesovmestimye-izmeneniia_8\">\u041e\u0431\u0440\u0430\u0442\u043d\u043e \u043d\u0435\u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u044b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f:<a class=\"headerlink\" href=\"#obratno-nesovmestimye-izmeneniia_8\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u0434\u043b\u044f \u0442\u0430\u0431\u043b\u0438\u0446 <code>Kafka</code> \u0431\u044b\u043b \u0438\u0437\u043c\u0435\u043d\u0451\u043d \u0441 <code>Kafka(kafka_broker_list, kafka_topic_list, kafka_group_name, kafka_format[, kafka_schema, kafka_num_consumers])</code> \u043d\u0430 <code>Kafka(kafka_broker_list, kafka_topic_list, kafka_group_name, kafka_format[, kafka_row_delimiter, kafka_schema, kafka_num_consumers])</code>. \u0415\u0441\u043b\u0438 \u0432\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043b\u0438 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b <code>kafka_schema</code> \u0438\u043b\u0438 <code>kafka_num_consumers</code>, \u0432\u0430\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u0440\u0443\u0447\u043d\u0443\u044e \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0444\u0430\u0439\u043b\u044b \u0441 \u043c\u0435\u0442\u0430\u0434\u0430\u043d\u043d\u044b\u043c\u0438 <code>path/metadata/database/table.sql</code>, \u0434\u043e\u0431\u0430\u0432\u0438\u0432 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 <code>kafka_row_delimiter</code> \u0441\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u043c <code>''</code> \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0435 \u043c\u0435\u0441\u0442\u043e.</li>\n</ul>\n<h3 id=\"clickhouse-release-18-1-0-2018-07-23\">ClickHouse release 18.1.0, 2018-07-23<a class=\"headerlink\" href=\"#clickhouse-release-18-1-0-2018-07-23\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"novye-vozmozhnosti_13\">\u041d\u043e\u0432\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438:<a class=\"headerlink\" href=\"#novye-vozmozhnosti_13\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 <code>ALTER TABLE t DELETE WHERE</code> \u0434\u043b\u044f \u043d\u0435\u0440\u0435\u043f\u043b\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 MergeTree-\u0442\u0430\u0431\u043b\u0438\u0446 (<a href=\"https://github.com/yandex/ClickHouse/pull/2634\" rel=\"external nofollow\">#2634</a>).</li>\n<li>\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u044b\u0445 \u0442\u0438\u043f\u043e\u0432 \u0434\u043b\u044f \u0441\u0435\u043c\u0435\u0439\u0441\u0442\u0432\u0430 \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 <code>uniq*</code> (<a href=\"https://github.com/yandex/ClickHouse/issues/2010\" rel=\"external nofollow\">#2010</a>).</li>\n<li>\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u044b\u0445 \u0442\u0438\u043f\u043e\u0432 \u0432 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u0430\u0445 \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044f (<a href=\"https://github.com/yandex/ClickHouse/issues/2026\" rel=\"external nofollow\">#2026</a>).</li>\n<li>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0432 <code>users.xml</code> \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043c\u0430\u0441\u043a\u0443 \u043f\u043e\u0434\u0441\u0435\u0442\u0438 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 <code>10.0.0.1/255.255.255.0</code>. \u042d\u0442\u043e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0434\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \"\u0434\u044b\u0440\u044f\u0432\u044b\u0445\" \u043c\u0430\u0441\u043e\u043a IPv6 \u0441\u0435\u0442\u0435\u0439 (<a href=\"https://github.com/yandex/ClickHouse/pull/2637\" rel=\"external nofollow\">#2637</a>).</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f <code>arrayDistinct</code> (<a href=\"https://github.com/yandex/ClickHouse/pull/2670\" rel=\"external nofollow\">#2670</a>).</li>\n<li>\u0414\u0432\u0438\u0436\u043e\u043a SummingMergeTree \u0442\u0435\u043f\u0435\u0440\u044c \u043c\u043e\u0436\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0441\u043e \u0441\u0442\u043e\u043b\u0431\u0446\u0430\u043c\u0438 \u0442\u0438\u043f\u0430 AggregateFunction (<a href=\"https://github.com/yandex/ClickHouse/pull/2566\" rel=\"external nofollow\">Constantin S. Pan</a>).</li>\n</ul>\n<h4 id=\"uluchsheniia_15\">\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f:<a class=\"headerlink\" href=\"#uluchsheniia_15\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0430 \u0441\u0445\u0435\u043c\u0430 \u0432\u0435\u0440\u0441\u0438\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0440\u0435\u043b\u0438\u0437\u043e\u0432. \u0422\u0435\u043f\u0435\u0440\u044c \u043f\u0435\u0440\u0432\u044b\u0439 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0433\u043e\u0434 \u0440\u0435\u043b\u0438\u0437\u0430 (A.D.; \u043f\u043e \u043c\u043e\u0441\u043a\u043e\u0432\u0441\u043a\u043e\u043c\u0443 \u0432\u0440\u0435\u043c\u0435\u043d\u0438; \u0438\u0437 \u043d\u043e\u043c\u0435\u0440\u0430 \u0432\u044b\u0447\u0438\u0442\u0430\u0435\u0442\u0441\u044f 2000), \u0432\u0442\u043e\u0440\u043e\u0439 - \u043d\u043e\u043c\u0435\u0440 \u043a\u0440\u0443\u043f\u043d\u044b\u0445 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439 (\u0443\u0432\u0435\u043b\u0438\u0447\u0438\u0432\u0430\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u0431\u043e\u043b\u044c\u0448\u0438\u043d\u0441\u0442\u0432\u0430 \u0440\u0435\u043b\u0438\u0437\u043e\u0432), \u0442\u0440\u0435\u0442\u0438\u0439 - \u043f\u0430\u0442\u0447-\u0432\u0435\u0440\u0441\u0438\u044f. \u0420\u0435\u043b\u0438\u0437\u044b \u043f\u043e-\u043f\u0440\u0435\u0436\u043d\u0435\u043c\u0443 \u043e\u0431\u0440\u0430\u0442\u043d\u043e \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u044b, \u0435\u0441\u043b\u0438 \u0434\u0440\u0443\u0433\u043e\u0435 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e \u0432 changelog.</li>\n<li>\u0423\u0441\u043a\u043e\u0440\u0435\u043d\u043e \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0447\u0438\u0441\u0435\u043b \u0441 \u043f\u043b\u0430\u0432\u0430\u044e\u0449\u0435\u0439 \u0442\u043e\u0447\u043a\u043e\u0439 \u0432 \u0441\u0442\u0440\u043e\u043a\u0443 (<a href=\"https://github.com/yandex/ClickHouse/pull/2664\" rel=\"external nofollow\">Amos Bird</a>).</li>\n<li>\u0422\u0435\u043f\u0435\u0440\u044c, \u0435\u0441\u043b\u0438 \u043f\u0440\u0438 \u0432\u0441\u0442\u0430\u0432\u043a\u0435 \u0438\u0437-\u0437\u0430 \u043e\u0448\u0438\u0431\u043e\u043a \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0430 \u043f\u0440\u043e\u043f\u0443\u0449\u0435\u043d\u043e \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0442\u0440\u043e\u043a (\u0442\u0430\u043a\u043e\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043f\u0440\u043e \u0432\u043a\u043b\u044e\u0447\u0451\u043d\u043d\u044b\u0445 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 <code>input_allow_errors_num</code>, <code>input_allow_errors_ratio</code>), \u044d\u0442\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0438\u0448\u0435\u0442\u0441\u044f \u0432 \u043b\u043e\u0433 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 (<a href=\"https://github.com/yandex/ClickHouse/pull/2669\" rel=\"external nofollow\">Leonardo Cecchi</a>).</li>\n</ul>\n<h4 id=\"ispravlenie-oshibok_11\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0448\u0438\u0431\u043e\u043a:<a class=\"headerlink\" href=\"#ispravlenie-oshibok_11\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u044b TRUNCATE \u0434\u043b\u044f \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u0442\u0430\u0431\u043b\u0438\u0446 (<a href=\"https://github.com/yandex/ClickHouse/pull/2624\" rel=\"external nofollow\">Amos Bird</a>).</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u0440\u0435\u0434\u043a\u0438\u0439 deadlock \u0432 \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u043e\u0439 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0435 ZooKeeper, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u043b \u043f\u0440\u0438 \u0441\u0435\u0442\u0435\u0432\u043e\u0439 \u043e\u0448\u0438\u0431\u043a\u0435 \u0432\u043e \u0432\u0440\u0435\u043c\u044f \u0432\u044b\u0447\u0438\u0442\u044b\u0432\u0430\u043d\u0438\u044f \u043e\u0442\u0432\u0435\u0442\u0430 (<a href=\"https://github.com/yandex/ClickHouse/commit/c315200e64b87e44bdf740707fc857d1fdf7e947\" rel=\"external nofollow\">c315200</a>).</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 CAST \u0432 Nullable \u0442\u0438\u043f\u044b (<a href=\"https://github.com/yandex/ClickHouse/issues/1322\" rel=\"external nofollow\">#1322</a>).</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>maxIntersection()</code> \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u044f \u0433\u0440\u0430\u043d\u0438\u0446 \u043e\u0442\u0440\u0435\u0437\u043a\u043e\u0432 (<a href=\"https://github.com/yandex/ClickHouse/pull/2657\" rel=\"external nofollow\">Michael Furmur</a>).</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043d\u0435\u0432\u0435\u0440\u043d\u043e\u0435 \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0446\u0435\u043f\u043e\u0447\u043a\u0438 OR-\u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u0432 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 (<a href=\"https://github.com/yandex/ClickHouse/pull/2663\" rel=\"external nofollow\">chenxing-xc</a>).</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0434\u0435\u0433\u0440\u0430\u0434\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0438\u0445 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0435 <code>IN (\u043f\u043e\u0434\u0437\u0430\u043f\u0440\u043e\u0441)</code> \u0432\u043d\u0443\u0442\u0440\u0438 \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u043f\u043e\u0434\u0437\u0430\u043f\u0440\u043e\u0441\u0430 (<a href=\"https://github.com/yandex/ClickHouse/issues/2571\" rel=\"external nofollow\">#2571</a>).</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0435\u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u0432 \u0440\u0430\u0437\u043d\u044b\u0445 \u0432\u0435\u0440\u0441\u0438\u0439 \u043f\u0440\u0438 \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0451\u043d\u043d\u044b\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0449\u0438\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u044e <code>CAST</code> \u043d\u0435 \u0432 \u0432\u0435\u0440\u0445\u043d\u0435\u043c \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0435 (<a href=\"https://github.com/yandex/ClickHouse/commit/fe8c4d64e434cacd4ceef34faa9005129f2190a5\" rel=\"external nofollow\">fe8c4d6</a>).</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u044e\u0449\u0435\u0435 \u043a\u0432\u043e\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u043e\u0432 \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445 \u043a \u0432\u043d\u0435\u0448\u043d\u0438\u043c \u0421\u0423\u0411\u0414 (<a href=\"https://github.com/yandex/ClickHouse/issues/2635\" rel=\"external nofollow\">#2635</a>).</li>\n</ul>\n<h4 id=\"obratno-nesovmestimye-izmeneniia_9\">\u041e\u0431\u0440\u0430\u0442\u043d\u043e \u043d\u0435\u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u044b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f:<a class=\"headerlink\" href=\"#obratno-nesovmestimye-izmeneniia_9\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u041d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u0442\u0440\u043e\u043a\u0438, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0435\u0439 \u0447\u0438\u0441\u043b\u043e \u043d\u043e\u043b\u044c, \u0432 DateTime. \u041f\u0440\u0438\u043c\u0435\u0440: <code>SELECT toDateTime('0')</code>. \u041f\u043e \u0442\u043e\u0439 \u0436\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0435 \u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 <code>DateTime DEFAULT '0'</code> \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0430\u0445, \u0430 \u0442\u0430\u043a\u0436\u0435 <code>&lt;null_value&gt;0&lt;/null_value&gt;</code> \u0432 \u0441\u043b\u043e\u0432\u0430\u0440\u044f\u0445. \u0420\u0435\u0448\u0435\u043d\u0438\u0435: \u0437\u0430\u043c\u0435\u043d\u0438\u0442\u044c <code>0</code> \u043d\u0430 <code>0000-00-00 00:00:00</code>.</li>\n</ul>\n<h3 id=\"clickhouse-release-1-1-54394-2018-07-12\">ClickHouse release 1.1.54394, 2018-07-12<a class=\"headerlink\" href=\"#clickhouse-release-1-1-54394-2018-07-12\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"novye-vozmozhnosti_14\">\u041d\u043e\u0432\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438:<a class=\"headerlink\" href=\"#novye-vozmozhnosti_14\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u0430\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u044f <code>histogram</code> (<a href=\"https://github.com/yandex/ClickHouse/pull/2521\" rel=\"external nofollow\">\u041c\u0438\u0445\u0430\u0438\u043b \u0421\u0443\u0440\u0438\u043d</a>).</li>\n<li>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f <code>OPTIMIZE TABLE ... FINAL</code> \u0431\u0435\u0437 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u044f \u043f\u0430\u0440\u0442\u0438\u0446\u0438\u0438 \u0434\u043b\u044f <code>ReplicatedMergeTree</code> (<a href=\"https://github.com/yandex/ClickHouse/pull/2600\" rel=\"external nofollow\">Amos\u00a0Bird</a>).</li>\n</ul>\n<h4 id=\"ispravlenie-oshibok_12\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0448\u0438\u0431\u043e\u043a:<a class=\"headerlink\" href=\"#ispravlenie-oshibok_12\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 - \u0432\u044b\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u0430\u043b\u0435\u043d\u044c\u043a\u043e\u0433\u043e \u0442\u0430\u0439\u043c\u0430\u0443\u0442\u0430 \u0443 \u0441\u043e\u043a\u0435\u0442\u043e\u0432 (\u043e\u0434\u043d\u0430 \u0441\u0435\u043a\u0443\u043d\u0434\u0430) \u0434\u043b\u044f \u0447\u0442\u0435\u043d\u0438\u044f \u0438 \u0437\u0430\u043f\u0438\u0441\u0438 \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0438 \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u0438 \u0440\u0435\u043f\u043b\u0438\u0446\u0438\u0440\u0443\u0435\u043c\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445, \u0447\u0442\u043e \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u043b\u043e \u043a \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0441\u043a\u0430\u0447\u0430\u0442\u044c \u043a\u0443\u0441\u043a\u0438 \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0431\u043e\u043b\u044c\u0448\u043e\u0433\u043e \u0440\u0430\u0437\u043c\u0435\u0440\u0430 \u043f\u0440\u0438 \u043d\u0430\u043b\u0438\u0447\u0438\u0438 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043d\u0430 \u0441\u0435\u0442\u044c \u0438\u043b\u0438 \u0434\u0438\u0441\u043a (\u043f\u043e\u043f\u044b\u0442\u043a\u0438 \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u044f \u043a\u0443\u0441\u043a\u043e\u0432 \u0446\u0438\u043a\u043b\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u043e\u0432\u0442\u043e\u0440\u044f\u044e\u0442\u0441\u044f). \u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u0432 \u0432\u0435\u0440\u0441\u0438\u0438 1.1.54388.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0430 \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 chroot \u0432 ZooKeeper, \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0432\u0441\u0442\u0430\u0432\u043a\u0438 \u0434\u0443\u0431\u043b\u0438\u0440\u0443\u044e\u0449\u0438\u0445\u0441\u044f \u0431\u043b\u043e\u043a\u043e\u0432 \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0443.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>has</code> \u0434\u043b\u044f \u0441\u043b\u0443\u0447\u0430\u044f \u043c\u0430\u0441\u0441\u0438\u0432\u0430 \u0441 Nullable \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430\u043c\u0438 (<a href=\"https://github.com/yandex/ClickHouse/issues/2521\" rel=\"external nofollow\">#2115</a>).</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0430 \u0442\u0430\u0431\u043b\u0438\u0446\u044b <code>system.tables</code> \u043f\u0440\u0438 \u0435\u0451 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 \u0432 \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0451\u043d\u043d\u044b\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445; \u0441\u0442\u043e\u043b\u0431\u0446\u044b <code>metadata_modification_time</code> \u0438 <code>engine_full</code> \u0441\u0434\u0435\u043b\u0430\u043d\u044b \u043d\u0435\u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u044b\u043c\u0438; \u0438\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435, \u0435\u0441\u043b\u0438 \u0438\u0437 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0431\u044b\u043b\u0438 \u0437\u0430\u043f\u0440\u043e\u0448\u0435\u043d\u044b \u0442\u043e\u043b\u044c\u043a\u043e \u044d\u0442\u0438 \u0441\u0442\u043e\u043b\u0431\u0446\u044b.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0430 \u043f\u0443\u0441\u0442\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0442\u0438\u043f\u0430 <code>TinyLog</code> \u043f\u043e\u0441\u043b\u0435 \u0432\u0441\u0442\u0430\u0432\u043a\u0438 \u0432 \u043d\u0435\u0451 \u043f\u0443\u0441\u0442\u043e\u0433\u043e \u0431\u043b\u043e\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 (<a href=\"https://github.com/yandex/ClickHouse/issues/2563\" rel=\"external nofollow\">#2563</a>).</li>\n<li>\u0422\u0430\u0431\u043b\u0438\u0446\u0430 <code>system.zookeeper</code> \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435, \u0435\u0441\u043b\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u0443\u0437\u043b\u0430 \u0432 ZooKeeper \u0440\u0430\u0432\u043d\u043e NULL.</li>\n</ul>\n<h3 id=\"clickhouse-release-1-1-54390-2018-07-06\">ClickHouse release 1.1.54390, 2018-07-06<a class=\"headerlink\" href=\"#clickhouse-release-1-1-54390-2018-07-06\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"novye-vozmozhnosti_15\">\u041d\u043e\u0432\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438:<a class=\"headerlink\" href=\"#novye-vozmozhnosti_15\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 <code>multipart/form-data</code> (\u0432 \u043f\u043e\u043b\u0435 <code>query</code>), \u0447\u0442\u043e \u043f\u043e\u043b\u0435\u0437\u043d\u043e, \u0435\u0441\u043b\u0438 \u043f\u0440\u0438 \u044d\u0442\u043e\u043c \u0442\u0430\u043a\u0436\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u0432\u043d\u0435\u0448\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0434\u043b\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 (<a href=\"https://github.com/yandex/ClickHouse/pull/2490\" rel=\"external nofollow\">\u041e\u043b\u044c\u0433\u0430 \u0425\u0432\u043e\u0441\u0442\u0438\u043a\u043e\u0432\u0430</a>).</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0438\u043b\u0438 \u043e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u043e\u0434\u0438\u043d\u0430\u0440\u043d\u044b\u0445 \u0438\u043b\u0438 \u0434\u0432\u043e\u0439\u043d\u044b\u0445 \u043a\u0430\u0432\u044b\u0447\u0435\u043a \u043f\u0440\u0438 \u0447\u0442\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 CSV. \u042d\u0442\u043e \u0437\u0430\u0434\u0430\u0451\u0442\u0441\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u043c\u0438 <code>format_csv_allow_single_quotes</code> \u0438 <code>format_csv_allow_double_quotes</code> (<a href=\"https://github.com/yandex/ClickHouse/pull/2574\" rel=\"external nofollow\">Amos\u00a0Bird</a>)</li>\n<li>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f <code>OPTIMIZE TABLE ... FINAL</code> \u0431\u0435\u0437 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u044f \u043f\u0430\u0440\u0442\u0438\u0446\u0438\u0438 \u0434\u043b\u044f \u043d\u0435 \u0440\u0435\u043f\u043b\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u0432<code>MergeTree</code> (<a href=\"https://github.com/yandex/ClickHouse/pull/2599\" rel=\"external nofollow\">Amos\u00a0Bird</a>).</li>\n</ul>\n<h4 id=\"uluchsheniia_16\">\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f:<a class=\"headerlink\" href=\"#uluchsheniia_16\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0423\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c, \u0443\u043c\u0435\u043d\u044c\u0448\u0435\u043d\u043e \u043f\u043e\u0442\u0440\u0435\u0431\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u043c\u044f\u0442\u0438, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0443\u0447\u0451\u0442 \u043f\u043e\u0442\u0440\u0435\u0431\u043b\u0435\u043d\u0438\u044f \u043f\u0430\u043c\u044f\u0442\u0438, \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u0430 IN \u0432 \u0441\u043b\u0443\u0447\u0430\u0435, \u043a\u043e\u0433\u0434\u0430 \u0434\u043b\u044f \u0435\u0433\u043e \u0440\u0430\u0431\u043e\u0442\u044b \u043c\u043e\u0436\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0438\u043d\u0434\u0435\u043a\u0441 \u0442\u0430\u0431\u043b\u0438\u0446\u044b (<a href=\"https://github.com/yandex/ClickHouse/pull/2584\" rel=\"external nofollow\">#2584</a>).</li>\n<li>\u0423\u0431\u0440\u0430\u043d\u044b \u0438\u0437\u0431\u044b\u0442\u043e\u0447\u043d\u044b\u0435 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u0447\u0435\u043a\u0441\u0443\u043c\u043c \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u043a\u0443\u0441\u043a\u0430. \u042d\u0442\u043e \u0432\u0430\u0436\u043d\u043e \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0431\u043e\u043b\u044c\u0448\u043e\u0433\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u0440\u0435\u043f\u043b\u0438\u043a, \u0442\u0430\u043a \u043a\u0430\u043a \u0432 \u044d\u0442\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435 \u0441\u0443\u043c\u043c\u0430\u0440\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0440\u043e\u0432\u0435\u0440\u043e\u043a \u0431\u044b\u043b\u043e \u0440\u0430\u0432\u043d\u043e N^2.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0442\u0438\u043f\u0430 <code>Array(Tuple(...))</code> \u0434\u043b\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>arrayEnumerateUniq</code> (<a href=\"https://github.com/yandex/ClickHouse/pull/2573\" rel=\"external nofollow\">#2573</a>).</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 <code>Nullable</code> \u0434\u043b\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>runningDifference</code>. (<a href=\"https://github.com/yandex/ClickHouse/pull/2594\" rel=\"external nofollow\">#2594</a>)</li>\n<li>\u0423\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0430\u043d\u0430\u043b\u0438\u0437\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043e\u0447\u0435\u043d\u044c \u0431\u043e\u043b\u044c\u0448\u043e\u0433\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0439 (<a href=\"https://github.com/yandex/ClickHouse/pull/2572\" rel=\"external nofollow\">#2572</a>).</li>\n<li>\u0411\u043e\u043b\u0435\u0435 \u0431\u044b\u0441\u0442\u0440\u044b\u0439 \u0432\u044b\u0431\u043e\u0440 \u043a\u0443\u0441\u043a\u043e\u0432 \u0434\u043b\u044f \u0441\u043b\u0438\u044f\u043d\u0438\u044f \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0430\u0445 \u0442\u0438\u043f\u0430 <code>ReplicatedMergeTree</code>. \u0411\u043e\u043b\u0435\u0435 \u0431\u044b\u0441\u0442\u0440\u043e\u0435 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0435\u0441\u0441\u0438\u0438 \u0441 ZooKeeper. (<a href=\"https://github.com/yandex/ClickHouse/pull/2597\" rel=\"external nofollow\">#2597</a>).</li>\n<li>\u0424\u0430\u0439\u043b <code>format_version.txt</code> \u0434\u043b\u044f \u0442\u0430\u0431\u043b\u0438\u0446 \u0441\u0435\u043c\u0435\u0439\u0441\u0442\u0432\u0430 <code>MergeTree</code> \u0441\u043e\u0437\u0434\u0430\u0451\u0442\u0441\u044f \u0437\u0430\u043d\u043e\u0432\u043e \u043f\u0440\u0438 \u0435\u0433\u043e \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u0438, \u0447\u0442\u043e \u0438\u043c\u0435\u0435\u0442 \u0441\u043c\u044b\u0441\u043b \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0437\u0430\u043f\u0443\u0441\u043a\u0430 ClickHouse \u043f\u043e\u0441\u043b\u0435 \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0439 \u0431\u0435\u0437 \u0444\u0430\u0439\u043b\u043e\u0432 (<a href=\"https://github.com/yandex/ClickHouse/pull/2593\" rel=\"external nofollow\">Ciprian Hacman</a>).</li>\n</ul>\n<h4 id=\"ispravlenie-oshibok_13\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0448\u0438\u0431\u043e\u043a:<a class=\"headerlink\" href=\"#ispravlenie-oshibok_13\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0440\u0430\u0431\u043e\u0442\u0435 \u0441 ZooKeeper, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043c\u043e\u0433\u043b\u0430 \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u0442\u044c \u043a \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u0435\u0441\u0441\u0438\u0438 \u0438 readonly \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f\u043c \u0442\u0430\u0431\u043b\u0438\u0446 \u0434\u043e \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0440\u0430\u0431\u043e\u0442\u0435 \u0441 ZooKeeper, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043c\u043e\u0433\u043b\u0430 \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u0442\u044c \u043a \u043d\u0435\u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044e \u0441\u0442\u0430\u0440\u044b\u0445 \u0443\u0437\u043b\u043e\u0432 \u043f\u0440\u0438 \u0440\u0430\u0437\u0440\u044b\u0432\u0435 \u0441\u0435\u0441\u0441\u0438\u0438.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>quantileTDigest</code> \u0434\u043b\u044f Float \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u0432 (\u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u044f\u0432\u0438\u043b\u0430\u0441\u044c \u0432 \u0432\u0435\u0440\u0441\u0438\u0438 1.1.54388) (<a href=\"https://github.com/yandex/ClickHouse/pull/2553\" rel=\"external nofollow\">\u041c\u0438\u0445\u0430\u0438\u043b \u0421\u0443\u0440\u0438\u043d</a>).</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0440\u0430\u0431\u043e\u0442\u044b \u0438\u043d\u0434\u0435\u043a\u0441\u0430 \u0442\u0430\u0431\u043b\u0438\u0446 \u0442\u0438\u043f\u0430 MergeTree, \u0435\u0441\u043b\u0438 \u0432 \u0443\u0441\u043b\u043e\u0432\u0438\u0438, \u0441\u0442\u043e\u043b\u0431\u0435\u0446 \u043f\u0435\u0440\u0432\u0438\u0447\u043d\u043e\u0433\u043e \u043a\u043b\u044e\u0447\u0430 \u0440\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d \u0432\u043d\u0443\u0442\u0440\u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0442\u0438\u043f\u043e\u0432 \u043c\u0435\u0436\u0434\u0443 \u0437\u043d\u0430\u043a\u043e\u0432\u044b\u043c \u0438 \u0431\u0435\u0437\u0437\u043d\u0430\u043a\u043e\u0432\u044b\u043c \u0446\u0435\u043b\u044b\u043c \u043e\u0434\u043d\u043e\u0433\u043e \u0440\u0430\u0437\u043c\u0435\u0440\u0430 (<a href=\"https://github.com/yandex/ClickHouse/pull/2603\" rel=\"external nofollow\">#2603</a>).</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d segfault, \u0435\u0441\u043b\u0438 \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u043c \u0444\u0430\u0439\u043b\u0435 \u043d\u0435\u0442 <code>macros</code>, \u043d\u043e \u043e\u043d\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f (<a href=\"https://github.com/yandex/ClickHouse/pull/2570\" rel=\"external nofollow\">#2570</a>).</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043d\u0430 \u0431\u0430\u0437\u0443 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u043f\u0440\u0438 \u043f\u0435\u0440\u0435\u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0438 \u043a\u043b\u0438\u0435\u043d\u0442\u0430 (<a href=\"https://github.com/yandex/ClickHouse/pull/2583\" rel=\"external nofollow\">#2583</a>).</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u043e\u0439 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 <code>use_index_for_in_with_subqueries</code>.</li>\n</ul>\n<h4 id=\"ispravleniia-bezopasnosti_1\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438:<a class=\"headerlink\" href=\"#ispravleniia-bezopasnosti_1\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u041f\u0440\u0438 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f\u0445 \u0441 MySQL \u0443\u0434\u0430\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0444\u0430\u0439\u043b\u043e\u0432 (<code>LOAD DATA LOCAL INFILE</code>).</li>\n</ul>\n<h3 id=\"clickhouse-release-1-1-54388-2018-06-28\">ClickHouse release 1.1.54388, 2018-06-28<a class=\"headerlink\" href=\"#clickhouse-release-1-1-54388-2018-06-28\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"novye-vozmozhnosti_16\">\u041d\u043e\u0432\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438:<a class=\"headerlink\" href=\"#novye-vozmozhnosti_16\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 <code>ALTER TABLE t DELETE WHERE</code> \u0434\u043b\u044f \u0440\u0435\u043f\u043b\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u0442\u0430\u0431\u043b\u0438\u0446 \u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u0430 <code>system.mutations</code>.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 <code>ALTER TABLE t [REPLACE|ATTACH] PARTITION</code> \u0434\u043b\u044f *MergeTree-\u0442\u0430\u0431\u043b\u0438\u0446.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 <code>TRUNCATE TABLE</code> (<a href=\"https://github.com/yandex/ClickHouse/pull/2260\" rel=\"external nofollow\">Winter Zhang</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043d\u043e\u0432\u044b\u0445 <code>SYSTEM</code>-\u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0434\u043b\u044f \u0440\u0435\u043f\u043b\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u0442\u0430\u0431\u043b\u0438\u0446 (<code>RESTART REPLICAS</code>, <code>SYNC REPLICA</code>, <code>[STOP|START] [MERGES|FETCHES|REPLICATED SENDS|REPLICATION QUEUES]</code>).</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u0438 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 \u0441 \u0434\u0432\u0438\u0436\u043a\u043e\u043c MySQL \u0438 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0443\u044e \u0442\u0430\u0431\u043b\u0438\u0447\u043d\u0443\u044e \u0444\u0443\u043d\u043a\u0446\u0438\u044e (<a href=\"https://github.com/yandex/ClickHouse/pull/2294\" rel=\"external nofollow\">sundy-li</a>).</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0442\u0430\u0431\u043b\u0438\u0447\u043d\u0430\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u044f <code>url()</code> \u0438 \u0434\u0432\u0438\u0436\u043e\u043a \u0442\u0430\u0431\u043b\u0438\u0446 <code>URL</code> (<a href=\"https://github.com/yandex/ClickHouse/pull/2501\" rel=\"external nofollow\">\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440 \u0421\u0430\u043f\u0438\u043d</a>).</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u0430\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u044f <code>windowFunnel</code> (<a href=\"https://github.com/yandex/ClickHouse/pull/2352\" rel=\"external nofollow\">sundy-li</a>).</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>startsWith</code> \u0438 <code>endsWith</code> \u0434\u043b\u044f \u0441\u0442\u0440\u043e\u043a (<a href=\"https://github.com/yandex/ClickHouse/pull/2429\" rel=\"external nofollow\">\u0412\u0430\u0434\u0438\u043c \u041f\u043b\u0430\u0445\u0442\u0438\u043d\u0441\u043a\u0438\u0439</a>).</li>\n<li>\u0412 \u0442\u0430\u0431\u043b\u0438\u0447\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>numbers()</code> \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c offset (<a href=\"https://github.com/yandex/ClickHouse/pull/2535\" rel=\"external nofollow\">Winter Zhang</a>).</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0438\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0433\u043e \u0432\u0432\u043e\u0434\u0430 \u043f\u0430\u0440\u043e\u043b\u044f \u0432 <code>clickhouse-client</code>.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u043b\u043e\u0433\u043e\u0432 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0432 syslog (<a href=\"https://github.com/yandex/ClickHouse/pull/2459\" rel=\"external nofollow\">\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440 \u041a\u0440\u0430\u0448\u0435\u043d\u0438\u043d\u043d\u0438\u043a\u043e\u0432</a>).</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0432 \u0441\u043b\u043e\u0432\u0430\u0440\u044f\u0445 \u0441 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u043e\u043c shared library (<a href=\"https://github.com/yandex/ClickHouse/pull/2472\" rel=\"external nofollow\">\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440 \u0421\u0430\u043f\u0438\u043d</a>).</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u043e\u0433\u043e \u0440\u0430\u0437\u0434\u0435\u043b\u0438\u0442\u0435\u043b\u044f \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 CSV (<a href=\"https://github.com/yandex/ClickHouse/pull/2263\" rel=\"external nofollow\">\u0418\u0432\u0430\u043d \u0416\u0443\u043a\u043e\u0432</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>date_time_input_format</code>. \u0415\u0441\u043b\u0438 \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u044d\u0442\u0443 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0443 \u0432 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 <code>'best_effort'</code>, \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f DateTime \u0431\u0443\u0434\u0443\u0442 \u0447\u0438\u0442\u0430\u0442\u044c\u0441\u044f \u0432 \u0448\u0438\u0440\u043e\u043a\u043e\u043c \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u0435 \u0444\u043e\u0440\u043c\u0430\u0442\u043e\u0432.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0443\u0442\u0438\u043b\u0438\u0442\u0430 <code>clickhouse-obfuscator</code> \u0434\u043b\u044f \u043e\u0431\u0444\u0443\u0441\u043a\u0430\u0446\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445. \u041f\u0440\u0438\u043c\u0435\u0440 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f: \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0445 \u0432 \u0442\u0435\u0441\u0442\u0430\u0445 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438.</li>\n</ul>\n<h4 id=\"eksperimentalnye-vozmozhnosti_4\">\u042d\u043a\u0441\u043f\u0435\u0440\u0438\u043c\u0435\u043d\u0442\u0430\u043b\u044c\u043d\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438:<a class=\"headerlink\" href=\"#eksperimentalnye-vozmozhnosti_4\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0432\u044b\u0447\u0438\u0441\u043b\u044f\u0442\u044c \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>and</code> \u0442\u043e\u043b\u044c\u043a\u043e \u0442\u0430\u043c, \u0433\u0434\u0435 \u043e\u043d\u0438 \u043d\u0443\u0436\u043d\u044b (<a href=\"https://github.com/yandex/ClickHouse/pull/2272\" rel=\"external nofollow\">\u0410\u043d\u0430\u0441\u0442\u0430\u0441\u0438\u044f \u0426\u0430\u0440\u044c\u043a\u043e\u0432\u0430</a>)</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c JIT-\u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u0438 \u0432 \u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0439 \u043a\u043e\u0434 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0439 (<a href=\"https://github.com/yandex/ClickHouse/pull/2277\" rel=\"external nofollow\">pyos</a>).</li>\n</ul>\n<h4 id=\"ispravlenie-oshibok_14\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0448\u0438\u0431\u043e\u043a:<a class=\"headerlink\" href=\"#ispravlenie-oshibok_14\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u043e\u044f\u0432\u043b\u0435\u043d\u0438\u0435 \u0434\u0443\u0431\u043b\u0435\u0439 \u0432 \u0437\u0430\u043f\u0440\u043e\u0441\u0435 \u0441 <code>DISTINCT</code> \u0438 <code>ORDER BY</code>.</li>\n<li>\u0417\u0430\u043f\u0440\u043e\u0441\u044b \u0441 <code>ARRAY JOIN</code> \u0438 <code>arrayFilter</code> \u0440\u0430\u043d\u044c\u0448\u0435 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u043b\u0438 \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0447\u0442\u0435\u043d\u0438\u0438 \u0441\u0442\u043e\u043b\u0431\u0446\u0430-\u043c\u0430\u0441\u0441\u0438\u0432\u0430 \u0438\u0437 Nested-\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b (<a href=\"https://github.com/yandex/ClickHouse/issues/2066\" rel=\"external nofollow\">#2066</a>).</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0430\u043d\u0430\u043b\u0438\u0437\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0441 \u0441\u0435\u043a\u0446\u0438\u0435\u0439 HAVING \u0432\u0438\u0434\u0430 <code>HAVING tuple IN (...)</code>.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0430\u043d\u0430\u043b\u0438\u0437\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0441 \u0440\u0435\u043a\u0443\u0440\u0441\u0438\u0432\u043d\u044b\u043c\u0438 \u0430\u043b\u0438\u0430\u0441\u0430\u043c\u0438.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0447\u0442\u0435\u043d\u0438\u0438 \u0438\u0437 ReplacingMergeTree \u0441 \u0443\u0441\u043b\u043e\u0432\u0438\u0435\u043c \u0432 PREWHERE, \u0444\u0438\u043b\u044c\u0442\u0440\u0443\u044e\u0449\u0438\u043c \u0432\u0441\u0435 \u0441\u0442\u0440\u043e\u043a\u0438 (<a href=\"https://github.com/yandex/ClickHouse/issues/2525\" rel=\"external nofollow\">#2525</a>).</li>\n<li>\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043f\u0440\u043e\u0444\u0438\u043b\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043d\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u043b\u0438\u0441\u044c \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 \u0441\u0435\u0441\u0441\u0438\u0439 \u0432 HTTP-\u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0435.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u0438\u0437 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u043a\u043e\u043c\u0430\u043d\u0434\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438 \u0432 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0435 clickhouse-local.</li>\n<li>\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0430\u044f \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 ZooKeeper \u0442\u0435\u043f\u0435\u0440\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 \u0442\u0430\u0439\u043c\u0430\u0443\u0442 \u0441\u0435\u0441\u0441\u0438\u0438, \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0439 \u043e\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0432 \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u043e\u0439 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0435 ZooKeeper, \u0438\u0437-\u0437\u0430 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u0435 \u043e\u0442\u0432\u0435\u0442\u0430 \u043e\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u043c\u043e\u0433\u043b\u043e \u0434\u043b\u0438\u0442\u044c\u0441\u044f \u0434\u043e\u043b\u044c\u0448\u0435 \u0442\u0430\u0439\u043c\u0430\u0443\u0442\u0430.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043e\u0442\u0441\u0435\u0447\u0435\u043d\u0438\u0435 \u043d\u0435\u043d\u0443\u0436\u043d\u044b\u0445 \u043a\u0443\u0441\u043a\u043e\u0432 \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0435 \u0441 \u0443\u0441\u043b\u043e\u0432\u0438\u0435\u043c \u043d\u0430 \u0441\u0442\u043e\u043b\u0431\u0446\u044b \u043a\u043b\u044e\u0447\u0430 \u043f\u0430\u0440\u0442\u0438\u0446\u0438\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f (<a href=\"https://github.com/yandex/ClickHouse/issues/2342\" rel=\"external nofollow\">#2342</a>).</li>\n<li>\u041f\u043e\u0441\u043b\u0435 <code>CLEAR COLUMN IN PARTITION</code> \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0439 \u043f\u0430\u0440\u0442\u0438\u0446\u0438\u0438 \u0442\u0435\u043f\u0435\u0440\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u044b \u0441\u043b\u0438\u044f\u043d\u0438\u044f (<a href=\"https://github.com/yandex/ClickHouse/issues/2315\" rel=\"external nofollow\">#2315</a>).</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0435 \u0442\u0438\u043f\u043e\u0432 \u0432 \u0442\u0430\u0431\u043b\u0438\u0447\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 ODBC (<a href=\"https://github.com/yandex/ClickHouse/pull/2268\" rel=\"external nofollow\">sundy-li</a>).</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0435 \u0442\u0438\u043f\u043e\u0432 <code>DateTime</code> \u0441 \u0442\u0430\u0439\u043c\u0437\u043e\u043d\u043e\u0439 \u0438 \u0431\u0435\u0437 \u043d\u0435\u0451 (<a href=\"https://github.com/yandex/ClickHouse/pull/2400\" rel=\"external nofollow\">\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440 \u0411\u043e\u0447\u0430\u0440\u043e\u0432</a>).</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u0441\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0440\u0430\u0437\u0431\u043e\u0440 \u0438 \u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u0430 <code>CAST</code>.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u0441\u0442\u0430\u0432\u043a\u0430 \u0432 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u043e\u0435 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435, \u0435\u0441\u043b\u0438 \u0434\u0432\u0438\u0436\u043e\u043a \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f - Distributed (<a href=\"https://github.com/yandex/ClickHouse/pull/2411\" rel=\"external nofollow\">Babacar Diass\u00e9</a>).</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d race condition \u043f\u0440\u0438 \u0437\u0430\u043f\u0438\u0441\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437 \u0434\u0432\u0438\u0436\u043a\u0430 <code>Kafka</code> \u0432 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f (<a href=\"https://github.com/yandex/ClickHouse/pull/2448\" rel=\"external nofollow\">Yangkuan Liu</a>).</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 SSRF \u0432 \u0442\u0430\u0431\u043b\u0438\u0447\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 remote().</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u0432\u044b\u0445\u043e\u0434 \u0438\u0437 <code>clickhouse-client</code> \u0432 multiline-\u0440\u0435\u0436\u0438\u043c\u0435 (<a href=\"https://github.com/yandex/ClickHouse/issues/2510\" rel=\"external nofollow\">#2510</a>).</li>\n</ul>\n<h4 id=\"uluchsheniia_17\">\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f:<a class=\"headerlink\" href=\"#uluchsheniia_17\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0424\u043e\u043d\u043e\u0432\u044b\u0435 \u0437\u0430\u0434\u0430\u0447\u0438 \u0432 \u0440\u0435\u043f\u043b\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u0442\u0430\u0431\u043b\u0438\u0446\u0430\u0445 \u0442\u0435\u043f\u0435\u0440\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u044e\u0442\u0441\u044f \u043d\u0435 \u0432 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0445 \u043f\u043e\u0442\u043e\u043a\u0430\u0445, \u0430 \u0432 \u043f\u0443\u043b\u0435 \u043f\u043e\u0442\u043e\u043a\u043e\u0432 (<a href=\"https://github.com/yandex/ClickHouse/pull/1722\" rel=\"external nofollow\">Silviu Caragea</a>)</li>\n<li>\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0440\u0430\u0437\u0436\u0430\u0442\u0438\u044f LZ4.</li>\n<li>\u0423\u0441\u043a\u043e\u0440\u0435\u043d \u0430\u043d\u0430\u043b\u0438\u0437 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0441 \u0431\u043e\u043b\u044c\u0448\u0438\u043c \u0447\u0438\u0441\u043b\u043e\u043c JOIN-\u043e\u0432 \u0438 \u043f\u043e\u0434\u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432.</li>\n<li>DNS-\u043a\u044d\u0448 \u0442\u0435\u043f\u0435\u0440\u044c \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043f\u0440\u0438 \u0431\u043e\u043b\u044c\u0448\u043e\u043c \u0447\u0438\u0441\u043b\u0435 \u0441\u0435\u0442\u0435\u0432\u044b\u0445 \u043e\u0448\u0438\u0431\u043e\u043a.</li>\n<li>\u0412\u0441\u0442\u0430\u0432\u043a\u0430 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 \u0442\u0435\u043f\u0435\u0440\u044c \u043d\u0435 \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442, \u0435\u0441\u043b\u0438 \u0432\u0441\u0442\u0430\u0432\u043a\u0430 \u0432 \u043e\u0434\u043d\u043e \u0438\u0437 \u0435\u0451 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0439 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u0430 \u0438\u0437-\u0437\u0430 \u0442\u043e\u0433\u043e, \u0447\u0442\u043e \u0432 \u043d\u0451\u043c \u043c\u043d\u043e\u0433\u043e \u043a\u0443\u0441\u043a\u043e\u0432.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043d\u0435\u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0435 \u0432 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\u0445 \u0441\u0447\u0451\u0442\u0447\u0438\u043a\u043e\u0432 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 <code>Query</code>, <code>SelectQuery</code>, <code>InsertQuery</code>.</li>\n<li>\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u044b \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0432\u0438\u0434\u0430 <code>tuple IN (SELECT tuple)</code>, \u0435\u0441\u043b\u0438 \u0442\u0438\u043f\u044b \u043a\u043e\u0440\u0442\u0435\u0436\u0435\u0439 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442.</li>\n<li>\u0421\u0435\u0440\u0432\u0435\u0440 \u0441 \u0440\u0435\u043f\u043b\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u043c\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u0430\u043c\u0438 \u0442\u0435\u043f\u0435\u0440\u044c \u043c\u043e\u0436\u0435\u0442 \u0441\u0442\u0430\u0440\u0442\u043e\u0432\u0430\u0442\u044c, \u0434\u0430\u0436\u0435 \u0435\u0441\u043b\u0438 \u043d\u0435 \u0441\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0438\u0440\u043e\u0432\u0430\u043d ZooKeeper.</li>\n<li>\u041f\u0440\u0438 \u0440\u0430\u0441\u0447\u0451\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u044f\u0434\u0435\u0440 CPU \u0442\u0435\u043f\u0435\u0440\u044c \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f cgroups (<a href=\"https://github.com/yandex/ClickHouse/pull/2325\" rel=\"external nofollow\">Atri Sharma</a>).</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d chown \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0439 \u043a\u043e\u043d\u0444\u0438\u0433\u043e\u0432 \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u043c \u0444\u0430\u0439\u043b\u0435 systemd (<a href=\"https://github.com/yandex/ClickHouse/pull/2421\" rel=\"external nofollow\">\u041c\u0438\u0445\u0430\u0438\u043b \u0428\u0438\u0440\u044f\u0435\u0432</a>).</li>\n</ul>\n<h4 id=\"izmeneniia-sborki_2\">\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0441\u0431\u043e\u0440\u043a\u0438:<a class=\"headerlink\" href=\"#izmeneniia-sborki_2\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0441\u0431\u043e\u0440\u043a\u0438 \u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0442\u043e\u0440\u043e\u043c gcc8.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0441\u0431\u043e\u0440\u043a\u0438 llvm \u0438\u0437 submodule.</li>\n<li>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 librdkafka \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430 \u0434\u043e v0.11.4.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 libcpuid \u0438\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u044b, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430 \u0434\u043e 0.4.0.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0441\u0431\u043e\u0440\u043a\u0430 \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 vectorclass (<a href=\"https://github.com/yandex/ClickHouse/pull/2274\" rel=\"external nofollow\">Babacar Diass\u00e9</a>).</li>\n<li>Cmake \u0442\u0435\u043f\u0435\u0440\u044c \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0433\u0435\u043d\u0435\u0440\u0438\u0440\u0443\u0435\u0442 \u0444\u0430\u0439\u043b\u044b \u0434\u043b\u044f ninja (\u043a\u0430\u043a \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 <code>-G Ninja</code>).</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 libtinfo \u0432\u043c\u0435\u0441\u0442\u043e libtermcap (<a href=\"https://github.com/yandex/ClickHouse/pull/2519\" rel=\"external nofollow\">\u0413\u0435\u043e\u0440\u0433\u0438\u0439 \u041a\u043e\u043d\u0434\u0440\u0430\u0442\u044c\u0435\u0432</a>).</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u043a\u043e\u043d\u0444\u043b\u0438\u043a\u0442 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u0447\u043d\u044b\u0445 \u0444\u0430\u0439\u043b\u043e\u0432 \u0432 Fedora Rawhide (<a href=\"https://github.com/yandex/ClickHouse/issues/2520\" rel=\"external nofollow\">#2520</a>).</li>\n</ul>\n<h4 id=\"obratno-nesovmestimye-izmeneniia_10\">\u041e\u0431\u0440\u0430\u0442\u043d\u043e \u043d\u0435\u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u044b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f:<a class=\"headerlink\" href=\"#obratno-nesovmestimye-izmeneniia_10\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0423\u0431\u0440\u0430\u043d escaping \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0430\u0445 <code>Vertical</code> \u0438 <code>Pretty*</code>, \u0443\u0434\u0430\u043b\u0451\u043d \u0444\u043e\u0440\u043c\u0430\u0442 <code>VerticalRaw</code>.</li>\n<li>\u0415\u0441\u043b\u0438 \u0432 \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0451\u043d\u043d\u044b\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445 \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u0443\u0447\u0430\u0441\u0442\u0432\u0443\u044e\u0442 \u0441\u0435\u0440\u0432\u0435\u0440\u044b \u0432\u0435\u0440\u0441\u0438\u0438 1.1.54388 \u0438\u043b\u0438 \u043d\u043e\u0432\u0435\u0435 \u0438 \u0431\u043e\u043b\u0435\u0435 \u0441\u0442\u0430\u0440\u044b\u0435, \u0442\u043e \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f <code>cast(x, 'Type')</code>, \u0437\u0430\u043f\u0438\u0441\u0430\u043d\u043d\u043e\u0433\u043e \u0431\u0435\u0437 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u044f <code>AS</code>, \u0435\u0441\u043b\u0438 \u0441\u043b\u043e\u0432\u043e <code>cast</code> \u0443\u043a\u0430\u0437\u0430\u043d\u043e \u043d\u0435 \u0432 \u0432\u0435\u0440\u0445\u043d\u0435\u043c \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0435, \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u0435\u0442 \u043e\u0448\u0438\u0431\u043a\u0430 \u0432\u0438\u0434\u0430 <code>Not found column cast(0, 'UInt8') in block</code>. \u0420\u0435\u0448\u0435\u043d\u0438\u0435: \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0435\u0440\u0432\u0435\u0440 \u043d\u0430 \u0432\u0441\u0451\u043c \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0435.</li>\n</ul>\n<h3 id=\"clickhouse-release-1-1-54385-2018-06-01\">ClickHouse release 1.1.54385, 2018-06-01<a class=\"headerlink\" href=\"#clickhouse-release-1-1-54385-2018-06-01\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"ispravlenie-oshibok_15\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0448\u0438\u0431\u043e\u043a:<a class=\"headerlink\" href=\"#ispravlenie-oshibok_15\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0432 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0441\u043b\u0443\u0447\u0430\u044f\u0445 \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u043b\u0430 \u043a \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0435 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439 \u0441 ZooKeeper.</li>\n</ul>\n<h3 id=\"clickhouse-release-1-1-54383-2018-05-22\">ClickHouse release 1.1.54383, 2018-05-22<a class=\"headerlink\" href=\"#clickhouse-release-1-1-54383-2018-05-22\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"ispravlenie-oshibok_16\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0448\u0438\u0431\u043e\u043a:<a class=\"headerlink\" href=\"#ispravlenie-oshibok_16\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0434\u0435\u0433\u0440\u0430\u0434\u0430\u0446\u0438\u044f \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043e\u0447\u0435\u0440\u0435\u0434\u0438 \u0440\u0435\u043f\u043b\u0438\u043a\u0430\u0446\u0438\u0438 \u043f\u0440\u0438 \u0431\u043e\u043b\u044c\u0448\u043e\u043c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0435 \u0440\u0435\u043f\u043b\u0438\u043a</li>\n</ul>\n<h3 id=\"clickhouse-release-1-1-54381-2018-05-14\">ClickHouse release 1.1.54381, 2018-05-14<a class=\"headerlink\" href=\"#clickhouse-release-1-1-54381-2018-05-14\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"ispravlenie-oshibok_17\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0448\u0438\u0431\u043e\u043a:<a class=\"headerlink\" href=\"#ispravlenie-oshibok_17\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043f\u0440\u0438\u0432\u043e\u0434\u044f\u0449\u0430\u044f \u043a \"\u0443\u0442\u0435\u043a\u0430\u043d\u0438\u044e\" \u043c\u0435\u0442\u0430\u0434\u0430\u043d\u043d\u044b\u0445 \u0432 ZooKeeper \u043f\u0440\u0438 \u043f\u043e\u0442\u0435\u0440\u0435 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c ZooKeeper.</li>\n</ul>\n<h3 id=\"clickhouse-release-1-1-54380-2018-04-21\">ClickHouse release 1.1.54380, 2018-04-21<a class=\"headerlink\" href=\"#clickhouse-release-1-1-54380-2018-04-21\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"novye-vozmozhnosti_17\">\u041d\u043e\u0432\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438:<a class=\"headerlink\" href=\"#novye-vozmozhnosti_17\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0442\u0430\u0431\u043b\u0438\u0447\u043d\u0430\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u044f <code>file(path, format, structure)</code>. \u041f\u0440\u0438\u043c\u0435\u0440, \u0447\u0438\u0442\u0430\u044e\u0449\u0438\u0439 \u0431\u0430\u0439\u0442\u044b \u0438\u0437 <code>/dev/urandom</code>: <code>ln -s /dev/urandom /var/lib/clickhouse/user_files/random</code> <code>clickhouse-client -q \"SELECT * FROM file('random', 'RowBinary', 'd UInt8') LIMIT 10\"</code>.</li>\n</ul>\n<h4 id=\"uluchsheniia_18\">\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f:<a class=\"headerlink\" href=\"#uluchsheniia_18\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043e\u0431\u043e\u0440\u0430\u0447\u0438\u0432\u0430\u0442\u044c \u043f\u043e\u0434\u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0441\u043a\u043e\u0431\u043a\u0430\u043c\u0438 <code>()</code> \u0434\u043b\u044f \u043f\u043e\u0432\u044b\u0448\u0435\u043d\u0438\u044f \u0447\u0438\u0442\u0430\u0435\u043c\u043e\u0441\u0442\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: <code>(SELECT 1) UNION ALL (SELECT 1)</code>.</li>\n<li>\u041f\u0440\u043e\u0441\u0442\u044b\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b <code>SELECT</code> \u0438\u0437 \u0442\u0430\u0431\u043b\u0438\u0446\u044b <code>system.processes</code> \u043d\u0435 \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u0432 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0438 <code>max_concurrent_queries</code>.</li>\n</ul>\n<h4 id=\"ispravlenie-oshibok_18\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0448\u0438\u0431\u043e\u043a:<a class=\"headerlink\" href=\"#ispravlenie-oshibok_18\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u0430 <code>IN</code> \u0432 <code>MATERIALIZED VIEW</code>.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u0438\u043d\u0434\u0435\u043a\u0441\u0430 \u043f\u043e \u043a\u043b\u044e\u0447\u0443 \u043f\u0430\u0440\u0442\u0438\u0446\u0438\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0432 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f\u0445 \u0442\u0438\u043f\u0430 <code>partition_key_column IN (...)</code>.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c <code>OPTIMIZE</code> \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u043b\u0438\u0434\u0438\u0440\u0443\u044e\u0449\u0435\u0439 \u0440\u0435\u043f\u043b\u0438\u043a\u0435 \u043f\u043e\u0441\u043b\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f <code>RENAME</code> \u0442\u0430\u0431\u043b\u0438\u0446\u044b.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u043e\u0448\u0438\u0431\u043a\u0438 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438 \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u044e\u0449\u0438\u0435 \u043f\u0440\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 <code>OPTIMIZE</code> \u0438 <code>ALTER</code> \u043d\u0430 \u043d\u0435\u043b\u0438\u0434\u0438\u0440\u0443\u044e\u0449\u0435\u0439 \u0440\u0435\u043f\u043b\u0438\u043a\u0435.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u0437\u0430\u0432\u0438\u0441\u0430\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 <code>KILL QUERY</code>.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0432 \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u043e\u0439 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0435 ZooKeeper, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 \u043d\u0435\u043f\u0443\u0441\u0442\u043e\u0433\u043e \u043f\u0440\u0435\u0444\u0438\u043a\u0441\u0430 <code>chroot</code> \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u043b\u0430 \u043a \u043f\u043e\u0442\u0435\u0440\u0435 watch'\u0435\u0439, \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0435 \u043e\u0447\u0435\u0440\u0435\u0434\u0438 distributed DDL \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0438 \u0437\u0430\u043c\u0435\u0434\u043b\u0435\u043d\u0438\u044e \u0440\u0435\u043f\u043b\u0438\u043a\u0430\u0446\u0438\u0438.</li>\n</ul>\n<h4 id=\"obratno-nesovmestimye-izmeneniia_11\">\u041e\u0431\u0440\u0430\u0442\u043d\u043e \u043d\u0435\u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u044b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f:<a class=\"headerlink\" href=\"#obratno-nesovmestimye-izmeneniia_11\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0423\u0431\u0440\u0430\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u0442\u0438\u043f\u0430 <code>(a, b) IN (SELECT (a, b))</code> (\u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u044d\u043a\u0432\u0438\u0432\u0430\u043b\u0435\u043d\u0442\u043d\u044b\u0435 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0435 <code>(a, b) IN (SELECT a, b)</code>). \u0420\u0430\u043d\u044c\u0448\u0435 \u0442\u0430\u043a\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u043c\u043e\u0433\u043b\u0438 \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u0442\u044c \u043a \u043d\u0435\u0434\u0435\u0442\u0435\u0440\u043c\u0438\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u0438 \u0432 <code>WHERE</code>.</li>\n</ul>\n<h3 id=\"clickhouse-release-1-1-54378-2018-04-16\">ClickHouse release 1.1.54378, 2018-04-16<a class=\"headerlink\" href=\"#clickhouse-release-1-1-54378-2018-04-16\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"novye-vozmozhnosti_18\">\u041d\u043e\u0432\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438:<a class=\"headerlink\" href=\"#novye-vozmozhnosti_18\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0443\u0440\u043e\u0432\u043d\u044f \u043b\u043e\u0433\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0431\u0435\u0437 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u0430.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0437\u0430\u043f\u0440\u043e\u0441 <code>SHOW CREATE DATABASE</code>.</li>\n<li>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043f\u0435\u0440\u0435\u0434\u0430\u0442\u044c <code>query_id</code> \u0432 <code>clickhouse-client</code> (elBroom).</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>max_network_bandwidth_for_all_users</code>.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 <code>ALTER TABLE ... PARTITION ...</code> \u0434\u043b\u044f <code>MATERIALIZED VIEW</code>.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0440\u0430\u0437\u043c\u0435\u0440\u0435 \u043a\u0443\u0441\u043a\u043e\u0432 \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 \u043d\u0435\u0441\u0436\u0430\u0442\u043e\u043c \u0432\u0438\u0434\u0435 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0435 \u0442\u0430\u0431\u043b\u0438\u0446\u044b.</li>\n<li>\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u043c\u0435\u0436\u0441\u0435\u0440\u0432\u0435\u0440\u043d\u043e\u0433\u043e \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0434\u043b\u044f distributed \u0442\u0430\u0431\u043b\u0438\u0446 (<code>&lt;secure&gt;1&lt;/secure&gt;</code> \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0440\u0435\u043f\u043b\u0438\u043a\u0438 \u0432 <code>&lt;remote_servers&gt;</code>).</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0443\u0440\u043e\u0432\u043d\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0441\u0435\u043c\u0435\u0439\u0441\u0442\u0432\u0430 <code>ReplicatedMergeTree</code> \u0434\u043b\u044f \u0443\u043c\u0435\u043d\u044c\u0448\u0435\u043d\u0438\u044f \u043e\u0431\u044a\u0435\u043c\u0430 \u0434\u0430\u043d\u043d\u044b\u0445, \u0445\u0440\u0430\u043d\u0438\u043c\u044b\u0445 \u0432 zookeeper: <code>use_minimalistic_checksums_in_zookeeper = 1</code></li>\n<li>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u044f <code>clickhouse-client</code>. \u041f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432\u044b\u0432\u043e\u0434 \u0438\u043c\u0435\u043d\u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0432 \u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0435. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u043c\u043e\u0435 \u0438\u043c\u044f \u0441\u0435\u0440\u0432\u0435\u0440\u0430. \u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0435\u0433\u043e \u0432 HTTP \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0435 <code>X-ClickHouse-Display-Name</code> (Kirill Shvakov).</li>\n<li>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u044f \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 <code>topics</code> \u0447\u0435\u0440\u0435\u0437 \u0437\u0430\u043f\u044f\u0442\u0443\u044e \u0434\u043b\u044f \u0434\u0432\u0438\u0436\u043a\u0430 <code>Kafka</code> (Tobias Adamson)</li>\n<li>\u041f\u0440\u0438 \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043f\u043e \u043f\u0440\u0438\u0447\u0438\u043d\u0435 <code>KILL QUERY</code> \u0438\u043b\u0438 <code>replace_running_query</code>, \u043a\u043b\u0438\u0435\u043d\u0442 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442 \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 <code>Query was cancelled</code> \u0432\u043c\u0435\u0441\u0442\u043e \u043d\u0435\u043f\u043e\u043b\u043d\u043e\u0433\u043e \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430.</li>\n</ul>\n<h4 id=\"uluchsheniia_19\">\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f:<a class=\"headerlink\" href=\"#uluchsheniia_19\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0417\u0430\u043f\u0440\u043e\u0441\u044b \u0432\u0438\u0434\u0430 <code>ALTER TABLE ... DROP/DETACH PARTITION</code> \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u044e\u0442\u0441\u044f \u0432\u043f\u0435\u0440\u0435\u0434\u0438 \u043e\u0447\u0435\u0440\u0435\u0434\u0438 \u0440\u0435\u043f\u043b\u0438\u043a\u0430\u0446\u0438\u0438.</li>\n<li>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c <code>SELECT ... FINAL</code> \u0438 <code>OPTIMIZE ... FINAL</code> \u0434\u0430\u0436\u0435 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435, \u0435\u0441\u043b\u0438 \u0434\u0430\u043d\u043d\u044b\u0435 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u044b \u043e\u0434\u043d\u0438\u043c \u043a\u0443\u0441\u043a\u043e\u043c.</li>\n<li>\u041f\u0435\u0440\u0435\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0442\u0430\u0431\u043b\u0438\u0446\u044b <code>query_log</code> \u043d\u0430\u043b\u0435\u0442\u0443 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0435\u0441\u043b\u0438 \u0431\u044b\u043b\u043e \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u043e \u0435\u0451 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0432\u0440\u0443\u0447\u043d\u0443\u044e (Kirill Shvakov).</li>\n<li>\u0423\u0441\u043a\u043e\u0440\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>lengthUTF8</code> (zhang2014).</li>\n<li>\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u0439 \u0432\u0441\u0442\u0430\u0432\u043a\u0438 \u0432 <code>Distributed</code> \u0442\u0430\u0431\u043b\u0438\u0446\u044b (<code>insert_distributed_sync = 1</code>) \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043e\u0447\u0435\u043d\u044c \u0431\u043e\u043b\u044c\u0448\u043e\u0433\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u0448\u0430\u0440\u0434\u043e\u0432.</li>\n<li>\u0421\u0435\u0440\u0432\u0435\u0440 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 <code>send_timeout</code> \u0438 <code>receive_timeout</code> \u043e\u0442 \u043a\u043b\u0438\u0435\u043d\u0442\u0430 \u0438 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0435\u0442 \u0438\u0445 \u043d\u0430 \u0441\u0432\u043e\u0435\u0439 \u0441\u0442\u043e\u0440\u043e\u043d\u0435 \u0434\u043b\u044f \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f \u0441 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u043c (\u0432 \u043f\u0435\u0440\u0435\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u043e\u043c \u043f\u043e\u0440\u044f\u0434\u043a\u0435: <code>send_timeout</code> \u0443 \u0441\u043e\u043a\u0435\u0442\u0430 \u043d\u0430 \u0441\u0442\u043e\u0440\u043e\u043d\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0432\u044b\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0432 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 <code>receive_timeout</code> \u043f\u0440\u0438\u043d\u044f\u0442\u043e\u0435 \u043e\u0442 \u043a\u043b\u0438\u0435\u043d\u0442\u0430, \u0438 \u043d\u0430\u043e\u0431\u043e\u0440\u043e\u0442).</li>\n<li>\u0411\u043e\u043b\u0435\u0435 \u043d\u0430\u0434\u0451\u0436\u043d\u043e\u0435 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u0441\u043b\u0435 \u0441\u0431\u043e\u0435\u0432 \u043f\u0440\u0438 \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u0439 \u0432\u0441\u0442\u0430\u0432\u043a\u0435 \u0432 <code>Distributed</code> \u0442\u0430\u0431\u043b\u0438\u0446\u044b.</li>\n<li>\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u043c\u044b\u0439 \u0442\u0438\u043f \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>countEqual</code> \u0438\u0437\u043c\u0435\u043d\u0451\u043d \u0441 <code>UInt32</code> \u043d\u0430 <code>UInt64</code> (\u8c22\u78ca)</li>\n</ul>\n<h4 id=\"ispravlenie-oshibok_19\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0448\u0438\u0431\u043e\u043a:<a class=\"headerlink\" href=\"#ispravlenie-oshibok_19\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 c <code>IN</code> \u0433\u0434\u0435 \u043b\u0435\u0432\u0430\u044f \u0447\u0430\u0441\u0442\u044c \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f <code>Nullable</code>.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 \u043a\u043e\u0440\u0442\u0435\u0436\u0435\u0439 \u0441 <code>IN</code> \u0432 \u0441\u043b\u0443\u0447\u0430\u0435, \u0435\u0441\u043b\u0438 \u0447\u0430\u0441\u0442\u044c \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u043d\u0442\u043e\u0432 \u043a\u043e\u0440\u0442\u0435\u0436\u0430 \u0435\u0441\u0442\u044c \u0432 \u0438\u043d\u0434\u0435\u043a\u0441\u0435 \u0442\u0430\u0431\u043b\u0438\u0446\u044b.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0430 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f <code>max_execution_time</code> \u0441 \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u043c\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u043c\u0438.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u043e\u0448\u0438\u0431\u043a\u0438 \u043f\u0440\u0438 \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0438 \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u0432 \u0441\u043e\u0441\u0442\u0430\u0432\u043d\u044b\u0445 \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 <code>system.columns</code>.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u044b <code>CREATE TEMPORARY TABLE IF NOT EXISTS</code></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u043e\u0448\u0438\u0431\u043a\u0438 \u0432 <code>StorageKafka</code> (#2075)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u043f\u0430\u0434\u0435\u043d\u0438\u044f \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u043e\u0442 \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0445 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0430\u0433\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u0438\u0437-\u0437\u0430 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0437\u0430\u043f\u0440\u043e\u0441 <code>DETACH DATABASE</code> \u043c\u043e\u0433 \u043d\u0435 \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u0442\u044c \u043a \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0435 \u0444\u043e\u043d\u043e\u0432\u044b\u0445 \u0437\u0430\u0434\u0430\u0447 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0442\u0438\u043f\u0430 <code>ReplicatedMergeTree</code>.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u043f\u043e\u044f\u0432\u043b\u0435\u043d\u0438\u0435\u043c <code>Too many parts</code> \u0432 \u0430\u0433\u0440\u0435\u0433\u0438\u0440\u0443\u044e\u0449\u0438\u0445 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f\u0445 (#2084).</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0435\u043a\u0443\u0440\u0441\u0438\u0432\u043d\u0430\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043f\u043e\u0434\u0441\u0442\u0430\u043d\u043e\u0432\u043e\u043a \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0435, \u0435\u0441\u043b\u0438 \u043f\u043e\u0441\u043b\u0435 \u043e\u0434\u043d\u043e\u0439 \u043f\u043e\u0434\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438, \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0434\u0440\u0443\u0433\u0430\u044f \u043f\u043e\u0434\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u043d\u0430 \u0442\u043e\u043c \u0436\u0435 \u0443\u0440\u043e\u0432\u043d\u0435.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0441 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u043c \u0441\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441\u043e\u043c \u0432 \u0444\u0430\u0439\u043b\u0435 \u0441 \u043c\u0435\u0442\u0430\u0434\u0430\u043d\u043d\u044b\u043c\u0438 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 <code>VIEW</code>, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0449\u0438\u0445 \u0437\u0430\u043f\u0440\u043e\u0441 \u0441 <code>UNION ALL</code>.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0430 <code>SummingMergeTree</code> \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0441\u0443\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0432\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0445 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440 \u0434\u0430\u043d\u043d\u044b\u0445 \u0441 \u0441\u043e\u0441\u0442\u0430\u0432\u043d\u044b\u043c \u043a\u043b\u044e\u0447\u043e\u043c.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0432\u043e\u0437\u043d\u0438\u043a\u043d\u043e\u0432\u0435\u043d\u0438\u044f race condition \u043f\u0440\u0438 \u0432\u044b\u0431\u043e\u0440\u0435 \u043b\u0438\u0434\u0435\u0440\u0430 \u0442\u0430\u0431\u043b\u0438\u0446 <code>ReplicatedMergeTree</code>.</li>\n</ul>\n<h4 id=\"izmeneniia-sborki_3\">\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0441\u0431\u043e\u0440\u043a\u0438:<a class=\"headerlink\" href=\"#izmeneniia-sborki_3\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 <code>ninja</code> \u0432\u043c\u0435\u0441\u0442\u043e <code>make</code> \u043f\u0440\u0438 \u0441\u0431\u043e\u0440\u043a\u0435. <code>ninja</code> \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u043f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u043f\u0440\u0438 \u0441\u0431\u043e\u0440\u043a\u0435 \u0440\u0435\u043b\u0438\u0437\u043e\u0432.</li>\n<li>\u041f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u044b \u043f\u0430\u043a\u0435\u0442\u044b <code>clickhouse-server-base</code> \u0432 <code>clickhouse-common-static</code>; <code>clickhouse-server-common</code> \u0432 <code>clickhouse-server</code>; <code>clickhouse-common-dbg</code> \u0432 <code>clickhouse-common-static-dbg</code>. \u0414\u043b\u044f \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 <code>clickhouse-server clickhouse-client</code>. \u0414\u043b\u044f \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u0438, \u043f\u0430\u043a\u0435\u0442\u044b \u0441\u043e \u0441\u0442\u0430\u0440\u044b\u043c\u0438 \u0438\u043c\u0435\u043d\u0430\u043c\u0438 \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u044e\u0442 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0442\u044c\u0441\u044f \u0432 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439.</li>\n</ul>\n<h4 id=\"obratno-nesovmestimye-izmeneniia_12\">\u041e\u0431\u0440\u0430\u0442\u043d\u043e \u043d\u0435\u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u044b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f:<a class=\"headerlink\" href=\"#obratno-nesovmestimye-izmeneniia_12\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0423\u0434\u0430\u043b\u0435\u043d\u0430 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u0430\u044f \u0438\u043d\u0442\u0435\u0440\u043f\u0440\u0435\u0442\u0430\u0446\u0438\u044f \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f IN, \u0435\u0441\u043b\u0438 \u0441\u043b\u0435\u0432\u0430 \u0443\u043a\u0430\u0437\u0430\u043d \u043c\u0430\u0441\u0441\u0438\u0432. \u0420\u0430\u043d\u0435\u0435 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0432\u0438\u0434\u0430 <code>arr IN (set)</code> \u0432\u043e\u0441\u043f\u0440\u0438\u043d\u0438\u043c\u0430\u043b\u043e\u0441\u044c \u043a\u0430\u043a \"\u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u0438\u043d \u044d\u043b\u0435\u043c\u0435\u043d\u0442 <code>arr</code> \u043f\u0440\u0438\u043d\u0430\u0434\u043b\u0435\u0436\u0438\u0442 \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0443 <code>set</code>\". \u0414\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0442\u0430\u043a\u043e\u0433\u043e \u0436\u0435 \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0432 \u043d\u043e\u0432\u043e\u0439 \u0432\u0435\u0440\u0441\u0438\u0438, \u043d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 <code>arrayExists(x -&gt; x IN (set), arr)</code>.</li>\n<li>\u041e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u043e \u043e\u0448\u0438\u0431\u043e\u0447\u043d\u043e\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u043f\u0446\u0438\u0438 \u0441\u043e\u043a\u0435\u0442\u0430 <code>SO_REUSEPORT</code> (\u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043f\u043e \u043e\u0448\u0438\u0431\u043a\u0435 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0430 \u043f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0432 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0435 Poco). \u0421\u0442\u043e\u0438\u0442 \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u044c \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435, \u0447\u0442\u043e \u043d\u0430 Linux \u0441\u0438\u0441\u0442\u0435\u043c\u0430\u0445 \u0442\u0435\u043f\u0435\u0440\u044c \u043d\u0435 \u0438\u043c\u0435\u0435\u0442 \u0441\u043c\u044b\u0441\u043b\u0430 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u0430\u0434\u0440\u0435\u0441\u0430 <code>::</code> \u0438 <code>0.0.0.0</code> \u0434\u043b\u044f listen - \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043b\u0438\u0448\u044c \u0430\u0434\u0440\u0435\u0441 <code>::</code>, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 (\u0441 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u043c\u0438 \u044f\u0434\u0440\u0430 \u043f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e) \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0441\u043b\u0443\u0448\u0430\u0442\u044c \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f \u043a\u0430\u043a \u043f\u043e IPv4 \u0442\u0430\u043a \u0438 \u043f\u043e IPv6. \u0422\u0430\u043a\u0436\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0441\u0442\u0430\u0440\u044b\u0445 \u0432\u0435\u0440\u0441\u0438\u0439, \u0443\u043a\u0430\u0437\u0430\u0432 \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0435 <code>&lt;listen_reuse_port&gt;1&lt;/listen_reuse_port&gt;</code>.</li>\n</ul>\n<h3 id=\"clickhouse-release-1-1-54370-2018-03-16\">ClickHouse release 1.1.54370, 2018-03-16<a class=\"headerlink\" href=\"#clickhouse-release-1-1-54370-2018-03-16\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"novye-vozmozhnosti_19\">\u041d\u043e\u0432\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438:<a class=\"headerlink\" href=\"#novye-vozmozhnosti_19\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u0430\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430 <code>system.macros</code> \u0438 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043c\u0430\u043a\u0440\u043e\u0441\u043e\u0432 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0430.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0437\u0430\u043f\u0440\u043e\u0441 <code>SYSTEM RELOAD CONFIG</code>.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u0430\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u044f <code>maxIntersections(left_col, right_col)</code>, \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u044e\u0449\u0430\u044f \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u043f\u0435\u0440\u0435\u0441\u0435\u043a\u0430\u044e\u0449\u0438\u0445\u0441\u044f \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b\u043e\u0432 <code>[left; right]</code>. \u0424\u0443\u043d\u043a\u0446\u0438\u044f <code>maxIntersectionsPosition(left, right)</code> \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u043d\u0430\u0447\u0430\u043b\u043e \u0442\u0430\u043a\u043e\u0433\u043e \"\u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0433\u043e\" \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b\u0430. (<a href=\"https://github.com/yandex/ClickHouse/pull/2012\" rel=\"external nofollow\">Michael Furmur</a>).</li>\n</ul>\n<h4 id=\"uluchsheniia_20\">\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f:<a class=\"headerlink\" href=\"#uluchsheniia_20\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u041f\u0440\u0438 \u0432\u0441\u0442\u0430\u0432\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 <code>Replicated</code>-\u0442\u0430\u0431\u043b\u0438\u0446\u0443 \u0434\u0435\u043b\u0430\u0435\u0442\u0441\u044f \u043c\u0435\u043d\u044c\u0448\u0435 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u0439 \u043a <code>ZooKeeper</code> (\u0442\u0430\u043a\u0436\u0435 \u0438\u0437 \u043b\u043e\u0433\u0430 <code>ZooKeeper</code> \u0438\u0441\u0447\u0435\u0437\u043b\u043e \u0431\u043e\u043b\u044c\u0448\u0438\u043d\u0441\u0442\u0432\u043e user-level \u043e\u0448\u0438\u0431\u043e\u043a).</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0430\u043b\u0438\u0430\u0441\u044b \u0434\u043b\u044f \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432. \u041f\u0440\u0438\u043c\u0435\u0440: <code>WITH (1, 2, 3) AS set SELECT number IN set FROM system.numbers LIMIT 10</code>.</li>\n</ul>\n<h4 id=\"ispravlenie-oshibok_20\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0448\u0438\u0431\u043e\u043a:<a class=\"headerlink\" href=\"#ispravlenie-oshibok_20\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 <code>Illegal PREWHERE</code> \u043f\u0440\u0438 \u0447\u0442\u0435\u043d\u0438\u0438 \u0438\u0437 Merge-\u0442\u0430\u0431\u043b\u0438\u0446\u044b \u043d\u0430\u0434 <code>Distributed</code>-\u0442\u0430\u0431\u043b\u0438\u0446\u0430\u043c\u0438.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0438\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f, \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0449\u0438\u0435 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c clickhouse-server \u0432 IPv4-only docker-\u043a\u043e\u043d\u0442\u0435\u0439\u043d\u0435\u0440\u0430\u0445.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d race condition \u043f\u0440\u0438 \u0447\u0442\u0435\u043d\u0438\u0438 \u0438\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u044b <code>system.parts_columns</code></li>\n<li>\u0423\u0431\u0440\u0430\u043d\u0430 \u0434\u0432\u043e\u0439\u043d\u0430\u044f \u0431\u0443\u0444\u0435\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u043f\u0440\u0438 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u0439 \u0432\u0441\u0442\u0430\u0432\u043a\u0435 \u0432 <code>Distributed</code>-\u0442\u0430\u0431\u043b\u0438\u0446\u0443, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043c\u043e\u0433\u043b\u0430 \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u0442\u044c \u043a timeout-\u0430\u043c \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0439.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u0432\u044b\u0437\u044b\u0432\u0430\u044e\u0449\u0430\u044f \u0447\u0440\u0435\u0437\u043c\u0435\u0440\u043d\u043e \u0434\u043e\u043b\u0433\u043e\u0435 \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u0435 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e\u0439 \u0440\u0435\u043f\u043b\u0438\u043a\u0438 \u043f\u0435\u0440\u0435\u0434 \u043d\u0430\u0447\u0430\u043b\u043e\u043c \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f <code>SELECT</code>.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0434\u0430\u0442 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 <code>system.parts</code>.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043f\u0440\u0438\u0432\u043e\u0434\u044f\u0449\u0430\u044f \u043a \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0432\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u0432 <code>Replicated</code>-\u0442\u0430\u0431\u043b\u0438\u0446\u0443, \u0435\u0441\u043b\u0438 \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430 <code>ZooKeeper</code> \u0437\u0430\u0434\u0430\u043d \u043d\u0435\u043f\u0443\u0441\u0442\u043e\u0439 <code>chroot</code>.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c \u0432\u0435\u0440\u0442\u0438\u043a\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043c\u0435\u0440\u0436\u0430 \u043f\u0440\u0438 \u043f\u0443\u0441\u0442\u043e\u043c \u043a\u043b\u044e\u0447\u0435 <code>ORDER BY</code> \u0442\u0430\u0431\u043b\u0438\u0446\u044b.</li>\n<li>\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u043b\u043e\u0432\u0430\u0440\u0438 \u0432 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445 \u043a \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u044b\u043c \u0442\u0430\u0431\u043b\u0438\u0446\u0430\u043c, \u0434\u0430\u0436\u0435 \u0435\u0441\u043b\u0438 \u044d\u0442\u0438\u0445 \u0441\u043b\u043e\u0432\u0430\u0440\u0435\u0439 \u043d\u0435\u0442 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435-\u0438\u043d\u0438\u0446\u0438\u0430\u0442\u043e\u0440\u0435. \u0414\u0430\u043d\u043d\u0430\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0431\u044b\u043b\u0430 \u043f\u043e\u0442\u0435\u0440\u044f\u043d\u0430 \u0432 \u0432\u0435\u0440\u0441\u0438\u0438 1.1.54362.</li>\n<li>\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435, \u043f\u0440\u0438 \u043a\u043e\u0442\u043e\u0440\u043e\u043c \u0432 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445 \u0442\u0438\u043f\u0430 <code>SELECT * FROM remote('server2', default.table) WHERE col IN (SELECT col2 FROM default.table)</code> \u0432 \u043f\u0440\u0430\u0432\u043e\u0439 \u0447\u0430\u0441\u0442\u0438 <code>IN</code> \u0434\u043e\u043b\u0436\u043d\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0443\u0434\u0430\u043b\u0435\u043d\u043d\u0430\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430 <code>default.table</code>, \u0430 \u043d\u0435 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u0430\u044f. \u0434\u0430\u043d\u043d\u043e\u0435 \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0431\u044b\u043b\u043e \u043d\u0430\u0440\u0443\u0448\u0435\u043d\u043e \u0432 \u0432\u0435\u0440\u0441\u0438\u0438 1.1.54358.</li>\n<li>\u0423\u0441\u0442\u0440\u0430\u043d\u0435\u043d\u043e \u043d\u0435\u043d\u0443\u0436\u043d\u043e\u0435 Error-level \u043b\u043e\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 <code>Not found column ... in block</code>.</li>\n</ul>\n<h3 id=\"reliz-clickhouse-1-1-54362-2018-03-11\">\u0420\u0435\u043b\u0438\u0437 ClickHouse 1.1.54362, 2018-03-11<a class=\"headerlink\" href=\"#reliz-clickhouse-1-1-54362-2018-03-11\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"novye-vozmozhnosti_20\">\u041d\u043e\u0432\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438:<a class=\"headerlink\" href=\"#novye-vozmozhnosti_20\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0410\u0433\u0440\u0435\u0433\u0430\u0446\u0438\u044f \u0431\u0435\u0437 <code>GROUP BY</code> \u043f\u043e \u043f\u0443\u0441\u0442\u043e\u043c\u0443 \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0443 (\u043a\u0430\u043a \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, <code>SELECT count(*) FROM table WHERE 0</code>) \u0442\u0435\u043f\u0435\u0440\u044c \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0438\u0437 \u043e\u0434\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438 \u0441 \u043d\u0443\u043b\u0435\u0432\u044b\u043c\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\u043c\u0438 \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439, \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u0438 \u0441\u043e \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043e\u043c SQL. \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0441\u0442\u0430\u0440\u043e\u0435 \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 (\u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0442\u044c \u043f\u0443\u0441\u0442\u043e\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442), \u0432\u044b\u0441\u0442\u0430\u0432\u0438\u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0443 <code>empty_result_for_aggregation_by_empty_set</code> \u0432 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 1.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0440\u0438\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0442\u0438\u043f\u043e\u0432 \u043f\u0440\u0438 <code>UNION ALL</code>. \u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432 \u0441 \u0440\u0430\u0437\u043d\u044b\u043c\u0438 \u0430\u043b\u0438\u0430\u0441\u0430\u043c\u0438 \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u043f\u043e\u0437\u0438\u0446\u0438\u044f\u0445 <code>SELECT</code> \u0432 <code>UNION ALL</code>, \u0447\u0442\u043e \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u0443 SQL.</li>\n<li>\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u044b\u0445 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u0432 \u0441\u0435\u043a\u0446\u0438\u0438 <code>LIMIT BY</code>. \u0420\u0430\u043d\u0435\u0435 \u0431\u044b\u043b\u043e \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u043b\u0438\u0448\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432 - \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430 <code>SELECT</code>.</li>\n<li>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0438\u043d\u0434\u0435\u043a\u0441\u0430 \u0442\u0430\u0431\u043b\u0438\u0446 \u0441\u0435\u043c\u0435\u0439\u0441\u0442\u0432\u0430 <code>MergeTree</code> \u043f\u0440\u0438 \u043d\u0430\u043b\u0438\u0447\u0438\u0438 \u0443\u0441\u043b\u043e\u0432\u0438\u044f <code>IN</code> \u043d\u0430 \u043a\u043e\u0440\u0442\u0435\u0436 \u043e\u0442 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u043e\u0442 \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432 \u043f\u0435\u0440\u0432\u0438\u0447\u043d\u043e\u0433\u043e \u043a\u043b\u044e\u0447\u0430. \u041f\u0440\u0438\u043c\u0435\u0440 <code>WHERE (UserID, EventDate) IN ((123, '2000-01-01'), ...)</code> (Anastasiya Tsarkova).</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442 <code>clickhouse-copier</code> \u0434\u043b\u044f \u043c\u0435\u0436\u043a\u043b\u0430\u0441\u0442\u0435\u0440\u043d\u043e\u0433\u043e \u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0438 \u043f\u0435\u0440\u0435\u0448\u0430\u0440\u0434\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 (\u0431\u0435\u0442\u0430).</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u043a\u043e\u043d\u0441\u0438\u0441\u0442\u0435\u043d\u0442\u043d\u043e\u0433\u043e \u0445\u044d\u0448\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f <code>yandexConsistentHash</code>, <code>jumpConsistentHash</code>, <code>sumburConsistentHash</code>. \u0418\u0445 \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u043a\u043b\u044e\u0447\u0430 \u0448\u0430\u0440\u0434\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u0443\u043c\u0435\u043d\u044c\u0448\u0438\u0442\u044c \u043e\u0431\u044a\u0451\u043c \u0441\u0435\u0442\u0435\u0432\u043e\u0433\u043e \u0442\u0440\u0430\u0444\u0438\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0445 \u043f\u0435\u0440\u0435\u0448\u0430\u0440\u0434\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f\u0445.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>arrayAny</code>, <code>arrayAll</code>, <code>hasAny</code>, <code>hasAll</code>, <code>arrayIntersect</code>, <code>arrayResize</code>.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f <code>arrayCumSum</code> (Javi Santana).</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f <code>parseDateTimeBestEffort</code>, <code>parseDateTimeBestEffortOrZero</code>, <code>parseDateTimeBestEffortOrNull</code>, \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0449\u0430\u044f \u043f\u0440\u043e\u0447\u0438\u0442\u0430\u0442\u044c DateTime \u0438\u0437 \u0441\u0442\u0440\u043e\u043a\u0438, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0435\u0439 \u0442\u0435\u043a\u0441\u0442 \u0432 \u0448\u0438\u0440\u043e\u043a\u043e\u043c \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u044b\u0445 \u0444\u043e\u0440\u043c\u0430\u0442\u043e\u0432.</li>\n<li>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0447\u0430\u0441\u0442\u0438\u0447\u043d\u043e\u0439 \u043f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u0432\u043d\u0435\u0448\u043d\u0438\u0445 \u0441\u043b\u043e\u0432\u0430\u0440\u0435\u0439 \u043f\u0440\u0438 \u0438\u0445 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 (\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043b\u0438\u0448\u044c \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u0441\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435\u043c \u0437\u0430\u0434\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u043e\u043b\u044f \u0431\u043e\u043b\u044c\u0448\u0438\u043c, \u0447\u0435\u043c \u043f\u0440\u0438 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u0439 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435) (Arsen Hakobyan).</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0442\u0430\u0431\u043b\u0438\u0447\u043d\u0430\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u044f <code>cluster</code>. \u041f\u0440\u0438\u043c\u0435\u0440: <code>cluster(cluster_name, db, table)</code>. \u0422\u0430\u0431\u043b\u0438\u0447\u043d\u0430\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u044f <code>remote</code> \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0442\u044c \u0438\u043c\u044f \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430 \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u043f\u0435\u0440\u0432\u043e\u0433\u043e \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0430, \u0435\u0441\u043b\u0438 \u043e\u043d\u043e \u0443\u043a\u0430\u0437\u0430\u043d\u043e \u0432 \u0432\u0438\u0434\u0435 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u0430.</li>\n<li>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0442\u0430\u0431\u043b\u0438\u0447\u043d\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 <code>remote</code>, <code>cluster</code> \u0432 <code>INSERT</code> \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u044b\u0435 \u0441\u0442\u043e\u043b\u0431\u0446\u044b <code>create_table_query</code>, <code>engine_full</code> \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 <code>system.tables</code>. \u0421\u0442\u043e\u043b\u0431\u0435\u0446 <code>metadata_modification_time</code> \u0441\u0434\u0435\u043b\u0430\u043d \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u044b\u043c.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0441\u0442\u043e\u043b\u0431\u0446\u044b <code>data_path</code>, <code>metadata_path</code> \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u044b <code>system.tables</code> \u0438<code>system.databases</code>, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0441\u0442\u043e\u043b\u0431\u0435\u0446 <code>path</code> \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u044b <code>system.parts</code> \u0438 <code>system.parts_columns</code>.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0441\u043b\u0438\u044f\u043d\u0438\u044f\u0445 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 <code>system.part_log</code>.</li>\n<li>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u043e\u0433\u043e \u043a\u043b\u044e\u0447\u0430 \u043f\u0430\u0440\u0442\u0438\u0446\u0438\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0434\u043b\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u044b <code>system.query_log</code> (Kirill Shvakov).</li>\n<li>\u0417\u0430\u043f\u0440\u043e\u0441 <code>SHOW TABLES</code> \u0442\u0435\u043f\u0435\u0440\u044c \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u0442 \u0442\u0430\u043a\u0436\u0435 \u0438 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u0442\u0430\u0431\u043b\u0438\u0446\u044b. \u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0438 \u0441\u0442\u043e\u043b\u0431\u0435\u0446 <code>is_temporary</code> \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 <code>system.tables</code> (zhang2014).</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0437\u0430\u043f\u0440\u043e\u0441 <code>DROP TEMPORARY TABLE</code>, <code>EXISTS TEMPORARY TABLE</code> (zhang2014).</li>\n<li>\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 <code>SHOW CREATE TABLE</code> \u0434\u043b\u044f \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u0442\u0430\u0431\u043b\u0438\u0446 (zhang2014).</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 <code>system_profile</code> \u0434\u043b\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0445 \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u043c\u0438 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430\u043c\u0438.</li>\n<li>\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 <code>object_id</code> \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0430\u0442\u0440\u0438\u0431\u0443\u0442\u0430 \u0432 \u0441\u043b\u043e\u0432\u0430\u0440\u044f\u0445 \u0441 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u043e\u043c <code>MongoDB</code> (\u041f\u0430\u0432\u0435\u043b \u041b\u0438\u0442\u0432\u0438\u043d\u0435\u043d\u043a\u043e).</li>\n<li>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0447\u0438\u0442\u0430\u0442\u044c <code>null</code> \u043a\u0430\u043a \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043b\u044f \u0432\u043d\u0435\u0448\u043d\u0435\u0433\u043e \u0441\u043b\u043e\u0432\u0430\u0440\u044f \u0441 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u043e\u043c <code>MongoDB</code> (\u041f\u0430\u0432\u0435\u043b \u041b\u0438\u0442\u0432\u0438\u043d\u0435\u043d\u043a\u043e).</li>\n<li>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0447\u0442\u0435\u043d\u0438\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0442\u0438\u043f\u0430 <code>DateTime</code> \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 <code>Values</code> \u0438\u0437 unix timestamp \u0431\u0435\u0437 \u043e\u0434\u0438\u043d\u0430\u0440\u043d\u044b\u0445 \u043a\u0430\u0432\u044b\u0447\u0435\u043a.</li>\n<li>\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u0430\u043d failover \u0432 \u0442\u0430\u0431\u043b\u0438\u0447\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>remote</code> \u0434\u043b\u044f \u0441\u043b\u0443\u0447\u0430\u044f, \u043a\u043e\u0433\u0434\u0430 \u043d\u0430 \u0447\u0430\u0441\u0442\u0438 \u0440\u0435\u043f\u043b\u0438\u043a \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0437\u0430\u043f\u0440\u043e\u0448\u0435\u043d\u043d\u0430\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430.</li>\n<li>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043f\u0435\u0440\u0435\u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0432 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u0445 \u043a\u043e\u043c\u0430\u043d\u0434\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438 \u043f\u0440\u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0435 <code>clickhouse-server</code>, \u043f\u0440\u0438\u043c\u0435\u0440: <code>clickhouse-server -- --logger.level=information</code>.</li>\n<li>\u0420\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f <code>empty</code> \u043e\u0442 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0430 \u0442\u0438\u043f\u0430 <code>FixedString</code>: \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 1, \u0435\u0441\u043b\u0438 \u0441\u0442\u0440\u043e\u043a\u0430 \u0441\u043e\u0441\u0442\u043e\u0438\u0442 \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u0438\u0437 \u043d\u0443\u043b\u0435\u0432\u044b\u0445 \u0431\u0430\u0439\u0442 (zhang2014).</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 <code>listen_try</code>, \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0449\u0438\u0439 \u0441\u043b\u0443\u0448\u0430\u0442\u044c \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u0438\u043d \u0438\u0437 listen \u0430\u0434\u0440\u0435\u0441\u043e\u0432 \u0438 \u043d\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0430\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u0443, \u0435\u0441\u043b\u0438 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0430\u0434\u0440\u0435\u0441\u0430 \u043d\u0435 \u0443\u0434\u0430\u0451\u0442\u0441\u044f \u0441\u043b\u0443\u0448\u0430\u0442\u044c (\u043f\u043e\u043b\u0435\u0437\u043d\u043e \u0434\u043b\u044f \u0441\u0438\u0441\u0442\u0435\u043c \u0441 \u0432\u044b\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u043e\u0439 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u043e\u0439 IPv4 \u0438\u043b\u0438 IPv6).</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0434\u0432\u0438\u0436\u043e\u043a \u0442\u0430\u0431\u043b\u0438\u0446 <code>VersionedCollapsingMergeTree</code>.</li>\n<li>\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0441\u0442\u0440\u043e\u043a \u0438 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u044b\u0445 \u0447\u0438\u0441\u043b\u043e\u0432\u044b\u0445 \u0442\u0438\u043f\u043e\u0432 \u0434\u043b\u044f \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0430 \u0441\u043b\u043e\u0432\u0430\u0440\u0435\u0439 <code>library</code>.</li>\n<li>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0442\u0430\u0431\u043b\u0438\u0446 \u0441\u0435\u043c\u0435\u0439\u0441\u0442\u0432\u0430 <code>MergeTree</code> \u0431\u0435\u0437 \u043f\u0435\u0440\u0432\u0438\u0447\u043d\u043e\u0433\u043e \u043a\u043b\u044e\u0447\u0430 (\u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c <code>ORDER BY tuple()</code>).</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435 (<code>CAST</code>) <code>Nullable</code> \u0442\u0438\u043f\u0430 \u0432 \u043d\u0435 <code>Nullable</code> \u0442\u0438\u043f, \u0435\u0441\u043b\u0438 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442 \u043d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f <code>NULL</code>.</li>\n<li>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f <code>RENAME TABLE</code> \u0434\u043b\u044f <code>VIEW</code>.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f <code>throwIf</code>.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>odbc_default_field_size</code>, \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0449\u0430\u044f \u0440\u0430\u0441\u0448\u0438\u0440\u0438\u0442\u044c \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u0440\u0430\u0437\u043c\u0435\u0440 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f, \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c\u043e\u0433\u043e \u0438\u0437 ODBC \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0430 (\u043f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e - 1024).</li>\n<li>\u0412 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 <code>system.processes</code> \u0438 \u0432 <code>SHOW PROCESSLIST</code> \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0441\u0442\u043e\u043b\u0431\u0446\u044b <code>is_cancelled</code> \u0438 <code>peak_memory_usage</code>.</li>\n</ul>\n<h4 id=\"uluchsheniia_21\">\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f:<a class=\"headerlink\" href=\"#uluchsheniia_21\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u041e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f \u043d\u0430 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0438 \u043a\u0432\u043e\u0442\u044b \u043d\u0430 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0442\u0435\u043f\u0435\u0440\u044c \u043d\u0435 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u044e\u0442\u0441\u044f \u043a \u043f\u0440\u043e\u043c\u0435\u0436\u0443\u0442\u043e\u0447\u043d\u044b\u043c \u0434\u0430\u043d\u043d\u044b\u043c \u0434\u043b\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 <code>INSERT SELECT</code> \u0438 \u0434\u043b\u044f \u043f\u043e\u0434\u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0432 <code>SELECT</code>.</li>\n<li>\u0423\u043c\u0435\u043d\u044c\u0448\u0435\u043d\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043b\u043e\u0436\u043d\u044b\u0445 \u0441\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u043d\u0438\u0439 \u043f\u0440\u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f <code>Replicated</code> \u0442\u0430\u0431\u043b\u0438\u0446 \u043f\u0440\u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u0430, \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u0432\u0448\u0438\u0445 \u043a \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u0432\u044b\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0444\u043b\u0430\u0433\u0430 <code>force_restore_data</code>.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>allow_distributed_ddl</code>.</li>\n<li>\u0417\u0430\u043f\u0440\u0435\u0449\u0435\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043d\u0435\u0434\u0435\u0442\u0435\u0440\u043c\u0438\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 \u0432 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f\u0445 \u0434\u043b\u044f \u043a\u043b\u044e\u0447\u0435\u0439 \u0442\u0430\u0431\u043b\u0438\u0446 \u0441\u0435\u043c\u0435\u0439\u0441\u0442\u0432\u0430 <code>MergeTree</code>.</li>\n<li>\u0424\u0430\u0439\u043b\u044b \u0441 \u043f\u043e\u0434\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430\u043c\u0438 \u0438\u0437 <code>config.d</code> \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0439 \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u044e\u0442\u0441\u044f \u0432 \u0430\u043b\u0444\u0430\u0432\u0438\u0442\u043d\u043e\u043c \u043f\u043e\u0440\u044f\u0434\u043a\u0435.</li>\n<li>\u0423\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>arrayElement</code> \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u043d\u043e\u0433\u043e \u043c\u043d\u043e\u0433\u043e\u043c\u0435\u0440\u043d\u043e\u0433\u043e \u043c\u0430\u0441\u0441\u0438\u0432\u0430 \u0441 \u043f\u0443\u0441\u0442\u044b\u043c \u043c\u0430\u0441\u0441\u0438\u0432\u043e\u043c \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u043e\u0434\u043d\u043e\u0433\u043e \u0438\u0437 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432. \u041f\u0440\u0438\u043c\u0435\u0440: <code>[[1], []][x]</code>.</li>\n<li>\u0423\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0430 \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0444\u0430\u0439\u043b\u043e\u0432 \u0441 \u043e\u0447\u0435\u043d\u044c \u0431\u043e\u043b\u044c\u0448\u0438\u043c\u0438 \u043f\u043e\u0434\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430\u043c\u0438 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043e\u0447\u0435\u043d\u044c \u0431\u043e\u043b\u044c\u0448\u0438\u043c\u0438 \u0441\u043f\u0438\u0441\u043a\u0430\u043c\u0438 IP-\u0441\u0435\u0442\u0435\u0439).</li>\n<li>\u041f\u0440\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430, \u0442\u0430\u0431\u043b\u0438\u0447\u043d\u044b\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u044e\u0442\u0441\u044f \u043e\u0434\u0438\u043d \u0440\u0430\u0437. \u0420\u0430\u043d\u0435\u0435 \u0442\u0430\u0431\u043b\u0438\u0447\u043d\u044b\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>remote</code>, <code>mysql</code> \u0434\u0432\u0430\u0436\u0434\u044b \u0434\u0435\u043b\u0430\u043b\u0438 \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0441 \u0443\u0434\u0430\u043b\u0451\u043d\u043d\u043e\u0433\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430.</li>\n<li>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0433\u0435\u043d\u0435\u0440\u0430\u0442\u043e\u0440 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438 <code>MkDocs</code>.</li>\n<li>\u041f\u0440\u0438 \u043f\u043e\u043f\u044b\u0442\u043a\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0442\u043e\u043b\u0431\u0435\u0446 \u0442\u0430\u0431\u043b\u0438\u0446\u044b, \u043e\u0442 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u0437\u0430\u0432\u0438\u0441\u044f\u0442 <code>DEFAULT</code>/<code>MATERIALIZED</code> \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0434\u0440\u0443\u0433\u0438\u0445 \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432, \u043a\u0438\u0434\u0430\u0435\u0442\u0441\u044f \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 (zhang2014).</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0430 \u043f\u0443\u0441\u0442\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438 \u0432 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0445 \u0444\u043e\u0440\u043c\u0430\u0442\u0430\u0445 \u043a\u0430\u043a \u0447\u0438\u0441\u043b\u0430 0 \u0434\u043b\u044f <code>Float</code> \u0442\u0438\u043f\u043e\u0432 \u0434\u0430\u043d\u043d\u044b\u0445. \u042d\u0442\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u043e\u0432\u0430\u043b\u0430 \u0440\u0430\u043d\u044c\u0448\u0435, \u043d\u043e \u0431\u044b\u043b\u0430 \u043f\u043e\u0442\u0435\u0440\u044f\u043d\u0430 \u0432 \u0440\u0435\u043b\u0438\u0437\u0435 1.1.54342.</li>\n<li>\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0442\u0438\u043f\u0430 <code>Enum</code> \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0432 \u0444\u0443\u043d\u043a\u0446\u0438\u044f\u0445 <code>min</code>, <code>max</code>, <code>sum</code> \u0438 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0434\u0440\u0443\u0433\u0438\u0445 - \u0432 \u044d\u0442\u0438\u0445 \u0441\u043b\u0443\u0447\u0430\u044f\u0445 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0435 \u0447\u0438\u0441\u043b\u043e\u0432\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f. \u042d\u0442\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u043e\u0432\u0430\u043b\u0430 \u0440\u0430\u043d\u0435\u0435, \u043d\u043e \u0431\u044b\u043b\u0430 \u043f\u043e\u0442\u0435\u0440\u044f\u043d\u0430 \u0432 \u0440\u0435\u043b\u0438\u0437\u0435 1.1.54337.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0435 <code>max_expanded_ast_elements</code> \u0434\u0435\u0439\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0435 \u043d\u0430 \u0440\u0430\u0437\u043c\u0435\u0440 AST \u043f\u043e\u0441\u043b\u0435 \u0440\u0435\u043a\u0443\u0440\u0441\u0438\u0432\u043d\u043e\u0433\u043e \u0440\u0430\u0441\u043a\u0440\u044b\u0442\u0438\u044f \u0430\u043b\u0438\u0430\u0441\u043e\u0432.</li>\n</ul>\n<h4 id=\"ispravlenie-oshibok_21\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0448\u0438\u0431\u043e\u043a:<a class=\"headerlink\" href=\"#ispravlenie-oshibok_21\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u0441\u043b\u0443\u0447\u0430\u0438 \u043e\u0448\u0438\u0431\u043e\u0447\u043d\u043e\u0433\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u043d\u0435\u043d\u0443\u0436\u043d\u044b\u0445 \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432 \u0438\u0437 \u043f\u043e\u0434\u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432, \u0430 \u0442\u0430\u043a\u0436\u0435 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0438\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u043d\u0435\u043d\u0443\u0436\u043d\u044b\u0445 \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432 \u0438\u0437 \u043f\u043e\u0434\u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0438\u0445 <code>UNION ALL</code>.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0441\u043b\u0438\u044f\u043d\u0438\u044f\u0445 \u0434\u043b\u044f \u0442\u0430\u0431\u043b\u0438\u0446 \u0442\u0438\u043f\u0430 <code>ReplacingMergeTree</code>.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0430 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u0433\u043e \u0440\u0435\u0436\u0438\u043c\u0430 \u0432\u0441\u0442\u0430\u0432\u043a\u0438 \u0432 <code>Distributed</code> \u0442\u0430\u0431\u043b\u0438\u0446\u044b (<code>insert_distributed_sync = 1</code>).</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b segfault \u043f\u0440\u0438 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0441\u043b\u0443\u0447\u0430\u044f\u0445 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f <code>FULL</code> \u0438 <code>RIGHT JOIN</code> \u0441 \u0434\u0443\u0431\u043b\u0438\u0440\u0443\u044e\u0449\u0438\u043c\u0438\u0441\u044f \u0441\u0442\u043e\u043b\u0431\u0446\u0430\u043c\u0438 \u0432 \u043f\u043e\u0434\u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b segfault, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0433\u0443\u0442 \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u0442\u044c \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 <code>replace_running_query</code> \u0438 <code>KILL QUERY</code>.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u043f\u043e\u0440\u044f\u0434\u043e\u043a \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432 <code>source</code> \u0438 <code>last_exception</code> \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 <code>system.dictionaries</code>.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 - \u0437\u0430\u043f\u0440\u043e\u0441 <code>DROP DATABASE</code> \u043d\u0435 \u0443\u0434\u0430\u043b\u044f\u043b \u0444\u0430\u0439\u043b \u0441 \u043c\u0435\u0442\u0430\u0434\u0430\u043d\u043d\u044b\u043c\u0438.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u0437\u0430\u043f\u0440\u043e\u0441 <code>DROP DATABASE</code> \u0434\u043b\u044f \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 \u0442\u0438\u043f\u0430 <code>Dictionary</code>.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0435\u043e\u043f\u0440\u0430\u0432\u0434\u0430\u043d\u043d\u043e \u043d\u0438\u0437\u043a\u0430\u044f \u0442\u043e\u0447\u043d\u043e\u0441\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u044b \u0444\u0443\u043d\u043a\u0446\u0438\u0439 <code>uniqHLL12</code> \u0438 <code>uniqCombined</code> \u0434\u043b\u044f \u043a\u0430\u0440\u0434\u0438\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0435\u0439 \u0431\u043e\u043b\u044c\u0448\u0435 100 \u043c\u043b\u043d. \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432 (Alex Bocharov).</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0435 \u043d\u0435\u044f\u0432\u043d\u044b\u0445 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u043f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u043f\u0440\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0433\u043e \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u044f \u044f\u0432\u043d\u044b\u0445 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u043f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0432 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445 <code>INSERT</code> (zhang2014).</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u0440\u0435\u0434\u043a\u0438\u0439 \u0441\u043b\u0443\u0447\u0430\u0439, \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u043c \u0437\u0430\u043f\u0440\u043e\u0441 \u043a \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \u0442\u0438\u043f\u0430 <code>MergeTree</code> \u043c\u043e\u0433 \u043d\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0430\u0442\u044c\u0441\u044f (chenxing-xc).</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0430\u0434\u0435\u043d\u0438\u0435 \u043f\u0440\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 <code>CHECK</code> \u0434\u043b\u044f <code>Distributed</code> \u0442\u0430\u0431\u043b\u0438\u0446, \u0435\u0441\u043b\u0438 \u0432\u0441\u0435 \u0448\u0430\u0440\u0434\u044b \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u044b\u0435 (chenxing.xc).</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0435\u0437\u043d\u0430\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0440\u0435\u0433\u0440\u0435\u0441\u0441\u0438\u044f \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u043f\u0440\u0438 \u0440\u0430\u0431\u043e\u0442\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0439, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0449\u0438\u0445 \u0440\u0435\u0433\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0435\u0433\u0440\u0435\u0441\u0441\u0438\u044f \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043c\u043d\u043e\u0433\u043e\u043c\u0435\u0440\u043d\u044b\u0445 \u043c\u0430\u0441\u0441\u0438\u0432\u043e\u0432 \u043e\u0442 \u0441\u043b\u043e\u0436\u043d\u044b\u0445 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0439.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u0438\u0437-\u0437\u0430 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0432 <code>.sql</code> \u0444\u0430\u0439\u043b \u0441 \u043c\u0435\u0442\u0430\u0434\u0430\u043d\u043d\u044b\u043c\u0438 \u043c\u043e\u0436\u0435\u0442 \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u0442\u044c\u0441\u044f \u043b\u0438\u0448\u043d\u044f\u044f \u0441\u0435\u043a\u0446\u0438\u044f <code>FORMAT</code>.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043f\u0440\u0438\u0432\u043e\u0434\u044f\u0449\u0430\u044f \u043a \u0442\u043e\u043c\u0443, \u0447\u0442\u043e \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0435 <code>max_table_size_to_drop</code> \u0434\u0435\u0439\u0441\u0442\u0432\u0443\u0435\u0442 \u043f\u0440\u0438 \u043f\u043e\u043f\u044b\u0442\u043a\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f <code>MATERIALIZED VIEW</code>, \u0441\u043c\u043e\u0442\u0440\u044f\u0449\u0435\u0433\u043e \u043d\u0430 \u044f\u0432\u043d\u043e \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u0443\u044e \u0442\u0430\u0431\u043b\u0438\u0446\u0443.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0435\u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c \u0441\u043e \u0441\u0442\u0430\u0440\u044b\u043c\u0438 \u043a\u043b\u0438\u0435\u043d\u0442\u0430\u043c\u0438 (\u043d\u0430 \u0441\u0442\u0430\u0440\u044b\u0435 \u043a\u043b\u0438\u0435\u043d\u0442\u044b \u043c\u043e\u0433\u043b\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c\u0441\u044f \u0434\u0430\u043d\u043d\u044b\u0435 \u0441 \u0442\u0438\u043f\u043e\u043c <code>DateTime('timezone')</code>, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043e\u043d\u0438 \u043d\u0435 \u043f\u043e\u043d\u0438\u043c\u0430\u044e\u0442).</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0447\u0442\u0435\u043d\u0438\u0438 \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432-\u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432 <code>Nested</code> \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0431\u044b\u043b\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e <code>ALTER</code>, \u043d\u043e \u044f\u0432\u043b\u044f\u044e\u0442\u0441\u044f \u043f\u0443\u0441\u0442\u044b\u043c\u0438 \u0434\u043b\u044f \u0441\u0442\u0430\u0440\u044b\u0445 \u043f\u0430\u0440\u0442\u0438\u0446\u0438\u0439, \u043a\u043e\u0433\u0434\u0430 \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u043d\u0430 \u0442\u0430\u043a\u0438\u0435 \u0441\u0442\u043e\u043b\u0431\u0446\u044b \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u044f\u0442\u0441\u044f \u0432 <code>PREWHERE</code>.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u0438 \u0442\u0430\u0431\u043b\u0438\u0446 \u043f\u043e \u0443\u0441\u043b\u043e\u0432\u0438\u044e \u043d\u0430 \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u044b\u0445 \u0441\u0442\u043e\u043b\u0431\u0435\u0446 <code>_table</code> \u0432 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445 \u043a \u0442\u0430\u0431\u043b\u0438\u0446\u0430\u043c \u0442\u0438\u043f\u0430 <code>Merge</code>.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 <code>ALIAS</code> \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432 \u0432 <code>Distributed</code> \u0442\u0430\u0431\u043b\u0438\u0446\u0430\u0445.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043f\u0440\u0438\u0432\u043e\u0434\u044f\u0449\u0430\u044f \u043a \u043d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0441 \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u044b\u043c\u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u044f\u043c\u0438 \u0438\u0437 \u0441\u0435\u043c\u0435\u0439\u0441\u0442\u0432\u0430 <code>quantile</code>.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d race condition \u0432 \u043a\u043e\u043d\u0432\u0435\u0439\u0435\u0440\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043c\u043e\u0433 \u043f\u0440\u043e\u044f\u0432\u043b\u044f\u0442\u044c\u0441\u044f \u0432 \u043e\u0447\u0435\u043d\u044c \u0440\u0435\u0434\u043a\u0438\u0445 \u0441\u043b\u0443\u0447\u0430\u044f\u0445 \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 <code>Merge</code> \u0442\u0430\u0431\u043b\u0438\u0446 \u043d\u0430\u0434 \u0431\u043e\u043b\u044c\u0448\u0438\u043c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u043c \u0442\u0430\u0431\u043b\u0438\u0446, \u0430 \u0442\u0430\u043a\u0436\u0435 \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 <code>GLOBAL</code> \u043f\u043e\u0434\u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0430\u0434\u0435\u043d\u0438\u0435 \u043f\u0440\u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0435 \u043c\u0430\u0441\u0441\u0438\u0432\u043e\u0432 \u0440\u0430\u0437\u043d\u044b\u0445 \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u0432 \u0432 \u0444\u0443\u043d\u043a\u0446\u0438\u044e <code>arrayReduce</code> \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 \u043e\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u0432.</li>\n<li>\u0417\u0430\u043f\u0440\u0435\u0449\u0435\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0441 <code>UNION ALL</code> \u0432 <code>MATERIALIZED VIEW</code>.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043c\u043e\u0436\u0435\u0442 \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u0442\u044c \u043f\u0440\u0438 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u044b <code>part_log</code> \u043f\u0440\u0438 \u0441\u0442\u0430\u0440\u0442\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 (\u043f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e <code>part_log</code> \u0432\u044b\u043a\u043b\u044e\u0447\u0435\u043d).</li>\n</ul>\n<h4 id=\"obratno-nesovmestimye-izmeneniia_13\">\u041e\u0431\u0440\u0430\u0442\u043d\u043e \u043d\u0435\u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u044b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f:<a class=\"headerlink\" href=\"#obratno-nesovmestimye-izmeneniia_13\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0423\u0434\u0430\u043b\u0435\u043d\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>distributed_ddl_allow_replicated_alter</code>. \u0421\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u0435 \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043e \u043f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e.</li>\n<li>\u0423\u0434\u0430\u043b\u0435\u043d\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>strict_insert_defaults</code>. \u0415\u0441\u043b\u0438 \u0432\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043b\u0438 \u044d\u0442\u0443 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c, \u043d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u043d\u0430 <code>clickhouse-feedback@yandex-team.com</code>.</li>\n<li>\u0423\u0434\u0430\u043b\u0451\u043d \u0434\u0432\u0438\u0436\u043e\u043a \u0442\u0430\u0431\u043b\u0438\u0446 <code>UnsortedMergeTree</code>.</li>\n</ul>\n<h3 id=\"reliz-clickhouse-1-1-54343-2018-02-05\">\u0420\u0435\u043b\u0438\u0437 ClickHouse 1.1.54343, 2018-02-05<a class=\"headerlink\" href=\"#reliz-clickhouse-1-1-54343-2018-02-05\" title=\"Permanent link\">&para;</a></h3>\n<ul>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043c\u0430\u043a\u0440\u043e\u0441\u044b \u043f\u0440\u0438 \u0437\u0430\u0434\u0430\u043d\u0438\u0438 \u0438\u043c\u0435\u043d\u0438 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430 \u0432 \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0445 DLL \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445 \u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 Distributed-\u0442\u0430\u0431\u043b\u0438\u0446: <code>CREATE TABLE distr ON CLUSTER '{cluster}' (...) ENGINE = Distributed('{cluster}', 'db', 'table')</code>.</li>\n<li>\u0422\u0435\u043f\u0435\u0440\u044c \u043f\u0440\u0438 \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0432\u0438\u0434\u0430 <code>SELECT ... FROM table WHERE expr IN (subquery)</code> \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0438\u043d\u0434\u0435\u043a\u0441 \u0442\u0430\u0431\u043b\u0438\u0446\u044b <code>table</code>.</li>\n<li>\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0434\u0443\u0431\u043b\u0438\u043a\u0430\u0442\u043e\u0432 \u043f\u0440\u0438 \u0432\u0441\u0442\u0430\u0432\u043a\u0435 \u0432 Replicated-\u0442\u0430\u0431\u043b\u0438\u0446\u044b, \u0442\u0435\u043f\u0435\u0440\u044c \u043e\u043d\u0438 \u043d\u0435 \u043f\u0440\u0438\u0432\u043e\u0434\u044f\u0442 \u043a \u0438\u0437\u043b\u0438\u0448\u043d\u0435\u043c\u0443 \u0437\u0430\u043c\u0435\u0434\u043b\u0435\u043d\u0438\u044e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043e\u0447\u0435\u0440\u0435\u0434\u0438 \u0440\u0435\u043f\u043b\u0438\u043a\u0430\u0446\u0438\u0438.</li>\n</ul>\n<h3 id=\"reliz-clickhouse-1-1-54342-2018-01-22\">\u0420\u0435\u043b\u0438\u0437 ClickHouse 1.1.54342, 2018-01-22<a class=\"headerlink\" href=\"#reliz-clickhouse-1-1-54342-2018-01-22\" title=\"Permanent link\">&para;</a></h3>\n<p>\u0420\u0435\u043b\u0438\u0437 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0438\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043a \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u043c\u0443 \u0440\u0435\u043b\u0438\u0437\u0443 1.1.54337:\n<em> \u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0435\u0433\u0440\u0435\u0441\u0441\u0438\u044f \u0432 \u0432\u0435\u0440\u0441\u0438\u0438 1.1.54337: \u0435\u0441\u043b\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0438\u043c\u0435\u0435\u0442 readonly \u0434\u043e\u0441\u0442\u0443\u043f, \u0442\u043e \u0441\u0435\u0440\u0432\u0435\u0440 \u043e\u0442\u043a\u0430\u0437\u044b\u0432\u0430\u043b\u0441\u044f \u0441\u0442\u0430\u0440\u0442\u043e\u0432\u0430\u0442\u044c \u0441 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435\u043c <code>Cannot create database in readonly mode</code>.\n</em> \u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0435\u0433\u0440\u0435\u0441\u0441\u0438\u044f \u0432 \u0432\u0435\u0440\u0441\u0438\u0438 1.1.54337: \u043d\u0430 \u0441\u0438\u0441\u0442\u0435\u043c\u0430\u0445 \u043f\u043e\u0434 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435\u043c systemd, \u043b\u043e\u0433\u0438 \u043f\u043e \u043e\u0448\u0438\u0431\u043a\u0435 \u0432\u0441\u0435\u0433\u0434\u0430 \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u044e\u0442\u0441\u044f \u0432 syslog; watchdog \u0441\u043a\u0440\u0438\u043f\u0442 \u043f\u043e \u043e\u0448\u0438\u0431\u043a\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 init.d.\n<em> \u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0435\u0433\u0440\u0435\u0441\u0441\u0438\u044f \u0432 \u0432\u0435\u0440\u0441\u0438\u0438 1.1.54337: \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0430\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u043f\u043e-\u0443\u043c\u043e\u043b\u0430\u043d\u0438\u044e \u0432 Docker \u043e\u0431\u0440\u0430\u0437\u0435.\n</em> \u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0435\u0434\u0435\u0442\u0435\u0440\u043c\u0438\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 GraphiteMergeTree (\u0432 \u043b\u043e\u0433\u0430\u0445 \u0432\u0438\u0434\u043d\u043e \u043f\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f\u043c <code>Data after merge is not byte-identical to data on another replicas</code>).\n<em> \u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u0432 \u0441\u0432\u044f\u0437\u0438 \u0441 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0437\u0430\u043f\u0440\u043e\u0441 OPTIMIZE \u043a Replicated \u0442\u0430\u0431\u043b\u0438\u0446\u0430\u043c \u043c\u043e\u0433 \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u0442\u044c \u043a \u043d\u0435\u043a\u043e\u043d\u0441\u0438\u0441\u0442\u0435\u043d\u0442\u043d\u044b\u043c \u043c\u0435\u0440\u0436\u0430\u043c (\u0432 \u043b\u043e\u0433\u0430\u0445 \u0432\u0438\u0434\u043d\u043e \u043f\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f\u043c <code>Part ... intersects previous part</code>).\n</em> \u0422\u0430\u0431\u043b\u0438\u0446\u044b \u0442\u0438\u043f\u0430 Buffer \u0442\u0435\u043f\u0435\u0440\u044c \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0442 \u043f\u0440\u0438 \u043d\u0430\u043b\u0438\u0447\u0438\u0438 MATERIALIZED \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f (by zhang2014).\n* \u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0434\u043d\u0430 \u0438\u0437 \u043e\u0448\u0438\u0431\u043e\u043a \u0432 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 NULL.</p>\n<h3 id=\"reliz-clickhouse-1-1-54337-2018-01-18\">\u0420\u0435\u043b\u0438\u0437 ClickHouse 1.1.54337, 2018-01-18<a class=\"headerlink\" href=\"#reliz-clickhouse-1-1-54337-2018-01-18\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"novye-vozmozhnosti_21\">\u041d\u043e\u0432\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438:<a class=\"headerlink\" href=\"#novye-vozmozhnosti_21\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u043c\u043d\u043e\u0433\u043e\u043c\u0435\u0440\u043d\u044b\u0445 \u043c\u0430\u0441\u0441\u0438\u0432\u043e\u0432 \u0438 \u043a\u043e\u0440\u0442\u0435\u0436\u0435\u0439 (\u0442\u0438\u043f \u0434\u0430\u043d\u043d\u044b\u0445 <code>Tuple</code>) \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0430\u0445.</li>\n<li>\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0442\u0430\u0431\u043b\u0438\u0447\u043d\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 \u0434\u043b\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 <code>DESCRIBE</code> \u0438 <code>INSERT</code>. \u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u043f\u043e\u0434\u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0432 \u0437\u0430\u043f\u0440\u043e\u0441\u0435 <code>DESCRIBE</code>. \u041f\u0440\u0438\u043c\u0435\u0440\u044b: <code>DESC TABLE remote('host', default.hits)</code>; <code>DESC TABLE (SELECT 1)</code>; <code>INSERT INTO TABLE FUNCTION remote('host', default.hits)</code>. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043f\u0438\u0441\u0430\u0442\u044c <code>INSERT INTO TABLE</code> \u0432\u043c\u0435\u0441\u0442\u043e <code>INSERT INTO</code>.</li>\n<li>\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0447\u0430\u0441\u043e\u0432\u044b\u0445 \u043f\u043e\u044f\u0441\u043e\u0432. \u0412 \u0442\u0438\u043f\u0435 <code>DateTime</code> \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0443\u043a\u0430\u0437\u0430\u043d\u0430 \u0442\u0430\u0439\u043c\u0437\u043e\u043d\u0430, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0430 \u0438 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u043c \u0432\u0438\u0434\u0435. \u041f\u0440\u0438\u043c\u0435\u0440: <code>DateTime('Europe/Moscow')</code>. \u041f\u0440\u0438 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0438 \u0442\u0430\u0439\u043c\u0437\u043e\u043d\u044b \u0432 \u0444\u0443\u043d\u043a\u0446\u0438\u044f\u0445 \u0440\u0430\u0431\u043e\u0442\u044b \u0441 <code>DateTime</code>, \u0442\u0438\u043f \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u043c\u043e\u0433\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0431\u0443\u0434\u0435\u0442 \u0437\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u0442\u044c \u0442\u0430\u0439\u043c\u0437\u043e\u043d\u0443, \u0434\u043b\u044f \u0442\u043e\u0433\u043e, \u0447\u0442\u043e\u0431\u044b \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u043b\u043e\u0441\u044c \u043e\u0436\u0438\u0434\u0430\u0435\u043c\u044b\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>toTimeZone</code>, <code>timeDiff</code>, <code>toQuarter</code>, <code>toRelativeQuarterNum</code>. \u0412 \u0444\u0443\u043d\u043a\u0446\u0438\u044e <code>toRelativeHour</code>/<code>Minute</code>/<code>Second</code> \u043c\u043e\u0436\u043d\u043e \u043f\u0435\u0440\u0435\u0434\u0430\u0442\u044c \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442 \u0442\u0438\u043f\u0430 <code>Date</code>. \u0418\u043c\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>now</code> \u0432\u043e\u0441\u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u0442\u0441\u044f \u0431\u0435\u0437 \u0443\u0447\u0451\u0442\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f <code>toStartOfFifteenMinutes</code> (Kirill Shvakov).</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0430 <code>clickhouse format</code> \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0439 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 <code>format_schema_path</code> (Marek Vavru\u0161a). \u041e\u043d \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u0437\u0430\u0434\u0430\u043d\u0438\u044f \u0441\u0445\u0435\u043c\u044b \u0434\u043b\u044f \u0444\u043e\u0440\u043c\u0430\u0442\u0430 <code>Cap'n'Proto</code>. \u0424\u0430\u0439\u043b\u044b \u0441\u043e \u0441\u0445\u0435\u043c\u043e\u0439 \u043c\u043e\u0433\u0443\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0439 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 <code>incl</code> \u0438 <code>conf.d</code> \u043f\u043e\u0434\u0441\u0442\u0430\u043d\u043e\u0432\u043e\u043a \u0434\u043b\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0441\u043b\u043e\u0432\u0430\u0440\u0435\u0439 \u0438 \u043c\u043e\u0434\u0435\u043b\u0435\u0439 (Pavel Yakunin).</li>\n<li>\u0412 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 <code>system.settings</code> \u043f\u043e\u044f\u0432\u0438\u043b\u043e\u0441\u044c \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0431\u043e\u043b\u044c\u0448\u0438\u043d\u0441\u0442\u0432\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a (Kirill Shvakov).</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0442\u0430\u0431\u043b\u0438\u0446\u0430 <code>system.parts_columns</code>, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u0440\u0430\u0437\u043c\u0435\u0440\u0430\u0445 \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432 \u0432 \u043a\u0430\u0436\u0434\u043e\u043c \u043a\u0443\u0441\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 <code>MergeTree</code> \u0442\u0430\u0431\u043b\u0438\u0446.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0442\u0430\u0431\u043b\u0438\u0446\u0430 <code>system.models</code>, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043d\u044b\u0445 \u043c\u043e\u0434\u0435\u043b\u044f\u0445 <code>CatBoost</code>.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0442\u0430\u0431\u043b\u0438\u0447\u043d\u044b\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>mysql</code> \u0438 <code>odbc</code> \u0438 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0435 \u0434\u0432\u0438\u0436\u043a\u0438 \u0442\u0430\u0431\u043b\u0438\u0446 <code>MySQL</code>, <code>ODBC</code> \u0434\u043b\u044f \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f \u043a \u0443\u0434\u0430\u043b\u0451\u043d\u043d\u044b\u043c \u0431\u0430\u0437\u0430\u043c \u0434\u0430\u043d\u043d\u044b\u0445. \u0424\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0432 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0438 \"\u0431\u0435\u0442\u0430\".</li>\n<li>\u0414\u043b\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>groupArray</code> \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0442\u0438\u043f\u0430 <code>AggregateFunction</code> (\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u043c\u0430\u0441\u0441\u0438\u0432 \u0438\u0437 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0439 \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439).</li>\n<li>\u0423\u0434\u0430\u043b\u0435\u043d\u044b \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f \u043d\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0440\u0430\u0437\u043d\u044b\u0445 \u043a\u043e\u043c\u0431\u0438\u043d\u0430\u0446\u0438\u0439 \u043a\u043e\u043c\u0431\u0438\u043d\u0430\u0442\u043e\u0440\u043e\u0432 \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439. \u0414\u043b\u044f \u043f\u0440\u0438\u043c\u0435\u0440\u0430, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043a\u0430\u043a \u0444\u0443\u043d\u043a\u0446\u0438\u044e <code>avgForEachIf</code>, \u0442\u0430\u043a \u0438 <code>avgIfForEach</code>, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0438\u043c\u0435\u044e\u0442 \u0440\u0430\u0437\u043d\u044b\u0439 \u0441\u043c\u044b\u0441\u043b.</li>\n<li>\u041a\u043e\u043c\u0431\u0438\u043d\u0430\u0442\u043e\u0440 \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 <code>-ForEach</code> \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d \u0434\u043b\u044f \u0441\u043b\u0443\u0447\u0430\u044f \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 \u0441 \u0431\u043e\u043b\u0435\u0435 \u0447\u0435\u043c \u043e\u0434\u043d\u0438\u043c \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u043c.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 \u043e\u0442 <code>Nullable</code> \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u0432, \u0434\u043b\u044f \u0441\u043b\u0443\u0447\u0430\u0435\u0432, \u043a\u043e\u0433\u0434\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f \u0432\u0441\u0435\u0433\u0434\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u043d\u0435 <code>Nullable</code> \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 (\u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u043e \u0441 \u0443\u0447\u0430\u0441\u0442\u0438\u0435\u043c Silviu Caragea). \u041f\u0440\u0438\u043c\u0435\u0440: <code>groupArray</code>, <code>groupUniqArray</code>, <code>topK</code>.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 \u043a\u043e\u043c\u0430\u043d\u0434\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438 <code>max_client_network_bandwidth</code> \u0434\u043b\u044f <code>clickhouse-client</code> (Kirill Shvakov).</li>\n<li>\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c \u0441 \u0434\u043e\u0441\u0442\u0443\u043f\u043e\u043c <code>readonly = 2</code> \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0441 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u043c\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u0430\u043c\u0438 (CREATE, DROP, INSERT...) (Kirill Shvakov).</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u044f \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 consumers \u0434\u043b\u044f <code>Kafka</code>.  \u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 \u0434\u0432\u0438\u0436\u043a\u0430 <code>Kafka</code> (Marek Vavru\u0161a).</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>intExp2</code>, <code>intExp10</code>.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u0430\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u044f <code>sumKahan</code>.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0444\u0443\u043d\u043a\u0446\u0438\u0438 to<em>Number</em>OrNull, \u0433\u0434\u0435 <em>Number</em> - \u0447\u0438\u0441\u043b\u043e\u0432\u043e\u0439 \u0442\u0438\u043f.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0441\u0435\u043a\u0446\u0438\u0438 <code>WITH</code> \u0434\u043b\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 <code>INSERT SELECT</code> (\u0430\u0432\u0442\u043e\u0440: zhang2014).</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 <code>http_connection_timeout</code>, <code>http_send_timeout</code>, <code>http_receive_timeout</code>. \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f, \u0432 \u0442\u043e\u043c \u0447\u0438\u0441\u043b\u0435, \u043f\u0440\u0438 \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u0438 \u043a\u0443\u0441\u043a\u043e\u0432 \u0434\u043b\u044f \u0440\u0435\u043f\u043b\u0438\u043a\u0430\u0446\u0438\u0438. \u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u044d\u0442\u0438\u0445 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0431\u043e\u043b\u0435\u0435 \u0431\u044b\u0441\u0442\u0440\u044b\u0439 failover \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043f\u0435\u0440\u0435\u0433\u0440\u0443\u0436\u0435\u043d\u043d\u043e\u0439 \u0441\u0435\u0442\u0438.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 <code>ALTER</code> \u0434\u043b\u044f \u0442\u0430\u0431\u043b\u0438\u0446 \u0442\u0438\u043f\u0430 <code>Null</code> (Anastasiya Tsarkova).</li>\n<li>\u0424\u0443\u043d\u043a\u0446\u0438\u044f <code>reinterpretAsString</code> \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0430 \u043d\u0430 \u0432\u0441\u0435 \u0442\u0438\u043f\u044b \u0434\u0430\u043d\u043d\u044b\u0445, \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0445\u0440\u0430\u043d\u044f\u0442\u0441\u044f \u0432 \u043f\u0430\u043c\u044f\u0442\u0438 \u043d\u0435\u043f\u0440\u0435\u0440\u044b\u0432\u043d\u043e.</li>\n<li>\u0414\u043b\u044f \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b <code>clickhouse-local</code> \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u043f\u0446\u0438\u044f <code>--silent</code> \u0434\u043b\u044f \u043f\u043e\u0434\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0432\u044b\u0432\u043e\u0434\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0432 stderr.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0447\u0442\u0435\u043d\u0438\u044f <code>Date</code> \u0432 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u043c \u0432\u0438\u0434\u0435 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435, \u0433\u0434\u0435 \u043c\u0435\u0441\u044f\u0446 \u0438 \u0434\u0435\u043d\u044c \u043c\u0435\u0441\u044f\u0446\u0430 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0443\u043a\u0430\u0437\u0430\u043d\u044b \u043e\u0434\u043d\u043e\u0439 \u0446\u0438\u0444\u0440\u043e\u0439 \u0432\u043c\u0435\u0441\u0442\u043e \u0434\u0432\u0443\u0445 (Amos\u00a0Bird).</li>\n</ul>\n<h4 id=\"uvelichenie-proizvoditelnosti\">\u0423\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438:<a class=\"headerlink\" href=\"#uvelichenie-proizvoditelnosti\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0423\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 <code>min</code>, <code>max</code>, <code>any</code>, <code>anyLast</code>, <code>anyHeavy</code>, <code>argMin</code>, <code>argMax</code> \u043e\u0442 \u0441\u0442\u0440\u043e\u043a\u043e\u0432\u044b\u0445 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u0432.</li>\n<li>\u0423\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0444\u0443\u043d\u043a\u0446\u0438\u0439 <code>isInfinite</code>, <code>isFinite</code>, <code>isNaN</code>, <code>roundToExp2</code>.</li>\n<li>\u0423\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0432 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u043e\u043c \u0432\u0438\u0434\u0435 \u0438 \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0430 \u0438\u0437 \u0442\u0435\u043a\u0441\u0442\u0430 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u0442\u0438\u043f\u0430 <code>Date</code> \u0438 <code>DateTime</code>.</li>\n<li>\u0423\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0438 \u0442\u043e\u0447\u043d\u043e\u0441\u0442\u044c \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0430 \u0447\u0438\u0441\u0435\u043b \u0441 \u043f\u043b\u0430\u0432\u0430\u044e\u0449\u0435\u0439 \u0437\u0430\u043f\u044f\u0442\u043e\u0439.</li>\n<li>\u0423\u043c\u0435\u043d\u044c\u0448\u0435\u043d\u043e \u043f\u043e\u0442\u0440\u0435\u0431\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u043c\u044f\u0442\u0438 \u043f\u0440\u0438 <code>JOIN</code>, \u0435\u0441\u043b\u0438 \u043b\u0435\u0432\u0430\u044f \u0438 \u043f\u0440\u0430\u0432\u0430\u044f \u0447\u0430\u0441\u0442\u044c \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043b\u0438 \u0441\u0442\u043e\u043b\u0431\u0446\u044b \u0441 \u043e\u0434\u0438\u043d\u0430\u043a\u043e\u0432\u044b\u043c \u0438\u043c\u0435\u043d\u0435\u043c, \u043d\u0435 \u0432\u0445\u043e\u0434\u044f\u0449\u0438\u0435 \u0432 <code>USING</code>.</li>\n<li>\u0423\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 <code>varSamp</code>, <code>varPop</code>, <code>stddevSamp</code>, <code>stddevPop</code>, <code>covarSamp</code>, <code>covarPop</code>, <code>corr</code> \u0437\u0430 \u0441\u0447\u0451\u0442 \u0443\u043c\u0435\u043d\u044c\u0448\u0435\u043d\u0438\u044f \u0441\u0442\u043e\u0439\u043a\u043e\u0441\u0442\u0438 \u043a \u0432\u044b\u0447\u0438\u0441\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0439 \u043f\u043e\u0433\u0440\u0435\u0448\u043d\u043e\u0441\u0442\u0438. \u0421\u0442\u0430\u0440\u044b\u0435 \u0432\u0435\u0440\u0441\u0438\u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u043f\u043e\u0434 \u0438\u043c\u0435\u043d\u0430\u043c\u0438 <code>varSampStable</code>, <code>varPopStable</code>, <code>stddevSampStable</code>, <code>stddevPopStable</code>, <code>covarSampStable</code>, <code>covarPopStable</code>, <code>corrStable</code>.</li>\n</ul>\n<h4 id=\"ispravleniia-oshibok_22\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u0448\u0438\u0431\u043e\u043a:<a class=\"headerlink\" href=\"#ispravleniia-oshibok_22\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0430 \u0434\u0435\u0434\u0443\u043f\u043b\u0438\u043a\u0430\u0446\u0438\u0438 \u0431\u043b\u043e\u043a\u043e\u0432 \u043f\u043e\u0441\u043b\u0435 <code>DROP</code> \u0438\u043b\u0438 <code>DETATH PARTITION</code>. \u0420\u0430\u043d\u044c\u0448\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u0442\u0438\u0446\u0438\u0438 \u0438 \u0432\u0441\u0442\u0430\u0432\u043a\u0430 \u0442\u0435\u0445 \u0436\u0435 \u0441\u0430\u043c\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u0437\u0430\u043d\u043e\u0432\u043e \u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u043b\u0430, \u0442\u0430\u043a \u043a\u0430\u043a \u0432\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u0437\u0430\u043d\u043e\u0432\u043e \u0431\u043b\u043e\u043a\u0438 \u0441\u0447\u0438\u0442\u0430\u043b\u0438\u0441\u044c \u0434\u0443\u0431\u043b\u0438\u043a\u0430\u0442\u0430\u043c\u0438.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u0432 \u0441\u0432\u044f\u0437\u0438 \u0441 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u043c\u043e\u0436\u0435\u0442 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u043e\u0431\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0442\u044c\u0441\u044f <code>WHERE</code> \u0434\u043b\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 <code>MATERIALIZED VIEW</code> \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0435\u043c <code>POPULATE</code>.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0440\u0430\u0431\u043e\u0442\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430 <code>root_path</code> \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 <code>zookeeper_servers</code>.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u043d\u0435\u043e\u0436\u0438\u0434\u0430\u043d\u043d\u044b\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u043f\u0440\u0438 \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0435 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0430 \u0442\u0438\u043f\u0430 <code>Date</code> \u0432 \u0444\u0443\u043d\u043a\u0446\u0438\u044e <code>toStartOfDay</code>.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>addMonths</code>, <code>subtractMonths</code>, \u0430\u0440\u0438\u0444\u043c\u0435\u0442\u0438\u043a\u0430 \u0441 <code>INTERVAL n MONTH</code>, \u0435\u0441\u043b\u0438 \u0432 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0435 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442\u0441\u044f \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439 \u0433\u043e\u0434.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u044e\u0449\u0430\u044f \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0442\u0438\u043f\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 <code>UUID</code> \u0434\u043b\u044f <code>DISTINCT</code>, <code>JOIN</code>, \u0432 \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u044f\u0445 <code>uniq</code> \u0438 \u0432\u043e \u0432\u043d\u0435\u0448\u043d\u0438\u0445 \u0441\u043b\u043e\u0432\u0430\u0440\u044f\u0445 (\u0418\u0432\u0430\u043d\u043e\u0432 \u0415\u0432\u0433\u0435\u043d\u0438\u0439). \u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 <code>UUID</code> \u0432\u0441\u0451 \u0435\u0449\u0451 \u043e\u0441\u0442\u0430\u0451\u0442\u0441\u044f \u043d\u0435 \u043f\u043e\u043b\u043d\u043e\u0439.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 <code>SummingMergeTree</code> \u0434\u043b\u044f \u0441\u0442\u0440\u043e\u043a, \u0432 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0432\u0441\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043f\u043e\u0441\u043b\u0435 \u0441\u0443\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0440\u0430\u0432\u043d\u044b \u043d\u0443\u043b\u044e.</li>\n<li>\u041c\u043d\u043e\u0433\u043e\u0447\u0438\u0441\u043b\u0435\u043d\u043d\u044b\u0435 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0434\u043b\u044f \u0434\u0432\u0438\u0436\u043a\u0430 \u0442\u0430\u0431\u043b\u0438\u0446 <code>Kafka</code> (Marek Vavru\u0161a).</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u0434\u0432\u0438\u0436\u043a\u0430 \u0442\u0430\u0431\u043b\u0438\u0446 <code>Join</code> (Amos\u00a0Bird).</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0430 \u0430\u043b\u043b\u043e\u043a\u0430\u0442\u043e\u0440\u0430 \u043f\u043e\u0434 FreeBSD \u0438 OS X.</li>\n<li>\u0424\u0443\u043d\u043a\u0446\u0438\u044f <code>extractAll</code> \u0442\u0435\u043f\u0435\u0440\u044c \u043c\u043e\u0436\u0435\u0442 \u0434\u043e\u0441\u0442\u0430\u0432\u0430\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u0435 \u0432\u0445\u043e\u0436\u0434\u0435\u043d\u0438\u044f.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043d\u0435 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0449\u0430\u044f \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043f\u0440\u0438 \u0441\u0431\u043e\u0440\u043a\u0435 <code>libressl</code> \u0432\u043c\u0435\u0441\u0442\u043e <code>openssl</code>.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0430 <code>CREATE TABLE AS SELECT</code> \u0438\u0437 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 \u0442\u0430\u0431\u043b\u0438\u0446\u044b.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0435\u0430\u0442\u043e\u043c\u0430\u0440\u043d\u043e\u0441\u0442\u044c \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u0447\u0435\u0440\u0435\u0434\u0438 \u0440\u0435\u043f\u043b\u0438\u043a\u0430\u0446\u0438\u0438. \u042d\u0442\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u043c\u043e\u0433\u043b\u0430 \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u0442\u044c \u043a \u0440\u0430\u0441\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0440\u0435\u043f\u043b\u0438\u043a \u0438 \u0447\u0438\u043d\u0438\u043b\u0430\u0441\u044c \u043f\u0440\u0438 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a\u0435.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0435\u0440\u0435\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0432 \u0444\u0443\u043d\u043a\u0446\u0438\u044f\u0445 <code>gcd</code>, <code>lcm</code>, <code>modulo</code> (\u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440 <code>%</code>) (Maks Skorokhod).</li>\n<li>\u0424\u0430\u0439\u043b\u044b <code>-preprocessed</code> \u0442\u0435\u043f\u0435\u0440\u044c \u0441\u043e\u0437\u0434\u0430\u044e\u0442\u0441\u044f \u043f\u043e\u0441\u043b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f <code>umask</code> (<code>umask</code> \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0437\u0430\u0434\u0430\u043d \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u043c \u0444\u0430\u0439\u043b\u0435).</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0444\u043e\u043d\u043e\u0432\u043e\u0439 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u043a\u0443\u0441\u043a\u043e\u0432 (<code>MergeTreePartChecker</code>) \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 \u043f\u0430\u0440\u0442\u0438\u0446\u0438\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u043e \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u043e\u043c\u0443 \u043a\u043b\u044e\u0447\u0443.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u043f\u0430\u0440\u0441\u0438\u043d\u0433 \u043a\u043e\u0440\u0442\u0435\u0436\u0435\u0439 (\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u0442\u0438\u043f\u0430 <code>Tuple</code>) \u0432 \u0442\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0445 \u0444\u043e\u0440\u043c\u0430\u0442\u0430\u0445.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u043e \u043d\u0435\u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0438\u0445 \u0442\u0438\u043f\u0430\u0445 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0434\u043b\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u0439 <code>multiIf</code>, <code>array</code> \u0438 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0434\u0440\u0443\u0433\u0438\u0445.</li>\n<li>\u041f\u0435\u0440\u0435\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 <code>Nullable</code> \u0442\u0438\u043f\u043e\u0432. \u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u043e\u0448\u0438\u0431\u043a\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0433\u0443\u0442 \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u0442\u044c \u043a \u043f\u0430\u0434\u0435\u043d\u0438\u044e \u0441\u0435\u0440\u0432\u0435\u0440\u0430. \u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u043e\u0434\u0430\u0432\u043b\u044f\u044e\u0449\u0435\u0435 \u0431\u043e\u043b\u044c\u0448\u0438\u043d\u0441\u0442\u0432\u043e \u0434\u0440\u0443\u0433\u0438\u0445 \u043e\u0448\u0438\u0431\u043e\u043a, \u0441\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0445 \u0441 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u043e\u0439 <code>NULL</code>: \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0435 \u043f\u0440\u0438\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0442\u0438\u043f\u043e\u0432 \u043f\u0440\u0438 INSERT SELECT, \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u0430\u044f \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 Nullable \u0432 HAVING \u0438 \u0432 PREWHERE, \u0440\u0435\u0436\u0438\u043c <code>join_use_nulls</code>, Nullable \u0442\u0438\u043f\u044b \u0432 \u043e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u0435 <code>OR</code> \u0438 \u0442. \u043f.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0430 \u0441 \u0432\u043d\u0443\u0442\u0440\u0435\u043d\u043d\u0438\u043c\u0438 \u0441\u0432\u043e\u0439\u0441\u0442\u0432\u0430\u043c\u0438 \u0442\u0438\u043f\u043e\u0432 \u0434\u0430\u043d\u043d\u044b\u0445, \u0447\u0442\u043e \u043f\u043e\u0437\u0432\u043e\u043b\u0438\u043b\u043e \u0438\u0441\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0433\u043e \u0432\u0438\u0434\u0430: \u043e\u0448\u0438\u0431\u043e\u0447\u043d\u043e\u0435 \u0441\u0443\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u0435\u0439 \u0442\u0438\u043f\u0430 <code>Enum</code> \u0432 <code>SummingMergeTree</code>; \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0442\u0438\u043f\u0430 <code>Enum</code> \u043e\u0448\u0438\u0431\u043e\u0447\u043d\u043e \u0432\u044b\u0432\u043e\u0434\u044f\u0442\u0441\u044f \u0441 \u0432\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u043d\u0438\u0435\u043c \u043f\u043e \u043f\u0440\u0430\u0432\u043e\u043c\u0443 \u043a\u0440\u0430\u044e \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0430\u0445 \u0432 <code>Pretty</code> \u0444\u043e\u0440\u043c\u0430\u0442\u0430\u0445, \u0438 \u0442. \u043f.</li>\n<li>\u0411\u043e\u043b\u0435\u0435 \u0441\u0442\u0440\u043e\u0433\u0438\u0435 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u0434\u043b\u044f \u0434\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u044b\u0445 \u043a\u043e\u043c\u0431\u0438\u043d\u0430\u0446\u0438\u0439 \u0441\u043e\u0441\u0442\u0430\u0432\u043d\u044b\u0445 \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432 - \u044d\u0442\u043e \u043f\u043e\u0437\u0432\u043e\u043b\u0438\u043b\u043e \u0438\u0441\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043e\u0448\u0438\u0431\u043e\u043a, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0433\u043b\u0438 \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u0442\u044c \u043a \u043f\u0430\u0434\u0435\u043d\u0438\u044f\u043c.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0435\u0440\u0435\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u043f\u0440\u0438 \u0437\u0430\u0434\u0430\u043d\u0438\u0438 \u043e\u0447\u0435\u043d\u044c \u0431\u043e\u043b\u044c\u0448\u043e\u0433\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430 \u0434\u043b\u044f \u0442\u0438\u043f\u0430 <code>FixedString</code>.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0430 \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>topK</code> \u0434\u043b\u044f generic \u0441\u043b\u0443\u0447\u0430\u044f.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0442\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0430\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043d\u0430 \u0441\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0435 \u0440\u0430\u0437\u043c\u0435\u0440\u043e\u0432 \u043c\u0430\u0441\u0441\u0438\u0432\u043e\u0432 \u0434\u043b\u044f n-\u0430\u0440\u043d\u044b\u0445 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u0432 \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 \u0441 \u043a\u043e\u043c\u0431\u0438\u043d\u0430\u0442\u043e\u0440\u043e\u043c <code>-Array</code>.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0430 <code>--pager</code> \u0434\u043b\u044f <code>clickhouse-client</code> (\u0430\u0432\u0442\u043e\u0440: ks1322).</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0442\u043e\u0447\u043d\u043e\u0441\u0442\u044c \u0440\u0430\u0431\u043e\u0442\u044b \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>exp10</code>.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>visitParamExtract</code> \u0441\u043e\u0433\u043b\u0430\u0441\u043d\u043e \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u0438.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0430\u0434\u0435\u043d\u0438\u0435 \u043f\u0440\u0438 \u043e\u0431\u044a\u044f\u0432\u043b\u0435\u043d\u0438\u0438 \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0445 \u0442\u0438\u043f\u043e\u0432 \u0434\u0430\u043d\u043d\u044b\u0445.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0430 <code>DISTINCT</code> \u043f\u0440\u0438 \u0443\u0441\u043b\u043e\u0432\u0438\u0438, \u0447\u0442\u043e \u0432\u0441\u0435 \u0441\u0442\u043e\u043b\u0431\u0446\u044b \u043a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u043d\u044b\u0435.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0430\u043b\u0438\u0447\u0438\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>tupleElement</code> \u0441\u043e \u0441\u043b\u043e\u0436\u043d\u044b\u043c \u043a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u043d\u044b\u043c \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0435\u043c \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u043d\u043e\u043c\u0435\u0440\u0430 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0430 <code>Dictionary</code> \u0442\u0430\u0431\u043b\u0438\u0446 \u0434\u043b\u044f \u0441\u043b\u043e\u0432\u0430\u0440\u0435\u0439 \u0442\u0438\u043f\u0430 <code>range_hashed</code>.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043f\u0440\u0438\u0432\u043e\u0434\u044f\u0449\u0430\u044f \u043a \u043f\u043e\u044f\u0432\u043b\u0435\u043d\u0438\u044e \u043b\u0438\u0448\u043d\u0438\u0445 \u0441\u0442\u0440\u043e\u043a \u043f\u0440\u0438 <code>FULL</code> \u0438 <code>RIGHT JOIN</code> (Amos\u00a0Bird).</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0430\u0434\u0435\u043d\u0438\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u0444\u0430\u0439\u043b\u043e\u0432 \u0432 <code>config.d</code> \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044f\u0445 \u0432 \u043c\u043e\u043c\u0435\u043d\u0442 \u043f\u0435\u0440\u0435\u0447\u0438\u0442\u044b\u0432\u0430\u043d\u0438\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 <code>SYSTEM DROP DNS CACHE</code>: \u0440\u0430\u043d\u0435\u0435 \u0441\u0431\u0440\u043e\u0441 DNS \u043a\u044d\u0448\u0430 \u043d\u0435 \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u043b \u043a \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e\u043c\u0443 \u0440\u0435\u0437\u043e\u043b\u0432\u0438\u043d\u0433\u0443 \u0438\u043c\u0451\u043d \u0445\u043e\u0441\u0442\u043e\u0432 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 <code>MATERIALIZED VIEW</code> \u043f\u043e\u0441\u043b\u0435 <code>DETACH TABLE</code> \u0442\u0430\u0431\u043b\u0438\u0446\u044b, \u043d\u0430 \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u043e\u043d \u0441\u043c\u043e\u0442\u0440\u0438\u0442 (Marek Vavru\u0161a).</li>\n</ul>\n<h4 id=\"uluchsheniia-sborki_2\">\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f \u0441\u0431\u043e\u0440\u043a\u0438:<a class=\"headerlink\" href=\"#uluchsheniia-sborki_2\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0414\u043b\u044f \u0441\u0431\u043e\u0440\u043a\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f <code>pbuilder</code>. \u0421\u0431\u043e\u0440\u043a\u0430 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e \u043d\u0435\u0437\u0430\u0432\u0438\u0441\u0438\u043c\u0430 \u043e\u0442 \u043e\u043a\u0440\u0443\u0436\u0435\u043d\u0438\u044f \u043d\u0430 \u0441\u0431\u043e\u0440\u043e\u0447\u043d\u043e\u0439 \u043c\u0430\u0448\u0438\u043d\u0435.</li>\n<li>\u0414\u043b\u044f \u0440\u0430\u0437\u043d\u044b\u0445 \u0432\u0435\u0440\u0441\u0438\u0439 \u0441\u0438\u0441\u0442\u0435\u043c \u0432\u044b\u043a\u043b\u0430\u0434\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043e\u0434\u0438\u043d \u0438 \u0442\u043e\u0442 \u0436\u0435 \u043f\u0430\u043a\u0435\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c \u0441 \u0448\u0438\u0440\u043e\u043a\u0438\u043c \u0434\u0438\u0430\u043f\u0430\u0437\u043e\u043d\u043e\u043c Linux \u0441\u0438\u0441\u0442\u0435\u043c.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u043f\u0430\u043a\u0435\u0442 <code>clickhouse-test</code>, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d \u0434\u043b\u044f \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0445 \u0442\u0435\u0441\u0442\u043e\u0432.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u044b\u043a\u043b\u0430\u0434\u043a\u0430 \u0432 \u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0439 \u0430\u0440\u0445\u0438\u0432\u0430 \u0441 \u0438\u0441\u0445\u043e\u0434\u043d\u0438\u043a\u0430\u043c\u0438. \u042d\u0442\u043e\u0442 \u0430\u0440\u0445\u0438\u0432 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d \u0434\u043b\u044f \u0432\u043e\u0441\u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0441\u0431\u043e\u0440\u043a\u0438 \u0431\u0435\u0437 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f GitHub.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0447\u0430\u0441\u0442\u0438\u0447\u043d\u0430\u044f \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f \u0441 Travis CI. \u0412 \u0441\u0432\u044f\u0437\u0438 \u0441 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f\u043c\u0438 \u043d\u0430 \u0432\u0440\u0435\u043c\u044f \u0441\u0431\u043e\u0440\u043a\u0438 \u0432 Travis, \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u044b\u0439 \u043d\u0430\u0431\u043e\u0440 \u0442\u0435\u0441\u0442\u043e\u0432 \u043d\u0430 Debug \u0441\u0431\u043e\u0440\u043a\u0435.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 <code>Cap'n'Proto</code> \u0432 \u0441\u0431\u043e\u0440\u043a\u0443 \u043f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e.</li>\n<li>\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f \u043f\u0435\u0440\u0435\u0432\u0435\u0434\u0435\u043d\u0430 \u0441 <code>Restructured Text</code> \u043d\u0430 <code>Markdown</code>.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 <code>systemd</code> (Vladimir Smirnov). \u0412 \u0441\u0432\u044f\u0437\u0438 \u0441 \u043d\u0435\u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c\u044e \u0441 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u043c\u0438 \u043e\u0431\u0440\u0430\u0437\u0430\u043c\u0438, \u043e\u043d\u0430 \u0432\u044b\u043a\u043b\u044e\u0447\u0435\u043d\u0430 \u043f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0438 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0430 \u0432\u0440\u0443\u0447\u043d\u0443\u044e.</li>\n<li>\u0414\u043b\u044f \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432, <code>clang</code> \u0438 <code>lld</code> \u0432\u0441\u0442\u0440\u043e\u0435\u043d\u044b \u0432\u043d\u0443\u0442\u0440\u044c <code>clickhouse</code>. \u041e\u043d\u0438 \u0442\u0430\u043a\u0436\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0432\u044b\u0437\u0432\u0430\u043d\u044b \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e <code>clickhouse clang</code> \u0438 <code>clickhouse lld</code>.</li>\n<li>\u0423\u0434\u0430\u043b\u0435\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0439 GNU \u0438\u0437 \u043a\u043e\u0434\u0430 \u0438 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0430 \u043e\u043f\u0446\u0438\u044f <code>-Wextra</code>. \u041f\u0440\u0438 \u0441\u0431\u043e\u0440\u043a\u0435 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e <code>clang</code> \u043f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f <code>libc++</code> \u0432\u043c\u0435\u0441\u0442\u043e <code>libstdc++</code>.</li>\n<li>\u0412\u044b\u0434\u0435\u043b\u0435\u043d\u044b \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 <code>clickhouse_parsers</code> \u0438 <code>clickhouse_common_io</code> \u0434\u043b\u044f \u0431\u043e\u043b\u0435\u0435 \u0431\u044b\u0441\u0442\u0440\u043e\u0439 \u0441\u0431\u043e\u0440\u043a\u0438 \u0443\u0442\u0438\u043b\u0438\u0442.</li>\n</ul>\n<h4 id=\"obratno-nesovmestimye-izmeneniia_14\">\u041e\u0431\u0440\u0430\u0442\u043d\u043e \u043d\u0435\u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u044b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f:<a class=\"headerlink\" href=\"#obratno-nesovmestimye-izmeneniia_14\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0424\u043e\u0440\u043c\u0430\u0442 \u0437\u0430\u0441\u0435\u0447\u0435\u043a (marks) \u0434\u043b\u044f \u0442\u0430\u0431\u043b\u0438\u0446 \u0442\u0438\u043f\u0430 <code>Log</code>, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0438\u0445 <code>Nullable</code> \u0441\u0442\u043e\u043b\u0431\u0446\u044b, \u0438\u0437\u043c\u0435\u043d\u0451\u043d \u043e\u0431\u0440\u0430\u0442\u043d\u043e-\u043d\u0435\u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u044b\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c. \u0412 \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0430\u043b\u0438\u0447\u0438\u044f \u0442\u0430\u043a\u0438\u0445 \u0442\u0430\u0431\u043b\u0438\u0446, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u0442\u044c \u0438\u0445 \u0432 <code>TinyLog</code> \u0434\u043e \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u043d\u043e\u0432\u043e\u0439 \u0432\u0435\u0440\u0441\u0438\u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u0430. \u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0432 \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0435\u043c \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \u0444\u0430\u0439\u043b\u0435 <code>.sql</code> \u0432 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u0438 <code>metadata</code>, \u0437\u0430\u043c\u0435\u043d\u0438\u0442\u0435 <code>ENGINE = Log</code> \u043d\u0430 <code>ENGINE = TinyLog</code>. \u0415\u0441\u043b\u0438 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \u043d\u0435\u0442 <code>Nullable</code> \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432 \u0438\u043b\u0438 \u0442\u0438\u043f \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u043d\u0435 <code>Log</code>, \u0442\u043e \u043d\u0438\u0447\u0435\u0433\u043e \u0434\u0435\u043b\u0430\u0442\u044c \u043d\u0435 \u043d\u0443\u0436\u043d\u043e.</li>\n<li>\u0423\u0434\u0430\u043b\u0435\u043d\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>experimental_allow_extended_storage_definition_syntax</code>. \u0421\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044e\u0449\u0430\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0430 \u043f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e.</li>\n<li>\u0424\u0443\u043d\u043a\u0446\u0438\u044f <code>runningIncome</code> \u043f\u0435\u0440\u0435\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0430 \u0432 <code>runningDifferenceStartingWithFirstValue</code> \u0432\u043e \u0438\u0437\u0431\u0435\u0436\u0430\u043d\u0438\u0435 \u043f\u0443\u0442\u0430\u043d\u0438\u0446\u044b.</li>\n<li>\u0423\u0434\u0430\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u044f <code>FROM ARRAY JOIN arr</code> \u0431\u0435\u0437 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u043f\u043e\u0441\u043b\u0435 FROM (Amos\u00a0Bird).</li>\n<li>\u0423\u0434\u0430\u043b\u0451\u043d \u0444\u043e\u0440\u043c\u0430\u0442 <code>BlockTabSeparated</code>, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0432\u0448\u0438\u0439\u0441\u044f \u043b\u0438\u0448\u044c \u0434\u043b\u044f \u0434\u0435\u043c\u043e\u043d\u0441\u0442\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u044b\u0445 \u0446\u0435\u043b\u0435\u0439.</li>\n<li>\u0418\u0437\u043c\u0435\u043d\u0451\u043d \u0444\u043e\u0440\u043c\u0430\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 <code>varSamp</code>, <code>varPop</code>, <code>stddevSamp</code>, <code>stddevPop</code>, <code>covarSamp</code>, <code>covarPop</code>, <code>corr</code>. \u0415\u0441\u043b\u0438 \u0432\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043b\u0438 \u044d\u0442\u0438 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u0434\u043b\u044f \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0430\u0445 (\u0442\u0438\u043f \u0434\u0430\u043d\u043d\u044b\u0445 <code>AggregateFunction</code> \u043e\u0442 \u044d\u0442\u0438\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 \u0438\u043b\u0438 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f, \u0445\u0440\u0430\u043d\u044f\u0449\u0438\u0435 \u044d\u0442\u0438 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f), \u043d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u043d\u0430 clickhouse-feedback@yandex-team.com.</li>\n<li>\u0412 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0445 \u0432\u0435\u0440\u0441\u0438\u044f\u0445 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043e\u0432\u0430\u043b\u0430 \u043d\u0435\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c: \u0432 \u0442\u0438\u043f\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 AggregateFunction \u043c\u043e\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u043d\u0435 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0434\u043b\u044f \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0437\u0430\u0432\u0438\u0441\u0438\u0442 \u043e\u0442 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432. \u041f\u0440\u0438\u043c\u0435\u0440: <code>AggregateFunction(quantiles, UInt64)</code> \u0432\u043c\u0435\u0441\u0442\u043e <code>AggregateFunction(quantiles(0.5, 0.9), UInt64)</code>. \u042d\u0442\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043f\u043e\u0442\u0435\u0440\u044f\u043d\u0430. \u041d\u0435 \u0441\u043c\u043e\u0442\u0440\u044f \u043d\u0430 \u0442\u043e, \u0447\u0442\u043e \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043d\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0430, \u043c\u044b \u0441\u043e\u0431\u0438\u0440\u0430\u0435\u043c\u0441\u044f \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u0435\u0451 \u0432 \u0431\u043b\u0438\u0436\u0430\u0439\u0448\u0438\u0445 \u0440\u0435\u043b\u0438\u0437\u0430\u0445.</li>\n<li>\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0442\u0438\u043f\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 Enum \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u044b \u0432 \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u044b\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 min/max. \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0431\u0443\u0434\u0435\u0442 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0435\u043d\u0430 \u043e\u0431\u0440\u0430\u0442\u043d\u043e \u0432 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u043c \u0440\u0435\u043b\u0438\u0437\u0435.</li>\n</ul>\n<h4 id=\"na-chto-obratit-vnimanie-pri-obnovlenii\">\u041d\u0430 \u0447\u0442\u043e \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u044c \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438:<a class=\"headerlink\" href=\"#na-chto-obratit-vnimanie-pri-obnovlenii\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u041f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430, \u043d\u0430 \u0432\u0440\u0435\u043c\u044f, \u043a\u043e\u0433\u0434\u0430 \u043d\u0430 \u043e\u0434\u043d\u0438\u0445 \u0440\u0435\u043f\u043b\u0438\u043a\u0430\u0445 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043d\u043e\u0432\u0430\u044f \u0432\u0435\u0440\u0441\u0438\u044f \u0441\u0435\u0440\u0432\u0435\u0440\u0430, \u0430 \u043d\u0430 \u0434\u0440\u0443\u0433\u0438\u0445 - \u0441\u0442\u0430\u0440\u0430\u044f, \u0440\u0435\u043f\u043b\u0438\u043a\u0430\u0446\u0438\u044f \u0431\u0443\u0434\u0435\u0442 \u043f\u0440\u0438\u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0430 \u0438 \u0432 \u043b\u043e\u0433\u0435 \u043f\u043e\u044f\u0432\u044f\u0442\u0441\u044f \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0432\u0438\u0434\u0430 <code>unknown parameter 'shard'</code>. \u0420\u0435\u043f\u043b\u0438\u043a\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0441\u044f \u043f\u043e\u0441\u043b\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0432\u0441\u0435\u0445 \u0440\u0435\u043f\u043b\u0438\u043a \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430.</li>\n<li>\u0415\u0441\u043b\u0438 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430\u0445 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430 \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0442 \u0440\u0430\u0437\u043d\u044b\u0435 \u0432\u0435\u0440\u0441\u0438\u0438 ClickHouse, \u0442\u043e \u0432\u043e\u0437\u043c\u043e\u0436\u0435\u043d \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0451\u043d\u043d\u044b\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0449\u0438\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>varSamp</code>, <code>varPop</code>, <code>stddevSamp</code>, <code>stddevPop</code>, <code>covarSamp</code>, <code>covarPop</code>, <code>corr</code>. \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0432\u0441\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u044b \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430.</li>\n</ul>\n<h3 id=\"reliz-clickhouse-1-1-54327-2017-12-21\">\u0420\u0435\u043b\u0438\u0437 ClickHouse 1.1.54327, 2017-12-21<a class=\"headerlink\" href=\"#reliz-clickhouse-1-1-54327-2017-12-21\" title=\"Permanent link\">&para;</a></h3>\n<p>\u0420\u0435\u043b\u0438\u0437 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0438\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043a \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u043c\u0443 \u0440\u0435\u043b\u0438\u0437\u0443 1.1.54318:\n* \u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u044b\u043c race condition \u043f\u0440\u0438 \u0440\u0435\u043f\u043b\u0438\u043a\u0430\u0446\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u0442\u044c \u043a \u043f\u043e\u0442\u0435\u0440\u0435 \u0434\u0430\u043d\u043d\u044b\u0445. \u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0435 \u043f\u043e\u0434\u0432\u0435\u0440\u0436\u0435\u043d\u044b \u0432\u0435\u0440\u0441\u0438\u0438 1.1.54310 \u0438 1.1.54318. \u0415\u0441\u043b\u0438 \u0432\u044b \u0438\u0445 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0435 \u0438 \u0443 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c Replicated \u0442\u0430\u0431\u043b\u0438\u0446\u044b, \u0442\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e. \u041f\u043e\u043d\u044f\u0442\u044c, \u0447\u0442\u043e \u044d\u0442\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442, \u043c\u043e\u0436\u043d\u043e \u043f\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f\u043c \u0432 \u043b\u043e\u0433\u0435 Warning \u0432\u0438\u0434\u0430 <code>Part ... from own log doesn't exist.</code> \u0414\u0430\u0436\u0435 \u0435\u0441\u043b\u0438 \u0442\u0430\u043a\u0438\u0445 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u043d\u0435\u0442, \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0432\u0441\u0451-\u0440\u0430\u0432\u043d\u043e \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u0430.</p>\n<h3 id=\"reliz-clickhouse-1-1-54318-2017-11-30\">\u0420\u0435\u043b\u0438\u0437 ClickHouse 1.1.54318, 2017-11-30<a class=\"headerlink\" href=\"#reliz-clickhouse-1-1-54318-2017-11-30\" title=\"Permanent link\">&para;</a></h3>\n<p>\u0420\u0435\u043b\u0438\u0437 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043a \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u043c\u0443 \u0440\u0435\u043b\u0438\u0437\u0443 1.1.54310 \u0441 \u0438\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435\u043c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0445 \u0431\u0430\u0433\u043e\u0432:\n<em> \u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0441\u0442\u0440\u043e\u043a \u043f\u0440\u0438 \u0441\u043b\u0438\u044f\u043d\u0438\u044f\u0445 \u0432 \u0434\u0432\u0438\u0436\u043a\u0435 SummingMergeTree\n</em> \u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0443\u0442\u0435\u0447\u043a\u0430 \u043f\u0430\u043c\u044f\u0442\u0438 \u0432 \u043d\u0435\u0440\u0435\u043f\u043b\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 MergeTree-\u0434\u0432\u0438\u0436\u043a\u0430\u0445\n<em> \u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0434\u0435\u0433\u0440\u0430\u0434\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u043f\u0440\u0438 \u0447\u0430\u0441\u0442\u044b\u0445 \u0432\u0441\u0442\u0430\u0432\u043a\u0430\u0445 \u0432 MergeTree-\u0434\u0432\u0438\u0436\u043a\u0430\u0445\n</em> \u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430, \u043f\u0440\u0438\u0432\u043e\u0434\u044f\u0449\u0430\u044f \u043a \u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043e\u0447\u0435\u0440\u0435\u0434\u0438 \u0440\u0435\u043f\u043b\u0438\u043a\u0430\u0446\u0438\u0438\n* \u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0440\u043e\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438 \u0430\u0440\u0445\u0438\u0432\u0430\u0446\u0438\u044f \u043b\u043e\u0433\u043e\u0432 \u0441\u0435\u0440\u0432\u0435\u0440\u0430</p>\n<h3 id=\"reliz-clickhouse-1-1-54310-2017-11-01\">\u0420\u0435\u043b\u0438\u0437 ClickHouse 1.1.54310, 2017-11-01<a class=\"headerlink\" href=\"#reliz-clickhouse-1-1-54310-2017-11-01\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"novye-vozmozhnosti_22\">\u041d\u043e\u0432\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438:<a class=\"headerlink\" href=\"#novye-vozmozhnosti_22\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u041f\u0440\u043e\u0438\u0437\u0432\u043e\u043b\u044c\u043d\u044b\u0439 \u043a\u043b\u044e\u0447 \u043f\u0430\u0440\u0442\u0438\u0446\u0438\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0434\u043b\u044f \u0442\u0430\u0431\u043b\u0438\u0446 \u0441\u0435\u043c\u0435\u0439\u0441\u0442\u0432\u0430 MergeTree.</li>\n<li>\u0414\u0432\u0438\u0436\u043e\u043a \u0442\u0430\u0431\u043b\u0438\u0446 <a href=\"https://clickhouse.yandex/docs/en/operations/table_engines/kafka/\">Kafka</a>.</li>\n<li>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0437\u0430\u0433\u0440\u0443\u0436\u0430\u0442\u044c \u043c\u043e\u0434\u0435\u043b\u0438 <a href=\"https://catboost.yandex/\" rel=\"external nofollow\">CatBoost</a> \u0438 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0442\u044c \u0438\u0445 \u043a \u0434\u0430\u043d\u043d\u044b\u043c, \u0445\u0440\u0430\u043d\u044f\u0449\u0438\u043c\u0441\u044f \u0432 ClickHouse.</li>\n<li>\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0447\u0430\u0441\u043e\u0432\u044b\u0445 \u043f\u043e\u044f\u0441\u043e\u0432 \u0441 \u043d\u0435\u0446\u0435\u043b\u044b\u043c \u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0435\u043c \u043e\u0442 UTC.</li>\n<li>\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0439 \u0441 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u043c\u0438 \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b\u0430\u043c\u0438.</li>\n<li>\u0414\u0438\u0430\u043f\u0430\u0437\u043e\u043d \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u0442\u0438\u043f\u043e\u0432 Date \u0438 DateTime \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d \u0434\u043e 2105 \u0433\u043e\u0434\u0430.</li>\n<li>\u0417\u0430\u043f\u0440\u043e\u0441 <code>CREATE MATERIALIZED VIEW x TO y</code> (\u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0443\u044e \u0442\u0430\u0431\u043b\u0438\u0446\u0443 \u0434\u043b\u044f \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u044f).</li>\n<li>\u0417\u0430\u043f\u0440\u043e\u0441 <code>ATTACH TABLE</code> \u0431\u0435\u0437 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u0432.</li>\n<li>\u041b\u043e\u0433\u0438\u043a\u0430 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0438 Nested-\u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432 \u0432 SummingMergeTree, \u0437\u0430\u043a\u0430\u043d\u0447\u0438\u0432\u0430\u044e\u0449\u0438\u0445\u0441\u044f \u043d\u0430 -Map, \u0432\u044b\u043d\u0435\u0441\u0435\u043d\u0430 \u0432 \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u0443\u044e \u0444\u0443\u043d\u043a\u0446\u0438\u044e sumMap. \u0422\u0430\u043a\u0438\u0435 \u0441\u0442\u043e\u043b\u0431\u0446\u044b \u0442\u0435\u043f\u0435\u0440\u044c \u043c\u043e\u0436\u043d\u043e \u0437\u0430\u0434\u0430\u0432\u0430\u0442\u044c \u044f\u0432\u043d\u043e.</li>\n<li>\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u0440\u0430\u0437\u043c\u0435\u0440 IP trie-\u0441\u043b\u043e\u0432\u0430\u0440\u044f \u0443\u0432\u0435\u043b\u0438\u0447\u0435\u043d \u0434\u043e 128\u041c \u0437\u0430\u043f\u0438\u0441\u0435\u0439.</li>\n<li>\u0424\u0443\u043d\u043a\u0446\u0438\u044f getSizeOfEnumType.</li>\n<li>\u0410\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u0430\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u044f sumWithOverflow.</li>\n<li>\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0432\u0445\u043e\u0434\u043d\u043e\u0433\u043e \u0444\u043e\u0440\u043c\u0430\u0442\u0430 Cap\u2019n Proto.</li>\n<li>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0437\u0430\u0434\u0430\u0432\u0430\u0442\u044c \u0443\u0440\u043e\u0432\u0435\u043d\u044c \u0441\u0436\u0430\u0442\u0438\u044f \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 \u0430\u043b\u0433\u043e\u0440\u0438\u0442\u043c\u0430 zstd.</li>\n</ul>\n<h4 id=\"obratno-nesovmestimye-izmeneniia_15\">\u041e\u0431\u0440\u0430\u0442\u043d\u043e \u043d\u0435\u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u044b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f:<a class=\"headerlink\" href=\"#obratno-nesovmestimye-izmeneniia_15\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0417\u0430\u043f\u0440\u0435\u0449\u0435\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u0442\u0430\u0431\u043b\u0438\u0446 \u0441 \u0434\u0432\u0438\u0436\u043a\u043e\u043c, \u043e\u0442\u043b\u0438\u0447\u043d\u044b\u043c \u043e\u0442 Memory.</li>\n<li>\u0417\u0430\u043f\u0440\u0435\u0449\u0435\u043d\u043e \u044f\u0432\u043d\u043e\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0442\u0430\u0431\u043b\u0438\u0446 \u0441 \u0434\u0432\u0438\u0436\u043a\u043e\u043c View \u0438 MaterializedView.</li>\n<li>\u041f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0442\u0435\u043f\u0435\u0440\u044c \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442\u0441\u044f, \u0447\u0442\u043e \u043a\u043b\u044e\u0447 \u0441\u044d\u043c\u043f\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0432\u0445\u043e\u0434\u0438\u0442 \u0432 \u043f\u0435\u0440\u0432\u0438\u0447\u043d\u044b\u0439 \u043a\u043b\u044e\u0447.</li>\n</ul>\n<h4 id=\"ispravleniia-oshibok_23\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u0448\u0438\u0431\u043e\u043a:<a class=\"headerlink\" href=\"#ispravleniia-oshibok_23\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0437\u0430\u0432\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0440\u0438 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u0439 \u0432\u0441\u0442\u0430\u0432\u043a\u0435 \u0432 Distributed \u0442\u0430\u0431\u043b\u0438\u0446\u0443.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0435\u0430\u0442\u043e\u043c\u0430\u0440\u043d\u043e\u0441\u0442\u044c \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438/\u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0438 \u043a\u0443\u0441\u043a\u043e\u0432 \u0432 \u0440\u0435\u043f\u043b\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u0442\u0430\u0431\u043b\u0438\u0446\u0430\u0445.</li>\n<li>\u0414\u0430\u043d\u043d\u044b\u0435, \u0432\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u043c\u044b\u0435 \u0432 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u043e\u0435 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0435, \u0442\u0435\u043f\u0435\u0440\u044c \u043d\u0435 \u043f\u043e\u0434\u0432\u0435\u0440\u0433\u0430\u044e\u0442\u0441\u044f \u0438\u0437\u043b\u0438\u0448\u043d\u0435\u0439 \u0434\u0435\u0434\u0443\u043f\u043b\u0438\u043a\u0430\u0446\u0438\u0438.</li>\n<li>\u0417\u0430\u043f\u0440\u043e\u0441 \u0432 Distributed \u0442\u0430\u0431\u043b\u0438\u0446\u0443, \u0434\u043b\u044f \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u0430\u044f \u0440\u0435\u043f\u043b\u0438\u043a\u0430 \u043e\u0442\u0441\u0442\u0430\u0451\u0442, \u0430 \u0443\u0434\u0430\u043b\u0451\u043d\u043d\u044b\u0435 \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b, \u0442\u0435\u043f\u0435\u0440\u044c \u043d\u0435 \u043f\u0430\u0434\u0430\u0435\u0442.</li>\n<li>\u0414\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u0442\u0430\u0431\u043b\u0438\u0446 \u0442\u0435\u043f\u0435\u0440\u044c \u043d\u0435 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u043f\u0440\u0430\u0432 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u0411\u0414 <code>default</code>.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0430\u0434\u0435\u043d\u0438\u0435 \u043f\u0440\u0438 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0438 \u0442\u0438\u043f\u0430 Array \u0431\u0435\u0437 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u0432.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0437\u0430\u0432\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0440\u0438 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043a\u0435 \u043c\u0435\u0441\u0442\u0430 \u043d\u0430 \u0434\u0438\u0441\u043a\u0435 \u0432 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0441 \u043b\u043e\u0433\u0430\u043c\u0438.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0435\u0440\u0435\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0432 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 toRelativeWeekNum \u0434\u043b\u044f \u043f\u0435\u0440\u0432\u043e\u0439 \u043d\u0435\u0434\u0435\u043b\u0438 Unix-\u044d\u043f\u043e\u0445\u0438.</li>\n</ul>\n<h4 id=\"uluchsheniia-sborki_3\">\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f \u0441\u0431\u043e\u0440\u043a\u0438:<a class=\"headerlink\" href=\"#uluchsheniia-sborki_3\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u041d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0441\u0442\u043e\u0440\u043e\u043d\u043d\u0438\u0445 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a (\u0432 \u0447\u0430\u0441\u0442\u043d\u043e\u0441\u0442\u0438, Poco) \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b \u0438 \u043f\u0435\u0440\u0435\u0432\u0435\u0434\u0435\u043d\u044b \u043d\u0430 git submodules.</li>\n</ul>\n<h3 id=\"reliz-clickhouse-1-1-54304-2017-10-19\">\u0420\u0435\u043b\u0438\u0437 ClickHouse 1.1.54304, 2017-10-19<a class=\"headerlink\" href=\"#reliz-clickhouse-1-1-54304-2017-10-19\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"novye-vozmozhnosti_23\">\u041d\u043e\u0432\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438:<a class=\"headerlink\" href=\"#novye-vozmozhnosti_23\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 TLS \u0432 \u043d\u0430\u0442\u0438\u0432\u043d\u043e\u043c \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b\u0435 (\u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442\u0441\u044f \u0437\u0430\u0434\u0430\u043d\u0438\u0435\u043c <code>tcp_ssl_port</code> \u0432 <code>config.xml</code>)</li>\n</ul>\n<h4 id=\"ispravleniia-oshibok_24\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u0448\u0438\u0431\u043e\u043a:<a class=\"headerlink\" href=\"#ispravleniia-oshibok_24\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li><code>ALTER</code> \u0434\u043b\u044f \u0440\u0435\u043f\u043b\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u0442\u0430\u0431\u043b\u0438\u0446 \u0442\u0435\u043f\u0435\u0440\u044c \u043f\u044b\u0442\u0430\u0435\u0442\u0441\u044f \u043d\u0430\u0447\u0430\u0442\u044c \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u043a\u0430\u043a \u043c\u043e\u0436\u043d\u043e \u0431\u044b\u0441\u0442\u0440\u0435\u0435</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u043f\u0430\u0434\u0435\u043d\u0438\u044f \u043f\u0440\u0438 \u0447\u0442\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u0441 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u043e\u0439 <code>preferred_block_size_bytes=0</code></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0430\u0434\u0435\u043d\u0438\u0435 <code>clickhouse-client</code> \u043f\u0440\u0438 \u043d\u0430\u0436\u0430\u0442\u0438\u0438 <code>Page Down</code></li>\n<li>\u041a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0430\u044f \u0438\u043d\u0442\u0435\u043f\u0440\u0435\u0442\u0430\u0446\u0438\u044f \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0441\u043b\u043e\u0436\u043d\u044b\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0441 <code>GLOBAL IN</code> \u0438 <code>UNION ALL</code></li>\n<li>\u041e\u043f\u0435\u0440\u0430\u0446\u0438\u044f <code>FREEZE PARTITION</code> \u0442\u0435\u043f\u0435\u0440\u044c \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0432\u0441\u0435\u0433\u0434\u0430 \u0430\u0442\u043e\u043c\u0430\u0440\u043d\u043e</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0437\u0430\u0432\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0443\u0441\u0442\u044b\u0445 POST-\u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 (\u0442\u0435\u043f\u0435\u0440\u044c \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442\u0441\u044f \u043a\u043e\u0434 411)</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u043e\u0448\u0438\u0431\u043a\u0438 \u043f\u0440\u0438 \u0438\u043d\u0442\u0435\u043f\u0440\u0435\u0442\u0430\u0446\u0438\u0438 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u0442\u0438\u043f\u0430 <code>CAST(1 AS Nullable(UInt8))</code></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0447\u0442\u0435\u043d\u0438\u0438 \u043a\u043e\u043b\u043e\u043d\u043e\u043a \u0442\u0438\u043f\u0430 <code>Array(Nullable(String))</code> \u0438\u0437 <code>MergeTree</code> \u0442\u0430\u0431\u043b\u0438\u0446</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0430\u0434\u0435\u043d\u0438\u0435 \u043f\u0440\u0438 \u043f\u0430\u0440\u0441\u0438\u043d\u0433\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0442\u0438\u043f\u0430 <code>SELECT dummy AS dummy, dummy AS b</code></li>\n<li>\u041a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u043f\u0440\u0438 \u043d\u0435\u0432\u0430\u043b\u0438\u0434\u043d\u043e\u043c <code>users.xml</code></li>\n<li>\u041a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0430\u044f \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0441\u043b\u0443\u0447\u0430\u0435\u0432, \u043a\u043e\u0433\u0434\u0430 executable-\u0441\u043b\u043e\u0432\u0430\u0440\u044c \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u043d\u0435\u043d\u0443\u043b\u0435\u0432\u043e\u0439 \u043a\u043e\u0434 \u043e\u0442\u0432\u0435\u0442\u0430</li>\n</ul>\n<h3 id=\"reliz-clickhouse-1-1-54292-2017-09-20\">\u0420\u0435\u043b\u0438\u0437 ClickHouse 1.1.54292, 2017-09-20<a class=\"headerlink\" href=\"#reliz-clickhouse-1-1-54292-2017-09-20\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"novye-vozmozhnosti_24\">\u041d\u043e\u0432\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438:<a class=\"headerlink\" href=\"#novye-vozmozhnosti_24\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f <code>pointInPolygon</code> \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u043a\u043e\u043e\u0440\u0434\u0438\u043d\u0430\u0442\u0430\u043c\u0438 \u043d\u0430 \u043f\u043b\u043e\u0441\u043a\u043e\u0441\u0442\u0438.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u0430\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u044f <code>sumMap</code>, \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u044e\u0449\u0430\u044f \u0441\u0443\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043c\u0430\u0441\u0441\u0438\u0432\u043e\u0432 \u0430\u043d\u0430\u043b\u043e\u0433\u0438\u0447\u043d\u043e <code>SummingMergeTree</code>.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u044f <code>trunc</code>. \u0423\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0444\u0443\u043d\u043a\u0446\u0438\u0439 \u043e\u043a\u0440\u0443\u0433\u043b\u0435\u043d\u0438\u044f <code>round</code>, <code>floor</code>, <code>ceil</code>, <code>roundToExp2</code>. \u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043b\u043e\u0433\u0438\u043a\u0430 \u0440\u0430\u0431\u043e\u0442\u044b \u0444\u0443\u043d\u043a\u0446\u0438\u0439 \u043e\u043a\u0440\u0443\u0433\u043b\u0435\u043d\u0438\u044f. \u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0430 \u043b\u043e\u0433\u0438\u043a\u0430 \u0440\u0430\u0431\u043e\u0442\u044b \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>roundToExp2</code> \u0434\u043b\u044f \u0434\u0440\u043e\u0431\u043d\u044b\u0445 \u0438 \u043e\u0442\u0440\u0438\u0446\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0447\u0438\u0441\u0435\u043b.</li>\n<li>\u041e\u0441\u043b\u0430\u0431\u043b\u0435\u043d\u0430 \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u043d\u044f\u0435\u043c\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u0430 ClickHouse \u043e\u0442 \u0432\u0435\u0440\u0441\u0438\u0438 libc. \u041e\u0434\u0438\u043d \u0438 \u0442\u043e\u0442 \u0436\u0435 \u0438\u0441\u043f\u043e\u043b\u043d\u044f\u0435\u043c\u044b\u0439 \u0444\u0430\u0439\u043b ClickHouse \u043c\u043e\u0436\u0435\u0442 \u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0442\u044c\u0441\u044f \u0438 \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u043d\u0430 \u0448\u0438\u0440\u043e\u043a\u043e\u043c \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0435 Linux \u0441\u0438\u0441\u0442\u0435\u043c. \u0417\u0430\u043c\u0435\u0447\u0430\u043d\u0438\u0435: \u0437\u0430\u0432\u0438\u0441\u0438\u043c\u043e\u0441\u0442\u044c \u0432\u0441\u0451 \u0435\u0449\u0451 \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 \u0441\u043a\u043e\u043c\u043f\u0438\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 (\u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>compile = 1</code>, \u043f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u043d\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f).</li>\n<li>\u0423\u043c\u0435\u043d\u044c\u0448\u0435\u043d\u043e \u0432\u0440\u0435\u043c\u044f \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432.</li>\n</ul>\n<h4 id=\"ispravleniia-oshibok_25\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u0448\u0438\u0431\u043e\u043a:<a class=\"headerlink\" href=\"#ispravleniia-oshibok_25\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u043c\u043e\u0433\u043b\u0430 \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u0442\u044c \u043a \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f\u043c <code>part ... intersects previous part</code> \u0438 \u043d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u044e \u043a\u043e\u043d\u0441\u0438\u0441\u0442\u0435\u043d\u0442\u043d\u043e\u0441\u0442\u0438 \u0440\u0435\u043f\u043b\u0438\u043a.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u043f\u0440\u0438\u0432\u043e\u0434\u044f\u0449\u0430\u044f \u043a \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0435 \u043f\u0440\u0438 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0438 \u0440\u0430\u0431\u043e\u0442\u044b \u0441\u0435\u0440\u0432\u0435\u0440\u0430, \u0435\u0441\u043b\u0438 \u0432 \u044d\u0442\u043e \u0432\u0440\u0435\u043c\u044f ZooKeeper \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d.</li>\n<li>\u0423\u0434\u0430\u043b\u0435\u043d\u043e \u0438\u0437\u0431\u044b\u0442\u043e\u0447\u043d\u043e\u0435 \u043b\u043e\u0433\u0433\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u0438 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0440\u0435\u043f\u043b\u0438\u043a.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 UNION ALL.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u0432 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 concat, \u0432\u043e\u0437\u043d\u0438\u043a\u0430\u044e\u0449\u0430\u044f \u0432 \u0441\u043b\u0443\u0447\u0430\u0435, \u0435\u0441\u043b\u0438 \u043f\u0435\u0440\u0432\u044b\u0439 \u0441\u0442\u043e\u043b\u0431\u0435\u0446 \u0431\u043b\u043e\u043a\u0430 \u0438\u043c\u0435\u0435\u0442 \u0442\u0438\u043f Array.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0433\u0440\u0435\u0441\u0441\u0430 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 system.merges.</li>\n</ul>\n<h3 id=\"reliz-clickhouse-1-1-54289-2017-09-13\">\u0420\u0435\u043b\u0438\u0437 ClickHouse 1.1.54289, 2017-09-13<a class=\"headerlink\" href=\"#reliz-clickhouse-1-1-54289-2017-09-13\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"novye-vozmozhnosti_25\">\u041d\u043e\u0432\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438:<a class=\"headerlink\" href=\"#novye-vozmozhnosti_25\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0417\u0430\u043f\u0440\u043e\u0441\u044b <code>SYSTEM</code> \u0434\u043b\u044f \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u0438\u0432\u043d\u044b\u0445 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c: <code>SYSTEM RELOAD DICTIONARY</code>, <code>SYSTEM RELOAD DICTIONARIES</code>, <code>SYSTEM DROP DNS CACHE</code>, <code>SYSTEM SHUTDOWN</code>, <code>SYSTEM KILL</code>.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0444\u0443\u043d\u043a\u0446\u0438\u0438 \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u043c\u0430\u0441\u0441\u0438\u0432\u0430\u043c\u0438: <code>concat</code>, <code>arraySlice</code>, <code>arrayPushBack</code>, <code>arrayPushFront</code>, <code>arrayPopBack</code>, <code>arrayPopFront</code>.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b <code>root</code> \u0438 <code>identity</code> \u0434\u043b\u044f \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438 ZooKeeper. \u042d\u0442\u043e \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0438\u0437\u043e\u043b\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0440\u0430\u0437\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u043e\u0434\u043d\u043e\u0433\u043e ZooKeeper \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u044b\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>groupBitAnd</code>, <code>groupBitOr</code>, <code>groupBitXor</code> (\u0434\u043b\u044f \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0442\u0430\u043a\u0436\u0435 \u043f\u043e\u0434 \u0438\u043c\u0435\u043d\u0430\u043c\u0438 <code>BIT_AND</code>, <code>BIT_OR</code>, <code>BIT_XOR</code>).</li>\n<li>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0432\u043d\u0435\u0448\u043d\u0438\u0445 \u0441\u043b\u043e\u0432\u0430\u0440\u0435\u0439 \u0438\u0437 MySQL \u0441 \u0443\u043a\u0430\u0437\u0430\u043d\u0438\u0435\u043c \u0441\u043e\u043a\u0435\u0442\u0430 \u043d\u0430 \u0444\u0430\u0439\u043b\u043e\u0432\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0435.</li>\n<li>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0432\u043d\u0435\u0448\u043d\u0438\u0445 \u0441\u043b\u043e\u0432\u0430\u0440\u0435\u0439 \u0438\u0437 MySQL \u0447\u0435\u0440\u0435\u0437 SSL \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 (\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b <code>ssl_cert</code>, <code>ssl_key</code>, <code>ssl_ca</code>).</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>max_network_bandwidth_for_user</code> \u0434\u043b\u044f \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f \u043e\u0431\u0449\u0435\u0433\u043e \u043f\u043e\u0442\u0440\u0435\u0431\u043b\u0435\u043d\u0438\u044f \u0441\u0435\u0442\u0438 \u0434\u043b\u044f \u0432\u0441\u0435\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u043e\u0434\u043d\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.</li>\n<li>\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 <code>DROP TABLE</code> \u0434\u043b\u044f \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u0442\u0430\u0431\u043b\u0438\u0446.</li>\n<li>\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0447\u0442\u0435\u043d\u0438\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u0442\u0438\u043f\u0430 <code>DateTime</code> \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 unix timestamp \u0438\u0437 \u0444\u043e\u0440\u043c\u0430\u0442\u043e\u0432 <code>CSV</code> \u0438 <code>JSONEachRow</code>.</li>\n<li>\u0412\u043a\u043b\u044e\u0447\u0435\u043d\u043e \u043f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043e\u0442\u0441\u0442\u0430\u044e\u0449\u0438\u0445 \u0440\u0435\u043f\u043b\u0438\u043a \u043f\u0440\u0438 \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0451\u043d\u043d\u044b\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445 (\u043f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u043f\u043e\u0440\u043e\u0433 \u0440\u0430\u0432\u0435\u043d 5 \u043c\u0438\u043d\u0443\u0442\u0430\u043c).</li>\n<li>\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f FIFO \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0438 \u043f\u0440\u0438 ALTER: \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 ALTER \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u043d\u0435\u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u043e \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043f\u0440\u0438 \u043d\u0435\u043f\u0440\u0435\u0440\u044b\u0432\u043d\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u044e\u0449\u0438\u0445\u0441\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445.</li>\n<li>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0437\u0430\u0434\u0430\u0442\u044c <code>umask</code> \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u043c \u0444\u0430\u0439\u043b\u0435.</li>\n<li>\u0423\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0441 <code>DISTINCT</code>.</li>\n</ul>\n<h4 id=\"ispravleniia-oshibok_26\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043e\u0448\u0438\u0431\u043e\u043a:<a class=\"headerlink\" href=\"#ispravleniia-oshibok_26\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0411\u043e\u043b\u0435\u0435 \u043e\u043f\u0442\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0441\u0442\u0430\u0440\u044b\u0445 \u043d\u043e\u0434 \u0432 ZooKeeper. \u0420\u0430\u043d\u0435\u0435 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043e\u0447\u0435\u043d\u044c \u0447\u0430\u0441\u0442\u044b\u0445 \u0432\u0441\u0442\u0430\u0432\u043e\u043a, \u0441\u0442\u0430\u0440\u044b\u0435 \u043d\u043e\u0434\u044b \u043c\u043e\u0433\u043b\u0438 \u043d\u0435 \u0443\u0441\u043f\u0435\u0432\u0430\u0442\u044c \u0443\u0434\u0430\u043b\u044f\u0442\u044c\u0441\u044f, \u0447\u0442\u043e \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u043b\u043e, \u0432 \u0442\u043e\u043c \u0447\u0438\u0441\u043b\u0435, \u043a \u043e\u0447\u0435\u043d\u044c \u0434\u043e\u043b\u0433\u043e\u043c\u0443 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044e \u0441\u0435\u0440\u0432\u0435\u0440\u0430.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0430\u043d\u0434\u043e\u043c\u0438\u0437\u0430\u0446\u0438\u044f \u043f\u0440\u0438 \u0432\u044b\u0431\u043e\u0440\u0435 \u0445\u043e\u0441\u0442\u043e\u0432 \u0434\u043b\u044f \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f \u0441 ZooKeeper.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043e\u0442\u0441\u0442\u0430\u044e\u0449\u0435\u0439 \u0440\u0435\u043f\u043b\u0438\u043a\u0438 \u043f\u0440\u0438 \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0451\u043d\u043d\u044b\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u0445, \u0435\u0441\u043b\u0438 \u0440\u0435\u043f\u043b\u0438\u043a\u0430 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f localhost.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430, \u0432 \u0441\u0432\u044f\u0437\u0438 \u0441 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u043a\u0443\u0441\u043e\u043a \u0434\u0430\u043d\u043d\u044b\u0445 \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0442\u0438\u043f\u0430 <code>ReplicatedMergeTree</code> \u043c\u043e\u0433 \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0441\u044f \u0431\u0438\u0442\u044b\u043c \u043f\u043e\u0441\u043b\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f <code>ALTER MODIFY</code> \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430 <code>Nested</code> \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438\u0432\u043e\u0434\u044f\u0449\u0430\u044f \u043a \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u043c\u0443 \u0437\u0430\u0432\u0438\u0441\u0430\u043d\u0438\u044e SELECT \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432.</li>\n<li>\u0414\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0451\u043d\u043d\u044b\u0445 DDL \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u0437\u0430\u043f\u0440\u043e\u0441 <code>CREATE TABLE ... AS &lt;materialized view&gt;</code>.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u0434\u0435\u0434\u043b\u043e\u043a \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0435 <code>ALTER ... CLEAR COLUMN IN PARTITION</code> \u0434\u043b\u044f <code>Buffer</code> \u0442\u0430\u0431\u043b\u0438\u0446.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0433\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0434\u043b\u044f <code>Enum</code>-\u043e\u0432 (0 \u0432\u043c\u0435\u0441\u0442\u043e \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0433\u043e) \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 \u0444\u043e\u0440\u043c\u0430\u0442\u043e\u0432 <code>JSONEachRow</code> \u0438 <code>TSKV</code>.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u043e\u044f\u0432\u043b\u0435\u043d\u0438\u0435 zombie \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u043e\u0432 \u043f\u0440\u0438 \u0440\u0430\u0431\u043e\u0442\u0435 \u0441\u043e \u0441\u043b\u043e\u0432\u0430\u0440\u0451\u043c \u0441 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u043e\u043c <code>executable</code>.</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d segfault \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0435 HEAD.</li>\n</ul>\n<h4 id=\"uluchsheniia-protsessa-razrabotki-i-sborki-clickhouse\">\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0438 \u0441\u0431\u043e\u0440\u043a\u0438 ClickHouse:<a class=\"headerlink\" href=\"#uluchsheniia-protsessa-razrabotki-i-sborki-clickhouse\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0441\u0431\u043e\u0440\u043a\u0438 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e <code>pbuilder</code>.</li>\n<li>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0441\u0431\u043e\u0440\u043a\u0438 \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c <code>libc++</code> \u0432\u043c\u0435\u0441\u0442\u043e <code>libstdc++</code> \u043f\u043e\u0434 Linux.</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u0438 \u0434\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0441\u0442\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0430\u043d\u0430\u043b\u0438\u0437\u0430\u0442\u043e\u0440\u043e\u0432 \u043a\u043e\u0434\u0430 <code>Coverity</code>, <code>clang-tidy</code>, <code>cppcheck</code>.</li>\n</ul>\n<h4 id=\"na-chto-obratit-vnimanie-pri-obnovlenii_1\">\u041d\u0430 \u0447\u0442\u043e \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u044c \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438:<a class=\"headerlink\" href=\"#na-chto-obratit-vnimanie-pri-obnovlenii_1\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0423\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u043e-\u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0434\u043b\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 MergeTree <code>max_bytes_to_merge_at_max_space_in_pool</code> (\u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0439 \u0441\u0443\u043c\u043c\u0430\u0440\u043d\u044b\u0439 \u0440\u0430\u0437\u043c\u0435\u0440 \u043a\u0443\u0441\u043a\u043e\u0432 \u0432 \u0431\u0430\u0439\u0442\u0430\u0445 \u0434\u043b\u044f \u043c\u0435\u0440\u0436\u0430) \u0441\u043e 100 GiB \u0434\u043e 150 GiB. \u042d\u0442\u043e \u043c\u043e\u0436\u0435\u0442 \u043f\u0440\u0438\u0432\u0435\u0441\u0442\u0438 \u043a \u0437\u0430\u043f\u0443\u0441\u043a\u0443 \u0431\u043e\u043b\u044c\u0448\u0438\u0445 \u043c\u0435\u0440\u0436\u0435\u0439 \u043f\u043e\u0441\u043b\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u0435\u0440\u0432\u0435\u0440\u0430, \u0447\u0442\u043e \u043c\u043e\u0436\u0435\u0442 \u0432\u044b\u0437\u0432\u0430\u0442\u044c \u043f\u043e\u0432\u044b\u0448\u0435\u043d\u043d\u0443\u044e \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0443 \u043d\u0430 \u0434\u0438\u0441\u043a\u043e\u0432\u0443\u044e \u043f\u043e\u0434\u0441\u0438\u0441\u0442\u0435\u043c\u0443. \u0415\u0441\u043b\u0438 \u0436\u0435 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430\u0445, \u0433\u0434\u0435 \u044d\u0442\u043e \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442, \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u043e\u0433\u043e \u043c\u0435\u0441\u0442\u0430 \u043c\u0435\u043d\u0435\u0435 \u0447\u0435\u043c \u0432 \u0434\u0432\u0430 \u0440\u0430\u0437\u0430 \u0431\u043e\u043b\u044c\u0448\u0435 \u0441\u0443\u043c\u043c\u0430\u0440\u043d\u043e\u0433\u043e \u043e\u0431\u044a\u0451\u043c\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u044e\u0449\u0438\u0445\u0441\u044f \u043c\u0435\u0440\u0436\u0435\u0439, \u0442\u043e \u0432 \u0441\u0432\u044f\u0437\u0438 \u0441 \u044d\u0442\u0438\u043c \u043f\u0435\u0440\u0435\u0441\u0442\u0430\u043d\u0443\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0442\u044c\u0441\u044f \u043a\u0430\u043a\u0438\u0435-\u043b\u0438\u0431\u043e \u0434\u0440\u0443\u0433\u0438\u0435 \u043c\u0435\u0440\u0436\u0438, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u043c\u0435\u0440\u0436\u0438 \u043c\u0435\u043b\u043a\u0438\u0445 \u043a\u0443\u0441\u043a\u043e\u0432. \u042d\u0442\u043e \u043f\u0440\u0438\u0432\u0435\u0434\u0451\u0442 \u043a \u0442\u043e\u043c\u0443, \u0447\u0442\u043e INSERT-\u044b \u0431\u0443\u0434\u0443\u0442 \u043e\u0442\u043a\u043b\u043e\u043d\u044f\u0442\u044c\u0441\u044f \u0441 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435\u043c \"Merges are processing significantly slower than inserts\". \u0414\u043b\u044f \u043d\u0430\u0431\u043b\u044e\u0434\u0435\u043d\u0438\u044f, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441 <code>SELECT * FROM system.merges</code>. \u0412\u044b \u0442\u0430\u043a\u0436\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043d\u0430 \u043c\u0435\u0442\u0440\u0438\u043a\u0443 <code>DiskSpaceReservedForMerge</code> \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 <code>system.metrics</code> \u0438\u043b\u0438 \u0432 Graphite. \u0414\u043b\u044f \u0438\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u044d\u0442\u043e\u0439 \u0441\u0438\u0442\u0443\u0430\u0446\u0438\u0438 \u043c\u043e\u0436\u043d\u043e \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u0434\u0435\u043b\u0430\u0442\u044c, \u0442\u0430\u043a \u043a\u0430\u043a \u043e\u043d\u0430 \u043d\u043e\u0440\u043c\u0430\u043b\u0438\u0437\u0443\u0435\u0442\u0441\u044f \u0441\u0430\u043c\u0430 \u043f\u043e\u0441\u043b\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f \u0431\u043e\u043b\u044c\u0448\u0438\u0445 \u043c\u0435\u0440\u0436\u0435\u0439. \u0415\u0441\u043b\u0438 \u0436\u0435 \u0432\u0430\u0441 \u044d\u0442\u043e \u043d\u0435 \u0443\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u0435\u0442, \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0443 <code>max_bytes_to_merge_at_max_space_in_pool</code> \u0432 \u0441\u0442\u0430\u0440\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435, \u043f\u0440\u043e\u043f\u0438\u0441\u0430\u0432 \u0432 config.xml \u0432 \u0441\u0435\u043a\u0446\u0438\u0438 <code>&lt;merge_tree&gt;</code> <code>&lt;max_bytes_to_merge_at_max_space_in_pool&gt;107374182400&lt;/max_bytes_to_merge_at_max_space_in_pool&gt;</code> \u0438 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0441\u0435\u0440\u0432\u0435\u0440.</li>\n</ul>\n<h3 id=\"reliz-clickhouse-1-1-54284-2017-08-29\">\u0420\u0435\u043b\u0438\u0437 ClickHouse 1.1.54284, 2017-08-29<a class=\"headerlink\" href=\"#reliz-clickhouse-1-1-54284-2017-08-29\" title=\"Permanent link\">&para;</a></h3>\n<ul>\n<li>\u0420\u0435\u043b\u0438\u0437 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043a \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u043c\u0443 \u0440\u0435\u043b\u0438\u0437\u0443 1.1.54282, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0438\u0441\u043f\u0440\u0430\u0432\u043b\u044f\u044e\u0442 \u0443\u0442\u0435\u0447\u043a\u0443 \u0437\u0430\u043f\u0438\u0441\u0435\u0439 \u043e \u043a\u0443\u0441\u043a\u0430\u0445 \u0432 ZooKeeper</li>\n</ul>\n<h3 id=\"reliz-clickhouse-1-1-54282-2017-08-23\">\u0420\u0435\u043b\u0438\u0437 ClickHouse 1.1.54282, 2017-08-23<a class=\"headerlink\" href=\"#reliz-clickhouse-1-1-54282-2017-08-23\" title=\"Permanent link\">&para;</a></h3>\n<p>\u0420\u0435\u043b\u0438\u0437 \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0438\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043a \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u043c\u0443 \u0440\u0435\u043b\u0438\u0437\u0443 1.1.54276:\n<em> \u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 <code>DB::Exception: Assertion violation: !_path.empty()</code> \u043f\u0440\u0438 \u0432\u0441\u0442\u0430\u0432\u043a\u0435 \u0432 Distributed \u0442\u0430\u0431\u043b\u0438\u0446\u0443.\n</em> \u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u043f\u0430\u0440\u0441\u0438\u043d\u0433 \u043f\u0440\u0438 \u0432\u0441\u0442\u0430\u0432\u043a\u0435 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 RowBinary, \u0435\u0441\u043b\u0438 \u0432\u0445\u043e\u0434\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u043d\u0430\u0447\u0438\u043d\u0430\u044e\u0442\u0441\u044f \u0441 ';'.\n* \u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0440\u0430\u043d\u0442\u0430\u0439\u043c-\u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u0438 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, <code>groupArray()</code>).</p>\n<h3 id=\"reliz-clickhouse-1-1-54276-2017-08-16\">\u0420\u0435\u043b\u0438\u0437 ClickHouse 1.1.54276, 2017-08-16<a class=\"headerlink\" href=\"#reliz-clickhouse-1-1-54276-2017-08-16\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"novye-vozmozhnosti_26\">\u041d\u043e\u0432\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438:<a class=\"headerlink\" href=\"#novye-vozmozhnosti_26\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0435\u043a\u0446\u0438\u044f WITH \u0437\u0430\u043f\u0440\u043e\u0441\u0430 SELECT. \u041f\u0440\u0438\u043c\u0435\u0440 \u0437\u0430\u043f\u0440\u043e\u0441\u0430: <code>WITH 1+1 AS a SELECT a, a*a</code></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u043e\u0439 \u0432\u0441\u0442\u0430\u0432\u043a\u0438 \u0432 Distributed \u0442\u0430\u0431\u043b\u0438\u0446\u0443: \u0432\u044b\u0434\u0430\u0435\u0442\u0441\u044f Ok \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u0441\u043b\u0435 \u0442\u043e\u0433\u043e \u043a\u0430\u043a \u0432\u0441\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u043f\u0438\u0441\u0430\u043b\u0438\u0441\u044c \u043d\u0430 \u0432\u0441\u0435 \u0448\u0430\u0440\u0434\u044b. \u0410\u043a\u0442\u0438\u0432\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u043e\u0439 insert_distributed_sync=1</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0442\u0438\u043f \u0434\u0430\u043d\u043d\u044b\u0445 UUID \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u0441 16-\u0431\u0430\u0439\u0442\u043e\u0432\u044b\u043c\u0438 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u0430\u043c\u0438</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0430\u043b\u0438\u0430\u0441\u044b \u0442\u0438\u043f\u043e\u0432 CHAR, FLOAT \u0438 \u0442.\u0434. \u0434\u043b\u044f \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u0438 \u0441 Tableau</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u0444\u0443\u043d\u043a\u0446\u0438\u0438 toYYYYMM, toYYYYMMDD, toYYYYMMDDhhmmss \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0430 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0432 \u0447\u0438\u0441\u043b\u0430</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c IP \u0430\u0434\u0440\u0435\u0441\u0430 (\u0441\u043e\u0432\u043c\u0435\u0441\u0442\u043d\u043e \u0441 hostname) \u0434\u043b\u044f \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u043f\u0440\u0438 \u0440\u0430\u0431\u043e\u0442\u0435 \u0441 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u043d\u044b\u043c\u0438 DDL \u0437\u0430\u043f\u0440\u043e\u0441\u0430\u043c\u0438</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u043d\u0435\u043a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u043d\u044b\u0445 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0438 \u043e\u0442\u0440\u0438\u0446\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0441\u043c\u0435\u0449\u0435\u043d\u0438\u0439 \u0432 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>substring(str, pos, len)</code></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 max_size \u0434\u043b\u044f \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>groupArray(max_size)(column)</code>, \u0438 \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u0430 \u0435\u0451 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c</li>\n</ul>\n<h4 id=\"osnovnye-izmeneniia\">\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f:<a class=\"headerlink\" href=\"#osnovnye-izmeneniia\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u0435 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438: \u0432\u0441\u0435 \u0444\u0430\u0439\u043b\u044b \u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0441\u043e\u0437\u0434\u0430\u044e\u0442\u0441\u044f \u0441 \u043f\u0440\u0430\u0432\u0430\u043c\u0438 0640 (\u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043c\u0435\u043d\u044f\u0442\u044c, \u0447\u0435\u0440\u0435\u0437 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440 <umask> \u0432 \u043a\u043e\u043d\u0444\u0438\u0433\u0435).</li>\n<li>\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u044b \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0430\u0445 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0441\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0447\u0435\u0441\u043a\u0438 \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432</li>\n<li>\u0417\u043d\u0430\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0443\u043c\u0435\u043d\u044c\u0448\u0435\u043d \u0440\u0430\u0441\u0445\u043e\u0434 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0439 \u043f\u0430\u043c\u044f\u0442\u0438 \u0438 \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0441\u043b\u0438\u044f\u043d\u0438\u0439 \u0431\u043e\u043b\u044c\u0448\u0438\u0445 MergeTree-\u043a\u0443\u0441\u043a\u043e\u0432 \u0434\u0430\u043d\u043d\u044b\u0445</li>\n<li>\u0417\u043d\u0430\u0447\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0443\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0441\u043b\u0438\u044f\u043d\u0438\u0439 \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043b\u044f \u0434\u0432\u0438\u0436\u043a\u0430 ReplacingMergeTree</li>\n<li>\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0430 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0430\u0441\u0438\u043d\u0445\u0440\u043e\u043d\u043d\u044b\u0445 \u0432\u0441\u0442\u0430\u0432\u043e\u043a \u0438\u0437 Distributed \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0437\u0430 \u0441\u0447\u0435\u0442 \u043e\u0431\u044a\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0438\u0441\u0445\u043e\u0434\u043d\u044b\u0445 \u0432\u0441\u0442\u0430\u0432\u043e\u043a. \u0424\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442\u0441\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u043e\u0439 distributed_directory_monitor_batch_inserts=1.</li>\n</ul>\n<h4 id=\"obratno-nesovmestimye-izmeneniia_16\">\u041e\u0431\u0440\u0430\u0442\u043d\u043e \u043d\u0435\u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u044b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f:<a class=\"headerlink\" href=\"#obratno-nesovmestimye-izmeneniia_16\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0437\u043c\u0435\u043d\u0438\u043b\u0441\u044f \u0431\u0438\u043d\u0430\u0440\u043d\u044b\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0430\u0433\u0440\u0435\u0433\u0430\u0442\u043d\u044b\u0445 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>groupArray(array_column)</code> \u0434\u043b\u044f \u043c\u0430\u0441\u0441\u0438\u0432\u043e\u0432</li>\n</ul>\n<h4 id=\"polnyi-spisok-izmenenii\">\u041f\u043e\u043b\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439:<a class=\"headerlink\" href=\"#polnyi-spisok-izmenenii\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 <code>output_format_json_quote_denormals</code>, \u0432\u043a\u043b\u044e\u0447\u0430\u044e\u0449\u0430\u044f \u0432\u044b\u0432\u043e\u0434 nan \u0438 inf \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 JSON</li>\n<li>\u0411\u043e\u043b\u0435\u0435 \u043e\u043f\u0442\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u0442\u043e\u043a\u043e\u0432 \u043f\u0440\u0438 \u0447\u0442\u0435\u043d\u0438\u0438 \u0438\u0437 Distributed \u0442\u0430\u0431\u043b\u0438\u0446</li>\n<li>\u0420\u0430\u0437\u0440\u0435\u0448\u0435\u043d\u043e \u0437\u0430\u0434\u0430\u0432\u0430\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 readonly, \u0435\u0441\u043b\u0438 \u0438\u0445 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043d\u0435 \u0438\u0437\u043c\u0435\u043d\u044f\u0435\u0442\u0441\u044f</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0441\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c \u043d\u0435\u0446\u0435\u043b\u044b\u0435 \u0433\u0440\u0430\u043d\u0443\u043b\u044b \u0434\u0432\u0438\u0436\u043a\u0430 MergeTree \u0434\u043b\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0439 \u043d\u0430 \u0440\u0430\u0437\u043c\u0435\u0440 \u0431\u043b\u043e\u043a\u0430, \u0437\u0430\u0434\u0430\u0432\u0430\u0435\u043c\u044b\u0439 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u043e\u0439 preferred_block_size_bytes - \u0434\u043b\u044f \u0443\u043c\u0435\u043d\u044c\u0448\u0435\u043d\u0438\u044f \u043f\u043e\u0442\u0440\u0435\u0431\u043b\u0435\u043d\u0438\u044f \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0439 \u043f\u0430\u043c\u044f\u0442\u0438 \u0438 \u0443\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0438\u044f \u043a\u044d\u0448-\u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u043f\u0440\u0438 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0438\u0437 \u0442\u0430\u0431\u043b\u0438\u0446 \u0441\u043e \u0441\u0442\u043e\u043b\u0431\u0446\u0430\u043c\u0438 \u0431\u043e\u043b\u044c\u0448\u043e\u0433\u043e \u0440\u0430\u0437\u043c\u0435\u0440\u0430</li>\n<li>\u042d\u0444\u0444\u0435\u043a\u0442\u0438\u0432\u043d\u043e\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0438\u043d\u0434\u0435\u043a\u0441\u0430, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0435\u0433\u043e \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0442\u0438\u043f\u0430 <code>toStartOfHour(x)</code>, \u0434\u043b\u044f \u0443\u0441\u043b\u043e\u0432\u0438\u0439 \u0432\u0438\u0434\u0430 <code>toStartOfHour(x) op \u0441onstexpr</code></li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b \u043d\u043e\u0432\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0434\u043b\u044f MergeTree \u0434\u0432\u0438\u0436\u043a\u043e\u0432 (\u0441\u0435\u043a\u0446\u0438\u044f merge_tree \u0432 config.xml):</li>\n<li>replicated_deduplication_window_seconds \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0437\u0430\u0434\u0430\u0442\u044c \u0438\u043d\u0442\u0435\u0440\u0432\u0430\u043b \u0434\u0435\u0434\u0443\u043f\u043b\u0438\u043a\u0430\u0446\u0438\u0438 \u0432\u0441\u0442\u0430\u0432\u043e\u043a \u0432 Replicated-\u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0432 \u0441\u0435\u043a\u0443\u043d\u0434\u0430\u0445</li>\n<li>cleanup_delay_period - \u043f\u0435\u0440\u0438\u043e\u0434\u0438\u0447\u043d\u043e\u0441\u0442\u044c \u0437\u0430\u043f\u0443\u0441\u043a\u0430 \u043e\u0447\u0438\u0441\u0442\u043a\u0438 \u043d\u0435\u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445</li>\n<li>replicated_can_become_leader - \u0437\u0430\u043f\u0440\u0435\u0442\u0438\u0442\u044c \u0440\u0435\u043f\u043b\u0438\u043a\u0435 \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c\u0441\u044f \u043b\u0438\u0434\u0435\u0440\u043e\u043c (\u0438 \u043d\u0430\u0437\u043d\u0430\u0447\u0430\u0442\u044c \u043c\u0435\u0440\u0436\u0438)</li>\n<li>\u0423\u0441\u043a\u043e\u0440\u0435\u043d\u0430 \u043e\u0447\u0438\u0441\u0442\u043a\u0430 \u043d\u0435\u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437 ZooKeeper</li>\n<li>\u041c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f \u0438 \u0438\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0440\u0430\u0431\u043e\u0442\u044b \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u043d\u044b\u0445 DDL \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432. \u0412 \u0447\u0430\u0441\u0442\u043d\u043e\u0441\u0442\u0438, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 distributed_ddl_task_timeout, \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0438\u0432\u0430\u044e\u0449\u0430\u044f \u0432\u0440\u0435\u043c\u044f \u043e\u0436\u0438\u0434\u0430\u043d\u0438\u044f \u043e\u0442\u0432\u0435\u0442\u043e\u0432 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u0432 \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0430.</li>\n<li>\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u043e \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0441\u0442\u044d\u043a\u0442\u0440\u0435\u0439\u0441\u043e\u0432 \u0432 \u043b\u043e\u0433\u0430\u0445 \u0441\u0435\u0440\u0432\u0435\u0440\u0430</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u043c\u0435\u0442\u043e\u0434 \u0441\u0436\u0430\u0442\u0438\u044f none</li>\n<li>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u0438\u0445 \u0441\u0435\u043a\u0446\u0438\u0439 dictionaries_config \u0432 config.xml</li>\n<li>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a MySQL \u0447\u0435\u0440\u0435\u0437 \u0441\u043e\u043a\u0435\u0442 \u043d\u0430 \u0444\u0430\u0439\u043b\u043e\u0432\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0435</li>\n<li>\u0412 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 system.parts \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0441\u0442\u043e\u043b\u0431\u0435\u0446 \u0441 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0435\u0439 \u043e \u0440\u0430\u0437\u043c\u0435\u0440\u0435 marks \u0432 \u0431\u0430\u0439\u0442\u0430\u0445</li>\n</ul>\n<h4 id=\"ispravleniia-bagov\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0431\u0430\u0433\u043e\u0432:<a class=\"headerlink\" href=\"#ispravleniia-bagov\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 Distributed \u0442\u0430\u0431\u043b\u0438\u0446, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0449\u0438\u0445 Merge \u0442\u0430\u0431\u043b\u0438\u0446\u044b, \u043f\u0440\u0438 SELECT \u0441 \u0443\u0441\u043b\u043e\u0432\u0438\u0435\u043c \u043d\u0430 \u043f\u043e\u043b\u0435 _table</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u0440\u0435\u0434\u043a\u0438\u0439 race condition \u0432 ReplicatedMergeTree \u043f\u0440\u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0435 \u043a\u0443\u0441\u043a\u043e\u0432 \u0434\u0430\u043d\u043d\u044b\u0445</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0435 \u0437\u0430\u0432\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0446\u0435\u0434\u0443\u0440\u044b leader election \u043f\u0440\u0438 \u0441\u0442\u0430\u0440\u0442\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u0430</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0438\u0433\u043d\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 max_replica_delay_for_distributed_queries \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e\u0439 \u0440\u0435\u043f\u043b\u0438\u043a\u0438 \u0432 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 <code>ALTER TABLE CLEAR COLUMN IN PARTITION</code> \u043f\u0440\u0438 \u043f\u043e\u043f\u044b\u0442\u043a\u0435 \u043e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u043d\u0435\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0443\u044e \u043a\u043e\u043b\u043e\u043d\u043a\u0443</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0432 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 multiIf \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 \u043f\u0443\u0441\u0442\u044b\u0445 \u043c\u0430\u0441\u0441\u0438\u0432\u043e\u0432 \u0438\u043b\u0438 \u0441\u0442\u0440\u043e\u043a</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0447\u0440\u0435\u0437\u043c\u0435\u0440\u043d\u043e\u0435 \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u043c\u044f\u0442\u0438 \u043f\u0440\u0438 \u0434\u0435\u0441\u0435\u0440\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 \u0444\u043e\u0440\u043c\u0430\u0442\u0430 Native</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u0430\u0432\u0442\u043e\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 Trie \u0441\u043b\u043e\u0432\u0430\u0440\u0435\u0439</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0438\u0441\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043f\u0440\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0441 GROUP BY \u0438\u0437 Merge-\u0442\u0430\u0431\u043b\u0438\u0446\u044b \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 SAMPLE</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0430\u0434\u0435\u043d\u0438\u0435 GROUP BY \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 distributed_aggregation_memory_efficient=1</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c database.table \u0432 \u043f\u0440\u0430\u0432\u043e\u0439 \u0447\u0430\u0441\u0442\u0438 IN \u0438 JOIN</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0431\u043e\u043b\u044c\u0448\u043e\u0433\u043e \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u043f\u043e\u0442\u043e\u043a\u043e\u0432 \u043f\u0440\u0438 \u043f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u043e\u0439 \u0430\u0433\u0440\u0435\u0433\u0430\u0446\u0438\u0438</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 if \u0441 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u0430\u043c\u0438 FixedString</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 SELECT \u0438\u0437 Distributed-\u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0434\u043b\u044f \u0448\u0430\u0440\u0434\u043e\u0432 \u0441 \u0432\u0435\u0441\u043e\u043c 0</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0430\u0434\u0435\u043d\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 <code>CREATE VIEW IF EXISTS</code></li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u043f\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u0435 \u043f\u0440\u0438 input_format_skip_unknown_fields=1 \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043e\u0442\u0440\u0438\u0446\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0447\u0438\u0441\u0435\u043b</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u0431\u0435\u0441\u043a\u043e\u043d\u0435\u0447\u043d\u044b\u0439 \u0446\u0438\u043a\u043b \u0432 \u0444\u0443\u043d\u043a\u0446\u0438\u0438 <code>dictGetHierarchy()</code> \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u0441\u043b\u043e\u0432\u0430\u0440\u044f</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u043e\u0448\u0438\u0431\u043a\u0438 \u0442\u0438\u043f\u0430 <code>Syntax error: unexpected (...)</code> \u043f\u0440\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u0440\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0445 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0441 \u043f\u043e\u0434\u0437\u0430\u043f\u0440\u043e\u0441\u0430\u043c\u0438 \u0432 \u0441\u0435\u043a\u0446\u0438\u0438 IN \u0438\u043b\u0438 JOIN, \u0432 \u0441\u043b\u0443\u0447\u0430\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0441\u043e\u0432\u043c\u0435\u0441\u0442\u043d\u043e \u0441 Merge \u0442\u0430\u0431\u043b\u0438\u0446\u0430\u043c\u0438</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0430\u044f \u0438\u043d\u0442\u0435\u0440\u043f\u0440\u0435\u0442\u0430\u0446\u0438\u044f SELECT \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0438\u0437 \u0442\u0430\u0431\u043b\u0438\u0446 \u0442\u0438\u043f\u0430 Dictionary</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \"Cannot mremap\" \u043f\u0440\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0438 \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432 \u0432 \u0441\u0435\u043a\u0446\u0438\u044f\u0445 IN, JOIN, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0438\u0445 \u0431\u043e\u043b\u0435\u0435 2 \u043c\u043b\u0440\u0434. \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d failover \u0434\u043b\u044f \u0441\u043b\u043e\u0432\u0430\u0440\u0435\u0439 \u0441 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u043e\u043c MySQL</li>\n</ul>\n<h4 id=\"uluchsheniia-protsessa-razrabotki-i-sborki-clickhouse_1\">\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0438 \u0441\u0431\u043e\u0440\u043a\u0438 ClickHouse:<a class=\"headerlink\" href=\"#uluchsheniia-protsessa-razrabotki-i-sborki-clickhouse_1\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0441\u0431\u043e\u0440\u043a\u0438 \u0432 Arcadia</li>\n<li>\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0441\u0431\u043e\u0440\u043a\u0438 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e gcc 7</li>\n<li>\u0423\u0441\u043a\u043e\u0440\u0435\u043d\u0430 \u043f\u0430\u0440\u0430\u043b\u043b\u0435\u043b\u044c\u043d\u0430\u044f \u0441\u0431\u043e\u0440\u043a\u0430 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e ccache+distcc</li>\n</ul>\n<h3 id=\"reliz-clickhouse-1-1-54245-2017-07-04\">\u0420\u0435\u043b\u0438\u0437 ClickHouse 1.1.54245, 2017-07-04<a class=\"headerlink\" href=\"#reliz-clickhouse-1-1-54245-2017-07-04\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"novye-vozmozhnosti_27\">\u041d\u043e\u0432\u044b\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438:<a class=\"headerlink\" href=\"#novye-vozmozhnosti_27\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0420\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0451\u043d\u043d\u044b\u0435 DDL (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, <code>CREATE TABLE ON CLUSTER</code>)</li>\n<li>\u0420\u0435\u043f\u043b\u0438\u0446\u0438\u0440\u0443\u0435\u043c\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441 <code>ALTER TABLE CLEAR COLUMN IN PARTITION</code></li>\n<li>\u0414\u0432\u0438\u0436\u043e\u043a \u0442\u0430\u0431\u043b\u0438\u0446 Dictionary (\u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0434\u0430\u043d\u043d\u044b\u043c \u0441\u043b\u043e\u0432\u0430\u0440\u044f \u0432 \u0432\u0438\u0434\u0435 \u0442\u0430\u0431\u043b\u0438\u0446\u044b)</li>\n<li>\u0414\u0432\u0438\u0436\u043e\u043a \u0431\u0430\u0437 \u0434\u0430\u043d\u043d\u044b\u0445 Dictionary (\u0432 \u0442\u0430\u043a\u043e\u0439 \u0431\u0430\u0437\u0435 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b Dictionary-\u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0434\u043b\u044f \u0432\u0441\u0435\u0445 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0451\u043d\u043d\u044b\u0445 \u0432\u043d\u0435\u0448\u043d\u0438\u0445 \u0441\u043b\u043e\u0432\u0430\u0440\u0435\u0439)</li>\n<li>\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u043b\u043e\u0432\u0430\u0440\u044f \u043f\u0443\u0442\u0451\u043c \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0432 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a</li>\n<li>Qualified \u0438\u043c\u0435\u043d\u0430 \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432</li>\n<li>\u041a\u0432\u043e\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440\u043e\u0432 \u0434\u0432\u043e\u0439\u043d\u044b\u043c\u0438 \u043a\u0430\u0432\u044b\u0447\u043a\u0430\u043c\u0438</li>\n<li>\u0421\u0435\u0441\u0441\u0438\u0438 \u0432 HTTP \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0435</li>\n<li>\u0417\u0430\u043f\u0440\u043e\u0441 OPTIMIZE \u0434\u043b\u044f Replicated \u0442\u0430\u0431\u043b\u0438\u0446\u044b \u0442\u0435\u043f\u0435\u0440\u044c \u043c\u043e\u0436\u043d\u043e \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0442\u044c \u043d\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0430 \u043b\u0438\u0434\u0435\u0440\u0435</li>\n</ul>\n<h4 id=\"obratno-nesovmestimye-izmeneniia_17\">\u041e\u0431\u0440\u0430\u0442\u043d\u043e \u043d\u0435\u0441\u043e\u0432\u043c\u0435\u0441\u0442\u0438\u043c\u044b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f:<a class=\"headerlink\" href=\"#obratno-nesovmestimye-izmeneniia_17\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0423\u0431\u0440\u0430\u043d\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0430 SET GLOBAL</li>\n</ul>\n<h4 id=\"melkie-izmeneniia\">\u041c\u0435\u043b\u043a\u0438\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f:<a class=\"headerlink\" href=\"#melkie-izmeneniia\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0422\u0435\u043f\u0435\u0440\u044c \u043f\u043e\u0441\u043b\u0435 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0441\u0438\u0433\u043d\u0430\u043b\u0430 \u0432 \u043b\u043e\u0433 \u043f\u0435\u0447\u0430\u0442\u0430\u0435\u0442\u0441\u044f \u043f\u043e\u043b\u043d\u044b\u0439 \u0441\u0442\u0435\u043a\u0442\u0440\u0435\u0439\u0441</li>\n<li>\u041e\u0441\u043b\u0430\u0431\u043b\u0435\u043d\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043d\u0430 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0451\u043d\u043d\u044b\u0445/\u043b\u0438\u0448\u043d\u0438\u0445 \u043a\u0443\u0441\u043a\u043e\u0432 \u043f\u0440\u0438 \u0441\u0442\u0430\u0440\u0442\u0435 (\u0431\u044b\u043b\u043e \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e \u043b\u043e\u0436\u043d\u044b\u0445 \u0441\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u043d\u0438\u0439)</li>\n</ul>\n<h4 id=\"ispravleniia-bagov_1\">\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0431\u0430\u0433\u043e\u0432:<a class=\"headerlink\" href=\"#ispravleniia-bagov_1\" title=\"Permanent link\">&para;</a></h4>\n<ul>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0437\u0430\u043b\u0438\u043f\u0430\u043d\u0438\u0435 \u043f\u043b\u043e\u0445\u043e\u0433\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u044f \u043f\u0440\u0438 \u0432\u0441\u0442\u0430\u0432\u043a\u0435 \u0432 Distributed \u0442\u0430\u0431\u043b\u0438\u0446\u0443</li>\n<li>GLOBAL IN \u0442\u0435\u043f\u0435\u0440\u044c \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0435 \u0438\u0437 \u0442\u0430\u0431\u043b\u0438\u0446\u044b Merge, \u0441\u043c\u043e\u0442\u0440\u044f\u0449\u0435\u0439 \u0432 Distributed</li>\n<li>\u0422\u0435\u043f\u0435\u0440\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442\u0441\u044f \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u044f\u0434\u0435\u0440 \u043d\u0430 \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u043a\u0430\u0445 Google Compute Engine</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0432 \u0440\u0430\u0431\u043e\u0442\u0435 executable \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u0430 \u043a\u044d\u0448\u0438\u0440\u0443\u0435\u043c\u044b\u0445 \u0432\u043d\u0435\u0448\u043d\u0438\u0445 \u0441\u043b\u043e\u0432\u0430\u0440\u0435\u0439</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044f \u0441\u0442\u0440\u043e\u043a, \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0449\u0438\u0445 \u043d\u0443\u043b\u0435\u0432\u044b\u0435 \u0441\u0438\u043c\u0432\u043e\u043b\u044b</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u0435\u0439 \u043f\u0435\u0440\u0432\u0438\u0447\u043d\u043e\u0433\u043e \u043a\u043b\u044e\u0447\u0430 \u0442\u0438\u043f\u0430 Float32 \u0441 \u043a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u0430\u043c\u0438</li>\n<li>\u0420\u0430\u043d\u044c\u0448\u0435 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0430\u044f \u043e\u0446\u0435\u043d\u043a\u0430 \u0440\u0430\u0437\u043c\u0435\u0440\u0430 \u043f\u043e\u043b\u044f \u043c\u043e\u0433\u043b\u0430 \u043f\u0440\u0438\u0432\u043e\u0434\u0438\u0442\u044c \u043a \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0431\u043e\u043b\u044c\u0448\u0438\u043c \u0430\u043b\u043b\u043e\u043a\u0430\u0446\u0438\u044f\u043c</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0430\u0434\u0435\u043d\u0438\u0435 \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0435 Nullable \u0441\u0442\u043e\u043b\u0431\u0446\u0430, \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043d\u043e\u0433\u043e \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0443 ALTER-\u043e\u043c</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0430\u0434\u0435\u043d\u0438\u0435 \u043f\u0440\u0438 \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0435 \u043f\u043e Nullable \u0441\u0442\u043e\u043b\u0431\u0446\u0443, \u0435\u0441\u043b\u0438 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u0442\u0440\u043e\u043a \u043c\u0435\u043d\u044c\u0448\u0435 LIMIT</li>\n<li>\u0418\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d ORDER BY \u043f\u043e\u0434\u0437\u0430\u043f\u0440\u043e\u0441\u0430, \u0441\u043e\u0441\u0442\u043e\u044f\u0449\u0435\u0433\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u043a\u043e\u043d\u0441\u0442\u0430\u043d\u0442\u043d\u044b\u0445 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439</li>\n<li>\u0420\u0430\u043d\u044c\u0448\u0435 Replicated \u0442\u0430\u0431\u043b\u0438\u0446\u0430 \u043c\u043e\u0433\u043b\u0430 \u043e\u0441\u0442\u0430\u0442\u044c\u0441\u044f \u0432 \u043d\u0435\u0432\u0430\u043b\u0438\u0434\u043d\u043e\u043c \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0438 \u043f\u043e\u0441\u043b\u0435 \u043d\u0435\u0443\u0434\u0430\u0432\u0448\u0435\u0433\u043e\u0441\u044f DROP TABLE</li>\n<li>\u0410\u043b\u0438\u0430\u0441\u044b \u0434\u043b\u044f \u0441\u043a\u0430\u043b\u044f\u0440\u043d\u044b\u0445 \u043f\u043e\u0434\u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u0441 \u043f\u0443\u0441\u0442\u044b\u043c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u043c \u0442\u0435\u043f\u0435\u0440\u044c \u043d\u0435 \u0442\u0435\u0440\u044f\u044e\u0442\u0441\u044f</li>\n<li>\u0422\u0435\u043f\u0435\u0440\u044c \u0437\u0430\u043f\u0440\u043e\u0441, \u0432 \u043a\u043e\u0442\u043e\u0440\u043e\u043c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043b\u0430\u0441\u044c \u043a\u043e\u043c\u043f\u0438\u043b\u044f\u0446\u0438\u044f, \u043d\u0435 \u0437\u0430\u0432\u0435\u0440\u0448\u0430\u0435\u0442\u0441\u044f \u043e\u0448\u0438\u0431\u043a\u043e\u0439, \u0435\u0441\u043b\u0438 .so \u0444\u0430\u0439\u043b \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0430\u0435\u0442\u0441\u044f\n<a name=\"security_changelog/\"></a>\n<a name=\"../../security_changelog/\"></a>\n<a name=\"../security_changelog/\"></a>\n<a name=\"../../../../security_changelog/\"></a>\n<a name=\"../../../security_changelog/\"></a>\n<a name=\"../../../../../security_changelog/\"></a></li>\n</ul>\n<h3 id=\"fixed-in-clickhouse-release-18-12-13-2018-09-10\">Fixed in ClickHouse Release 18.12.13, 2018-09-10<a class=\"headerlink\" href=\"#fixed-in-clickhouse-release-18-12-13-2018-09-10\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"cve-2018-14672\">CVE-2018-14672<a class=\"headerlink\" href=\"#cve-2018-14672\" title=\"Permanent link\">&para;</a></h4>\n<p>Functions for loading CatBoost models allowed path traversal and reading arbitrary files through error messages.</p>\n<p>Credits: Andrey Krasichkov of Yandex Information Security Team</p>\n<h3 id=\"fixed-in-clickhouse-release-18-10-3-2018-08-13\">Fixed in ClickHouse Release 18.10.3, 2018-08-13<a class=\"headerlink\" href=\"#fixed-in-clickhouse-release-18-10-3-2018-08-13\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"cve-2018-14671\">CVE-2018-14671<a class=\"headerlink\" href=\"#cve-2018-14671\" title=\"Permanent link\">&para;</a></h4>\n<p>unixODBC allowed loading arbitrary shared objects from the file system which led to a Remote Code Execution vulnerability.</p>\n<p>Credits: Andrey Krasichkov and Evgeny Sidorov of Yandex Information Security Team</p>\n<h3 id=\"fixed-in-clickhouse-release-1-1-54388-2018-06-28\">Fixed in ClickHouse Release 1.1.54388, 2018-06-28<a class=\"headerlink\" href=\"#fixed-in-clickhouse-release-1-1-54388-2018-06-28\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"cve-2018-14668\">CVE-2018-14668<a class=\"headerlink\" href=\"#cve-2018-14668\" title=\"Permanent link\">&para;</a></h4>\n<p>\"remote\" table function allowed arbitrary symbols in \"user\", \"password\" and \"default_database\" fields which led to Cross Protocol Request Forgery Attacks.</p>\n<p>Credits: Andrey Krasichkov of Yandex Information Security Team</p>\n<h3 id=\"fixed-in-clickhouse-release-1-1-54390-2018-07-06\">Fixed in ClickHouse Release 1.1.54390, 2018-07-06<a class=\"headerlink\" href=\"#fixed-in-clickhouse-release-1-1-54390-2018-07-06\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"cve-2018-14669\">CVE-2018-14669<a class=\"headerlink\" href=\"#cve-2018-14669\" title=\"Permanent link\">&para;</a></h4>\n<p>ClickHouse MySQL client had \"LOAD DATA LOCAL INFILE\" functionality enabled that allowed a malicious MySQL database read arbitrary files from the connected ClickHouse server.</p>\n<p>Credits: Andrey Krasichkov and Evgeny Sidorov of Yandex Information Security Team</p>\n<h3 id=\"fixed-in-clickhouse-release-1-1-54131-2017-01-10\">Fixed in ClickHouse Release 1.1.54131, 2017-01-10<a class=\"headerlink\" href=\"#fixed-in-clickhouse-release-1-1-54131-2017-01-10\" title=\"Permanent link\">&para;</a></h3>\n<h4 id=\"cve-2018-14670\">CVE-2018-14670<a class=\"headerlink\" href=\"#cve-2018-14670\" title=\"Permanent link\">&para;</a></h4>\n<p>Incorrect configuration in deb package could lead to unauthorized use of the database.</p>\n<p>Credits: the UK's National Cyber Security Centre (NCSC)</p>";
          document.getElementsByClassName('md-footer')[0].style.display = 'block';
          
          app.initialize({
              version: "1.0.4",
              url: {
                  base: ".."
              }
          });
          var beforePrint = function() {
            var details = document.getElementsByTagName("details");
            for (i = 0; i < details.length; ++i) {
                details[i].open = 1;
            }
          };
          if (window.matchMedia) {
              window.matchMedia('print').addListener(function(q) {
                  if (q.matches) {
                      beforePrint();
                  }
              });
          }
          window.onbeforeprint = beforePrint;

          var name = window.location.hostname.split('.')[0];
          var feedback_address = name + '-feedback' + '@yandex-team.ru';
          var feedback_email = document.getElementsByClassName('feedback-email');
          for (i = 0; i < feedback_email.length; i++) {
            feedback_email[i].setAttribute('href', 'mailto:' + feedback_address);
            feedback_email[i].innerHTML = feedback_address;
          }

          document.getElementById("releases-selector").addEventListener(
            "change",
            function() {
              var target = window.location.href.split('docs')[0] + 'docs/';
              if (this.value) {
                target = target + this.value + '/';
              }
              window.location = target + 'fa';
            }
          )
      });
    </script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
    <script type="text/javascript"> docsearch({
apiKey: 'e239649803024433599de47a53b2d416',
indexName: 'yandex_clickhouse',
inputSelector: '#md-search__input',
algoliaOptions: {
  advancedSyntax: true,
  clickAnalytics: true,
  hitsPerPage: 25,
  'facetFilters': ["lang:fa"]
},
debug: false
});
</script>

    <!-- Yandex.Metrika counter -->
    <script type="text/javascript">
        (function (d, w, c) {
            (w[c] = w[c] || []).push(function() {
                try {
                    w.yaCounter18343495 = new Ya.Metrika2({
                        id:18343495,
                        clickmap:true,
                        trackLinks:true,
                        accurateTrackBounce:true,
                        webvisor: false
                    });
                } catch(e) { }
            });
            var n = d.getElementsByTagName("script")[0],
                s = d.createElement("script"),
                f = function () { n.parentNode.insertBefore(s, n); };
            s.type = "text/javascript";
            s.async = true;
            s.src = "https://mc.yandex.ru/metrika/tag.js";
            if (w.opera == "[object Opera]") {
                d.addEventListener("DOMContentLoaded", f, false);
            } else { f(); }
        })(document, window, "yandex_metrika_callbacks2");
    </script>
    <noscript>
        <div><img src="https://mc.yandex.ru/watch/18343495" style="position:absolute; left:-9999px;" alt=""/></div>
    </noscript>
    <!-- /Yandex.Metrika counter -->
  </body>
</html>