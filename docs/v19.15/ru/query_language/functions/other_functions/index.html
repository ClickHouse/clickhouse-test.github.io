<!DOCTYPE html><html lang=ru class=no-js data-version=v19.15 data-single-page=false> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><link href=https://clickhouse.yandex/docs/ru/query_language/functions/other_functions/ rel=canonical><meta name=lang:clipboard.copy content="Копировать в буфер"><meta name=lang:clipboard.copied content="Скопировано в буфер"><meta name=lang:search.language content=ru><meta name=lang:search.pipeline.stopwords content><meta name=lang:search.pipeline.trimmer content><meta name=lang:search.result.none content="Совпадений не найдено"><meta name=lang:search.result.one content="Найдено 1 совпадение"><meta name=lang:search.result.other content="Найдено # совпадений"><meta name=lang:search.tokenizer content=[\s\-]+><link rel="shortcut icon" href=../../../assets/images/favicon.ico><title>Прочие функции - Документация ClickHouse v19.15</title><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css><link rel=stylesheet href=../../../assets/stylesheets/application.2a88008a.css><link rel=stylesheet href=../../../assets/stylesheets/application-palette.792431c1.css><link rel=stylesheet href="https://fonts.googleapis.com/icon?family=Material+Icons"><link rel=stylesheet href=../../../assets/stylesheets/custom.css?1582323683></head> <body dir=ltr data-md-color-primary=white data-md-color-accent=white class=md-lang-ru> <svg class=md-svg> <defs> <svg xmlns=http://www.w3.org/2000/svg width=416 height=448 viewbox="0 0 416 448" id=github><path fill=currentColor d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg> </defs> </svg> <input class=md-toggle data-md-toggle=drawer type=checkbox id=drawer> <input class=md-toggle data-md-toggle=search type=checkbox id=search> <label class=md-overlay data-md-component=overlay for=drawer></label> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid"> <div class=md-flex> <div class="md-flex__cell md-flex__cell--shrink"> <a href=/ title="Документация ClickHouse v19.15" class="md-header-nav__button md-logo"> <img src=../../../images/logo.svg width=40 height=40> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=drawer></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title> <span class=md-header-nav__topic> Документация ClickHouse v19.15 </span> <span class=md-header-nav__topic> Прочие функции </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--search md-header-nav__button" for=search></label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=search></label> <div class=md-search__inner> <form class=md-search__form name=search> <input type=text id=md-search__input class=md-search__input name=query required placeholder=Поиск autocapitalize=off autocorrect=off autocomplete=off spellcheck=false> <label class="md-icon md-search__icon" for=search></label> <button type=reset class="md-icon md-search__icon" data-md-component=reset>&#xE5CD;</button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=result> <div class=md-search-result__meta> Начните печатать для поиска </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <div id=md-language-switch class=md-header-nav__source> <a class=md-alt-lang href=../../../../en/query_language/functions/other_functions/ class="md-flex__ellipsis md-header-nav__title" title=English> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 60 30" preserveaspectratio=none> <clippath id=t> <path d="M30,15 h30 v15 z v15 h-30 z h-30 v-15 z v-15 h30 z"/> </clippath> <path fill=#00247d d="M0,0 v30 h60 v-30 z"/> <path stroke=#fff stroke-width=6 d="M0,0 L60,30 M60,0 L0,30"/> <path clip-path=url(#t) stroke=#cf142b stroke-width=4 d="M0,0 L60,30 M60,0 L0,30"/> <path stroke=#fff stroke-width=10 d="M30,0 v30 M0,15 h60"/> <path stroke=#cf142b stroke-width=6 d="M30,0 v30 M0,15 h60"/> </svg> </a> <a class="md-alt-lang md-current-lang" href=../../../../ru/query_language/functions/other_functions/ class="md-flex__ellipsis md-header-nav__title" title=Russian> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 9 6" preserveaspectratio=none> <rect fill=#fff width=9 height=3 /> <rect fill=#d52b1e y=3 width=9 height=3 /> <rect fill=#0039a6 y=2 width=9 height=2 /> </svg> </a> <a class=md-alt-lang href=../../../../zh/query_language/functions/other_functions/ class="md-flex__ellipsis md-header-nav__title" title=Chinese> <svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink viewbox="0 0 30 20" preserveaspectratio=none> <defs> <path id=s fill=#ffde00 d="M0,-1 0.587785,0.809017 -0.951057,-0.309017H0.951057L-0.587785,0.809017z"/> </defs> <rect width=30 height=20 fill=#de2910 /> <use xlink:href=#s transform="translate(5,5) scale(3)"/> <use xlink:href=#s transform="translate(10,2) rotate(23.036243)"/> <use xlink:href=#s transform="translate(12,4) rotate(45.869898)"/> <use xlink:href=#s transform="translate(12,7) rotate(69.945396)"/> <use xlink:href=#s transform="translate(10,9) rotate(20.659808)"/> </svg> </a> <a class=md-alt-lang href=../../../../ja/query_language/functions/other_functions/ class="md-flex__ellipsis md-header-nav__title" title=Japanese> <?xml version="1.0" encoding="UTF-8"?> <svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink width=90px height=60px viewbox="0 0 90 60" version=1.1> <g id=surface1> <rect x=0 y=0 width=90 height=60 style=fill:rgb(62.7451%,62.7451%,62.7451%);fill-opacity:1;stroke:none; /> <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 0.601562 0.601562 L 89.398438 0.601562 L 89.398438 59.398438 L 0.601562 59.398438 Z M 0.601562 0.601562 "/> <path style=" stroke:none;fill-rule:nonzero;fill:rgb(74.509805%,0%,14.901961%);fill-opacity:1;" d="M 63 30 C 63 39.941406 54.941406 48 45 48 C 35.058594 48 27 39.941406 27 30 C 27 20.058594 35.058594 12 45 12 C 54.941406 12 63 20.058594 63 30 Z M 63 30 "/> </g> </svg> </a> <a class=md-alt-lang href=../../../../fa/query_language/functions/other_functions/ class="md-flex__ellipsis md-header-nav__title" title=Farsi> <svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink viewbox="0 0 630 360" preserveaspectratio=none> <rect width=630 height=360 fill=#da0000 /> <rect width=630 height=240 fill=#fff /> <rect width=630 height=120 fill=#239f40 /> <g transform=translate(8.4,100.4)> <g id=tb4> <g id=tb1 fill=none stroke=#fff stroke-width=2> <path id=tbp1 d=M0,1H26M1,10V5H9V9H17V5H12M4,9H6M26,9H21V5H29M29,0V9H37V0M33,0V9 transform=scale(1.4) /> <path id=tbp2 d=M0,7H9M10,7H19 transform=scale(2.8) /> <use xlink:href=#tbp2 y=120 /> <use xlink:href=#tbp1 y=145.2 /> </g> <g id=tb3> <use xlink:href=#tb1 x=56 /> <use xlink:href=#tb1 x=112 /> <use xlink:href=#tb1 x=168 /> </g> </g> <use xlink:href=#tb3 x=168 /> <use xlink:href=#tb4 x=392 /> </g> <g fill=#da0000 transform=matrix(45,0,0,45,315,180)> <g id=emblem_half> <path d="M-0.54815,0.83638A0.912046,0.912046 0 0,0 0.328544,-0.722384A1,1 0 0,1 -0.54815,0.83638"/> <path d="M0.618339,0.661409A0.763932,0.763932 0 0,0 0.421644,-0.741049A1,1 0 0,1 0.618339,0.661409"/> <path d="M0,1 -0.05,0 0,-0.787278A0.309995,0.309995 0 0,0 0.118034,-0.688191V-0.100406L0.077809,0.892905z"/> <path d="M-0.02,-0.85 0,-0.831217A0.14431,0.14431 0 0,0 0.252075,-0.967708A0.136408,0.136408 0 0,1 0,-0.924634"/> </g> <use xlink:href=#emblem_half transform=scale(-1,1) /> </g> </svg> </a> </div> </div> </div> </nav> </header> <div class=md-container> <main class=md-main> <div class="md-main__inner md-grid" data-md-component=container> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" data-md-level=0> <label class="md-nav__title md-nav__title--site" for=drawer> Документация ClickHouse v19.15 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-1 type=checkbox id=nav-1> <label class=md-nav__link for=nav-1> Введение </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-1> Введение </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../ title=Обзор class=md-nav__link> Обзор </a> </li> <li class=md-nav__item> <a href=../../../introduction/distinctive_features/ title="Отличительные возможности ClickHouse" class=md-nav__link> Отличительные возможности ClickHouse </a> </li> <li class=md-nav__item> <a href=../../../introduction/features_considered_disadvantages/ title="Особенности ClickHouse, которые могут считаться недостатками" class=md-nav__link> Особенности ClickHouse, которые могут считаться недостатками </a> </li> <li class=md-nav__item> <a href=../../../introduction/performance/ title=Производительность class=md-nav__link> Производительность </a> </li> <li class=md-nav__item> <a href=../../../introduction/ya_metrika_task/ title="Постановка задачи в Яндекс.Метрике" class=md-nav__link> Постановка задачи в Яндекс.Метрике </a> </li> <li class=md-nav__item> <a href=../../../introduction/info/ title="Информационная поддержка" class=md-nav__link> Информационная поддержка </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-2 type=checkbox id=nav-2> <label class=md-nav__link for=nav-2> Начало работы </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-2> Начало работы </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../getting_started/ title="Установка и запуск" class=md-nav__link> Установка и запуск </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-2-2 type=checkbox id=nav-2-2> <label class=md-nav__link for=nav-2-2> Тестовые наборы данных </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-2-2> Тестовые наборы данных </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../getting_started/example_datasets/ontime/ title=OnTime class=md-nav__link> OnTime </a> </li> <li class=md-nav__item> <a href=../../../getting_started/example_datasets/nyc_taxi/ title="Данные о такси в Нью-Йорке" class=md-nav__link> Данные о такси в Нью-Йорке </a> </li> <li class=md-nav__item> <a href=../../../getting_started/example_datasets/amplab_benchmark/ title="AMPLab Big Data Benchmark" class=md-nav__link> AMPLab Big Data Benchmark </a> </li> <li class=md-nav__item> <a href=../../../getting_started/example_datasets/wikistat/ title=WikiStat class=md-nav__link> WikiStat </a> </li> <li class=md-nav__item> <a href=../../../getting_started/example_datasets/criteo/ title="Терабайт логов кликов от Criteo" class=md-nav__link> Терабайт логов кликов от Criteo </a> </li> <li class=md-nav__item> <a href=../../../getting_started/example_datasets/star_schema/ title="Схема «Звезда»" class=md-nav__link> Схема «Звезда» </a> </li> <li class=md-nav__item> <a href=../../../getting_started/example_datasets/metrica/ title="Данные Яндекс.Метрики" class=md-nav__link> Данные Яндекс.Метрики </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-3 type=checkbox id=nav-3> <label class=md-nav__link for=nav-3> Интерфейсы </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-3> Интерфейсы </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../interfaces/ title=Введение class=md-nav__link> Введение </a> </li> <li class=md-nav__item> <a href=../../../interfaces/cli/ title="Клиент командной строки" class=md-nav__link> Клиент командной строки </a> </li> <li class=md-nav__item> <a href=../../../interfaces/tcp/ title="Нативный интерфейс (TCP)" class=md-nav__link> Нативный интерфейс (TCP) </a> </li> <li class=md-nav__item> <a href=../../../interfaces/http/ title=HTTP-интерфейс class=md-nav__link> HTTP-интерфейс </a> </li> <li class=md-nav__item> <a href=../../../interfaces/formats/ title="Форматы входных и выходных данных" class=md-nav__link> Форматы входных и выходных данных </a> </li> <li class=md-nav__item> <a href=../../../interfaces/jdbc/ title=JDBC-драйвер class=md-nav__link> JDBC-драйвер </a> </li> <li class=md-nav__item> <a href=../../../interfaces/odbc/ title=ODBC-драйвер class=md-nav__link> ODBC-драйвер </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-3-8 type=checkbox id=nav-3-8> <label class=md-nav__link for=nav-3-8> От сторонних разработчиков </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-3-8> От сторонних разработчиков </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../interfaces/third-party/client_libraries/ title="Клиентские библиотеки" class=md-nav__link> Клиентские библиотеки </a> </li> <li class=md-nav__item> <a href=../../../interfaces/third-party/integrations/ title=Интеграции class=md-nav__link> Интеграции </a> </li> <li class=md-nav__item> <a href=../../../interfaces/third-party/gui/ title="Визуальные интерфейсы" class=md-nav__link> Визуальные интерфейсы </a> </li> <li class=md-nav__item> <a href=../../../interfaces/third-party/proxy/ title=Прокси class=md-nav__link> Прокси </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4 type=checkbox id=nav-4> <label class=md-nav__link for=nav-4> Типы данных </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-4> Типы данных </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../data_types/ title=Введение class=md-nav__link> Введение </a> </li> <li class=md-nav__item> <a href=../../../data_types/int_uint/ title="UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64" class=md-nav__link> UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64 </a> </li> <li class=md-nav__item> <a href=../../../data_types/float/ title="Float32, Float64" class=md-nav__link> Float32, Float64 </a> </li> <li class=md-nav__item> <a href=../../../data_types/decimal/ title=Decimal class=md-nav__link> Decimal </a> </li> <li class=md-nav__item> <a href=../../../data_types/boolean/ title="Булевы значения" class=md-nav__link> Булевы значения </a> </li> <li class=md-nav__item> <a href=../../../data_types/string/ title=String class=md-nav__link> String </a> </li> <li class=md-nav__item> <a href=../../../data_types/fixedstring/ title=FixedString(N) class=md-nav__link> FixedString(N) </a> </li> <li class=md-nav__item> <a href=../../../data_types/uuid/ title=UUID class=md-nav__link> UUID </a> </li> <li class=md-nav__item> <a href=../../../data_types/date/ title=Date class=md-nav__link> Date </a> </li> <li class=md-nav__item> <a href=../../../data_types/datetime/ title=DateTime class=md-nav__link> DateTime </a> </li> <li class=md-nav__item> <a href=../../../data_types/enum/ title=Enum class=md-nav__link> Enum </a> </li> <li class=md-nav__item> <a href=../../../data_types/array/ title=Array(T) class=md-nav__link> Array(T) </a> </li> <li class=md-nav__item> <a href=../../../data_types/nested_data_structures/aggregatefunction/ title="AggregateFunction(name, types_of_arguments...)" class=md-nav__link> AggregateFunction(name, types_of_arguments...) </a> </li> <li class=md-nav__item> <a href=../../../data_types/tuple/ title="Tuple(T1, T2, ...)" class=md-nav__link> Tuple(T1, T2, ...) </a> </li> <li class=md-nav__item> <a href=../../../data_types/nullable/ title=Nullable class=md-nav__link> Nullable </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4-16 type=checkbox id=nav-4-16> <label class=md-nav__link for=nav-4-16> Вложенные структуры данных </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-4-16> Вложенные структуры данных </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../data_types/nested_data_structures/nested/ title="Nested(Name1 Type1, Name2 Type2, ...)" class=md-nav__link> Nested(Name1 Type1, Name2 Type2, ...) </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4-17 type=checkbox id=nav-4-17> <label class=md-nav__link for=nav-4-17> Служебные типы данных </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-4-17> Служебные типы данных </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../data_types/special_data_types/expression/ title=Expression class=md-nav__link> Expression </a> </li> <li class=md-nav__item> <a href=../../../data_types/special_data_types/set/ title=Set class=md-nav__link> Set </a> </li> <li class=md-nav__item> <a href=../../../data_types/special_data_types/nothing/ title=Nothing class=md-nav__link> Nothing </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4-18 type=checkbox id=nav-4-18> <label class=md-nav__link for=nav-4-18> Domains </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-4-18> Domains </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../data_types/domains/overview/ title=Overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../data_types/domains/ipv4/ title=IPv4 class=md-nav__link> IPv4 </a> </li> <li class=md-nav__item> <a href=../../../data_types/domains/ipv6/ title=IPv6 class=md-nav__link> IPv6 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5 type=checkbox id=nav-5> <label class=md-nav__link for=nav-5> Движки баз данных </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-5> Движки баз данных </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../database_engines/ title=Введение class=md-nav__link> Введение </a> </li> <li class=md-nav__item> <a href=../../../database_engines/mysql/ title=MySQL class=md-nav__link> MySQL </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-6 type=checkbox id=nav-6> <label class=md-nav__link for=nav-6> Движки таблиц </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-6> Движки таблиц </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../operations/table_engines/ title=Введение class=md-nav__link> Введение </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-6-2 type=checkbox id=nav-6-2> <label class=md-nav__link for=nav-6-2> Семейство MergeTree </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-6-2> Семейство MergeTree </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../operations/table_engines/mergetree/ title=MergeTree class=md-nav__link> MergeTree </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/replication/ title="Репликация данных" class=md-nav__link> Репликация данных </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/custom_partitioning_key/ title="Произвольный ключ партиционирования" class=md-nav__link> Произвольный ключ партиционирования </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/replacingmergetree/ title=ReplacingMergeTree class=md-nav__link> ReplacingMergeTree </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/summingmergetree/ title=SummingMergeTree class=md-nav__link> SummingMergeTree </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/aggregatingmergetree/ title=AggregatingMergeTree class=md-nav__link> AggregatingMergeTree </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/collapsingmergetree/ title=CollapsingMergeTree class=md-nav__link> CollapsingMergeTree </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/versionedcollapsingmergetree/ title=VersionedCollapsingMergeTree class=md-nav__link> VersionedCollapsingMergeTree </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/graphitemergetree/ title=GraphiteMergeTree class=md-nav__link> GraphiteMergeTree </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-6-3 type=checkbox id=nav-6-3> <label class=md-nav__link for=nav-6-3> Семейство Log </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-6-3> Семейство Log </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../operations/table_engines/log_family/ title=Введение class=md-nav__link> Введение </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/stripelog/ title=StripeLog class=md-nav__link> StripeLog </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/log/ title=Log class=md-nav__link> Log </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/tinylog/ title=TinyLog class=md-nav__link> TinyLog </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-6-4 type=checkbox id=nav-6-4> <label class=md-nav__link for=nav-6-4> Интеграции </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-6-4> Интеграции </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../operations/table_engines/kafka/ title=Kafka class=md-nav__link> Kafka </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/mysql/ title=MySQL class=md-nav__link> MySQL </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/jdbc/ title=JDBC class=md-nav__link> JDBC </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/odbc/ title=ODBC class=md-nav__link> ODBC </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/hdfs/ title=HDFS class=md-nav__link> HDFS </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-6-5 type=checkbox id=nav-6-5> <label class=md-nav__link for=nav-6-5> Особые </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-6-5> Особые </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../operations/table_engines/distributed/ title=Distributed class=md-nav__link> Distributed </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/external_data/ title="Внешние данные" class=md-nav__link> Внешние данные </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/dictionary/ title=Dictionary class=md-nav__link> Dictionary </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/merge/ title=Merge class=md-nav__link> Merge </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/file/ title=File class=md-nav__link> File </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/null/ title=Null class=md-nav__link> Null </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/set/ title=Set class=md-nav__link> Set </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/join/ title=Join class=md-nav__link> Join </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/url/ title=URL class=md-nav__link> URL </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/view/ title=View class=md-nav__link> View </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/materializedview/ title=MaterializedView class=md-nav__link> MaterializedView </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/memory/ title=Memory class=md-nav__link> Memory </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/buffer/ title=Buffer class=md-nav__link> Buffer </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7 type=checkbox id=nav-7 checked> <label class=md-nav__link for=nav-7> Справка по SQL </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-7> Справка по SQL </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../query_language/select/ title=SELECT class=md-nav__link> SELECT </a> </li> <li class=md-nav__item> <a href=../../../query_language/insert_into/ title="INSERT INTO" class=md-nav__link> INSERT INTO </a> </li> <li class=md-nav__item> <a href=../../../query_language/create/ title=CREATE class=md-nav__link> CREATE </a> </li> <li class=md-nav__item> <a href=../../../query_language/alter/ title=ALTER class=md-nav__link> ALTER </a> </li> <li class=md-nav__item> <a href=../../../query_language/system/ title=SYSTEM class=md-nav__link> SYSTEM </a> </li> <li class=md-nav__item> <a href=../../../query_language/misc/ title="Прочие виды запросов" class=md-nav__link> Прочие виды запросов </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7-8 type=checkbox id=nav-7-8 checked> <label class=md-nav__link for=nav-7-8> Функции </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-7-8> Функции </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../query_language/functions/ title=Введение class=md-nav__link> Введение </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/arithmetic_functions/ title="Арифметические функции" class=md-nav__link> Арифметические функции </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/comparison_functions/ title="Функции сравнения" class=md-nav__link> Функции сравнения </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/logical_functions/ title="Логические функции" class=md-nav__link> Логические функции </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/type_conversion_functions/ title="Функции преобразования типов" class=md-nav__link> Функции преобразования типов </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/date_time_functions/ title="Функции для работы с датами и временем" class=md-nav__link> Функции для работы с датами и временем </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/string_functions/ title="Функции для работы со строками" class=md-nav__link> Функции для работы со строками </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/string_search_functions/ title="Функции поиска в строках" class=md-nav__link> Функции поиска в строках </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/string_replace_functions/ title="Функции поиска и замены в строках" class=md-nav__link> Функции поиска и замены в строках </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/conditional_functions/ title="Условные функции" class=md-nav__link> Условные функции </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/math_functions/ title="Математические функции" class=md-nav__link> Математические функции </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/rounding_functions/ title="Функции округления" class=md-nav__link> Функции округления </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/array_functions/ title="Функции по работе с массивами" class=md-nav__link> Функции по работе с массивами </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/splitting_merging_functions/ title="Функции разбиения и слияния строк и массивов" class=md-nav__link> Функции разбиения и слияния строк и массивов </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/bit_functions/ title="Битовые функции" class=md-nav__link> Битовые функции </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/bitmap_functions/ title="Функции для битмапов" class=md-nav__link> Функции для битмапов </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/hash_functions/ title="Функции хэширования" class=md-nav__link> Функции хэширования </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/random_functions/ title="Функции генерации псевдослучайных чисел" class=md-nav__link> Функции генерации псевдослучайных чисел </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/uuid_functions/ title="Функции для работы с UUID" class=md-nav__link> Функции для работы с UUID </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/encoding_functions/ title="Функции кодирования" class=md-nav__link> Функции кодирования </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/url_functions/ title="Функции для работы с URL" class=md-nav__link> Функции для работы с URL </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/ip_address_functions/ title="Функции для работы с IP-адресами" class=md-nav__link> Функции для работы с IP-адресами </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/json_functions/ title="Функции для работы с JSON." class=md-nav__link> Функции для работы с JSON. </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/higher_order_functions/ title="Функции высшего порядка" class=md-nav__link> Функции высшего порядка </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/ext_dict_functions/ title="Функции для работы с внешними словарями" class=md-nav__link> Функции для работы с внешними словарями </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/ym_dict_functions/ title="Функции для работы со словарями Яндекс.Метрики" class=md-nav__link> Функции для работы со словарями Яндекс.Метрики </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/in_functions/ title="Функции для реализации оператора IN." class=md-nav__link> Функции для реализации оператора IN. </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/array_join/ title="Функция arrayJoin" class=md-nav__link> Функция arrayJoin </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/geo/ title="Функции для работы с географическими координатами" class=md-nav__link> Функции для работы с географическими координатами </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/functions_for_nulls/ title="Функции c Nullable агрументами" class=md-nav__link> Функции c Nullable агрументами </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/machine_learning_functions/ title="Функции машинного обучения" class=md-nav__link> Функции машинного обучения </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-toggle md-nav__toggle" data-md-toggle=toc type=checkbox id=toc> <label class="md-nav__link md-nav__link--active" for=toc> Прочие функции </label> <a href=../../../query_language/functions/other_functions/ title="Прочие функции" class="md-nav__link md-nav__link--active"> <strong>Прочие функции</strong> </a> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=toc>Содержание</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#hostname title=hostName() class=md-nav__link> hostName() </a> </li> <li class=md-nav__item> <a href=#basename title=basename class=md-nav__link> basename </a> </li> <li class=md-nav__item> <a href=#visiblewidth-x title=visibleWidth(x) class=md-nav__link> visibleWidth(x) </a> </li> <li class=md-nav__item> <a href=#totypename-x title=toTypeName(x) class=md-nav__link> toTypeName(x) </a> </li> <li class=md-nav__item> <a href=#function-blocksize title=blockSize() class=md-nav__link> blockSize() </a> </li> <li class=md-nav__item> <a href=#materialize-x title=materialize(x) class=md-nav__link> materialize(x) </a> </li> <li class=md-nav__item> <a href=#ignore title=ignore(...) class=md-nav__link> ignore(...) </a> </li> <li class=md-nav__item> <a href=#sleep-seconds title=sleep(seconds) class=md-nav__link> sleep(seconds) </a> </li> <li class=md-nav__item> <a href=#currentdatabase title=currentDatabase() class=md-nav__link> currentDatabase() </a> </li> <li class=md-nav__item> <a href=#currentuser title=currentUser() class=md-nav__link> currentUser() </a> </li> <li class=md-nav__item> <a href=#isfinite-x title=isFinite(x) class=md-nav__link> isFinite(x) </a> </li> <li class=md-nav__item> <a href=#isinfinite-x title=isInfinite(x) class=md-nav__link> isInfinite(x) </a> </li> <li class=md-nav__item> <a href=#isnan-x title=isNaN(x) class=md-nav__link> isNaN(x) </a> </li> <li class=md-nav__item> <a href=#hascolumnintable-91-hostname-91-username-91-password-93-93-93-database-table-column title="hasColumnInTable(['hostname'[, 'username'[, 'password']],] 'database', 'table', 'column')" class=md-nav__link> hasColumnInTable(['hostname'[, 'username'[, 'password']],] 'database', 'table', 'column') </a> </li> <li class=md-nav__item> <a href=#bar title=bar class=md-nav__link> bar </a> </li> <li class=md-nav__item> <a href=#transform title=transform class=md-nav__link> transform </a> </li> <li class=md-nav__item> <a href=#formatreadablesize-x title=formatReadableSize(x) class=md-nav__link> formatReadableSize(x) </a> </li> <li class=md-nav__item> <a href=#least-a-b title="least(a, b)" class=md-nav__link> least(a, b) </a> </li> <li class=md-nav__item> <a href=#greatest-a-b title="greatest(a, b)" class=md-nav__link> greatest(a, b) </a> </li> <li class=md-nav__item> <a href=#uptime title=uptime() class=md-nav__link> uptime() </a> </li> <li class=md-nav__item> <a href=#version title=version() class=md-nav__link> version() </a> </li> <li class=md-nav__item> <a href=#function-rownumberinblock title=rowNumberInBlock class=md-nav__link> rowNumberInBlock </a> </li> <li class=md-nav__item> <a href=#rownumberinallblocks title=rowNumberInAllBlocks() class=md-nav__link> rowNumberInAllBlocks() </a> </li> <li class=md-nav__item> <a href=#neighbor-column-offset-91-default-value-93 title="neighbor(column, offset[, default_value])" class=md-nav__link> neighbor(column, offset[, default_value]) </a> </li> <li class=md-nav__item> <a href=#runningdifference-x title=runningDifference(x) class=md-nav__link> runningDifference(x) </a> </li> <li class=md-nav__item> <a href=#runningdifferencestartingwithfirstvalue title=runningDifferenceStartingWithFirstValue class=md-nav__link> runningDifferenceStartingWithFirstValue </a> </li> <li class=md-nav__item> <a href=#macnumtostring-num title=MACNumToString(num) class=md-nav__link> MACNumToString(num) </a> </li> <li class=md-nav__item> <a href=#macstringtonum-s title=MACStringToNum(s) class=md-nav__link> MACStringToNum(s) </a> </li> <li class=md-nav__item> <a href=#macstringtooui-s title=MACStringToOUI(s) class=md-nav__link> MACStringToOUI(s) </a> </li> <li class=md-nav__item> <a href=#getsizeofenumtype title=getSizeOfEnumType class=md-nav__link> getSizeOfEnumType </a> </li> <li class=md-nav__item> <a href=#tocolumntypename title=toColumnTypeName class=md-nav__link> toColumnTypeName </a> </li> <li class=md-nav__item> <a href=#dumpcolumnstructure title=dumpColumnStructure class=md-nav__link> dumpColumnStructure </a> </li> <li class=md-nav__item> <a href=#defaultvalueofargumenttype title=defaultValueOfArgumentType class=md-nav__link> defaultValueOfArgumentType </a> </li> <li class=md-nav__item> <a href=#indexhint title=indexHint class=md-nav__link> indexHint </a> </li> <li class=md-nav__item> <a href=#replicate title=replicate class=md-nav__link> replicate </a> </li> <li class=md-nav__item> <a href=#function-filesystemavailable title=filesystemAvailable class=md-nav__link> filesystemAvailable </a> </li> <li class=md-nav__item> <a href=#filesystemcapacity title=filesystemCapacity class=md-nav__link> filesystemCapacity </a> </li> <li class=md-nav__item> <a href=#function-finalizeaggregation title=finalizeAggregation class=md-nav__link> finalizeAggregation </a> </li> <li class=md-nav__item> <a href=#function-runningaccumulate title=runningAccumulate class=md-nav__link> runningAccumulate </a> </li> <li class=md-nav__item> <a href=#other_functions-joinget title="joinGet('join_storage_table_name', 'get_column', join_key)" class=md-nav__link> joinGet('join_storage_table_name', 'get_column', join_key) </a> </li> <li class=md-nav__item> <a href=#modelevaluate-model-name title="modelEvaluate(model_name, ...)" class=md-nav__link> modelEvaluate(model_name, ...) </a> </li> <li class=md-nav__item> <a href=#throwif-x-91-custom-message-93 title="throwIf(x[, custom_message])" class=md-nav__link> throwIf(x[, custom_message]) </a> </li> <li class=md-nav__item> <a href=#identity title=identity() class=md-nav__link> identity() </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7-9 type=checkbox id=nav-7-9> <label class=md-nav__link for=nav-7-9> Агрегатные функции </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-7-9> Агрегатные функции </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../query_language/agg_functions/ title=Введение class=md-nav__link> Введение </a> </li> <li class=md-nav__item> <a href=../../../query_language/agg_functions/reference/ title="Справочник функций" class=md-nav__link> Справочник функций </a> </li> <li class=md-nav__item> <a href=../../../query_language/agg_functions/combinators/ title="Комбинаторы агрегатных функций" class=md-nav__link> Комбинаторы агрегатных функций </a> </li> <li class=md-nav__item> <a href=../../../query_language/agg_functions/parametric_functions/ title="Параметрические агрегатные функции" class=md-nav__link> Параметрические агрегатные функции </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7-10 type=checkbox id=nav-7-10> <label class=md-nav__link for=nav-7-10> Табличные функции </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-7-10> Табличные функции </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../query_language/table_functions/ title=Введение class=md-nav__link> Введение </a> </li> <li class=md-nav__item> <a href=../../../query_language/table_functions/file/ title=file class=md-nav__link> file </a> </li> <li class=md-nav__item> <a href=../../../query_language/table_functions/merge/ title=merge class=md-nav__link> merge </a> </li> <li class=md-nav__item> <a href=../../../query_language/table_functions/numbers/ title=numbers class=md-nav__link> numbers </a> </li> <li class=md-nav__item> <a href=../../../query_language/table_functions/remote/ title=remote class=md-nav__link> remote </a> </li> <li class=md-nav__item> <a href=../../../query_language/table_functions/url/ title=url class=md-nav__link> url </a> </li> <li class=md-nav__item> <a href=../../../query_language/table_functions/mysql/ title=mysql class=md-nav__link> mysql </a> </li> <li class=md-nav__item> <a href=../../../query_language/table_functions/jdbc/ title=jdbc class=md-nav__link> jdbc </a> </li> <li class=md-nav__item> <a href=../../../query_language/table_functions/odbc/ title=odbc class=md-nav__link> odbc </a> </li> <li class=md-nav__item> <a href=../../../query_language/table_functions/hdfs/ title=hdfs class=md-nav__link> hdfs </a> </li> <li class=md-nav__item> <a href=../../../query_language/table_functions/input/ title=input class=md-nav__link> input </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7-11 type=checkbox id=nav-7-11> <label class=md-nav__link for=nav-7-11> Словари </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-7-11> Словари </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../query_language/dicts/ title=Введение class=md-nav__link> Введение </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7-11-2 type=checkbox id=nav-7-11-2> <label class=md-nav__link for=nav-7-11-2> Внешние словари </label> <nav class=md-nav data-md-component=collapsible data-md-level=3> <label class=md-nav__title for=nav-7-11-2> Внешние словари </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../query_language/dicts/external_dicts/ title="Общее описание" class=md-nav__link> Общее описание </a> </li> <li class=md-nav__item> <a href=../../../query_language/dicts/external_dicts_dict/ title="Настройка внешнего словаря" class=md-nav__link> Настройка внешнего словаря </a> </li> <li class=md-nav__item> <a href=../../../query_language/dicts/external_dicts_dict_layout/ title="Хранение словарей в памяти" class=md-nav__link> Хранение словарей в памяти </a> </li> <li class=md-nav__item> <a href=../../../query_language/dicts/external_dicts_dict_lifetime/ title="Обновление словарей" class=md-nav__link> Обновление словарей </a> </li> <li class=md-nav__item> <a href=../../../query_language/dicts/external_dicts_dict_sources/ title="Источники внешних словарей" class=md-nav__link> Источники внешних словарей </a> </li> <li class=md-nav__item> <a href=../../../query_language/dicts/external_dicts_dict_structure/ title="Ключ и поля словаря" class=md-nav__link> Ключ и поля словаря </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../query_language/dicts/internal_dicts/ title="Встроенные словари" class=md-nav__link> Встроенные словари </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../query_language/operators/ title=Операторы class=md-nav__link> Операторы </a> </li> <li class=md-nav__item> <a href=../../../query_language/syntax/ title="Общий синтаксис" class=md-nav__link> Общий синтаксис </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-8 type=checkbox id=nav-8> <label class=md-nav__link for=nav-8> Эксплуатация </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-8> Эксплуатация </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../operations/ title=Введение class=md-nav__link> Введение </a> </li> <li class=md-nav__item> <a href=../../../operations/requirements/ title=Требования class=md-nav__link> Требования </a> </li> <li class=md-nav__item> <a href=../../../operations/monitoring/ title=Мониторинг class=md-nav__link> Мониторинг </a> </li> <li class=md-nav__item> <a href=../../../operations/troubleshooting/ title="Устранение неисправностей" class=md-nav__link> Устранение неисправностей </a> </li> <li class=md-nav__item> <a href=../../../operations/tips/ title="Советы по эксплуатации" class=md-nav__link> Советы по эксплуатации </a> </li> <li class=md-nav__item> <a href=../../../operations/update/ title="Обновление ClickHouse" class=md-nav__link> Обновление ClickHouse </a> </li> <li class=md-nav__item> <a href=../../../operations/access_rights/ title="Права доступа" class=md-nav__link> Права доступа </a> </li> <li class=md-nav__item> <a href=../../../operations/backup/ title="Резервное копирование" class=md-nav__link> Резервное копирование </a> </li> <li class=md-nav__item> <a href=../../../operations/configuration_files/ title="Конфигурационные файлы" class=md-nav__link> Конфигурационные файлы </a> </li> <li class=md-nav__item> <a href=../../../operations/quotas/ title=Квоты class=md-nav__link> Квоты </a> </li> <li class=md-nav__item> <a href=../../../operations/system_tables/ title="Системные таблицы" class=md-nav__link> Системные таблицы </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-8-12 type=checkbox id=nav-8-12> <label class=md-nav__link for=nav-8-12> Конфигурационные параметры сервера </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-8-12> Конфигурационные параметры сервера </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../operations/server_settings/ title=Введение class=md-nav__link> Введение </a> </li> <li class=md-nav__item> <a href=../../../operations/server_settings/settings/ title="Серверные настройки" class=md-nav__link> Серверные настройки </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-8-13 type=checkbox id=nav-8-13> <label class=md-nav__link for=nav-8-13> Настройки </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-8-13> Настройки </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../operations/settings/ title=Введение class=md-nav__link> Введение </a> </li> <li class=md-nav__item> <a href=../../../operations/settings/permissions_for_queries/ title="Разрешения на выполнение запросов" class=md-nav__link> Разрешения на выполнение запросов </a> </li> <li class=md-nav__item> <a href=../../../operations/settings/query_complexity/ title="Ограничения на сложность запроса" class=md-nav__link> Ограничения на сложность запроса </a> </li> <li class=md-nav__item> <a href=../../../operations/settings/settings/ title=Настройки class=md-nav__link> Настройки </a> </li> <li class=md-nav__item> <a href=../../../operations/settings/constraints_on_settings/ title="Ограничения на изменение настроек" class=md-nav__link> Ограничения на изменение настроек </a> </li> <li class=md-nav__item> <a href=../../../operations/settings/settings_profiles/ title="Профили настроек" class=md-nav__link> Профили настроек </a> </li> <li class=md-nav__item> <a href=../../../operations/settings/settings_users/ title="Настройки пользователей" class=md-nav__link> Настройки пользователей </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-8-14 type=checkbox id=nav-8-14> <label class=md-nav__link for=nav-8-14> Утилиты </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-8-14> Утилиты </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../operations/utils/ title=Введение class=md-nav__link> Введение </a> </li> <li class=md-nav__item> <a href=../../../operations/utils/clickhouse-copier/ title=clickhouse-copier class=md-nav__link> clickhouse-copier </a> </li> <li class=md-nav__item> <a href=../../../operations/utils/clickhouse-local/ title=clickhouse-local class=md-nav__link> clickhouse-local </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-9 type=checkbox id=nav-9> <label class=md-nav__link for=nav-9> F.A.Q. </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-9> F.A.Q. </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../faq/general/ title="Общие вопросы" class=md-nav__link> Общие вопросы </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-10 type=checkbox id=nav-10> <label class=md-nav__link for=nav-10> Разработка </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-10> Разработка </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../development/architecture/ title="Обзор архитектуры ClickHouse" class=md-nav__link> Обзор архитектуры ClickHouse </a> </li> <li class=md-nav__item> <a href=../../../development/build/ title="Как собрать ClickHouse на Linux" class=md-nav__link> Как собрать ClickHouse на Linux </a> </li> <li class=md-nav__item> <a href=../../../development/build_osx/ title="Как собрать ClickHouse на Mac OS X" class=md-nav__link> Как собрать ClickHouse на Mac OS X </a> </li> <li class=md-nav__item> <a href=../../../development/style/ title="Как писать код на C++" class=md-nav__link> Как писать код на C++ </a> </li> <li class=md-nav__item> <a href=../../../development/tests/ title="Как запустить тесты" class=md-nav__link> Как запустить тесты </a> </li> <li class=md-nav__item> <a href=../../../development/contrib/ title="Сторонние библиотеки" class=md-nav__link> Сторонние библиотеки </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-11 type=checkbox id=nav-11> <label class=md-nav__link for=nav-11> Что нового </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-11> Что нового </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../changelog/ title=Changelog class=md-nav__link> Changelog </a> </li> <li class=md-nav__item> <a href=../../../security_changelog/ title="Security changelog" class=md-nav__link> Security changelog </a> </li> <li class=md-nav__item> <a href=../../../roadmap/ title=Roadmap class=md-nav__link> Roadmap </a> </li> </ul> </nav> </li> </ul> <ul id=md-extra-nav class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> Релиз: <span class=md-selector> <select id=releases-selector> <option value>последний</option> <option value=v20.1>v20.1</option> <option value=v19.17>v19.17</option> <option value=v19.16>v19.16</option> <option value=v19.15 selected=selected>v19.15</option> <option value=v19.14>v19.14</option> <option value=v19.13>v19.13</option> <option value=v19.11>v19.11</option> <option value=v19.10>v19.10</option> <option value=v19.9>v19.9</option> <option value=v19.8>v19.8</option> <option value=v19.7>v19.7</option> </select><span id=releases-selector-after>&nbsp;▾</span> </span> </li> <li class="md-nav__item md-nav__item--active"> <a href=../../../single/ class="md-nav__link md-nav__link--active">Одностраничная версия</a> </li> <li class="md-nav__item md-nav__item--active"> <a href=../../../single/clickhouse_ru.pdf class="md-nav__link md-nav__link--active">PDF версия</a> </li> <li class="md-nav__item md-nav__item--active"> <a href=https://github.com/ClickHouse/ClickHouse/ rel="external nofollow" target=_blank class=md-nav__link> Исходный код ClickHouse </a> </li> <li class="md-nav__item md-nav__item--active"> <span id=md-sidebar-flags class=md-nav__link> <a class=md-alt-lang href=../../../../en/query_language/functions/other_functions/ class="md-flex__ellipsis md-header-nav__title" title=English> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 60 30" preserveaspectratio=none> <clippath id=t> <path d="M30,15 h30 v15 z v15 h-30 z h-30 v-15 z v-15 h30 z"/> </clippath> <path fill=#00247d d="M0,0 v30 h60 v-30 z"/> <path stroke=#fff stroke-width=6 d="M0,0 L60,30 M60,0 L0,30"/> <path clip-path=url(#t) stroke=#cf142b stroke-width=4 d="M0,0 L60,30 M60,0 L0,30"/> <path stroke=#fff stroke-width=10 d="M30,0 v30 M0,15 h60"/> <path stroke=#cf142b stroke-width=6 d="M30,0 v30 M0,15 h60"/> </svg> </a> <a class="md-alt-lang md-current-lang" href=../../../../ru/query_language/functions/other_functions/ class="md-flex__ellipsis md-header-nav__title" title=Russian> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 9 6" preserveaspectratio=none> <rect fill=#fff width=9 height=3 /> <rect fill=#d52b1e y=3 width=9 height=3 /> <rect fill=#0039a6 y=2 width=9 height=2 /> </svg> </a> <a class=md-alt-lang href=../../../../zh/query_language/functions/other_functions/ class="md-flex__ellipsis md-header-nav__title" title=Chinese> <svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink viewbox="0 0 30 20" preserveaspectratio=none> <defs> <path id=s fill=#ffde00 d="M0,-1 0.587785,0.809017 -0.951057,-0.309017H0.951057L-0.587785,0.809017z"/> </defs> <rect width=30 height=20 fill=#de2910 /> <use xlink:href=#s transform="translate(5,5) scale(3)"/> <use xlink:href=#s transform="translate(10,2) rotate(23.036243)"/> <use xlink:href=#s transform="translate(12,4) rotate(45.869898)"/> <use xlink:href=#s transform="translate(12,7) rotate(69.945396)"/> <use xlink:href=#s transform="translate(10,9) rotate(20.659808)"/> </svg> </a> <a class=md-alt-lang href=../../../../ja/query_language/functions/other_functions/ class="md-flex__ellipsis md-header-nav__title" title=Japanese> <?xml version="1.0" encoding="UTF-8"?> <svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink width=90px height=60px viewbox="0 0 90 60" version=1.1> <g id=surface1> <rect x=0 y=0 width=90 height=60 style=fill:rgb(62.7451%,62.7451%,62.7451%);fill-opacity:1;stroke:none; /> <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 0.601562 0.601562 L 89.398438 0.601562 L 89.398438 59.398438 L 0.601562 59.398438 Z M 0.601562 0.601562 "/> <path style=" stroke:none;fill-rule:nonzero;fill:rgb(74.509805%,0%,14.901961%);fill-opacity:1;" d="M 63 30 C 63 39.941406 54.941406 48 45 48 C 35.058594 48 27 39.941406 27 30 C 27 20.058594 35.058594 12 45 12 C 54.941406 12 63 20.058594 63 30 Z M 63 30 "/> </g> </svg> </a> <a class=md-alt-lang href=../../../../fa/query_language/functions/other_functions/ class="md-flex__ellipsis md-header-nav__title" title=Farsi> <svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink viewbox="0 0 630 360" preserveaspectratio=none> <rect width=630 height=360 fill=#da0000 /> <rect width=630 height=240 fill=#fff /> <rect width=630 height=120 fill=#239f40 /> <g transform=translate(8.4,100.4)> <g id=tb4> <g id=tb1 fill=none stroke=#fff stroke-width=2> <path id=tbp1 d=M0,1H26M1,10V5H9V9H17V5H12M4,9H6M26,9H21V5H29M29,0V9H37V0M33,0V9 transform=scale(1.4) /> <path id=tbp2 d=M0,7H9M10,7H19 transform=scale(2.8) /> <use xlink:href=#tbp2 y=120 /> <use xlink:href=#tbp1 y=145.2 /> </g> <g id=tb3> <use xlink:href=#tb1 x=56 /> <use xlink:href=#tb1 x=112 /> <use xlink:href=#tb1 x=168 /> </g> </g> <use xlink:href=#tb3 x=168 /> <use xlink:href=#tb4 x=392 /> </g> <g fill=#da0000 transform=matrix(45,0,0,45,315,180)> <g id=emblem_half> <path d="M-0.54815,0.83638A0.912046,0.912046 0 0,0 0.328544,-0.722384A1,1 0 0,1 -0.54815,0.83638"/> <path d="M0.618339,0.661409A0.763932,0.763932 0 0,0 0.421644,-0.741049A1,1 0 0,1 0.618339,0.661409"/> <path d="M0,1 -0.05,0 0,-0.787278A0.309995,0.309995 0 0,0 0.118034,-0.688191V-0.100406L0.077809,0.892905z"/> <path d="M-0.02,-0.85 0,-0.831217A0.14431,0.14431 0 0,0 0.252075,-0.967708A0.136408,0.136408 0 0,1 0,-0.924634"/> </g> <use xlink:href=#emblem_half transform=scale(-1,1) /> </g> </svg> </a> </span> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=toc>Содержание</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#hostname title=hostName() class=md-nav__link> hostName() </a> </li> <li class=md-nav__item> <a href=#basename title=basename class=md-nav__link> basename </a> </li> <li class=md-nav__item> <a href=#visiblewidth-x title=visibleWidth(x) class=md-nav__link> visibleWidth(x) </a> </li> <li class=md-nav__item> <a href=#totypename-x title=toTypeName(x) class=md-nav__link> toTypeName(x) </a> </li> <li class=md-nav__item> <a href=#function-blocksize title=blockSize() class=md-nav__link> blockSize() </a> </li> <li class=md-nav__item> <a href=#materialize-x title=materialize(x) class=md-nav__link> materialize(x) </a> </li> <li class=md-nav__item> <a href=#ignore title=ignore(...) class=md-nav__link> ignore(...) </a> </li> <li class=md-nav__item> <a href=#sleep-seconds title=sleep(seconds) class=md-nav__link> sleep(seconds) </a> </li> <li class=md-nav__item> <a href=#currentdatabase title=currentDatabase() class=md-nav__link> currentDatabase() </a> </li> <li class=md-nav__item> <a href=#currentuser title=currentUser() class=md-nav__link> currentUser() </a> </li> <li class=md-nav__item> <a href=#isfinite-x title=isFinite(x) class=md-nav__link> isFinite(x) </a> </li> <li class=md-nav__item> <a href=#isinfinite-x title=isInfinite(x) class=md-nav__link> isInfinite(x) </a> </li> <li class=md-nav__item> <a href=#isnan-x title=isNaN(x) class=md-nav__link> isNaN(x) </a> </li> <li class=md-nav__item> <a href=#hascolumnintable-91-hostname-91-username-91-password-93-93-93-database-table-column title="hasColumnInTable(['hostname'[, 'username'[, 'password']],] 'database', 'table', 'column')" class=md-nav__link> hasColumnInTable(['hostname'[, 'username'[, 'password']],] 'database', 'table', 'column') </a> </li> <li class=md-nav__item> <a href=#bar title=bar class=md-nav__link> bar </a> </li> <li class=md-nav__item> <a href=#transform title=transform class=md-nav__link> transform </a> </li> <li class=md-nav__item> <a href=#formatreadablesize-x title=formatReadableSize(x) class=md-nav__link> formatReadableSize(x) </a> </li> <li class=md-nav__item> <a href=#least-a-b title="least(a, b)" class=md-nav__link> least(a, b) </a> </li> <li class=md-nav__item> <a href=#greatest-a-b title="greatest(a, b)" class=md-nav__link> greatest(a, b) </a> </li> <li class=md-nav__item> <a href=#uptime title=uptime() class=md-nav__link> uptime() </a> </li> <li class=md-nav__item> <a href=#version title=version() class=md-nav__link> version() </a> </li> <li class=md-nav__item> <a href=#function-rownumberinblock title=rowNumberInBlock class=md-nav__link> rowNumberInBlock </a> </li> <li class=md-nav__item> <a href=#rownumberinallblocks title=rowNumberInAllBlocks() class=md-nav__link> rowNumberInAllBlocks() </a> </li> <li class=md-nav__item> <a href=#neighbor-column-offset-91-default-value-93 title="neighbor(column, offset[, default_value])" class=md-nav__link> neighbor(column, offset[, default_value]) </a> </li> <li class=md-nav__item> <a href=#runningdifference-x title=runningDifference(x) class=md-nav__link> runningDifference(x) </a> </li> <li class=md-nav__item> <a href=#runningdifferencestartingwithfirstvalue title=runningDifferenceStartingWithFirstValue class=md-nav__link> runningDifferenceStartingWithFirstValue </a> </li> <li class=md-nav__item> <a href=#macnumtostring-num title=MACNumToString(num) class=md-nav__link> MACNumToString(num) </a> </li> <li class=md-nav__item> <a href=#macstringtonum-s title=MACStringToNum(s) class=md-nav__link> MACStringToNum(s) </a> </li> <li class=md-nav__item> <a href=#macstringtooui-s title=MACStringToOUI(s) class=md-nav__link> MACStringToOUI(s) </a> </li> <li class=md-nav__item> <a href=#getsizeofenumtype title=getSizeOfEnumType class=md-nav__link> getSizeOfEnumType </a> </li> <li class=md-nav__item> <a href=#tocolumntypename title=toColumnTypeName class=md-nav__link> toColumnTypeName </a> </li> <li class=md-nav__item> <a href=#dumpcolumnstructure title=dumpColumnStructure class=md-nav__link> dumpColumnStructure </a> </li> <li class=md-nav__item> <a href=#defaultvalueofargumenttype title=defaultValueOfArgumentType class=md-nav__link> defaultValueOfArgumentType </a> </li> <li class=md-nav__item> <a href=#indexhint title=indexHint class=md-nav__link> indexHint </a> </li> <li class=md-nav__item> <a href=#replicate title=replicate class=md-nav__link> replicate </a> </li> <li class=md-nav__item> <a href=#function-filesystemavailable title=filesystemAvailable class=md-nav__link> filesystemAvailable </a> </li> <li class=md-nav__item> <a href=#filesystemcapacity title=filesystemCapacity class=md-nav__link> filesystemCapacity </a> </li> <li class=md-nav__item> <a href=#function-finalizeaggregation title=finalizeAggregation class=md-nav__link> finalizeAggregation </a> </li> <li class=md-nav__item> <a href=#function-runningaccumulate title=runningAccumulate class=md-nav__link> runningAccumulate </a> </li> <li class=md-nav__item> <a href=#other_functions-joinget title="joinGet('join_storage_table_name', 'get_column', join_key)" class=md-nav__link> joinGet('join_storage_table_name', 'get_column', join_key) </a> </li> <li class=md-nav__item> <a href=#modelevaluate-model-name title="modelEvaluate(model_name, ...)" class=md-nav__link> modelEvaluate(model_name, ...) </a> </li> <li class=md-nav__item> <a href=#throwif-x-91-custom-message-93 title="throwIf(x[, custom_message])" class=md-nav__link> throwIf(x[, custom_message]) </a> </li> <li class=md-nav__item> <a href=#identity title=identity() class=md-nav__link> identity() </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/ClickHouse/ClickHouse/edit/master/docs/ru/query_language/functions/other_functions.md title="Редактировать страницу" class="md-icon md-content__icon" rel="external nofollow">&#xE3C9;</a> <div id=content> <h1 id=prochie-funktsii>Прочие функции<a class=headerlink href=#prochie-funktsii title="Permanent link">&para;</a></h1> <h2 id=hostname>hostName()<a class=headerlink href=#hostname title="Permanent link">&para;</a></h2> <p>Возвращает строку - имя хоста, на котором эта функция была выполнена. При распределённой обработке запроса, это будет имя хоста удалённого сервера, если функция выполняется на удалённом сервере.</p> <h2 id=basename>basename<a class=headerlink href=#basename title="Permanent link">&para;</a></h2> <p>Извлекает конечную часть строки после последнего слэша или бэкслэша. Функция часто используется для извлечения имени файла из пути.</p> <div class=codehilite><pre><span></span><span class=n>basename</span><span class=p>(</span> <span class=n>expr</span> <span class=p>)</span>
</pre></div> <p><strong>Параметры</strong></p> <ul> <li><code>expr</code> — Выражение, возвращающее значение типа <a href=../../../data_types/string/ >String</a>. В результирующем значении все бэкслэши должны быть экранированы.</li> </ul> <p><strong>Возвращаемое значение</strong></p> <p>Строка, содержащая:</p> <ul> <li> <p>Конечную часть строки после последнего слэша или бэкслэша.</p> <p>Если входная строка содержит путь, заканчивающийся слэшем или бэкслэшем, например, <code>/</code> или <code>с:\</code>, функция возвращает пустую строку.</p> </li> <li> <p>Исходная строка, если нет слэша или бэкслэша.</p> </li> </ul> <p><strong>Пример</strong></p> <div class=codehilite><pre><span></span><span class=k>SELECT</span> <span class=s1>&#39;some/long/path/to/file&#39;</span> <span class=k>AS</span> <span class=n>a</span><span class=p>,</span> <span class=n>basename</span><span class=p>(</span><span class=n>a</span><span class=p>)</span>
</pre></div> <div class=codehilite><pre><span></span>┌─a──────────────────────┬─basename(&#39;some\\long\\path\\to\\file&#39;)─┐
│ some\long\path\to\file │ file                                   │
└────────────────────────┴────────────────────────────────────────┘
</pre></div> <div class=codehilite><pre><span></span><span class=k>SELECT</span> <span class=s1>&#39;some\\long\\path\\to\\file&#39;</span> <span class=k>AS</span> <span class=n>a</span><span class=p>,</span> <span class=n>basename</span><span class=p>(</span><span class=n>a</span><span class=p>)</span>
</pre></div> <div class=codehilite><pre><span></span>┌─a──────────────────────┬─basename(&#39;some\\long\\path\\to\\file&#39;)─┐
│ some\long\path\to\file │ file                                   │
└────────────────────────┴────────────────────────────────────────┘
</pre></div> <div class=codehilite><pre><span></span><span class=k>SELECT</span> <span class=s1>&#39;some-file-name&#39;</span> <span class=k>AS</span> <span class=n>a</span><span class=p>,</span> <span class=n>basename</span><span class=p>(</span><span class=n>a</span><span class=p>)</span>
</pre></div> <div class=codehilite><pre><span></span>┌─a──────────────┬─basename(&#39;some-file-name&#39;)─┐
│ some-file-name │ some-file-name             │
└────────────────┴────────────────────────────┘
</pre></div> <h2 id=visiblewidth-x>visibleWidth(x)<a class=headerlink href=#visiblewidth-x title="Permanent link">&para;</a></h2> <p>Вычисляет приблизительную ширину при выводе значения в текстовом (tab-separated) виде на консоль. Функция используется системой для реализации Pretty форматов.</p> <p><code>NULL</code> представляется как строка, соответствующая отображению <code>NULL</code> в форматах <code>Pretty</code>.</p> <div class=codehilite><pre><span></span><span class=k>SELECT</span> <span class=n>visibleWidth</span><span class=p>(</span><span class=k>NULL</span><span class=p>)</span>
</pre></div> <div class=codehilite><pre><span></span>┌─visibleWidth(NULL)─┐
│                  4 │
└────────────────────┘
</pre></div> <h2 id=totypename-x>toTypeName(x)<a class=headerlink href=#totypename-x title="Permanent link">&para;</a></h2> <p>Возвращает строку, содержащую имя типа переданного аргумента.</p> <p>Если на вход функции передать <code>NULL</code>, то она вернёт тип <code>Nullable(Nothing)</code>, что соответствует внутреннему представлению <code>NULL</code> в ClickHouse.</p> <h2 id=function-blocksize>blockSize()<a class=headerlink href=#function-blocksize title="Permanent link">&para;</a></h2> <p>Получить размер блока. В ClickHouse выполнение запроса всегда идёт по блокам (наборам кусочков столбцов). Функция позволяет получить размер блока, для которого её вызвали.</p> <h2 id=materialize-x>materialize(x)<a class=headerlink href=#materialize-x title="Permanent link">&para;</a></h2> <p>Превращает константу в полноценный столбец, содержащий только одно значение. В ClickHouse полноценные столбцы и константы представлены в памяти по-разному. Функции по-разному работают для аргументов-констант и обычных аргументов (выполняется разный код), хотя результат почти всегда должен быть одинаковым. Эта функция предназначена для отладки такого поведения.</p> <h2 id=ignore>ignore(...)<a class=headerlink href=#ignore title="Permanent link">&para;</a></h2> <p>Принимает любые аргументы, в т.ч. <code>NULL</code>, всегда возвращает 0. При этом, аргумент всё равно вычисляется. Это может использоваться для бенчмарков.</p> <h2 id=sleep-seconds>sleep(seconds)<a class=headerlink href=#sleep-seconds title="Permanent link">&para;</a></h2> <p>Спит seconds секунд на каждый блок данных. Можно указать как целое число, так и число с плавающей запятой.</p> <h2 id=currentdatabase>currentDatabase()<a class=headerlink href=#currentdatabase title="Permanent link">&para;</a></h2> <p>Возвращает имя текущей базы данных. Эта функция может использоваться в параметрах движка таблицы в запросе CREATE TABLE там, где нужно указать базу данных.</p> <h2 id=currentuser>currentUser()<a class=headerlink href=#currentuser title="Permanent link">&para;</a></h2> <p>Возвращает логин пользователя, от имени которого исполняется запрос. В случае распределённого запроса, возвращается имя пользователя - инициатора запроса.</p> <h2 id=isfinite-x>isFinite(x)<a class=headerlink href=#isfinite-x title="Permanent link">&para;</a></h2> <p>Принимает Float32 или Float64 и возвращает UInt8, равный 1, если аргумент не бесконечный и не NaN, иначе 0.</p> <h2 id=isinfinite-x>isInfinite(x)<a class=headerlink href=#isinfinite-x title="Permanent link">&para;</a></h2> <p>Принимает Float32 или Float64 и возвращает UInt8, равный 1, если аргумент бесконечный, иначе 0. Отметим, что в случае NaN возвращается 0.</p> <h2 id=isnan-x>isNaN(x)<a class=headerlink href=#isnan-x title="Permanent link">&para;</a></h2> <p>Принимает Float32 или Float64 и возвращает UInt8, равный 1, если аргумент является NaN, иначе 0.</p> <h2 id=hascolumnintable-91-hostname-91-username-91-password-93-93-93-database-table-column>hasColumnInTable(['hostname'[, 'username'[, 'password']],] 'database', 'table', 'column')<a class=headerlink href=#hascolumnintable-91-hostname-91-username-91-password-93-93-93-database-table-column title="Permanent link">&para;</a></h2> <p>Принимает константные строки - имя базы данных, имя таблицы и название столбца. Возвращает константное выражение типа UInt8, равное 1, если есть столбец, иначе 0. Если задан параметр hostname, проверка будет выполнена на удалённом сервере. Функция кидает исключение, если таблица не существует. Для элементов вложенной структуры данных функция проверяет существование столбца. Для самой же вложенной структуры данных функция возвращает 0.</p> <h2 id=bar>bar<a class=headerlink href=#bar title="Permanent link">&para;</a></h2> <p>Позволяет построить unicode-art диаграмму.</p> <p><code>bar(x, min, max, width)</code> рисует полосу ширины пропорциональной <code>(x - min)</code> и равной <code>width</code> символов при <code>x = max</code>.</p> <p>Параметры:</p> <ul> <li><code>x</code> — Величина для отображения.</li> <li><code>min, max</code> — Целочисленные константы, значение должно помещаться в <code>Int64</code>.</li> <li><code>width</code> — Константа, положительное число, может быть дробным.</li> </ul> <p>Полоса рисуется с точностью до одной восьмой символа.</p> <p>Пример:</p> <div class=codehilite><pre><span></span><span class=k>SELECT</span>
    <span class=n>toHour</span><span class=p>(</span><span class=n>EventTime</span><span class=p>)</span> <span class=k>AS</span> <span class=n>h</span><span class=p>,</span>
    <span class=k>count</span><span class=p>()</span> <span class=k>AS</span> <span class=k>c</span><span class=p>,</span>
    <span class=n>bar</span><span class=p>(</span><span class=k>c</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>600000</span><span class=p>,</span> <span class=mi>20</span><span class=p>)</span> <span class=k>AS</span> <span class=n>bar</span>
<span class=k>FROM</span> <span class=n>test</span><span class=p>.</span><span class=n>hits</span>
<span class=k>GROUP</span> <span class=k>BY</span> <span class=n>h</span>
<span class=k>ORDER</span> <span class=k>BY</span> <span class=n>h</span> <span class=k>ASC</span>
</pre></div> <div class=codehilite><pre><span></span>┌──h─┬──────c─┬─bar────────────────┐
│  0 │ 292907 │ █████████▋         │
│  1 │ 180563 │ ██████             │
│  2 │ 114861 │ ███▋               │
│  3 │  85069 │ ██▋                │
│  4 │  68543 │ ██▎                │
│  5 │  78116 │ ██▌                │
│  6 │ 113474 │ ███▋               │
│  7 │ 170678 │ █████▋             │
│  8 │ 278380 │ █████████▎         │
│  9 │ 391053 │ █████████████      │
│ 10 │ 457681 │ ███████████████▎   │
│ 11 │ 493667 │ ████████████████▍  │
│ 12 │ 509641 │ ████████████████▊  │
│ 13 │ 522947 │ █████████████████▍ │
│ 14 │ 539954 │ █████████████████▊ │
│ 15 │ 528460 │ █████████████████▌ │
│ 16 │ 539201 │ █████████████████▊ │
│ 17 │ 523539 │ █████████████████▍ │
│ 18 │ 506467 │ ████████████████▊  │
│ 19 │ 520915 │ █████████████████▎ │
│ 20 │ 521665 │ █████████████████▍ │
│ 21 │ 542078 │ ██████████████████ │
│ 22 │ 493642 │ ████████████████▍  │
│ 23 │ 400397 │ █████████████▎     │
└────┴────────┴────────────────────┘
</pre></div> <h2 id=transform>transform<a class=headerlink href=#transform title="Permanent link">&para;</a></h2> <p>Преобразовать значение согласно явно указанному отображению одних элементов на другие. Имеется два варианта функции:</p> <ol> <li><code>transform(x, array_from, array_to, default)</code></li> </ol> <p><code>x</code> - что преобразовывать.</p> <p><code>array_from</code> - константный массив значений для преобразования.</p> <p><code>array_to</code> - константный массив значений, в которые должны быть преобразованы значения из from.</p> <p><code>default</code> - какое значение использовать, если x не равен ни одному из значений во from.</p> <p><code>array_from</code> и <code>array_to</code> - массивы одинаковых размеров.</p> <p>Типы:</p> <p><code>transform(T, Array(T), Array(U), U) -&gt; U</code></p> <p><code>T</code> и <code>U</code> - могут быть числовыми, строковыми, или Date или DateTime типами. При этом, где обозначена одна и та же буква (T или U), могут быть, в случае числовых типов, не совпадающие типы, а типы, для которых есть общий тип. Например, первый аргумент может иметь тип Int64, а второй - Array(UInt16).</p> <p>Если значение x равно одному из элементов массива array_from, то возвращает соответствующий (такой же по номеру) элемент массива array_to; иначе возвращает default. Если имеется несколько совпадающих элементов в array_from, то возвращает какой-нибудь из соответствующих.</p> <p>Пример:</p> <div class=codehilite><pre><span></span><span class=k>SELECT</span>
    <span class=k>transform</span><span class=p>(</span><span class=n>SearchEngineID</span><span class=p>,</span> <span class=p>[</span><span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>],</span> <span class=p>[</span><span class=s1>&#39;Yandex&#39;</span><span class=p>,</span> <span class=s1>&#39;Google&#39;</span><span class=p>],</span> <span class=s1>&#39;Other&#39;</span><span class=p>)</span> <span class=k>AS</span> <span class=n>title</span><span class=p>,</span>
    <span class=k>count</span><span class=p>()</span> <span class=k>AS</span> <span class=k>c</span>
<span class=k>FROM</span> <span class=n>test</span><span class=p>.</span><span class=n>hits</span>
<span class=k>WHERE</span> <span class=n>SearchEngineID</span> <span class=o>!=</span> <span class=mi>0</span>
<span class=k>GROUP</span> <span class=k>BY</span> <span class=n>title</span>
<span class=k>ORDER</span> <span class=k>BY</span> <span class=k>c</span> <span class=k>DESC</span>
</pre></div> <div class=codehilite><pre><span></span>┌─title─────┬──────c─┐
│ Yandex    │ 498635 │
│ Google    │ 229872 │
│ Other     │ 104472 │
└───────────┴────────┘
</pre></div> <ol> <li><code>transform(x, array_from, array_to)</code></li> </ol> <p>Отличается от первого варианта отсутствующим аргументом default. Если значение x равно одному из элементов массива array_from, то возвращает соответствующий (такой же по номеру) элемент массива array_to; иначе возвращает x.</p> <p>Типы:</p> <p><code>transform(T, Array(T), Array(T)) -&gt; T</code></p> <p>Пример:</p> <div class=codehilite><pre><span></span><span class=k>SELECT</span>
    <span class=k>transform</span><span class=p>(</span><span class=k>domain</span><span class=p>(</span><span class=n>Referer</span><span class=p>),</span> <span class=p>[</span><span class=s1>&#39;yandex.ru&#39;</span><span class=p>,</span> <span class=s1>&#39;google.ru&#39;</span><span class=p>,</span> <span class=s1>&#39;vk.com&#39;</span><span class=p>],</span> <span class=p>[</span><span class=s1>&#39;www.yandex&#39;</span><span class=p>,</span> <span class=s1>&#39;example.com&#39;</span><span class=p>])</span> <span class=k>AS</span> <span class=n>s</span><span class=p>,</span>
    <span class=k>count</span><span class=p>()</span> <span class=k>AS</span> <span class=k>c</span>
<span class=k>FROM</span> <span class=n>test</span><span class=p>.</span><span class=n>hits</span>
<span class=k>GROUP</span> <span class=k>BY</span> <span class=k>domain</span><span class=p>(</span><span class=n>Referer</span><span class=p>)</span>
<span class=k>ORDER</span> <span class=k>BY</span> <span class=k>count</span><span class=p>()</span> <span class=k>DESC</span>
<span class=k>LIMIT</span> <span class=mi>10</span>
</pre></div> <div class=codehilite><pre><span></span>┌─s──────────────┬───────c─┐
│                │ 2906259 │
│ www.yandex     │  867767 │
│ ███████.ru     │  313599 │
│ mail.yandex.ru │  107147 │
│ ██████.ru      │  100355 │
│ █████████.ru   │   65040 │
│ news.yandex.ru │   64515 │
│ ██████.net     │   59141 │
│ example.com    │   57316 │
└────────────────┴─────────┘
</pre></div> <h2 id=formatreadablesize-x>formatReadableSize(x)<a class=headerlink href=#formatreadablesize-x title="Permanent link">&para;</a></h2> <p>Принимает размер (число байт). Возвращает округленный размер с суффиксом (KiB, MiB и т.д.) в виде строки.</p> <p>Пример:</p> <div class=codehilite><pre><span></span><span class=k>SELECT</span>
    <span class=n>arrayJoin</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>1024</span><span class=p>,</span> <span class=mi>1024</span><span class=o>*</span><span class=mi>1024</span><span class=p>,</span> <span class=mi>192851925</span><span class=p>])</span> <span class=k>AS</span> <span class=n>filesize_bytes</span><span class=p>,</span>
    <span class=n>formatReadableSize</span><span class=p>(</span><span class=n>filesize_bytes</span><span class=p>)</span> <span class=k>AS</span> <span class=n>filesize</span>
</pre></div> <div class=codehilite><pre><span></span>┌─filesize_bytes─┬─filesize───┐
│              1 │ 1.00 B     │
│           1024 │ 1.00 KiB   │
│        1048576 │ 1.00 MiB   │
│      192851925 │ 183.92 MiB │
└────────────────┴────────────┘
</pre></div> <h2 id=least-a-b>least(a, b)<a class=headerlink href=#least-a-b title="Permanent link">&para;</a></h2> <p>Возвращает наименьшее значение из a и b.</p> <h2 id=greatest-a-b>greatest(a, b)<a class=headerlink href=#greatest-a-b title="Permanent link">&para;</a></h2> <p>Возвращает наибольшее значение из a и b.</p> <h2 id=uptime>uptime()<a class=headerlink href=#uptime title="Permanent link">&para;</a></h2> <p>Возвращает аптайм сервера в секундах.</p> <h2 id=version>version()<a class=headerlink href=#version title="Permanent link">&para;</a></h2> <p>Возвращает версию сервера в виде строки.</p> <h2 id=function-rownumberinblock>rowNumberInBlock<a class=headerlink href=#function-rownumberinblock title="Permanent link">&para;</a></h2> <p>Возвращает порядковый номер строки в блоке данных. Для каждого блока данных нумерация начинается с 0.</p> <h2 id=rownumberinallblocks>rowNumberInAllBlocks()<a class=headerlink href=#rownumberinallblocks title="Permanent link">&para;</a></h2> <p>Возвращает порядковый номер строки в блоке данных. Функция учитывает только задействованные блоки данных.</p> <h2 id=neighbor-column-offset-91-default-value-93>neighbor(column, offset[, default_value])<a class=headerlink href=#neighbor-column-offset-91-default-value-93 title="Permanent link">&para;</a></h2> <p>Функция позволяет получить доступ к значению в колонке <code>column</code>, находящемуся на смещении <code>offset</code> относительно текущей строки. Является частичной реализацией <a href=https://en.wikipedia.org/wiki/SQL_window_function rel="external nofollow">оконных функций</a> LEAD() и LAG().</p> <p>Результат функции зависит от затронутых блоков данных и порядка данных в блоке. Если сделать подзапрос с ORDER BY и вызывать функцию извне подзапроса, можно будет получить ожидаемый результат.</p> <p>Если значение <code>offset</code> выходит за пределы блока данных, то берётся значение по-умолчанию для колонки <code>column</code>. Если передан параметр <code>default_value</code>, то значение берётся из него. Например, эта функция может использоваться чтобы оценить year-over-year значение показателя:</p> <div class=codehilite><pre><span></span><span class=k>WITH</span> <span class=n>toDate</span><span class=p>(</span><span class=s1>&#39;2018-01-01&#39;</span><span class=p>)</span> <span class=k>AS</span> <span class=n>start_date</span>
<span class=k>SELECT</span>
    <span class=n>toStartOfMonth</span><span class=p>(</span><span class=n>start_date</span> <span class=o>+</span> <span class=p>(</span><span class=nb>number</span> <span class=o>*</span> <span class=mi>32</span><span class=p>))</span> <span class=k>AS</span> <span class=k>month</span><span class=p>,</span>
    <span class=n>toInt32</span><span class=p>(</span><span class=k>month</span><span class=p>)</span> <span class=o>%</span> <span class=mi>100</span> <span class=k>AS</span> <span class=n>money</span><span class=p>,</span>
    <span class=n>neighbor</span><span class=p>(</span><span class=n>money</span><span class=p>,</span> <span class=o>-</span><span class=mi>12</span><span class=p>)</span> <span class=k>AS</span> <span class=n>prev_year</span><span class=p>,</span>
    <span class=n>round</span><span class=p>(</span><span class=n>prev_year</span> <span class=o>/</span> <span class=n>money</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span> <span class=k>AS</span> <span class=n>year_over_year</span>
<span class=k>FROM</span> <span class=n>numbers</span><span class=p>(</span><span class=mi>16</span><span class=p>)</span>
</pre></div> <div class=codehilite><pre><span></span>┌──────month─┬─money─┬─prev_year─┬─year_over_year─┐
│ 2018-01-01 │    32 │         0 │              0 │
│ 2018-02-01 │    63 │         0 │              0 │
│ 2018-03-01 │    91 │         0 │              0 │
│ 2018-04-01 │    22 │         0 │              0 │
│ 2018-05-01 │    52 │         0 │              0 │
│ 2018-06-01 │    83 │         0 │              0 │
│ 2018-07-01 │    13 │         0 │              0 │
│ 2018-08-01 │    44 │         0 │              0 │
│ 2018-09-01 │    75 │         0 │              0 │
│ 2018-10-01 │     5 │         0 │              0 │
│ 2018-11-01 │    36 │         0 │              0 │
│ 2018-12-01 │    66 │         0 │              0 │
│ 2019-01-01 │    97 │        32 │           0.33 │
│ 2019-02-01 │    28 │        63 │           2.25 │
│ 2019-03-01 │    56 │        91 │           1.62 │
│ 2019-04-01 │    87 │        22 │           0.25 │
└────────────┴───────┴───────────┴────────────────┘
</pre></div> <h2 id=runningdifference-x>runningDifference(x)<a class=headerlink href=#runningdifference-x title="Permanent link">&para;</a></h2> <p>Считает разницу между последовательными значениями строк в блоке данных. Возвращает 0 для первой строки и разницу с предыдущей строкой для каждой последующей строки.</p> <p>Результат функции зависит от затронутых блоков данных и порядка данных в блоке. Если сделать подзапрос с ORDER BY и вызывать функцию извне подзапроса, можно будет получить ожидаемый результат.</p> <p>Пример:</p> <div class=codehilite><pre><span></span><span class=k>SELECT</span>
    <span class=n>EventID</span><span class=p>,</span>
    <span class=n>EventTime</span><span class=p>,</span>
    <span class=n>runningDifference</span><span class=p>(</span><span class=n>EventTime</span><span class=p>)</span> <span class=k>AS</span> <span class=n>delta</span>
<span class=k>FROM</span>
<span class=p>(</span>
    <span class=k>SELECT</span>
        <span class=n>EventID</span><span class=p>,</span>
        <span class=n>EventTime</span>
    <span class=k>FROM</span> <span class=n>events</span>
    <span class=k>WHERE</span> <span class=n>EventDate</span> <span class=o>=</span> <span class=s1>&#39;2016-11-24&#39;</span>
    <span class=k>ORDER</span> <span class=k>BY</span> <span class=n>EventTime</span> <span class=k>ASC</span>
    <span class=k>LIMIT</span> <span class=mi>5</span>
<span class=p>)</span>
</pre></div> <div class=codehilite><pre><span></span>┌─EventID─┬───────────EventTime─┬─delta─┐
│    1106 │ 2016-11-24 00:00:04 │     0 │
│    1107 │ 2016-11-24 00:00:05 │     1 │
│    1108 │ 2016-11-24 00:00:05 │     0 │
│    1109 │ 2016-11-24 00:00:09 │     4 │
│    1110 │ 2016-11-24 00:00:10 │     1 │
└─────────┴─────────────────────┴───────┘
</pre></div> <p>Обратите внимание — размер блока влияет на результат. С каждым новым блоком состояние <code>runningDifference</code> сбрасывается.</p> <div class=codehilite><pre><span></span><span class=k>SELECT</span>
    <span class=nb>number</span><span class=p>,</span>
    <span class=n>runningDifference</span><span class=p>(</span><span class=nb>number</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span> <span class=k>AS</span> <span class=n>diff</span>
<span class=k>FROM</span> <span class=n>numbers</span><span class=p>(</span><span class=mi>100000</span><span class=p>)</span>
<span class=k>WHERE</span> <span class=n>diff</span> <span class=o>!=</span> <span class=mi>1</span>
</pre></div> <div class=codehilite><pre><span></span>┌─number─┬─diff─┐
│      0 │    0 │
└────────┴──────┘
┌─number─┬─diff─┐
│  65536 │    0 │
└────────┴──────┘
</pre></div> <div class=codehilite><pre><span></span>set max_block_size=100000 -- по умолчанию 65536!

SELECT
    number,
    runningDifference(number + 1) AS diff
FROM numbers(100000)
WHERE diff != 1
</pre></div> <div class=codehilite><pre><span></span>┌─number─┬─diff─┐
│      0 │    0 │
└────────┴──────┘
</pre></div> <h2 id=runningdifferencestartingwithfirstvalue>runningDifferenceStartingWithFirstValue<a class=headerlink href=#runningdifferencestartingwithfirstvalue title="Permanent link">&para;</a></h2> <p>То же, что и [runningDifference] (./other_functions.md # other_functions-runningdifference), но в первой строке возвращается значение первой строки, а не ноль.</p> <h2 id=macnumtostring-num>MACNumToString(num)<a class=headerlink href=#macnumtostring-num title="Permanent link">&para;</a></h2> <p>Принимает число типа UInt64. Интерпретирует его, как MAC-адрес в big endian. Возвращает строку, содержащую соответствующий MAC-адрес в формате AA:BB:CC:DD:EE:FF (числа в шестнадцатеричной форме через двоеточие).</p> <h2 id=macstringtonum-s>MACStringToNum(s)<a class=headerlink href=#macstringtonum-s title="Permanent link">&para;</a></h2> <p>Функция, обратная к MACNumToString. Если MAC адрес в неправильном формате, то возвращает 0.</p> <h2 id=macstringtooui-s>MACStringToOUI(s)<a class=headerlink href=#macstringtooui-s title="Permanent link">&para;</a></h2> <p>Принимает MAC адрес в формате AA:BB:CC:DD:EE:FF (числа в шестнадцатеричной форме через двоеточие). Возвращает первые три октета как число в формате UInt64. Если MAC адрес в неправильном формате, то возвращает 0.</p> <h2 id=getsizeofenumtype>getSizeOfEnumType<a class=headerlink href=#getsizeofenumtype title="Permanent link">&para;</a></h2> <p>Возвращает количество полей в <a href=../../../data_types/enum/ >Enum</a>.</p> <div class=codehilite><pre><span></span><span class=n>getSizeOfEnumType</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</pre></div> <p><strong>Параметры</strong></p> <ul> <li><code>value</code> — Значение типа <code>Enum</code>.</li> </ul> <p><strong>Возвращаемые значения</strong></p> <ul> <li>Количество полей входного значения типа <code>Enum</code>.</li> <li>Исключение, если тип не <code>Enum</code>.</li> </ul> <p><strong>Пример</strong></p> <div class=codehilite><pre><span></span><span class=k>SELECT</span> <span class=n>getSizeOfEnumType</span><span class=p>(</span> <span class=k>CAST</span><span class=p>(</span><span class=s1>&#39;a&#39;</span> <span class=k>AS</span> <span class=n>Enum8</span><span class=p>(</span><span class=s1>&#39;a&#39;</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=s1>&#39;b&#39;</span> <span class=o>=</span> <span class=mi>2</span><span class=p>)</span> <span class=p>)</span> <span class=p>)</span> <span class=k>AS</span> <span class=n>x</span>
</pre></div> <div class=codehilite><pre><span></span>┌─x─┐
│ 2 │
└───┘
</pre></div> <h2 id=tocolumntypename>toColumnTypeName<a class=headerlink href=#tocolumntypename title="Permanent link">&para;</a></h2> <p>Возвращает имя класса, которым представлен тип данных столбца в оперативной памяти.</p> <div class=codehilite><pre><span></span><span class=n>toColumnTypeName</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</pre></div> <p><strong>Параметры</strong></p> <ul> <li><code>value</code> — Значение произвольного типа.</li> </ul> <p><strong>Возвращаемые значения</strong></p> <ul> <li>Строка с именем класса, который используется для представления типа данных <code>value</code> в оперативной памяти.</li> </ul> <p><strong>Пример разницы между <code>toTypeName</code> и <code>toColumnTypeName</code></strong></p> <div class=codehilite><pre><span></span><span class=k>SELECT</span> <span class=n>toTypeName</span><span class=p>(</span><span class=k>CAST</span><span class=p>(</span><span class=s1>&#39;2018-01-01 01:02:03&#39;</span> <span class=k>AS</span> <span class=n>DateTime</span><span class=p>))</span>
</pre></div> <div class=codehilite><pre><span></span>┌─toTypeName(CAST(&#39;2018-01-01 01:02:03&#39;, &#39;DateTime&#39;))─┐
│ DateTime                                            │
└─────────────────────────────────────────────────────┘
</pre></div> <div class=codehilite><pre><span></span><span class=k>SELECT</span> <span class=n>toColumnTypeName</span><span class=p>(</span><span class=k>CAST</span><span class=p>(</span><span class=s1>&#39;2018-01-01 01:02:03&#39;</span> <span class=k>AS</span> <span class=n>DateTime</span><span class=p>))</span>
</pre></div> <div class=codehilite><pre><span></span>┌─toColumnTypeName(CAST(&#39;2018-01-01 01:02:03&#39;, &#39;DateTime&#39;))─┐
│ Const(UInt32)                                             │
└───────────────────────────────────────────────────────────┘
</pre></div> <p>В примере видно, что тип данных <code>DateTime</code> хранится в памяти как <code>Const(UInt32)</code>.</p> <h2 id=dumpcolumnstructure>dumpColumnStructure<a class=headerlink href=#dumpcolumnstructure title="Permanent link">&para;</a></h2> <p>Выводит развернутое описание структур данных в оперативной памяти</p> <div class=codehilite><pre><span></span><span class=n>dumpColumnStructure</span><span class=p>(</span><span class=n>value</span><span class=p>)</span>
</pre></div> <p><strong>Параметры</strong></p> <ul> <li><code>value</code> — Значение произвольного типа.</li> </ul> <p><strong>Возвращаемые значения</strong></p> <ul> <li>Строка с описанием структуры, которая используется для представления типа данных <code>value</code> в оперативной памяти.</li> </ul> <p><strong>Пример</strong></p> <div class=codehilite><pre><span></span><span class=k>SELECT</span> <span class=n>dumpColumnStructure</span><span class=p>(</span><span class=k>CAST</span><span class=p>(</span><span class=s1>&#39;2018-01-01 01:02:03&#39;</span><span class=p>,</span> <span class=s1>&#39;DateTime&#39;</span><span class=p>))</span>
</pre></div> <div class=codehilite><pre><span></span>┌─dumpColumnStructure(CAST(&#39;2018-01-01 01:02:03&#39;, &#39;DateTime&#39;))─┐
│ DateTime, Const(size = 1, UInt32(size = 1))                  │
└──────────────────────────────────────────────────────────────┘
</pre></div> <h2 id=defaultvalueofargumenttype>defaultValueOfArgumentType<a class=headerlink href=#defaultvalueofargumenttype title="Permanent link">&para;</a></h2> <p>Выводит значение по умолчанию для типа данных.</p> <p>Не учитывает значения по умолчанию для столбцов, заданные пользователем.</p> <div class=codehilite><pre><span></span><span class=n>defaultValueOfArgumentType</span><span class=p>(</span><span class=n>expression</span><span class=p>)</span>
</pre></div> <p><strong>Параметры</strong></p> <ul> <li><code>expression</code> — Значение произвольного типа или выражение, результатом которого является значение произвольного типа.</li> </ul> <p><strong>Возвращаемые значения</strong></p> <ul> <li><code>0</code> для чисел;</li> <li>Пустая строка для строк;</li> <li><code>ᴺᵁᴸᴸ</code> для <a href=../../../data_types/nullable/ >Nullable</a>.</li> </ul> <p><strong>Пример</strong></p> <div class=codehilite><pre><span></span><span class=k>SELECT</span> <span class=n>defaultValueOfArgumentType</span><span class=p>(</span> <span class=k>CAST</span><span class=p>(</span><span class=mi>1</span> <span class=k>AS</span> <span class=nb>Int8</span><span class=p>)</span> <span class=p>)</span>
</pre></div> <div class=codehilite><pre><span></span>┌─defaultValueOfArgumentType(CAST(1, &#39;Int8&#39;))─┐
│                                           0 │
└─────────────────────────────────────────────┘
</pre></div> <div class=codehilite><pre><span></span><span class=k>SELECT</span> <span class=n>defaultValueOfArgumentType</span><span class=p>(</span> <span class=k>CAST</span><span class=p>(</span><span class=mi>1</span> <span class=k>AS</span> <span class=k>Nullable</span><span class=p>(</span><span class=nb>Int8</span><span class=p>)</span> <span class=p>)</span> <span class=p>)</span>
</pre></div> <div class=codehilite><pre><span></span>┌─defaultValueOfArgumentType(CAST(1, &#39;Nullable(Int8)&#39;))─┐
│                                                  ᴺᵁᴸᴸ │
└───────────────────────────────────────────────────────┘
</pre></div> <h2 id=indexhint>indexHint<a class=headerlink href=#indexhint title="Permanent link">&para;</a></h2> <p>Выводит данные, попавшие в диапазон, выбранный по индексу без фильтрации по указанному в качестве аргумента выражению.</p> <p>Переданное в функцию выражение не вычисляется, но при этом ClickHouse применяет к этому выражению индекс таким же образом, как если бы выражение участвовало в запросе без <code>indexHint</code>.</p> <p><strong>Возвращаемое значение</strong></p> <ul> <li>1.</li> </ul> <p><strong>Пример</strong></p> <p>Рассмотрим таблицу с тестовыми данными <a href=../../../getting_started/example_datasets/ontime/ >ontime</a>.</p> <div class=codehilite><pre><span></span><span class=k>SELECT</span> <span class=k>count</span><span class=p>()</span> <span class=k>FROM</span> <span class=n>ontime</span>
</pre></div> <div class=codehilite><pre><span></span>┌─count()─┐
│ 4276457 │
└─────────┘
</pre></div> <p>В таблице есть индексы по полям <code>(FlightDate, (Year, FlightDate))</code>.</p> <p>Выполним выборку по дате следующим образом:</p> <div class=codehilite><pre><span></span><span class=k>SELECT</span> <span class=n>FlightDate</span> <span class=k>AS</span> <span class=n>k</span><span class=p>,</span> <span class=k>count</span><span class=p>()</span> <span class=k>FROM</span> <span class=n>ontime</span> <span class=k>GROUP</span> <span class=k>BY</span> <span class=n>k</span> <span class=k>ORDER</span> <span class=k>BY</span> <span class=n>k</span>
</pre></div> <div class=codehilite><pre><span></span>┌──────────k─┬─count()─┐
│ 2017-01-01 │   13970 │
│ 2017-01-02 │   15882 │
........................
│ 2017-09-28 │   16411 │
│ 2017-09-29 │   16384 │
│ 2017-09-30 │   12520 │
└────────────┴─────────┘
</pre></div> <p>В этой выборке индекс не используется и ClickHouse обработал всю таблицу (<code>Processed 4.28 million rows</code>). Для подключения индекса выберем конкретную дату и выполним следующий запрос:</p> <div class=codehilite><pre><span></span><span class=k>SELECT</span> <span class=n>FlightDate</span> <span class=k>AS</span> <span class=n>k</span><span class=p>,</span> <span class=k>count</span><span class=p>()</span> <span class=k>FROM</span> <span class=n>ontime</span> <span class=k>WHERE</span> <span class=n>k</span> <span class=o>=</span> <span class=s1>&#39;2017-09-15&#39;</span> <span class=k>GROUP</span> <span class=k>BY</span> <span class=n>k</span> <span class=k>ORDER</span> <span class=k>BY</span> <span class=n>k</span>
</pre></div> <div class=codehilite><pre><span></span>┌──────────k─┬─count()─┐
│ 2017-09-15 │   16428 │
└────────────┴─────────┘
</pre></div> <p>В последней строке выдачи видно, что благодаря использованию индекса, ClickHouse обработал значительно меньшее количество строк (<code>Processed 32.74 thousand rows</code>).</p> <p>Теперь передадим выражение <code>k = '2017-09-15'</code> в функцию <code>indexHint</code>:</p> <div class=codehilite><pre><span></span><span class=k>SELECT</span>
    <span class=n>FlightDate</span> <span class=k>AS</span> <span class=n>k</span><span class=p>,</span>
    <span class=k>count</span><span class=p>()</span>
<span class=k>FROM</span> <span class=n>ontime</span>
<span class=k>WHERE</span> <span class=n>indexHint</span><span class=p>(</span><span class=n>k</span> <span class=o>=</span> <span class=s1>&#39;2017-09-15&#39;</span><span class=p>)</span>
<span class=k>GROUP</span> <span class=k>BY</span> <span class=n>k</span>
<span class=k>ORDER</span> <span class=k>BY</span> <span class=n>k</span> <span class=k>ASC</span>
</pre></div> <div class=codehilite><pre><span></span>┌──────────k─┬─count()─┐
│ 2017-09-14 │    7071 │
│ 2017-09-15 │   16428 │
│ 2017-09-16 │    1077 │
│ 2017-09-30 │    8167 │
└────────────┴─────────┘
</pre></div> <p>В ответе на запрос видно, что ClickHouse применил индекс таким же образом, что и в предыдущий раз (<code>Processed 32.74 thousand rows</code>). Однако по результирующему набору строк видно, что выражение <code>k = '2017-09-15'</code> не использовалось при формировании результата.</p> <p>Поскольку индекс в ClickHouse разреженный, то при чтении диапазона в ответ попадают "лишние" данные, в данном случае соседние даты. Функция <code>indexHint</code> позволяет их увидеть.</p> <h2 id=replicate>replicate<a class=headerlink href=#replicate title="Permanent link">&para;</a></h2> <p>Создает массив, заполненный одним значением.</p> <p>Используется для внутренней реализации <a href=../array_join/#functions_arrayjoin>arrayJoin</a>.</p> <div class=codehilite><pre><span></span><span class=n>replicate</span><span class=p>(</span><span class=n>x</span><span class=p>,</span> <span class=n>arr</span><span class=p>)</span>
</pre></div> <p><strong>Параметры</strong></p> <ul> <li><code>arr</code> — Исходный массив. ClickHouse создаёт новый массив такой же длины как исходный и заполняет его значением <code>x</code>.</li> <li><code>x</code> — Значение, которым будет заполнен результирующий массив.</li> </ul> <p><strong>Выходное значение</strong></p> <ul> <li>Массив, заполненный значением <code>x</code>.</li> </ul> <p><strong>Пример</strong></p> <div class=codehilite><pre><span></span><span class=k>SELECT</span> <span class=n>replicate</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;a&#39;</span><span class=p>,</span> <span class=s1>&#39;b&#39;</span><span class=p>,</span> <span class=s1>&#39;c&#39;</span><span class=p>])</span>
</pre></div> <div class=codehilite><pre><span></span>┌─replicate(1, [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;])─┐
│ [1,1,1]                       │
└───────────────────────────────┘
</pre></div> <h2 id=function-filesystemavailable>filesystemAvailable<a class=headerlink href=#function-filesystemavailable title="Permanent link">&para;</a></h2> <p>Возвращает объем оставшегося места в файловой системе, в которой расположены файлы баз данных. Смотрите описание конфигурационного параметра сервера <a href=../../../operations/server_settings/settings/#server_settings-path>path</a>.</p> <div class=codehilite><pre><span></span><span class=n>filesystemAvailable</span><span class=p>()</span>
</pre></div> <p><strong>Возвращаемое значение</strong></p> <ul> <li>Объем свободного места.</li> </ul> <p>Тип — <a href=../../../data_types/int_uint/ >UInt64</a>.</p> <p><strong>Пример</strong></p> <div class=codehilite><pre><span></span><span class=k>SELECT</span> <span class=n>filesystemAvailable</span><span class=p>()</span> <span class=k>AS</span> <span class=ss>&quot;Free space&quot;</span><span class=p>,</span> <span class=n>toTypeName</span><span class=p>(</span><span class=n>filesystemAvailable</span><span class=p>())</span> <span class=k>AS</span> <span class=ss>&quot;Type&quot;</span>
</pre></div> <div class=codehilite><pre><span></span>┌──Free space─┬─Type───┐
│ 18152624128 │ UInt64 │
└─────────────┴────────┘
</pre></div> <h2 id=filesystemcapacity>filesystemCapacity<a class=headerlink href=#filesystemcapacity title="Permanent link">&para;</a></h2> <p>Возвращает данные о ёмкости диска.</p> <h2 id=function-finalizeaggregation>finalizeAggregation<a class=headerlink href=#function-finalizeaggregation title="Permanent link">&para;</a></h2> <p>Принимает состояние агрегатной функции. Возвращает результат агрегирования.</p> <h2 id=function-runningaccumulate>runningAccumulate<a class=headerlink href=#function-runningaccumulate title="Permanent link">&para;</a></h2> <p>Принимает на вход состояния агрегатной функции и возвращает столбец со значениями, которые представляют собой результат мёржа этих состояний для выборки строк из блока от первой до текущей строки. Например, принимает состояние агрегатной функции (например, <code>runningAccumulate(uniqState(UserID))</code>), и для каждой строки блока возвращает результат агрегатной функции после мёржа состояний функции для всех предыдущих строк и текущей. Таким образом, результат зависит от разбиения данных по блокам и от порядка данных в блоке.</p> <h2 id=other_functions-joinget>joinGet('join_storage_table_name', 'get_column', join_key)<a class=headerlink href=#other_functions-joinget title="Permanent link">&para;</a></h2> <p>Получает данные из таблиц <a href=../../../operations/table_engines/join/ >Join</a> по ключу.</p> <p>Поддержаны только таблицы, созданные запросом с <code>ENGINE = Join(ANY, LEFT, &lt;join_keys&gt;)</code>.</p> <h2 id=modelevaluate-model-name>modelEvaluate(model_name, ...)<a class=headerlink href=#modelevaluate-model-name title="Permanent link">&para;</a></h2> <p>Вычислить модель. Принимает имя модели и аргументы модели. Возвращает Float64.</p> <h2 id=throwif-x-91-custom-message-93>throwIf(x[, custom_message])<a class=headerlink href=#throwif-x-91-custom-message-93 title="Permanent link">&para;</a></h2> <p>Бросает исключение, если аргумент не равен нулю. custom_message - необязательный параметр, константная строка, задает текст сообщения об ошибке.</p> <div class=codehilite><pre><span></span><span class=k>SELECT</span> <span class=n>throwIf</span><span class=p>(</span><span class=nb>number</span> <span class=o>=</span> <span class=mi>3</span><span class=p>,</span> <span class=s1>&#39;Too many&#39;</span><span class=p>)</span> <span class=k>FROM</span> <span class=n>numbers</span><span class=p>(</span><span class=mi>10</span><span class=p>);</span>
</pre></div> <div class=codehilite><pre><span></span>↙ Progress: 0.00 rows, 0.00 B (0.00 rows/s., 0.00 B/s.) Received exception from server (version 19.14.1):
Code: 395. DB::Exception: Received from localhost:9000. DB::Exception: Too many.
</pre></div> <h2 id=identity>identity()<a class=headerlink href=#identity title="Permanent link">&para;</a></h2> <p>Возвращает то же значение, которое использовалось в качестве аргумента.</p> <div class=codehilite><pre><span></span><span class=k>SELECT</span> <span class=k>identity</span><span class=p>(</span><span class=mi>42</span><span class=p>)</span>
</pre></div> <div class=codehilite><pre><span></span>┌─identity(42)─┐
│           42 │
└──────────────┘
</pre></div> <p>Используется для отладки и тестирования, позволяет "сломать" доступ по индексу, и получить результат и производительность запроса для полного сканирования.</p> </div> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid"> <a href=../../../query_language/functions/machine_learning_functions/ title="Функции машинного обучения" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i> </div> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis> <span class=md-footer-nav__direction> Назад </span> Функции машинного обучения </span> </div> </a> <a href=../../../query_language/agg_functions/ title=Введение class="md-flex md-footer-nav__link md-footer-nav__link--next" rel=next> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis> <span class=md-footer-nav__direction> Вперед </span> Введение </span> </div> <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> ©2016–2020 Yandex LLC </div> </div> </div> </div> </footer> </div> <script src=../../../assets/javascripts/modernizr.js></script> <script src=../../../assets/javascripts/application.js></script> <script src=../../../assets/javascripts/lunr/lunr.stemmer.support.js></script> <script src=../../../assets/javascripts/lunr/lunr.ru.js></script> <script src=../../../assets/javascripts/lunr/lunr.multi.js></script> <script type=text/javascript>
      function ready(callback){
          if (document.readyState != 'loading') {
              callback();
          } else if (document.addEventListener) {
              document.addEventListener('DOMContentLoaded', callback);
          } else document.attachEvent('onreadystatechange', function() {
              if (document.readyState == 'complete') {
                  callback();
              }
          });
      }
      ready(function () {
          var i;
          
          app.initialize({
              version: "1.0.4",
              url: {
                  base: "../../.."
              }
          });
          var beforePrint = function() {
            var details = document.getElementsByTagName("details");
            for (i = 0; i < details.length; ++i) {
                details[i].open = 1;
            }
          };
          if (window.matchMedia) {
              window.matchMedia('print').addListener(function(q) {
                  if (q.matches) {
                      beforePrint();
                  }
              });
          }
          window.onbeforeprint = beforePrint;

          var name = window.location.hostname.split('.')[0];
          var feedback_address = name + '-feedback' + '@yandex-team.ru';
          var feedback_email = document.getElementsByClassName('feedback-email');
          for (i = 0; i < feedback_email.length; i++) {
            feedback_email[i].setAttribute('href', 'mailto:' + feedback_address);
            feedback_email[i].innerHTML = feedback_address;
          }

          document.getElementById("releases-selector").addEventListener(
            "change",
            function() {
              var target = window.location.href.split('docs')[0] + 'docs/';
              if (this.value) {
                target = target + this.value + '/';
              }
              window.location = target + 'ru';
            }
          )
      });
    </script> <script type=text/javascript src=https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js></script> <script type=text/javascript> docsearch({
apiKey: 'e239649803024433599de47a53b2d416',
indexName: 'yandex_clickhouse',
inputSelector: '#md-search__input',
algoliaOptions: {
  advancedSyntax: true,
  clickAnalytics: true,
  hitsPerPage: 25,
  'facetFilters': ["lang:ru"]
},
debug: false
});
</script> <!-- Yandex.Metrika counter --> <script type=text/javascript>
        (function (d, w, c) {
            (w[c] = w[c] || []).push(function() {
                try {
                    w.yaCounter18343495 = new Ya.Metrika2({
                        id:18343495,
                        clickmap:true,
                        trackLinks:true,
                        accurateTrackBounce:true,
                        webvisor: true
                    });
                } catch(e) { }
            });
            var n = d.getElementsByTagName("script")[0],
                s = d.createElement("script"),
                f = function () { n.parentNode.insertBefore(s, n); };
            s.type = "text/javascript";
            s.async = true;
            s.src = "https://mc.yandex.ru/metrika/tag.js";
            if (w.opera == "[object Opera]") {
                d.addEventListener("DOMContentLoaded", f, false);
            } else { f(); }
        })(document, window, "yandex_metrika_callbacks2");
    </script> <noscript> <div><img src=https://mc.yandex.ru/watch/18343495 style="position:absolute; left:-9999px;" alt></div> </noscript> <!-- /Yandex.Metrika counter --> </body> </html>