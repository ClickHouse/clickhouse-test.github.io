<!DOCTYPE html><html lang=zh class=no-js data-version=v19.17 data-single-page=false> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><link href=https://clickhouse.yandex/docs/zh/query_language/functions/other_functions/ rel=canonical><meta name=lang:clipboard.copy content=复制><meta name=lang:clipboard.copied content=已复制><meta name=lang:search.language content=zh><meta name=lang:search.pipeline.stopwords content><meta name=lang:search.pipeline.trimmer content><meta name=lang:search.result.none content=没有找到符合条件的结果><meta name=lang:search.result.one content="找到 1 个符合条件的结果"><meta name=lang:search.result.other content="# 个符合条件的结果"><meta name=lang:search.tokenizer content=[\uff0c\u3002]+><link rel="shortcut icon" href=../../../assets/images/favicon.ico><title>其他函数 - ClickHouse文档 v19.17</title><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css><link rel=stylesheet href=../../../assets/stylesheets/application.2a88008a.css><link rel=stylesheet href=../../../assets/stylesheets/application-palette.792431c1.css><link rel=stylesheet href="https://fonts.googleapis.com/icon?family=Material+Icons"><link rel=stylesheet href=../../../assets/stylesheets/custom.css?1582323428></head> <body dir=ltr data-md-color-primary=white data-md-color-accent=white class=md-lang-zh> <svg class=md-svg> <defs> <svg xmlns=http://www.w3.org/2000/svg width=416 height=448 viewbox="0 0 416 448" id=github><path fill=currentColor d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg> </defs> </svg> <input class=md-toggle data-md-toggle=drawer type=checkbox id=drawer> <input class=md-toggle data-md-toggle=search type=checkbox id=search> <label class=md-overlay data-md-component=overlay for=drawer></label> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid"> <div class=md-flex> <div class="md-flex__cell md-flex__cell--shrink"> <a href=/ title="ClickHouse文档 v19.17" class="md-header-nav__button md-logo"> <img src=../../../images/logo.svg width=40 height=40> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=drawer></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title> <span class=md-header-nav__topic> ClickHouse文档 v19.17 </span> <span class=md-header-nav__topic> 其他函数 </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--search md-header-nav__button" for=search></label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=search></label> <div class=md-search__inner> <form class=md-search__form name=search> <input type=text id=md-search__input class=md-search__input name=query required placeholder=搜索 autocapitalize=off autocorrect=off autocomplete=off spellcheck=false> <label class="md-icon md-search__icon" for=search></label> <button type=reset class="md-icon md-search__icon" data-md-component=reset>&#xE5CD;</button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=result> <div class=md-search-result__meta> 键入以开始搜索 </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <div id=md-language-switch class=md-header-nav__source> <a class=md-alt-lang href=../../../../en/query_language/functions/other_functions/ class="md-flex__ellipsis md-header-nav__title" title=English> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 60 30" preserveaspectratio=none> <clippath id=t> <path d="M30,15 h30 v15 z v15 h-30 z h-30 v-15 z v-15 h30 z"/> </clippath> <path fill=#00247d d="M0,0 v30 h60 v-30 z"/> <path stroke=#fff stroke-width=6 d="M0,0 L60,30 M60,0 L0,30"/> <path clip-path=url(#t) stroke=#cf142b stroke-width=4 d="M0,0 L60,30 M60,0 L0,30"/> <path stroke=#fff stroke-width=10 d="M30,0 v30 M0,15 h60"/> <path stroke=#cf142b stroke-width=6 d="M30,0 v30 M0,15 h60"/> </svg> </a> <a class=md-alt-lang href=../../../../ru/query_language/functions/other_functions/ class="md-flex__ellipsis md-header-nav__title" title=Russian> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 9 6" preserveaspectratio=none> <rect fill=#fff width=9 height=3 /> <rect fill=#d52b1e y=3 width=9 height=3 /> <rect fill=#0039a6 y=2 width=9 height=2 /> </svg> </a> <a class="md-alt-lang md-current-lang" href=../../../../zh/query_language/functions/other_functions/ class="md-flex__ellipsis md-header-nav__title" title=Chinese> <svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink viewbox="0 0 30 20" preserveaspectratio=none> <defs> <path id=s fill=#ffde00 d="M0,-1 0.587785,0.809017 -0.951057,-0.309017H0.951057L-0.587785,0.809017z"/> </defs> <rect width=30 height=20 fill=#de2910 /> <use xlink:href=#s transform="translate(5,5) scale(3)"/> <use xlink:href=#s transform="translate(10,2) rotate(23.036243)"/> <use xlink:href=#s transform="translate(12,4) rotate(45.869898)"/> <use xlink:href=#s transform="translate(12,7) rotate(69.945396)"/> <use xlink:href=#s transform="translate(10,9) rotate(20.659808)"/> </svg> </a> <a class=md-alt-lang href=../../../../ja/query_language/functions/other_functions/ class="md-flex__ellipsis md-header-nav__title" title=Japanese> <?xml version="1.0" encoding="UTF-8"?> <svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink width=90px height=60px viewbox="0 0 90 60" version=1.1> <g id=surface1> <rect x=0 y=0 width=90 height=60 style=fill:rgb(62.7451%,62.7451%,62.7451%);fill-opacity:1;stroke:none; /> <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 0.601562 0.601562 L 89.398438 0.601562 L 89.398438 59.398438 L 0.601562 59.398438 Z M 0.601562 0.601562 "/> <path style=" stroke:none;fill-rule:nonzero;fill:rgb(74.509805%,0%,14.901961%);fill-opacity:1;" d="M 63 30 C 63 39.941406 54.941406 48 45 48 C 35.058594 48 27 39.941406 27 30 C 27 20.058594 35.058594 12 45 12 C 54.941406 12 63 20.058594 63 30 Z M 63 30 "/> </g> </svg> </a> <a class=md-alt-lang href=../../../../fa/query_language/functions/other_functions/ class="md-flex__ellipsis md-header-nav__title" title=Farsi> <svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink viewbox="0 0 630 360" preserveaspectratio=none> <rect width=630 height=360 fill=#da0000 /> <rect width=630 height=240 fill=#fff /> <rect width=630 height=120 fill=#239f40 /> <g transform=translate(8.4,100.4)> <g id=tb4> <g id=tb1 fill=none stroke=#fff stroke-width=2> <path id=tbp1 d=M0,1H26M1,10V5H9V9H17V5H12M4,9H6M26,9H21V5H29M29,0V9H37V0M33,0V9 transform=scale(1.4) /> <path id=tbp2 d=M0,7H9M10,7H19 transform=scale(2.8) /> <use xlink:href=#tbp2 y=120 /> <use xlink:href=#tbp1 y=145.2 /> </g> <g id=tb3> <use xlink:href=#tb1 x=56 /> <use xlink:href=#tb1 x=112 /> <use xlink:href=#tb1 x=168 /> </g> </g> <use xlink:href=#tb3 x=168 /> <use xlink:href=#tb4 x=392 /> </g> <g fill=#da0000 transform=matrix(45,0,0,45,315,180)> <g id=emblem_half> <path d="M-0.54815,0.83638A0.912046,0.912046 0 0,0 0.328544,-0.722384A1,1 0 0,1 -0.54815,0.83638"/> <path d="M0.618339,0.661409A0.763932,0.763932 0 0,0 0.421644,-0.741049A1,1 0 0,1 0.618339,0.661409"/> <path d="M0,1 -0.05,0 0,-0.787278A0.309995,0.309995 0 0,0 0.118034,-0.688191V-0.100406L0.077809,0.892905z"/> <path d="M-0.02,-0.85 0,-0.831217A0.14431,0.14431 0 0,0 0.252075,-0.967708A0.136408,0.136408 0 0,1 0,-0.924634"/> </g> <use xlink:href=#emblem_half transform=scale(-1,1) /> </g> </svg> </a> </div> </div> </div> </nav> </header> <div class=md-container> <main class=md-main> <div class="md-main__inner md-grid" data-md-component=container> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" data-md-level=0> <label class="md-nav__title md-nav__title--site" for=drawer> ClickHouse文档 v19.17 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-1 type=checkbox id=nav-1> <label class=md-nav__link for=nav-1> 介绍 </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-1> 介绍 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../ title=概貌 class=md-nav__link> 概貌 </a> </li> <li class=md-nav__item> <a href=../../../introduction/distinctive_features/ title=ClickHouse的独特功能 class=md-nav__link> ClickHouse的独特功能 </a> </li> <li class=md-nav__item> <a href=../../../introduction/features_considered_disadvantages/ title=ClickHouse功能可被视为缺点 class=md-nav__link> ClickHouse功能可被视为缺点 </a> </li> <li class=md-nav__item> <a href=../../../introduction/performance/ title=性能 class=md-nav__link> 性能 </a> </li> <li class=md-nav__item> <a href=../../../introduction/ya_metrika_task/ title=Yandex.Metrica使用案例 class=md-nav__link> Yandex.Metrica使用案例 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-2 type=checkbox id=nav-2> <label class=md-nav__link for=nav-2> 入门指南 </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-2> 入门指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../getting_started/ title=部署运行 class=md-nav__link> 部署运行 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-2-2 type=checkbox id=nav-2-2> <label class=md-nav__link for=nav-2-2> 示例数据集 </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-2-2> 示例数据集 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../getting_started/example_datasets/ontime/ title=航班飞行数据 class=md-nav__link> 航班飞行数据 </a> </li> <li class=md-nav__item> <a href=../../../getting_started/example_datasets/nyc_taxi/ title=纽约市出租车数据 class=md-nav__link> 纽约市出租车数据 </a> </li> <li class=md-nav__item> <a href=../../../getting_started/example_datasets/amplab_benchmark/ title=AMPLab大数据基准测试 class=md-nav__link> AMPLab大数据基准测试 </a> </li> <li class=md-nav__item> <a href=../../../getting_started/example_datasets/wikistat/ title=维基访问数据 class=md-nav__link> 维基访问数据 </a> </li> <li class=md-nav__item> <a href=../../../getting_started/example_datasets/criteo/ title="Criteo TB级别点击日志" class=md-nav__link> Criteo TB级别点击日志 </a> </li> <li class=md-nav__item> <a href=../../../getting_started/example_datasets/star_schema/ title="Star Schema基准测试" class=md-nav__link> Star Schema基准测试 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-3 type=checkbox id=nav-3> <label class=md-nav__link for=nav-3> 客户端 </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-3> 客户端 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../interfaces/ title=介绍 class=md-nav__link> 介绍 </a> </li> <li class=md-nav__item> <a href=../../../interfaces/cli/ title=命令行客户端接口 class=md-nav__link> 命令行客户端接口 </a> </li> <li class=md-nav__item> <a href=../../../interfaces/tcp/ title="原生客户端接口 (TCP)" class=md-nav__link> 原生客户端接口 (TCP) </a> </li> <li class=md-nav__item> <a href=../../../interfaces/http/ title="HTTP 客户端接口" class=md-nav__link> HTTP 客户端接口 </a> </li> <li class=md-nav__item> <a href=../../../interfaces/formats/ title=输入输出格式 class=md-nav__link> 输入输出格式 </a> </li> <li class=md-nav__item> <a href=../../../interfaces/jdbc/ title="JDBC 驱动" class=md-nav__link> JDBC 驱动 </a> </li> <li class=md-nav__item> <a href=../../../interfaces/odbc/ title="ODBC 驱动" class=md-nav__link> ODBC 驱动 </a> </li> <li class=md-nav__item> <a href=../../../interfaces/cpp/ title="C ++客户端库" class=md-nav__link> C ++客户端库 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-3-9 type=checkbox id=nav-3-9> <label class=md-nav__link for=nav-3-9> 第三方 </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-3-9> 第三方 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../interfaces/third-party/client_libraries/ title=客户端库 class=md-nav__link> 客户端库 </a> </li> <li class=md-nav__item> <a href=../../../interfaces/third-party/integrations/ title=集成 class=md-nav__link> 集成 </a> </li> <li class=md-nav__item> <a href=../../../interfaces/third-party/gui/ title=可视界面 class=md-nav__link> 可视界面 </a> </li> <li class=md-nav__item> <a href=../../../interfaces/third-party/proxy/ title=代理 class=md-nav__link> 代理 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4 type=checkbox id=nav-4> <label class=md-nav__link for=nav-4> 数据类型 </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-4> 数据类型 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../data_types/ title=介绍 class=md-nav__link> 介绍 </a> </li> <li class=md-nav__item> <a href=../../../data_types/int_uint/ title="UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64" class=md-nav__link> UInt8, UInt16, UInt32, UInt64, Int8, Int16, Int32, Int64 </a> </li> <li class=md-nav__item> <a href=../../../data_types/float/ title="Float32, Float64" class=md-nav__link> Float32, Float64 </a> </li> <li class=md-nav__item> <a href=../../../data_types/decimal/ title=Decimal class=md-nav__link> Decimal </a> </li> <li class=md-nav__item> <a href=../../../data_types/boolean/ title="Boolean values" class=md-nav__link> Boolean values </a> </li> <li class=md-nav__item> <a href=../../../data_types/string/ title=String class=md-nav__link> String </a> </li> <li class=md-nav__item> <a href=../../../data_types/fixedstring/ title=FixedString(N) class=md-nav__link> FixedString(N) </a> </li> <li class=md-nav__item> <a href=../../../data_types/uuid/ title=UUID class=md-nav__link> UUID </a> </li> <li class=md-nav__item> <a href=../../../data_types/date/ title=Date class=md-nav__link> Date </a> </li> <li class=md-nav__item> <a href=../../../data_types/datetime/ title=DateTime class=md-nav__link> DateTime </a> </li> <li class=md-nav__item> <a href=../../../data_types/enum/ title=Enum class=md-nav__link> Enum </a> </li> <li class=md-nav__item> <a href=../../../data_types/array/ title=Array(T) class=md-nav__link> Array(T) </a> </li> <li class=md-nav__item> <a href=../../../data_types/nested_data_structures/aggregatefunction/ title="AggregateFunction(name, types_of_arguments...)" class=md-nav__link> AggregateFunction(name, types_of_arguments...) </a> </li> <li class=md-nav__item> <a href=../../../data_types/tuple/ title="Tuple(T1, T2, ...)" class=md-nav__link> Tuple(T1, T2, ...) </a> </li> <li class=md-nav__item> <a href=../../../data_types/nullable/ title=Nullable class=md-nav__link> Nullable </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4-16 type=checkbox id=nav-4-16> <label class=md-nav__link for=nav-4-16> 嵌套数据结构 </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-4-16> 嵌套数据结构 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../data_types/nested_data_structures/nested/ title="Nested(Name1 Type1, Name2 Type2, ...)" class=md-nav__link> Nested(Name1 Type1, Name2 Type2, ...) </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4-17 type=checkbox id=nav-4-17> <label class=md-nav__link for=nav-4-17> 特殊数据类型 </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-4-17> 特殊数据类型 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../data_types/special_data_types/expression/ title=Expression class=md-nav__link> Expression </a> </li> <li class=md-nav__item> <a href=../../../data_types/special_data_types/set/ title=Set class=md-nav__link> Set </a> </li> <li class=md-nav__item> <a href=../../../data_types/special_data_types/nothing/ title=Nothing class=md-nav__link> Nothing </a> </li> <li class=md-nav__item> <a href=../../../data_types/special_data_types/interval/ title=Interval class=md-nav__link> Interval </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4-18 type=checkbox id=nav-4-18> <label class=md-nav__link for=nav-4-18> Domain类型 </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-4-18> Domain类型 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../data_types/domains/overview/ title=介绍 class=md-nav__link> 介绍 </a> </li> <li class=md-nav__item> <a href=../../../data_types/domains/ipv4/ title=IPv4 class=md-nav__link> IPv4 </a> </li> <li class=md-nav__item> <a href=../../../data_types/domains/ipv6/ title=IPv6 class=md-nav__link> IPv6 </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5 type=checkbox id=nav-5> <label class=md-nav__link for=nav-5> 数据库引擎 </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-5> 数据库引擎 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../database_engines/ title=介绍 class=md-nav__link> 介绍 </a> </li> <li class=md-nav__item> <a href=../../../database_engines/mysql/ title=MySQL class=md-nav__link> MySQL </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-6 type=checkbox id=nav-6> <label class=md-nav__link for=nav-6> 表引擎 </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-6> 表引擎 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../operations/table_engines/ title=介绍 class=md-nav__link> 介绍 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-6-2 type=checkbox id=nav-6-2> <label class=md-nav__link for=nav-6-2> MergeTree </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-6-2> MergeTree </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../operations/table_engines/mergetree/ title=MergeTree class=md-nav__link> MergeTree </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/replication/ title="Data Replication" class=md-nav__link> Data Replication </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/custom_partitioning_key/ title="Custom Partitioning Key" class=md-nav__link> Custom Partitioning Key </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/replacingmergetree/ title=ReplacingMergeTree class=md-nav__link> ReplacingMergeTree </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/summingmergetree/ title=SummingMergeTree class=md-nav__link> SummingMergeTree </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/aggregatingmergetree/ title=AggregatingMergeTree class=md-nav__link> AggregatingMergeTree </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/collapsingmergetree/ title=CollapsingMergeTree class=md-nav__link> CollapsingMergeTree </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/versionedcollapsingmergetree/ title=VersionedCollapsingMergeTree class=md-nav__link> VersionedCollapsingMergeTree </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/graphitemergetree/ title=GraphiteMergeTree class=md-nav__link> GraphiteMergeTree </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-6-3 type=checkbox id=nav-6-3> <label class=md-nav__link for=nav-6-3> Log </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-6-3> Log </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../operations/table_engines/log_family/ title=介绍 class=md-nav__link> 介绍 </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/stripelog/ title=StripeLog class=md-nav__link> StripeLog </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/log/ title=Log class=md-nav__link> Log </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/tinylog/ title=TinyLog class=md-nav__link> TinyLog </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-6-4 type=checkbox id=nav-6-4> <label class=md-nav__link for=nav-6-4> 外部表引擎 </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-6-4> 外部表引擎 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../operations/table_engines/kafka/ title=Kafka class=md-nav__link> Kafka </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/mysql/ title=MySQL class=md-nav__link> MySQL </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/jdbc/ title=JDBC class=md-nav__link> JDBC </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/odbc/ title=ODBC class=md-nav__link> ODBC </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/hdfs/ title=HDFS class=md-nav__link> HDFS </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-6-5 type=checkbox id=nav-6-5> <label class=md-nav__link for=nav-6-5> 其他表引擎 </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-6-5> 其他表引擎 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../operations/table_engines/distributed/ title=Distributed class=md-nav__link> Distributed </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/external_data/ title="External data" class=md-nav__link> External data </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/dictionary/ title=Dictionary class=md-nav__link> Dictionary </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/merge/ title=Merge class=md-nav__link> Merge </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/file/ title=File class=md-nav__link> File </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/null/ title=Null class=md-nav__link> Null </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/set/ title=Set class=md-nav__link> Set </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/join/ title=Join class=md-nav__link> Join </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/url/ title=URL class=md-nav__link> URL </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/view/ title=View class=md-nav__link> View </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/materializedview/ title=MaterializedView class=md-nav__link> MaterializedView </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/memory/ title=Memory class=md-nav__link> Memory </a> </li> <li class=md-nav__item> <a href=../../../operations/table_engines/buffer/ title=Buffer class=md-nav__link> Buffer </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7 type=checkbox id=nav-7 checked> <label class=md-nav__link for=nav-7> SQL语法 </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-7> SQL语法 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../query_language/select/ title=SELECT class=md-nav__link> SELECT </a> </li> <li class=md-nav__item> <a href=../../../query_language/insert_into/ title="INSERT INTO" class=md-nav__link> INSERT INTO </a> </li> <li class=md-nav__item> <a href=../../../query_language/create/ title=CREATE class=md-nav__link> CREATE </a> </li> <li class=md-nav__item> <a href=../../../query_language/alter/ title=ALTER class=md-nav__link> ALTER </a> </li> <li class=md-nav__item> <a href=../../../query_language/system/ title=SYSTEM class=md-nav__link> SYSTEM </a> </li> <li class=md-nav__item> <a href=../../../query_language/show/ title=SHOW class=md-nav__link> SHOW </a> </li> <li class=md-nav__item> <a href=../../../query_language/misc/ title=其他类型的查询 class=md-nav__link> 其他类型的查询 </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7-9 type=checkbox id=nav-7-9 checked> <label class=md-nav__link for=nav-7-9> 函数 </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-7-9> 函数 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../query_language/functions/ title=介绍 class=md-nav__link> 介绍 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/arithmetic_functions/ title=算术函数 class=md-nav__link> 算术函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/comparison_functions/ title=比较函数 class=md-nav__link> 比较函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/logical_functions/ title=逻辑函数 class=md-nav__link> 逻辑函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/type_conversion_functions/ title=类型转换函数 class=md-nav__link> 类型转换函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/date_time_functions/ title=时间日期函数 class=md-nav__link> 时间日期函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/string_functions/ title=字符串函数 class=md-nav__link> 字符串函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/string_search_functions/ title=字符串搜索函数 class=md-nav__link> 字符串搜索函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/string_replace_functions/ title=字符串替换函数 class=md-nav__link> 字符串替换函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/conditional_functions/ title="条件函数 " class=md-nav__link> 条件函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/math_functions/ title=数学函数 class=md-nav__link> 数学函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/rounding_functions/ title=取整函数 class=md-nav__link> 取整函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/array_functions/ title=数组函数 class=md-nav__link> 数组函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/splitting_merging_functions/ title=字符串拆分合并函数 class=md-nav__link> 字符串拆分合并函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/bit_functions/ title=位操作函数 class=md-nav__link> 位操作函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/bitmap_functions/ title=位图函数 class=md-nav__link> 位图函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/hash_functions/ title=Hash函数 class=md-nav__link> Hash函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/random_functions/ title=随机函数 class=md-nav__link> 随机函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/encoding_functions/ title=编码函数 class=md-nav__link> 编码函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/uuid_functions/ title=UUID函数 class=md-nav__link> UUID函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/url_functions/ title=URL函数 class=md-nav__link> URL函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/ip_address_functions/ title=IP函数 class=md-nav__link> IP函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/json_functions/ title=JSON函数 class=md-nav__link> JSON函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/higher_order_functions/ title=高阶函数 class=md-nav__link> 高阶函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/ext_dict_functions/ title=字典函数 class=md-nav__link> 字典函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/ym_dict_functions/ title=Yandex.Metrica字典函数 class=md-nav__link> Yandex.Metrica字典函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/in_functions/ title=IN运算符相关函数 class=md-nav__link> IN运算符相关函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/array_join/ title=arrayJoin函数 class=md-nav__link> arrayJoin函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/geo/ title=GEO函数 class=md-nav__link> GEO函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/functions_for_nulls/ title=Nullable处理函数 class=md-nav__link> Nullable处理函数 </a> </li> <li class=md-nav__item> <a href=../../../query_language/functions/machine_learning_functions/ title=机器学习函数 class=md-nav__link> 机器学习函数 </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-toggle md-nav__toggle" data-md-toggle=toc type=checkbox id=toc> <label class="md-nav__link md-nav__link--active" for=toc> 其他函数 </label> <a href=../../../query_language/functions/other_functions/ title=其他函数 class="md-nav__link md-nav__link--active"> <strong>其他函数</strong> </a> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=toc>目录</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#hostname title=hostName() class=md-nav__link> hostName() </a> </li> <li class=md-nav__item> <a href=#basename title=basename class=md-nav__link> basename </a> </li> <li class=md-nav__item> <a href=#visiblewidth-x title=visibleWidth(x) class=md-nav__link> visibleWidth(x) </a> </li> <li class=md-nav__item> <a href=#totypename-x title=toTypeName(x) class=md-nav__link> toTypeName(x) </a> </li> <li class=md-nav__item> <a href=#function-blocksize title=blockSize() class=md-nav__link> blockSize() </a> </li> <li class=md-nav__item> <a href=#materialize-x title=materialize(x) class=md-nav__link> materialize(x) </a> </li> <li class=md-nav__item> <a href=#ignore title=ignore(...) class=md-nav__link> ignore(...) </a> </li> <li class=md-nav__item> <a href=#sleep-seconds title=sleep(seconds) class=md-nav__link> sleep(seconds) </a> </li> <li class=md-nav__item> <a href=#sleepeachrow-seconds title=sleepEachRow(seconds) class=md-nav__link> sleepEachRow(seconds) </a> </li> <li class=md-nav__item> <a href=#currentdatabase title=currentDatabase() class=md-nav__link> currentDatabase() </a> </li> <li class=md-nav__item> <a href=#isfinite-x title=isFinite(x) class=md-nav__link> isFinite(x) </a> </li> <li class=md-nav__item> <a href=#isinfinite-x title=isInfinite(x) class=md-nav__link> isInfinite(x) </a> </li> <li class=md-nav__item> <a href=#isnan-x title=isNaN(x) class=md-nav__link> isNaN(x) </a> </li> <li class=md-nav__item> <a href=#hascolumnintable-91-hostname-91-username-91-password-93-93-93-database-table-column title="hasColumnInTable(['hostname'[, 'username'[, 'password']],] 'database', 'table', 'column')" class=md-nav__link> hasColumnInTable(['hostname'[, 'username'[, 'password']],] 'database', 'table', 'column') </a> </li> <li class=md-nav__item> <a href=#function-bar title=bar class=md-nav__link> bar </a> </li> <li class=md-nav__item> <a href=#transform title=transform class=md-nav__link> transform </a> </li> <li class=md-nav__item> <a href=#formatreadablesize-x title=formatReadableSize(x) class=md-nav__link> formatReadableSize(x) </a> </li> <li class=md-nav__item> <a href=#least-a-b title="least(a, b)" class=md-nav__link> least(a, b) </a> </li> <li class=md-nav__item> <a href=#greatest-a-b title="greatest(a, b)" class=md-nav__link> greatest(a, b) </a> </li> <li class=md-nav__item> <a href=#uptime title=uptime() class=md-nav__link> uptime() </a> </li> <li class=md-nav__item> <a href=#version title=version() class=md-nav__link> version() </a> </li> <li class=md-nav__item> <a href=#timezone title=timezone() class=md-nav__link> timezone() </a> </li> <li class=md-nav__item> <a href=#blocknumber title=blockNumber class=md-nav__link> blockNumber </a> </li> <li class=md-nav__item> <a href=#function-rownumberinblock title=rowNumberInBlock class=md-nav__link> rowNumberInBlock </a> </li> <li class=md-nav__item> <a href=#rownumberinallblocks title=rowNumberInAllBlocks() class=md-nav__link> rowNumberInAllBlocks() </a> </li> <li class=md-nav__item> <a href=#other_functions-runningdifference title=runningDifference(x) class=md-nav__link> runningDifference(x) </a> </li> <li class=md-nav__item> <a href=#runningdifferencestartingwithfirstvalue title=runningDifferenceStartingWithFirstValue class=md-nav__link> runningDifferenceStartingWithFirstValue </a> </li> <li class=md-nav__item> <a href=#macnumtostring-num title=MACNumToString(num) class=md-nav__link> MACNumToString(num) </a> </li> <li class=md-nav__item> <a href=#macstringtonum-s title=MACStringToNum(s) class=md-nav__link> MACStringToNum(s) </a> </li> <li class=md-nav__item> <a href=#macstringtooui-s title=MACStringToOUI(s) class=md-nav__link> MACStringToOUI(s) </a> </li> <li class=md-nav__item> <a href=#getsizeofenumtype title=getSizeOfEnumType class=md-nav__link> getSizeOfEnumType </a> </li> <li class=md-nav__item> <a href=#tocolumntypename title=toColumnTypeName class=md-nav__link> toColumnTypeName </a> </li> <li class=md-nav__item> <a href=#dumpcolumnstructure title=dumpColumnStructure class=md-nav__link> dumpColumnStructure </a> </li> <li class=md-nav__item> <a href=#defaultvalueofargumenttype title=defaultValueOfArgumentType class=md-nav__link> defaultValueOfArgumentType </a> </li> <li class=md-nav__item> <a href=#indexhint title=indexHint class=md-nav__link> indexHint </a> </li> <li class=md-nav__item> <a href=#replicate title=replicate class=md-nav__link> replicate </a> </li> <li class=md-nav__item> <a href=#filesystemavailable title=filesystemAvailable class=md-nav__link> filesystemAvailable </a> </li> <li class=md-nav__item> <a href=#filesystemcapacity title=filesystemCapacity class=md-nav__link> filesystemCapacity </a> </li> <li class=md-nav__item> <a href=#function-finalizeaggregation title=finalizeAggregation class=md-nav__link> finalizeAggregation </a> </li> <li class=md-nav__item> <a href=#function-runningaccumulate title=runningAccumulate class=md-nav__link> runningAccumulate </a> </li> <li class=md-nav__item> <a href=#joinget-join-storage-table-name-get-column-join-key title="joinGet('join_storage_table_name', 'get_column', join_key)" class=md-nav__link> joinGet('join_storage_table_name', 'get_column', join_key) </a> </li> <li class=md-nav__item> <a href=#modelevaluate-model-name title="modelEvaluate(model_name, ...)" class=md-nav__link> modelEvaluate(model_name, ...) </a> </li> <li class=md-nav__item> <a href=#throwif-x title=throwIf(x) class=md-nav__link> throwIf(x) </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7-10 type=checkbox id=nav-7-10> <label class=md-nav__link for=nav-7-10> 聚合函数 </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-7-10> 聚合函数 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../query_language/agg_functions/ title=介绍 class=md-nav__link> 介绍 </a> </li> <li class=md-nav__item> <a href=../../../query_language/agg_functions/reference/ title=函数列表 class=md-nav__link> 函数列表 </a> </li> <li class=md-nav__item> <a href=../../../query_language/agg_functions/combinators/ title=聚合函数组合子 class=md-nav__link> 聚合函数组合子 </a> </li> <li class=md-nav__item> <a href=../../../query_language/agg_functions/parametric_functions/ title=参数化聚合函数 class=md-nav__link> 参数化聚合函数 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7-11 type=checkbox id=nav-7-11> <label class=md-nav__link for=nav-7-11> 表引擎函数 </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-7-11> 表引擎函数 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../query_language/table_functions/ title=介绍 class=md-nav__link> 介绍 </a> </li> <li class=md-nav__item> <a href=../../../query_language/table_functions/file/ title=file class=md-nav__link> file </a> </li> <li class=md-nav__item> <a href=../../../query_language/table_functions/merge/ title=merge class=md-nav__link> merge </a> </li> <li class=md-nav__item> <a href=../../../query_language/table_functions/numbers/ title=numbers class=md-nav__link> numbers </a> </li> <li class=md-nav__item> <a href=../../../query_language/table_functions/remote/ title=remote class=md-nav__link> remote </a> </li> <li class=md-nav__item> <a href=../../../query_language/table_functions/url/ title=url class=md-nav__link> url </a> </li> <li class=md-nav__item> <a href=../../../query_language/table_functions/mysql/ title=mysql class=md-nav__link> mysql </a> </li> <li class=md-nav__item> <a href=../../../query_language/table_functions/jdbc/ title=jdbc class=md-nav__link> jdbc </a> </li> <li class=md-nav__item> <a href=../../../query_language/table_functions/odbc/ title=odbc class=md-nav__link> odbc </a> </li> <li class=md-nav__item> <a href=../../../query_language/table_functions/hdfs/ title=hdfs class=md-nav__link> hdfs </a> </li> <li class=md-nav__item> <a href=../../../query_language/table_functions/input/ title=input class=md-nav__link> input </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7-12 type=checkbox id=nav-7-12> <label class=md-nav__link for=nav-7-12> 字典 </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-7-12> 字典 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../query_language/dicts/ title=介绍 class=md-nav__link> 介绍 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7-12-2 type=checkbox id=nav-7-12-2> <label class=md-nav__link for=nav-7-12-2> 外部字典 </label> <nav class=md-nav data-md-component=collapsible data-md-level=3> <label class=md-nav__title for=nav-7-12-2> 外部字典 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../query_language/dicts/external_dicts/ title=介绍 class=md-nav__link> 介绍 </a> </li> <li class=md-nav__item> <a href=../../../query_language/dicts/external_dicts_dict/ title=配置外部字典 class=md-nav__link> 配置外部字典 </a> </li> <li class=md-nav__item> <a href=../../../query_language/dicts/external_dicts_dict_layout/ title=字典的内存布局 class=md-nav__link> 字典的内存布局 </a> </li> <li class=md-nav__item> <a href=../../../query_language/dicts/external_dicts_dict_lifetime/ title=字典的刷新策略 class=md-nav__link> 字典的刷新策略 </a> </li> <li class=md-nav__item> <a href=../../../query_language/dicts/external_dicts_dict_sources/ title=字典的外部数据源 class=md-nav__link> 字典的外部数据源 </a> </li> <li class=md-nav__item> <a href=../../../query_language/dicts/external_dicts_dict_structure/ title=字典的键和字段值 class=md-nav__link> 字典的键和字段值 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../query_language/dicts/internal_dicts/ title=内部字典 class=md-nav__link> 内部字典 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../query_language/operators/ title=操作符 class=md-nav__link> 操作符 </a> </li> <li class=md-nav__item> <a href=../../../query_language/syntax/ title=语法说明 class=md-nav__link> 语法说明 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-8 type=checkbox id=nav-8> <label class=md-nav__link for=nav-8> 运维 </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-8> 运维 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../operations/ title=介绍 class=md-nav__link> 介绍 </a> </li> <li class=md-nav__item> <a href=../../../operations/requirements/ title=环境要求 class=md-nav__link> 环境要求 </a> </li> <li class=md-nav__item> <a href=../../../operations/monitoring/ title=监控 class=md-nav__link> 监控 </a> </li> <li class=md-nav__item> <a href=../../../operations/troubleshooting/ title=故障排查 class=md-nav__link> 故障排查 </a> </li> <li class=md-nav__item> <a href=../../../operations/tips/ title=使用建议 class=md-nav__link> 使用建议 </a> </li> <li class=md-nav__item> <a href=../../../operations/update/ title=版本升级 class=md-nav__link> 版本升级 </a> </li> <li class=md-nav__item> <a href=../../../operations/access_rights/ title=访问权限控制 class=md-nav__link> 访问权限控制 </a> </li> <li class=md-nav__item> <a href=../../../operations/backup/ title=数据备份 class=md-nav__link> 数据备份 </a> </li> <li class=md-nav__item> <a href=../../../operations/configuration_files/ title=配置文件 class=md-nav__link> 配置文件 </a> </li> <li class=md-nav__item> <a href=../../../operations/quotas/ title=配额 class=md-nav__link> 配额 </a> </li> <li class=md-nav__item> <a href=../../../operations/system_tables/ title=系统表 class=md-nav__link> 系统表 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-8-12 type=checkbox id=nav-8-12> <label class=md-nav__link for=nav-8-12> Server参数配置 </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-8-12> Server参数配置 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../operations/server_settings/ title=介绍 class=md-nav__link> 介绍 </a> </li> <li class=md-nav__item> <a href=../../../operations/server_settings/settings/ title=Server参数说明 class=md-nav__link> Server参数说明 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-8-13 type=checkbox id=nav-8-13> <label class=md-nav__link for=nav-8-13> Settings配置 </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-8-13> Settings配置 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../operations/settings/ title=介绍 class=md-nav__link> 介绍 </a> </li> <li class=md-nav__item> <a href=../../../operations/settings/permissions_for_queries/ title=查询权限管理 class=md-nav__link> 查询权限管理 </a> </li> <li class=md-nav__item> <a href=../../../operations/settings/query_complexity/ title=查询复杂性的限制 class=md-nav__link> 查询复杂性的限制 </a> </li> <li class=md-nav__item> <a href=../../../operations/settings/settings/ title=Setting列表 class=md-nav__link> Setting列表 </a> </li> <li class=md-nav__item> <a href=../../../operations/settings/settings_profiles/ title=Setting配置组 class=md-nav__link> Setting配置组 </a> </li> <li class=md-nav__item> <a href=../../../operations/settings/settings_users/ title=用户配置 class=md-nav__link> 用户配置 </a> </li> <li class=md-nav__item> <a href=../../../operations/settings/constraints_on_settings/ title=Settings的约束 class=md-nav__link> Settings的约束 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-8-14 type=checkbox id=nav-8-14> <label class=md-nav__link for=nav-8-14> 常用工具 </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-8-14> 常用工具 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../operations/utils/ title=介绍 class=md-nav__link> 介绍 </a> </li> <li class=md-nav__item> <a href=../../../operations/utils/clickhouse-copier/ title=clickhouse-copier class=md-nav__link> clickhouse-copier </a> </li> <li class=md-nav__item> <a href=../../../operations/utils/clickhouse-local/ title=clickhouse-local class=md-nav__link> clickhouse-local </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-9 type=checkbox id=nav-9> <label class=md-nav__link for=nav-9> 常见问题 </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-9> 常见问题 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../faq/general/ title=一般的问题 class=md-nav__link> 一般的问题 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-10 type=checkbox id=nav-10> <label class=md-nav__link for=nav-10> 开发者指南 </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-10> 开发者指南 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../development/architecture/ title=ClickHouse架构概述 class=md-nav__link> ClickHouse架构概述 </a> </li> <li class=md-nav__item> <a href=../../../development/build/ title=如何在Linux中编译ClickHouse class=md-nav__link> 如何在Linux中编译ClickHouse </a> </li> <li class=md-nav__item> <a href=../../../development/build_osx/ title="如何在Mac OS X中编译ClickHouse" class=md-nav__link> 如何在Mac OS X中编译ClickHouse </a> </li> <li class=md-nav__item> <a href=../../../development/build_cross/ title="How to Build ClickHouse on Linux for Mac OS X" class=md-nav__link> How to Build ClickHouse on Linux for Mac OS X </a> </li> <li class=md-nav__item> <a href=../../../development/style/ title=如何编写C++代码 class=md-nav__link> 如何编写C++代码 </a> </li> <li class=md-nav__item> <a href=../../../development/tests/ title=如何运行ClickHouse测试 class=md-nav__link> 如何运行ClickHouse测试 </a> </li> <li class=md-nav__item> <a href=../../../development/contrib/ title=使用的第三方库 class=md-nav__link> 使用的第三方库 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-11 type=checkbox id=nav-11> <label class=md-nav__link for=nav-11> 新功能特性 </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-11> 新功能特性 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../roadmap/ title=路线图 class=md-nav__link> 路线图 </a> </li> <li class=md-nav__item> <a href=../../../changelog/ title=更新日志 class=md-nav__link> 更新日志 </a> </li> <li class=md-nav__item> <a href=../../../security_changelog/ title=安全更改日志 class=md-nav__link> 安全更改日志 </a> </li> </ul> </nav> </li> </ul> <ul id=md-extra-nav class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> 发布: <span class=md-selector> <select id=releases-selector> <option value>最新</option> <option value=v20.1>v20.1</option> <option value=v19.17 selected=selected>v19.17</option> <option value=v19.16>v19.16</option> <option value=v19.15>v19.15</option> <option value=v19.14>v19.14</option> <option value=v19.13>v19.13</option> <option value=v19.11>v19.11</option> <option value=v19.10>v19.10</option> <option value=v19.9>v19.9</option> <option value=v19.8>v19.8</option> <option value=v19.7>v19.7</option> </select><span id=releases-selector-after>&nbsp;▾</span> </span> </li> <li class="md-nav__item md-nav__item--active"> <a href=../../../single/ class="md-nav__link md-nav__link--active">单页版本</a> </li> <li class="md-nav__item md-nav__item--active"> <a href=../../../single/clickhouse_zh.pdf class="md-nav__link md-nav__link--active">PDF版本</a> </li> <li class="md-nav__item md-nav__item--active"> <a href=https://github.com/ClickHouse/ClickHouse/ rel="external nofollow" target=_blank class=md-nav__link> ClickHouse源代码 </a> </li> <li class="md-nav__item md-nav__item--active"> <span id=md-sidebar-flags class=md-nav__link> <a class=md-alt-lang href=../../../../en/query_language/functions/other_functions/ class="md-flex__ellipsis md-header-nav__title" title=English> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 60 30" preserveaspectratio=none> <clippath id=t> <path d="M30,15 h30 v15 z v15 h-30 z h-30 v-15 z v-15 h30 z"/> </clippath> <path fill=#00247d d="M0,0 v30 h60 v-30 z"/> <path stroke=#fff stroke-width=6 d="M0,0 L60,30 M60,0 L0,30"/> <path clip-path=url(#t) stroke=#cf142b stroke-width=4 d="M0,0 L60,30 M60,0 L0,30"/> <path stroke=#fff stroke-width=10 d="M30,0 v30 M0,15 h60"/> <path stroke=#cf142b stroke-width=6 d="M30,0 v30 M0,15 h60"/> </svg> </a> <a class=md-alt-lang href=../../../../ru/query_language/functions/other_functions/ class="md-flex__ellipsis md-header-nav__title" title=Russian> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 9 6" preserveaspectratio=none> <rect fill=#fff width=9 height=3 /> <rect fill=#d52b1e y=3 width=9 height=3 /> <rect fill=#0039a6 y=2 width=9 height=2 /> </svg> </a> <a class="md-alt-lang md-current-lang" href=../../../../zh/query_language/functions/other_functions/ class="md-flex__ellipsis md-header-nav__title" title=Chinese> <svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink viewbox="0 0 30 20" preserveaspectratio=none> <defs> <path id=s fill=#ffde00 d="M0,-1 0.587785,0.809017 -0.951057,-0.309017H0.951057L-0.587785,0.809017z"/> </defs> <rect width=30 height=20 fill=#de2910 /> <use xlink:href=#s transform="translate(5,5) scale(3)"/> <use xlink:href=#s transform="translate(10,2) rotate(23.036243)"/> <use xlink:href=#s transform="translate(12,4) rotate(45.869898)"/> <use xlink:href=#s transform="translate(12,7) rotate(69.945396)"/> <use xlink:href=#s transform="translate(10,9) rotate(20.659808)"/> </svg> </a> <a class=md-alt-lang href=../../../../ja/query_language/functions/other_functions/ class="md-flex__ellipsis md-header-nav__title" title=Japanese> <?xml version="1.0" encoding="UTF-8"?> <svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink width=90px height=60px viewbox="0 0 90 60" version=1.1> <g id=surface1> <rect x=0 y=0 width=90 height=60 style=fill:rgb(62.7451%,62.7451%,62.7451%);fill-opacity:1;stroke:none; /> <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 0.601562 0.601562 L 89.398438 0.601562 L 89.398438 59.398438 L 0.601562 59.398438 Z M 0.601562 0.601562 "/> <path style=" stroke:none;fill-rule:nonzero;fill:rgb(74.509805%,0%,14.901961%);fill-opacity:1;" d="M 63 30 C 63 39.941406 54.941406 48 45 48 C 35.058594 48 27 39.941406 27 30 C 27 20.058594 35.058594 12 45 12 C 54.941406 12 63 20.058594 63 30 Z M 63 30 "/> </g> </svg> </a> <a class=md-alt-lang href=../../../../fa/query_language/functions/other_functions/ class="md-flex__ellipsis md-header-nav__title" title=Farsi> <svg xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink viewbox="0 0 630 360" preserveaspectratio=none> <rect width=630 height=360 fill=#da0000 /> <rect width=630 height=240 fill=#fff /> <rect width=630 height=120 fill=#239f40 /> <g transform=translate(8.4,100.4)> <g id=tb4> <g id=tb1 fill=none stroke=#fff stroke-width=2> <path id=tbp1 d=M0,1H26M1,10V5H9V9H17V5H12M4,9H6M26,9H21V5H29M29,0V9H37V0M33,0V9 transform=scale(1.4) /> <path id=tbp2 d=M0,7H9M10,7H19 transform=scale(2.8) /> <use xlink:href=#tbp2 y=120 /> <use xlink:href=#tbp1 y=145.2 /> </g> <g id=tb3> <use xlink:href=#tb1 x=56 /> <use xlink:href=#tb1 x=112 /> <use xlink:href=#tb1 x=168 /> </g> </g> <use xlink:href=#tb3 x=168 /> <use xlink:href=#tb4 x=392 /> </g> <g fill=#da0000 transform=matrix(45,0,0,45,315,180)> <g id=emblem_half> <path d="M-0.54815,0.83638A0.912046,0.912046 0 0,0 0.328544,-0.722384A1,1 0 0,1 -0.54815,0.83638"/> <path d="M0.618339,0.661409A0.763932,0.763932 0 0,0 0.421644,-0.741049A1,1 0 0,1 0.618339,0.661409"/> <path d="M0,1 -0.05,0 0,-0.787278A0.309995,0.309995 0 0,0 0.118034,-0.688191V-0.100406L0.077809,0.892905z"/> <path d="M-0.02,-0.85 0,-0.831217A0.14431,0.14431 0 0,0 0.252075,-0.967708A0.136408,0.136408 0 0,1 0,-0.924634"/> </g> <use xlink:href=#emblem_half transform=scale(-1,1) /> </g> </svg> </a> </span> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=toc>目录</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#hostname title=hostName() class=md-nav__link> hostName() </a> </li> <li class=md-nav__item> <a href=#basename title=basename class=md-nav__link> basename </a> </li> <li class=md-nav__item> <a href=#visiblewidth-x title=visibleWidth(x) class=md-nav__link> visibleWidth(x) </a> </li> <li class=md-nav__item> <a href=#totypename-x title=toTypeName(x) class=md-nav__link> toTypeName(x) </a> </li> <li class=md-nav__item> <a href=#function-blocksize title=blockSize() class=md-nav__link> blockSize() </a> </li> <li class=md-nav__item> <a href=#materialize-x title=materialize(x) class=md-nav__link> materialize(x) </a> </li> <li class=md-nav__item> <a href=#ignore title=ignore(...) class=md-nav__link> ignore(...) </a> </li> <li class=md-nav__item> <a href=#sleep-seconds title=sleep(seconds) class=md-nav__link> sleep(seconds) </a> </li> <li class=md-nav__item> <a href=#sleepeachrow-seconds title=sleepEachRow(seconds) class=md-nav__link> sleepEachRow(seconds) </a> </li> <li class=md-nav__item> <a href=#currentdatabase title=currentDatabase() class=md-nav__link> currentDatabase() </a> </li> <li class=md-nav__item> <a href=#isfinite-x title=isFinite(x) class=md-nav__link> isFinite(x) </a> </li> <li class=md-nav__item> <a href=#isinfinite-x title=isInfinite(x) class=md-nav__link> isInfinite(x) </a> </li> <li class=md-nav__item> <a href=#isnan-x title=isNaN(x) class=md-nav__link> isNaN(x) </a> </li> <li class=md-nav__item> <a href=#hascolumnintable-91-hostname-91-username-91-password-93-93-93-database-table-column title="hasColumnInTable(['hostname'[, 'username'[, 'password']],] 'database', 'table', 'column')" class=md-nav__link> hasColumnInTable(['hostname'[, 'username'[, 'password']],] 'database', 'table', 'column') </a> </li> <li class=md-nav__item> <a href=#function-bar title=bar class=md-nav__link> bar </a> </li> <li class=md-nav__item> <a href=#transform title=transform class=md-nav__link> transform </a> </li> <li class=md-nav__item> <a href=#formatreadablesize-x title=formatReadableSize(x) class=md-nav__link> formatReadableSize(x) </a> </li> <li class=md-nav__item> <a href=#least-a-b title="least(a, b)" class=md-nav__link> least(a, b) </a> </li> <li class=md-nav__item> <a href=#greatest-a-b title="greatest(a, b)" class=md-nav__link> greatest(a, b) </a> </li> <li class=md-nav__item> <a href=#uptime title=uptime() class=md-nav__link> uptime() </a> </li> <li class=md-nav__item> <a href=#version title=version() class=md-nav__link> version() </a> </li> <li class=md-nav__item> <a href=#timezone title=timezone() class=md-nav__link> timezone() </a> </li> <li class=md-nav__item> <a href=#blocknumber title=blockNumber class=md-nav__link> blockNumber </a> </li> <li class=md-nav__item> <a href=#function-rownumberinblock title=rowNumberInBlock class=md-nav__link> rowNumberInBlock </a> </li> <li class=md-nav__item> <a href=#rownumberinallblocks title=rowNumberInAllBlocks() class=md-nav__link> rowNumberInAllBlocks() </a> </li> <li class=md-nav__item> <a href=#other_functions-runningdifference title=runningDifference(x) class=md-nav__link> runningDifference(x) </a> </li> <li class=md-nav__item> <a href=#runningdifferencestartingwithfirstvalue title=runningDifferenceStartingWithFirstValue class=md-nav__link> runningDifferenceStartingWithFirstValue </a> </li> <li class=md-nav__item> <a href=#macnumtostring-num title=MACNumToString(num) class=md-nav__link> MACNumToString(num) </a> </li> <li class=md-nav__item> <a href=#macstringtonum-s title=MACStringToNum(s) class=md-nav__link> MACStringToNum(s) </a> </li> <li class=md-nav__item> <a href=#macstringtooui-s title=MACStringToOUI(s) class=md-nav__link> MACStringToOUI(s) </a> </li> <li class=md-nav__item> <a href=#getsizeofenumtype title=getSizeOfEnumType class=md-nav__link> getSizeOfEnumType </a> </li> <li class=md-nav__item> <a href=#tocolumntypename title=toColumnTypeName class=md-nav__link> toColumnTypeName </a> </li> <li class=md-nav__item> <a href=#dumpcolumnstructure title=dumpColumnStructure class=md-nav__link> dumpColumnStructure </a> </li> <li class=md-nav__item> <a href=#defaultvalueofargumenttype title=defaultValueOfArgumentType class=md-nav__link> defaultValueOfArgumentType </a> </li> <li class=md-nav__item> <a href=#indexhint title=indexHint class=md-nav__link> indexHint </a> </li> <li class=md-nav__item> <a href=#replicate title=replicate class=md-nav__link> replicate </a> </li> <li class=md-nav__item> <a href=#filesystemavailable title=filesystemAvailable class=md-nav__link> filesystemAvailable </a> </li> <li class=md-nav__item> <a href=#filesystemcapacity title=filesystemCapacity class=md-nav__link> filesystemCapacity </a> </li> <li class=md-nav__item> <a href=#function-finalizeaggregation title=finalizeAggregation class=md-nav__link> finalizeAggregation </a> </li> <li class=md-nav__item> <a href=#function-runningaccumulate title=runningAccumulate class=md-nav__link> runningAccumulate </a> </li> <li class=md-nav__item> <a href=#joinget-join-storage-table-name-get-column-join-key title="joinGet('join_storage_table_name', 'get_column', join_key)" class=md-nav__link> joinGet('join_storage_table_name', 'get_column', join_key) </a> </li> <li class=md-nav__item> <a href=#modelevaluate-model-name title="modelEvaluate(model_name, ...)" class=md-nav__link> modelEvaluate(model_name, ...) </a> </li> <li class=md-nav__item> <a href=#throwif-x title=throwIf(x) class=md-nav__link> throwIf(x) </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/ClickHouse/ClickHouse/edit/master/docs/zh/query_language/functions/other_functions.md title=编辑此页 class="md-icon md-content__icon" rel="external nofollow">&#xE3C9;</a> <div id=content> <h1 id=qi-ta-han-shu>其他函数<a class=headerlink href=#qi-ta-han-shu title="Permanent link">&para;</a></h1> <h2 id=hostname>hostName()<a class=headerlink href=#hostname title="Permanent link">&para;</a></h2> <p>返回一个字符串，其中包含执行此函数的主机的名称。 对于分布式处理，如果在远程服务器上执行此函数，则将返回远程服务器主机的名称。</p> <h2 id=basename>basename<a class=headerlink href=#basename title="Permanent link">&para;</a></h2> <p>在最后一个斜杠或反斜杠后的字符串文本。 此函数通常用于从路径中提取文件名。</p> <div class=codehilite><pre><span></span>basename( expr )
</pre></div> <p><strong>参数</strong></p> <ul> <li><code>expr</code> — 任何一个返回<a href=../../../data_types/string/ >String</a>结果的表达式。<a href=../../../data_types/string/ >String</a></li> </ul> <p><strong>返回值</strong></p> <p>一个String类型的值，其包含：</p> <ul> <li> <p>在最后一个斜杠或反斜杠后的字符串文本内容。</p> <p>如果输入的字符串以斜杆或反斜杆结尾，例如：<code>/</code>或<code>c:\</code>，函数将返回一个空字符串。</p> </li> <li> <p>如果输入的字符串中不包含斜杆或反斜杠，函数返回输入字符串本身。</p> </li> </ul> <p><strong>示例</strong></p> <div class=codehilite><pre><span></span><span class=k>SELECT</span> <span class=s1>&#39;some/long/path/to/file&#39;</span> <span class=k>AS</span> <span class=n>a</span><span class=p>,</span> <span class=n>basename</span><span class=p>(</span><span class=n>a</span><span class=p>)</span>
</pre></div> <div class=codehilite><pre><span></span>┌─a──────────────────────┬─basename(&#39;some\\long\\path\\to\\file&#39;)─┐
│ some\long\path\to\file │ file                                   │
└────────────────────────┴────────────────────────────────────────┘
</pre></div> <div class=codehilite><pre><span></span><span class=k>SELECT</span> <span class=s1>&#39;some\\long\\path\\to\\file&#39;</span> <span class=k>AS</span> <span class=n>a</span><span class=p>,</span> <span class=n>basename</span><span class=p>(</span><span class=n>a</span><span class=p>)</span>
</pre></div> <div class=codehilite><pre><span></span>┌─a──────────────────────┬─basename(&#39;some\\long\\path\\to\\file&#39;)─┐
│ some\long\path\to\file │ file                                   │
└────────────────────────┴────────────────────────────────────────┘
</pre></div> <div class=codehilite><pre><span></span><span class=k>SELECT</span> <span class=s1>&#39;some-file-name&#39;</span> <span class=k>AS</span> <span class=n>a</span><span class=p>,</span> <span class=n>basename</span><span class=p>(</span><span class=n>a</span><span class=p>)</span>
</pre></div> <div class=codehilite><pre><span></span>┌─a──────────────┬─basename(&#39;some-file-name&#39;)─┐
│ some-file-name │ some-file-name             │
└────────────────┴────────────────────────────┘
</pre></div> <h2 id=visiblewidth-x>visibleWidth(x)<a class=headerlink href=#visiblewidth-x title="Permanent link">&para;</a></h2> <p>以文本格式（以制表符分隔）向控制台输出值时，计算近似宽度。 系统使用此函数实现Pretty格式。 Calculates the approximate width when outputting values to the console in text format (tab-separated). This function is used by the system for implementing Pretty formats.</p> <p><code>NULL</code> is represented as a string corresponding to <code>NULL</code> in <code>Pretty</code> formats.</p> <div class=codehilite><pre><span></span>SELECT visibleWidth(NULL)

┌─visibleWidth(NULL)─┐
│                  4 │
└────────────────────┘
</pre></div> <h2 id=totypename-x>toTypeName(x)<a class=headerlink href=#totypename-x title="Permanent link">&para;</a></h2> <p>返回包含参数的类型名称的字符串。</p> <p>如果将<code>NULL</code>作为参数传递给函数，那么它返回<code>Nullable（Nothing）</code>类型，它对应于ClickHouse中的内部<code>NULL</code>。</p> <h2 id=function-blocksize>blockSize()<a class=headerlink href=#function-blocksize title="Permanent link">&para;</a></h2> <p>获取Block的大小。 在ClickHouse中，查询始终工作在Block（包含列的部分的集合）上。此函数允许您获取调用其的块的大小。</p> <h2 id=materialize-x>materialize(x)<a class=headerlink href=#materialize-x title="Permanent link">&para;</a></h2> <p>将一个常量列变为一个非常量列。 在ClickHouse中，非常量列和常量列在内存中的表示方式不同。尽管函数对于常量列和非常量总是返回相同的结果，但它们的工作方式可能完全不同（执行不同的代码）。此函数用于调试这种行为。</p> <h2 id=ignore>ignore(...)<a class=headerlink href=#ignore title="Permanent link">&para;</a></h2> <p>接受任何参数，包括<code>NULL</code>。始终返回0。 但是，函数的参数总是被计算的。该函数可以用于基准测试。</p> <h2 id=sleep-seconds>sleep(seconds)<a class=headerlink href=#sleep-seconds title="Permanent link">&para;</a></h2> <p>在每个Block上休眠'seconds'秒。可以是整数或浮点数。</p> <h2 id=sleepeachrow-seconds>sleepEachRow(seconds)<a class=headerlink href=#sleepeachrow-seconds title="Permanent link">&para;</a></h2> <p>在每行上休眠'seconds'秒。可以是整数或浮点数。</p> <h2 id=currentdatabase>currentDatabase()<a class=headerlink href=#currentdatabase title="Permanent link">&para;</a></h2> <p>返回当前数据库的名称。 当您需要在CREATE TABLE中的表引擎参数中指定数据库，您可以使用此函数。</p> <h2 id=isfinite-x>isFinite(x)<a class=headerlink href=#isfinite-x title="Permanent link">&para;</a></h2> <p>接受Float32或Float64类型的参数，如果参数不是infinite且不是NaN，则返回1，否则返回0。</p> <h2 id=isinfinite-x>isInfinite(x)<a class=headerlink href=#isinfinite-x title="Permanent link">&para;</a></h2> <p>接受Float32或Float64类型的参数，如果参数是infinite，则返回1，否则返回0。注意NaN返回0。</p> <h2 id=isnan-x>isNaN(x)<a class=headerlink href=#isnan-x title="Permanent link">&para;</a></h2> <p>接受Float32或Float64类型的参数，如果参数是Nan，则返回1，否则返回0。</p> <h2 id=hascolumnintable-91-hostname-91-username-91-password-93-93-93-database-table-column>hasColumnInTable(['hostname'[, 'username'[, 'password']],] 'database', 'table', 'column')<a class=headerlink href=#hascolumnintable-91-hostname-91-username-91-password-93-93-93-database-table-column title="Permanent link">&para;</a></h2> <p>Accepts constant strings: database name, table name, and column name. Returns a UInt8 constant expression equal to 1 if there is a column, otherwise 0. If the hostname parameter is set, the test will run on a remote server. The function throws an exception if the table does not exist. For elements in a nested data structure, the function checks for the existence of a column. For the nested data structure itself, the function returns 0.</p> <h2 id=function-bar>bar<a class=headerlink href=#function-bar title="Permanent link">&para;</a></h2> <p>使用unicode构建图表。</p> <p><code>bar(x, min, max, width)</code> 当<code>x = max</code>时， 绘制一个宽度与<code>(x - min)</code>成正比且等于<code>width</code>的字符带。</p> <p>参数:</p> <ul> <li><code>x</code> — 要显示的尺寸。</li> <li><code>min, max</code> — 整数常量，该值必须是<code>Int64</code>。</li> <li><code>width</code> — 常量，可以是正整数或小数。</li> </ul> <p>字符带的绘制精度是符号的八分之一。</p> <p>示例:</p> <div class=codehilite><pre><span></span><span class=k>SELECT</span>
    <span class=n>toHour</span><span class=p>(</span><span class=n>EventTime</span><span class=p>)</span> <span class=k>AS</span> <span class=n>h</span><span class=p>,</span>
    <span class=k>count</span><span class=p>()</span> <span class=k>AS</span> <span class=k>c</span><span class=p>,</span>
    <span class=n>bar</span><span class=p>(</span><span class=k>c</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>600000</span><span class=p>,</span> <span class=mi>20</span><span class=p>)</span> <span class=k>AS</span> <span class=n>bar</span>
<span class=k>FROM</span> <span class=n>test</span><span class=p>.</span><span class=n>hits</span>
<span class=k>GROUP</span> <span class=k>BY</span> <span class=n>h</span>
<span class=k>ORDER</span> <span class=k>BY</span> <span class=n>h</span> <span class=k>ASC</span>
</pre></div> <div class=codehilite><pre><span></span>┌──h─┬──────c─┬─bar────────────────┐
│  0 │ 292907 │ █████████▋         │
│  1 │ 180563 │ ██████             │
│  2 │ 114861 │ ███▋               │
│  3 │  85069 │ ██▋                │
│  4 │  68543 │ ██▎                │
│  5 │  78116 │ ██▌                │
│  6 │ 113474 │ ███▋               │
│  7 │ 170678 │ █████▋             │
│  8 │ 278380 │ █████████▎         │
│  9 │ 391053 │ █████████████      │
│ 10 │ 457681 │ ███████████████▎   │
│ 11 │ 493667 │ ████████████████▍  │
│ 12 │ 509641 │ ████████████████▊  │
│ 13 │ 522947 │ █████████████████▍ │
│ 14 │ 539954 │ █████████████████▊ │
│ 15 │ 528460 │ █████████████████▌ │
│ 16 │ 539201 │ █████████████████▊ │
│ 17 │ 523539 │ █████████████████▍ │
│ 18 │ 506467 │ ████████████████▊  │
│ 19 │ 520915 │ █████████████████▎ │
│ 20 │ 521665 │ █████████████████▍ │
│ 21 │ 542078 │ ██████████████████ │
│ 22 │ 493642 │ ████████████████▍  │
│ 23 │ 400397 │ █████████████▎     │
└────┴────────┴────────────────────┘
</pre></div> <h2 id=transform>transform<a class=headerlink href=#transform title="Permanent link">&para;</a></h2> <p>根据定义，将某些元素转换为其他元素。 此函数有两种使用方式：</p> <ol> <li><code>transform(x, array_from, array_to, default)</code></li> </ol> <p><code>x</code> – 要转换的值。</p> <p><code>array_from</code> – 用于转换的常量数组。</p> <p><code>array_to</code> – 将‘from’中的值转换为的常量数组。</p> <p><code>default</code> – 如果‘x’不等于‘from’中的任何值，则默认转换的值。</p> <p><code>array_from</code> 和 <code>array_to</code> – 拥有相同大小的数组。</p> <p>类型约束:</p> <p><code>transform(T, Array(T), Array(U), U) -&gt; U</code></p> <p><code>T</code>和<code>U</code>可以是String，Date，DateTime或任意数值类型的。 对于相同的字母（T或U），如果数值类型，那么它们不可不完全匹配的，只需要具备共同的类型即可。 例如，第一个参数是Int64类型，第二个参数是Array(UInt16)类型。</p> <p>如果'x'值等于'array_from'数组中的一个元素，它将从'array_to'数组返回一个对应的元素（下标相同）。否则，它返回'default'。如果'array_from'匹配到了多个元素，则返回第一个匹配的元素。</p> <p>示例:</p> <div class=codehilite><pre><span></span><span class=k>SELECT</span>
    <span class=k>transform</span><span class=p>(</span><span class=n>SearchEngineID</span><span class=p>,</span> <span class=p>[</span><span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>],</span> <span class=p>[</span><span class=s1>&#39;Yandex&#39;</span><span class=p>,</span> <span class=s1>&#39;Google&#39;</span><span class=p>],</span> <span class=s1>&#39;Other&#39;</span><span class=p>)</span> <span class=k>AS</span> <span class=n>title</span><span class=p>,</span>
    <span class=k>count</span><span class=p>()</span> <span class=k>AS</span> <span class=k>c</span>
<span class=k>FROM</span> <span class=n>test</span><span class=p>.</span><span class=n>hits</span>
<span class=k>WHERE</span> <span class=n>SearchEngineID</span> <span class=o>!=</span> <span class=mi>0</span>
<span class=k>GROUP</span> <span class=k>BY</span> <span class=n>title</span>
<span class=k>ORDER</span> <span class=k>BY</span> <span class=k>c</span> <span class=k>DESC</span>
</pre></div> <div class=codehilite><pre><span></span>┌─title─────┬──────c─┐
│ Yandex    │ 498635 │
│ Google    │ 229872 │
│ Other     │ 104472 │
└───────────┴────────┘
</pre></div> <ol> <li><code>transform(x, array_from, array_to)</code></li> </ol> <p>与第一种不同在于省略了'default'参数。 如果'x'值等于'array_from'数组中的一个元素，它将从'array_to'数组返回相应的元素（下标相同）。 否则，它返回'x'。</p> <p>类型约束:</p> <p><code>transform(T, Array(T), Array(T)) -&gt; T</code></p> <p>示例:</p> <div class=codehilite><pre><span></span><span class=k>SELECT</span>
    <span class=k>transform</span><span class=p>(</span><span class=k>domain</span><span class=p>(</span><span class=n>Referer</span><span class=p>),</span> <span class=p>[</span><span class=s1>&#39;yandex.ru&#39;</span><span class=p>,</span> <span class=s1>&#39;google.ru&#39;</span><span class=p>,</span> <span class=s1>&#39;vk.com&#39;</span><span class=p>],</span> <span class=p>[</span><span class=s1>&#39;www.yandex&#39;</span><span class=p>,</span> <span class=s1>&#39;example.com&#39;</span><span class=p>])</span> <span class=k>AS</span> <span class=n>s</span><span class=p>,</span>
    <span class=k>count</span><span class=p>()</span> <span class=k>AS</span> <span class=k>c</span>
<span class=k>FROM</span> <span class=n>test</span><span class=p>.</span><span class=n>hits</span>
<span class=k>GROUP</span> <span class=k>BY</span> <span class=k>domain</span><span class=p>(</span><span class=n>Referer</span><span class=p>)</span>
<span class=k>ORDER</span> <span class=k>BY</span> <span class=k>count</span><span class=p>()</span> <span class=k>DESC</span>
<span class=k>LIMIT</span> <span class=mi>10</span>
</pre></div> <div class=codehilite><pre><span></span>┌─s──────────────┬───────c─┐
│                │ 2906259 │
│ www.yandex     │  867767 │
│ ███████.ru     │  313599 │
│ mail.yandex.ru │  107147 │
│ ██████.ru      │  100355 │
│ █████████.ru   │   65040 │
│ news.yandex.ru │   64515 │
│ ██████.net     │   59141 │
│ example.com    │   57316 │
└────────────────┴─────────┘
</pre></div> <h2 id=formatreadablesize-x>formatReadableSize(x)<a class=headerlink href=#formatreadablesize-x title="Permanent link">&para;</a></h2> <p>接受大小（字节数）。返回带有后缀（KiB, MiB等）的字符串。</p> <p>示例:</p> <div class=codehilite><pre><span></span><span class=k>SELECT</span>
    <span class=n>arrayJoin</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>1024</span><span class=p>,</span> <span class=mi>1024</span><span class=o>*</span><span class=mi>1024</span><span class=p>,</span> <span class=mi>192851925</span><span class=p>])</span> <span class=k>AS</span> <span class=n>filesize_bytes</span><span class=p>,</span>
    <span class=n>formatReadableSize</span><span class=p>(</span><span class=n>filesize_bytes</span><span class=p>)</span> <span class=k>AS</span> <span class=n>filesize</span>
</pre></div> <div class=codehilite><pre><span></span>┌─filesize_bytes─┬─filesize───┐
│              1 │ 1.00 B     │
│           1024 │ 1.00 KiB   │
│        1048576 │ 1.00 MiB   │
│      192851925 │ 183.92 MiB │
└────────────────┴────────────┘
</pre></div> <h2 id=least-a-b>least(a, b)<a class=headerlink href=#least-a-b title="Permanent link">&para;</a></h2> <p>返回a和b中的最小值。</p> <h2 id=greatest-a-b>greatest(a, b)<a class=headerlink href=#greatest-a-b title="Permanent link">&para;</a></h2> <p>返回a和b的最大值。</p> <h2 id=uptime>uptime()<a class=headerlink href=#uptime title="Permanent link">&para;</a></h2> <p>返回服务正常运行的秒数。</p> <h2 id=version>version()<a class=headerlink href=#version title="Permanent link">&para;</a></h2> <p>以字符串形式返回服务器的版本。</p> <h2 id=timezone>timezone()<a class=headerlink href=#timezone title="Permanent link">&para;</a></h2> <p>返回服务器的时区。</p> <h2 id=blocknumber>blockNumber<a class=headerlink href=#blocknumber title="Permanent link">&para;</a></h2> <p>返回行所在的Block的序列号。</p> <h2 id=function-rownumberinblock>rowNumberInBlock<a class=headerlink href=#function-rownumberinblock title="Permanent link">&para;</a></h2> <p>返回行所在Block中行的序列号。 针对不同的Block始终重新计算。</p> <h2 id=rownumberinallblocks>rowNumberInAllBlocks()<a class=headerlink href=#rownumberinallblocks title="Permanent link">&para;</a></h2> <p>返回行所在结果集中的序列号。此函数仅考虑受影响的Block。</p> <h2 id=other_functions-runningdifference>runningDifference(x)<a class=headerlink href=#other_functions-runningdifference title="Permanent link">&para;</a></h2> <p>计算数据块中相邻行的值之间的差异。 对于第一行返回0，并为每个后续行返回与前一行的差异。</p> <p>函数的结果取决于受影响的Block和Block中的数据顺序。 如果使用ORDER BY创建子查询并从子查询外部调用该函数，则可以获得预期结果。</p> <p>示例:</p> <div class=codehilite><pre><span></span><span class=k>SELECT</span>
    <span class=n>EventID</span><span class=p>,</span>
    <span class=n>EventTime</span><span class=p>,</span>
    <span class=n>runningDifference</span><span class=p>(</span><span class=n>EventTime</span><span class=p>)</span> <span class=k>AS</span> <span class=n>delta</span>
<span class=k>FROM</span>
<span class=p>(</span>
    <span class=k>SELECT</span>
        <span class=n>EventID</span><span class=p>,</span>
        <span class=n>EventTime</span>
    <span class=k>FROM</span> <span class=n>events</span>
    <span class=k>WHERE</span> <span class=n>EventDate</span> <span class=o>=</span> <span class=s1>&#39;2016-11-24&#39;</span>
    <span class=k>ORDER</span> <span class=k>BY</span> <span class=n>EventTime</span> <span class=k>ASC</span>
    <span class=k>LIMIT</span> <span class=mi>5</span>
<span class=p>)</span>
</pre></div> <div class=codehilite><pre><span></span>┌─EventID─┬───────────EventTime─┬─delta─┐
│    1106 │ 2016-11-24 00:00:04 │     0 │
│    1107 │ 2016-11-24 00:00:05 │     1 │
│    1108 │ 2016-11-24 00:00:05 │     0 │
│    1109 │ 2016-11-24 00:00:09 │     4 │
│    1110 │ 2016-11-24 00:00:10 │     1 │
└─────────┴─────────────────────┴───────┘
</pre></div> <h2 id=runningdifferencestartingwithfirstvalue>runningDifferenceStartingWithFirstValue<a class=headerlink href=#runningdifferencestartingwithfirstvalue title="Permanent link">&para;</a></h2> <p>与<a href=./#other_functions-runningdifference>runningDifference</a>相同，区别在于第一行返回第一行的值，后续每个后续行返回与上一行的差值。</p> <h2 id=macnumtostring-num>MACNumToString(num)<a class=headerlink href=#macnumtostring-num title="Permanent link">&para;</a></h2> <p>接受一个UInt64类型的数字。 将其解释为big endian的MAC地址。 返回包含相应MAC地址的字符串，格式为AA:BB:CC:DD:EE:FF（以冒号分隔的十六进制形式的数字）。</p> <h2 id=macstringtonum-s>MACStringToNum(s)<a class=headerlink href=#macstringtonum-s title="Permanent link">&para;</a></h2> <p>与MACNumToString相反。 如果MAC地址格式无效，则返回0。</p> <h2 id=macstringtooui-s>MACStringToOUI(s)<a class=headerlink href=#macstringtooui-s title="Permanent link">&para;</a></h2> <p>接受格式为AA:BB:CC:DD:EE:FF（十六进制形式的冒号分隔数字）的MAC地址。 返回前三个八位字节作为UInt64编号。 如果MAC地址格式无效，则返回0。</p> <h2 id=getsizeofenumtype>getSizeOfEnumType<a class=headerlink href=#getsizeofenumtype title="Permanent link">&para;</a></h2> <p>返回<a href=../../../data_types/enum/ >Enum</a>中的枚举数量。</p> <div class=codehilite><pre><span></span>getSizeOfEnumType(value)
</pre></div> <p><strong>参数:</strong></p> <ul> <li><code>value</code> — <code>Enum</code>类型的值。</li> </ul> <p><strong>返回值</strong></p> <ul> <li><code>Enum</code>的枚举数量。</li> <li>如果类型不是<code>Enum</code>，则抛出异常。</li> </ul> <p><strong>示例</strong></p> <div class=codehilite><pre><span></span>SELECT getSizeOfEnumType( CAST(&#39;a&#39; AS Enum8(&#39;a&#39; = 1, &#39;b&#39; = 2) ) ) AS x

┌─x─┐
│ 2 │
└───┘
</pre></div> <h2 id=tocolumntypename>toColumnTypeName<a class=headerlink href=#tocolumntypename title="Permanent link">&para;</a></h2> <p>返回在RAM中列的数据类型的名称。</p> <div class=codehilite><pre><span></span>toColumnTypeName(value)
</pre></div> <p><strong>参数:</strong></p> <ul> <li><code>value</code> — 任何类型的值。</li> </ul> <p><strong>返回值</strong></p> <ul> <li>一个字符串，其内容是<code>value</code>在RAM中的类型名称。</li> </ul> <p><strong><code>toTypeName ' 与 ' toColumnTypeName</code>的区别示例</strong></p> <div class=codehilite><pre><span></span>:) select toTypeName(cast(&#39;2018-01-01 01:02:03&#39; AS DateTime))

SELECT toTypeName(CAST(&#39;2018-01-01 01:02:03&#39;, &#39;DateTime&#39;))

┌─toTypeName(CAST(&#39;2018-01-01 01:02:03&#39;, &#39;DateTime&#39;))─┐
│ DateTime                                            │
└─────────────────────────────────────────────────────┘

1 rows in set. Elapsed: 0.008 sec.

:) select toColumnTypeName(cast(&#39;2018-01-01 01:02:03&#39; AS DateTime))

SELECT toColumnTypeName(CAST(&#39;2018-01-01 01:02:03&#39;, &#39;DateTime&#39;))

┌─toColumnTypeName(CAST(&#39;2018-01-01 01:02:03&#39;, &#39;DateTime&#39;))─┐
│ Const(UInt32)                                             │
└───────────────────────────────────────────────────────────┘
</pre></div> <p>该示例显示<code>DateTime</code>数据类型作为<code>Const(UInt32)</code>存储在内存中。</p> <h2 id=dumpcolumnstructure>dumpColumnStructure<a class=headerlink href=#dumpcolumnstructure title="Permanent link">&para;</a></h2> <p>输出在RAM中的数据结果的详细信息。</p> <div class=codehilite><pre><span></span>dumpColumnStructure(value)
</pre></div> <p><strong>参数:</strong></p> <ul> <li><code>value</code> — 任何类型的值.</li> </ul> <p><strong>返回值</strong></p> <ul> <li>一个字符串，其内容是<code>value</code>在RAM中的数据结构的详细描述。</li> </ul> <p><strong>示例</strong></p> <div class=codehilite><pre><span></span>SELECT dumpColumnStructure(CAST(&#39;2018-01-01 01:02:03&#39;, &#39;DateTime&#39;))

┌─dumpColumnStructure(CAST(&#39;2018-01-01 01:02:03&#39;, &#39;DateTime&#39;))─┐
│ DateTime, Const(size = 1, UInt32(size = 1))                  │
└──────────────────────────────────────────────────────────────┘
</pre></div> <h2 id=defaultvalueofargumenttype>defaultValueOfArgumentType<a class=headerlink href=#defaultvalueofargumenttype title="Permanent link">&para;</a></h2> <p>输出数据类型的默认值。</p> <p>不包括用户设置的自定义列的默认值。</p> <div class=codehilite><pre><span></span>defaultValueOfArgumentType(expression)
</pre></div> <p><strong>参数:</strong></p> <ul> <li><code>expression</code> — 任意类型的值或导致任意类型值的表达式。</li> </ul> <p><strong>返回值</strong></p> <ul> <li>数值类型返回<code>0</code>。</li> <li>字符串类型返回空的字符串。</li> <li><a href=../../../data_types/nullable/ >Nullable</a>类型返回<code>ᴺᵁᴸᴸ</code>。</li> </ul> <p><strong>示例</strong></p> <div class=codehilite><pre><span></span>:) SELECT defaultValueOfArgumentType( CAST(1 AS Int8) )

SELECT defaultValueOfArgumentType(CAST(1, &#39;Int8&#39;))

┌─defaultValueOfArgumentType(CAST(1, &#39;Int8&#39;))─┐
│                                           0 │
└─────────────────────────────────────────────┘

1 rows in set. Elapsed: 0.002 sec.

:) SELECT defaultValueOfArgumentType( CAST(1 AS Nullable(Int8) ) )

SELECT defaultValueOfArgumentType(CAST(1, &#39;Nullable(Int8)&#39;))

┌─defaultValueOfArgumentType(CAST(1, &#39;Nullable(Int8)&#39;))─┐
│                                                  ᴺᵁᴸᴸ │
└───────────────────────────────────────────────────────┘

1 rows in set. Elapsed: 0.002 sec.
</pre></div> <h2 id=indexhint>indexHint<a class=headerlink href=#indexhint title="Permanent link">&para;</a></h2> <p>输出符合索引选择范围内的所有数据，同时不实用参数中的表达式进行过滤。</p> <p>传递给函数的表达式参数将不会被计算，但ClickHouse使用参数中的表达式进行索引过滤。</p> <p><strong>返回值</strong></p> <ul> <li>1。</li> </ul> <p><strong>示例</strong></p> <p>这是一个包含<a href=../../../getting_started/example_datasets/ontime/ >ontime</a>测试数据集的测试表。</p> <div class=codehilite><pre><span></span>SELECT count() FROM ontime

┌─count()─┐
│ 4276457 │
└─────────┘
</pre></div> <p>该表使用<code>(FlightDate, (Year, FlightDate))</code>作为索引。</p> <p>对该表进行如下的查询：</p> <div class=codehilite><pre><span></span>:) SELECT FlightDate AS k, count() FROM ontime GROUP BY k ORDER BY k

SELECT
    FlightDate AS k,
    count()
FROM ontime
GROUP BY k
ORDER BY k ASC

┌──────────k─┬─count()─┐
│ 2017-01-01 │   13970 │
│ 2017-01-02 │   15882 │
........................
│ 2017-09-28 │   16411 │
│ 2017-09-29 │   16384 │
│ 2017-09-30 │   12520 │
└────────────┴─────────┘

273 rows in set. Elapsed: 0.072 sec. Processed 4.28 million rows, 8.55 MB (59.00 million rows/s., 118.01 MB/s.)
</pre></div> <p>在这个查询中，由于没有使用索引，所以ClickHouse将处理整个表的所有数据(<code>Processed 4.28 million rows</code>)。使用下面的查询尝试使用索引进行查询：</p> <div class=codehilite><pre><span></span>:) SELECT FlightDate AS k, count() FROM ontime WHERE k = &#39;2017-09-15&#39; GROUP BY k ORDER BY k

SELECT
    FlightDate AS k,
    count()
FROM ontime
WHERE k = &#39;2017-09-15&#39;
GROUP BY k
ORDER BY k ASC

┌──────────k─┬─count()─┐
│ 2017-09-15 │   16428 │
└────────────┴─────────┘

1 rows in set. Elapsed: 0.014 sec. Processed 32.74 thousand rows, 65.49 KB (2.31 million rows/s., 4.63 MB/s.)
</pre></div> <p>在最后一行的显示中，通过索引ClickHouse处理的行数明显减少（<code>Processed 32.74 thousand rows</code>）。</p> <p>现在将表达式<code>k = '2017-09-15'</code>传递给<code>indexHint</code>函数：</p> <div class=codehilite><pre><span></span>:) SELECT FlightDate AS k, count() FROM ontime WHERE indexHint(k = &#39;2017-09-15&#39;) GROUP BY k ORDER BY k

SELECT
    FlightDate AS k,
    count()
FROM ontime
WHERE indexHint(k = &#39;2017-09-15&#39;)
GROUP BY k
ORDER BY k ASC

┌──────────k─┬─count()─┐
│ 2017-09-14 │    7071 │
│ 2017-09-15 │   16428 │
│ 2017-09-16 │    1077 │
│ 2017-09-30 │    8167 │
└────────────┴─────────┘

4 rows in set. Elapsed: 0.004 sec. Processed 32.74 thousand rows, 65.49 KB (8.97 million rows/s., 17.94 MB/s.)
</pre></div> <p>对于这个请求，根据ClickHouse显示ClickHouse与上一次相同的方式应用了索引（<code>Processed 32.74 thousand rows</code>）。但是，最终返回的结果集中并没有根据<code>k = '2017-09-15'</code>表达式进行过滤结果。</p> <p>由于ClickHouse中使用稀疏索引，因此在读取范围时（本示例中为相邻日期），“额外”的数据将包含在索引结果中。使用<code>indexHint</code>函数可以查看到它们。</p> <h2 id=replicate>replicate<a class=headerlink href=#replicate title="Permanent link">&para;</a></h2> <p>使用单个值填充一个数组。</p> <p>用于<a href=../array_join/#functions_arrayjoin>arrayJoin</a>的内部实现。</p> <div class=codehilite><pre><span></span>replicate(x, arr)
</pre></div> <p><strong>参数:</strong></p> <ul> <li><code>arr</code> — 原始数组。 ClickHouse创建一个与原始数据长度相同的新数组，并用值<code>x</code>填充它。</li> <li><code>x</code> — 生成的数组将被填充的值。</li> </ul> <p><strong>输出</strong></p> <ul> <li>一个被<code>x</code>填充的数组。</li> </ul> <p><strong>示例</strong></p> <div class=codehilite><pre><span></span>SELECT replicate(1, [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;])

┌─replicate(1, [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;])─┐
│ [1,1,1]                       │
└───────────────────────────────┘
</pre></div> <h2 id=filesystemavailable>filesystemAvailable<a class=headerlink href=#filesystemavailable title="Permanent link">&para;</a></h2> <p>返回磁盘的剩余空间信息（以字节为单位）。使用配置文件中的path配置评估此信息。</p> <h2 id=filesystemcapacity>filesystemCapacity<a class=headerlink href=#filesystemcapacity title="Permanent link">&para;</a></h2> <p>返回磁盘的容量信息，以字节为单位。使用配置文件中的path配置评估此信息。</p> <h2 id=function-finalizeaggregation>finalizeAggregation<a class=headerlink href=#function-finalizeaggregation title="Permanent link">&para;</a></h2> <p>获取聚合函数的状态。返回聚合结果（最终状态）。</p> <h2 id=function-runningaccumulate>runningAccumulate<a class=headerlink href=#function-runningaccumulate title="Permanent link">&para;</a></h2> <p>获取聚合函数的状态并返回其具体的值。这是从第一行到当前行的所有行累计的结果。</p> <p>例如，获取聚合函数的状态（示例runningAccumulate(uniqState(UserID))），对于数据块的每一行，返回所有先前行和当前行的状态合并后的聚合函数的结果。 因此，函数的结果取决于分区中数据块的顺序以及数据块中行的顺序。</p> <h2 id=joinget-join-storage-table-name-get-column-join-key>joinGet('join_storage_table_name', 'get_column', join_key)<a class=headerlink href=#joinget-join-storage-table-name-get-column-join-key title="Permanent link">&para;</a></h2> <p>使用指定的连接键从Join类型引擎的表中获取数据。</p> <h2 id=modelevaluate-model-name>modelEvaluate(model_name, ...)<a class=headerlink href=#modelevaluate-model-name title="Permanent link">&para;</a></h2> <p>使用外部模型计算。 接受模型的名称以及模型的参数。返回Float64类型的值。</p> <h2 id=throwif-x>throwIf(x)<a class=headerlink href=#throwif-x title="Permanent link">&para;</a></h2> <p>如果参数不为零则抛出异常。</p> </div> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid"> <a href=../../../query_language/functions/machine_learning_functions/ title=机器学习函数 class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i> </div> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis> <span class=md-footer-nav__direction> 后退 </span> 机器学习函数 </span> </div> </a> <a href=../../../query_language/agg_functions/ title=介绍 class="md-flex md-footer-nav__link md-footer-nav__link--next" rel=next> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis> <span class=md-footer-nav__direction> 前进 </span> 介绍 </span> </div> <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> ©2016–2020 Yandex LLC </div> </div> </div> </div> </footer> </div> <script src=../../../assets/javascripts/modernizr.js></script> <script src=../../../assets/javascripts/application.js></script> <script src=../../../assets/javascripts/lunr/lunr.stemmer.support.js></script> <script src=../../../assets/javascripts/lunr/lunr.zh.js></script> <script src=../../../assets/javascripts/lunr/lunr.multi.js></script> <script type=text/javascript>
      function ready(callback){
          if (document.readyState != 'loading') {
              callback();
          } else if (document.addEventListener) {
              document.addEventListener('DOMContentLoaded', callback);
          } else document.attachEvent('onreadystatechange', function() {
              if (document.readyState == 'complete') {
                  callback();
              }
          });
      }
      ready(function () {
          var i;
          
          app.initialize({
              version: "1.0.4",
              url: {
                  base: "../../.."
              }
          });
          var beforePrint = function() {
            var details = document.getElementsByTagName("details");
            for (i = 0; i < details.length; ++i) {
                details[i].open = 1;
            }
          };
          if (window.matchMedia) {
              window.matchMedia('print').addListener(function(q) {
                  if (q.matches) {
                      beforePrint();
                  }
              });
          }
          window.onbeforeprint = beforePrint;

          var name = window.location.hostname.split('.')[0];
          var feedback_address = name + '-feedback' + '@yandex-team.ru';
          var feedback_email = document.getElementsByClassName('feedback-email');
          for (i = 0; i < feedback_email.length; i++) {
            feedback_email[i].setAttribute('href', 'mailto:' + feedback_address);
            feedback_email[i].innerHTML = feedback_address;
          }

          document.getElementById("releases-selector").addEventListener(
            "change",
            function() {
              var target = window.location.href.split('docs')[0] + 'docs/';
              if (this.value) {
                target = target + this.value + '/';
              }
              window.location = target + 'zh';
            }
          )
      });
    </script> <script type=text/javascript src=https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js></script> <script type=text/javascript> docsearch({
apiKey: 'e239649803024433599de47a53b2d416',
indexName: 'yandex_clickhouse',
inputSelector: '#md-search__input',
algoliaOptions: {
  advancedSyntax: true,
  clickAnalytics: true,
  hitsPerPage: 25,
  'facetFilters': ["lang:zh"]
},
debug: false
});
</script> <!-- Yandex.Metrika counter --> <script type=text/javascript>
        (function (d, w, c) {
            (w[c] = w[c] || []).push(function() {
                try {
                    w.yaCounter18343495 = new Ya.Metrika2({
                        id:18343495,
                        clickmap:true,
                        trackLinks:true,
                        accurateTrackBounce:true,
                        webvisor: true
                    });
                } catch(e) { }
            });
            var n = d.getElementsByTagName("script")[0],
                s = d.createElement("script"),
                f = function () { n.parentNode.insertBefore(s, n); };
            s.type = "text/javascript";
            s.async = true;
            s.src = "https://mc.yandex.ru/metrika/tag.js";
            if (w.opera == "[object Opera]") {
                d.addEventListener("DOMContentLoaded", f, false);
            } else { f(); }
        })(document, window, "yandex_metrika_callbacks2");
    </script> <noscript> <div><img src=https://mc.yandex.ru/watch/18343495 style="position:absolute; left:-9999px;" alt></div> </noscript> <!-- /Yandex.Metrika counter --> </body> </html>